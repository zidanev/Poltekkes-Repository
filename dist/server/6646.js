"use strict";exports.id=6646,exports.ids=[6646,7231],exports.modules={6646:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ROUTES:()=>ROUTES});var authenticated_guard=__webpack_require__(98234),i18n_breadcrumb_resolver=__webpack_require__(21870),quality_assurance_breadcrumb_resolver=__webpack_require__(74245),notifications_suggestion_targets_page_resolver_service=__webpack_require__(64467),quality_assurance_events_page_component=__webpack_require__(99451),quality_assurance_events_page_resolver=__webpack_require__(54031),quality_assurance_source_data_resolver=__webpack_require__(49543),quality_assurance_source_page_component=__webpack_require__(98360),quality_assurance_source_page_resolver_service=__webpack_require__(94258),quality_assurance_topics_page_component=__webpack_require__(48661),quality_assurance_topics_page_resolver_service=__webpack_require__(26316),publication_claim_component=__webpack_require__(75492),core=__webpack_require__(68014);let AdminNotificationsPublicationClaimPageComponent=(()=>{class AdminNotificationsPublicationClaimPageComponent2{static#_=this.\u0275fac=function(t){return new(t||AdminNotificationsPublicationClaimPageComponent2)};static#_2=this.\u0275cmp=core.VBU({type:AdminNotificationsPublicationClaimPageComponent2,selectors:[["ds-admin-notifications-publication-claim-page"]],standalone:!0,features:[core.aNF],decls:1,vars:1,consts:[[3,"source"]],template:function(rf,ctx){1&rf&&core.nrm(0,"ds-publication-claim",0),2&rf&&core.Y8G("source","openaire")},dependencies:[publication_claim_component.a]})}return AdminNotificationsPublicationClaimPageComponent2})();var admin_notifications_routing_paths=__webpack_require__(9854);const ROUTES=[{canActivate:[authenticated_guard.t],path:`${admin_notifications_routing_paths.VZ}`,component:AdminNotificationsPublicationClaimPageComponent,pathMatch:"full",resolve:{breadcrumb:i18n_breadcrumb_resolver.S,suggestionTargetParams:notifications_suggestion_targets_page_resolver_service.B},data:{title:"admin.notifications.publicationclaim.page.title",breadcrumbKey:"admin.notifications.publicationclaim",showBreadcrumbsFluid:!1}},{canActivate:[authenticated_guard.t],path:`${admin_notifications_routing_paths.rn}/:sourceId`,component:quality_assurance_topics_page_component.V,pathMatch:"full",resolve:{breadcrumb:quality_assurance_breadcrumb_resolver.u,openaireQualityAssuranceTopicsParams:quality_assurance_topics_page_resolver_service.G},data:{title:"admin.quality-assurance.page.title",breadcrumbKey:"admin.quality-assurance",showBreadcrumbsFluid:!1}},{canActivate:[authenticated_guard.t],path:`${admin_notifications_routing_paths.rn}/:sourceId/target/:targetId`,component:quality_assurance_topics_page_component.V,pathMatch:"full",resolve:{breadcrumb:i18n_breadcrumb_resolver.S,openaireQualityAssuranceTopicsParams:quality_assurance_topics_page_resolver_service.G},data:{title:"admin.quality-assurance.page.title",breadcrumbKey:"admin.quality-assurance",showBreadcrumbsFluid:!1}},{canActivate:[authenticated_guard.t],path:`${admin_notifications_routing_paths.rn}`,component:quality_assurance_source_page_component.E,pathMatch:"full",resolve:{breadcrumb:i18n_breadcrumb_resolver.S,openaireQualityAssuranceSourceParams:quality_assurance_source_page_resolver_service.t,sourceData:quality_assurance_source_data_resolver.c},data:{title:"admin.notifications.source.breadcrumbs",breadcrumbKey:"admin.notifications.source",showBreadcrumbsFluid:!1}},{canActivate:[authenticated_guard.t],path:`${admin_notifications_routing_paths.rn}/:sourceId/:topicId`,component:quality_assurance_events_page_component.k,pathMatch:"full",resolve:{breadcrumb:quality_assurance_breadcrumb_resolver.u,openaireQualityAssuranceEventsParams:quality_assurance_events_page_resolver.h},data:{title:"admin.notifications.event.page.title",breadcrumbKey:"admin.notifications.event",showBreadcrumbsFluid:!1}}]},74245:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>qualityAssuranceBreadcrumbResolver});var core=__webpack_require__(68014),cjs=__webpack_require__(74785),breadcrumb_model=__webpack_require__(96622),ngx_translate_core=__webpack_require__(43750);let QualityAssuranceBreadcrumbService=(()=>{class QualityAssuranceBreadcrumbService2{constructor(translationService){this.translationService=translationService,this.QUALITY_ASSURANCE_BREADCRUMB_KEY="admin.quality-assurance.breadcrumbs"}getBreadcrumbs(key,url){const args=key.split(":"),sourceId=args[0],topicId=args.length>2?args[args.length-1]:args[1];return(0,cjs.of)(topicId?[new breadcrumb_model.Q(this.translationService.instant(this.QUALITY_ASSURANCE_BREADCRUMB_KEY),url),new breadcrumb_model.Q(sourceId,`${url}${sourceId}`),new breadcrumb_model.Q(topicId,void 0)]:[new breadcrumb_model.Q(this.translationService.instant(this.QUALITY_ASSURANCE_BREADCRUMB_KEY),url),new breadcrumb_model.Q(sourceId,`${url}${sourceId}`)])}static#_=this.\u0275fac=function(t){return new(t||QualityAssuranceBreadcrumbService2)(core.KVO(ngx_translate_core.c$))};static#_2=this.\u0275prov=core.jDH({token:QualityAssuranceBreadcrumbService2,factory:QualityAssuranceBreadcrumbService2.\u0275fac,providedIn:"root"})}return QualityAssuranceBreadcrumbService2})();const qualityAssuranceBreadcrumbResolver=(route,state,breadcrumbService=(0,core.WQX)(QualityAssuranceBreadcrumbService))=>{const sourceId=route.paramMap.get("sourceId"),topicId=route.paramMap.get("topicId");let key=sourceId;topicId&&(key+=`:${topicId}`);const fullPath=state.url;return{provider:breadcrumbService,key,url:fullPath.substring(0,fullPath.indexOf(sourceId))}}},77231:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{QualityAssuranceEventDataService:()=>QualityAssuranceEventDataService});var _angular_common_http__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(38068),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(10743),_shared_empty_util__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(77028),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10117),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86786),_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(57699),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40017),_data_base_create_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(85311),_data_base_delete_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(43626),_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(68134),_data_base_patch_data__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(75467),_data_base_search_data__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(19399),_data_default_change_analyzer_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(84237),_data_request_models__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(87457),_data_request_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(72744),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(91365),_angular_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(68014);let QualityAssuranceEventDataService=(()=>{class QualityAssuranceEventDataService2 extends _data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_5__.W{constructor(requestService,rdbService,objectCache,halService,notificationsService,comparator){super("qualityassuranceevents",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.comparator=comparator,this.createData=new _data_base_create_data__WEBPACK_IMPORTED_MODULE_3__.V(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive),this.deleteData=new _data_base_delete_data__WEBPACK_IMPORTED_MODULE_4__.I(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new _data_base_patch_data__WEBPACK_IMPORTED_MODULE_6__.n(this.linkPath,requestService,rdbService,objectCache,halService,comparator,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new _data_base_search_data__WEBPACK_IMPORTED_MODULE_7__.X(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive)}getEventsByTopic(topic,options={},...linksToFollow){return options.searchParams=[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_12__.x("topic",topic)],this.searchData.searchBy("findByTopic",options,!0,!0,...linksToFollow)}searchEventsByTopic(options={},...linksToFollow){return this.searchData.searchBy("findByTopic",options,!0,!0,...linksToFollow)}clearFindByTopicRequests(){this.requestService.setStaleByHrefSubstring("findByTopic")}getEvent(id,...linksToFollow){return this.findById(id,!0,!0,...linksToFollow)}patchEvent(status,dso,reason){return this.patchData.patch(dso,[{path:"/status",op:"replace",value:status}])}boundProject(itemId,projectId){return this.postOnRelated(itemId,projectId)}removeProject(itemId){return this.deleteOnRelated(itemId)}deleteOnRelated(objectId){const requestId=this.requestService.generateRequestId();return this.getIDHrefObs(objectId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.I6)(href=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_14__.a4)(href))).subscribe(href=>{const request=new _data_request_models__WEBPACK_IMPORTED_MODULE_9__.Dk(requestId,href+"/related",objectId);(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_14__.a4)(this.responseMsToLive)&&(request.responseMsToLive=this.responseMsToLive),this.requestService.send(request)}),this.rdbService.buildFromRequestUUID(requestId)}postOnRelated(objectId,relatedItemId,body){const requestId=this.requestService.generateRequestId();return this.getIDHrefObs(objectId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.s)(1)).subscribe(href=>{const request=new _data_request_models__WEBPACK_IMPORTED_MODULE_9__.Qf(requestId,href+"/related?item="+relatedItemId,body);(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_14__.a4)(this.responseMsToLive)&&(request.responseMsToLive=this.responseMsToLive),this.requestService.send(request)}),this.rdbService.buildFromRequestUUID(requestId)}postData(target,correctionType,related,reason){const requestId=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.nx)(href=>{const options=Object.create({});let headers=new _angular_common_http__WEBPACK_IMPORTED_MODULE_15__.Lr;headers=headers.append("Content-Type","application/json"),options.headers=headers;let params=new _angular_common_http__WEBPACK_IMPORTED_MODULE_15__.Nl;params=params.append("target",target).append("correctionType",correctionType),options.params=params;const request=new _data_request_models__WEBPACK_IMPORTED_MODULE_9__.Qf(requestId,href,{reason},options);return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_14__.a4)(this.responseMsToLive)&&(request.responseMsToLive=this.responseMsToLive),this.requestService.send(request),this.rdbService.buildFromRequestUUID(requestId)}))}deleteQAEvent(qaEvent){return this.deleteData.delete(qaEvent.id)}static#_=this.\u0275fac=function(t){return new(t||QualityAssuranceEventDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_data_request_service__WEBPACK_IMPORTED_MODULE_10__.B),_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_11__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_data_default_change_analyzer_service__WEBPACK_IMPORTED_MODULE_8__.Y))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_16__.jDH({token:QualityAssuranceEventDataService2,factory:QualityAssuranceEventDataService2.\u0275fac,providedIn:"root"})}return QualityAssuranceEventDataService2})()},28908:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>NotificationsStateService});var ngrx_store=__webpack_require__(5136),operators=__webpack_require__(10743),quality_assurance_source_actions=__webpack_require__(62309),quality_assurance_topics_actions=__webpack_require__(51591),empty_util=__webpack_require__(77028);function subStateSelector(parentSelector,subState){return(0,ngrx_store.Mz)(parentSelector,state=>{if((0,empty_util.a4)(state)&&(0,empty_util.a4)(state[subState]))return state[subState]})}var notifications_reducer=__webpack_require__(7001);const _getNotificationsState=(0,ngrx_store.UX)("suggestionNotifications");const isQualityAssuranceTopicsLoadedSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaTopic.loaded),isQualityAssuranceTopicsProcessingSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaTopic.processing),getQualityAssuranceTopicsTotalPagesSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaTopic.totalPages),getQualityAssuranceTopicsCurrentPageSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaTopic.currentPage),getQualityAssuranceTopicsTotalsSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaTopic.totalElements);const isQualityAssuranceSourceLoadedSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaSource.loaded),isQualityAssuranceSourceProcessingSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaSource.processing),getQualityAssuranceSourceTotalPagesSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaSource.totalPages),getQualityAssuranceSourceCurrentPageSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaSource.currentPage),getQualityAssuranceSourceTotalsSelector=(0,ngrx_store.Mz)(_getNotificationsState,state=>state.qaSource.totalElements);var core=__webpack_require__(68014);let NotificationsStateService=(()=>{class NotificationsStateService2{constructor(store){this.store=store}getQualityAssuranceTopics(){return this.store.pipe((0,ngrx_store.Lt)(function qualityAssuranceTopicsObjectSelector(){return subStateSelector(function qualityAssuranceTopicsStateSelector(){return subStateSelector(notifications_reducer.I,"qaTopic")}(),"topics")}()))}isQualityAssuranceTopicsLoading(){return this.store.pipe((0,ngrx_store.Lt)(isQualityAssuranceTopicsLoadedSelector),(0,operators.Tj)(loaded=>!loaded))}isQualityAssuranceTopicsLoaded(){return this.store.pipe((0,ngrx_store.Lt)(isQualityAssuranceTopicsLoadedSelector))}isQualityAssuranceTopicsProcessing(){return this.store.pipe((0,ngrx_store.Lt)(isQualityAssuranceTopicsProcessingSelector))}getQualityAssuranceTopicsTotalPages(){return this.store.pipe((0,ngrx_store.Lt)(getQualityAssuranceTopicsTotalPagesSelector))}getQualityAssuranceTopicsCurrentPage(){return this.store.pipe((0,ngrx_store.Lt)(getQualityAssuranceTopicsCurrentPageSelector))}getQualityAssuranceTopicsTotals(){return this.store.pipe((0,ngrx_store.Lt)(getQualityAssuranceTopicsTotalsSelector))}dispatchRetrieveQualityAssuranceTopics(elementsPerPage,currentPage,sourceId,targteId){this.store.dispatch(new quality_assurance_topics_actions._v(elementsPerPage,currentPage,sourceId,targteId))}getQualityAssuranceSource(){return this.store.pipe((0,ngrx_store.Lt)(function qualityAssuranceSourceObjectSelector(){return subStateSelector(function qualityAssuranceSourceStateSelector(){return subStateSelector(notifications_reducer.I,"qaSource")}(),"source")}()))}isQualityAssuranceSourceLoading(){return this.store.pipe((0,ngrx_store.Lt)(isQualityAssuranceSourceLoadedSelector),(0,operators.Tj)(loaded=>!loaded))}isQualityAssuranceSourceLoaded(){return this.store.pipe((0,ngrx_store.Lt)(isQualityAssuranceSourceLoadedSelector))}isQualityAssuranceSourceProcessing(){return this.store.pipe((0,ngrx_store.Lt)(isQualityAssuranceSourceProcessingSelector))}getQualityAssuranceSourceTotalPages(){return this.store.pipe((0,ngrx_store.Lt)(getQualityAssuranceSourceTotalPagesSelector))}getQualityAssuranceSourceCurrentPage(){return this.store.pipe((0,ngrx_store.Lt)(getQualityAssuranceSourceCurrentPageSelector))}getQualityAssuranceSourceTotals(){return this.store.pipe((0,ngrx_store.Lt)(getQualityAssuranceSourceTotalsSelector))}dispatchRetrieveQualityAssuranceSource(elementsPerPage,currentPage){this.store.dispatch(new quality_assurance_source_actions.lZ(elementsPerPage,currentPage))}static#_=this.\u0275fac=function(t){return new(t||NotificationsStateService2)(core.KVO(ngrx_store.il))};static#_2=this.\u0275prov=core.jDH({token:NotificationsStateService2,factory:NotificationsStateService2.\u0275fac,providedIn:"root"})}return NotificationsStateService2})()},75492:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>PublicationClaimComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(84739),_angular_router__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(64247),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(43750),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10743),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39304),_shared_empty_util__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(77028),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(32943),_shared_pagination_pagination_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(91904),_shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(64694),_suggestions_page_suggestions_page_routing_paths__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(22290),_suggestions_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(82980),_suggestion_targets_state_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(38763),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(68014);const _c0=a0=>["/entities/person/",a0],_c1=a0=>({total:a0});function PublicationClaimComponent_ds_loading_6_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.nrm(0,"ds-loading",6),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_5__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(1,1,"suggestion.loading"))}function PublicationClaimComponent_ds_pagination_8_ds_loading_2_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_5__.nrm(0,"ds-loading",10)}function PublicationClaimComponent_ds_pagination_8_ng_container_4_div_1_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(0,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_5__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(2,1,"suggestion.noTargets")," "))}function PublicationClaimComponent_ds_pagination_8_ng_container_4_div_3_tr_11_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_5__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(0,"tr",16)(1,"td")(2,"a",19),_angular_core__WEBPACK_IMPORTED_MODULE_5__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(4,"td")(5,"div",20)(6,"button",21),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(7,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.bIt("click",function(){const targetElement_r4=_angular_core__WEBPACK_IMPORTED_MODULE_5__.eBV(_r3).$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.XpG(4);return _angular_core__WEBPACK_IMPORTED_MODULE_5__.Njj(ctx_r1.redirectToSuggestions(targetElement_r4.id))}),_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(8,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.EFF(9),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nrm(11,"i",22),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s()()()()}if(2&rf){const targetElement_r4=ctx.$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.XpG(4);_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("routerLink",_angular_core__WEBPACK_IMPORTED_MODULE_5__.eq3(10,_c0,ctx_r1.getTargetUuid(targetElement_r4))),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.JRh(targetElement_r4.display),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.FS9("title",_angular_core__WEBPACK_IMPORTED_MODULE_5__.i5U(7,4,"suggestion.button.review.title",_angular_core__WEBPACK_IMPORTED_MODULE_5__.eq3(12,_c1,targetElement_r4.total.toString()))+targetElement_r4.display),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.SpI("",_angular_core__WEBPACK_IMPORTED_MODULE_5__.i5U(10,7,"suggestion.button.review",_angular_core__WEBPACK_IMPORTED_MODULE_5__.eq3(14,_c1,targetElement_r4.total.toString()))," ")}}function PublicationClaimComponent_ds_pagination_8_ng_container_4_div_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(0,"div",14)(1,"table",15)(2,"thead")(3,"tr",16)(4,"th",17),_angular_core__WEBPACK_IMPORTED_MODULE_5__.EFF(5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(7,"th",17),_angular_core__WEBPACK_IMPORTED_MODULE_5__.EFF(8),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s()()(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(10,"tbody"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.DNE(11,PublicationClaimComponent_ds_pagination_8_ng_container_4_div_3_tr_11_Template,12,16,"tr",18),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(12,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s()()()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(6,3,"suggestion.table.name")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(9,5,"suggestion.table.actions")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(12,7,ctx_r1.targets$))}}function PublicationClaimComponent_ds_pagination_8_ng_container_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.qex(0),_angular_core__WEBPACK_IMPORTED_MODULE_5__.DNE(1,PublicationClaimComponent_ds_pagination_8_ng_container_4_div_1_Template,3,3,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.DNE(3,PublicationClaimComponent_ds_pagination_8_ng_container_4_div_3_Template,13,9,"div",12),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.bVm()),2&rf){let tmp_2_0,tmp_3_0;const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("ngIf",0===(null==(tmp_2_0=_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(2,2,ctx_r1.targets$))?null:tmp_2_0.length)),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("ngIf",0!==(null==(tmp_3_0=_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(4,4,ctx_r1.targets$))?null:tmp_3_0.length))}}function PublicationClaimComponent_ds_pagination_8_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(0,"ds-pagination",7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.bIt("paginationChange",function(){_angular_core__WEBPACK_IMPORTED_MODULE_5__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_5__.Njj(ctx_r1.getSuggestionTargets())}),_angular_core__WEBPACK_IMPORTED_MODULE_5__.DNE(2,PublicationClaimComponent_ds_pagination_8_ds_loading_2_Template,1,0,"ds-loading",8),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.DNE(4,PublicationClaimComponent_ds_pagination_8_ng_container_4_Template,5,6,"ng-container",9),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("paginationOptions",ctx_r1.paginationConfig)("collectionSize",_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(1,6,ctx_r1.totalElements$))("hideGear",!1)("retainScrollPosition",!1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(3,8,ctx_r1.isTargetsProcessing())),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("ngIf",!0!==_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(5,10,ctx_r1.isTargetsProcessing()))}}let PublicationClaimComponent=(()=>{class PublicationClaimComponent2{constructor(paginationService,suggestionTargetsStateService,suggestionService,router){this.paginationService=paginationService,this.suggestionTargetsStateService=suggestionTargetsStateService,this.suggestionService=suggestionService,this.router=router,this.source="",this.paginationConfig=Object.assign(new _shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_6__.W,{id:"stp_"+this.source,pageSizeOptions:[5,10,20,40,60]}),this.subs=[]}ngOnInit(){this.targets$=this.suggestionTargetsStateService.getSuggestionTargets(this.source),this.totalElements$=this.suggestionTargetsStateService.getSuggestionTargetsTotals(this.source)}ngAfterViewInit(){this.subs.push(this.suggestionTargetsStateService.isSuggestionTargetsLoaded(this.source).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.s)(1)).subscribe(()=>{this.getSuggestionTargets()}))}isTargetsLoading(){return this.suggestionTargetsStateService.isSuggestionTargetsLoading(this.source)}isTargetsProcessing(){return this.suggestionTargetsStateService.isSuggestionTargetsProcessing(this.source)}redirectToSuggestions(id){this.router.navigate([(0,_suggestions_page_suggestions_page_routing_paths__WEBPACK_IMPORTED_MODULE_8__.jV)(id)])}ngOnDestroy(){this.suggestionTargetsStateService.dispatchClearSuggestionTargetsAction(this.source),this.subs.filter(sub=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_9__.a4)(sub)).forEach(sub=>sub.unsubscribe())}getSuggestionTargets(){this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.F)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.s)(1)).subscribe(options=>{this.suggestionTargetsStateService.dispatchRetrieveSuggestionTargets(this.source,options.pageSize,options.currentPage)})}getTargetUuid(target){return this.suggestionService.getTargetUuid(target)}static#_=this.\u0275fac=function(t){return new(t||PublicationClaimComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_0__.m),_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_suggestion_targets_state_service__WEBPACK_IMPORTED_MODULE_4__.x),_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_suggestions_service__WEBPACK_IMPORTED_MODULE_3__.F),_angular_core__WEBPACK_IMPORTED_MODULE_5__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_10__.Ix))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_5__.VBU({type:PublicationClaimComponent2,selectors:[["ds-publication-claim"]],inputs:{source:"source"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_5__.aNF],decls:10,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-12"],["id","header",1,"border-bottom","pb-2"],["class","container",3,"message",4,"ngIf"],[3,"paginationOptions","collectionSize","hideGear","retainScrollPosition","paginationChange",4,"ngIf"],[1,"container",3,"message"],[3,"paginationChange","paginationOptions","collectionSize","hideGear","retainScrollPosition"],["class","container","message","'suggestion.loading' | translate",4,"ngIf"],[4,"ngIf"],["message","'suggestion.loading' | translate",1,"container"],["class","alert alert-info w-100 mb-2 mt-2","role","alert",4,"ngIf"],["class","table-responsive mt-2",4,"ngIf"],["role","alert",1,"alert","alert-info","w-100","mb-2","mt-2"],[1,"table-responsive","mt-2"],["id","epeople",1,"table","table-striped","table-hover","table-bordered"],[1,"text-center"],["scope","col"],["class","text-center",4,"ngFor","ngForOf"],["target","_blank",3,"routerLink"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-primary","btn-sm",3,"click","title"],[1,"fas","fa-lightbulb"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.EFF(4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.DNE(6,PublicationClaimComponent_ds_loading_6_Template,2,3,"ds-loading",4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.DNE(8,PublicationClaimComponent_ds_pagination_8_Template,6,12,"ds-pagination",5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.nI1(9,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.k0s()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(5,3,"suggestion.title")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(7,5,ctx.isTargetsLoading())),_angular_core__WEBPACK_IMPORTED_MODULE_5__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y8G("ngIf",!0!==_angular_core__WEBPACK_IMPORTED_MODULE_5__.bMT(9,7,ctx.isTargetsLoading())))},dependencies:[_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_1__.v,_angular_common__WEBPACK_IMPORTED_MODULE_11__.Jj,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.D9,_shared_pagination_pagination_component__WEBPACK_IMPORTED_MODULE_2__.e,_angular_common__WEBPACK_IMPORTED_MODULE_11__.bT,_angular_common__WEBPACK_IMPORTED_MODULE_11__.pM,_angular_router__WEBPACK_IMPORTED_MODULE_10__.Wk]})}return PublicationClaimComponent2})()},64467:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>AdminNotificationsPublicationClaimPageResolver});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(68014);let AdminNotificationsPublicationClaimPageResolver=(()=>{class AdminNotificationsPublicationClaimPageResolver2{resolve(route,state){return{pageId:route.queryParams.pageId,pageSize:parseInt(route.queryParams.pageSize,10),currentPage:parseInt(route.queryParams.page,10)}}static#_=this.\u0275fac=function(t){return new(t||AdminNotificationsPublicationClaimPageResolver2)};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:AdminNotificationsPublicationClaimPageResolver2,factory:AdminNotificationsPublicationClaimPageResolver2.\u0275fac,providedIn:"root"})}return AdminNotificationsPublicationClaimPageResolver2})()},99451:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>QualityAssuranceEventsPageComponent});var common=__webpack_require__(84739),router=__webpack_require__(64247),ng_bootstrap=__webpack_require__(71781),ngx_translate_core=__webpack_require__(43750),cjs=__webpack_require__(74785),operators=__webpack_require__(10743),environment=__webpack_require__(72035),sort_options_model=__webpack_require__(80685),authorization_data_service=__webpack_require__(30289),feature_id=__webpack_require__(29321),find_list_options_model=__webpack_require__(97570),item_data_service=__webpack_require__(94743),quality_assurance_event_data_service=__webpack_require__(77231),pagination_service=__webpack_require__(39304),metadata_utils=__webpack_require__(10339),shared_operators=__webpack_require__(82656),item_page_routing_paths=__webpack_require__(63254),alert_component=__webpack_require__(14467),empty_util=__webpack_require__(77028),themed_loading_component=__webpack_require__(32943),notifications_service=__webpack_require__(10117),pagination_component=__webpack_require__(91904),pagination_component_options_model=__webpack_require__(64694),follow_link_config_model=__webpack_require__(32181),core=__webpack_require__(68014),fesm2022_forms=__webpack_require__(28955),context_model=__webpack_require__(34069),search_service=__webpack_require__(3435),collection_element_link_type=__webpack_require__(61064),selectable_list_service=__webpack_require__(1050),paginated_search_options_model=__webpack_require__(80780),themed_search_results_component=__webpack_require__(3248);const _c0=a0=>({repeatable:!1,listId:a0});function ProjectEntryImportModalComponent_div_15_Template(rf,ctx){if(1&rf&&(core.j41(0,"div")(1,"small"),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.j41(4,"div",5)(5,"div",6)(6,"a",7),core.EFF(7),core.k0s()()()()),2&rf){const ctx_r0=core.XpG();core.R7$(2),core.JRh(core.bMT(3,3,ctx_r0.labelPrefix+ctx_r0.label+".bountToLocal")),core.R7$(4),core.Y8G("routerLink","/items/{{externalSourceEntry.projectId}}"),core.R7$(),core.SpI(" ",ctx_r0.externalSourceEntry.projectTitle," ")}}function ProjectEntryImportModalComponent_ds_loading_30_Template(rf,ctx){1&rf&&(core.nrm(0,"ds-loading",19),core.nI1(1,"translate")),2&rf&&core.FS9("message",core.bMT(1,1,"loading.search-results"))}function ProjectEntryImportModalComponent_ds_search_results_32_Template(rf,ctx){if(1&rf){const _r2=core.RV6();core.j41(0,"ds-search-results",20),core.nI1(1,"async"),core.bIt("deselectObject",function(){core.eBV(_r2);const ctx_r0=core.XpG();return core.Njj(ctx_r0.deselectEntity())})("selectObject",function($event){core.eBV(_r2);const ctx_r0=core.XpG();return core.Njj(ctx_r0.selectEntity($event))}),core.k0s()}if(2&rf){const ctx_r0=core.XpG();core.Y8G("searchResults",core.bMT(1,10,ctx_r0.localEntitiesRD$))("sortConfig",null==ctx_r0.searchOptions?null:ctx_r0.searchOptions.sort)("searchConfig",ctx_r0.searchOptions)("selectable",!0)("disableHeader",!0)("hidePaginationDetail",!1)("selectionConfig",core.eq3(12,_c0,ctx_r0.entityListId))("showCsvExport",!1)("linkType",ctx_r0.linkTypes.ExternalLink)("context",ctx_r0.context)}}function ProjectEntryImportModalComponent_div_35_Template(rf,ctx){if(1&rf&&(core.j41(0,"div")(1,"ds-alert",21)(2,"p",22),core.EFF(3),core.nI1(4,"translate"),core.k0s()()()),2&rf){const ctx_r0=core.XpG();core.R7$(),core.Y8G("type","alert-info"),core.R7$(2),core.JRh(core.bMT(4,2,ctx_r0.labelPrefix+ctx_r0.label+".notFound"))}}var ImportType=function(ImportType2){return ImportType2.None="None",ImportType2.LocalEntity="LocalEntity",ImportType2.LocalAuthority="LocalAuthority",ImportType2.NewEntity="NewEntity",ImportType2.NewAuthority="NewAuthority",ImportType2}(ImportType||{});let ProjectEntryImportModalComponent=(()=>{class ProjectEntryImportModalComponent2{constructor(modal,searchService,selectService){this.modal=modal,this.searchService=searchService,this.selectService=selectService,this.pageSize=3,this.labelPrefix="quality-assurance.event.modal.",this.configuration="funding",this.isLoading$=(0,cjs.of)(!0),this.context=context_model.o.EntitySearchModalWithNameVariants,this.entityListId="notifications-project-bound",this.authorityListId="notifications-project-bound-authority",this.importType=ImportType,this.linkTypes=collection_element_link_type.n,this.selectedImportType=ImportType.None,this.importedObject=new core.bkB,this.subs=[]}ngOnInit(){this.pagination=Object.assign(new pagination_component_options_model.W,{id:"notifications-project-bound",pageSize:this.pageSize}),this.projectTitle=null!==this.externalSourceEntry.projectTitle?this.externalSourceEntry.projectTitle:this.externalSourceEntry.event.message.title,this.searchOptions=Object.assign(new paginated_search_options_model.C({configuration:this.configuration,query:this.projectTitle,pagination:this.pagination})),this.localEntitiesRD$=this.searchService.search(this.searchOptions),this.subs.push(this.localEntitiesRD$.subscribe(()=>this.isLoading$=(0,cjs.of)(!1)))}close(){this.deselectAllLists(),this.modal.close()}search(searchTitle){if((0,empty_util.hj)(searchTitle)){const filterRegEx=/[:]/g;this.isLoading$=(0,cjs.of)(!0),this.searchOptions=Object.assign(new paginated_search_options_model.C({configuration:this.configuration,query:searchTitle&&searchTitle.replace(filterRegEx,""),pagination:this.pagination})),this.localEntitiesRD$=this.searchService.search(this.searchOptions),this.subs.push(this.localEntitiesRD$.subscribe(()=>this.isLoading$=(0,cjs.of)(!1)))}}bound(){void 0!==this.selectedEntity&&this.importedObject.emit(this.selectedEntity),this.selectedImportType=ImportType.None,this.deselectAllLists(),this.close()}deselectEntity(){this.selectedEntity=void 0,this.selectedImportType===ImportType.LocalEntity&&(this.selectedImportType=ImportType.None)}selectEntity(entity){this.selectedEntity=entity,this.selectedImportType=ImportType.LocalEntity}deselectAllLists(){this.selectService.deselectAll(this.entityListId),this.selectService.deselectAll(this.authorityListId)}ngOnDestroy(){this.deselectAllLists(),this.subs.filter(sub=>(0,empty_util.a4)(sub)).forEach(sub=>sub.unsubscribe())}static#_=this.\u0275fac=function(t){return new(t||ProjectEntryImportModalComponent2)(core.rXU(ng_bootstrap.Lw),core.rXU(search_service.S),core.rXU(selectable_list_service.K))};static#_2=this.\u0275cmp=core.VBU({type:ProjectEntryImportModalComponent2,selectors:[["ds-project-entry-import-modal"]],inputs:{externalSourceEntry:"externalSourceEntry"},standalone:!0,features:[core.aNF],decls:47,vars:44,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mb-3"],[1,"text-truncate"],["target","_blank",3,"routerLink"],[4,"ngIf"],["id","project-entities",1,"mb-3"],["id","project-search",1,"input-group","mb-3"],["type","text","aria-label","","aria-describedby","",1,"form-control",3,"keyup.enter","ngModelChange","ngModel","placeholder"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[3,"message",4,"ngIf"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","showCsvExport","linkType","context","deselectObject","selectObject",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[3,"message"],[3,"deselectObject","selectObject","searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","showCsvExport","linkType","context"],[3,"type"],[1,"lead","mb-0"]],template:function(rf,ctx){if(1&rf&&(core.j41(0,"div",0)(1,"h4",1),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.j41(4,"button",2),core.bIt("click",function(){return ctx.close()}),core.j41(5,"span",3),core.EFF(6,"\xd7"),core.k0s()()(),core.j41(7,"div",4)(8,"small"),core.EFF(9),core.nI1(10,"translate"),core.k0s(),core.j41(11,"div",5)(12,"div",6)(13,"a",7),core.EFF(14),core.k0s()()(),core.DNE(15,ProjectEntryImportModalComponent_div_15_Template,8,5,"div",8),core.j41(16,"h4"),core.EFF(17),core.nI1(18,"translate"),core.k0s(),core.j41(19,"div",9)(20,"div",10)(21,"input",11),core.nI1(22,"translate"),core.bIt("keyup.enter",function(){return ctx.search(ctx.projectTitle)}),core.mxI("ngModelChange",function($event){return core.DH7(ctx.projectTitle,$event)||(ctx.projectTitle=$event),$event}),core.k0s(),core.j41(23,"div",12)(24,"button",13),core.bIt("click",function(){return ctx.projectTitle=""}),core.EFF(25),core.nI1(26,"translate"),core.k0s(),core.j41(27,"button",14),core.bIt("click",function(){return ctx.search(ctx.projectTitle)}),core.EFF(28),core.nI1(29,"translate"),core.k0s()()(),core.DNE(30,ProjectEntryImportModalComponent_ds_loading_30_Template,2,3,"ds-loading",15),core.nI1(31,"async"),core.DNE(32,ProjectEntryImportModalComponent_ds_search_results_32_Template,2,14,"ds-search-results",16),core.nI1(33,"async"),core.nI1(34,"async"),core.DNE(35,ProjectEntryImportModalComponent_div_35_Template,5,4,"div",8),core.nI1(36,"async"),core.nI1(37,"async"),core.k0s()(),core.j41(38,"div",17)(39,"div")(40,"button",18),core.bIt("click",function(){return ctx.close()}),core.EFF(41),core.nI1(42,"translate"),core.k0s()(),core.j41(43,"div")(44,"button",14),core.bIt("click",function(){return ctx.bound()}),core.EFF(45),core.nI1(46,"translate"),core.k0s()()()),2&rf){let tmp_13_0,tmp_14_0;core.R7$(2),core.JRh(core.bMT(3,18,ctx.labelPrefix+ctx.label+".title")),core.R7$(7),core.JRh(core.bMT(10,20,ctx.labelPrefix+ctx.label+".publication")),core.R7$(4),core.Y8G("routerLink","/items/{{(externalSourceEntry.event.target|async)?.payload?.id}}"),core.R7$(),core.SpI(" ",ctx.externalSourceEntry.title," "),core.R7$(),core.Y8G("ngIf",ctx.externalSourceEntry.projectTitle),core.R7$(2),core.JRh(core.bMT(18,22,ctx.labelPrefix+ctx.label+".select")),core.R7$(4),core.FS9("placeholder",core.bMT(22,24,ctx.labelPrefix+ctx.label+".placeholder")),core.R50("ngModel",ctx.projectTitle),core.R7$(3),core.Y8G("disabled",""===ctx.projectTitle),core.R7$(),core.JRh(core.bMT(26,26,ctx.labelPrefix+ctx.label+".clear")),core.R7$(2),core.Y8G("disabled",""===ctx.projectTitle),core.R7$(),core.JRh(core.bMT(29,28,ctx.labelPrefix+ctx.label+".search")),core.R7$(2),core.Y8G("ngIf",core.bMT(31,30,ctx.isLoading$)),core.R7$(2),core.Y8G("ngIf",(null==(tmp_13_0=core.bMT(33,32,ctx.localEntitiesRD$))||null==tmp_13_0.payload||null==tmp_13_0.payload.page?null:tmp_13_0.payload.page.length)>0&&!0!==core.bMT(34,34,ctx.isLoading$)),core.R7$(3),core.Y8G("ngIf",(null==(tmp_14_0=core.bMT(36,36,ctx.localEntitiesRD$))||null==tmp_14_0.payload||null==tmp_14_0.payload.page?null:tmp_14_0.payload.page.length)<1&&!0!==core.bMT(37,38,ctx.isLoading$)),core.R7$(6),core.JRh(core.bMT(42,40,ctx.labelPrefix+ctx.label+".cancel")),core.R7$(3),core.Y8G("disabled",ctx.selectedImportType===ctx.importType.None),core.R7$(),core.JRh(core.bMT(46,42,ctx.labelPrefix+ctx.label+".bound"))}},dependencies:[router.Wk,common.bT,fesm2022_forms.YN,fesm2022_forms.me,fesm2022_forms.BC,fesm2022_forms.vS,themed_loading_component.v,themed_search_results_component.N,alert_component.C,common.Jj,ngx_translate_core.h,ngx_translate_core.D9],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}"]})}return ProjectEntryImportModalComponent2})();var eperson_data_service=__webpack_require__(62120);function EPersonDataComponent_ng_container_0_ng_container_1_ng_container_1_span_1_Template(rf,ctx){if(1&rf&&(core.j41(0,"span"),core.EFF(1),core.k0s()),2&rf){const property_r1=core.XpG().$implicit,ePersonData_r2=core.XpG().ngIf;core.R7$(),core.SpI(" ",ePersonData_r2[property_r1]," ")}}function EPersonDataComponent_ng_container_0_ng_container_1_ng_container_1_Template(rf,ctx){if(1&rf&&(core.qex(0),core.DNE(1,EPersonDataComponent_ng_container_0_ng_container_1_ng_container_1_span_1_Template,2,1,"span",0),core.nrm(2,"br"),core.bVm()),2&rf){const property_r1=ctx.$implicit,ePersonData_r2=core.XpG().ngIf;core.R7$(),core.Y8G("ngIf",ePersonData_r2[property_r1])}}function EPersonDataComponent_ng_container_0_ng_container_1_Template(rf,ctx){if(1&rf&&(core.qex(0),core.DNE(1,EPersonDataComponent_ng_container_0_ng_container_1_ng_container_1_Template,3,1,"ng-container",1),core.bVm()),2&rf){const ctx_r2=core.XpG(2);core.R7$(),core.Y8G("ngForOf",ctx_r2.properties)}}function EPersonDataComponent_ng_container_0_Template(rf,ctx){if(1&rf&&(core.qex(0),core.DNE(1,EPersonDataComponent_ng_container_0_ng_container_1_Template,2,1,"ng-container",0),core.nI1(2,"async"),core.bVm()),2&rf){const ctx_r2=core.XpG();core.R7$(),core.Y8G("ngIf",core.bMT(2,1,ctx_r2.getEPersonData$()))}}let EPersonDataComponent=(()=>{class EPersonDataComponent2{constructor(ePersonDataService){this.ePersonDataService=ePersonDataService}getEPersonData$(){if(this.ePersonId)return this.ePersonDataService.findById(this.ePersonId,!0).pipe((0,shared_operators.qD)(),(0,shared_operators.Bo)())}static#_=this.\u0275fac=function(t){return new(t||EPersonDataComponent2)(core.rXU(eperson_data_service.EPersonDataService))};static#_2=this.\u0275cmp=core.VBU({type:EPersonDataComponent2,selectors:[["ds-eperson-data"]],inputs:{ePersonId:"ePersonId",properties:"properties"},standalone:!0,features:[core.aNF],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(rf,ctx){1&rf&&core.DNE(0,EPersonDataComponent_ng_container_0_Template,3,3,"ng-container",0),2&rf&&core.Y8G("ngIf",ctx.ePersonId)},dependencies:[common.bT,common.pM,common.Jj]})}return EPersonDataComponent2})();const quality_assurance_events_component_c0=(a0,a1)=>({topic:a0,source:a1}),_c1=a0=>["/items",a0],_c2=()=>["email"];function QualityAssuranceEventsComponent_ds_alert_7_Template(rf,ctx){if(1&rf&&(core.j41(0,"ds-alert",13),core.nrm(1,"span",14),core.nI1(2,"translate"),core.k0s()),2&rf){const ctx_r0=core.XpG();core.Y8G("type","alert-info"),core.R7$(),core.Y8G("innerHTML",core.i5U(2,2,"quality-assurance.events.description",core.l_i(5,quality_assurance_events_component_c0,ctx_r0.selectedTopicName,ctx_r0.sourceId)),core.npT)}}function QualityAssuranceEventsComponent_ds_alert_8_Template(rf,ctx){if(1&rf&&(core.j41(0,"ds-alert",13),core.nrm(1,"span",14),core.nI1(2,"translate"),core.j41(3,"a",15),core.EFF(4),core.nI1(5,"async"),core.k0s()()),2&rf){const ctx_r0=core.XpG();core.Y8G("type","alert-info"),core.R7$(),core.Y8G("innerHTML",core.i5U(2,4,"quality-assurance.events.description-with-topic-and-target",core.l_i(9,quality_assurance_events_component_c0,ctx_r0.selectedTopicName,ctx_r0.sourceId)),core.npT),core.R7$(2),core.Y8G("routerLink",ctx_r0.itemPageUrl),core.R7$(),core.JRh(core.bMT(5,7,ctx_r0.getTargetItemTitle()))}}function QualityAssuranceEventsComponent_ds_loading_14_Template(rf,ctx){1&rf&&(core.nrm(0,"ds-loading",16),core.nI1(1,"translate")),2&rf&&core.FS9("message",core.bMT(1,1,"quality-assurance.loading"))}function QualityAssuranceEventsComponent_ds_pagination_16_div_3_Template(rf,ctx){1&rf&&(core.j41(0,"div",20),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"quality-assurance.noEvents")," "))}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_th_10_Template(rf,ctx){1&rf&&(core.j41(0,"th",29),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"quality-assurance.event.table.project-details")," "))}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_ng_container_11_Template(rf,ctx){1&rf&&(core.qex(0),core.j41(1,"th",29),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.j41(4,"th",29),core.EFF(5),core.nI1(6,"translate"),core.k0s(),core.bVm()),2&rf&&(core.R7$(2),core.SpI(" ",core.bMT(3,2,"quality-assurance.event.table.reasons")," "),core.R7$(3),core.SpI(" ",core.bMT(6,4,"quality-assurance.event.table.person-who-requested")," "))}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_a_4_Template(rf,ctx){if(1&rf&&(core.j41(0,"a",33),core.EFF(1),core.k0s()),2&rf){const eventElement_r3=core.XpG().$implicit;core.Y8G("routerLink",core.eq3(2,_c1,null==eventElement_r3||null==eventElement_r3.target?null:eventElement_r3.target.id)),core.R7$(),core.JRh(eventElement_r3.title)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_span_5_Template(rf,ctx){if(1&rf&&(core.j41(0,"span"),core.EFF(1),core.k0s()),2&rf){const eventElement_r3=core.XpG().$implicit;core.R7$(),core.JRh(eventElement_r3.title)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_6_Template(rf,ctx){if(1&rf&&(core.j41(0,"div")(1,"span",34),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.j41(4,"span",35)(5,"a",36),core.EFF(6),core.k0s()()()),2&rf){const eventElement_r3=core.XpG().$implicit;core.R7$(2),core.JRh(core.bMT(3,4,"quality-assurance.event.table.event.message.serviceUrl")),core.R7$(2),core.Y8G("title",eventElement_r3.event.message.serviceId),core.R7$(),core.Y8G("href",eventElement_r3.event.message.serviceId,core.B4B),core.R7$(),core.JRh(eventElement_r3.event.message.serviceId)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_7_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",37)(1,"span",34),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.j41(4,"span",38)(5,"a",36),core.EFF(6),core.k0s()()()),2&rf){const eventElement_r3=core.XpG().$implicit;core.R7$(2),core.JRh(core.bMT(3,4,"quality-assurance.event.table.event.message.link")),core.R7$(2),core.Y8G("title",eventElement_r3.event.message.href),core.R7$(),core.Y8G("href",eventElement_r3.event.message.href,core.B4B),core.R7$(),core.JRh(eventElement_r3.event.message.href)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_8_a_13_Template(rf,ctx){if(1&rf&&(core.j41(0,"a",42),core.EFF(1),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit,ctx_r0=core.XpG(3);core.FS9("href",ctx_r0.getPIDHref(eventElement_r3.event.message),core.B4B),core.R7$(),core.SpI(" ",eventElement_r3.event.message.value," ")}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_8_ng_template_14_Template(rf,ctx){if(1&rf&&(core.j41(0,"span",40),core.EFF(1),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(),core.JRh(eventElement_r3.event.message.value)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_8_Template(rf,ctx){if(1&rf&&(core.j41(0,"td")(1,"p")(2,"span",39),core.EFF(3),core.nI1(4,"translate"),core.k0s(),core.EFF(5,"\xa0"),core.j41(6,"span",40),core.EFF(7),core.k0s()(),core.j41(8,"p")(9,"span",39),core.EFF(10),core.nI1(11,"translate"),core.k0s(),core.nrm(12,"br"),core.DNE(13,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_8_a_13_Template,2,2,"a",41)(14,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_8_ng_template_14_Template,2,1,"ng-template",null,4,core.C5r),core.k0s()()),2&rf){const noPID_r4=core.sdS(15),eventElement_r3=core.XpG().$implicit,ctx_r0=core.XpG(3);core.R7$(3),core.JRh(core.bMT(4,5,"quality-assurance.event.table.pidtype")),core.R7$(4),core.JRh(eventElement_r3.event.message.type),core.R7$(3),core.JRh(core.bMT(11,7,"quality-assurance.event.table.pidvalue")),core.R7$(3),core.Y8G("ngIf",ctx_r0.hasPIDHref(eventElement_r3.event.message))("ngIfElse",noPID_r4)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_9_Template(rf,ctx){if(1&rf&&(core.j41(0,"td")(1,"p")(2,"span",39),core.EFF(3),core.nI1(4,"translate"),core.k0s(),core.nrm(5,"br"),core.j41(6,"span",40),core.EFF(7),core.k0s()()()),2&rf){const eventElement_r3=core.XpG().$implicit;core.R7$(3),core.SpI("",core.bMT(4,2,"quality-assurance.event.table.subjectValue")," "),core.R7$(4),core.JRh(eventElement_r3.event.message.value)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_10_i_9_Template(rf,ctx){1&rf&&core.nrm(0,"i",48)}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_10_i_10_Template(rf,ctx){1&rf&&core.nrm(0,"i",49)}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_10_Template(rf,ctx){if(1&rf){const _r5=core.RV6();core.j41(0,"td")(1,"p",43)(2,"span",39),core.EFF(3),core.nI1(4,"translate"),core.k0s(),core.nrm(5,"br"),core.j41(6,"span",44),core.EFF(7),core.k0s()(),core.j41(8,"button",45),core.bIt("click",function(){core.eBV(_r5);const ctx_r0=core.XpG(4);return core.Njj(ctx_r0.showMore=!ctx_r0.showMore)}),core.DNE(9,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_10_i_9_Template,1,0,"i",46)(10,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_10_i_10_Template,1,0,"i",47),core.EFF(11),core.nI1(12,"translate"),core.k0s()()}if(2&rf){const eventElement_r3=core.XpG().$implicit,ctx_r0=core.XpG(3);core.R7$(),core.AVh("show",ctx_r0.showMore),core.R7$(2),core.JRh(core.bMT(4,7,"quality-assurance.event.table.abstract")),core.R7$(4),core.JRh(eventElement_r3.event.message.abstract),core.R7$(2),core.Y8G("ngIf",!ctx_r0.showMore),core.R7$(),core.Y8G("ngIf",ctx_r0.showMore),core.R7$(),core.SpI(" ",core.bMT(12,9,ctx_r0.showMore?"quality-assurance.event.table.less":"quality-assurance.event.table.more")," ")}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_ng_container_11_span_3_Template(rf,ctx){if(1&rf&&(core.j41(0,"span")(1,"span"),core.EFF(2),core.k0s(),core.nrm(3,"br"),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(2),core.JRh(eventElement_r3.event.message.reason)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_ng_container_11_span_6_Template(rf,ctx){if(1&rf&&(core.j41(0,"span"),core.nrm(1,"ds-eperson-data",50),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(),core.Y8G("ePersonId",eventElement_r3.event.originalId)("properties",core.lJ4(2,_c2))}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_ng_container_11_Template(rf,ctx){if(1&rf&&(core.qex(0),core.j41(1,"td")(2,"p"),core.DNE(3,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_ng_container_11_span_3_Template,4,1,"span",26),core.k0s()(),core.j41(4,"td")(5,"p"),core.DNE(6,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_ng_container_11_span_6_Template,2,3,"span",26),core.k0s()(),core.bVm()),2&rf){const eventElement_r3=core.XpG().$implicit;core.R7$(3),core.Y8G("ngIf",eventElement_r3.event.message),core.R7$(3),core.Y8G("ngIf",eventElement_r3.event.originalId)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_span_12_Template(rf,ctx){if(1&rf&&(core.j41(0,"span")(1,"span",39),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.EFF(4,"\xa0"),core.j41(5,"span",40),core.EFF(6),core.k0s(),core.nrm(7,"br"),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(2),core.JRh(core.bMT(3,2,"quality-assurance.event.table.acronym")),core.R7$(4),core.JRh(eventElement_r3.event.message.acronym)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_span_13_Template(rf,ctx){if(1&rf&&(core.j41(0,"span")(1,"span",39),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.EFF(4,"\xa0"),core.j41(5,"span",40),core.EFF(6),core.k0s(),core.nrm(7,"br"),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(2),core.JRh(core.bMT(3,2,"quality-assurance.event.table.code")),core.R7$(4),core.JRh(eventElement_r3.event.message.code)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_span_14_Template(rf,ctx){if(1&rf&&(core.j41(0,"span")(1,"span",39),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.EFF(4,"\xa0"),core.j41(5,"span",40),core.EFF(6),core.k0s(),core.nrm(7,"br"),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(2),core.JRh(core.bMT(3,2,"quality-assurance.event.table.funder")),core.R7$(4),core.JRh(eventElement_r3.event.message.funder)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_span_15_Template(rf,ctx){if(1&rf&&(core.j41(0,"span")(1,"span",39),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.EFF(4,"\xa0"),core.j41(5,"span",40),core.EFF(6),core.k0s(),core.nrm(7,"br"),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(2),core.JRh(core.bMT(3,2,"quality-assurance.event.table.fundingProgram")),core.R7$(4),core.JRh(eventElement_r3.event.message.fundingProgram)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_span_16_Template(rf,ctx){if(1&rf&&(core.j41(0,"span")(1,"span",39),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.EFF(4,"\xa0"),core.j41(5,"span",40),core.EFF(6),core.k0s()()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.R7$(2),core.JRh(core.bMT(3,2,"quality-assurance.event.table.jurisdiction")),core.R7$(4),core.JRh(eventElement_r3.event.message.jurisdiction)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_a_21_Template(rf,ctx){if(1&rf&&(core.j41(0,"a",55),core.EFF(1),core.k0s()),2&rf){const eventElement_r3=core.XpG(2).$implicit;core.FS9("title",eventElement_r3.projectTitle),core.Y8G("routerLink",core.eq3(3,_c1,eventElement_r3.projectId)),core.R7$(),core.SpI("",eventElement_r3.handle," ")}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_button_23_Template(rf,ctx){if(1&rf){const _r6=core.RV6();core.j41(0,"button",56),core.nI1(1,"translate"),core.bIt("click",function($event){core.eBV(_r6);const eventElement_r3=core.XpG(2).$implicit;return core.XpG(3).openModalLookup(eventElement_r3),core.Njj($event.stopPropagation())}),core.nrm(2,"i",57),core.k0s()}if(2&rf){const eventElement_r3=core.XpG(2).$implicit;core.Y8G("disabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(1,2,"quality-assurance.event.modal.project.select"))}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_button_24_Template(rf,ctx){if(1&rf){const _r7=core.RV6();core.j41(0,"button",58),core.nI1(1,"translate"),core.bIt("click",function(){core.eBV(_r7);const eventElement_r3=core.XpG(2).$implicit,ctx_r0=core.XpG(3);return core.Njj(ctx_r0.removeProject(eventElement_r3))}),core.nrm(2,"i",59),core.k0s()}if(2&rf){const eventElement_r3=core.XpG(2).$implicit;core.Y8G("disabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(1,2,"quality-assurance.event.modal.project.remove"))}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_Template(rf,ctx){if(1&rf&&(core.j41(0,"td")(1,"p"),core.EFF(2),core.nI1(3,"translate"),core.k0s(),core.j41(4,"p")(5,"span",39),core.EFF(6),core.nI1(7,"translate"),core.k0s(),core.nrm(8,"br"),core.j41(9,"a",42),core.EFF(10),core.k0s()(),core.j41(11,"p"),core.DNE(12,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_span_12_Template,8,4,"span",26)(13,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_span_13_Template,8,4,"span",26)(14,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_span_14_Template,8,4,"span",26)(15,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_span_15_Template,8,4,"span",26)(16,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_span_16_Template,7,4,"span",26),core.k0s(),core.nrm(17,"hr"),core.j41(18,"div"),core.EFF(19),core.nI1(20,"translate"),core.DNE(21,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_a_21_Template,2,5,"a",51),core.j41(22,"div",52),core.DNE(23,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_button_23_Template,3,4,"button",53)(24,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_button_24_Template,3,4,"button",54),core.k0s()()()),2&rf){const eventElement_r3=core.XpG().$implicit,ctx_r0=core.XpG(3);core.R7$(2),core.SpI(" ",core.bMT(3,15,"quality-assurance.event.table.suggestedProject")," "),core.R7$(4),core.JRh(core.bMT(7,17,"quality-assurance.event.table.project")),core.R7$(3),core.FCK("href","",ctx_r0.sourceUrlForProjectSearch,"",eventElement_r3.event.message.sourceId,"",core.B4B),core.R7$(),core.JRh(eventElement_r3.event.message.title),core.R7$(2),core.Y8G("ngIf",eventElement_r3.event.message.acronym),core.R7$(),core.Y8G("ngIf",eventElement_r3.event.message.code),core.R7$(),core.Y8G("ngIf",eventElement_r3.event.message.funder),core.R7$(),core.Y8G("ngIf",eventElement_r3.event.message.fundingProgram),core.R7$(),core.Y8G("ngIf",eventElement_r3.event.message.jurisdiction),core.R7$(3),core.SpI(" ",core.bMT(20,19,eventElement_r3.hasProject?"quality-assurance.event.project.found":"quality-assurance.event.project.notFound")," "),core.R7$(2),core.Y8G("ngIf",eventElement_r3.hasProject),core.R7$(2),core.Y8G("ngIf",!eventElement_r3.hasProject),core.R7$(),core.Y8G("ngIf",eventElement_r3.hasProject)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_14_button_1_Template(rf,ctx){if(1&rf){const _r9=core.RV6();core.j41(0,"button",65),core.nI1(1,"translate"),core.nI1(2,"translate"),core.bIt("click",function(){core.eBV(_r9);const eventElement_r3=core.XpG(2).$implicit,ctx_r0=core.XpG(3),acceptModal_r10=core.sdS(19);return core.Njj(ctx_r0.modalChoice("ACCEPTED",eventElement_r3,acceptModal_r10))}),core.nrm(3,"i",66),core.k0s()}if(2&rf){const eventElement_r3=core.XpG(2).$implicit;core.FS9("ngbTooltip",core.bMT(1,3,"quality-assurance.event.action.import")),core.Y8G("disabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(2,5,"quality-assurance.event.action.import"))}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_14_button_2_Template(rf,ctx){if(1&rf){const _r11=core.RV6();core.j41(0,"button",65),core.nI1(1,"translate"),core.nI1(2,"translate"),core.bIt("click",function(){core.eBV(_r11);const eventElement_r3=core.XpG(2).$implicit,ctx_r0=core.XpG(3);return core.Njj(ctx_r0.executeAction("ACCEPTED",eventElement_r3))}),core.nrm(3,"i",66),core.k0s()}if(2&rf){const eventElement_r3=core.XpG(2).$implicit;core.FS9("ngbTooltip",core.bMT(1,3,"quality-assurance.event.action.accept")),core.Y8G("disabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(2,5,"quality-assurance.event.action.accept"))}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_14_button_7_Template(rf,ctx){if(1&rf){const _r13=core.RV6();core.j41(0,"button",67),core.nI1(1,"translate"),core.nI1(2,"translate"),core.bIt("click",function(){core.eBV(_r13);const eventElement_r3=core.XpG(2).$implicit,ctx_r0=core.XpG(3),rejectModal_r14=core.sdS(23);return core.Njj(ctx_r0.openModal("REJECTED",eventElement_r3,rejectModal_r14))}),core.nrm(3,"i",59),core.k0s()}if(2&rf){const eventElement_r3=core.XpG(2).$implicit;core.FS9("ngbTooltip",core.bMT(1,3,"quality-assurance.event.action.reject")),core.Y8G("disabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(2,5,"quality-assurance.event.action.reject"))}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_14_button_9_Template(rf,ctx){if(1&rf){const _r15=core.RV6();core.j41(0,"button",67),core.nI1(1,"translate"),core.nI1(2,"translate"),core.bIt("click",function(){core.eBV(_r15);const eventElement_r3=core.XpG(2).$implicit,ctx_r0=core.XpG(3),undoModal_r16=core.sdS(25);return core.Njj(ctx_r0.openModal("UNDO",eventElement_r3,undoModal_r16))}),core.nrm(3,"i",59),core.k0s()}if(2&rf){const eventElement_r3=core.XpG(2).$implicit;core.FS9("ngbTooltip",core.bMT(1,3,"quality-assurance.event.action.undo")),core.Y8G("disabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(2,5,"quality-assurance.event.action.undo"))}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_14_Template(rf,ctx){if(1&rf){const _r8=core.RV6();core.j41(0,"div",60),core.DNE(1,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_14_button_1_Template,4,7,"button",61)(2,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_14_button_2_Template,4,7,"button",61),core.j41(3,"button",62),core.nI1(4,"translate"),core.nI1(5,"translate"),core.bIt("click",function(){core.eBV(_r8);const eventElement_r3=core.XpG().$implicit,ctx_r0=core.XpG(3),ignoreModal_r12=core.sdS(21);return core.Njj(ctx_r0.openModal("DISCARDED",eventElement_r3,ignoreModal_r12))}),core.nrm(6,"i",63),core.k0s(),core.DNE(7,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_14_button_7_Template,4,7,"button",64),core.nI1(8,"async"),core.DNE(9,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_14_button_9_Template,4,7,"button",64),core.nI1(10,"async"),core.k0s()}if(2&rf){const eventElement_r3=core.XpG().$implicit,ctx_r0=core.XpG(3);core.R7$(),core.Y8G("ngIf",-1!==ctx_r0.showTopic.indexOf("/PROJECT")),core.R7$(),core.Y8G("ngIf",-1===ctx_r0.showTopic.indexOf("/PROJECT")),core.R7$(),core.FS9("ngbTooltip",core.bMT(4,7,"quality-assurance.event.action.ignore")),core.Y8G("disabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(5,9,"quality-assurance.event.action.ignore")),core.R7$(4),core.Y8G("ngIf",core.bMT(8,11,ctx_r0.isAdmin$)),core.R7$(2),core.Y8G("ngIf",!1===core.bMT(10,13,ctx_r0.isAdmin$))}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_16_Template(rf,ctx){if(1&rf){const _r17=core.RV6();core.j41(0,"div",60)(1,"button",67),core.nI1(2,"translate"),core.nI1(3,"translate"),core.bIt("click",function(){core.eBV(_r17);const eventElement_r3=core.XpG().$implicit,ctx_r0=core.XpG(3),undoModal_r16=core.sdS(25);return core.Njj(ctx_r0.openModal("UNDO",eventElement_r3,undoModal_r16))}),core.nrm(4,"i",59),core.k0s()()}if(2&rf){const eventElement_r3=core.XpG().$implicit;core.R7$(),core.FS9("ngbTooltip",core.bMT(2,3,"quality-assurance.event.action.undo")),core.Y8G("disabled",eventElement_r3.isRunning),core.BMQ("aria-label",core.bMT(3,5,"quality-assurance.event.action.undo"))}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_Template(rf,ctx){if(1&rf&&(core.j41(0,"tr")(1,"td"),core.EFF(2),core.k0s(),core.j41(3,"td"),core.DNE(4,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_a_4_Template,2,4,"a",30)(5,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_span_5_Template,2,1,"span",26)(6,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_6_Template,7,6,"div",26)(7,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_7_Template,7,6,"div",31),core.k0s(),core.DNE(8,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_8_Template,16,9,"td",26)(9,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_9_Template,8,4,"td",26)(10,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_10_Template,13,11,"td",26)(11,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_ng_container_11_Template,7,2,"ng-container",26)(12,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_td_12_Template,25,21,"td",26),core.j41(13,"td"),core.DNE(14,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_14_Template,11,15,"div",32),core.nI1(15,"async"),core.DNE(16,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_div_16_Template,5,7,"div",32),core.nI1(17,"async"),core.k0s()()),2&rf){const eventElement_r3=ctx.$implicit,ctx_r0=core.XpG(3);core.R7$(2),core.SpI("",null==eventElement_r3||null==eventElement_r3.event?null:eventElement_r3.event.trust," "),core.R7$(2),core.Y8G("ngIf",null==eventElement_r3?null:eventElement_r3.target),core.R7$(),core.Y8G("ngIf",!(null!=eventElement_r3&&eventElement_r3.target)),core.R7$(),core.Y8G("ngIf",null==eventElement_r3||null==eventElement_r3.event||null==eventElement_r3.event.message?null:eventElement_r3.event.message.serviceId),core.R7$(),core.Y8G("ngIf",null==eventElement_r3||null==eventElement_r3.event||null==eventElement_r3.event.message?null:eventElement_r3.event.message.href),core.R7$(),core.Y8G("ngIf",-1!==ctx_r0.showTopic.indexOf("/PID")),core.R7$(),core.Y8G("ngIf",-1!==ctx_r0.showTopic.indexOf("/SUBJECT")),core.R7$(),core.Y8G("ngIf",-1!==ctx_r0.showTopic.indexOf("/ABSTRACT")),core.R7$(),core.Y8G("ngIf",-1!==ctx_r0.showTopic.indexOf("/REINSTATE")||-1!==ctx_r0.showTopic.indexOf("/WITHDRAWN")),core.R7$(),core.Y8G("ngIf",-1!==ctx_r0.showTopic.indexOf("/PROJECT")),core.R7$(2),core.Y8G("ngIf",core.bMT(15,12,ctx_r0.isAdmin$)||!ctx_r0.isReinstateWithdrawnRequest),core.R7$(2),core.Y8G("ngIf",!0!==core.bMT(17,14,ctx_r0.isAdmin$)&&ctx_r0.isReinstateWithdrawnRequest)}}function QualityAssuranceEventsComponent_ds_pagination_16_div_5_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",21)(1,"table",22)(2,"thead")(3,"tr")(4,"th",23),core.EFF(5),core.nI1(6,"translate"),core.k0s(),core.j41(7,"th",24),core.EFF(8),core.nI1(9,"translate"),core.k0s(),core.DNE(10,QualityAssuranceEventsComponent_ds_pagination_16_div_5_th_10_Template,3,3,"th",25)(11,QualityAssuranceEventsComponent_ds_pagination_16_div_5_ng_container_11_Template,7,6,"ng-container",26),core.j41(12,"th",27),core.EFF(13),core.nI1(14,"translate"),core.k0s()()(),core.j41(15,"tbody"),core.DNE(16,QualityAssuranceEventsComponent_ds_pagination_16_div_5_tr_16_Template,18,16,"tr",28),core.nI1(17,"async"),core.k0s()()()),2&rf){const ctx_r0=core.XpG(2);core.R7$(5),core.JRh(core.bMT(6,6,"quality-assurance.event.table.trust")),core.R7$(3),core.JRh(core.bMT(9,8,"quality-assurance.event.table.publication")),core.R7$(2),core.Y8G("ngIf",ctx_r0.hasDetailColumn()&&-1!==ctx_r0.showTopic.indexOf("/PROJECT")),core.R7$(),core.Y8G("ngIf",ctx_r0.hasDetailColumn()&&(-1!==ctx_r0.showTopic.indexOf("/REINSTATE")||-1!==ctx_r0.showTopic.indexOf("/WITHDRAWN"))),core.R7$(2),core.JRh(core.bMT(14,10,"quality-assurance.event.table.actions")),core.R7$(3),core.Y8G("ngForOf",core.bMT(17,12,ctx_r0.eventsUpdated$))}}function QualityAssuranceEventsComponent_ds_pagination_16_Template(rf,ctx){if(1&rf){const _r2=core.RV6();core.j41(0,"ds-pagination",17),core.nI1(1,"async"),core.bIt("paginationChange",function(){core.eBV(_r2);const ctx_r0=core.XpG();return core.Njj(ctx_r0.getQualityAssuranceEvents())}),core.qex(2),core.DNE(3,QualityAssuranceEventsComponent_ds_pagination_16_div_3_Template,3,3,"div",18),core.nI1(4,"async"),core.DNE(5,QualityAssuranceEventsComponent_ds_pagination_16_div_5_Template,18,14,"div",19),core.nI1(6,"async"),core.bVm(),core.k0s()}if(2&rf){let tmp_8_0,tmp_9_0;const ctx_r0=core.XpG();core.Y8G("paginationOptions",ctx_r0.paginationConfig)("collectionSize",core.bMT(1,5,ctx_r0.totalElements$))("sortOptions",ctx_r0.paginationSortConfig),core.R7$(3),core.Y8G("ngIf",0===(null==(tmp_8_0=core.bMT(4,7,ctx_r0.eventsUpdated$))?null:tmp_8_0.length)),core.R7$(2),core.Y8G("ngIf",0!==(null==(tmp_9_0=core.bMT(6,9,ctx_r0.eventsUpdated$))?null:tmp_9_0.length))}}function QualityAssuranceEventsComponent_ng_template_18_Template(rf,ctx){if(1&rf){const _r18=core.RV6();core.j41(0,"div",68)(1,"h4",69),core.EFF(2),core.nI1(3,"translate"),core.k0s()(),core.j41(4,"div",70)(5,"p"),core.EFF(6),core.nI1(7,"translate"),core.k0s(),core.j41(8,"button",71),core.bIt("click",function(){const modal_r19=core.eBV(_r18).$implicit;return core.Njj(modal_r19.close("do"))}),core.nrm(9,"i",66),core.j41(10,"span",72),core.EFF(11),core.nI1(12,"translate"),core.k0s()(),core.j41(13,"button",73),core.bIt("click",function(){const modal_r19=core.eBV(_r18).$implicit;return core.Njj(modal_r19.close("cancel"))}),core.nrm(14,"i",74),core.j41(15,"span",72),core.EFF(16),core.nI1(17,"translate"),core.k0s()()()}2&rf&&(core.R7$(2),core.JRh(core.bMT(3,4,"quality-assurance.event.sure")),core.R7$(4),core.JRh(core.bMT(7,6,"quality-assurance.event.accept.description")),core.R7$(5),core.SpI(" ",core.bMT(12,8,"quality-assurance.event.action.import"),""),core.R7$(5),core.SpI(" ",core.bMT(17,10,"quality-assurance.event.action.cancel"),""))}function QualityAssuranceEventsComponent_ng_template_20_Template(rf,ctx){if(1&rf){const _r20=core.RV6();core.j41(0,"div",68)(1,"h4",75),core.EFF(2),core.nI1(3,"translate"),core.k0s()(),core.j41(4,"div",70)(5,"p"),core.EFF(6),core.nI1(7,"translate"),core.k0s(),core.j41(8,"button",76),core.bIt("click",function(){const modal_r21=core.eBV(_r20).$implicit;return core.Njj(modal_r21.close("do"))}),core.nrm(9,"i",59),core.j41(10,"span",72),core.EFF(11),core.nI1(12,"translate"),core.k0s()(),core.j41(13,"button",73),core.bIt("click",function(){const modal_r21=core.eBV(_r20).$implicit;return core.Njj(modal_r21.close("cancel"))}),core.nrm(14,"i",74),core.j41(15,"span",72),core.EFF(16),core.nI1(17,"translate"),core.k0s()()()}2&rf&&(core.R7$(2),core.JRh(core.bMT(3,4,"quality-assurance.event.sure")),core.R7$(4),core.JRh(core.bMT(7,6,"quality-assurance.event.ignore.description")),core.R7$(5),core.SpI(" ",core.bMT(12,8,"quality-assurance.event.action.ignore"),""),core.R7$(5),core.SpI(" ",core.bMT(17,10,"quality-assurance.event.action.cancel"),""))}function QualityAssuranceEventsComponent_ng_template_22_Template(rf,ctx){if(1&rf){const _r22=core.RV6();core.j41(0,"div",68)(1,"h4",77),core.EFF(2),core.nI1(3,"translate"),core.k0s()(),core.j41(4,"div",70)(5,"p"),core.EFF(6),core.nI1(7,"translate"),core.k0s(),core.j41(8,"button",76),core.bIt("click",function(){const modal_r23=core.eBV(_r22).$implicit;return core.Njj(modal_r23.close("do"))}),core.nrm(9,"i",59),core.j41(10,"span",72),core.EFF(11),core.nI1(12,"translate"),core.k0s()(),core.j41(13,"button",73),core.bIt("click",function(){const modal_r23=core.eBV(_r22).$implicit;return core.Njj(modal_r23.close("cancel"))}),core.nrm(14,"i",74),core.j41(15,"span",72),core.EFF(16),core.nI1(17,"translate"),core.k0s()()()}2&rf&&(core.R7$(2),core.JRh(core.bMT(3,4,"quality-assurance.event.sure")),core.R7$(4),core.JRh(core.bMT(7,6,"quality-assurance.event.reject.description")),core.R7$(5),core.SpI(" ",core.bMT(12,8,"quality-assurance.event.action.reject"),""),core.R7$(5),core.SpI(" ",core.bMT(17,10,"quality-assurance.event.action.cancel"),""))}function QualityAssuranceEventsComponent_ng_template_24_Template(rf,ctx){if(1&rf){const _r24=core.RV6();core.j41(0,"div",68)(1,"h4",78),core.EFF(2),core.nI1(3,"translate"),core.k0s()(),core.j41(4,"div",70)(5,"p"),core.EFF(6),core.nI1(7,"translate"),core.k0s(),core.j41(8,"button",76),core.bIt("click",function(){const modal_r25=core.eBV(_r24).$implicit;return core.Njj(modal_r25.close("do"))}),core.nrm(9,"i",59),core.j41(10,"span",72),core.EFF(11),core.nI1(12,"translate"),core.k0s()(),core.j41(13,"button",73),core.bIt("click",function(){const modal_r25=core.eBV(_r24).$implicit;return core.Njj(modal_r25.close("cancel"))}),core.nrm(14,"i",74),core.j41(15,"span",72),core.EFF(16),core.nI1(17,"translate"),core.k0s()()()}2&rf&&(core.R7$(2),core.JRh(core.bMT(3,4,"quality-assurance.event.sure")),core.R7$(4),core.JRh(core.bMT(7,6,"quality-assurance.event.undo.description")),core.R7$(5),core.SpI(" ",core.bMT(12,8,"quality-assurance.event.action.undo"),""),core.R7$(5),core.SpI(" ",core.bMT(17,10,"quality-assurance.event.action.cancel"),""))}let QualityAssuranceEventsComponent=(()=>{class QualityAssuranceEventsComponent2{constructor(activatedRoute,modalService,notificationsService,qualityAssuranceEventRestService,paginationService,translateService,authorizationService,itemService){this.activatedRoute=activatedRoute,this.modalService=modalService,this.notificationsService=notificationsService,this.qualityAssuranceEventRestService=qualityAssuranceEventRestService,this.paginationService=paginationService,this.translateService=translateService,this.authorizationService=authorizationService,this.itemService=itemService,this.paginationConfig=Object.assign(new pagination_component_options_model.W,{id:"bep",currentPage:1,pageSize:10,pageSizeOptions:[5,10,20,40,60]}),this.paginationSortConfig=new sort_options_model.z("trust",sort_options_model.U.DESC),this.eventsUpdated$=new cjs.BehaviorSubject([]),this.totalElements$=new cjs.BehaviorSubject(null),this.isEventPageLoading=new cjs.BehaviorSubject(!1),this.showMore=!1,this.defaultConfig=Object.assign(new find_list_options_model._,{sort:this.paginationSortConfig}),this.subs=[]}ngOnInit(){this.isEventPageLoading.next(!0),this.isAdmin$=this.authorizationService.isAuthorized(feature_id._.AdministratorOf),this.activatedRoute.paramMap.pipe((0,operators.Mi)(params=>{this.sourceUrlForProjectSearch=environment.c.qualityAssuranceConfig.sourceUrlMapForProjectSearch[params.get("sourceId")],this.sourceId=params.get("sourceId")}),(0,operators.Tj)(params=>params.get("topicId")),(0,operators.s)(1),(0,operators.nx)(id=>{this.showTopic=id.replace(/!/g,"/"),this.topic=id;const splitList=this.showTopic?.split(":");return this.targetId=splitList.length>2?splitList.pop():null,this.selectedTopicName=splitList[1],this.sourceId=splitList[0],this.getQualityAssuranceEvents()})).subscribe({next:events=>{this.eventsUpdated$.next(events),this.isEventPageLoading.next(!1)},error:error=>{this.isEventPageLoading.next(!1)}})}hasDetailColumn(){return-1!==this.showTopic.indexOf("/PROJECT")||-1!==this.showTopic.indexOf("/PID")||-1!==this.showTopic.indexOf("/SUBJECT")||-1!==this.showTopic.indexOf("/WITHDRAWN")||-1!==this.showTopic.indexOf("/REINSTATE")||-1!==this.showTopic.indexOf("/ABSTRACT")}get isReinstateWithdrawnRequest(){return-1!==this.showTopic.indexOf("/WITHDRAWN")||-1!==this.showTopic.indexOf("/REINSTATE")}modalChoice(action,eventData,content){eventData.hasProject?this.executeAction(action,eventData):this.openModal(action,eventData,content)}openModal(action,eventData,content){this.modalService.open(content,{ariaLabelledBy:"modal-basic-title"}).result.then(result=>{"do"===result&&(eventData.reason=this.selectedReason,this.executeAction(action,eventData)),this.selectedReason=null},_reason=>{this.selectedReason=null})}openModalLookup(eventData){this.modalRef=this.modalService.open(ProjectEntryImportModalComponent,{size:"lg"});const modalComp=this.modalRef.componentInstance;modalComp.externalSourceEntry=eventData,modalComp.label="project",this.subs.push(modalComp.importedObject.pipe((0,operators.s)(1)).subscribe(object=>{const projectTitle=metadata_utils.O.first(object.indexableObject.metadata,"dc.title");this.boundProject(eventData,object.indexableObject.id,projectTitle.value,object.indexableObject.handle)}))}executeAction(action,eventData){let operation;eventData.isRunning=!0,operation="UNDO"===action?this.delete(eventData):this.qualityAssuranceEventRestService.patchEvent(action,eventData.event,eventData.reason),this.subs.push(operation.pipe((0,shared_operators.qD)(),(0,operators.nx)(rd=>rd.hasSucceeded?(this.notificationsService.success(this.translateService.instant("quality-assurance.event.action.saved")),this.getQualityAssuranceEvents()):(this.notificationsService.error(this.translateService.instant("quality-assurance.event.action.error")),(0,cjs.of)(this.eventsUpdated$.value)))).subscribe(events=>{this.eventsUpdated$.next(events),eventData.isRunning=!1}))}boundProject(eventData,projectId,projectTitle,projectHandle){eventData.isRunning=!0,this.subs.push(this.qualityAssuranceEventRestService.boundProject(eventData.id,projectId).pipe((0,shared_operators.qD)()).subscribe(rd=>{rd.hasSucceeded?(this.notificationsService.success(this.translateService.instant("quality-assurance.event.project.bounded")),eventData.hasProject=!0,eventData.projectTitle=projectTitle,eventData.handle=projectHandle,eventData.projectId=projectId):this.notificationsService.error(this.translateService.instant("quality-assurance.event.project.error")),eventData.isRunning=!1}))}removeProject(eventData){eventData.isRunning=!0,this.subs.push(this.qualityAssuranceEventRestService.removeProject(eventData.id).pipe((0,shared_operators.qD)()).subscribe(rd=>{rd.hasSucceeded?(this.notificationsService.success(this.translateService.instant("quality-assurance.event.project.removed")),eventData.hasProject=!1,eventData.projectTitle=null,eventData.handle=null,eventData.projectId=null):this.notificationsService.error(this.translateService.instant("quality-assurance.event.project.error")),eventData.isRunning=!1}))}hasPIDHref(event){return null!==this.getPIDHref(event)}getPIDHref(event){return event.pidHref}getQualityAssuranceEvents(){return this.paginationService.getFindListOptions(this.paginationConfig.id,this.defaultConfig).pipe((0,operators.F)(),(0,operators.nx)(options=>this.qualityAssuranceEventRestService.getEventsByTopic(this.topic,options,(0,follow_link_config_model.s)("target"),(0,follow_link_config_model.s)("related"))),(0,shared_operators.qD)(),(0,operators.nx)(rd=>{if(rd.hasSucceeded)return this.totalElements$.next(rd.payload.totalElements),rd.payload?.page?.length>0?this.fetchEvents(rd.payload.page):(0,cjs.of)([]);throw new Error("Can't retrieve Quality Assurance events from the Broker events REST service")}),(0,operators.s)(1),(0,operators.Mi)(()=>{this.qualityAssuranceEventRestService.clearFindByTopicRequests()}))}ngOnDestroy(){this.subs.filter(sub=>(0,empty_util.a4)(sub)).forEach(sub=>sub.unsubscribe())}fetchEvents(events){return(0,cjs.from)(events).pipe((0,operators.ZZ)(event=>{const related$=event.related.pipe((0,shared_operators.qD)()),target$=event.target.pipe((0,shared_operators.qD)());return(0,cjs.combineLatest)([related$,target$]).pipe((0,operators.Tj)(([relatedItemRD,targetItemRD])=>{const data={event,id:event.id,title:event.title,hasProject:!1,projectTitle:null,projectId:null,handle:null,reason:null,isRunning:!1,target:targetItemRD?.hasSucceeded?targetItemRD.payload:null};return relatedItemRD?.hasSucceeded&&relatedItemRD?.payload?.id&&(data.hasProject=!0,data.projectTitle=event.message.title,data.projectId=relatedItemRD?.payload?.id,data.handle=relatedItemRD?.payload?.handle),data}))}),(0,operators.SQ)((acc,value)=>[...acc,value],[]),(0,operators.HV)())}delete(qaEvent){return this.qualityAssuranceEventRestService.deleteQAEvent(qaEvent)}getTargetItemTitle(){return this.itemService.findById(this.targetId).pipe((0,operators.s)(1),(0,shared_operators.qD)(),(0,shared_operators.Bo)(),(0,operators.Mi)(item=>this.itemPageUrl=(0,item_page_routing_paths._o)(item)),(0,operators.Tj)(item=>item.firstMetadataValue("dc.title")))}static#_=this.\u0275fac=function(t){return new(t||QualityAssuranceEventsComponent2)(core.rXU(router.nX),core.rXU(ng_bootstrap.Bq),core.rXU(notifications_service.I),core.rXU(quality_assurance_event_data_service.QualityAssuranceEventDataService),core.rXU(pagination_service.m),core.rXU(ngx_translate_core.c$),core.rXU(authorization_data_service.AuthorizationDataService),core.rXU(item_data_service.ItemDataService))};static#_2=this.\u0275cmp=core.VBU({type:QualityAssuranceEventsComponent2,selectors:[["ds-quality-assurance-events"]],standalone:!0,features:[core.aNF],decls:26,vars:15,consts:[["acceptModal",""],["ignoreModal",""],["rejectModal",""],["undoModal",""],["noPID",""],[1,"container"],[1,"row"],[1,"col-12"],[1,"border-bottom","pb-2"],[1,"d-flex","justify-content-between"],[3,"type",4,"ngIf"],["class","container",3,"message",4,"ngIf"],[3,"paginationOptions","collectionSize","sortOptions","paginationChange",4,"ngIf"],[3,"type"],[3,"innerHTML"],["target","_blank",3,"routerLink"],[1,"container",3,"message"],[3,"paginationChange","paginationOptions","collectionSize","sortOptions"],["class","alert alert-info w-100 mb-2 mt-2","role","alert",4,"ngIf"],["class","table-responsive mt-2",4,"ngIf"],["role","alert",1,"alert","alert-info","w-100","mb-2","mt-2"],[1,"table-responsive","mt-2"],["id","events",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"trust-col"],["scope","col",1,"title-col"],["scope","col","class","content-col",4,"ngIf"],[4,"ngIf"],["scope","col",1,"button-col"],[4,"ngFor","ngForOf"],["scope","col",1,"content-col"],["target","_blank","rel","noopener noreferrer",3,"routerLink",4,"ngIf"],["class","d-flex align-items-center",4,"ngIf"],["class","btn-group button-width",4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"routerLink"],[1,"small","pr-1"],[3,"title"],["target","_blank",3,"href"],[1,"d-flex","align-items-center"],[1,"text-truncate","d-inline-block","w-75",3,"title"],[1,"small"],[1,"badge","badge-info"],["rel","noopener noreferrer","target","_blank",3,"href",4,"ngIf","ngIfElse"],["rel","noopener noreferrer","target","_blank",3,"href"],[1,"abstract-container"],[1,"text-ellipsis"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],["class","fas fa-angle-down",4,"ngIf"],["class","fas fa-angle-up",4,"ngIf"],[1,"fas","fa-angle-down"],[1,"fas","fa-angle-up"],[3,"ePersonId","properties"],["target","_blank","rel","noopener noreferrer",3,"title","routerLink",4,"ngIf"],[1,"btn-group"],["class","btn btn-outline-primary btn-sm",3,"disabled","click",4,"ngIf"],["class","btn btn-outline-danger btn-sm",3,"disabled","click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"title","routerLink"],[1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fas","fa-search"],[1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"fas","fa-trash-alt"],[1,"btn-group","button-width"],["class","btn btn-outline-success btn-sm button-width","container","body",3,"ngbTooltip","disabled","click",4,"ngIf"],["container","body",1,"btn","btn-outline-dark","btn-sm","button-width",3,"click","ngbTooltip","disabled"],[1,"fas","fa-ban"],["class","btn btn-outline-danger btn-sm button-width","container","body",3,"ngbTooltip","disabled","click",4,"ngIf"],["container","body",1,"btn","btn-outline-success","btn-sm","button-width",3,"click","ngbTooltip","disabled"],[1,"fas","fa-check"],["container","body",1,"btn","btn-outline-danger","btn-sm","button-width",3,"click","ngbTooltip","disabled"],[1,"modal-header"],["id","acceptModal",1,"modal-title"],[1,"modal-body"],[1,"btn","btn-outline-success","float-right",3,"click"],[1,"d-none","d-sm-inline"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-close"],["id","ignoreModal",1,"modal-title"],[1,"btn","btn-outline-danger","float-right",3,"click"],["id","rejectModal",1,"modal-title"],["id","undoModal",1,"modal-title"]],template:function(rf,ctx){1&rf&&(core.j41(0,"div",5)(1,"div",6)(2,"div",7)(3,"h2",8)(4,"div",9),core.EFF(5),core.nI1(6,"translate"),core.k0s()(),core.DNE(7,QualityAssuranceEventsComponent_ds_alert_7_Template,3,8,"ds-alert",10)(8,QualityAssuranceEventsComponent_ds_alert_8_Template,6,12,"ds-alert",10),core.k0s()(),core.j41(9,"div",6)(10,"div",7)(11,"h4",8),core.EFF(12),core.nI1(13,"translate"),core.k0s(),core.DNE(14,QualityAssuranceEventsComponent_ds_loading_14_Template,2,3,"ds-loading",11),core.nI1(15,"async"),core.DNE(16,QualityAssuranceEventsComponent_ds_pagination_16_Template,7,11,"ds-pagination",12),core.nI1(17,"async"),core.k0s()()(),core.DNE(18,QualityAssuranceEventsComponent_ng_template_18_Template,18,12,"ng-template",null,0,core.C5r)(20,QualityAssuranceEventsComponent_ng_template_20_Template,18,12,"ng-template",null,1,core.C5r)(22,QualityAssuranceEventsComponent_ng_template_22_Template,18,12,"ng-template",null,2,core.C5r)(24,QualityAssuranceEventsComponent_ng_template_24_Template,18,12,"ng-template",null,3,core.C5r)),2&rf&&(core.R7$(5),core.SpI(" ",core.bMT(6,7,"notifications.events.title")," "),core.R7$(2),core.Y8G("ngIf",!ctx.targetId),core.R7$(),core.Y8G("ngIf",ctx.targetId),core.R7$(4),core.Lme(" ",core.bMT(13,9,"quality-assurance.events.topic")," ",ctx.showTopic," "),core.R7$(2),core.Y8G("ngIf",core.bMT(15,11,ctx.isEventPageLoading)),core.R7$(2),core.Y8G("ngIf",!0!==core.bMT(17,13,ctx.isEventPageLoading)))},dependencies:[alert_component.C,common.bT,themed_loading_component.v,pagination_component.e,common.pM,router.Wk,ng_bootstrap.n8,ng_bootstrap.md,common.Jj,ngx_translate_core.h,ngx_translate_core.D9,EPersonDataComponent],styles:[".button-col[_ngcontent-%COMP%], .trust-col[_ngcontent-%COMP%]{width:15%}.title-col[_ngcontent-%COMP%]{width:30%}.content-col[_ngcontent-%COMP%]{width:40%}.button-width[_ngcontent-%COMP%]{width:100%}.abstract-container[_ngcontent-%COMP%]{height:76px;overflow:hidden}.text-ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}"]})}return QualityAssuranceEventsComponent2})(),QualityAssuranceEventsPageComponent=(()=>{class QualityAssuranceEventsPageComponent2{static#_=this.\u0275fac=function(t){return new(t||QualityAssuranceEventsPageComponent2)};static#_2=this.\u0275cmp=core.VBU({type:QualityAssuranceEventsPageComponent2,selectors:[["ds-quality-assurance-events-page"]],standalone:!0,features:[core.aNF],decls:1,vars:0,template:function(rf,ctx){1&rf&&core.nrm(0,"ds-quality-assurance-events")},dependencies:[QualityAssuranceEventsComponent],encapsulation:2})}return QualityAssuranceEventsPageComponent2})()},54031:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>qualityAssuranceEventsPageResolver});const qualityAssuranceEventsPageResolver=(route,state)=>({pageId:route.queryParams.pageId,pageSize:parseInt(route.queryParams.pageSize,10),currentPage:parseInt(route.queryParams.page,10)})},49543:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>qualityAssuranceSourceDataResolver});var _angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(68014),_angular_router__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(64247),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10743),_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59945),_notifications_qa_source_quality_assurance_source_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(94245);const qualityAssuranceSourceDataResolver=(route,state,router=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.WQX)(_angular_router__WEBPACK_IMPORTED_MODULE_3__.Ix),qualityAssuranceSourceService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.WQX)(_notifications_qa_source_quality_assurance_source_service__WEBPACK_IMPORTED_MODULE_1__.p),appConfig=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.WQX)(_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__.vQ))=>qualityAssuranceSourceService.getSources(appConfig.qualityAssuranceConfig.pageSize,0).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.Tj)(sources=>(1===sources.page.length&&router.navigate([getResolvedUrl(route)+"/"+sources.page[0].id]),sources.page)));function getResolvedUrl(route){return route.pathFromRoot.map(v=>v.url.map(segment=>segment.toString()).join("/")).join("/")}},94258:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>QualityAssuranceSourcePageResolver});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(68014);let QualityAssuranceSourcePageResolver=(()=>{class QualityAssuranceSourcePageResolver2{resolve(route,state){return{pageId:route.queryParams.pageId,pageSize:parseInt(route.queryParams.pageSize,10),currentPage:parseInt(route.queryParams.page,10)}}static#_=this.\u0275fac=function(t){return new(t||QualityAssuranceSourcePageResolver2)};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:QualityAssuranceSourcePageResolver2,factory:QualityAssuranceSourcePageResolver2.\u0275fac,providedIn:"root"})}return QualityAssuranceSourcePageResolver2})()},98360:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>QualityAssuranceSourcePageComponent});var common=__webpack_require__(84739),router=__webpack_require__(64247),ngx_translate_core=__webpack_require__(43750),operators=__webpack_require__(10743),pagination_service=__webpack_require__(39304),alert_component=__webpack_require__(14467),empty_util=__webpack_require__(77028),themed_loading_component=__webpack_require__(32943),pagination_component=__webpack_require__(91904),pagination_component_options_model=__webpack_require__(64694),notifications_state_service=__webpack_require__(28908),core=__webpack_require__(68014);const _c0=a0=>({param:a0}),_c1=a0=>[a0];function QualityAssuranceSourceComponent_ds_loading_12_Template(rf,ctx){1&rf&&(core.nrm(0,"ds-loading",7),core.nI1(1,"translate")),2&rf&&core.FS9("message",core.bMT(1,1,"quality-assurance.loading"))}function QualityAssuranceSourceComponent_ds_pagination_14_ds_loading_2_Template(rf,ctx){1&rf&&core.nrm(0,"ds-loading",11)}function QualityAssuranceSourceComponent_ds_pagination_14_ng_container_4_div_1_Template(rf,ctx){1&rf&&(core.j41(0,"div",14),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"quality-assurance.noSource")," "))}function QualityAssuranceSourceComponent_ds_pagination_14_ng_container_4_div_3_tr_14_Template(rf,ctx){if(1&rf&&(core.j41(0,"tr")(1,"td"),core.EFF(2),core.k0s(),core.j41(3,"td"),core.EFF(4),core.nI1(5,"date"),core.k0s(),core.j41(6,"td")(7,"div",19)(8,"button",20),core.nI1(9,"translate"),core.j41(10,"span",21),core.EFF(11),core.k0s(),core.nrm(12,"i",22),core.k0s()()()()),2&rf){const sourceElement_r3=ctx.$implicit;core.R7$(2),core.JRh(sourceElement_r3.id),core.R7$(2),core.JRh(core.i5U(5,5,sourceElement_r3.lastEvent,"dd/MM/yyyy hh:mm")),core.R7$(4),core.FS9("title",core.i5U(9,8,"quality-assurance.source-list.button.detail",core.eq3(11,_c0,sourceElement_r3.id))),core.Y8G("routerLink",core.eq3(13,_c1,sourceElement_r3.id)),core.R7$(3),core.JRh(sourceElement_r3.totalEvents)}}function QualityAssuranceSourceComponent_ds_pagination_14_ng_container_4_div_3_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",15)(1,"table",16)(2,"thead")(3,"tr")(4,"th",17),core.EFF(5),core.nI1(6,"translate"),core.k0s(),core.j41(7,"th",17),core.EFF(8),core.nI1(9,"translate"),core.k0s(),core.j41(10,"th",17),core.EFF(11),core.nI1(12,"translate"),core.k0s()()(),core.j41(13,"tbody"),core.DNE(14,QualityAssuranceSourceComponent_ds_pagination_14_ng_container_4_div_3_tr_14_Template,13,15,"tr",18),core.nI1(15,"async"),core.k0s()()()),2&rf){const ctx_r1=core.XpG(3);core.R7$(5),core.JRh(core.bMT(6,4,"quality-assurance.table.source")),core.R7$(3),core.JRh(core.bMT(9,6,"quality-assurance.table.last-event")),core.R7$(3),core.JRh(core.bMT(12,8,"quality-assurance.table.actions")),core.R7$(3),core.Y8G("ngForOf",core.bMT(15,10,ctx_r1.sources$))}}function QualityAssuranceSourceComponent_ds_pagination_14_ng_container_4_Template(rf,ctx){if(1&rf&&(core.qex(0),core.DNE(1,QualityAssuranceSourceComponent_ds_pagination_14_ng_container_4_div_1_Template,3,3,"div",12),core.nI1(2,"async"),core.DNE(3,QualityAssuranceSourceComponent_ds_pagination_14_ng_container_4_div_3_Template,16,12,"div",13),core.nI1(4,"async"),core.bVm()),2&rf){let tmp_2_0,tmp_3_0;const ctx_r1=core.XpG(2);core.R7$(),core.Y8G("ngIf",0===(null==(tmp_2_0=core.bMT(2,2,ctx_r1.sources$))?null:tmp_2_0.length)),core.R7$(2),core.Y8G("ngIf",0!==(null==(tmp_3_0=core.bMT(4,4,ctx_r1.sources$))?null:tmp_3_0.length))}}function QualityAssuranceSourceComponent_ds_pagination_14_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"ds-pagination",8),core.nI1(1,"async"),core.bIt("paginationChange",function(){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.getQualityAssuranceSource())}),core.DNE(2,QualityAssuranceSourceComponent_ds_pagination_14_ds_loading_2_Template,1,0,"ds-loading",9),core.nI1(3,"async"),core.DNE(4,QualityAssuranceSourceComponent_ds_pagination_14_ng_container_4_Template,5,6,"ng-container",10),core.nI1(5,"async"),core.k0s()}if(2&rf){const ctx_r1=core.XpG();core.Y8G("paginationOptions",ctx_r1.paginationConfig)("collectionSize",core.bMT(1,6,ctx_r1.totalElements$))("hideGear",!1)("hideSortOptions",!0),core.R7$(2),core.Y8G("ngIf",core.bMT(3,8,ctx_r1.isSourceProcessing())),core.R7$(2),core.Y8G("ngIf",!0!==core.bMT(5,10,ctx_r1.isSourceProcessing()))}}let QualityAssuranceSourceComponent=(()=>{class QualityAssuranceSourceComponent2{constructor(paginationService,notificationsStateService){this.paginationService=paginationService,this.notificationsStateService=notificationsStateService,this.paginationConfig=Object.assign(new pagination_component_options_model.W,{id:"btp",pageSize:10,pageSizeOptions:[5,10,20,40,60]}),this.subs=[]}ngOnInit(){this.sources$=this.notificationsStateService.getQualityAssuranceSource(),this.totalElements$=this.notificationsStateService.getQualityAssuranceSourceTotals()}ngAfterViewInit(){this.subs.push(this.notificationsStateService.isQualityAssuranceSourceLoaded().pipe((0,operators.s)(1)).subscribe(()=>{this.getQualityAssuranceSource()}))}isSourceLoading(){return this.notificationsStateService.isQualityAssuranceSourceLoading()}isSourceProcessing(){return this.notificationsStateService.isQualityAssuranceSourceProcessing()}getQualityAssuranceSource(){this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig).pipe((0,operators.F)()).subscribe(options=>{this.notificationsStateService.dispatchRetrieveQualityAssuranceSource(options.pageSize,options.currentPage)})}updatePaginationFromRouteParams(eventsRouteParams){eventsRouteParams.currentPage&&(this.paginationConfig.currentPage=eventsRouteParams.currentPage),eventsRouteParams.pageSize&&(this.paginationConfig.pageSize=this.paginationConfig.pageSizeOptions.includes(eventsRouteParams.pageSize)?eventsRouteParams.pageSize:this.paginationConfig.pageSizeOptions[0])}ngOnDestroy(){this.subs.filter(sub=>(0,empty_util.a4)(sub)).forEach(sub=>sub.unsubscribe())}static#_=this.\u0275fac=function(t){return new(t||QualityAssuranceSourceComponent2)(core.rXU(pagination_service.m),core.rXU(notifications_state_service.p))};static#_2=this.\u0275cmp=core.VBU({type:QualityAssuranceSourceComponent2,selectors:[["ds-quality-assurance-source"]],standalone:!0,features:[core.aNF],decls:16,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"border-bottom","pb-2"],[3,"type","content"],["class","container",3,"message",4,"ngIf"],[3,"paginationOptions","collectionSize","hideGear","hideSortOptions","paginationChange",4,"ngIf"],[1,"container",3,"message"],[3,"paginationChange","paginationOptions","collectionSize","hideGear","hideSortOptions"],["class","container","message","'quality-assurance.loading' | translate",4,"ngIf"],[4,"ngIf"],["message","'quality-assurance.loading' | translate",1,"container"],["class","alert alert-info w-100 mb-2 mt-2","role","alert",4,"ngIf"],["class","table-responsive mt-2",4,"ngIf"],["role","alert",1,"alert","alert-info","w-100","mb-2","mt-2"],[1,"table-responsive","mt-2"],["id","epeople",1,"table","table-striped","table-hover","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-primary","btn-sm",3,"title","routerLink"],[1,"badge","badge-info"],[1,"fas","fa-info","fa-fw"]],template:function(rf,ctx){1&rf&&(core.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),core.EFF(4),core.nI1(5,"translate"),core.k0s(),core.nrm(6,"ds-alert",4),core.k0s()(),core.j41(7,"div",1)(8,"div",2)(9,"h4",3),core.EFF(10),core.nI1(11,"translate"),core.k0s(),core.DNE(12,QualityAssuranceSourceComponent_ds_loading_12_Template,2,3,"ds-loading",5),core.nI1(13,"async"),core.DNE(14,QualityAssuranceSourceComponent_ds_pagination_14_Template,6,12,"ds-pagination",6),core.nI1(15,"async"),core.k0s()()()),2&rf&&(core.R7$(4),core.JRh(core.bMT(5,6,"quality-assurance.title")),core.R7$(2),core.Y8G("type","alert-info")("content","quality-assurance.source.description"),core.R7$(4),core.JRh(core.bMT(11,8,"quality-assurance.source")),core.R7$(2),core.Y8G("ngIf",core.bMT(13,10,ctx.isSourceLoading())),core.R7$(2),core.Y8G("ngIf",!0!==core.bMT(15,12,ctx.isSourceLoading())))},dependencies:[alert_component.C,common.bT,themed_loading_component.v,pagination_component.e,common.pM,router.Wk,common.Jj,ngx_translate_core.h,ngx_translate_core.D9,common.vh]})}return QualityAssuranceSourceComponent2})(),QualityAssuranceSourcePageComponent=(()=>{class QualityAssuranceSourcePageComponent2{static#_=this.\u0275fac=function(t){return new(t||QualityAssuranceSourcePageComponent2)};static#_2=this.\u0275cmp=core.VBU({type:QualityAssuranceSourcePageComponent2,selectors:[["ds-quality-assurance-source-page-component"]],standalone:!0,features:[core.aNF],decls:1,vars:0,template:function(rf,ctx){1&rf&&core.nrm(0,"ds-quality-assurance-source")},dependencies:[QualityAssuranceSourceComponent],encapsulation:2})}return QualityAssuranceSourcePageComponent2})()},26316:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>QualityAssuranceTopicsPageResolver});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(68014);let QualityAssuranceTopicsPageResolver=(()=>{class QualityAssuranceTopicsPageResolver2{resolve(route,state){return{pageId:route.queryParams.pageId,pageSize:parseInt(route.queryParams.pageSize,10),currentPage:parseInt(route.queryParams.page,10)}}static#_=this.\u0275fac=function(t){return new(t||QualityAssuranceTopicsPageResolver2)};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.jDH({token:QualityAssuranceTopicsPageResolver2,factory:QualityAssuranceTopicsPageResolver2.\u0275fac,providedIn:"root"})}return QualityAssuranceTopicsPageResolver2})()},48661:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>QualityAssuranceTopicsPageComponent});var common=__webpack_require__(84739),router=__webpack_require__(64247),ngx_translate_core=__webpack_require__(43750),operators=__webpack_require__(10743),admin_routing_paths=__webpack_require__(6602),item_data_service=__webpack_require__(94743),pagination_service=__webpack_require__(39304),shared_operators=__webpack_require__(82656),item_page_routing_paths=__webpack_require__(63254),alert_component=__webpack_require__(14467),empty_util=__webpack_require__(77028),themed_loading_component=__webpack_require__(32943),pagination_component=__webpack_require__(91904),pagination_component_options_model=__webpack_require__(64694),notifications_state_service=__webpack_require__(28908),core=__webpack_require__(68014);const _c0=a0=>({source:a0}),_c1=a0=>({param:a0}),_c2=(a0,a1,a2)=>[a0,a1,a2];function QualityAssuranceTopicsComponent_ds_alert_6_Template(rf,ctx){if(1&rf&&(core.j41(0,"ds-alert",7),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf){const ctx_r0=core.XpG();core.Y8G("type","alert-info"),core.R7$(),core.JRh(core.i5U(2,2,"quality-assurance.topics.description",core.eq3(5,_c0,ctx_r0.sourceId)))}}function QualityAssuranceTopicsComponent_ds_alert_7_Template(rf,ctx){if(1&rf&&(core.j41(0,"ds-alert",7),core.EFF(1),core.nI1(2,"translate"),core.j41(3,"a",8),core.EFF(4),core.nI1(5,"async"),core.k0s()()),2&rf){const ctx_r0=core.XpG();core.Y8G("type","alert-info"),core.R7$(),core.SpI(" ",core.i5U(2,4,"quality-assurance.topics.description-with-target",core.eq3(9,_c0,ctx_r0.sourceId))," "),core.R7$(2),core.Y8G("routerLink",ctx_r0.itemPageUrl),core.R7$(),core.JRh(core.bMT(5,7,ctx_r0.getTargetItemTitle()))}}function QualityAssuranceTopicsComponent_ds_loading_13_Template(rf,ctx){1&rf&&(core.nrm(0,"ds-loading",9),core.nI1(1,"translate")),2&rf&&core.FS9("message",core.bMT(1,1,"quality-assurance.loading"))}function QualityAssuranceTopicsComponent_ds_pagination_15_ds_loading_2_Template(rf,ctx){1&rf&&core.nrm(0,"ds-loading",13)}function QualityAssuranceTopicsComponent_ds_pagination_15_ng_container_4_div_1_Template(rf,ctx){1&rf&&(core.j41(0,"div",16),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"quality-assurance.noTopics")," "))}function QualityAssuranceTopicsComponent_ds_pagination_15_ng_container_4_div_3_tr_14_Template(rf,ctx){if(1&rf&&(core.j41(0,"tr")(1,"td"),core.EFF(2),core.k0s(),core.j41(3,"td"),core.EFF(4),core.nI1(5,"date"),core.k0s(),core.j41(6,"td")(7,"div",21)(8,"button",22),core.nI1(9,"translate"),core.j41(10,"span",23),core.EFF(11),core.k0s(),core.nrm(12,"i",24),core.k0s()()()()),2&rf){const topicElement_r3=ctx.$implicit,ctx_r0=core.XpG(4);core.R7$(2),core.JRh(topicElement_r3.name),core.R7$(2),core.JRh(core.i5U(5,5,topicElement_r3.lastEvent,"dd/MM/yyyy hh:mm")),core.R7$(4),core.FS9("title",core.i5U(9,8,"quality-assurance.topics-list.button.detail",core.eq3(11,_c1,topicElement_r3.name))),core.Y8G("routerLink",core.sMw(13,_c2,ctx_r0.getQualityAssuranceRoute(),ctx_r0.sourceId,topicElement_r3.id)),core.R7$(3),core.JRh(topicElement_r3.totalEvents)}}function QualityAssuranceTopicsComponent_ds_pagination_15_ng_container_4_div_3_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",17)(1,"table",18)(2,"thead")(3,"tr")(4,"th",19),core.EFF(5),core.nI1(6,"translate"),core.k0s(),core.j41(7,"th",19),core.EFF(8),core.nI1(9,"translate"),core.k0s(),core.j41(10,"th",19),core.EFF(11),core.nI1(12,"translate"),core.k0s()()(),core.j41(13,"tbody"),core.DNE(14,QualityAssuranceTopicsComponent_ds_pagination_15_ng_container_4_div_3_tr_14_Template,13,17,"tr",20),core.nI1(15,"async"),core.k0s()()()),2&rf){const ctx_r0=core.XpG(3);core.R7$(5),core.JRh(core.bMT(6,4,"quality-assurance.table.topic")),core.R7$(3),core.JRh(core.bMT(9,6,"quality-assurance.table.last-event")),core.R7$(3),core.JRh(core.bMT(12,8,"quality-assurance.table.actions")),core.R7$(3),core.Y8G("ngForOf",core.bMT(15,10,ctx_r0.topics$))}}function QualityAssuranceTopicsComponent_ds_pagination_15_ng_container_4_Template(rf,ctx){if(1&rf&&(core.qex(0),core.DNE(1,QualityAssuranceTopicsComponent_ds_pagination_15_ng_container_4_div_1_Template,3,3,"div",14),core.nI1(2,"async"),core.DNE(3,QualityAssuranceTopicsComponent_ds_pagination_15_ng_container_4_div_3_Template,16,12,"div",15),core.nI1(4,"async"),core.bVm()),2&rf){let tmp_2_0,tmp_3_0;const ctx_r0=core.XpG(2);core.R7$(),core.Y8G("ngIf",0===(null==(tmp_2_0=core.bMT(2,2,ctx_r0.topics$))?null:tmp_2_0.length)),core.R7$(2),core.Y8G("ngIf",0!==(null==(tmp_3_0=core.bMT(4,4,ctx_r0.topics$))?null:tmp_3_0.length))}}function QualityAssuranceTopicsComponent_ds_pagination_15_Template(rf,ctx){if(1&rf){const _r2=core.RV6();core.j41(0,"ds-pagination",10),core.nI1(1,"async"),core.bIt("paginationChange",function(){core.eBV(_r2);const ctx_r0=core.XpG();return core.Njj(ctx_r0.getQualityAssuranceTopics(ctx_r0.sourceId,ctx_r0.targetId))}),core.DNE(2,QualityAssuranceTopicsComponent_ds_pagination_15_ds_loading_2_Template,1,0,"ds-loading",11),core.nI1(3,"async"),core.DNE(4,QualityAssuranceTopicsComponent_ds_pagination_15_ng_container_4_Template,5,6,"ng-container",12),core.nI1(5,"async"),core.k0s()}if(2&rf){const ctx_r0=core.XpG();core.Y8G("paginationOptions",ctx_r0.paginationConfig)("collectionSize",core.bMT(1,6,ctx_r0.totalElements$))("hideGear",!1)("hideSortOptions",!0),core.R7$(2),core.Y8G("ngIf",core.bMT(3,8,ctx_r0.isTopicsProcessing())),core.R7$(2),core.Y8G("ngIf",!0!==core.bMT(5,10,ctx_r0.isTopicsProcessing()))}}let QualityAssuranceTopicsComponent=(()=>{class QualityAssuranceTopicsComponent2{constructor(paginationService,activatedRoute,itemService,notificationsStateService,router2){this.paginationService=paginationService,this.activatedRoute=activatedRoute,this.itemService=itemService,this.notificationsStateService=notificationsStateService,this.router=router2,this.paginationConfig=Object.assign(new pagination_component_options_model.W,{id:"btp",pageSize:10,pageSizeOptions:[5,10,20,40,60]}),this.subs=[],this.sourceId=this.activatedRoute.snapshot.params.sourceId,this.targetId=this.activatedRoute.snapshot.params.targetId}ngOnInit(){this.topics$=this.notificationsStateService.getQualityAssuranceTopics().pipe((0,operators.Mi)(topics=>{1===topics.length&&"true"===this.activatedRoute.snapshot.queryParams?.forward&&this.router.navigate([this.getQualityAssuranceRoute(),this.sourceId,topics[0].id])})),this.totalElements$=this.notificationsStateService.getQualityAssuranceTopicsTotals()}ngAfterViewInit(){this.subs.push(this.notificationsStateService.isQualityAssuranceTopicsLoaded().pipe((0,operators.s)(1)).subscribe(()=>{this.getQualityAssuranceTopics(this.sourceId,this.targetId)}))}isTopicsLoading(){return this.notificationsStateService.isQualityAssuranceTopicsLoading()}isTopicsProcessing(){return this.notificationsStateService.isQualityAssuranceTopicsProcessing()}getQualityAssuranceTopics(source,target){this.subs.push(this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig).pipe((0,operators.F)()).subscribe(options=>{this.notificationsStateService.dispatchRetrieveQualityAssuranceTopics(options.pageSize,options.currentPage,source,target)}))}updatePaginationFromRouteParams(eventsRouteParams){eventsRouteParams.currentPage&&(this.paginationConfig.currentPage=eventsRouteParams.currentPage),eventsRouteParams.pageSize&&(this.paginationConfig.pageSize=this.paginationConfig.pageSizeOptions.includes(eventsRouteParams.pageSize)?eventsRouteParams.pageSize:this.paginationConfig.pageSizeOptions[0])}getTargetItemTitle(){return this.itemService.findById(this.targetId).pipe((0,operators.s)(1),(0,shared_operators.qD)(),(0,shared_operators.Bo)(),(0,operators.Mi)(item=>this.itemPageUrl=(0,item_page_routing_paths._o)(item)),(0,operators.Tj)(item=>item.firstMetadataValue("dc.title")))}getItemPageRoute(item){return(0,item_page_routing_paths._o)(item)}getQualityAssuranceRoute(){return(0,admin_routing_paths.b7)()}ngOnDestroy(){this.subs.filter(sub=>(0,empty_util.a4)(sub)).forEach(sub=>sub.unsubscribe())}static#_=this.\u0275fac=function(t){return new(t||QualityAssuranceTopicsComponent2)(core.rXU(pagination_service.m),core.rXU(router.nX),core.rXU(item_data_service.ItemDataService),core.rXU(notifications_state_service.p),core.rXU(router.Ix))};static#_2=this.\u0275cmp=core.VBU({type:QualityAssuranceTopicsComponent2,selectors:[["ds-quality-assurance-topic"]],standalone:!0,features:[core.aNF],decls:17,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"border-bottom","pb-2"],[3,"type",4,"ngIf"],["class","container",3,"message",4,"ngIf"],[3,"paginationOptions","collectionSize","hideGear","hideSortOptions","paginationChange",4,"ngIf"],[3,"type"],[3,"routerLink"],[1,"container",3,"message"],[3,"paginationChange","paginationOptions","collectionSize","hideGear","hideSortOptions"],["class","container","message","'quality-assurance.loading' | translate",4,"ngIf"],[4,"ngIf"],["message","'quality-assurance.loading' | translate",1,"container"],["class","alert alert-info w-100 mb-2 mt-2","role","alert",4,"ngIf"],["class","table-responsive mt-2",4,"ngIf"],["role","alert",1,"alert","alert-info","w-100","mb-2","mt-2"],[1,"table-responsive","mt-2"],["id","epeople",1,"table","table-striped","table-hover","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-primary","btn-sm",3,"title","routerLink"],[1,"badge","badge-info"],[1,"fas","fa-info","fa-fw"]],template:function(rf,ctx){1&rf&&(core.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),core.EFF(4),core.nI1(5,"translate"),core.k0s(),core.DNE(6,QualityAssuranceTopicsComponent_ds_alert_6_Template,3,7,"ds-alert",4)(7,QualityAssuranceTopicsComponent_ds_alert_7_Template,6,11,"ds-alert",4),core.k0s()(),core.j41(8,"div",1)(9,"div",2)(10,"h4",3),core.EFF(11),core.nI1(12,"translate"),core.k0s(),core.DNE(13,QualityAssuranceTopicsComponent_ds_loading_13_Template,2,3,"ds-loading",5),core.nI1(14,"async"),core.DNE(15,QualityAssuranceTopicsComponent_ds_pagination_15_Template,6,12,"ds-pagination",6),core.nI1(16,"async"),core.k0s()()()),2&rf&&(core.R7$(4),core.JRh(core.bMT(5,6,"quality-assurance.title")),core.R7$(2),core.Y8G("ngIf",!ctx.targetId),core.R7$(),core.Y8G("ngIf",ctx.targetId),core.R7$(4),core.JRh(core.bMT(12,8,"quality-assurance.topics")),core.R7$(2),core.Y8G("ngIf",core.bMT(14,10,ctx.isTopicsLoading())),core.R7$(2),core.Y8G("ngIf",!0!==core.bMT(16,12,ctx.isTopicsLoading())))},dependencies:[alert_component.C,common.bT,themed_loading_component.v,pagination_component.e,common.pM,router.Wk,common.Jj,ngx_translate_core.h,ngx_translate_core.D9,common.vh]})}return QualityAssuranceTopicsComponent2})(),QualityAssuranceTopicsPageComponent=(()=>{class QualityAssuranceTopicsPageComponent2{static#_=this.\u0275fac=function(t){return new(t||QualityAssuranceTopicsPageComponent2)};static#_2=this.\u0275cmp=core.VBU({type:QualityAssuranceTopicsPageComponent2,selectors:[["ds-notification-qa-page"]],standalone:!0,features:[core.aNF],decls:1,vars:0,template:function(rf,ctx){1&rf&&core.nrm(0,"ds-quality-assurance-topic")},dependencies:[QualityAssuranceTopicsComponent],encapsulation:2})}return QualityAssuranceTopicsPageComponent2})()}};