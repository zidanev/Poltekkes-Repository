exports.id=1815,exports.ids=[1815,8870,1555,148,7231,1870],exports.modules={96622:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>Breadcrumb});class Breadcrumb{constructor(text,url){this.text=text,this.url=url}}},34168:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>browseByGuard});var _angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(68014),_angular_router__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(64247),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(43750),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10743),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45930),_core_browse_browse_definition_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(85722),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(82656),_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(77028);const browseByGuard=(route,state,browseDefinitionService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.WQX)(_core_browse_browse_definition_data_service__WEBPACK_IMPORTED_MODULE_1__.BrowseDefinitionDataService),router=(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.WQX)(_angular_router__WEBPACK_IMPORTED_MODULE_4__.Ix),translate=(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.WQX)(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__.c$))=>{const title=route.data.title,id=route.params.id||route.queryParams.id||route.data.id;let browseDefinition$;browseDefinition$=(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.Tn)(route.data.browseDefinition)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(id)?browseDefinitionService.findById(id).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Tj)(browseDefinitionRD=>browseDefinitionRD.payload)):(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(route.data.browseDefinition);const scope=route.queryParams.scope??route.parent?.params.id,value=route.queryParams.value,metadataTranslated=translate.instant(`browse.metadata.${id}`);return browseDefinition$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.nx)(browseDefinition=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(browseDefinition)?(route.data=function createData(title,id,browseDefinition,field,value,route,scope){return Object.assign({},route.data,{title,id,browseDefinition,field,value:(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(value)?`"${value}"`:"",scope})}(title,id,browseDefinition,metadataTranslated,value,route,scope),(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!0)):(router.navigate([_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.RD]),(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!1))))}},45647:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>browseByI18nBreadcrumbResolver});var _core_breadcrumbs_i18n_breadcrumb_resolver__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21870);const browseByI18nBreadcrumbResolver=(route,state)=>(route.data=Object.assign({},route.data,{breadcrumbKey:route.data.breadcrumbKey+"."+route.params.id}),(0,_core_breadcrumbs_i18n_breadcrumb_resolver__WEBPACK_IMPORTED_MODULE_0__.S)(route,state))},4456:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>BrowseBySwitcherComponent}),__webpack_require__(34069);var _shared_abstract_component_loader_abstract_component_loader_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4027),_shared_abstract_component_loader_dynamic_component_loader_directive__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(21962),_browse_by_decorator__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(89139),__webpack_require__(42513)),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(68014);function BrowseBySwitcherComponent_ng_template_0_Template(rf,ctx){}let BrowseBySwitcherComponent=(()=>{class BrowseBySwitcherComponent2 extends _shared_abstract_component_loader_abstract_component_loader_component__WEBPACK_IMPORTED_MODULE_1__.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["context","browseByType"],this.inputNames=["context","browseByType","displayTitle","scope"]}getComponent(){return(0,_browse_by_decorator__WEBPACK_IMPORTED_MODULE_3__.cv)(this.browseByType,this.context,this.themeService.getThemeName())}static#_=this.\u0275fac=(()=>{let \u0275BrowseBySwitcherComponent_BaseFactory;return function(t){return(\u0275BrowseBySwitcherComponent_BaseFactory||(\u0275BrowseBySwitcherComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_4__.xGo(BrowseBySwitcherComponent2)))(t||BrowseBySwitcherComponent2)}})();static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.VBU({type:BrowseBySwitcherComponent2,selectors:[["ds-browse-by-switcher"]],inputs:{context:"context",browseByType:"browseByType",displayTitle:"displayTitle",scope:"scope"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_4__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_4__.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(0,BrowseBySwitcherComponent_ng_template_0_Template,0,0,"ng-template",1,0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.C5r)},dependencies:[_shared_abstract_component_loader_dynamic_component_loader_directive__WEBPACK_IMPORTED_MODULE_5__.z],encapsulation:2})}return BrowseBySwitcherComponent2})()},67259:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>CommunityFormComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(84739),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(71508),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(43750),_environments_environment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(72035),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(41543),_core_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40017),_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(83591),_core_data_request_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(72744),_core_shared_community_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(61935),_shared_comcol_comcol_forms_comcol_form_comcol_form_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(47357),_shared_comcol_comcol_page_logo_comcol_page_logo_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(54337),_shared_form_form_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(49148),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(10117),_shared_upload_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(55361),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(45961),_angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(68014),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(71781);function CommunityFormComponent_ng_container_6_div_1_div_5_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div",12)(1,"button",13),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(ctx_r1.confirmLogoDeleteWithModal())}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI("",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(3,1,"community.edit.logo.delete.title")," "))}function CommunityFormComponent_ng_container_6_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div",7)(1,"div",1)(2,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(3,"ds-comcol-page-logo",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(4,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(5,CommunityFormComponent_ng_container_6_div_1_div_5_Template,4,3,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()()),2&rf){const logo_r3=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG().ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("alternateText",ctx_r1.type.value+".logo.alt")("logo",logo_r3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("ngIf",logo_r3)}}function CommunityFormComponent_ng_container_6_div_2_ds_uploader_1_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_11__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"ds-uploader",16),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("onCompleteItem",function(){_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_r4);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(ctx_r1.onCompleteItem())})("onUploadError",function(){_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_r4);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(ctx_r1.onUploadError())}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("ariaLabel",ctx_r1.type.value+".browse.logo")("dropMsg",ctx_r1.type.value+".edit.logo.upload")("dropOverDocumentMsg",ctx_r1.type.value+".edit.logo.upload")("enableDragOverDocument",!0)("uploadFilesOptions",ctx_r1.uploadFilesOptions)}}function CommunityFormComponent_ng_container_6_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(1,CommunityFormComponent_ng_container_6_div_2_ds_uploader_1_Template,1,5,"ds-uploader",15),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(2,1,ctx_r1.initializedUploaderOptions))}}function CommunityFormComponent_ng_container_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.qex(0),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(1,CommunityFormComponent_ng_container_6_div_1_Template,6,3,"div",5)(2,CommunityFormComponent_ng_container_6_div_2_Template,3,3,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bVm()),2&rf){const logo_r3=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("ngIf",logo_r3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("ngIf",!logo_r3)}}function CommunityFormComponent_ds_form_8_Template(rf,ctx){if(1&rf){const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_11__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"ds-form",17),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("submitForm",function(){_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_r5);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(ctx_r1.onSubmit())}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(1,"button",18),_angular_core__WEBPACK_IMPORTED_MODULE_11__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_11__.eBV(_r5);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_11__.Njj(ctx_r1.back.emit())}),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nrm(2,"i",19),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("formId","comcol-form-id")("formModel",ctx_r1.formModel)("displayCancel",!1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(4,4,ctx_r1.type.value+".edit.return")," ")}}let CommunityFormComponent=(()=>{class CommunityFormComponent2 extends _shared_comcol_comcol_forms_comcol_form_comcol_form_component__WEBPACK_IMPORTED_MODULE_6__.V{constructor(formService,translate,notificationsService,authService,dsoService,requestService,objectCache,modalService){super(formService,translate,notificationsService,authService,requestService,objectCache,modalService),this.formService=formService,this.translate=translate,this.notificationsService=notificationsService,this.authService=authService,this.dsoService=dsoService,this.requestService=requestService,this.objectCache=objectCache,this.modalService=modalService,this.dso=new _core_shared_community_model__WEBPACK_IMPORTED_MODULE_5__.E,this.type=_core_shared_community_model__WEBPACK_IMPORTED_MODULE_5__.E.type,this.formModel=[new _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_12__.rA_({id:"title",name:"dc.title",required:!0,validators:{required:null},errorMessages:{required:"Please enter a name for this title"}}),new _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_12__.Zex({id:"description",name:"dc.description",spellCheck:_environments_environment__WEBPACK_IMPORTED_MODULE_0__.c.form.spellCheck}),new _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_12__.Zex({id:"abstract",name:"dc.description.abstract",spellCheck:_environments_environment__WEBPACK_IMPORTED_MODULE_0__.c.form.spellCheck}),new _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_12__.Zex({id:"rights",name:"dc.rights",spellCheck:_environments_environment__WEBPACK_IMPORTED_MODULE_0__.c.form.spellCheck}),new _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_12__.Zex({id:"tableofcontents",name:"dc.description.tableofcontents",spellCheck:_environments_environment__WEBPACK_IMPORTED_MODULE_0__.c.form.spellCheck})]}ngOnChanges(changes){const dsoChange=changes.dso;this.dso&&dsoChange&&!dsoChange.isFirstChange()&&super.ngOnInit()}static#_=this.\u0275fac=function(t){return new(t||CommunityFormComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_12__.J9r),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_9__.I),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__.uR),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_3__.CommunityDataService),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_core_data_request_service__WEBPACK_IMPORTED_MODULE_4__.B),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_core_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_11__.rXU(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_14__.Bq))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_11__.VBU({type:CommunityFormComponent2,selectors:[["ds-community-form"]],inputs:{dso:"dso"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_11__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_11__.OA$,_angular_core__WEBPACK_IMPORTED_MODULE_11__.aNF],decls:9,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","d-inline-block","mb-1"],[4,"ngVar"],[3,"formId","formModel","displayCancel","submitForm",4,"ngIf"],["class","col-12 d-inline-block alert","id","logo-section",4,"ngIf"],["class","col-12 d-inline-block",4,"ngIf"],["id","logo-section",1,"col-12","d-inline-block","alert"],[1,"col-8","d-inline-block"],[3,"alternateText","logo"],[1,"col-4","d-inline-block"],["class","float-right",4,"ngIf"],[1,"float-right"],["type","button",1,"btn","btn-danger",3,"click"],[1,"col-12","d-inline-block"],[3,"ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError",4,"ngIf"],[3,"onCompleteItem","onUploadError","ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"submitForm","formId","formModel","displayCancel"],["before","","type","button",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"]],template:function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.EFF(4),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(6,CommunityFormComponent_ng_container_6_Template,3,2,"ng-container",3),_angular_core__WEBPACK_IMPORTED_MODULE_11__.nI1(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.DNE(8,CommunityFormComponent_ds_form_8_Template,5,6,"ds-form",4)),2&rf){let tmp_1_0;_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_11__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(5,3,ctx.type.value+".edit.logo.label")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("ngVar",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.bMT(7,5,null==ctx.dso?null:ctx.dso.logo))?null:tmp_1_0.payload),_angular_core__WEBPACK_IMPORTED_MODULE_11__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y8G("ngIf",ctx.formModel)}},dependencies:[_shared_form_form_component__WEBPACK_IMPORTED_MODULE_8__.s,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.D9,_shared_upload_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_10__.y,_angular_common__WEBPACK_IMPORTED_MODULE_15__.Jj,_shared_comcol_comcol_page_logo_comcol_page_logo_component__WEBPACK_IMPORTED_MODULE_7__.X,_angular_common__WEBPACK_IMPORTED_MODULE_15__.bT,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_16__.r]})}return CommunityFormComponent2})()},31815:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ROUTES:()=>ROUTES});var browse_by_guard=__webpack_require__(34168),browse_by_i18n_breadcrumb_resolver=__webpack_require__(45647),authenticated_guard=__webpack_require__(98234),community_breadcrumb_resolver=__webpack_require__(89533),i18n_breadcrumb_resolver=__webpack_require__(21870),comcol_browse_by_component=__webpack_require__(39328),comcol_search_section_component=__webpack_require__(78214),dso_edit_menu_resolver=__webpack_require__(34615),menu_item_type_model=__webpack_require__(80122),community_page_resolver=__webpack_require__(83534),cjs=__webpack_require__(74785),dso_page_single_feature_guard=__webpack_require__(96293),feature_id=__webpack_require__(29321);const communityPageAdministratorGuard=(0,dso_page_single_feature_guard.L)(()=>community_page_resolver.D,()=>(0,cjs.of)(feature_id._.AdministratorOf));var community_page_routing_paths=__webpack_require__(27546),common=__webpack_require__(84739),ngx_translate_core=__webpack_require__(43750),dso_name_service=__webpack_require__(91735),community_data_service=__webpack_require__(83591),request_service=__webpack_require__(72744),route_service=__webpack_require__(86759),community_model=__webpack_require__(61935),create_comcol_page_component=__webpack_require__(49843),themed_loading_component=__webpack_require__(32943),notifications_service=__webpack_require__(10117),var_directive=__webpack_require__(45961),community_form_component=__webpack_require__(67259),core=__webpack_require__(68014),fesm2022_router=__webpack_require__(64247);const _c0=a0=>({parent:a0});function CreateCommunityPageComponent_div_0_ng_container_3_h2_1_Template(rf,ctx){1&rf&&(core.j41(0,"h2",9),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf&&(core.R7$(),core.JRh(core.bMT(2,1,"community.create.head")))}function CreateCommunityPageComponent_div_0_ng_container_3_h2_2_Template(rf,ctx){if(1&rf&&(core.j41(0,"h2",10),core.EFF(1),core.nI1(2,"translate"),core.k0s()),2&rf){const parent_r2=core.XpG().ngVar,ctx_r2=core.XpG(2);core.R7$(),core.JRh(core.i5U(2,1,"community.create.sub-head",core.eq3(4,_c0,ctx_r2.dsoNameService.getName(parent_r2))))}}function CreateCommunityPageComponent_div_0_ng_container_3_Template(rf,ctx){if(1&rf&&(core.qex(0),core.DNE(1,CreateCommunityPageComponent_div_0_ng_container_3_h2_1_Template,3,3,"h2",7)(2,CreateCommunityPageComponent_div_0_ng_container_3_h2_2_Template,3,6,"h2",8),core.bVm()),2&rf){const parent_r2=ctx.ngVar;core.R7$(),core.Y8G("ngIf",!parent_r2),core.R7$(),core.Y8G("ngIf",parent_r2)}}function CreateCommunityPageComponent_div_0_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"div",1)(1,"div",3)(2,"div",4),core.DNE(3,CreateCommunityPageComponent_div_0_ng_container_3_Template,3,2,"ng-container",5),core.nI1(4,"async"),core.k0s()(),core.j41(5,"ds-community-form",6),core.bIt("submitForm",function($event){core.eBV(_r1);const ctx_r2=core.XpG();return core.Njj(ctx_r2.onSubmit($event))})("back",function(){core.eBV(_r1);const ctx_r2=core.XpG();return core.Njj(ctx_r2.navigateToHome())}),core.k0s()()}if(2&rf){let tmp_1_0;const ctx_r2=core.XpG();core.R7$(3),core.Y8G("ngVar",null==(tmp_1_0=core.bMT(4,2,ctx_r2.parentRD$))?null:tmp_1_0.payload),core.R7$(2),core.Y8G("isCreation",!0)}}function CreateCommunityPageComponent_ds_loading_3_Template(rf,ctx){1&rf&&core.nrm(0,"ds-loading")}let CreateCommunityPageComponent=(()=>{class CreateCommunityPageComponent2 extends create_comcol_page_component.Q{constructor(communityDataService,dsoNameService,routeService,router,notificationsService,translate,requestService){super(communityDataService,dsoNameService,communityDataService,routeService,router,notificationsService,translate,requestService),this.communityDataService=communityDataService,this.dsoNameService=dsoNameService,this.routeService=routeService,this.router=router,this.notificationsService=notificationsService,this.translate=translate,this.requestService=requestService,this.frontendURL="/communities/",this.type=community_model.E.type}static#_=this.\u0275fac=function(t){return new(t||CreateCommunityPageComponent2)(core.rXU(community_data_service.CommunityDataService),core.rXU(dso_name_service.f),core.rXU(route_service.v$),core.rXU(fesm2022_router.Ix),core.rXU(notifications_service.I),core.rXU(ngx_translate_core.c$),core.rXU(request_service.B))};static#_2=this.\u0275cmp=core.VBU({type:CreateCommunityPageComponent2,selectors:[["ds-create-community"]],standalone:!0,features:[core.Vt3,core.aNF],decls:5,vars:6,consts:[["class","container",4,"ngIf"],[1,"container"],[4,"ngIf"],[1,"row"],[1,"col-12","pb-4"],[4,"ngVar"],[3,"submitForm","back","isCreation"],["id","header","class","border-bottom p-2",4,"ngIf"],["id","sub-header","class","border-bottom pb-2",4,"ngIf"],["id","header",1,"border-bottom","p-2"],["id","sub-header",1,"border-bottom","pb-2"]],template:function(rf,ctx){1&rf&&(core.DNE(0,CreateCommunityPageComponent_div_0_Template,6,4,"div",0),core.nI1(1,"async"),core.j41(2,"div",1),core.DNE(3,CreateCommunityPageComponent_ds_loading_3_Template,1,0,"ds-loading",2),core.nI1(4,"async"),core.k0s()),2&rf&&(core.Y8G("ngIf",!1===core.bMT(1,2,ctx.isLoading$)),core.R7$(3),core.Y8G("ngIf",core.bMT(4,4,ctx.isLoading$)))},dependencies:[community_form_component.p,ngx_translate_core.h,ngx_translate_core.D9,var_directive.r,common.bT,common.Jj,themed_loading_component.v]})}return CreateCommunityPageComponent2})();var operators=__webpack_require__(10743),shared_operators=__webpack_require__(82656),empty_util=__webpack_require__(77028),delete_comcol_page_component=__webpack_require__(84585);const delete_community_page_component_c0=a0=>({dso:a0});function DeleteCommunityPageComponent_ng_container_2_span_17_Template(rf,ctx){1&rf&&(core.j41(0,"span"),core.nrm(1,"i",12),core.EFF(2),core.nI1(3,"translate"),core.k0s()),2&rf&&(core.R7$(2),core.SpI(" ",core.bMT(3,1,"community.delete.processing"),""))}function DeleteCommunityPageComponent_ng_container_2_span_19_Template(rf,ctx){1&rf&&(core.j41(0,"span"),core.nrm(1,"i",13),core.EFF(2),core.nI1(3,"translate"),core.k0s()),2&rf&&(core.R7$(2),core.SpI(" ",core.bMT(3,1,"community.delete.confirm"),""))}function DeleteCommunityPageComponent_ng_container_2_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.qex(0),core.j41(1,"div",3)(2,"h1",4),core.EFF(3),core.nI1(4,"translate"),core.k0s(),core.j41(5,"p",5),core.EFF(6),core.nI1(7,"translate"),core.k0s(),core.j41(8,"div",6)(9,"div",7)(10,"button",8),core.nI1(11,"async"),core.bIt("click",function(){const dso_r2=core.eBV(_r1).ngVar,ctx_r2=core.XpG();return core.Njj(ctx_r2.onCancel(dso_r2))}),core.nrm(12,"i",9),core.EFF(13),core.nI1(14,"translate"),core.k0s(),core.j41(15,"button",10),core.nI1(16,"async"),core.bIt("click",function(){const dso_r2=core.eBV(_r1).ngVar,ctx_r2=core.XpG();return core.Njj(ctx_r2.onConfirm(dso_r2))}),core.DNE(17,DeleteCommunityPageComponent_ng_container_2_span_17_Template,4,3,"span",11),core.nI1(18,"async"),core.DNE(19,DeleteCommunityPageComponent_ng_container_2_span_19_Template,4,3,"span",11),core.nI1(20,"async"),core.k0s()()()(),core.bVm()}if(2&rf){const dso_r2=ctx.ngVar,ctx_r2=core.XpG();core.R7$(3),core.JRh(core.bMT(4,7,"community.delete.head")),core.R7$(3),core.JRh(core.i5U(7,9,"community.delete.text",core.eq3(22,delete_community_page_component_c0,ctx_r2.dsoNameService.getName(dso_r2)))),core.R7$(4),core.Y8G("disabled",core.bMT(11,12,ctx_r2.processing$)),core.R7$(3),core.SpI(" ",core.bMT(14,14,"community.delete.cancel")," "),core.R7$(2),core.Y8G("disabled",core.bMT(16,16,ctx_r2.processing$)),core.R7$(2),core.Y8G("ngIf",core.bMT(18,18,ctx_r2.processing$)),core.R7$(2),core.Y8G("ngIf",!0!==core.bMT(20,20,ctx_r2.processing$))}}let DeleteCommunityPageComponent=(()=>{class DeleteCommunityPageComponent2 extends delete_comcol_page_component.D{constructor(dsoDataService,dsoNameService,router,route,notifications,translate){super(dsoDataService,dsoNameService,router,route,notifications,translate),this.dsoDataService=dsoDataService,this.dsoNameService=dsoNameService,this.router=router,this.route=route,this.notifications=notifications,this.translate=translate,this.frontendURL="/communities/"}static#_=this.\u0275fac=function(t){return new(t||DeleteCommunityPageComponent2)(core.rXU(community_data_service.CommunityDataService),core.rXU(dso_name_service.f),core.rXU(fesm2022_router.Ix),core.rXU(fesm2022_router.nX),core.rXU(notifications_service.I),core.rXU(ngx_translate_core.c$))};static#_2=this.\u0275cmp=core.VBU({type:DeleteCommunityPageComponent2,selectors:[["ds-delete-community"]],standalone:!0,features:[core.Vt3,core.aNF],decls:4,vars:3,consts:[[1,"container"],[1,"row"],[4,"ngVar"],[1,"col-12","pb-4"],["id","header",1,"border-bottom","pb-2"],[1,"pb-2"],[1,"form-group","row"],[1,"col","text-right","space-children-mr"],[1,"btn","btn-outline-secondary",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"btn","btn-danger",3,"click","disabled"],[4,"ngIf"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin"],["aria-hidden","true",1,"fas","fa-trash"]],template:function(rf,ctx){if(1&rf&&(core.j41(0,"div",0)(1,"div",1),core.DNE(2,DeleteCommunityPageComponent_ng_container_2_Template,21,24,"ng-container",2),core.nI1(3,"async"),core.k0s()()),2&rf){let tmp_0_0;core.R7$(2),core.Y8G("ngVar",null==(tmp_0_0=core.bMT(3,1,ctx.dsoRD$))?null:tmp_0_0.payload)}},dependencies:[ngx_translate_core.h,ngx_translate_core.D9,common.Jj,var_directive.r,common.bT]})}return DeleteCommunityPageComponent2})();var themed_component=__webpack_require__(31260);__webpack_require__(33487);const themed_community_page_sub_collection_list_component_c0=["*"];function ThemedCollectionPageSubCollectionListComponent_ng_template_0_Template(rf,ctx){}let ThemedCollectionPageSubCollectionListComponent=(()=>{class ThemedCollectionPageSubCollectionListComponent2 extends themed_component.J{constructor(){super(...arguments),this.inAndOutputNames=["community","pageSize"]}getComponentName(){return"CommunityPageSubCollectionListComponent"}importThemedComponent(themeName){return __webpack_require__(60771)(`./${themeName}/app/community-page/sections/sub-com-col-section/sub-collection-list/community-page-sub-collection-list.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,33487))}static#_=this.\u0275fac=(()=>{let \u0275ThemedCollectionPageSubCollectionListComponent_BaseFactory;return function(t){return(\u0275ThemedCollectionPageSubCollectionListComponent_BaseFactory||(\u0275ThemedCollectionPageSubCollectionListComponent_BaseFactory=core.xGo(ThemedCollectionPageSubCollectionListComponent2)))(t||ThemedCollectionPageSubCollectionListComponent2)}})();static#_2=this.\u0275cmp=core.VBU({type:ThemedCollectionPageSubCollectionListComponent2,selectors:[["ds-community-page-sub-collection-list"]],inputs:{community:"community",pageSize:"pageSize"},standalone:!0,features:[core.Vt3,core.aNF],ngContentSelectors:themed_community_page_sub_collection_list_component_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(core.NAR(),core.DNE(0,ThemedCollectionPageSubCollectionListComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.C5r),core.j41(2,"div",null,1),core.SdG(4),core.k0s())},encapsulation:2})}return ThemedCollectionPageSubCollectionListComponent2})();__webpack_require__(23102);const themed_community_page_sub_community_list_component_c0=["*"];function ThemedCommunityPageSubCommunityListComponent_ng_template_0_Template(rf,ctx){}let ThemedCommunityPageSubCommunityListComponent=(()=>{class ThemedCommunityPageSubCommunityListComponent2 extends themed_component.J{constructor(){super(...arguments),this.inAndOutputNames=["community","pageSize"]}getComponentName(){return"CommunityPageSubCommunityListComponent"}importThemedComponent(themeName){return __webpack_require__(24427)(`./${themeName}/app/community-page/sections/sub-com-col-section/sub-community-list/community-page-sub-community-list.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,23102))}static#_=this.\u0275fac=(()=>{let \u0275ThemedCommunityPageSubCommunityListComponent_BaseFactory;return function(t){return(\u0275ThemedCommunityPageSubCommunityListComponent_BaseFactory||(\u0275ThemedCommunityPageSubCommunityListComponent_BaseFactory=core.xGo(ThemedCommunityPageSubCommunityListComponent2)))(t||ThemedCommunityPageSubCommunityListComponent2)}})();static#_2=this.\u0275cmp=core.VBU({type:ThemedCommunityPageSubCommunityListComponent2,selectors:[["ds-community-page-sub-community-list"]],inputs:{community:"community",pageSize:"pageSize"},standalone:!0,features:[core.Vt3,core.aNF],ngContentSelectors:themed_community_page_sub_community_list_component_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(core.NAR(),core.DNE(0,ThemedCommunityPageSubCommunityListComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.C5r),core.j41(2,"div",null,1),core.SdG(4),core.k0s())},encapsulation:2})}return ThemedCommunityPageSubCommunityListComponent2})();function SubComColSectionComponent_ng_container_0_Template(rf,ctx){if(1&rf&&(core.qex(0),core.nrm(1,"ds-community-page-sub-community-list",1)(2,"ds-community-page-sub-collection-list",1),core.bVm()),2&rf){const community_r1=ctx.ngIf;core.R7$(),core.Y8G("community",community_r1),core.R7$(),core.Y8G("community",community_r1)}}let SubComColSectionComponent=(()=>{class SubComColSectionComponent2{constructor(route){this.route=route}ngOnInit(){this.community$=this.route.parent.data.pipe((0,operators.Tj)(data=>data.dso.payload))}static#_=this.\u0275fac=function(t){return new(t||SubComColSectionComponent2)(core.rXU(fesm2022_router.nX))};static#_2=this.\u0275cmp=core.VBU({type:SubComColSectionComponent2,selectors:[["ds-sub-com-col-section"]],standalone:!0,features:[core.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[3,"community"]],template:function(rf,ctx){1&rf&&(core.DNE(0,SubComColSectionComponent_ng_container_0_Template,3,2,"ng-container",0),core.nI1(1,"async")),2&rf&&core.Y8G("ngIf",core.bMT(1,1,ctx.community$))},dependencies:[ThemedCommunityPageSubCommunityListComponent,ThemedCollectionPageSubCollectionListComponent,common.Jj,common.bT]})}return SubComColSectionComponent2})();__webpack_require__(74845);const themed_community_page_component_c0=["*"];function ThemedCommunityPageComponent_ng_template_0_Template(rf,ctx){}const ROUTES=[{path:community_page_routing_paths.D6,children:[{path:"",component:CreateCommunityPageComponent,resolve:{breadcrumb:i18n_breadcrumb_resolver.S},data:{breadcrumbKey:"community.create"}}],canActivate:[authenticated_guard.t,(route,state,communityService=(0,core.WQX)(community_data_service.CommunityDataService),router=(0,core.WQX)(fesm2022_router.Ix))=>{const parentID=route.queryParams.parent;return(0,empty_util.Tn)(parentID)?(0,cjs.of)(!0):communityService.findById(parentID).pipe((0,shared_operators.qD)(),(0,operators.Tj)(communityRD=>(0,empty_util.a4)(communityRD)&&communityRD.hasSucceeded&&(0,empty_util.a4)(communityRD.payload)),(0,operators.Mi)(isValid=>{isValid||router.navigate(["/404"])}))}],data:{breadcrumbQueryParam:"parent"},resolve:{breadcrumb:community_breadcrumb_resolver.V},runGuardsAndResolvers:"always"},{path:":id",resolve:{dso:community_page_resolver.D,breadcrumb:community_breadcrumb_resolver.V,menu:dso_edit_menu_resolver.c},runGuardsAndResolvers:"always",children:[{path:community_page_routing_paths.zQ,loadChildren:()=>__webpack_require__.e(8656).then(__webpack_require__.bind(__webpack_require__,48656)).then(m=>m.ROUTES),canActivate:[communityPageAdministratorGuard]},{path:"delete",pathMatch:"full",component:DeleteCommunityPageComponent,canActivate:[authenticated_guard.t]},{path:"",component:(()=>{class ThemedCommunityPageComponent2 extends themed_component.J{getComponentName(){return"CommunityPageComponent"}importThemedComponent(themeName){return __webpack_require__(76098)(`./${themeName}/app/community-page/community-page.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,74845))}static#_=this.\u0275fac=(()=>{let \u0275ThemedCommunityPageComponent_BaseFactory;return function(t){return(\u0275ThemedCommunityPageComponent_BaseFactory||(\u0275ThemedCommunityPageComponent_BaseFactory=core.xGo(ThemedCommunityPageComponent2)))(t||ThemedCommunityPageComponent2)}})();static#_2=this.\u0275cmp=core.VBU({type:ThemedCommunityPageComponent2,selectors:[["ds-community-page"]],standalone:!0,features:[core.Vt3,core.aNF],ngContentSelectors:themed_community_page_component_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(core.NAR(),core.DNE(0,ThemedCommunityPageComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.C5r),core.j41(2,"div",null,1),core.SdG(4),core.k0s())},encapsulation:2})}return ThemedCommunityPageComponent2})(),children:[{path:"",pathMatch:"full",component:comcol_search_section_component.E},{path:"subcoms-cols",pathMatch:"full",component:SubComColSectionComponent,resolve:{breadcrumb:i18n_breadcrumb_resolver.S},data:{breadcrumbKey:"community.subcoms-cols"}},{path:"browse/:id",pathMatch:"full",component:comcol_browse_by_component.O,canActivate:[browse_by_guard.h],resolve:{breadcrumb:browse_by_i18n_breadcrumb_resolver.p},data:{breadcrumbKey:"browse.metadata"}}]}],data:{menu:{public:[{id:"statistics_community_:id",active:!0,visible:!0,index:2,model:{type:menu_item_type_model.x.LINK,text:"menu.section.statistics",link:"statistics/communities/:id/"}}]}}}]},74845:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CommunityPageComponent:()=>CommunityPageComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(84739),_angular_router__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(64247),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(43750),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(10743),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(41543),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(91735),_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(30289),_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29321),_core_shared_authorized_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(78911),_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(82656),_shared_animations_fade__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(28107),_shared_comcol_comcol_page_browse_by_themed_comcol_page_browse_by_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7105),_shared_comcol_comcol_page_content_themed_comcol_page_content_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(48011),_shared_comcol_comcol_page_handle_themed_comcol_page_handle_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(46763),_shared_comcol_comcol_page_header_comcol_page_header_component__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(61781),_shared_comcol_comcol_page_logo_comcol_page_logo_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(54337),_shared_dso_page_dso_edit_menu_dso_edit_menu_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(92254),_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(77028),_shared_error_error_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(36159),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(32943),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(45961),_statistics_angulartics_dspace_view_tracker_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(27657),_community_page_routing_paths__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(27546),_angular_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(68014);function CommunityPageComponent_div_0_div_1_div_1_ds_comcol_page_logo_5_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(0,"ds-comcol-page-logo",17),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nI1(2,"translate")),2&rf){let tmp_6_0;const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.XpG(4);_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("logo",null==(tmp_6_0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.bMT(1,2,ctx_r0.logoRD$))?null:tmp_6_0.payload)("alternateText",_angular_core__WEBPACK_IMPORTED_MODULE_15__.bMT(2,4,"community.logo"))}}function CommunityPageComponent_div_0_div_1_div_1_footer_13_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.j41(0,"footer",18),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(1,"ds-comcol-page-content",12),_angular_core__WEBPACK_IMPORTED_MODULE_15__.k0s()),2&rf){const communityPayload_r2=_angular_core__WEBPACK_IMPORTED_MODULE_15__.XpG().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("content",communityPayload_r2.copyrightText)("hasInnerHtml",!0)}}function CommunityPageComponent_div_0_div_1_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.j41(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(1,"ds-view-tracker",6),_angular_core__WEBPACK_IMPORTED_MODULE_15__.j41(2,"div",7)(3,"header",8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(4,"ds-comcol-page-header",9),_angular_core__WEBPACK_IMPORTED_MODULE_15__.DNE(5,CommunityPageComponent_div_0_div_1_div_1_ds_comcol_page_logo_5_Template,3,6,"ds-comcol-page-logo",10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(6,"ds-comcol-page-handle",11)(7,"ds-comcol-page-content",12)(8,"ds-comcol-page-content",13),_angular_core__WEBPACK_IMPORTED_MODULE_15__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(9,"ds-dso-edit-menu"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.j41(10,"section",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(11,"ds-comcol-page-browse-by",15)(12,"router-outlet"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.DNE(13,CommunityPageComponent_div_0_div_1_div_1_footer_13_Template,2,2,"footer",16),_angular_core__WEBPACK_IMPORTED_MODULE_15__.k0s()),2&rf){const communityPayload_r2=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("object",communityPayload_r2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("name",ctx_r0.dsoNameService.getName(communityPayload_r2)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("ngIf",ctx_r0.logoRD$),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("content",communityPayload_r2.handle)("title","community.page.handle"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("content",communityPayload_r2.introductoryText)("hasInnerHtml",!0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("content",communityPayload_r2.sidebarText)("hasInnerHtml",!0)("title","community.page.news"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("id",communityPayload_r2.id)("contentType",communityPayload_r2.type),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("ngIf",communityPayload_r2.copyrightText)}}function CommunityPageComponent_div_0_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.j41(0,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.DNE(1,CommunityPageComponent_div_0_div_1_div_1_Template,14,13,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.k0s()),2&rf){const communityRD_r3=_angular_core__WEBPACK_IMPORTED_MODULE_15__.XpG().ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("@fadeInOut",void 0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("ngIf",null==communityRD_r3?null:communityRD_r3.payload)}}function CommunityPageComponent_div_0_ds_error_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(0,"ds-error",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_15__.bMT(1,1,"error.community"))}function CommunityPageComponent_div_0_ds_loading_3_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(0,"ds-loading",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_15__.bMT(1,1,"loading.community"))}function CommunityPageComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.j41(0,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.DNE(1,CommunityPageComponent_div_0_div_1_Template,2,2,"div",2)(2,CommunityPageComponent_div_0_ds_error_2_Template,2,3,"ds-error",3)(3,CommunityPageComponent_div_0_ds_loading_3_Template,2,3,"ds-loading",3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.k0s()),2&rf){const communityRD_r3=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("ngIf",null==communityRD_r3?null:communityRD_r3.hasSucceeded),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("ngIf",null==communityRD_r3?null:communityRD_r3.hasFailed),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("ngIf",null==communityRD_r3?null:communityRD_r3.isLoading)}}let CommunityPageComponent=(()=>{class CommunityPageComponent2{constructor(route,router,authService,authorizationDataService,dsoNameService){this.route=route,this.router=router,this.authService=authService,this.authorizationDataService=authorizationDataService,this.dsoNameService=dsoNameService}ngOnInit(){this.communityRD$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.Tj)(data=>data.dso),(0,_core_shared_authorized_operators__WEBPACK_IMPORTED_MODULE_4__.QD)(this.router,this.authService)),this.logoRD$=this.communityRD$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.Tj)(rd=>rd.payload),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.pb)(community=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.a4)(community)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.ZZ)(community=>community.logo)),this.communityPageRoute$=this.communityRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__.Hz)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.Tj)(community=>(0,_community_page_routing_paths__WEBPACK_IMPORTED_MODULE_18__.c5)(community.id))),this.isCommunityAdmin$=this.authorizationDataService.isAuthorized(_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_3__._.IsCommunityAdmin)}static#_=this.\u0275fac=function(t){return new(t||CommunityPageComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_15__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_19__.nX),_angular_core__WEBPACK_IMPORTED_MODULE_15__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_19__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_15__.rXU(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__.uR),_angular_core__WEBPACK_IMPORTED_MODULE_15__.rXU(_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_2__.AuthorizationDataService),_angular_core__WEBPACK_IMPORTED_MODULE_15__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__.f))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_15__.VBU({type:CommunityPageComponent2,selectors:[["ds-base-community-page"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_15__.aNF],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],["class","community-page",4,"ngIf"],[3,"message",4,"ngIf"],[1,"community-page"],[4,"ngIf"],[3,"object"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],[1,"comcol-header","mr-auto"],[3,"name"],[3,"logo","alternateText",4,"ngIf"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[1,"comcol-page-browse-section"],[3,"id","contentType"],["class","border-top my-5 pt-4",4,"ngIf"],[3,"logo","alternateText"],[1,"border-top","my-5","pt-4"],[3,"message"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.DNE(0,CommunityPageComponent_div_0_Template,4,3,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nI1(1,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_15__.bMT(1,1,ctx.communityRD$))},dependencies:[_shared_comcol_comcol_page_content_themed_comcol_page_content_component__WEBPACK_IMPORTED_MODULE_8__.s,_shared_error_error_component__WEBPACK_IMPORTED_MODULE_12__.A,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_13__.v,_angular_common__WEBPACK_IMPORTED_MODULE_20__.bT,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__.D9,_shared_comcol_comcol_page_browse_by_themed_comcol_page_browse_by_component__WEBPACK_IMPORTED_MODULE_7__.g,_shared_dso_page_dso_edit_menu_dso_edit_menu_component__WEBPACK_IMPORTED_MODULE_11__.T,_shared_comcol_comcol_page_handle_themed_comcol_page_handle_component__WEBPACK_IMPORTED_MODULE_9__.T,_shared_comcol_comcol_page_logo_comcol_page_logo_component__WEBPACK_IMPORTED_MODULE_10__.X,_shared_comcol_comcol_page_header_comcol_page_header_component__WEBPACK_IMPORTED_MODULE_22__.H,_angular_common__WEBPACK_IMPORTED_MODULE_20__.Jj,_statistics_angulartics_dspace_view_tracker_component__WEBPACK_IMPORTED_MODULE_14__.H,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_23__.r,_angular_router__WEBPACK_IMPORTED_MODULE_19__.n3,_angular_router__WEBPACK_IMPORTED_MODULE_19__.iI],data:{animation:[_shared_animations_fade__WEBPACK_IMPORTED_MODULE_6__.Ws]},changeDetection:0})}return CommunityPageComponent2})()},83534:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>communityPageResolver,w:()=>COMMUNITY_PAGE_LINKS_TO_FOLLOW});var _angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(68014),_ngrx_store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5136),_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83591),_core_resolving_resolver_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(71012),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(82656),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(32181);const COMMUNITY_PAGE_LINKS_TO_FOLLOW=[(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("logo"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("subcommunities"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("collections"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("parentCommunity")],communityPageResolver=(route,state,communityService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_0__.CommunityDataService),store=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.il))=>{const communityRD$=communityService.findById(route.params.id,!0,!1,...COMMUNITY_PAGE_LINKS_TO_FOLLOW).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)());return communityRD$.subscribe(communityRD=>{store.dispatch(new _core_resolving_resolver_actions__WEBPACK_IMPORTED_MODULE_1__.j(state.url,communityRD.payload))}),communityRD$}},33487:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CommunityPageSubCollectionListComponent:()=>CommunityPageSubCollectionListComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(84739),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(43750),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(10743),_core_cache_models_sort_options_model__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80685),_core_data_collection_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(39138),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39304),_shared_animations_fade__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(61935),__webpack_require__(28107)),_shared_empty_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(77028),_shared_error_error_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(36159),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(32943),_shared_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(60047),_shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(64694),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(45961),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(68014),_angular_router__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(64247);function CommunityPageSubCollectionListComponent_ng_container_0_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.j41(0,"div")(1,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nrm(4,"ds-viewable-collection",3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.k0s()),2&rf){const subCollectionsRD_r1=_angular_core__WEBPACK_IMPORTED_MODULE_8__.XpG().ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_8__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y8G("@fadeIn",void 0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_8__.bMT(3,6,"community.sub-collection-list.head")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y8G("config",ctx_r1.config)("sortConfig",ctx_r1.sortConfig)("objects",subCollectionsRD_r1)("hideGear",!1)}}function CommunityPageSubCollectionListComponent_ng_container_0_ds_error_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.nrm(0,"ds-error",4),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_8__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_8__.bMT(1,1,"error.sub-collections"))}function CommunityPageSubCollectionListComponent_ng_container_0_ds_loading_3_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.nrm(0,"ds-loading",4),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_8__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_8__.bMT(1,1,"loading.sub-collections"))}function CommunityPageSubCollectionListComponent_ng_container_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.qex(0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.DNE(1,CommunityPageSubCollectionListComponent_ng_container_0_div_1_Template,5,8,"div",1)(2,CommunityPageSubCollectionListComponent_ng_container_0_ds_error_2_Template,2,3,"ds-error",2)(3,CommunityPageSubCollectionListComponent_ng_container_0_ds_loading_3_Template,2,3,"ds-loading",2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.bVm()),2&rf){const subCollectionsRD_r1=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y8G("ngIf",(null==subCollectionsRD_r1?null:subCollectionsRD_r1.hasSucceeded)&&(null==subCollectionsRD_r1?null:subCollectionsRD_r1.payload.totalElements)>0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y8G("ngIf",null==subCollectionsRD_r1?null:subCollectionsRD_r1.hasFailed),_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y8G("ngIf",null==subCollectionsRD_r1?null:subCollectionsRD_r1.isLoading)}}let CommunityPageSubCollectionListComponent=(()=>{class CommunityPageSubCollectionListComponent2{constructor(cds,paginationService,route){this.cds=cds,this.paginationService=paginationService,this.route=route,this.pageId="cmcl",this.subCollectionsRDObs=new rxjs__WEBPACK_IMPORTED_MODULE_9__.BehaviorSubject({}),this.subscriptions=[]}ngOnInit(){this.config=new _shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_10__.W,this.config.id=this.pageId,this.config.pageSize=(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_11__.a4)(this.pageSize)?this.pageSize:this.route.snapshot.queryParams[this.pageId+".rpp"]??this.config.pageSize,this.config.currentPage=this.route.snapshot.queryParams[this.pageId+".page"]??1,this.sortConfig=new _core_cache_models_sort_options_model__WEBPACK_IMPORTED_MODULE_0__.z("dc.title",_core_cache_models_sort_options_model__WEBPACK_IMPORTED_MODULE_0__.U[this.route.snapshot.queryParams[this.pageId+".sd"]]??_core_cache_models_sort_options_model__WEBPACK_IMPORTED_MODULE_0__.U.ASC),this.initPage()}initPage(){const pagination$=this.paginationService.getCurrentPagination(this.config.id,this.config),sort$=this.paginationService.getCurrentSort(this.config.id,this.sortConfig);this.subscriptions.push((0,rxjs__WEBPACK_IMPORTED_MODULE_9__.combineLatest)([pagination$,sort$]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.nx)(([currentPagination,currentSort])=>this.cds.findByParent(this.community.id,{currentPage:currentPagination.currentPage,elementsPerPage:currentPagination.pageSize,sort:{field:currentSort.field,direction:currentSort.direction}}))).subscribe(results=>{this.subCollectionsRDObs.next(results)}))}ngOnDestroy(){this.paginationService.clearPagination(this.config?.id),this.subscriptions.map(subscription=>subscription.unsubscribe())}static#_=this.\u0275fac=function(t){return new(t||CommunityPageSubCollectionListComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.rXU(_core_data_collection_data_service__WEBPACK_IMPORTED_MODULE_1__.CollectionDataService),_angular_core__WEBPACK_IMPORTED_MODULE_8__.rXU(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_2__.m),_angular_core__WEBPACK_IMPORTED_MODULE_8__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_13__.nX))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_8__.VBU({type:CommunityPageSubCollectionListComponent2,selectors:[["ds-base-community-page-sub-collection-list"]],inputs:{community:"community",pageSize:"pageSize"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_8__.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"config","sortConfig","objects","hideGear"],[3,"message"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.DNE(0,CommunityPageSubCollectionListComponent_ng_container_0_Template,4,3,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nI1(1,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y8G("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_8__.bMT(1,1,ctx.subCollectionsRDObs))},dependencies:[_shared_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_7__.h,_shared_error_error_component__WEBPACK_IMPORTED_MODULE_5__.A,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_6__.v,_angular_common__WEBPACK_IMPORTED_MODULE_14__.bT,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__.D9,_angular_common__WEBPACK_IMPORTED_MODULE_14__.Jj,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_16__.r],data:{animation:[_shared_animations_fade__WEBPACK_IMPORTED_MODULE_4__.qG]}})}return CommunityPageSubCollectionListComponent2})()},23102:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CommunityPageSubCommunityListComponent:()=>CommunityPageSubCommunityListComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(84739),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(43750),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(10743),_core_cache_models_sort_options_model__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80685),_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83591),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39304),_shared_animations_fade__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(61935),__webpack_require__(28107)),_shared_empty_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(77028),_shared_error_error_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(36159),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(32943),_shared_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(60047),_shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(64694),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(45961),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(68014),_angular_router__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(64247);function CommunityPageSubCommunityListComponent_ng_container_0_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.j41(0,"div")(1,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nrm(4,"ds-viewable-collection",3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.k0s()),2&rf){const subCommunitiesRD_r1=_angular_core__WEBPACK_IMPORTED_MODULE_8__.XpG().ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_8__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y8G("@fadeIn",void 0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_8__.bMT(3,6,"community.sub-community-list.head")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y8G("config",ctx_r1.config)("sortConfig",ctx_r1.sortConfig)("objects",subCommunitiesRD_r1)("hideGear",!1)}}function CommunityPageSubCommunityListComponent_ng_container_0_ds_error_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.nrm(0,"ds-error",4),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_8__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_8__.bMT(1,1,"error.sub-communities"))}function CommunityPageSubCommunityListComponent_ng_container_0_ds_loading_3_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.nrm(0,"ds-loading",4),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_8__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_8__.bMT(1,1,"loading.sub-communities"))}function CommunityPageSubCommunityListComponent_ng_container_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.qex(0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.DNE(1,CommunityPageSubCommunityListComponent_ng_container_0_div_1_Template,5,8,"div",1)(2,CommunityPageSubCommunityListComponent_ng_container_0_ds_error_2_Template,2,3,"ds-error",2)(3,CommunityPageSubCommunityListComponent_ng_container_0_ds_loading_3_Template,2,3,"ds-loading",2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.bVm()),2&rf){const subCommunitiesRD_r1=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y8G("ngIf",(null==subCommunitiesRD_r1?null:subCommunitiesRD_r1.hasSucceeded)&&(null==subCommunitiesRD_r1?null:subCommunitiesRD_r1.payload.totalElements)>0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y8G("ngIf",null==subCommunitiesRD_r1?null:subCommunitiesRD_r1.hasFailed),_angular_core__WEBPACK_IMPORTED_MODULE_8__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y8G("ngIf",null==subCommunitiesRD_r1?null:subCommunitiesRD_r1.isLoading)}}let CommunityPageSubCommunityListComponent=(()=>{class CommunityPageSubCommunityListComponent2{constructor(cds,paginationService,route){this.cds=cds,this.paginationService=paginationService,this.route=route,this.pageId="cmscm",this.subCommunitiesRDObs=new rxjs__WEBPACK_IMPORTED_MODULE_9__.BehaviorSubject({}),this.subscriptions=[]}ngOnInit(){this.config=new _shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_10__.W,this.config.id=this.pageId,this.config.pageSize=(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_11__.a4)(this.pageSize)?this.pageSize:this.route.snapshot.queryParams[this.pageId+".rpp"]??this.config.pageSize,this.config.currentPage=this.route.snapshot.queryParams[this.pageId+".page"]??1,this.sortConfig=new _core_cache_models_sort_options_model__WEBPACK_IMPORTED_MODULE_0__.z("dc.title",_core_cache_models_sort_options_model__WEBPACK_IMPORTED_MODULE_0__.U[this.route.snapshot.queryParams[this.pageId+".sd"]]??_core_cache_models_sort_options_model__WEBPACK_IMPORTED_MODULE_0__.U.ASC),this.initPage()}initPage(){const pagination$=this.paginationService.getCurrentPagination(this.config.id,this.config),sort$=this.paginationService.getCurrentSort(this.config.id,this.sortConfig);this.subscriptions.push((0,rxjs__WEBPACK_IMPORTED_MODULE_9__.combineLatest)([pagination$,sort$]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.nx)(([currentPagination,currentSort])=>this.cds.findByParent(this.community.id,{currentPage:currentPagination.currentPage,elementsPerPage:currentPagination.pageSize,sort:{field:currentSort.field,direction:currentSort.direction}}))).subscribe(results=>{this.subCommunitiesRDObs.next(results)}))}ngOnDestroy(){this.paginationService.clearPagination(this.config?.id),this.subscriptions.map(subscription=>subscription.unsubscribe())}static#_=this.\u0275fac=function(t){return new(t||CommunityPageSubCommunityListComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.rXU(_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_1__.CommunityDataService),_angular_core__WEBPACK_IMPORTED_MODULE_8__.rXU(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_2__.m),_angular_core__WEBPACK_IMPORTED_MODULE_8__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_13__.nX))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_8__.VBU({type:CommunityPageSubCommunityListComponent2,selectors:[["ds-base-community-page-sub-community-list"]],inputs:{community:"community",pageSize:"pageSize"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_8__.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"config","sortConfig","objects","hideGear"],[3,"message"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.DNE(0,CommunityPageSubCommunityListComponent_ng_container_0_Template,4,3,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.nI1(1,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y8G("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_8__.bMT(1,1,ctx.subCommunitiesRDObs))},dependencies:[_shared_error_error_component__WEBPACK_IMPORTED_MODULE_5__.A,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_6__.v,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_14__.r,_angular_common__WEBPACK_IMPORTED_MODULE_15__.bT,_shared_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_7__.h,_angular_common__WEBPACK_IMPORTED_MODULE_15__.Jj,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.D9],data:{animation:[_shared_animations_fade__WEBPACK_IMPORTED_MODULE_4__.qG]}})}return CommunityPageSubCommunityListComponent2})()},89533:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>communityBreadcrumbResolver});var _angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(68014),_community_page_community_page_resolver__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83534),_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(77028),_data_community_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83591),_dso_breadcrumb_resolver__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20550),_dso_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(15446);const communityBreadcrumbResolver=(route,state,breadcrumbService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_dso_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_3__.U),dataService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_data_community_data_service__WEBPACK_IMPORTED_MODULE_1__.CommunityDataService))=>{const linksToFollow=_community_page_community_page_resolver__WEBPACK_IMPORTED_MODULE_0__.w;return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.a4)(route.data.breadcrumbQueryParam)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.a4)(route.queryParams[route.data.breadcrumbQueryParam])?(0,_dso_breadcrumb_resolver__WEBPACK_IMPORTED_MODULE_2__.o)(route,state,route.queryParams[route.data.breadcrumbQueryParam],breadcrumbService,dataService,...linksToFollow):(0,_dso_breadcrumb_resolver__WEBPACK_IMPORTED_MODULE_2__.G)(route,state,breadcrumbService,dataService,...linksToFollow)}},20550:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>DSOBreadcrumbResolver,o:()=>DSOBreadcrumbResolverByUuid});var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10743),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45930),_shared_empty_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(77028),_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(82656);const DSOBreadcrumbResolver=(route,state,breadcrumbService,dataService,...linksToFollow)=>DSOBreadcrumbResolverByUuid(route,state,route.params.id,breadcrumbService,dataService,...linksToFollow),DSOBreadcrumbResolverByUuid=(route,state,uuid,breadcrumbService,dataService,...linksToFollow)=>dataService.findById(uuid,!0,!1,...linksToFollow).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_1__.qD)(),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_1__.Bo)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.Tj)(object=>{if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_3__.a4)(object))return{provider:breadcrumbService,key:object,url:(0,_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.wN)(object)}}))},15446:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>DSOBreadcrumbsService});var rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10743),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45930),_breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(96622),_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(77028),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(32181),_cache_builders_link_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48614),_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(91735),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(68014);let DSOBreadcrumbsService=(()=>{class DSOBreadcrumbsService2{constructor(linkService,dsoNameService){this.linkService=linkService,this.dsoNameService=dsoNameService}getBreadcrumbs(key,url){const label=this.dsoNameService.getName(key),crumb=new _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_3__.Q(label,url),propertyName=key.getParentLinkKey();return this.linkService.resolveLink(key,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_4__.s)(propertyName))[propertyName].pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.I6)(parentRD=>parentRD.hasSucceeded||204===parentRD.statusCode),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.nx)(parentRD=>{if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(parentRD)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(parentRD.payload)){const parent=parentRD.payload;return this.getBreadcrumbs(parent,(0,_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.wN)(parent))}return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)([])}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.Tj)(breadcrumbs=>[...breadcrumbs,crumb]))}static#_=this.\u0275fac=function(t){return new(t||DSOBreadcrumbsService2)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_cache_builders_link_service__WEBPACK_IMPORTED_MODULE_1__._),_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_dso_name_service__WEBPACK_IMPORTED_MODULE_2__.f))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_8__.jDH({token:DSOBreadcrumbsService2,factory:DSOBreadcrumbsService2.\u0275fac,providedIn:"root"})}return DSOBreadcrumbsService2})()},21870:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>i18nBreadcrumbResolver});var core=__webpack_require__(68014),empty_util=__webpack_require__(77028),route_utils=__webpack_require__(39609),cjs=__webpack_require__(74785),breadcrumb_model=__webpack_require__(96622);let I18nBreadcrumbsService=(()=>{class I18nBreadcrumbsService2{getBreadcrumbs(key,url){return(0,cjs.of)([new breadcrumb_model.Q(key+".breadcrumbs",url)])}static#_=this.\u0275fac=function(t){return new(t||I18nBreadcrumbsService2)};static#_2=this.\u0275prov=core.jDH({token:I18nBreadcrumbsService2,factory:I18nBreadcrumbsService2.\u0275fac,providedIn:"root"})}return I18nBreadcrumbsService2})();const i18nBreadcrumbResolver=(route,state,breadcrumbService=(0,core.WQX)(I18nBreadcrumbsService))=>{const key=route.data.breadcrumbKey;if((0,empty_util.Tn)(key))throw new Error('You provided an i18nBreadcrumbResolver for url "'+route.url+"\" but no breadcrumbKey in the route's data");return{provider:breadcrumbService,key,url:(0,route_utils.F)(route)}}},96293:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>dsoPageSingleFeatureGuard});var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10743),_dso_page_some_feature_guard__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39833);const dsoPageSingleFeatureGuard=(getResolveFn,getFeatureID)=>(0,_dso_page_some_feature_guard__WEBPACK_IMPORTED_MODULE_0__.FO)(getResolveFn,(route,state)=>getFeatureID(route,state).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.Tj)(featureID=>[featureID])))},39833:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FO:()=>dsoPageSomeFeatureGuard});var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10743),_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(77028),_shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(82656),_some_feature_authorization_guard__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(90254);const defaultDSOGetObjectUrl=resolve=>(route,state)=>{const routeWithObjectID=(route=>{let routeWithDSOId=route;for(;(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.Tn)(routeWithDSOId.params.id)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.a4)(routeWithDSOId.parent);)routeWithDSOId=routeWithDSOId.parent;return routeWithDSOId})(route);return resolve(routeWithObjectID,state).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_0__.Hz)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Tj)(dso=>dso.self))},dsoPageSomeFeatureGuard=(getResolveFn,getFeatureIDs,getObjectUrl=defaultDSOGetObjectUrl,getEPersonUuid)=>(0,_some_feature_authorization_guard__WEBPACK_IMPORTED_MODULE_1__.h)((route,state)=>getFeatureIDs(route,state),getObjectUrl(getResolveFn()),getEPersonUuid)},80148:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{VersionDataService:()=>VersionDataService});var rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(10743),_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(77028),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(32181),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(86786),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40017),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(91365),_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(82656),_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(68134),_base_patch_data__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(75467),_default_change_analyzer_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84237),_request_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(72744),_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(68014);let VersionDataService=(()=>{class VersionDataService2 extends _base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_4__.W{constructor(requestService,rdbService,objectCache,halService,comparator){super("versions",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.comparator=comparator,this.patchData=new _base_patch_data__WEBPACK_IMPORTED_MODULE_5__.n(this.linkPath,requestService,rdbService,objectCache,halService,comparator,this.responseMsToLive,this.constructIdEndpoint)}getHistoryFromVersion(version,useCachedVersionIfAvailable=!1,reRequestOnStale=!0){return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.hj)(version)?this.findById(version.id,useCachedVersionIfAvailable,reRequestOnStale,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_9__.s)("versionhistory")).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_3__.ak)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.nx)(res=>res.versionhistory),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_3__.ak)()):rxjs__WEBPACK_IMPORTED_MODULE_11__.EMPTY}getHistoryIdFromVersion(version){return this.getHistoryFromVersion(version).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.Tj)(versionHistory=>versionHistory.id))}patch(object,operations){return this.patchData.patch(object,operations)}update(object){return this.patchData.update(object)}commitUpdates(method){this.patchData.commitUpdates(method)}createPatchFromCache(object){return this.patchData.createPatchFromCache(object)}static#_=this.\u0275fac=function(t){return new(t||VersionDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_request_service__WEBPACK_IMPORTED_MODULE_7__.B),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__.o),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__.$),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_2__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_default_change_analyzer_service__WEBPACK_IMPORTED_MODULE_6__.Y))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_12__.jDH({token:VersionDataService2,factory:VersionDataService2.\u0275fac,providedIn:"root"})}return VersionDataService2})()},1555:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{VersionHistoryDataService:()=>VersionHistoryDataService});var _angular_common_http__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(38068),rxjs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(10743),_shared_empty_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(77028),_shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(64694),_shared_search_models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80780),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(32181),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86786),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40017),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(91365),_shared_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(82656),_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(68134),_request_models__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(87457),_request_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(72744),_version_data_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(80148),_angular_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(68014);let VersionHistoryDataService=(()=>{class VersionHistoryDataService2 extends _base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_5__.W{constructor(requestService,rdbService,objectCache,halService,versionDataService){super("versionhistories",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.versionDataService=versionDataService,this.versionsEndpoint="versions"}getBrowseEndpoint(options={},linkPath){return this.halService.getEndpoint(this.linkPath)}getVersionsEndpoint(versionHistoryId){return this.getBrowseEndpoint().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.nx)(href=>this.halService.getEndpoint(this.versionsEndpoint,`${href}/${versionHistoryId}`)))}getVersions(versionHistoryId,searchOptions,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){const hrefObs=this.getVersionsEndpoint(versionHistoryId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Tj)(href=>searchOptions?searchOptions.toRestUrl(href):href));return this.versionDataService.findListByHref(hrefObs,void 0,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}createVersion(itemHref,summary){const requestId=this.requestService.generateRequestId(),requestOptions=Object.create({});let requestHeaders=new _angular_common_http__WEBPACK_IMPORTED_MODULE_10__.Lr;return requestHeaders=requestHeaders.append("Content-Type","text/uri-list"),requestOptions.headers=requestHeaders,this.halService.getEndpoint(this.versionsEndpoint).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Tj)(endpointUrl=>summary?.length>0?`${endpointUrl}?summary=${summary}`:`${endpointUrl}`),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.I6)(href=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_11__.a4)(href))).subscribe(href=>{const request=new _request_models__WEBPACK_IMPORTED_MODULE_6__.Qf(requestId,href,itemHref,requestOptions);(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_11__.a4)(this.responseMsToLive)&&(request.responseMsToLive=this.responseMsToLive),this.requestService.send(request)}),this.rdbService.buildFromRequestUUIDAndAwait(requestId,versionRD=>(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.combineLatest)([this.requestService.setStaleByHrefSubstring(versionRD.payload._links.self.href),this.requestService.setStaleByHrefSubstring(versionRD.payload._links.versionhistory.href)])).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)())}getLatestVersionFromHistory$(versionHistory){const latestVersionOptions=Object.assign(new _shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_13__.W,{id:"item-newest-version-options",currentPage:1,pageSize:1}),latestVersionSearch=new _shared_search_models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_0__.C({pagination:latestVersionOptions});return this.getVersions(versionHistory.id,latestVersionSearch,!1,!0,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.s)("item")).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.v7)(),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.Bo)(),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_11__.Az)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.pb)(versions=>versions.page.length>0),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Tj)(versions=>versions.page[0]))}getLatestVersion$(version){return version.id?this.versionDataService.findById(version.id,!1,!0,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.s)("versionhistory")).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.nx)(res=>res.versionhistory),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.nx)(versionHistoryRD=>this.getLatestVersionFromHistory$(versionHistoryRD))):(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)(null)}isLatest$(version){return version?this.getLatestVersion$(version).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.nx)(latestVersion=>(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)(version.version===latestVersion.version))):(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)(null)}hasDraftVersion$(versionHref){return this.versionDataService.findByHref(versionHref,!1,!0,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.s)("versionhistory")).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.nx)(versionRD=>versionRD.hasSucceeded&&!versionRD.hasNoContent?versionRD.payload.versionhistory.pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Tj)(versionHistoryRD=>!(!versionHistoryRD.hasSucceeded||versionHistoryRD.hasNoContent)&&versionHistoryRD.payload.draftVersion)):(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)(!1)))}getLatestVersionItemFromHistory$(versionHistory){return this.getLatestVersionFromHistory$(versionHistory).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.nx)(newLatestVersion=>newLatestVersion.item),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)())}getVersionHistoryFromVersion$(version){return this.versionDataService.getHistoryIdFromVersion(version).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.nx)(res=>this.findById(res)),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)())}invalidateVersionHistoryCache(versionHistoryID){this.requestService.setStaleByHrefSubstring("versioning/versionhistories/"+versionHistoryID)}static#_=this.\u0275fac=function(t){return new(t||VersionHistoryDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_15__.KVO(_request_service__WEBPACK_IMPORTED_MODULE_7__.B),_angular_core__WEBPACK_IMPORTED_MODULE_15__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_15__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_15__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_15__.KVO(_version_data_service__WEBPACK_IMPORTED_MODULE_8__.VersionDataService))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_15__.jDH({token:VersionHistoryDataService2,factory:VersionHistoryDataService2.\u0275fac,providedIn:"root"})}return VersionHistoryDataService2})()},77231:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{QualityAssuranceEventDataService:()=>QualityAssuranceEventDataService});var _angular_common_http__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(38068),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(10743),_shared_empty_util__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(77028),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10117),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86786),_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(57699),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40017),_data_base_create_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(85311),_data_base_delete_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(43626),_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(68134),_data_base_patch_data__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(75467),_data_base_search_data__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(19399),_data_default_change_analyzer_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(84237),_data_request_models__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(87457),_data_request_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(72744),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(91365),_angular_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(68014);let QualityAssuranceEventDataService=(()=>{class QualityAssuranceEventDataService2 extends _data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_5__.W{constructor(requestService,rdbService,objectCache,halService,notificationsService,comparator){super("qualityassuranceevents",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.comparator=comparator,this.createData=new _data_base_create_data__WEBPACK_IMPORTED_MODULE_3__.V(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive),this.deleteData=new _data_base_delete_data__WEBPACK_IMPORTED_MODULE_4__.I(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new _data_base_patch_data__WEBPACK_IMPORTED_MODULE_6__.n(this.linkPath,requestService,rdbService,objectCache,halService,comparator,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new _data_base_search_data__WEBPACK_IMPORTED_MODULE_7__.X(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive)}getEventsByTopic(topic,options={},...linksToFollow){return options.searchParams=[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_12__.x("topic",topic)],this.searchData.searchBy("findByTopic",options,!0,!0,...linksToFollow)}searchEventsByTopic(options={},...linksToFollow){return this.searchData.searchBy("findByTopic",options,!0,!0,...linksToFollow)}clearFindByTopicRequests(){this.requestService.setStaleByHrefSubstring("findByTopic")}getEvent(id,...linksToFollow){return this.findById(id,!0,!0,...linksToFollow)}patchEvent(status,dso,reason){return this.patchData.patch(dso,[{path:"/status",op:"replace",value:status}])}boundProject(itemId,projectId){return this.postOnRelated(itemId,projectId)}removeProject(itemId){return this.deleteOnRelated(itemId)}deleteOnRelated(objectId){const requestId=this.requestService.generateRequestId();return this.getIDHrefObs(objectId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.I6)(href=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_14__.a4)(href))).subscribe(href=>{const request=new _data_request_models__WEBPACK_IMPORTED_MODULE_9__.Dk(requestId,href+"/related",objectId);(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_14__.a4)(this.responseMsToLive)&&(request.responseMsToLive=this.responseMsToLive),this.requestService.send(request)}),this.rdbService.buildFromRequestUUID(requestId)}postOnRelated(objectId,relatedItemId,body){const requestId=this.requestService.generateRequestId();return this.getIDHrefObs(objectId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.s)(1)).subscribe(href=>{const request=new _data_request_models__WEBPACK_IMPORTED_MODULE_9__.Qf(requestId,href+"/related?item="+relatedItemId,body);(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_14__.a4)(this.responseMsToLive)&&(request.responseMsToLive=this.responseMsToLive),this.requestService.send(request)}),this.rdbService.buildFromRequestUUID(requestId)}postData(target,correctionType,related,reason){const requestId=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.nx)(href=>{const options=Object.create({});let headers=new _angular_common_http__WEBPACK_IMPORTED_MODULE_15__.Lr;headers=headers.append("Content-Type","application/json"),options.headers=headers;let params=new _angular_common_http__WEBPACK_IMPORTED_MODULE_15__.Nl;params=params.append("target",target).append("correctionType",correctionType),options.params=params;const request=new _data_request_models__WEBPACK_IMPORTED_MODULE_9__.Qf(requestId,href,{reason},options);return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_14__.a4)(this.responseMsToLive)&&(request.responseMsToLive=this.responseMsToLive),this.requestService.send(request),this.rdbService.buildFromRequestUUID(requestId)}))}deleteQAEvent(qaEvent){return this.deleteData.delete(qaEvent.id)}static#_=this.\u0275fac=function(t){return new(t||QualityAssuranceEventDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_data_request_service__WEBPACK_IMPORTED_MODULE_10__.B),_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_11__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_data_default_change_analyzer_service__WEBPACK_IMPORTED_MODULE_8__.Y))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_16__.jDH({token:QualityAssuranceEventDataService2,factory:QualityAssuranceEventDataService2.\u0275fac,providedIn:"root"})}return QualityAssuranceEventDataService2})()},71012:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>ResolvedAction});const ResolverActionTypes={RESOLVED:(0,__webpack_require__(38299).N)("dspace/resolver/RESOLVED")};class ResolvedAction{constructor(url,dso){this.type=ResolverActionTypes.RESOLVED,this.payload={url,dso}}}},71870:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CorrectionTypeDataService:()=>CorrectionTypeDataService});var rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(74785),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10117),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86786),_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(57699),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40017),_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(68134),_data_base_search_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(19399),_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(97570),_data_request_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(72744),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(91365),_shared_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(82656),_angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(68014);let CorrectionTypeDataService=(()=>{class CorrectionTypeDataService2 extends _data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_3__.W{constructor(requestService,rdbService,objectCache,halService,notificationsService){super("correctiontypes",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.linkPath="correctiontypes",this.searchByTopic="findByTopic",this.searchFindByItem="findByItem",this.searchData=new _data_base_search_data__WEBPACK_IMPORTED_MODULE_4__.X(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive)}getCorrectionTypeById(id,useCachedVersionIfAvailable=!0,reRequestOnStale=!0){return this.findById(id,useCachedVersionIfAvailable,reRequestOnStale)}findByItem(itemUuid,useCachedVersionIfAvailable){const options=new _data_find_list_options_model__WEBPACK_IMPORTED_MODULE_8__._;return options.searchParams=[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_9__.x("uuid",itemUuid)],this.searchData.searchBy(this.searchFindByItem,options,useCachedVersionIfAvailable)}findByTopic(topic,useCachedVersionIfAvailable=!0,reRequestOnStale=!0){const options=new _data_find_list_options_model__WEBPACK_IMPORTED_MODULE_8__._;return options.searchParams=[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_9__.x("topic",topic)],this.searchData.searchBy(this.searchByTopic,options,useCachedVersionIfAvailable,reRequestOnStale).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_7__.Hz)(),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_7__.W8)(),(0,rxjs__WEBPACK_IMPORTED_MODULE_10__.map)(list=>list[0]))}static#_=this.\u0275fac=function(t){return new(t||CorrectionTypeDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_data_request_service__WEBPACK_IMPORTED_MODULE_5__.B),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_6__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.I))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_11__.jDH({token:CorrectionTypeDataService2,factory:CorrectionTypeDataService2.\u0275fac,providedIn:"root"})}return CorrectionTypeDataService2})()},65925:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>ItemVersionsSharedService});var _shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10117),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(68014),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(43750);let ItemVersionsSharedService=(()=>{class ItemVersionsSharedService2{constructor(notificationsService,translateService){this.notificationsService=notificationsService,this.translateService=translateService}static msg(key){return"item.version.create.notification."+key}notifyCreateNewVersion(newVersionRD){const newVersionNumber=newVersionRD?.payload?.version;newVersionRD.hasSucceeded?this.notificationsService.success(null,this.translateService.get(ItemVersionsSharedService2.msg("success"),{version:newVersionNumber})):this.notificationsService.error(null,this.translateService.get(ItemVersionsSharedService2.msg(422===newVersionRD?.statusCode?"inProgress":"failure")))}static#_=this.\u0275fac=function(t){return new(t||ItemVersionsSharedService2)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_1__.KVO(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__.c$))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.jDH({token:ItemVersionsSharedService2,factory:ItemVersionsSharedService2.\u0275fac,providedIn:"root"})}return ItemVersionsSharedService2})()},32137:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>ItemVersionsSummaryModalComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(84739),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(68014),_angular_forms__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(28955),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(43750),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(74785),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32943),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(71781);const _c0=a0=>({version:a0});function ItemVersionsSummaryModalComponent_div_0_span_11_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_1__.i5U(2,1,"item.version.create.modal.text.startingFrom",_angular_core__WEBPACK_IMPORTED_MODULE_1__.eq3(4,_c0,ctx_r1.versionNumber))," ")}}function ItemVersionsSummaryModalComponent_div_0_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(0,"div")(1,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(4,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Njj(ctx_r1.onModalClose())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(5,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(7,"div",5)(8,"p",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(9),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(11,ItemVersionsSummaryModalComponent_div_0_span_11_Template,3,6,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(12,"div",8)(13,"label",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(15,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(16,"input",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(17,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.mxI("ngModelChange",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_1__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.DH7(ctx_r1.newVersionSummary,$event)||(ctx_r1.newVersionSummary=$event),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Njj($event)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.bIt("keyup.enter",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Njj(ctx_r1.onModalSubmit())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(18,"div",11)(19,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(20,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Njj(ctx_r1.onModalClose())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nrm(21,"i",13),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(22),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(23,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(24,"button",14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(25,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Njj(ctx_r1.onModalSubmit())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nrm(26,"i",15),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(27),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(28,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SpI("",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(3,10,"item.version.create.modal.header")," "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(10,12,"item.version.create.modal.text")," "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y8G("ngIf",!ctx_r1.firstVersion),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SpI("",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(15,14,"item.version.create.modal.form.summary.label"),":"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.FS9("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(17,16,"item.version.create.modal.form.summary.placeholder")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R50("ngModel",ctx_r1.newVersionSummary),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.FS9("title",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(20,18,"item.version.create.modal.button.cancel.tooltip")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(23,20,"item.version.create.modal.button.cancel")," "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.FS9("title",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(25,22,"item.version.create.modal.button.confirm.tooltip")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(28,24,"item.version.create.modal.button.confirm")," ")}}function ItemVersionsSummaryModalComponent_ng_template_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(0,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(3,"div",5)(4,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(5),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(7,"div",16),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nrm(8,"ds-loading",17),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(2,3,"item.version.create.modal.submitted.header")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(6,5,"item.version.create.modal.submitted.text")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y8G("showMessage",!1))}let ItemVersionsSummaryModalComponent=(()=>{class ItemVersionsSummaryModalComponent2{constructor(activeModal){this.activeModal=activeModal,this.firstVersion=!0,this.createVersionEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.bkB}ngOnInit(){this.submitted$=new rxjs__WEBPACK_IMPORTED_MODULE_2__.BehaviorSubject(!1)}onModalClose(){this.activeModal.dismiss()}beforeDismiss(){return!this.submitted$.getValue()}onModalSubmit(){this.createVersionEvent.emit(this.newVersionSummary),this.submitted$.next(!0)}static#_=this.\u0275fac=function(t){return new(t||ItemVersionsSummaryModalComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__.Lw))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.VBU({type:ItemVersionsSummaryModalComponent2,selectors:[["ds-item-versions-summary-modal"]],outputs:{createVersionEvent:"createVersionEvent"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.aNF],decls:4,vars:4,consts:[["waiting",""],[4,"ngIf","ngIfElse"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"pb-2"],[4,"ngIf"],[1,"form-group"],["for","summary"],["type","text","id","summary",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],[1,"modal-footer","space-children-mr"],["type","button",1,"btn","btn-outline-secondary","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-times","fa-fw"],["type","submit",1,"btn","btn-success","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-check","fa-fw"],[1,"d-flex","justify-content-center"],[3,"showMessage"]],template:function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(0,ItemVersionsSummaryModalComponent_div_0_Template,29,26,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(2,ItemVersionsSummaryModalComponent_ng_template_2_Template,9,7,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.C5r)),2&rf){const waiting_r3=_angular_core__WEBPACK_IMPORTED_MODULE_1__.sdS(3);_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y8G("ngIf",!0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(1,2,ctx.submitted$))("ngIfElse",waiting_r3)}},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.bT,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.me,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.BC,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.vS,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_0__.v,_angular_common__WEBPACK_IMPORTED_MODULE_4__.Jj,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__.D9]})}return ItemVersionsSummaryModalComponent2})()},47357:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>ComColFormComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(84739),_angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(68014),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(43750),ng2_file_upload__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(38262),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(10743),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(41543),_core_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40017),_core_data_request_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(72744),_core_shared_community_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(61935),_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(82656),_confirmation_modal_confirmation_modal_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(32007),_empty_util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(77028),_form_form_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(49148),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10117),_upload_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(55361),_upload_uploader_uploader_options_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(32034),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(32181),_utils_var_directive__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(45961),_comcol_page_logo_comcol_page_logo_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(54337),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(71508),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(71781);function ComColFormComponent_ng_container_6_div_1_div_5_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"div",12)(1,"button",13),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.confirmLogoDeleteWithModal())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI("",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(3,1,"community.edit.logo.delete.title")," "))}function ComColFormComponent_ng_container_6_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"div",7)(1,"div",1)(2,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nrm(3,"ds-comcol-page-logo",9),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(4,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(5,ComColFormComponent_ng_container_6_div_1_div_5_Template,4,3,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()()()),2&rf){const logo_r3=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG().ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("alternateText",ctx_r1.type.value+".logo.alt")("logo",logo_r3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",logo_r3)}}function ComColFormComponent_ng_container_6_div_2_ds_uploader_1_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_10__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"ds-uploader",16),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("onCompleteItem",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r4);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.onCompleteItem())})("onUploadError",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r4);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.onUploadError())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ariaLabel",ctx_r1.type.value+".browse.logo")("dropMsg",ctx_r1.type.value+".edit.logo.upload")("dropOverDocumentMsg",ctx_r1.type.value+".edit.logo.upload")("enableDragOverDocument",!0)("uploadFilesOptions",ctx_r1.uploadFilesOptions)}}function ComColFormComponent_ng_container_6_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(1,ComColFormComponent_ng_container_6_div_2_ds_uploader_1_Template,1,5,"ds-uploader",15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(2,1,ctx_r1.initializedUploaderOptions))}}function ComColFormComponent_ng_container_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.qex(0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(1,ComColFormComponent_ng_container_6_div_1_Template,6,3,"div",5)(2,ComColFormComponent_ng_container_6_div_2_Template,3,3,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bVm()),2&rf){const logo_r3=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",logo_r3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",!logo_r3)}}function ComColFormComponent_ds_form_8_Template(rf,ctx){if(1&rf){const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_10__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"ds-form",17),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("submitForm",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r5);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.onSubmit())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(1,"button",18),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r5);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.back.emit())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nrm(2,"i",19),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("formId","comcol-form-id")("formModel",ctx_r1.formModel)("displayCancel",!1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(4,4,ctx_r1.type.value+".edit.return")," ")}}let ComColFormComponent=(()=>{class ComColFormComponent2{constructor(formService,translate,notificationsService,authService,requestService,objectCache,modalService){this.formService=formService,this.translate=translate,this.notificationsService=notificationsService,this.authService=authService,this.requestService=requestService,this.objectCache=objectCache,this.modalService=modalService,this.LABEL_KEY_PREFIX=".form.",this.ERROR_KEY_PREFIX=".form.errors.",this.uploadFilesOptions=Object.assign(new _upload_uploader_uploader_options_model__WEBPACK_IMPORTED_MODULE_8__.H,{autoUpload:!1}),this.submitForm=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.bkB,this.back=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.bkB,this.finish=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.bkB,this.initializedUploaderOptions=new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(!1),this.subs=[],this.uploader=new ng2_file_upload__WEBPACK_IMPORTED_MODULE_12__.l0(this.uploadFilesOptions),this.refreshDSO$=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.bkB}ngOnInit(){this.uploadFilesOptions.autoUpload=!this.isCreation,(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.formModel)&&(this.formModel.forEach(fieldModel=>{fieldModel.value=this.dso.firstMetadataValue(fieldModel.name)}),this.formGroup=this.formService.createFormGroup(this.formModel),this.updateFieldTranslations(),this.translate.onLangChange.subscribe(()=>{this.updateFieldTranslations()}),(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.dso.id)?this.subs.push((0,rxjs__WEBPACK_IMPORTED_MODULE_11__.combineLatest)([this.dsoService.getLogoEndpoint(this.dso.id),this.dso.logo]).subscribe(([href,logoRD])=>{this.uploadFilesOptions.url=href,this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.initializedUploaderOptions.next(!0)})):(this.uploadFilesOptions.url="placeholder",this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.initializedUploaderOptions.next(!0))),this.subs.push(this.refreshDSO$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_11__.switchMap)(()=>this.refreshDsoCache()),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.pb)(rd=>rd.hasSucceeded)).subscribe(({payload})=>this.dso=payload))}onSubmit(){const formMetadata={};this.formModel.forEach(fieldModel=>{const value={value:fieldModel.value,language:null};formMetadata.hasOwnProperty(fieldModel.name)?formMetadata[fieldModel.name].push(value):formMetadata[fieldModel.name]=[value]});const updatedDSO=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...formMetadata},type:_core_shared_community_model__WEBPACK_IMPORTED_MODULE_3__.E.type}),operations=[];this.formModel.forEach(fieldModel=>{fieldModel.value!==this.dso.firstMetadataValue(fieldModel.name)&&operations.push({op:"replace",path:`/metadata/${fieldModel.name}`,value:{value:fieldModel.value,language:null}})}),this.submitForm.emit(this.isCreation?{dso:updatedDSO,uploader:(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.uploaderComponent)?this.uploaderComponent.uploader:void 0,operations}:{dso:updatedDSO,operations})}updateFieldTranslations(){this.formModel.forEach(fieldModel=>{fieldModel.label=this.translate.instant(this.type.value+this.LABEL_KEY_PREFIX+fieldModel.id),(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(fieldModel.validators)&&(fieldModel.errorMessages={},Object.keys(fieldModel.validators).forEach(key=>{fieldModel.errorMessages[key]=this.translate.instant(this.type.value+this.ERROR_KEY_PREFIX+fieldModel.id+"."+key)}))})}confirmLogoDeleteWithModal(){const modalRef=this.createConfirmationModal();this.subscribeToConfirmationResponse(modalRef)}createConfirmationModal(){const modalRef=this.modalService.open(_confirmation_modal_confirmation_modal_component__WEBPACK_IMPORTED_MODULE_15__.M);return modalRef.componentInstance.headerLabel="community-collection.edit.logo.delete.title",modalRef.componentInstance.infoLabel="confirmation-modal.delete-community-collection-logo.info",modalRef.componentInstance.cancelLabel="form.cancel",modalRef.componentInstance.confirmLabel="community-collection.edit.logo.delete.title",modalRef.componentInstance.confirmIcon="fas fa-trash",modalRef.componentInstance.brandColor="danger",modalRef}subscribeToConfirmationResponse(modalRef){modalRef.componentInstance.response.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.s)(1)).subscribe(confirmed=>{confirmed&&this.handleLogoDeletion()})}handleLogoDeletion(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.dso.id)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.dso._links.logo)&&this.dsoService.deleteLogo(this.dso).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)()).subscribe(response=>{const errorMessageKey=`${this.type.value}.edit.logo.notifications.delete.error`;response.hasSucceeded?this.handleSuccessfulDeletion(`${this.type.value}.edit.logo.notifications.delete.success`):this.handleFailedDeletion(errorMessageKey,response.errorMessage)})}handleSuccessfulDeletion(successMessageKey){this.refreshDSO$.next(),this.notificationsService.success(this.translate.get(`${successMessageKey}.title`),this.translate.get(`${successMessageKey}.content`))}handleFailedDeletion(errorMessageKey,errorMessage){this.notificationsService.error(this.translate.get(`${errorMessageKey}.title`),errorMessage)}refreshDsoCache(){return this.clearDsoCache(),this.fetchUpdatedDso()}clearDsoCache(){this.requestService.setStaleByHrefSubstring(this.dso.id),this.objectCache.remove(this.dso._links.self.href)}fetchUpdatedDso(){return this.dsoService.findById(this.dso.id,!1,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_16__.s)("logo")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)())}onCompleteItem(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.dso.id)&&this.refreshDSO$.next(),this.isCreation&&this.finish.emit(),this.notificationsService.success(null,this.translate.get(this.type.value+".edit.logo.notifications.add.success"))}onUploadError(){this.notificationsService.error(null,this.translate.get(this.type.value+".edit.logo.notifications.add.error"))}ngOnDestroy(){this.refreshDSO$.complete(),this.subs.filter(subscription=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(subscription)).forEach(subscription=>subscription.unsubscribe())}static#_=this.\u0275fac=function(t){return new(t||ComColFormComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_17__.J9r),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__.I),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__.uR),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_core_data_request_service__WEBPACK_IMPORTED_MODULE_2__.B),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_core_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__.$),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_19__.Bq))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.VBU({type:ComColFormComponent2,selectors:[["ds-comcol-form"]],viewQuery:function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.GBs(_upload_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_7__.y,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_10__.mGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_10__.lsd())&&(ctx.uploaderComponent=_t.first)}},inputs:{dso:"dso",isCreation:"isCreation"},outputs:{submitForm:"submitForm",back:"back",finish:"finish"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.aNF],decls:9,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","d-inline-block","mb-1"],[4,"ngVar"],[3,"formId","formModel","displayCancel","submitForm",4,"ngIf"],["class","col-12 d-inline-block alert","id","logo-section",4,"ngIf"],["class","col-12 d-inline-block",4,"ngIf"],["id","logo-section",1,"col-12","d-inline-block","alert"],[1,"col-8","d-inline-block"],[3,"alternateText","logo"],[1,"col-4","d-inline-block"],["class","float-right",4,"ngIf"],[1,"float-right"],["type","button",1,"btn","btn-danger",3,"click"],[1,"col-12","d-inline-block"],[3,"ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError",4,"ngIf"],[3,"onCompleteItem","onUploadError","ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"submitForm","formId","formModel","displayCancel"],["before","","type","button",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"]],template:function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(6,ComColFormComponent_ng_container_6_Template,3,2,"ng-container",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(8,ComColFormComponent_ds_form_8_Template,5,6,"ds-form",4)),2&rf){let tmp_1_0;_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(5,3,ctx.type.value+".edit.logo.label")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngVar",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(7,5,null==ctx.dso?null:ctx.dso.logo))?null:tmp_1_0.payload),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",ctx.formModel)}},dependencies:[_form_form_component__WEBPACK_IMPORTED_MODULE_5__.s,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__.D9,_upload_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_7__.y,_angular_common__WEBPACK_IMPORTED_MODULE_20__.Jj,_comcol_page_logo_comcol_page_logo_component__WEBPACK_IMPORTED_MODULE_9__.X,_angular_common__WEBPACK_IMPORTED_MODULE_20__.bT,_utils_var_directive__WEBPACK_IMPORTED_MODULE_21__.r]})}return ComColFormComponent2})()},49843:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>CreateComColPageComponent});var rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(10743),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45930),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(91735),_core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(57699),_core_data_comcol_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(65869),_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(83591),_core_data_request_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(72744),_core_services_route_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(86759),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(82656),_empty_util__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(77028),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10117),_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(68014),_angular_router__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(64247),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(43750);let CreateComColPageComponent=(()=>{class CreateComColPageComponent2{constructor(dsoDataService,dsoNameService,parentDataService,routeService,router,notificationsService,translate,requestService){this.dsoDataService=dsoDataService,this.dsoNameService=dsoNameService,this.parentDataService=parentDataService,this.routeService=routeService,this.router=router,this.notificationsService=notificationsService,this.translate=translate,this.requestService=requestService,this.isLoading$=new rxjs__WEBPACK_IMPORTED_MODULE_8__.BehaviorSubject(!1)}ngOnInit(){this.parentUUID$=this.routeService.getQueryParameterValue("parent"),this.parentUUID$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.s)(1)).subscribe(parentID=>{(0,_empty_util__WEBPACK_IMPORTED_MODULE_10__.hj)(parentID)&&(this.parentRD$=this.parentDataService.findById(parentID))})}onSubmit(event){this.isLoading$.next(!0);const dso=event.dso,uploader=event.uploader;this.parentUUID$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.ZZ)(uuid=>{const params=uuid?[new _core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__.x("parent",uuid)]:[];return this.dsoDataService.create(dso,...params).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.ak)())}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.ZZ)(dsoRD=>{if((0,_empty_util__WEBPACK_IMPORTED_MODULE_10__.EA)(dsoRD))return this.newUUID=dsoRD.uuid,uploader.queue.length>0?this.dsoDataService.getLogoEndpoint(this.newUUID).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Mi)(href=>{uploader.options.url=href,uploader.onCompleteAll=()=>{this.isLoading$.next(!1),this.navigateToNewPage(),this.notificationsService.success(null,this.translate.get(this.type.value+".create.notifications.success"))},uploader.uploadAll()}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Tj)(()=>!1)):(this.dsoDataService.refreshCache(dsoRD),(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!0))})).subscribe(notify=>{notify&&(this.isLoading$.next(!1),this.navigateToNewPage(),this.notificationsService.success(null,this.translate.get(this.type.value+".create.notifications.success")))})}navigateToHome(){this.router.navigate([(0,_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.sB)()])}navigateToNewPage(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_10__.a4)(this.newUUID)&&this.router.navigate([this.frontendURL+this.newUUID])}static#_=this.\u0275fac=function(t){return new(t||CreateComColPageComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_core_data_comcol_data_service__WEBPACK_IMPORTED_MODULE_2__.x),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__.f),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_3__.CommunityDataService),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_core_services_route_service__WEBPACK_IMPORTED_MODULE_5__.v$),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_13__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_7__.I),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_core_data_request_service__WEBPACK_IMPORTED_MODULE_4__.B))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_12__.VBU({type:CreateComColPageComponent2,selectors:[["ds-create-comcol"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_12__.aNF],decls:0,vars:0,template:function(rf,ctx){},encapsulation:2})}return CreateComColPageComponent2})()},84585:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>DeleteComColPageComponent});var rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10743),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(91735),_core_data_comcol_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(65869),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(82656),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10117),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(68014),_angular_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(64247),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(43750);let DeleteComColPageComponent=(()=>{class DeleteComColPageComponent2{constructor(dsoDataService,dsoNameService,router,route,notifications,translate){this.dsoDataService=dsoDataService,this.dsoNameService=dsoNameService,this.router=router,this.route=route,this.notifications=notifications,this.translate=translate,this.processing$=new rxjs__WEBPACK_IMPORTED_MODULE_4__.BehaviorSubject(!1)}ngOnInit(){this.dsoRD$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.$1)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.Tj)(data=>data.dso))}onConfirm(dso){this.processing$.next(!0),this.dsoDataService.delete(dso.id).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)()).subscribe(response=>{if(response.hasSucceeded){const successMessage=this.translate.instant(dso.type+".delete.notification.success");this.notifications.success(successMessage)}else{const errorMessage=this.translate.instant(dso.type+".delete.notification.fail");this.notifications.error(errorMessage)}this.router.navigate(["/"])})}onCancel(dso){this.router.navigate([this.frontendURL+"/"+dso.uuid+"/edit"])}static#_=this.\u0275fac=function(t){return new(t||DeleteComColPageComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_core_data_comcol_data_service__WEBPACK_IMPORTED_MODULE_1__.x),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__.f),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_7__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_7__.nX),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__.I),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__.c$))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_6__.VBU({type:DeleteComColPageComponent2,selectors:[["ds-delete-comcol"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_6__.aNF],decls:0,vars:0,template:function(rf,ctx){},encapsulation:2})}return DeleteComColPageComponent2})()},95297:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ComcolPageBrowseByComponent:()=>ComcolPageBrowseByComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(84739),_angular_forms__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(28955),_angular_router__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(64247),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(43750),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10743),_collection_page_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(72330),_community_page_community_page_routing_paths__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(27546),_core_browse_browse_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(97175),_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(82656),_empty_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(77028),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(68014);function ComcolPageBrowseByComponent_nav_3_a_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(0,"a",9),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()),2&rf){let tmp_4_0,tmp_7_0;const option_r2=ctx.$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_2__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_2__.AVh("active",(null==(tmp_4_0=_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(1,6,ctx_r2.currentOption$))?null:tmp_4_0.id)===option_r2.id),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y8G("routerLink",option_r2.routerLink)("queryParams",option_r2.params),_angular_core__WEBPACK_IMPORTED_MODULE_2__.BMQ("aria-current",(null==(tmp_7_0=_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(2,8,ctx_r2.currentOption$))?null:tmp_7_0.id)===option_r2.id),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(4,10,option_r2.label)," ")}}function ComcolPageBrowseByComponent_nav_3_option_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(0,"option",10),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()),2&rf){let tmp_5_0;const option_r4=ctx.$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_2__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y8G("value",option_r4.id),_angular_core__WEBPACK_IMPORTED_MODULE_2__.BMQ("selected",(null==(tmp_5_0=_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(1,3,ctx_r2.currentOption$))?null:tmp_5_0.id)===option_r4.id?"selected":null),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(3,5,option_r4.label)," ")}}function ComcolPageBrowseByComponent_nav_3_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_2__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(0,"nav",2)(1,"div",3)(2,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(3,ComcolPageBrowseByComponent_nav_3_a_3_Template,5,12,"a",5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(4,"div",6)(5,"select",7),_angular_core__WEBPACK_IMPORTED_MODULE_2__.bIt("change",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_2__.eBV(_r1);const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_2__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_2__.Njj(ctx_r2.onSelectChange($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(6,ComcolPageBrowseByComponent_nav_3_option_6_Template,4,7,"option",8),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()()()}if(2&rf){const allOptions_r5=ctx.ngIf;_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y8G("ngForOf",allOptions_r5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y8G("ngForOf",allOptions_r5)}}let ComcolPageBrowseByComponent=(()=>{class ComcolPageBrowseByComponent2{constructor(router,browseService){this.router=router,this.browseService=browseService,this.currentOption$=new rxjs__WEBPACK_IMPORTED_MODULE_3__.BehaviorSubject(void 0),this.subs=[]}ngOnInit(){this.allOptions$=this.browseService.getBrowseDefinitions().pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.Tj)(browseDefListRD=>{const allOptions=[];if(browseDefListRD.hasSucceeded){let comColRoute;"collection"===this.contentType?(comColRoute=(0,_collection_page_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_5__.JW)(this.id),allOptions.push({id:"search",label:"collection.page.browse.search.head",routerLink:comColRoute})):"community"===this.contentType&&(comColRoute=(0,_community_page_community_page_routing_paths__WEBPACK_IMPORTED_MODULE_6__.c5)(this.id),allOptions.push({id:"search",label:"collection.page.browse.search.head",routerLink:comColRoute}),allOptions.push({id:"comcols",label:"community.all-lists.head",routerLink:`${comColRoute}/subcoms-cols`})),allOptions.push(...browseDefListRD.payload.page.map(config=>({id:`browse_${config.id}`,label:`browse.comcol.by.${config.id}`,routerLink:`${comColRoute}/browse/${config.id}`})))}return allOptions})),this.subs.push((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.combineLatest)([this.allOptions$,this.router.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.ql)(this.router),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.pb)(next=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_7__.hj)(next?.url)||next?.type===_angular_router__WEBPACK_IMPORTED_MODULE_8__.Bx.Scroll),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.Tj)(next=>next?.url||next.routerEvent.urlAfterRedirects),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.F)())]).subscribe(([navOptions,url])=>{for(const option of navOptions)option.routerLink===url?.split("?")[0]&&this.currentOption$.next(option)}))}ngOnDestroy(){this.subs.forEach(sub=>sub.unsubscribe())}onSelectChange(event){this.allOptions$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.s)(1)).subscribe(allOptions=>{for(const option of allOptions)if(option.id===event.target.value){this.currentOption$.next(option[0]),this.router.navigate([option.routerLink],{queryParams:option.params});break}})}static#_=this.\u0275fac=function(t){return new(t||ComcolPageBrowseByComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_8__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_2__.rXU(_core_browse_browse_service__WEBPACK_IMPORTED_MODULE_0__.q))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.VBU({type:ComcolPageBrowseByComponent2,selectors:[["ds-base-comcol-page-browse-by"]],inputs:{id:"id",contentType:"contentType"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.aNF],decls:5,vars:6,consts:[[1,"comcol-browse-label"],["class","comcol-browse mb-4","aria-label","Browse Community or Collection",4,"ngIf"],["aria-label","Browse Community or Collection",1,"comcol-browse","mb-4"],[1,"d-none","d-sm-block"],["role","tablist",1,"list-group","list-group-horizontal"],["class","list-group-item","role","tab",3,"routerLink","queryParams","active",4,"ngFor","ngForOf"],[1,"d-block","d-sm-none"],["name","browse-type","aria-label","Browse Community or Collection",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],["role","tab",1,"list-group-item",3,"routerLink","queryParams"],[3,"value"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(0,"h2",0),_angular_core__WEBPACK_IMPORTED_MODULE_2__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(3,ComcolPageBrowseByComponent_nav_3_Template,7,2,"nav",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(4,"async")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(2,2,"browse.comcol.head")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y8G("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(4,4,ctx.allOptions$)))},dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_9__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_9__.xH,_angular_forms__WEBPACK_IMPORTED_MODULE_9__.y7,_angular_common__WEBPACK_IMPORTED_MODULE_10__.Sq,_angular_router__WEBPACK_IMPORTED_MODULE_8__.Wk,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.D9,_angular_common__WEBPACK_IMPORTED_MODULE_10__.Jj,_angular_common__WEBPACK_IMPORTED_MODULE_10__.bT]})}return ComcolPageBrowseByComponent2})()},7105:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>ThemedComcolPageBrowseByComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31260),_angular_core__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(95297),__webpack_require__(68014));const _c0=["*"];function ThemedComcolPageBrowseByComponent_ng_template_0_Template(rf,ctx){}let ThemedComcolPageBrowseByComponent=(()=>{class ThemedComcolPageBrowseByComponent2 extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.J{constructor(){super(...arguments),this.inAndOutputNames=["id","contentType"]}getComponentName(){return"ComcolPageBrowseByComponent"}importThemedComponent(themeName){return __webpack_require__(7754)(`./${themeName}/app/shared/comcol/comcol-page-browse-by/comcol-page-browse-by.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,95297))}static#_=this.\u0275fac=(()=>{let \u0275ThemedComcolPageBrowseByComponent_BaseFactory;return function(t){return(\u0275ThemedComcolPageBrowseByComponent_BaseFactory||(\u0275ThemedComcolPageBrowseByComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_2__.xGo(ThemedComcolPageBrowseByComponent2)))(t||ThemedComcolPageBrowseByComponent2)}})();static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.VBU({type:ThemedComcolPageBrowseByComponent2,selectors:[["ds-comcol-page-browse-by"]],inputs:{id:"id",contentType:"contentType"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_2__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(0,ThemedComcolPageBrowseByComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s())},encapsulation:2})}return ThemedComcolPageBrowseByComponent2})()},48011:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>ThemedComcolPageContentComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31260),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(68014);const _c0=["*"];function ThemedComcolPageContentComponent_ng_template_0_Template(rf,ctx){}let ThemedComcolPageContentComponent=(()=>{class ThemedComcolPageContentComponent2 extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.J{constructor(){super(...arguments),this.inAndOutputNames=["title","content","hasInnerHtml"]}getComponentName(){return"ComcolPageContentComponent"}importThemedComponent(themeName){return __webpack_require__(41454)(`./${themeName}/app/shared/comcol/comcol-page-content/comcol-page-content.component`)}importUnthemedComponent(){return __webpack_require__.e(1573).then(__webpack_require__.bind(__webpack_require__,1573))}static#_=this.\u0275fac=(()=>{let \u0275ThemedComcolPageContentComponent_BaseFactory;return function(t){return(\u0275ThemedComcolPageContentComponent_BaseFactory||(\u0275ThemedComcolPageContentComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.xGo(ThemedComcolPageContentComponent2)))(t||ThemedComcolPageContentComponent2)}})();static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.VBU({type:ThemedComcolPageContentComponent2,selectors:[["ds-comcol-page-content"]],inputs:{title:"title",content:"content",hasInnerHtml:"hasInnerHtml"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_1__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(0,ThemedComcolPageContentComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s())},encapsulation:2})}return ThemedComcolPageContentComponent2})()},46763:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>ThemedComcolPageHandleComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31260),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(68014);const _c0=["*"];function ThemedComcolPageHandleComponent_ng_template_0_Template(rf,ctx){}let ThemedComcolPageHandleComponent=(()=>{class ThemedComcolPageHandleComponent2 extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.J{constructor(){super(...arguments),this.inAndOutputNames=["title","content"]}getComponentName(){return"ComcolPageHandleComponent"}importThemedComponent(themeName){return __webpack_require__(85830)(`./${themeName}/app/shared/comcol/comcol-page-handle/comcol-page-handle.component`)}importUnthemedComponent(){return __webpack_require__.e(3727).then(__webpack_require__.bind(__webpack_require__,83727))}static#_=this.\u0275fac=(()=>{let \u0275ThemedComcolPageHandleComponent_BaseFactory;return function(t){return(\u0275ThemedComcolPageHandleComponent_BaseFactory||(\u0275ThemedComcolPageHandleComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.xGo(ThemedComcolPageHandleComponent2)))(t||ThemedComcolPageHandleComponent2)}})();static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.VBU({type:ThemedComcolPageHandleComponent2,selectors:[["ds-comcol-page-handle"]],inputs:{title:"title",content:"content"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_1__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(0,ThemedComcolPageHandleComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s())},encapsulation:2})}return ThemedComcolPageHandleComponent2})()},61781:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>ComcolPageHeaderComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(84739),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(68014);function ComcolPageHeaderComponent_h1_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(0,"h1"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(ctx_r0.name)}}let ComcolPageHeaderComponent=(()=>{class ComcolPageHeaderComponent2{static#_=this.\u0275fac=function(t){return new(t||ComcolPageHeaderComponent2)};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.VBU({type:ComcolPageHeaderComponent2,selectors:[["ds-comcol-page-header"]],inputs:{name:"name"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.aNF],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.DNE(0,ComcolPageHeaderComponent_h1_0_Template,2,1,"h1",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y8G("ngIf",ctx.name)},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_1__.bT]})}return ComcolPageHeaderComponent2})()},54337:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>ComcolPageLogoComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(84739),_angular_core__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(77381),__webpack_require__(68014));function ComcolPageLogoComponent_div_0_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(0,"div",1)(1,"img",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.bIt("error",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_1__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Njj(ctx_r1.errorHandler($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y8G("src",ctx_r1.logo._links.content.href,_angular_core__WEBPACK_IMPORTED_MODULE_1__.B4B),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BMQ("alt",ctx_r1.alternateText?ctx_r1.alternateText:null)}}let ComcolPageLogoComponent=(()=>{class ComcolPageLogoComponent2{constructor(){this.holderSource="data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2293%22%20height%3D%22120%22%20viewBox%3D%220%200%2093%20120%22%20preserveAspectRatio%3D%22none%22%3E%3C!--%0ASource%20URL%3A%20holder.js%2F93x120%3Ftext%3DNo%20Thumbnail%0ACreated%20with%20Holder.js%202.8.2.%0ALearn%20more%20at%20http%3A%2F%2Fholderjs.com%0A(c)%202012-2015%20Ivan%20Malopinsky%20-%20http%3A%2F%2Fimsky.co%0A--%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%3C!%5BCDATA%5B%23holder_1543e460b05%20text%20%7B%20fill%3A%23AAAAAA%3Bfont-weight%3Abold%3Bfont-family%3AArial%2C%20Helvetica%2C%20Open%20Sans%2C%20sans-serif%2C%20monospace%3Bfont-size%3A10pt%20%7D%20%5D%5D%3E%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_1543e460b05%22%3E%3Crect%20width%3D%2293%22%20height%3D%22120%22%20fill%3D%22%23EEEEEE%22%2F%3E%3Cg%3E%3Ctext%20x%3D%2235.6171875%22%20y%3D%2257%22%3ENo%3C%2Ftext%3E%3Ctext%20x%3D%2210.8125%22%20y%3D%2272%22%3EThumbnail%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E"}errorHandler(event){event.currentTarget.src=this.holderSource}static#_=this.\u0275fac=function(t){return new(t||ComcolPageLogoComponent2)};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.VBU({type:ComcolPageLogoComponent2,selectors:[["ds-comcol-page-logo"]],inputs:{logo:"logo",alternateText:"alternateText"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.aNF],decls:1,vars:1,consts:[["class","dso-logo mb-3",4,"ngIf"],[1,"dso-logo","mb-3"],[1,"w-100","img-fluid",3,"error","src"]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(0,ComcolPageLogoComponent_div_0_Template,2,2,"div",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y8G("ngIf",ctx.logo)},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.bT],styles:["img[_ngcontent-%COMP%]{max-width:var(--ds-comcol-logo-max-width);max-height:var(--ds-comcol-logo-max-height)}"]})}return ComcolPageLogoComponent2})()},39328:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>ComcolBrowseByComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(84739),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10743),_browse_by_browse_by_switcher_browse_by_switcher_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4456),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(68014),_angular_router__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(64247);let ComcolBrowseByComponent=(()=>{class ComcolBrowseByComponent2{constructor(route){this.route=route}ngOnInit(){this.browseByType$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.Tj)(data=>data.browseDefinition.getRenderType())),this.scope$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.Tj)(data=>data.scope))}static#_=this.\u0275fac=function(t){return new(t||ComcolBrowseByComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_3__.nX))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.VBU({type:ComcolBrowseByComponent2,selectors:[["ds-comcol-browse-by"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.aNF],decls:3,vars:7,consts:[[3,"browseByType","displayTitle","scope"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.nrm(0,"ds-browse-by-switcher",0),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(2,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y8G("browseByType",_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(1,3,ctx.browseByType$))("displayTitle",!1)("scope",_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(2,5,ctx.scope$))},dependencies:[_browse_by_browse_by_switcher_browse_by_switcher_component__WEBPACK_IMPORTED_MODULE_0__.e,_angular_common__WEBPACK_IMPORTED_MODULE_4__.Jj]})}return ComcolBrowseByComponent2})()},78214:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>ComcolSearchSectionComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(84739),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10743),_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59945),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(90435),_my_dspace_page_my_dspace_configuration_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3581),_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(77028),_search_themed_search_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(84057),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(68014),_angular_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(64247);let ComcolSearchSectionComponent=(()=>{class ComcolSearchSectionComponent2{constructor(appConfig,route){this.appConfig=appConfig,this.route=route}ngOnInit(){this.comcol$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.Tj)(data=>data.dso.payload)),this.showSidebar$=this.comcol$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.Tj)(comcol=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.a4)(comcol)&&this.appConfig[comcol.type].searchSection.showSidebar))}static#_=this.\u0275fac=function(t){return new(t||ComcolSearchSectionComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__.vQ),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_7__.nX))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_6__.VBU({type:ComcolSearchSectionComponent2,selectors:[["ds-comcol-search-section"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_6__.Jv_([{provide:_my_dspace_page_my_dspace_configuration_service__WEBPACK_IMPORTED_MODULE_2__.EN,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.g}]),_angular_core__WEBPACK_IMPORTED_MODULE_6__.aNF],decls:4,vars:11,consts:[[3,"configuration","showSidebar","showScopeSelector","hideScopeInUrl","scope"]],template:function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.nrm(0,"ds-search",0),_angular_core__WEBPACK_IMPORTED_MODULE_6__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.nI1(3,"async")),2&rf){let tmp_0_0,tmp_4_0;_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y8G("configuration",null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_6__.bMT(1,5,ctx.comcol$))?null:tmp_0_0.type)("showSidebar",_angular_core__WEBPACK_IMPORTED_MODULE_6__.bMT(2,7,ctx.showSidebar$))("showScopeSelector",!1)("hideScopeInUrl",!0)("scope",null==(tmp_4_0=_angular_core__WEBPACK_IMPORTED_MODULE_6__.bMT(3,9,ctx.comcol$))?null:tmp_4_0.id)}},dependencies:[_search_themed_search_component__WEBPACK_IMPORTED_MODULE_3__.N,_angular_common__WEBPACK_IMPORTED_MODULE_8__.Jj]})}return ComcolSearchSectionComponent2})()},34615:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>dsoEditMenuResolver});var core=__webpack_require__(68014),cjs=__webpack_require__(74785),operators=__webpack_require__(10743),app_routing_paths=__webpack_require__(45930),dspace_object_data_service=__webpack_require__(78358),authorization_data_service=__webpack_require__(30289),feature_id=__webpack_require__(29321),researcher_profile_data_service=__webpack_require__(64961),collection_model=__webpack_require__(28410),community_model=__webpack_require__(61935),item_model=__webpack_require__(6721),shared_operators=__webpack_require__(82656),correctiontype_data_service=__webpack_require__(71870),url_combiner=__webpack_require__(1828),empty_util=__webpack_require__(77028),menu_service=__webpack_require__(90547),menu_id_model=__webpack_require__(7417),menu_item_type_model=__webpack_require__(80122),notifications_service=__webpack_require__(10117),subscription_modal_component=__webpack_require__(5426),item_data_service=__webpack_require__(94743),version_data_service=__webpack_require__(80148),version_history_data_service=__webpack_require__(1555),workspaceitem_data_service=__webpack_require__(2402),item_versions_shared_service=__webpack_require__(65925),item_versions_summary_modal_component=__webpack_require__(32137),ng_bootstrap=__webpack_require__(71781),router=__webpack_require__(64247);let DsoVersioningModalService=(()=>{class DsoVersioningModalService2{constructor(modalService,versionService,versionHistoryService,itemVersionShared,router2,workspaceItemDataService,itemService){this.modalService=modalService,this.versionService=versionService,this.versionHistoryService=versionHistoryService,this.itemVersionShared=itemVersionShared,this.router=router2,this.workspaceItemDataService=workspaceItemDataService,this.itemService=itemService}openCreateVersionModal(dso){const item=dso,versionHref=item._links.version.href,activeModal=this.modalService.open(item_versions_summary_modal_component.L);this.versionService.findByHref(versionHref).pipe((0,shared_operators.qD)()).subscribe(res=>{activeModal.componentInstance.firstVersion=res.hasNoContent,activeModal.componentInstance.versionNumber=res.hasNoContent?void 0:res.payload.version}),activeModal.componentInstance.createVersionEvent.pipe((0,operators.nx)(summary=>this.versionHistoryService.createVersion(item._links.self.href,summary)),(0,shared_operators.qD)(),(0,operators.Mi)(()=>activeModal.close()),(0,operators.Mi)(res=>{this.itemVersionShared.notifyCreateNewVersion(res)}),(0,shared_operators.ak)(),(0,operators.nx)(newVersion=>this.itemService.findByHref(newVersion._links.item.href)),(0,shared_operators.ak)(),(0,operators.nx)(newVersionItem=>this.workspaceItemDataService.findByItem(newVersionItem.uuid,!0,!1)),(0,shared_operators.ak)()).subscribe(wsItem=>{this.router.navigateByUrl("workspaceitems/"+wsItem.id+"/edit")})}isNewVersionButtonDisabled(dso){return this.versionHistoryService.hasDraftVersion$(dso._links.version.href).pipe((0,operators.Tj)(res=>!!res))}getVersioningTooltipMessage(dso,tooltipMsgHasDraft,tooltipMsgCreate){return this.isNewVersionButtonDisabled(dso).pipe((0,operators.nx)(hasDraftVersion=>(0,cjs.of)(hasDraftVersion?tooltipMsgHasDraft:tooltipMsgCreate)))}static#_=this.\u0275fac=function(t){return new(t||DsoVersioningModalService2)(core.KVO(ng_bootstrap.Bq),core.KVO(version_data_service.VersionDataService),core.KVO(version_history_data_service.VersionHistoryDataService),core.KVO(item_versions_shared_service.h),core.KVO(router.Ix),core.KVO(workspaceitem_data_service.WorkspaceitemDataService),core.KVO(item_data_service.ItemDataService))};static#_2=this.\u0275prov=core.jDH({token:DsoVersioningModalService2,factory:DsoVersioningModalService2.\u0275fac,providedIn:"root"})}return DsoVersioningModalService2})();var dso_withdrawn_reinstate_modal_service=__webpack_require__(19941),ngx_translate_core=__webpack_require__(43750);let DSOEditMenuResolverService=(()=>{class DSOEditMenuResolverService2{constructor(dSpaceObjectDataService,menuService,authorizationService,modalService,dsoVersioningModalService,researcherProfileService,notificationsService,translate,dsoWithdrawnReinstateModalService,correctionTypeDataService){this.dSpaceObjectDataService=dSpaceObjectDataService,this.menuService=menuService,this.authorizationService=authorizationService,this.modalService=modalService,this.dsoVersioningModalService=dsoVersioningModalService,this.researcherProfileService=researcherProfileService,this.notificationsService=notificationsService,this.translate=translate,this.dsoWithdrawnReinstateModalService=dsoWithdrawnReinstateModalService,this.correctionTypeDataService=correctionTypeDataService}resolve(route,state){let id=route.params.id;return(0,empty_util.Tn)(id)&&(0,empty_util.a4)(route.queryParams.scope)&&(id=route.queryParams.scope),(0,empty_util.Tn)(id)?(0,cjs.of)({...route.data?.menu}):this.dSpaceObjectDataService.findById(id,!0,!1).pipe((0,shared_operators.qD)(),(0,operators.nx)(dsoRD=>{if(dsoRD.hasSucceeded){const dso=dsoRD.payload;return(0,cjs.combineLatest)(this.getDsoMenus(dso,route,state)).pipe((0,operators.Tj)(combinedMenus=>[].concat.apply([],combinedMenus)),(0,operators.Tj)(menus=>this.addDsoUuidToMenuIDs(menus,dso)),(0,operators.Tj)(menus=>({...route.data?.menu,[menu_id_model.D.DSO_EDIT]:menus})))}return(0,cjs.of)({...route.data?.menu})}))}getDsoMenus(dso,route,state){return[this.getItemMenu(dso),this.getComColMenu(dso),this.getCommonMenu(dso,state)]}getCommonMenu(dso,state){return(0,cjs.combineLatest)([this.authorizationService.isAuthorized(feature_id._.CanEditMetadata,dso.self)]).pipe((0,operators.Tj)(([canEditItem])=>[{id:"edit-dso",active:!1,visible:canEditItem,model:{type:menu_item_type_model.x.LINK,text:this.getDsoType(dso)+".page.edit",link:new url_combiner.t((0,app_routing_paths.wN)(dso),"edit","metadata").toString()},icon:"pencil-alt",index:2}]))}getItemMenu(dso){return dso instanceof item_model.q?(0,cjs.combineLatest)([this.authorizationService.isAuthorized(feature_id._.CanCreateVersion,dso.self),this.dsoVersioningModalService.isNewVersionButtonDisabled(dso),this.dsoVersioningModalService.getVersioningTooltipMessage(dso,"item.page.version.hasDraft","item.page.version.create"),this.authorizationService.isAuthorized(feature_id._.CanSynchronizeWithORCID,dso.self),this.authorizationService.isAuthorized(feature_id._.CanClaimItem,dso.self),this.correctionTypeDataService.findByItem(dso.uuid,!1).pipe((0,shared_operators.qD)(),(0,shared_operators.Bo)())]).pipe((0,operators.Tj)(([canCreateVersion,disableVersioning,versionTooltip,canSynchronizeWithOrcid,canClaimItem,correction])=>{const isPerson="person"===this.getDsoType(dso);return[{id:"orcid-dso",active:!1,visible:isPerson&&canSynchronizeWithOrcid,model:{type:menu_item_type_model.x.LINK,text:"item.page.orcid.tooltip",link:new url_combiner.t((0,app_routing_paths.wN)(dso),"orcid").toString()},icon:"orcid fab fa-lg",index:0},{id:"version-dso",active:!1,visible:canCreateVersion,model:{type:menu_item_type_model.x.ONCLICK,text:versionTooltip,disabled:disableVersioning,function:()=>{this.dsoVersioningModalService.openCreateVersionModal(dso)}},icon:"code-branch",index:1},{id:"claim-dso",active:!1,visible:isPerson&&canClaimItem,model:{type:menu_item_type_model.x.ONCLICK,text:"item.page.claim.button",function:()=>{this.claimResearcher(dso)}},icon:"hand-paper",index:3},{id:"withdrawn-item",active:!1,visible:dso.isArchived&&correction?.page.some(c=>c.topic===dso_withdrawn_reinstate_modal_service.pc),model:{type:menu_item_type_model.x.ONCLICK,text:"item.page.withdrawn",function:()=>{this.dsoWithdrawnReinstateModalService.openCreateWithdrawnReinstateModal(dso,"request-withdrawn",dso.isArchived)}},icon:"eye-slash",index:4},{id:"reinstate-item",active:!1,visible:dso.isWithdrawn&&correction?.page.some(c=>c.topic===dso_withdrawn_reinstate_modal_service.el),model:{type:menu_item_type_model.x.ONCLICK,text:"item.page.reinstate",function:()=>{this.dsoWithdrawnReinstateModalService.openCreateWithdrawnReinstateModal(dso,"request-reinstate",dso.isArchived)}},icon:"eye",index:5}]})):(0,cjs.of)([])}getComColMenu(dso){return dso instanceof community_model.E||dso instanceof collection_model.p?(0,cjs.combineLatest)([this.authorizationService.isAuthorized(feature_id._.CanSubscribe,dso.self)]).pipe((0,operators.Tj)(([canSubscribe])=>[{id:"subscribe",active:!1,visible:canSubscribe,model:{type:menu_item_type_model.x.ONCLICK,text:"subscriptions.tooltip",function:()=>{this.modalService.open(subscription_modal_component.w).componentInstance.dso=dso}},icon:"bell",index:4}])):(0,cjs.of)([])}claimResearcher(dso){this.researcherProfileService.createFromExternalSourceAndReturnRelatedItemId(dso.self).subscribe(id=>{(0,empty_util.hj)(id)?(this.notificationsService.success(this.translate.get("researcherprofile.success.claim.title"),this.translate.get("researcherprofile.success.claim.body")),this.authorizationService.invalidateAuthorizationsRequestCache(),this.menuService.hideMenuSection(menu_id_model.D.DSO_EDIT,"claim-dso-"+dso.uuid)):this.notificationsService.error(this.translate.get("researcherprofile.error.claim.title"),this.translate.get("researcherprofile.error.claim.body"))})}getDsoType(dso){const renderType=dso.getRenderTypes()[0];return"string"==typeof renderType||renderType instanceof String?renderType.toLowerCase():dso.type.toString().toLowerCase()}addDsoUuidToMenuIDs(menus,dso){return menus.map(menu=>(Object.assign(menu,{id:menu.id+"-"+dso.uuid}),(0,empty_util.a4)(menu.parentID)&&Object.assign(menu,{parentID:menu.parentID+"-"+dso.uuid}),menu))}static#_=this.\u0275fac=function(t){return new(t||DSOEditMenuResolverService2)(core.KVO(dspace_object_data_service.DSpaceObjectDataService),core.KVO(menu_service.$),core.KVO(authorization_data_service.AuthorizationDataService),core.KVO(ng_bootstrap.Bq),core.KVO(DsoVersioningModalService),core.KVO(researcher_profile_data_service.ResearcherProfileDataService),core.KVO(notifications_service.I),core.KVO(ngx_translate_core.c$),core.KVO(dso_withdrawn_reinstate_modal_service.Ee),core.KVO(correctiontype_data_service.CorrectionTypeDataService))};static#_2=this.\u0275prov=core.jDH({token:DSOEditMenuResolverService2,factory:DSOEditMenuResolverService2.\u0275fac,providedIn:"root"})}return DSOEditMenuResolverService2})();const dsoEditMenuResolver=(route,state,menuResolverService=(0,core.WQX)(DSOEditMenuResolverService))=>menuResolverService.resolve(route,state)},19941:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ee:()=>DsoWithdrawnReinstateModalService,el:()=>REQUEST_REINSTATE,pc:()=>REQUEST_WITHDRAWN});var operators=__webpack_require__(10743),authorization_data_service=__webpack_require__(30289),item_data_service=__webpack_require__(94743),quality_assurance_event_data_service=__webpack_require__(77231),shared_operators=__webpack_require__(82656),common=__webpack_require__(84739),core=__webpack_require__(68014),fesm2022_forms=__webpack_require__(28955),ngx_translate_core=__webpack_require__(43750),cjs=__webpack_require__(74785),themed_loading_component=__webpack_require__(32943),ng_bootstrap=__webpack_require__(71781);function ItemWithdrawnReinstateModalComponent_div_0_div_1_Template(rf,ctx){if(1&rf){const _r2=core.RV6();core.j41(0,"div",13),core.EFF(1),core.nI1(2,"translate"),core.j41(3,"button",14),core.bIt("click",function(){core.eBV(_r2);const ctx_r2=core.XpG(2);return core.Njj(ctx_r2.onModalClose())}),core.j41(4,"span",15),core.EFF(5,"\xd7"),core.k0s()()()}2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"item.qa.withdrawn.modal.header")," "))}function ItemWithdrawnReinstateModalComponent_div_0_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"div"),core.DNE(1,ItemWithdrawnReinstateModalComponent_div_0_div_1_Template,6,3,"div",3),core.j41(2,"div",4)(3,"div",5)(4,"label",6),core.EFF(5),core.nI1(6,"translate"),core.nI1(7,"translate"),core.k0s(),core.j41(8,"label",6),core.EFF(9),core.nI1(10,"translate"),core.nI1(11,"translate"),core.k0s(),core.j41(12,"textarea",7),core.nI1(13,"translate"),core.nI1(14,"translate"),core.mxI("ngModelChange",function($event){core.eBV(_r1);const ctx_r2=core.XpG();return core.DH7(ctx_r2.reason,$event)||(ctx_r2.reason=$event),core.Njj($event)}),core.k0s()()(),core.j41(15,"div",8)(16,"button",9),core.nI1(17,"translate"),core.bIt("click",function(){core.eBV(_r1);const ctx_r2=core.XpG();return core.Njj(ctx_r2.onModalClose())}),core.nrm(18,"i",10),core.EFF(19),core.nI1(20,"translate"),core.k0s(),core.j41(21,"button",11),core.nI1(22,"translate"),core.bIt("click",function(){core.eBV(_r1);const ctx_r2=core.XpG();return core.Njj(ctx_r2.onModalSubmit())}),core.nrm(23,"i",12),core.EFF(24),core.nI1(25,"translate"),core.nI1(26,"translate"),core.k0s()()()}if(2&rf){const ctx_r2=core.XpG(),reinstateHeader_r4=core.sdS(5);core.R7$(),core.Y8G("ngIf",ctx_r2.canWithdraw)("ngIfElse",reinstateHeader_r4),core.R7$(4),core.JRh(ctx_r2.canWithdraw?core.bMT(6,10,"qa-withdrawn.create.modal.form.summary.label"):core.bMT(7,12,"qa-reinstate.create.modal.form.summary.label")),core.R7$(4),core.JRh(ctx_r2.canWithdraw?core.bMT(10,14,"qa-withdrawn.create.modal.form.summary2.label"):core.bMT(11,16,"qa-reinstate.create.modal.form.summary2.label")),core.R7$(3),core.FS9("placeholder",ctx_r2.canWithdraw?core.bMT(13,18,"qa-withdrown.modal.form.summary.placeholder"):core.bMT(14,20,"qa-reinstate.modal.form.summary.placeholder")),core.R50("ngModel",ctx_r2.reason),core.R7$(4),core.FS9("title",core.bMT(17,22,"item.qa.withdrawn-reinstate.create.modal.button.cancel.tooltip")),core.R7$(3),core.SpI(" ",core.bMT(20,24,"item.qa.withdrawn-reinstate.create.modal.button.cancel")," "),core.R7$(2),core.FS9("title",core.bMT(22,26,"item.qa.withdrawn-reinstate.modal.button.confirm.tooltip")),core.R7$(3),core.SpI(" ",ctx_r2.canWithdraw?core.bMT(25,28,"qa-withdrown.create.modal.button.confirm"):core.bMT(26,30,"qa-reinstate.create.modal.button.confirm")," ")}}function ItemWithdrawnReinstateModalComponent_ng_template_2_Template(rf,ctx){1&rf&&(core.j41(0,"div",13),core.EFF(1),core.nI1(2,"translate"),core.k0s(),core.j41(3,"div",4)(4,"div",16),core.nrm(5,"ds-loading",17),core.k0s()()),2&rf&&(core.R7$(),core.JRh(core.bMT(2,2,"item.qa.withdrawn.modal.submitted.header")),core.R7$(4),core.Y8G("showMessage",!1))}function ItemWithdrawnReinstateModalComponent_ng_template_4_div_0_Template(rf,ctx){if(1&rf){const _r5=core.RV6();core.j41(0,"div",13),core.EFF(1),core.nI1(2,"translate"),core.j41(3,"button",14),core.bIt("click",function(){core.eBV(_r5);const ctx_r2=core.XpG(2);return core.Njj(ctx_r2.onModalClose())}),core.j41(4,"span",15),core.EFF(5,"\xd7"),core.k0s()()()}2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"item.qa.reinstate.modal.header")," "))}function ItemWithdrawnReinstateModalComponent_ng_template_4_Template(rf,ctx){if(1&rf&&core.DNE(0,ItemWithdrawnReinstateModalComponent_ng_template_4_div_0_Template,6,3,"div",18),2&rf){const ctx_r2=core.XpG();core.Y8G("ngIf",!ctx_r2.canWithdraw)}}let ItemWithdrawnReinstateModalComponent=(()=>{class ItemWithdrawnReinstateModalComponent2{constructor(activeModal,authorizationService){this.activeModal=activeModal,this.authorizationService=authorizationService,this.submitted$=new cjs.BehaviorSubject(!1),this.createQAEvent=new core.bkB}onModalClose(){this.activeModal.close()}beforeDismiss(){return!this.submitted$.getValue()}onModalSubmit(){this.submitted$.next(!0),this.createQAEvent.emit(this.reason)}setWithdraw(state){this.canWithdraw=state}static#_=this.\u0275fac=function(t){return new(t||ItemWithdrawnReinstateModalComponent2)(core.rXU(ng_bootstrap.Lw),core.rXU(authorization_data_service.AuthorizationDataService))};static#_2=this.\u0275cmp=core.VBU({type:ItemWithdrawnReinstateModalComponent2,selectors:[["ds-item-withdrawn-reinstate-modal"]],outputs:{createQAEvent:"createQAEvent"},standalone:!0,features:[core.aNF],decls:6,vars:4,consts:[["waiting",""],["reinstateHeader",""],[4,"ngIf","ngIfElse"],["class","modal-header",4,"ngIf","ngIfElse"],[1,"modal-body"],[1,"form-group"],["for","reason"],["id","reason","rows","6","name","message",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"modal-footer","space-children-mr"],["type","button",1,"btn","btn-outline-secondary","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-times","fa-fw"],["type","submit",1,"btn","btn-success","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-check","fa-fw"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"d-flex","justify-content-center"],[3,"showMessage"],["class","modal-header",4,"ngIf"]],template:function(rf,ctx){if(1&rf&&(core.DNE(0,ItemWithdrawnReinstateModalComponent_div_0_Template,27,32,"div",2),core.nI1(1,"async"),core.DNE(2,ItemWithdrawnReinstateModalComponent_ng_template_2_Template,6,4,"ng-template",null,0,core.C5r)(4,ItemWithdrawnReinstateModalComponent_ng_template_4_Template,1,1,"ng-template",null,1,core.C5r)),2&rf){const waiting_r6=core.sdS(3);core.Y8G("ngIf",!0!==core.bMT(1,2,ctx.submitted$))("ngIfElse",waiting_r6)}},dependencies:[common.bT,ngx_translate_core.h,ngx_translate_core.D9,themed_loading_component.v,fesm2022_forms.YN,fesm2022_forms.me,fesm2022_forms.BC,fesm2022_forms.vS,common.Jj]})}return ItemWithdrawnReinstateModalComponent2})();var notifications_service=__webpack_require__(10117),router=__webpack_require__(64247);const REQUEST_WITHDRAWN="REQUEST/WITHDRAWN",REQUEST_REINSTATE="REQUEST/REINSTATE";let DsoWithdrawnReinstateModalService=(()=>{class DsoWithdrawnReinstateModalService2{constructor(router2,modalService,itemService,notificationsService,authorizationService,translateService,qaEventDataService){this.router=router2,this.modalService=modalService,this.itemService=itemService,this.notificationsService=notificationsService,this.authorizationService=authorizationService,this.translateService=translateService,this.qaEventDataService=qaEventDataService}openCreateWithdrawnReinstateModal(dso,correctionType,state){const target=dso.id,activeModal=this.modalService.open(ItemWithdrawnReinstateModalComponent);activeModal.componentInstance.setWithdraw(state),activeModal.componentInstance.createQAEvent.pipe((0,operators.s)(1)).subscribe(reasone=>{this.sendQARequest(target,correctionType,reasone),activeModal.close()})}sendQARequest(target,correctionType,reason){this.qaEventDataService.postData(target,correctionType,"",reason).pipe((0,shared_operators.qD)()).subscribe(res=>{res.hasSucceeded?(this.notificationsService.success(this.translateService.get("request-withdrawn"===correctionType?"correction-type.manage-relation.action.notification.withdrawn":"correction-type.manage-relation.action.notification.reinstate")),this.authorizationService.invalidateAuthorizationsRequestCache(),this.reloadPage(!0)):this.notificationsService.error(this.translateService.get("correction-type.manage-relation.action.notification.error"))})}reloadPage(self,urlToNavigateTo){const url=self?this.router.url:urlToNavigateTo;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([`/${url}`])})}static#_=this.\u0275fac=function(t){return new(t||DsoWithdrawnReinstateModalService2)(core.KVO(router.Ix),core.KVO(ng_bootstrap.Bq),core.KVO(item_data_service.ItemDataService),core.KVO(notifications_service.I),core.KVO(authorization_data_service.AuthorizationDataService),core.KVO(ngx_translate_core.c$),core.KVO(quality_assurance_event_data_service.QualityAssuranceEventDataService))};static#_2=this.\u0275prov=core.jDH({token:DsoWithdrawnReinstateModalService2,factory:DsoWithdrawnReinstateModalService2.\u0275fac,providedIn:"root"})}return DsoWithdrawnReinstateModalService2})()},5426:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>SubscriptionModalComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(84739),_angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(68014),_angular_forms__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(28955),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(43750),lodash_findIndex__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(84630),lodash_findIndex__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_0__),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(10743),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(41543),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(91735),_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(48168),__webpack_require__(82656)),_alert_alert_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(14467),_empty_util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(77028),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10117),_object_collection_shared_badges_type_badge_themed_type_badge_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(83793),_subscriptions_data_service__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(49261),__webpack_require__(18870)),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(71781);function SubscriptionModalComponent_form_0_span_12_ds_type_badge_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.nrm(0,"ds-type-badge",17),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("object",ctx_r1.dso)}}function SubscriptionModalComponent_form_0_span_12_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"span",15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(1,SubscriptionModalComponent_form_0_span_12_ds_type_badge_1_Template,1,1,"ds-type-badge",16),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",!!ctx_r1.dso)}}function SubscriptionModalComponent_form_0_fieldset_14_div_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"div",24),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nrm(1,"input",25),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(2,"label",26),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()()),2&rf){const frequency_r3=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("id","checkbox-"+frequency_r3)("formControlName",frequency_r3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("for","checkbox-"+frequency_r3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(4,4,"subscriptions.modal.new-subscription-form.frequency."+frequency_r3))}}function SubscriptionModalComponent_form_0_fieldset_14_ds_alert_7_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"ds-alert",27),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("type","alert-danger"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(2,2,"context-menu.actions.subscription.frequency.required")," "))}function SubscriptionModalComponent_form_0_fieldset_14_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"fieldset",18)(1,"legend",19),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(4,"div",20),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nrm(5,"input",21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(6,SubscriptionModalComponent_form_0_fieldset_14_div_6_Template,5,6,"div",22),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(7,SubscriptionModalComponent_form_0_fieldset_14_ds_alert_7_Template,3,4,"ds-alert",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf){const subscriptionType_r4=ctx.$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.FS9("formGroupName",subscriptionType_r4.key),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(3,5,"subscriptions.modal.new-subscription-form.type."+subscriptionType_r4.key),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("value",null==subscriptionType_r4||null==subscriptionType_r4.value?null:subscriptionType_r4.value.controls.subscriptionId.value),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngForOf",ctx_r1.frequencyDefaultValues),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",!!ctx_r1.submitted&&(null==subscriptionType_r4||null==subscriptionType_r4.value||null==subscriptionType_r4.value.controls.frequencies.errors?null:subscriptionType_r4.value.controls.frequencies.errors.required))}}function SubscriptionModalComponent_form_0_p_16_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"p",28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(2,1,"subscriptions.modal.delete-info")))}function SubscriptionModalComponent_form_0_span_24_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nrm(1,"i",29),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(3,1,"subscriptions.modal.new-subscription-form.processing")," "))}function SubscriptionModalComponent_form_0_span_26_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(2,1,"subscriptions.modal.new-subscription-form.submit")," "))}function SubscriptionModalComponent_form_0_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"form",1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("ngSubmit",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.submit())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(1,"div",2)(2,"h4",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(5,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.activeModal.close())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(6,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(7,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(8,"div",6)(9,"p",7)(10,"strong"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(11),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(12,SubscriptionModalComponent_form_0_span_12_Template,2,1,"span",8),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(13,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(14,SubscriptionModalComponent_form_0_fieldset_14_Template,8,7,"fieldset",9),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(15,"keyvalue"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(16,SubscriptionModalComponent_form_0_p_16_Template,3,3,"p",10),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(17,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(18,"div",11)(19,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.activeModal.close())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(20),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(21,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(22,"button",13),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(23,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(24,SubscriptionModalComponent_form_0_span_24_Template,4,3,"span",14),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(25,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(26,SubscriptionModalComponent_form_0_span_26_Template,3,3,"span",14),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(27,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("formGroup",ctx_r1.subscriptionForm),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(4,10,"subscriptions.modal.title")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(8),_angular_core__WEBPACK_IMPORTED_MODULE_10__.JRh(ctx_r1.dsoNameService.getName(ctx_r1.dso)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",!!ctx_r1.dso),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(15,12,null==ctx_r1.subscriptionForm?null:ctx_r1.subscriptionForm.controls)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(17,14,ctx_r1.showDeleteInfo$)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(21,16,"subscriptions.modal.close")," "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("disabled",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(23,18,ctx_r1.processing$)||!ctx_r1.isValid),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(25,20,ctx_r1.processing$)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",!0!==_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(27,22,ctx_r1.processing$))}}let SubscriptionModalComponent=(()=>{class SubscriptionModalComponent2{constructor(formBuilder,modalService,notificationsService,subscriptionService,activeModal,authService,translate,dsoNameService){this.formBuilder=formBuilder,this.modalService=modalService,this.notificationsService=notificationsService,this.subscriptionService=subscriptionService,this.activeModal=activeModal,this.authService=authService,this.translate=translate,this.dsoNameService=dsoNameService,this.processing$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(!1),this.showDeleteInfo$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(!1),this.submitted=!1,this.subscriptionDefaultTypes=["content"],this.frequencyDefaultValues=["D","W","M"],this.isValid=!1,this.updateSubscription=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.bkB}ngOnInit(){this.authService.getAuthenticatedUserFromStore().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.Tj)(ePerson=>ePerson.uuid),(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.shareReplay)({refCount:!1})).subscribe(ePersonId=>{this.ePersonId=ePersonId,(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(this.subscription)?this.initFormByGivenSubscription():this.initFormByAllSubscriptions()}),this.subscriptionForm.valueChanges.subscribe(newValue=>{let anyFrequencySelected=!1;for(const f of this.frequencyDefaultValues)anyFrequencySelected=anyFrequencySelected||newValue.content.frequencies[f];this.isValid=anyFrequencySelected})}initFormByAllSubscriptions(){this.subscriptionForm=new _angular_forms__WEBPACK_IMPORTED_MODULE_14__.J3({});for(const t of this.subscriptionDefaultTypes){const formGroup=new _angular_forms__WEBPACK_IMPORTED_MODULE_14__.J3({});formGroup.addControl("subscriptionId",this.formBuilder.control("")),formGroup.addControl("frequencies",this.formBuilder.group({}));for(const f of this.frequencyDefaultValues)formGroup.controls.frequencies.addControl(f,this.formBuilder.control(!1));this.subscriptionForm.addControl(t,formGroup)}this.initFormDataBySubscriptions()}initFormByGivenSubscription(){const formGroup=new _angular_forms__WEBPACK_IMPORTED_MODULE_14__.J3({});formGroup.addControl("subscriptionId",this.formBuilder.control(this.subscription.id)),formGroup.addControl("frequencies",this.formBuilder.group({})),formGroup.get("frequencies").addValidators(_angular_forms__WEBPACK_IMPORTED_MODULE_14__.k0.required);for(const f of this.frequencyDefaultValues){const value=-1!==lodash_findIndex__WEBPACK_IMPORTED_MODULE_0___default()(this.subscription.subscriptionParameterList,["value",f]);formGroup.controls.frequencies.addControl(f,this.formBuilder.control(value))}this.subscriptionForm=this.formBuilder.group({[this.subscription.subscriptionType]:formGroup})}initFormDataBySubscriptions(){this.processing$.next(!0),this.subscriptionService.getSubscriptionsByPersonDSO(this.ePersonId,this.dso?.uuid).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)()).subscribe({next:res=>{if(res.pageInfo.totalElements>0){this.showDeleteInfo$.next(!0);for(const subscription of res.page){const subscriptionGroup=this.subscriptionForm.get(subscription.subscriptionType);if((0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(subscriptionGroup)){subscriptionGroup.controls.subscriptionId.setValue(subscription.id);for(const parameter of subscription.subscriptionParameterList.filter(p=>"frequency"===p.name))subscriptionGroup.controls.frequencies.controls[parameter.value]?.setValue(!0)}}}this.processing$.next(!1)},error:err=>{this.processing$.next(!1)}})}submit(){this.submitted=!0;const subscriptionTypes=Object.keys(this.subscriptionForm.controls),subscriptionsToBeCreated=[],subscriptionsToBeUpdated=[];subscriptionTypes.forEach(subscriptionType=>{const subscriptionGroup=this.subscriptionForm.controls[subscriptionType];if(subscriptionGroup.touched&&subscriptionGroup.dirty){const body=this.createBody(subscriptionGroup.controls.subscriptionId.value,subscriptionType,subscriptionGroup.controls.frequencies);(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(body.id)?subscriptionsToBeUpdated.push(body):(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(body.subscriptionParameterList)&&subscriptionsToBeCreated.push(body)}});const toBeProcessed=[];(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(subscriptionsToBeCreated)&&toBeProcessed.push((0,rxjs__WEBPACK_IMPORTED_MODULE_11__.from)(subscriptionsToBeCreated).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.ZZ)(subscriptionBody=>this.subscriptionService.createSubscription(subscriptionBody,this.ePersonId,this.dso.uuid).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)())),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.Mi)(res=>{if(res.hasSucceeded){const msg=this.translate.instant("subscriptions.modal.create.success",{type:res.payload.subscriptionType});this.notificationsService.success(null,msg)}else this.notificationsService.error(null,this.translate.instant("subscriptions.modal.create.error"))}))),(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(subscriptionsToBeUpdated)&&toBeProcessed.push((0,rxjs__WEBPACK_IMPORTED_MODULE_11__.from)(subscriptionsToBeUpdated).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.ZZ)(subscriptionBody=>this.subscriptionService.updateSubscription(subscriptionBody,this.ePersonId,this.dso.uuid).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)())),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.Mi)(res=>{if(res.hasSucceeded){const msg=this.translate.instant("subscriptions.modal.update.success",{type:res.payload.subscriptionType});this.notificationsService.success(null,msg),(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(this.subscription)&&this.updateSubscription.emit(res.payload)}else this.notificationsService.error(null,this.translate.instant("subscriptions.modal.update.error"))}))),(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.combineLatest)([...toBeProcessed]).subscribe(res=>{this.activeModal.close()})}createBody(subscriptionId,subscriptionType,frequencies){const body={id:(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(subscriptionId)?subscriptionId:null,subscriptionType,subscriptionParameterList:[]};for(const frequency of this.frequencyDefaultValues)frequencies.value[frequency]&&body.subscriptionParameterList.push({name:"frequency",value:frequency});return body}static#_=this.\u0275fac=function(t){return new(t||SubscriptionModalComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_angular_forms__WEBPACK_IMPORTED_MODULE_14__.ze),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.Bq),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__.I),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_subscriptions_data_service__WEBPACK_IMPORTED_MODULE_9__.SubscriptionsDataService),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.Lw),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__.uR),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__.f))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.VBU({type:SubscriptionModalComponent2,selectors:[["ds-subscription-modal"]],inputs:{dso:"dso",subscription:"subscription"},outputs:{updateSubscription:"updateSubscription"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.aNF],decls:1,vars:1,consts:[["data-test","subscription-form",3,"formGroup","ngSubmit",4,"ngIf"],["data-test","subscription-form",3,"ngSubmit","formGroup"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mb-3"],["class","float-right",4,"ngIf"],["class","form-group form-row",3,"formGroupName",4,"ngFor","ngForOf"],["class","text-muted",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","submit",1,"btn","btn-success",3,"disabled"],[4,"ngIf"],[1,"float-right"],[3,"object",4,"ngIf"],[3,"object"],[1,"form-group","form-row",3,"formGroupName"],[1,"col-md-4","col-form-label","float-md-left","pt-0"],[1,"col-md-8"],["type","hidden","formControlName","subscriptionId",3,"value"],["class","form-check","formGroupName","frequencies",4,"ngFor","ngForOf"],[3,"type",4,"ngIf"],["formGroupName","frequencies",1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"],[3,"type"],[1,"text-muted"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(0,SubscriptionModalComponent_form_0_Template,28,24,"form",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",ctx.subscriptionForm)},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_17__.bT,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.qT,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.me,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Zm,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.BC,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.cb,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.X1,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.j4,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.JD,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.$R,_object_collection_shared_badges_type_badge_themed_type_badge_component__WEBPACK_IMPORTED_MODULE_7__.C,_angular_common__WEBPACK_IMPORTED_MODULE_17__.pM,_alert_alert_component__WEBPACK_IMPORTED_MODULE_5__.C,_angular_common__WEBPACK_IMPORTED_MODULE_17__.Jj,_angular_common__WEBPACK_IMPORTED_MODULE_17__.lG,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.D9]})}return SubscriptionModalComponent2})()},18870:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubscriptionsDataService:()=>SubscriptionsDataService});var rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(10743),src_app_core_shared_request_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(59499),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(91735),_core_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86786),_core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(57699),_core_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40017),_core_data_base_delete_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43626),_core_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(68134),_core_data_base_search_data__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(19399),_core_data_dso_change_analyzer_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(60279),_core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(97570),_core_data_request_models__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(87457),_core_data_request_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(72744),_core_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(91365),_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(82656),_empty_util__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(77028),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(10117),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(32181),_angular_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(68014),_angular_common_http__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(38068),_ngrx_store__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(5136);let SubscriptionsDataService=(()=>{class SubscriptionsDataService2 extends _core_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_4__.W{constructor(comparator,http,notificationsService,requestService,rdbService,store,objectCache,halService,nameService){super("subscriptions",requestService,rdbService,objectCache,halService),this.comparator=comparator,this.http=http,this.notificationsService=notificationsService,this.requestService=requestService,this.rdbService=rdbService,this.store=store,this.objectCache=objectCache,this.halService=halService,this.nameService=nameService,this.findByEpersonLinkPath="findByEPerson",this.searchData=new _core_data_base_search_data__WEBPACK_IMPORTED_MODULE_5__.X(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive),this.deleteData=new _core_data_base_delete_data__WEBPACK_IMPORTED_MODULE_3__.I(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive,this.constructIdEndpoint)}getSubscriptionsByPersonDSO(eperson,uuid){const optionsWithObject=Object.assign(new _core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_12__._,{searchParams:[new _core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_13__.x("resource",uuid),new _core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_13__.x("eperson_id",eperson)]});return this.searchData.searchBy("findByEPersonAndDso",optionsWithObject,!1,!0)}createSubscription(subscription,ePerson,uuid){return this.halService.getEndpoint(this.linkPath).pipe((0,_empty_util__WEBPACK_IMPORTED_MODULE_14__.VT)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.Tj)(endpointUrl=>`${endpointUrl}?resource=${uuid}&eperson_id=${ePerson}`),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.Tj)(endpointURL=>new _core_data_request_models__WEBPACK_IMPORTED_MODULE_7__.QU(this.requestService.generateRequestId(),endpointURL,JSON.stringify(subscription))),(0,src_app_core_shared_request_operators__WEBPACK_IMPORTED_MODULE_16__.w$)(this.requestService),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.nx)(restRequest=>this.rdbService.buildFromRequestUUID(restRequest.uuid)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.qD)())}updateSubscription(subscription,ePerson,uuid){return this.halService.getEndpoint(this.linkPath).pipe((0,_empty_util__WEBPACK_IMPORTED_MODULE_14__.VT)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.Tj)(endpointUrl=>`${endpointUrl}/${subscription.id}?resource=${uuid}&eperson_id=${ePerson}`),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.Tj)(endpointURL=>new _core_data_request_models__WEBPACK_IMPORTED_MODULE_7__.v_(this.requestService.generateRequestId(),endpointURL,JSON.stringify(subscription))),(0,src_app_core_shared_request_operators__WEBPACK_IMPORTED_MODULE_16__.w$)(this.requestService),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.nx)(restRequest=>this.rdbService.buildFromRequestUUID(restRequest.uuid)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.qD)())}deleteSubscription(id){return this.halService.getEndpoint(this.linkPath).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.pb)(href=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_14__.hj)(href)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.F)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.nx)(endpointUrl=>this.deleteData.delete(id)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.qD)())}findAllSubscriptions(options){return this.findAllData.findAll(options,!0,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_17__.s)("resource"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_17__.s)("eperson"))}findByEPerson(ePersonId,options){const optionsWithObject=Object.assign(new _core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_12__._,options,{searchParams:[new _core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_13__.x("uuid",ePersonId)]});return this.getEndpoint().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.Tj)(href=>`${href}/search/${this.findByEpersonLinkPath}`),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.nx)(href=>this.findListByHref(href,optionsWithObject,!1,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_17__.s)("resource"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_17__.s)("eperson"))))}static#_=this.\u0275fac=function(t){return new(t||SubscriptionsDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_core_data_dso_change_analyzer_service__WEBPACK_IMPORTED_MODULE_6__.j),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_angular_common_http__WEBPACK_IMPORTED_MODULE_19__.Qq),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_11__.I),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_core_data_request_service__WEBPACK_IMPORTED_MODULE_8__.B),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_core_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_ngrx_store__WEBPACK_IMPORTED_MODULE_20__.il),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_core_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_core_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_9__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__.f))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_18__.jDH({token:SubscriptionsDataService2,factory:SubscriptionsDataService2.\u0275fac,providedIn:"root"})}return SubscriptionsDataService2})()},27657:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>ViewTrackerComponent});var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10743),_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(48168),__webpack_require__(77028)),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(68014),angulartics2__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(91270),_core_services_referrer_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(64888);let ViewTrackerComponent=(()=>{class ViewTrackerComponent2{constructor(angulartics2,referrerService){this.angulartics2=angulartics2,this.referrerService=referrerService}ngOnInit(){this.sub=this.referrerService.getReferrer().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.s)(1)).subscribe(referrer=>{this.angulartics2.eventTrack.next({action:"page_view",properties:{object:this.object,referrer}})})}ngOnDestroy(){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.a4)(this.sub)&&this.sub.unsubscribe()}static#_=this.\u0275fac=function(t){return new(t||ViewTrackerComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.rXU(angulartics2__WEBPACK_IMPORTED_MODULE_4__.il),_angular_core__WEBPACK_IMPORTED_MODULE_3__.rXU(_core_services_referrer_service__WEBPACK_IMPORTED_MODULE_5__.f))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.VBU({type:ViewTrackerComponent2,selectors:[["ds-view-tracker"]],inputs:{object:"object"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.aNF],decls:1,vars:0,template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(0,"\xa0\n")},styles:["[_nghost-%COMP%]{display:none}"]})}return ViewTrackerComponent2})()},76098:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/community-page/community-page.component":[13806,3806]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=76098,module.exports=webpackAsyncContext},60771:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/community-page/sections/sub-com-col-section/sub-collection-list/community-page-sub-collection-list.component":[41721,1721]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=60771,module.exports=webpackAsyncContext},24427:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/community-page/sections/sub-com-col-section/sub-community-list/community-page-sub-community-list.component":[49899,9899]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=24427,module.exports=webpackAsyncContext},7754:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/comcol/comcol-page-browse-by/comcol-page-browse-by.component":[38366,8366]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=7754,module.exports=webpackAsyncContext},41454:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/comcol/comcol-page-content/comcol-page-content.component":[89106,9106]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=41454,module.exports=webpackAsyncContext},85830:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/comcol/comcol-page-handle/comcol-page-handle.component":[5572,5572]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=85830,module.exports=webpackAsyncContext}};