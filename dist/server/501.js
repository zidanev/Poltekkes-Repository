exports.id=501,exports.ids=[501,1813,8870,1555,5858,148,7231,1870],exports.modules={96622:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>Breadcrumb});class Breadcrumb{constructor(text,url){this.text=text,this.url=url}}},34168:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>browseByGuard});var _angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(68014),_angular_router__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(64247),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(43750),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10743),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45930),_core_browse_browse_definition_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(85722),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(82656),_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(77028);const browseByGuard=(route,state,browseDefinitionService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.WQX)(_core_browse_browse_definition_data_service__WEBPACK_IMPORTED_MODULE_1__.BrowseDefinitionDataService),router=(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.WQX)(_angular_router__WEBPACK_IMPORTED_MODULE_4__.Ix),translate=(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.WQX)(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__.c$))=>{const title=route.data.title,id=route.params.id||route.queryParams.id||route.data.id;let browseDefinition$;browseDefinition$=(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.Tn)(route.data.browseDefinition)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(id)?browseDefinitionService.findById(id).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Tj)(browseDefinitionRD=>browseDefinitionRD.payload)):(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(route.data.browseDefinition);const scope=route.queryParams.scope??route.parent?.params.id,value=route.queryParams.value,metadataTranslated=translate.instant(`browse.metadata.${id}`);return browseDefinition$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.nx)(browseDefinition=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(browseDefinition)?(route.data=function createData(title,id,browseDefinition,field,value,route,scope){return Object.assign({},route.data,{title,id,browseDefinition,field,value:(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(value)?`"${value}"`:"",scope})}(title,id,browseDefinition,metadataTranslated,value,route,scope),(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!0)):(router.navigate([_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.RD]),(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!1))))}},45647:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>browseByI18nBreadcrumbResolver});var _core_breadcrumbs_i18n_breadcrumb_resolver__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21870);const browseByI18nBreadcrumbResolver=(route,state)=>(route.data=Object.assign({},route.data,{breadcrumbKey:route.data.breadcrumbKey+"."+route.params.id}),(0,_core_breadcrumbs_i18n_breadcrumb_resolver__WEBPACK_IMPORTED_MODULE_0__.S)(route,state))},4456:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>BrowseBySwitcherComponent}),__webpack_require__(34069);var _shared_abstract_component_loader_abstract_component_loader_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4027),_shared_abstract_component_loader_dynamic_component_loader_directive__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(21962),_browse_by_decorator__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(89139),__webpack_require__(42513)),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(68014);function BrowseBySwitcherComponent_ng_template_0_Template(rf,ctx){}let BrowseBySwitcherComponent=(()=>{class BrowseBySwitcherComponent2 extends _shared_abstract_component_loader_abstract_component_loader_component__WEBPACK_IMPORTED_MODULE_1__.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["context","browseByType"],this.inputNames=["context","browseByType","displayTitle","scope"]}getComponent(){return(0,_browse_by_decorator__WEBPACK_IMPORTED_MODULE_3__.cv)(this.browseByType,this.context,this.themeService.getThemeName())}static#_=this.\u0275fac=(()=>{let \u0275BrowseBySwitcherComponent_BaseFactory;return function(t){return(\u0275BrowseBySwitcherComponent_BaseFactory||(\u0275BrowseBySwitcherComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_4__.xGo(BrowseBySwitcherComponent2)))(t||BrowseBySwitcherComponent2)}})();static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.VBU({type:BrowseBySwitcherComponent2,selectors:[["ds-browse-by-switcher"]],inputs:{context:"context",browseByType:"browseByType",displayTitle:"displayTitle",scope:"scope"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_4__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_4__.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(0,BrowseBySwitcherComponent_ng_template_0_Template,0,0,"ng-template",1,0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.C5r)},dependencies:[_shared_abstract_component_loader_dynamic_component_loader_directive__WEBPACK_IMPORTED_MODULE_5__.z],encapsulation:2})}return BrowseBySwitcherComponent2})()},54565:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>CollectionFormComponent});var common=__webpack_require__(84739),core=__webpack_require__(71508),ngx_translate_core=__webpack_require__(43750),empty_util=__webpack_require__(77028),auth_service=__webpack_require__(41543),object_cache_service=__webpack_require__(40017),collection_data_service=__webpack_require__(39138),entity_type_data_service=__webpack_require__(53722),request_service=__webpack_require__(72744),collection_model=__webpack_require__(28410),item_type_resource_type=__webpack_require__(27780),operators=__webpack_require__(82656),comcol_form_component=__webpack_require__(47357),comcol_page_logo_component=__webpack_require__(54337),form_component=__webpack_require__(49148),notifications_service=__webpack_require__(10117),uploader_component=__webpack_require__(55361),var_directive=__webpack_require__(45961),environment=__webpack_require__(72035);const collectionFormEntityTypeSelectionConfig={id:"entityType",name:"dspace.entity.type",disabled:!1},collectionFormModels=[new core.rA_({id:"title",name:"dc.title",required:!0,validators:{required:null},errorMessages:{required:"Please enter a name for this title"}}),new core.Zex({id:"description",name:"dc.description",spellCheck:environment.c.form.spellCheck}),new core.Zex({id:"abstract",name:"dc.description.abstract",spellCheck:environment.c.form.spellCheck}),new core.Zex({id:"rights",name:"dc.rights",spellCheck:environment.c.form.spellCheck}),new core.Zex({id:"tableofcontents",name:"dc.description.tableofcontents",spellCheck:environment.c.form.spellCheck}),new core.Zex({id:"license",name:"dc.rights.license",spellCheck:environment.c.form.spellCheck})];var fesm2022_core=__webpack_require__(68014),ng_bootstrap=__webpack_require__(71781);function CollectionFormComponent_ng_container_6_div_1_div_5_Template(rf,ctx){if(1&rf){const _r1=fesm2022_core.RV6();fesm2022_core.j41(0,"div",12)(1,"button",13),fesm2022_core.bIt("click",function(){fesm2022_core.eBV(_r1);const ctx_r1=fesm2022_core.XpG(3);return fesm2022_core.Njj(ctx_r1.confirmLogoDeleteWithModal())}),fesm2022_core.EFF(2),fesm2022_core.nI1(3,"translate"),fesm2022_core.k0s()()}2&rf&&(fesm2022_core.R7$(2),fesm2022_core.SpI("",fesm2022_core.bMT(3,1,"community.edit.logo.delete.title")," "))}function CollectionFormComponent_ng_container_6_div_1_Template(rf,ctx){if(1&rf&&(fesm2022_core.j41(0,"div",7)(1,"div",1)(2,"div",8),fesm2022_core.nrm(3,"ds-comcol-page-logo",9),fesm2022_core.k0s(),fesm2022_core.j41(4,"div",10),fesm2022_core.DNE(5,CollectionFormComponent_ng_container_6_div_1_div_5_Template,4,3,"div",11),fesm2022_core.k0s()()()),2&rf){const logo_r3=fesm2022_core.XpG().ngVar,ctx_r1=fesm2022_core.XpG();fesm2022_core.R7$(3),fesm2022_core.Y8G("alternateText",ctx_r1.type.value+".logo.alt")("logo",logo_r3),fesm2022_core.R7$(2),fesm2022_core.Y8G("ngIf",logo_r3)}}function CollectionFormComponent_ng_container_6_div_2_ds_uploader_1_Template(rf,ctx){if(1&rf){const _r4=fesm2022_core.RV6();fesm2022_core.j41(0,"ds-uploader",16),fesm2022_core.bIt("onCompleteItem",function(){fesm2022_core.eBV(_r4);const ctx_r1=fesm2022_core.XpG(3);return fesm2022_core.Njj(ctx_r1.onCompleteItem())})("onUploadError",function(){fesm2022_core.eBV(_r4);const ctx_r1=fesm2022_core.XpG(3);return fesm2022_core.Njj(ctx_r1.onUploadError())}),fesm2022_core.k0s()}if(2&rf){const ctx_r1=fesm2022_core.XpG(3);fesm2022_core.Y8G("ariaLabel",ctx_r1.type.value+".browse.logo")("dropMsg",ctx_r1.type.value+".edit.logo.upload")("dropOverDocumentMsg",ctx_r1.type.value+".edit.logo.upload")("enableDragOverDocument",!0)("uploadFilesOptions",ctx_r1.uploadFilesOptions)}}function CollectionFormComponent_ng_container_6_div_2_Template(rf,ctx){if(1&rf&&(fesm2022_core.j41(0,"div",14),fesm2022_core.DNE(1,CollectionFormComponent_ng_container_6_div_2_ds_uploader_1_Template,1,5,"ds-uploader",15),fesm2022_core.nI1(2,"async"),fesm2022_core.k0s()),2&rf){const ctx_r1=fesm2022_core.XpG(2);fesm2022_core.R7$(),fesm2022_core.Y8G("ngIf",fesm2022_core.bMT(2,1,ctx_r1.initializedUploaderOptions))}}function CollectionFormComponent_ng_container_6_Template(rf,ctx){if(1&rf&&(fesm2022_core.qex(0),fesm2022_core.DNE(1,CollectionFormComponent_ng_container_6_div_1_Template,6,3,"div",5)(2,CollectionFormComponent_ng_container_6_div_2_Template,3,3,"div",6),fesm2022_core.bVm()),2&rf){const logo_r3=ctx.ngVar;fesm2022_core.R7$(),fesm2022_core.Y8G("ngIf",logo_r3),fesm2022_core.R7$(),fesm2022_core.Y8G("ngIf",!logo_r3)}}function CollectionFormComponent_ds_form_8_Template(rf,ctx){if(1&rf){const _r5=fesm2022_core.RV6();fesm2022_core.j41(0,"ds-form",17),fesm2022_core.bIt("submitForm",function(){fesm2022_core.eBV(_r5);const ctx_r1=fesm2022_core.XpG();return fesm2022_core.Njj(ctx_r1.onSubmit())}),fesm2022_core.j41(1,"button",18),fesm2022_core.bIt("click",function(){fesm2022_core.eBV(_r5);const ctx_r1=fesm2022_core.XpG();return fesm2022_core.Njj(ctx_r1.back.emit())}),fesm2022_core.nrm(2,"i",19),fesm2022_core.EFF(3),fesm2022_core.nI1(4,"translate"),fesm2022_core.k0s()()}if(2&rf){const ctx_r1=fesm2022_core.XpG();fesm2022_core.Y8G("formId","comcol-form-id")("formModel",ctx_r1.formModel)("displayCancel",!1),fesm2022_core.R7$(3),fesm2022_core.SpI(" ",fesm2022_core.bMT(4,4,ctx_r1.type.value+".edit.return")," ")}}let CollectionFormComponent=(()=>{class CollectionFormComponent2 extends comcol_form_component.V{constructor(formService,translate,notificationsService,authService,dsoService,requestService,objectCache,entityTypeService,chd,modalService){super(formService,translate,notificationsService,authService,requestService,objectCache,modalService),this.formService=formService,this.translate=translate,this.notificationsService=notificationsService,this.authService=authService,this.dsoService=dsoService,this.requestService=requestService,this.objectCache=objectCache,this.entityTypeService=entityTypeService,this.chd=chd,this.modalService=modalService,this.dso=new collection_model.p,this.type=collection_model.p.type,this.entityTypeSelection=new core.z4z(collectionFormEntityTypeSelectionConfig)}ngOnInit(){(0,empty_util.Tn)(this.formModel)&&(0,empty_util.Pe)(this.dso)&&this.initializeForm()}ngOnChanges(changes){const dsoChange=changes.dso;this.dso&&dsoChange&&!dsoChange.isFirstChange()&&this.initializeForm()}initializeForm(){let currentRelationshipValue;this.dso&&this.dso.metadata&&(currentRelationshipValue=this.dso.metadata["dspace.entity.type"]),this.entityTypeService.findAll({elementsPerPage:100,currentPage:1}).pipe((0,operators.Ar)()).subscribe(entityTypes=>{(entityTypes=entityTypes.filter(type=>type.label!==item_type_resource_type.k)).forEach((type,index)=>{this.entityTypeSelection.add({disabled:!1,label:type.label,value:type.label}),currentRelationshipValue&&currentRelationshipValue.length>0&&currentRelationshipValue[0].value===type.label&&(this.entityTypeSelection.select(index),this.entityTypeSelection.disabled=!0)}),this.formModel=0===entityTypes.length?collectionFormModels:[...collectionFormModels,this.entityTypeSelection],super.ngOnInit(),this.chd.detectChanges()})}static#_=this.\u0275fac=function(t){return new(t||CollectionFormComponent2)(fesm2022_core.rXU(core.J9r),fesm2022_core.rXU(ngx_translate_core.c$),fesm2022_core.rXU(notifications_service.I),fesm2022_core.rXU(auth_service.uR),fesm2022_core.rXU(collection_data_service.CollectionDataService),fesm2022_core.rXU(request_service.B),fesm2022_core.rXU(object_cache_service.$),fesm2022_core.rXU(entity_type_data_service.f),fesm2022_core.rXU(fesm2022_core.gRc),fesm2022_core.rXU(ng_bootstrap.Bq))};static#_2=this.\u0275cmp=fesm2022_core.VBU({type:CollectionFormComponent2,selectors:[["ds-collection-form"]],inputs:{dso:"dso"},standalone:!0,features:[fesm2022_core.Vt3,fesm2022_core.OA$,fesm2022_core.aNF],decls:9,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","d-inline-block","mb-1"],[4,"ngVar"],[3,"formId","formModel","displayCancel","submitForm",4,"ngIf"],["class","col-12 d-inline-block alert","id","logo-section",4,"ngIf"],["class","col-12 d-inline-block",4,"ngIf"],["id","logo-section",1,"col-12","d-inline-block","alert"],[1,"col-8","d-inline-block"],[3,"alternateText","logo"],[1,"col-4","d-inline-block"],["class","float-right",4,"ngIf"],[1,"float-right"],["type","button",1,"btn","btn-danger",3,"click"],[1,"col-12","d-inline-block"],[3,"ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError",4,"ngIf"],[3,"onCompleteItem","onUploadError","ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"submitForm","formId","formModel","displayCancel"],["before","","type","button",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"]],template:function(rf,ctx){if(1&rf&&(fesm2022_core.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),fesm2022_core.EFF(4),fesm2022_core.nI1(5,"translate"),fesm2022_core.k0s()(),fesm2022_core.DNE(6,CollectionFormComponent_ng_container_6_Template,3,2,"ng-container",3),fesm2022_core.nI1(7,"async"),fesm2022_core.k0s()(),fesm2022_core.DNE(8,CollectionFormComponent_ds_form_8_Template,5,6,"ds-form",4)),2&rf){let tmp_1_0;fesm2022_core.R7$(4),fesm2022_core.JRh(fesm2022_core.bMT(5,3,ctx.type.value+".edit.logo.label")),fesm2022_core.R7$(2),fesm2022_core.Y8G("ngVar",null==(tmp_1_0=fesm2022_core.bMT(7,5,null==ctx.dso?null:ctx.dso.logo))?null:tmp_1_0.payload),fesm2022_core.R7$(2),fesm2022_core.Y8G("ngIf",ctx.formModel)}},dependencies:[form_component.s,ngx_translate_core.h,ngx_translate_core.D9,uploader_component.y,common.Jj,comcol_page_logo_component.X,common.bT,var_directive.r]})}return CollectionFormComponent2})()},20501:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ROUTES:()=>ROUTES});var browse_by_guard=__webpack_require__(34168),browse_by_i18n_breadcrumb_resolver=__webpack_require__(45647),authenticated_guard=__webpack_require__(98234),core=__webpack_require__(68014),collection_page_resolver=__webpack_require__(47454),collection_data_service=__webpack_require__(39138),dso_breadcrumb_resolver=__webpack_require__(20550),dso_breadcrumbs_service=__webpack_require__(15446),community_breadcrumb_resolver=__webpack_require__(89533),i18n_breadcrumb_resolver=__webpack_require__(21870),comcol_browse_by_component=__webpack_require__(39328),comcol_search_section_component=__webpack_require__(78214),dso_edit_menu_resolver=__webpack_require__(34615),menu_item_type_model=__webpack_require__(80122),cjs=__webpack_require__(74785),dso_page_single_feature_guard=__webpack_require__(96293),feature_id=__webpack_require__(29321);const collectionPageAdministratorGuard=(0,dso_page_single_feature_guard.L)(()=>collection_page_resolver.Q,()=>(0,cjs.of)(feature_id._.AdministratorOf));var collection_page_routing_paths=__webpack_require__(72330),common=__webpack_require__(84739),ngx_translate_core=__webpack_require__(43750),dso_name_service=__webpack_require__(91735),community_data_service=__webpack_require__(83591),request_service=__webpack_require__(72744),route_service=__webpack_require__(86759),collection_model=__webpack_require__(28410),create_comcol_page_component=__webpack_require__(49843),themed_loading_component=__webpack_require__(32943),notifications_service=__webpack_require__(10117),collection_form_component=__webpack_require__(54565),fesm2022_router=__webpack_require__(64247);const _c0=a0=>({parent:a0});function CreateCollectionPageComponent_div_0_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"div",1)(1,"div",3)(2,"div",4)(3,"h2",5),core.EFF(4),core.nI1(5,"async"),core.nI1(6,"translate"),core.k0s()()(),core.j41(7,"ds-collection-form",6),core.bIt("submitForm",function($event){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.onSubmit($event))})("back",function(){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.navigateToHome())}),core.k0s()()}if(2&rf){let tmp_1_0;const ctx_r1=core.XpG();core.R7$(4),core.JRh(core.i5U(6,4,"collection.create.sub-head",core.eq3(7,_c0,ctx_r1.dsoNameService.getName(null==(tmp_1_0=core.bMT(5,2,ctx_r1.parentRD$))?null:tmp_1_0.payload)))),core.R7$(3),core.Y8G("isCreation",!0)}}function CreateCollectionPageComponent_ds_loading_3_Template(rf,ctx){1&rf&&core.nrm(0,"ds-loading")}let CreateCollectionPageComponent=(()=>{class CreateCollectionPageComponent2 extends create_comcol_page_component.Q{constructor(dsoNameService,communityDataService,collectionDataService,routeService,router,notificationsService,translate,requestService){super(collectionDataService,dsoNameService,communityDataService,routeService,router,notificationsService,translate,requestService),this.dsoNameService=dsoNameService,this.communityDataService=communityDataService,this.collectionDataService=collectionDataService,this.routeService=routeService,this.router=router,this.notificationsService=notificationsService,this.translate=translate,this.requestService=requestService,this.frontendURL="/collections/",this.type=collection_model.p.type}static#_=this.\u0275fac=function(t){return new(t||CreateCollectionPageComponent2)(core.rXU(dso_name_service.f),core.rXU(community_data_service.CommunityDataService),core.rXU(collection_data_service.CollectionDataService),core.rXU(route_service.v$),core.rXU(fesm2022_router.Ix),core.rXU(notifications_service.I),core.rXU(ngx_translate_core.c$),core.rXU(request_service.B))};static#_2=this.\u0275cmp=core.VBU({type:CreateCollectionPageComponent2,selectors:[["ds-create-collection"]],standalone:!0,features:[core.Vt3,core.aNF],decls:5,vars:6,consts:[["class","container",4,"ngIf"],[1,"container"],[4,"ngIf"],[1,"row"],[1,"col-12","pb-4"],["id","sub-header",1,"border-bottom","pb-2"],[3,"submitForm","back","isCreation"]],template:function(rf,ctx){1&rf&&(core.DNE(0,CreateCollectionPageComponent_div_0_Template,8,9,"div",0),core.nI1(1,"async"),core.j41(2,"div",1),core.DNE(3,CreateCollectionPageComponent_ds_loading_3_Template,1,0,"ds-loading",2),core.nI1(4,"async"),core.k0s()),2&rf&&(core.Y8G("ngIf",!1===core.bMT(1,2,ctx.isLoading$)),core.R7$(3),core.Y8G("ngIf",core.bMT(4,4,ctx.isLoading$)))},dependencies:[collection_form_component.q,ngx_translate_core.h,ngx_translate_core.D9,common.Jj,themed_loading_component.v,common.bT]})}return CreateCollectionPageComponent2})();var operators=__webpack_require__(10743),shared_operators=__webpack_require__(82656),empty_util=__webpack_require__(77028),delete_comcol_page_component=__webpack_require__(84585),var_directive=__webpack_require__(45961);const delete_collection_page_component_c0=a0=>({dso:a0});function DeleteCollectionPageComponent_ng_container_2_span_17_Template(rf,ctx){1&rf&&(core.j41(0,"span"),core.nrm(1,"i",12),core.EFF(2),core.nI1(3,"translate"),core.k0s()),2&rf&&(core.R7$(2),core.SpI(" ",core.bMT(3,1,"collection.delete.processing"),""))}function DeleteCollectionPageComponent_ng_container_2_span_19_Template(rf,ctx){1&rf&&(core.j41(0,"span"),core.nrm(1,"i",13),core.EFF(2),core.nI1(3,"translate"),core.k0s()),2&rf&&(core.R7$(2),core.SpI(" ",core.bMT(3,1,"collection.delete.confirm"),""))}function DeleteCollectionPageComponent_ng_container_2_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.qex(0),core.j41(1,"div",3)(2,"h1",4),core.EFF(3),core.nI1(4,"translate"),core.k0s(),core.j41(5,"p",5),core.EFF(6),core.nI1(7,"translate"),core.k0s(),core.j41(8,"div",6)(9,"div",7)(10,"button",8),core.nI1(11,"async"),core.bIt("click",function(){const dso_r2=core.eBV(_r1).ngVar,ctx_r2=core.XpG();return core.Njj(ctx_r2.onCancel(dso_r2))}),core.nrm(12,"i",9),core.EFF(13),core.nI1(14,"translate"),core.k0s(),core.j41(15,"button",10),core.nI1(16,"async"),core.bIt("click",function(){const dso_r2=core.eBV(_r1).ngVar,ctx_r2=core.XpG();return core.Njj(ctx_r2.onConfirm(dso_r2))}),core.DNE(17,DeleteCollectionPageComponent_ng_container_2_span_17_Template,4,3,"span",11),core.nI1(18,"async"),core.DNE(19,DeleteCollectionPageComponent_ng_container_2_span_19_Template,4,3,"span",11),core.nI1(20,"async"),core.k0s()()()(),core.bVm()}if(2&rf){const dso_r2=ctx.ngVar,ctx_r2=core.XpG();core.R7$(3),core.JRh(core.bMT(4,7,"collection.delete.head")),core.R7$(3),core.JRh(core.i5U(7,9,"collection.delete.text",core.eq3(22,delete_collection_page_component_c0,ctx_r2.dsoNameService.getName(dso_r2)))),core.R7$(4),core.Y8G("disabled",core.bMT(11,12,ctx_r2.processing$)),core.R7$(3),core.SpI(" ",core.bMT(14,14,"collection.delete.cancel")," "),core.R7$(2),core.Y8G("disabled",core.bMT(16,16,ctx_r2.processing$)),core.R7$(2),core.Y8G("ngIf",core.bMT(18,18,ctx_r2.processing$)),core.R7$(2),core.Y8G("ngIf",!0!==core.bMT(20,20,ctx_r2.processing$))}}let DeleteCollectionPageComponent=(()=>{class DeleteCollectionPageComponent2 extends delete_comcol_page_component.D{constructor(dsoDataService,dsoNameService,router,route,notifications,translate){super(dsoDataService,dsoNameService,router,route,notifications,translate),this.dsoDataService=dsoDataService,this.dsoNameService=dsoNameService,this.router=router,this.route=route,this.notifications=notifications,this.translate=translate,this.frontendURL="/collections/"}static#_=this.\u0275fac=function(t){return new(t||DeleteCollectionPageComponent2)(core.rXU(collection_data_service.CollectionDataService),core.rXU(dso_name_service.f),core.rXU(fesm2022_router.Ix),core.rXU(fesm2022_router.nX),core.rXU(notifications_service.I),core.rXU(ngx_translate_core.c$))};static#_2=this.\u0275cmp=core.VBU({type:DeleteCollectionPageComponent2,selectors:[["ds-delete-collection"]],standalone:!0,features:[core.Vt3,core.aNF],decls:4,vars:3,consts:[[1,"container"],[1,"row"],[4,"ngVar"],[1,"col-12","pb-4"],["id","header",1,"border-bottom","pb-2"],[1,"pb-2"],[1,"form-group","row"],[1,"col","text-right","space-children-mr"],[1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fas","fa-times"],[1,"btn","btn-danger",3,"click","disabled"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-trash"]],template:function(rf,ctx){if(1&rf&&(core.j41(0,"div",0)(1,"div",1),core.DNE(2,DeleteCollectionPageComponent_ng_container_2_Template,21,24,"ng-container",2),core.nI1(3,"async"),core.k0s()()),2&rf){let tmp_0_0;core.R7$(2),core.Y8G("ngVar",null==(tmp_0_0=core.bMT(3,1,ctx.dsoRD$))?null:tmp_0_0.payload)}},dependencies:[ngx_translate_core.h,ngx_translate_core.D9,common.Jj,common.bT,var_directive.r]})}return DeleteCollectionPageComponent2})();var item_template_data_service=__webpack_require__(71840),follow_link_config_model=__webpack_require__(32181),themed_component=__webpack_require__(31260);__webpack_require__(80394);const themed_edit_item_template_page_component_c0=["*"];function ThemedEditItemTemplatePageComponent_ng_template_0_Template(rf,ctx){}let ThemedEditItemTemplatePageComponent=(()=>{class ThemedEditItemTemplatePageComponent2 extends themed_component.J{getComponentName(){return"EditItemTemplatePageComponent"}importThemedComponent(themeName){return __webpack_require__(46563)(`./${themeName}/app/collection-page/edit-item-template-page/edit-item-template-page.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,80394))}static#_=this.\u0275fac=(()=>{let \u0275ThemedEditItemTemplatePageComponent_BaseFactory;return function(t){return(\u0275ThemedEditItemTemplatePageComponent_BaseFactory||(\u0275ThemedEditItemTemplatePageComponent_BaseFactory=core.xGo(ThemedEditItemTemplatePageComponent2)))(t||ThemedEditItemTemplatePageComponent2)}})();static#_2=this.\u0275cmp=core.VBU({type:ThemedEditItemTemplatePageComponent2,selectors:[["ds-edit-item-template-page"]],standalone:!0,features:[core.Vt3,core.aNF],ngContentSelectors:themed_edit_item_template_page_component_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(core.NAR(),core.DNE(0,ThemedEditItemTemplatePageComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.C5r),core.j41(2,"div",null,1),core.SdG(4),core.k0s())},encapsulation:2})}return ThemedEditItemTemplatePageComponent2})();__webpack_require__(80109);const themed_collection_page_component_c0=["*"];function ThemedCollectionPageComponent_ng_template_0_Template(rf,ctx){}const ROUTES=[{path:collection_page_routing_paths.gj,canActivate:[authenticated_guard.t,(route,state,communityService=(0,core.WQX)(community_data_service.CommunityDataService),router=(0,core.WQX)(fesm2022_router.Ix))=>{const parentID=route.queryParams.parent;return(0,empty_util.Tn)(parentID)?(router.navigate(["/404"]),(0,cjs.of)(!1)):communityService.findById(parentID).pipe((0,shared_operators.qD)(),(0,operators.Tj)(communityRD=>(0,empty_util.a4)(communityRD)&&communityRD.hasSucceeded&&(0,empty_util.a4)(communityRD.payload)),(0,operators.Mi)(isValid=>{isValid||router.navigate(["/404"])}))}],children:[{path:"",component:CreateCollectionPageComponent,resolve:{breadcrumb:i18n_breadcrumb_resolver.S},data:{breadcrumbKey:"collection.create"}}],data:{breadcrumbQueryParam:"parent"},resolve:{breadcrumb:community_breadcrumb_resolver.V},runGuardsAndResolvers:"always"},{path:":id",resolve:{dso:collection_page_resolver.Q,breadcrumb:(route,state,breadcrumbService=(0,core.WQX)(dso_breadcrumbs_service.U),dataService=(0,core.WQX)(collection_data_service.CollectionDataService))=>(0,dso_breadcrumb_resolver.G)(route,state,breadcrumbService,dataService,...collection_page_resolver.R),menu:dso_edit_menu_resolver.c},runGuardsAndResolvers:"always",children:[{path:collection_page_routing_paths._,loadChildren:()=>__webpack_require__.e(6742).then(__webpack_require__.bind(__webpack_require__,26742)).then(m=>m.ROUTES),canActivate:[collectionPageAdministratorGuard]},{path:"delete",pathMatch:"full",component:DeleteCollectionPageComponent,canActivate:[authenticated_guard.t]},{path:collection_page_routing_paths.WJ,component:ThemedEditItemTemplatePageComponent,canActivate:[authenticated_guard.t],resolve:{item:(route,state,itemTemplateService=(0,core.WQX)(item_template_data_service.d))=>itemTemplateService.findByCollectionID(route.params.id,!0,!1,(0,follow_link_config_model.s)("templateItemOf")).pipe((0,shared_operators.qD)()),breadcrumb:i18n_breadcrumb_resolver.S},data:{title:"collection.edit.template.title",breadcrumbKey:"collection.edit.template"}},{path:"",component:(()=>{class ThemedCollectionPageComponent2 extends themed_component.J{getComponentName(){return"CollectionPageComponent"}importThemedComponent(themeName){return __webpack_require__(19862)(`./${themeName}/app/collection-page/collection-page.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,80109))}static#_=this.\u0275fac=(()=>{let \u0275ThemedCollectionPageComponent_BaseFactory;return function(t){return(\u0275ThemedCollectionPageComponent_BaseFactory||(\u0275ThemedCollectionPageComponent_BaseFactory=core.xGo(ThemedCollectionPageComponent2)))(t||ThemedCollectionPageComponent2)}})();static#_2=this.\u0275cmp=core.VBU({type:ThemedCollectionPageComponent2,selectors:[["ds-collection-page"]],standalone:!0,features:[core.Vt3,core.aNF],ngContentSelectors:themed_collection_page_component_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(core.NAR(),core.DNE(0,ThemedCollectionPageComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.C5r),core.j41(2,"div",null,1),core.SdG(4),core.k0s())},encapsulation:2})}return ThemedCollectionPageComponent2})(),children:[{path:"",pathMatch:"full",component:comcol_search_section_component.E},{path:"browse/:id",pathMatch:"full",component:comcol_browse_by_component.O,canActivate:[browse_by_guard.h],resolve:{breadcrumb:browse_by_i18n_breadcrumb_resolver.p},data:{breadcrumbKey:"browse.metadata"}}]}],data:{menu:{public:[{id:"statistics_collection_:id",active:!0,visible:!0,index:2,model:{type:menu_item_type_model.x.LINK,text:"menu.section.statistics",link:"statistics/collections/:id/"}}]}}}]},80109:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CollectionPageComponent:()=>CollectionPageComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(84739),_angular_router__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(64247),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(43750),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(10743),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(41543),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(91735),_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(30289),_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29321),_core_shared_authorized_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(78911),_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(82656),_shared_animations_fade__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(28107),_shared_comcol_comcol_page_browse_by_themed_comcol_page_browse_by_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7105),_shared_comcol_comcol_page_content_themed_comcol_page_content_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(48011),_shared_comcol_comcol_page_handle_themed_comcol_page_handle_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(46763),_shared_comcol_comcol_page_header_comcol_page_header_component__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(61781),_shared_comcol_comcol_page_logo_comcol_page_logo_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(54337),_shared_dso_page_dso_edit_menu_dso_edit_menu_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(92254),_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(77028),_shared_error_error_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(36159),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(32943),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(45961),_statistics_angulartics_dspace_view_tracker_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(27657),_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(72330),_angular_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(68014);function CollectionPageComponent_div_1_div_1_div_1_ds_comcol_page_logo_5_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(0,"ds-comcol-page-logo",16),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nI1(2,"translate")),2&rf){let tmp_6_0;const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.XpG(4);_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("logo",null==(tmp_6_0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.bMT(1,2,ctx_r0.logoRD$))?null:tmp_6_0.payload)("alternateText",_angular_core__WEBPACK_IMPORTED_MODULE_15__.bMT(2,4,"collection.logo"))}}function CollectionPageComponent_div_1_div_1_div_1_footer_13_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.j41(0,"footer",17),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(1,"ds-comcol-page-content",11),_angular_core__WEBPACK_IMPORTED_MODULE_15__.k0s()),2&rf){const collection_r2=_angular_core__WEBPACK_IMPORTED_MODULE_15__.XpG().ngIf;_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("content",collection_r2.copyrightText)("hasInnerHtml",!0)}}function CollectionPageComponent_div_1_div_1_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.j41(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(1,"ds-view-tracker",5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.j41(2,"div",6)(3,"header",7),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(4,"ds-comcol-page-header",8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.DNE(5,CollectionPageComponent_div_1_div_1_div_1_ds_comcol_page_logo_5_Template,3,6,"ds-comcol-page-logo",9),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(6,"ds-comcol-page-handle",10)(7,"ds-comcol-page-content",11)(8,"ds-comcol-page-content",12),_angular_core__WEBPACK_IMPORTED_MODULE_15__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(9,"ds-dso-edit-menu"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.j41(10,"section",13),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(11,"ds-comcol-page-browse-by",14)(12,"router-outlet"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.DNE(13,CollectionPageComponent_div_1_div_1_div_1_footer_13_Template,2,2,"footer",15),_angular_core__WEBPACK_IMPORTED_MODULE_15__.k0s()),2&rf){const collection_r2=ctx.ngIf,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("object",collection_r2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("name",ctx_r0.dsoNameService.getName(collection_r2)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("ngIf",ctx_r0.logoRD$),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("content",collection_r2.handle)("title","collection.page.handle"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("content",collection_r2.introductoryText)("hasInnerHtml",!0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("content",collection_r2.sidebarText)("hasInnerHtml",!0)("title","collection.page.news"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("id",collection_r2.id)("contentType",collection_r2.type),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("ngIf",collection_r2.copyrightText)}}function CollectionPageComponent_div_1_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.j41(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.DNE(1,CollectionPageComponent_div_1_div_1_div_1_Template,14,13,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.k0s()),2&rf){const collectionRD_r3=_angular_core__WEBPACK_IMPORTED_MODULE_15__.XpG().ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("@fadeInOut",void 0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("ngIf",null==collectionRD_r3?null:collectionRD_r3.payload)}}function CollectionPageComponent_div_1_ds_error_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(0,"ds-error",18),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_15__.bMT(1,1,"error.collection"))}function CollectionPageComponent_div_1_ds_loading_3_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.nrm(0,"ds-loading",18),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.FS9("message",_angular_core__WEBPACK_IMPORTED_MODULE_15__.bMT(1,1,"loading.collection"))}function CollectionPageComponent_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.j41(0,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.DNE(1,CollectionPageComponent_div_1_div_1_Template,2,2,"div",3)(2,CollectionPageComponent_div_1_ds_error_2_Template,2,3,"ds-error",4)(3,CollectionPageComponent_div_1_ds_loading_3_Template,2,3,"ds-loading",4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.k0s()),2&rf){const collectionRD_r3=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("ngIf",null==collectionRD_r3?null:collectionRD_r3.hasSucceeded),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("ngIf",null==collectionRD_r3?null:collectionRD_r3.hasFailed),_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("ngIf",null==collectionRD_r3?null:collectionRD_r3.isLoading)}}let CollectionPageComponent=(()=>{class CollectionPageComponent2{constructor(route,router,authService,authorizationDataService,dsoNameService){this.route=route,this.router=router,this.authService=authService,this.authorizationDataService=authorizationDataService,this.dsoNameService=dsoNameService}ngOnInit(){this.collectionRD$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.Tj)(data=>data.dso),(0,_core_shared_authorized_operators__WEBPACK_IMPORTED_MODULE_4__.QD)(this.router,this.authService),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.s)(1)),this.logoRD$=this.collectionRD$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.Tj)(rd=>rd.payload),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.pb)(collection=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.a4)(collection)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.ZZ)(collection=>collection.logo)),this.isCollectionAdmin$=this.authorizationDataService.isAuthorized(_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_3__._.IsCollectionAdmin),this.collectionPageRoute$=this.collectionRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__.Hz)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.Tj)(collection=>(0,_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_18__.JW)(collection.id)))}isNotEmpty(object){return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_17__.hj)(object)}static#_=this.\u0275fac=function(t){return new(t||CollectionPageComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_15__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_19__.nX),_angular_core__WEBPACK_IMPORTED_MODULE_15__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_19__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_15__.rXU(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__.uR),_angular_core__WEBPACK_IMPORTED_MODULE_15__.rXU(_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_2__.AuthorizationDataService),_angular_core__WEBPACK_IMPORTED_MODULE_15__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__.f))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_15__.VBU({type:CollectionPageComponent2,selectors:[["ds-base-collection-page"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_15__.aNF],decls:3,vars:3,consts:[[1,"container"],["class","collection-page",4,"ngVar"],[1,"collection-page"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"object"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],[1,"comcol-header","mr-auto"],[3,"name"],[3,"logo","alternateText",4,"ngIf"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[1,"comcol-page-browse-section"],[3,"id","contentType"],["class","border-top my-5 pt-4",4,"ngIf"],[3,"logo","alternateText"],[1,"border-top","my-5","pt-4"],[3,"message"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.j41(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.DNE(1,CollectionPageComponent_div_1_Template,4,3,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y8G("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_15__.bMT(2,1,ctx.collectionRD$)))},dependencies:[_shared_comcol_comcol_page_content_themed_comcol_page_content_component__WEBPACK_IMPORTED_MODULE_8__.s,_shared_error_error_component__WEBPACK_IMPORTED_MODULE_12__.A,_angular_common__WEBPACK_IMPORTED_MODULE_20__.bT,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_13__.v,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__.D9,_statistics_angulartics_dspace_view_tracker_component__WEBPACK_IMPORTED_MODULE_14__.H,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_22__.r,_angular_common__WEBPACK_IMPORTED_MODULE_20__.Jj,_shared_comcol_comcol_page_header_comcol_page_header_component__WEBPACK_IMPORTED_MODULE_23__.H,_shared_comcol_comcol_page_logo_comcol_page_logo_component__WEBPACK_IMPORTED_MODULE_10__.X,_shared_comcol_comcol_page_handle_themed_comcol_page_handle_component__WEBPACK_IMPORTED_MODULE_9__.T,_shared_dso_page_dso_edit_menu_dso_edit_menu_component__WEBPACK_IMPORTED_MODULE_11__.T,_shared_comcol_comcol_page_browse_by_themed_comcol_page_browse_by_component__WEBPACK_IMPORTED_MODULE_7__.g,_angular_router__WEBPACK_IMPORTED_MODULE_19__.n3],data:{animation:[_shared_animations_fade__WEBPACK_IMPORTED_MODULE_6__.qG,_shared_animations_fade__WEBPACK_IMPORTED_MODULE_6__.Ws]},changeDetection:0})}return CollectionPageComponent2})()},47454:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>collectionPageResolver,R:()=>COLLECTION_PAGE_LINKS_TO_FOLLOW});var _angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(68014),_ngrx_store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5136),_core_data_collection_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39138),_core_resolving_resolver_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(71012),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(82656),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(32181);const COLLECTION_PAGE_LINKS_TO_FOLLOW=[(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("parentCommunity",{},(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("parentCommunity")),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("logo")],collectionPageResolver=(route,state,collectionService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_core_data_collection_data_service__WEBPACK_IMPORTED_MODULE_0__.CollectionDataService),store=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.il))=>{const collectionRD$=collectionService.findById(route.params.id,!0,!1,...COLLECTION_PAGE_LINKS_TO_FOLLOW).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)());return collectionRD$.subscribe(collectionRD=>{store.dispatch(new _core_resolving_resolver_actions__WEBPACK_IMPORTED_MODULE_1__.j(state.url,collectionRD.payload))}),collectionRD$}},80394:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{EditItemTemplatePageComponent:()=>EditItemTemplatePageComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(84739),_angular_router__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(64247),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(43750),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(10743),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(91735),_core_data_item_template_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(71840),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(82656),_dso_shared_dso_edit_metadata_themed_dso_edit_metadata_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(54990),_shared_alert_alert_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14467),_shared_alert_alert_type__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(82555),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(32943),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(45961),_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(72330),_angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(68014);const _c0=a0=>({collection:a0});function EditItemTemplatePageComponent_div_0_div_2_ng_container_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.qex(0),_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(1,"h1",8),_angular_core__WEBPACK_IMPORTED_MODULE_7__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nrm(4,"ds-dso-edit-metadata",9),_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(5,"button",10),_angular_core__WEBPACK_IMPORTED_MODULE_7__.EFF(6),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(7,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.bVm()),2&rf){const itemRD_r1=_angular_core__WEBPACK_IMPORTED_MODULE_7__.XpG().ngVar,collection_r2=_angular_core__WEBPACK_IMPORTED_MODULE_7__.XpG().ngVar,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_7__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_7__.i5U(3,5,"collection.edit.template.head",_angular_core__WEBPACK_IMPORTED_MODULE_7__.eq3(10,_c0,ctx_r2.dsoNameService.getName(collection_r2)))),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("updateDataService",ctx_r2.itemTemplateService)("dso",null==itemRD_r1?null:itemRD_r1.payload),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("routerLink",ctx_r2.getCollectionEditUrl(collection_r2)),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(7,8,"collection.edit.template.cancel"))}}function EditItemTemplatePageComponent_div_0_div_2_ds_loading_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.nrm(0,"ds-loading",11),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("message",_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(1,1,"collection.edit.template.loading"))}function EditItemTemplatePageComponent_div_0_div_2_ds_alert_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.nrm(0,"ds-alert",12),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(1,"translate")),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_7__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("type",ctx_r2.AlertTypeEnum.Error)("content",_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(1,2,"collection.edit.template.error"))}}function EditItemTemplatePageComponent_div_0_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(0,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_7__.DNE(1,EditItemTemplatePageComponent_div_0_div_2_ng_container_1_Template,8,12,"ng-container",5)(2,EditItemTemplatePageComponent_div_0_div_2_ds_loading_2_Template,2,3,"ds-loading",6)(3,EditItemTemplatePageComponent_div_0_div_2_ds_alert_3_Template,2,4,"ds-alert",7),_angular_core__WEBPACK_IMPORTED_MODULE_7__.k0s()),2&rf){const itemRD_r1=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("ngIf",null==itemRD_r1?null:itemRD_r1.hasSucceeded),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("ngIf",null==itemRD_r1?null:itemRD_r1.isLoading),_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("ngIf",null==itemRD_r1?null:itemRD_r1.hasFailed)}}function EditItemTemplatePageComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.j41(0,"div",1)(1,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.DNE(2,EditItemTemplatePageComponent_div_0_div_2_Template,4,3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.k0s()()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_7__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_7__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(3,1,ctx_r2.itemRD$))}}let EditItemTemplatePageComponent=(()=>{class EditItemTemplatePageComponent2{constructor(route,itemTemplateService,dsoNameService){this.route=route,this.itemTemplateService=itemTemplateService,this.dsoNameService=dsoNameService,this.AlertTypeEnum=_shared_alert_alert_type__WEBPACK_IMPORTED_MODULE_5__.v}ngOnInit(){this.collectionRD$=this.route.parent.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.$1)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.Tj)(data=>data.dso)),this.itemRD$=this.collectionRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.ak)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.nx)(collection=>this.itemTemplateService.findByCollectionID(collection.id)))}getCollectionEditUrl(collection){return collection?(0,_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_9__._E)(collection.uuid):""}static#_=this.\u0275fac=function(t){return new(t||EditItemTemplatePageComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_10__.nX),_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_core_data_item_template_data_service__WEBPACK_IMPORTED_MODULE_1__.d),_angular_core__WEBPACK_IMPORTED_MODULE_7__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__.f))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_7__.VBU({type:EditItemTemplatePageComponent2,selectors:[["ds-base-edit-item-template-page"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_7__.aNF],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"row"],["class","col-12",4,"ngVar"],[1,"col-12"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"type","content",4,"ngIf"],[1,"border-bottom"],[3,"updateDataService","dso"],[1,"btn","btn-outline-secondary",3,"routerLink"],[3,"message"],[3,"type","content"]],template:function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.DNE(0,EditItemTemplatePageComponent_div_0_Template,4,3,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_7__.nI1(1,"async")),2&rf){let tmp_0_0;_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y8G("ngVar",null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_7__.bMT(1,1,ctx.collectionRD$))?null:tmp_0_0.payload)}},dependencies:[_dso_shared_dso_edit_metadata_themed_dso_edit_metadata_component__WEBPACK_IMPORTED_MODULE_3__.Q,_angular_router__WEBPACK_IMPORTED_MODULE_10__.Wk,_angular_common__WEBPACK_IMPORTED_MODULE_11__.Jj,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_12__.r,_angular_common__WEBPACK_IMPORTED_MODULE_11__.bT,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.D9,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_6__.v,_shared_alert_alert_component__WEBPACK_IMPORTED_MODULE_4__.C],encapsulation:2})}return EditItemTemplatePageComponent2})()},83534:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>communityPageResolver,w:()=>COMMUNITY_PAGE_LINKS_TO_FOLLOW});var _angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(68014),_ngrx_store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5136),_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83591),_core_resolving_resolver_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(71012),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(82656),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(32181);const COMMUNITY_PAGE_LINKS_TO_FOLLOW=[(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("logo"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("subcommunities"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("collections"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.s)("parentCommunity")],communityPageResolver=(route,state,communityService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_0__.CommunityDataService),store=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.il))=>{const communityRD$=communityService.findById(route.params.id,!0,!1,...COMMUNITY_PAGE_LINKS_TO_FOLLOW).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)());return communityRD$.subscribe(communityRD=>{store.dispatch(new _core_resolving_resolver_actions__WEBPACK_IMPORTED_MODULE_1__.j(state.url,communityRD.payload))}),communityRD$}},89533:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>communityBreadcrumbResolver});var _angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(68014),_community_page_community_page_resolver__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83534),_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(77028),_data_community_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83591),_dso_breadcrumb_resolver__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20550),_dso_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(15446);const communityBreadcrumbResolver=(route,state,breadcrumbService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_dso_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_3__.U),dataService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.WQX)(_data_community_data_service__WEBPACK_IMPORTED_MODULE_1__.CommunityDataService))=>{const linksToFollow=_community_page_community_page_resolver__WEBPACK_IMPORTED_MODULE_0__.w;return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.a4)(route.data.breadcrumbQueryParam)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_5__.a4)(route.queryParams[route.data.breadcrumbQueryParam])?(0,_dso_breadcrumb_resolver__WEBPACK_IMPORTED_MODULE_2__.o)(route,state,route.queryParams[route.data.breadcrumbQueryParam],breadcrumbService,dataService,...linksToFollow):(0,_dso_breadcrumb_resolver__WEBPACK_IMPORTED_MODULE_2__.G)(route,state,breadcrumbService,dataService,...linksToFollow)}},20550:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>DSOBreadcrumbResolver,o:()=>DSOBreadcrumbResolverByUuid});var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10743),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45930),_shared_empty_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(77028),_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(82656);const DSOBreadcrumbResolver=(route,state,breadcrumbService,dataService,...linksToFollow)=>DSOBreadcrumbResolverByUuid(route,state,route.params.id,breadcrumbService,dataService,...linksToFollow),DSOBreadcrumbResolverByUuid=(route,state,uuid,breadcrumbService,dataService,...linksToFollow)=>dataService.findById(uuid,!0,!1,...linksToFollow).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_1__.qD)(),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_1__.Bo)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.Tj)(object=>{if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_3__.a4)(object))return{provider:breadcrumbService,key:object,url:(0,_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.wN)(object)}}))},15446:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>DSOBreadcrumbsService});var rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10743),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45930),_breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(96622),_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(77028),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(32181),_cache_builders_link_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48614),_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(91735),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(68014);let DSOBreadcrumbsService=(()=>{class DSOBreadcrumbsService2{constructor(linkService,dsoNameService){this.linkService=linkService,this.dsoNameService=dsoNameService}getBreadcrumbs(key,url){const label=this.dsoNameService.getName(key),crumb=new _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_3__.Q(label,url),propertyName=key.getParentLinkKey();return this.linkService.resolveLink(key,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_4__.s)(propertyName))[propertyName].pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.I6)(parentRD=>parentRD.hasSucceeded||204===parentRD.statusCode),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.nx)(parentRD=>{if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(parentRD)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.a4)(parentRD.payload)){const parent=parentRD.payload;return this.getBreadcrumbs(parent,(0,_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.wN)(parent))}return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)([])}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.Tj)(breadcrumbs=>[...breadcrumbs,crumb]))}static#_=this.\u0275fac=function(t){return new(t||DSOBreadcrumbsService2)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_cache_builders_link_service__WEBPACK_IMPORTED_MODULE_1__._),_angular_core__WEBPACK_IMPORTED_MODULE_8__.KVO(_dso_name_service__WEBPACK_IMPORTED_MODULE_2__.f))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_8__.jDH({token:DSOBreadcrumbsService2,factory:DSOBreadcrumbsService2.\u0275fac,providedIn:"root"})}return DSOBreadcrumbsService2})()},21870:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>i18nBreadcrumbResolver});var core=__webpack_require__(68014),empty_util=__webpack_require__(77028),route_utils=__webpack_require__(39609),cjs=__webpack_require__(74785),breadcrumb_model=__webpack_require__(96622);let I18nBreadcrumbsService=(()=>{class I18nBreadcrumbsService2{getBreadcrumbs(key,url){return(0,cjs.of)([new breadcrumb_model.Q(key+".breadcrumbs",url)])}static#_=this.\u0275fac=function(t){return new(t||I18nBreadcrumbsService2)};static#_2=this.\u0275prov=core.jDH({token:I18nBreadcrumbsService2,factory:I18nBreadcrumbsService2.\u0275fac,providedIn:"root"})}return I18nBreadcrumbsService2})();const i18nBreadcrumbResolver=(route,state,breadcrumbService=(0,core.WQX)(I18nBreadcrumbsService))=>{const key=route.data.breadcrumbKey;if((0,empty_util.Tn)(key))throw new Error('You provided an i18nBreadcrumbResolver for url "'+route.url+"\" but no breadcrumbKey in the route's data");return{provider:breadcrumbService,key,url:(0,route_utils.F)(route)}}},96293:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>dsoPageSingleFeatureGuard});var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10743),_dso_page_some_feature_guard__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39833);const dsoPageSingleFeatureGuard=(getResolveFn,getFeatureID)=>(0,_dso_page_some_feature_guard__WEBPACK_IMPORTED_MODULE_0__.FO)(getResolveFn,(route,state)=>getFeatureID(route,state).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.Tj)(featureID=>[featureID])))},39833:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FO:()=>dsoPageSomeFeatureGuard});var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10743),_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(77028),_shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(82656),_some_feature_authorization_guard__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(90254);const defaultDSOGetObjectUrl=resolve=>(route,state)=>{const routeWithObjectID=(route=>{let routeWithDSOId=route;for(;(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.Tn)(routeWithDSOId.params.id)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.a4)(routeWithDSOId.parent);)routeWithDSOId=routeWithDSOId.parent;return routeWithDSOId})(route);return resolve(routeWithObjectID,state).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_0__.Hz)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.Tj)(dso=>dso.self))},dsoPageSomeFeatureGuard=(getResolveFn,getFeatureIDs,getObjectUrl=defaultDSOGetObjectUrl,getEPersonUuid)=>(0,_some_feature_authorization_guard__WEBPACK_IMPORTED_MODULE_1__.h)((route,state)=>getFeatureIDs(route,state),getObjectUrl(getResolveFn()),getEPersonUuid)},71840:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>ItemTemplateDataService});var rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(10743),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10117),_browse_browse_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(97175),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86786),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(40017),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(91365),_base_create_data__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(85311),_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(68134),_bundle_data_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(78330),_collection_data_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(39138),_dso_change_analyzer_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(60279),_item_data_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(94743),_request_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(72744),_angular_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(68014);class CollectionItemTemplateDataService extends _base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_6__.W{constructor(requestService,rdbService,objectCache,halService,notificationsService,collectionService){super("itemtemplates",requestService,rdbService,objectCache,halService,void 0),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.collectionService=collectionService,this.createData=new _base_create_data__WEBPACK_IMPORTED_MODULE_5__.V(void 0,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive)}getIDHrefObs(collectionID){return this.collectionService.getIDHrefObs(collectionID).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.nx)(href=>this.halService.getEndpoint("itemtemplate",href)))}createTemplate(item,collectionID){return this.createData.createOnEndpoint(item,this.getIDHrefObs(collectionID))}}let ItemTemplateDataService=(()=>{class ItemTemplateDataService2 extends _item_data_service__WEBPACK_IMPORTED_MODULE_10__.BaseItemDataService{constructor(requestService,rdbService,objectCache,halService,notificationsService,comparator,browseService,bundleService,collectionService){super("itemtemplates",requestService,rdbService,objectCache,halService,notificationsService,comparator,browseService,bundleService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.comparator=comparator,this.browseService=browseService,this.bundleService=bundleService,this.collectionService=collectionService,this.byCollection=new CollectionItemTemplateDataService(requestService,rdbService,objectCache,halService,notificationsService,collectionService)}findByCollectionID(collectionID,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return this.byCollection.findById(collectionID,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}createByCollectionID(item,collectionID){return this.byCollection.createTemplate(item,collectionID)}getCollectionEndpoint(collectionID){return this.byCollection.getIDHrefObs(collectionID)}static#_=this.\u0275fac=function(t){return new(t||ItemTemplateDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_request_service__WEBPACK_IMPORTED_MODULE_11__.B),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_2__.o),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_3__.$),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_4__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_dso_change_analyzer_service__WEBPACK_IMPORTED_MODULE_9__.j),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_browse_browse_service__WEBPACK_IMPORTED_MODULE_1__.q),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_bundle_data_service__WEBPACK_IMPORTED_MODULE_7__.BundleDataService),_angular_core__WEBPACK_IMPORTED_MODULE_13__.KVO(_collection_data_service__WEBPACK_IMPORTED_MODULE_8__.CollectionDataService))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_13__.jDH({token:ItemTemplateDataService2,factory:ItemTemplateDataService2.\u0275fac,providedIn:"root"})}return ItemTemplateDataService2})()},55858:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MetadataFieldDataService:()=>MetadataFieldDataService});var rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(10743),_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(77028),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10117),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86786),_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(57699),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40017),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(91365),_base_create_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(85311),_base_delete_data__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(43626),_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(68134),_base_put_data__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(64034),_base_search_data__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(19399),_find_list_options_model__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(97570),_request_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(72744),_angular_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(68014);let MetadataFieldDataService=(()=>{class MetadataFieldDataService2 extends _base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_6__.W{constructor(requestService,rdbService,objectCache,halService,notificationsService){super("metadatafields",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.searchBySchemaLinkPath="bySchema",this.searchByFieldNameLinkPath="byFieldName",this.createData=new _base_create_data__WEBPACK_IMPORTED_MODULE_4__.V(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive),this.searchData=new _base_search_data__WEBPACK_IMPORTED_MODULE_8__.X(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive),this.putData=new _base_put_data__WEBPACK_IMPORTED_MODULE_7__.W(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive),this.deleteData=new _base_delete_data__WEBPACK_IMPORTED_MODULE_5__.I(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive,this.constructIdEndpoint)}findBySchema(schema,options={},useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){const optionsWithSchema=Object.assign(new _find_list_options_model__WEBPACK_IMPORTED_MODULE_10__._,options,{searchParams:[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__.x("schema",schema.prefix)]});return this.searchBy(this.searchBySchemaLinkPath,optionsWithSchema,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}searchByFieldNameParams(schema,element,qualifier,query,exactName,options={},useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){const optionParams=Object.assign(new _find_list_options_model__WEBPACK_IMPORTED_MODULE_10__._,options,{searchParams:[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__.x("schema",(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.a4)(schema)?schema:""),new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__.x("element",(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.a4)(element)?element:""),new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__.x("qualifier",(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.a4)(qualifier)?qualifier:""),new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__.x("query",(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.a4)(query)?query:""),new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__.x("exactName",(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.a4)(exactName)?exactName:"")]});return this.searchBy(this.searchByFieldNameLinkPath,optionParams,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}findByExactFieldName(exactFieldName){return this.searchByFieldNameParams(null,null,null,null,exactFieldName,null)}clearRequests(){this.getBrowseEndpoint().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.s)(1)).subscribe(href=>{this.requestService.setStaleByHrefSubstring(href)})}delete(objectId,copyVirtualMetadata){return this.deleteData.delete(objectId,copyVirtualMetadata)}deleteByHref(href,copyVirtualMetadata){return this.deleteData.deleteByHref(href,copyVirtualMetadata)}put(object){return this.putData.put(object)}create(object,...params){return this.createData.create(object,...params)}searchBy(searchMethod,options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow){return this.searchData.searchBy(searchMethod,options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}static#_=this.\u0275fac=function(t){return new(t||MetadataFieldDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_14__.KVO(_request_service__WEBPACK_IMPORTED_MODULE_9__.B),_angular_core__WEBPACK_IMPORTED_MODULE_14__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_14__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_14__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_14__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.I))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_14__.jDH({token:MetadataFieldDataService2,factory:MetadataFieldDataService2.\u0275fac,providedIn:"root"})}return MetadataFieldDataService2})()},21813:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MetadataSchemaDataService:()=>MetadataSchemaDataService});var rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(10743),_shared_empty_util__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(77028),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10117),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86786),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40017),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(91365),_base_create_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(85311),_base_delete_data__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(43626),_base_find_all_data__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(89480),_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(68134),_base_put_data__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(64034),_request_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(72744),_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(68014);let MetadataSchemaDataService=(()=>{class MetadataSchemaDataService2 extends _base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_7__.W{constructor(requestService,rdbService,objectCache,halService,notificationsService){super("metadataschemas",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.createData=new _base_create_data__WEBPACK_IMPORTED_MODULE_4__.V(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive),this.putData=new _base_put_data__WEBPACK_IMPORTED_MODULE_8__.W(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive),this.deleteData=new _base_delete_data__WEBPACK_IMPORTED_MODULE_5__.I(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive,this.constructIdEndpoint),this.findAllData=new _base_find_all_data__WEBPACK_IMPORTED_MODULE_6__.H(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive)}createOrUpdateMetadataSchema(schema){return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_10__.a4)(schema.id)?this.putData.put(schema):this.createData.create(schema)}clearRequests(){return this.getBrowseEndpoint().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.Mi)(href=>this.requestService.removeByHrefSubstring(href)))}findAll(options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow){return this.findAllData.findAll(options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}delete(objectId,copyVirtualMetadata){return this.deleteData.delete(objectId,copyVirtualMetadata)}deleteByHref(href,copyVirtualMetadata){return this.deleteData.deleteByHref(href,copyVirtualMetadata)}static#_=this.\u0275fac=function(t){return new(t||MetadataSchemaDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_request_service__WEBPACK_IMPORTED_MODULE_9__.B),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.I))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_12__.jDH({token:MetadataSchemaDataService2,factory:MetadataSchemaDataService2.\u0275fac,providedIn:"root"})}return MetadataSchemaDataService2})()},80148:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{VersionDataService:()=>VersionDataService});var rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(10743),_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(77028),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(32181),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(86786),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40017),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(91365),_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(82656),_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(68134),_base_patch_data__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(75467),_default_change_analyzer_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84237),_request_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(72744),_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(68014);let VersionDataService=(()=>{class VersionDataService2 extends _base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_4__.W{constructor(requestService,rdbService,objectCache,halService,comparator){super("versions",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.comparator=comparator,this.patchData=new _base_patch_data__WEBPACK_IMPORTED_MODULE_5__.n(this.linkPath,requestService,rdbService,objectCache,halService,comparator,this.responseMsToLive,this.constructIdEndpoint)}getHistoryFromVersion(version,useCachedVersionIfAvailable=!1,reRequestOnStale=!0){return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.hj)(version)?this.findById(version.id,useCachedVersionIfAvailable,reRequestOnStale,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_9__.s)("versionhistory")).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_3__.ak)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.nx)(res=>res.versionhistory),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_3__.ak)()):rxjs__WEBPACK_IMPORTED_MODULE_11__.EMPTY}getHistoryIdFromVersion(version){return this.getHistoryFromVersion(version).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.Tj)(versionHistory=>versionHistory.id))}patch(object,operations){return this.patchData.patch(object,operations)}update(object){return this.patchData.update(object)}commitUpdates(method){this.patchData.commitUpdates(method)}createPatchFromCache(object){return this.patchData.createPatchFromCache(object)}static#_=this.\u0275fac=function(t){return new(t||VersionDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_request_service__WEBPACK_IMPORTED_MODULE_7__.B),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_0__.o),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__.$),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_2__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_12__.KVO(_default_change_analyzer_service__WEBPACK_IMPORTED_MODULE_6__.Y))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_12__.jDH({token:VersionDataService2,factory:VersionDataService2.\u0275fac,providedIn:"root"})}return VersionDataService2})()},1555:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{VersionHistoryDataService:()=>VersionHistoryDataService});var _angular_common_http__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(38068),rxjs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(10743),_shared_empty_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(77028),_shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(64694),_shared_search_models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80780),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(32181),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86786),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40017),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(91365),_shared_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(82656),_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(68134),_request_models__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(87457),_request_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(72744),_version_data_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(80148),_angular_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(68014);let VersionHistoryDataService=(()=>{class VersionHistoryDataService2 extends _base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_5__.W{constructor(requestService,rdbService,objectCache,halService,versionDataService){super("versionhistories",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.versionDataService=versionDataService,this.versionsEndpoint="versions"}getBrowseEndpoint(options={},linkPath){return this.halService.getEndpoint(this.linkPath)}getVersionsEndpoint(versionHistoryId){return this.getBrowseEndpoint().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.nx)(href=>this.halService.getEndpoint(this.versionsEndpoint,`${href}/${versionHistoryId}`)))}getVersions(versionHistoryId,searchOptions,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){const hrefObs=this.getVersionsEndpoint(versionHistoryId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Tj)(href=>searchOptions?searchOptions.toRestUrl(href):href));return this.versionDataService.findListByHref(hrefObs,void 0,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}createVersion(itemHref,summary){const requestId=this.requestService.generateRequestId(),requestOptions=Object.create({});let requestHeaders=new _angular_common_http__WEBPACK_IMPORTED_MODULE_10__.Lr;return requestHeaders=requestHeaders.append("Content-Type","text/uri-list"),requestOptions.headers=requestHeaders,this.halService.getEndpoint(this.versionsEndpoint).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Tj)(endpointUrl=>summary?.length>0?`${endpointUrl}?summary=${summary}`:`${endpointUrl}`),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.I6)(href=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_11__.a4)(href))).subscribe(href=>{const request=new _request_models__WEBPACK_IMPORTED_MODULE_6__.Qf(requestId,href,itemHref,requestOptions);(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_11__.a4)(this.responseMsToLive)&&(request.responseMsToLive=this.responseMsToLive),this.requestService.send(request)}),this.rdbService.buildFromRequestUUIDAndAwait(requestId,versionRD=>(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.combineLatest)([this.requestService.setStaleByHrefSubstring(versionRD.payload._links.self.href),this.requestService.setStaleByHrefSubstring(versionRD.payload._links.versionhistory.href)])).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)())}getLatestVersionFromHistory$(versionHistory){const latestVersionOptions=Object.assign(new _shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_13__.W,{id:"item-newest-version-options",currentPage:1,pageSize:1}),latestVersionSearch=new _shared_search_models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_0__.C({pagination:latestVersionOptions});return this.getVersions(versionHistory.id,latestVersionSearch,!1,!0,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.s)("item")).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.v7)(),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.Bo)(),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_11__.Az)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.pb)(versions=>versions.page.length>0),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Tj)(versions=>versions.page[0]))}getLatestVersion$(version){return version.id?this.versionDataService.findById(version.id,!1,!0,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.s)("versionhistory")).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.nx)(res=>res.versionhistory),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.nx)(versionHistoryRD=>this.getLatestVersionFromHistory$(versionHistoryRD))):(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)(null)}isLatest$(version){return version?this.getLatestVersion$(version).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.nx)(latestVersion=>(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)(version.version===latestVersion.version))):(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)(null)}hasDraftVersion$(versionHref){return this.versionDataService.findByHref(versionHref,!1,!0,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.s)("versionhistory")).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.nx)(versionRD=>versionRD.hasSucceeded&&!versionRD.hasNoContent?versionRD.payload.versionhistory.pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Tj)(versionHistoryRD=>!(!versionHistoryRD.hasSucceeded||versionHistoryRD.hasNoContent)&&versionHistoryRD.payload.draftVersion)):(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)(!1)))}getLatestVersionItemFromHistory$(versionHistory){return this.getLatestVersionFromHistory$(versionHistory).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.nx)(newLatestVersion=>newLatestVersion.item),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)())}getVersionHistoryFromVersion$(version){return this.versionDataService.getHistoryIdFromVersion(version).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.nx)(res=>this.findById(res)),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)())}invalidateVersionHistoryCache(versionHistoryID){this.requestService.setStaleByHrefSubstring("versioning/versionhistories/"+versionHistoryID)}static#_=this.\u0275fac=function(t){return new(t||VersionHistoryDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_15__.KVO(_request_service__WEBPACK_IMPORTED_MODULE_7__.B),_angular_core__WEBPACK_IMPORTED_MODULE_15__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_15__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_15__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_3__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_15__.KVO(_version_data_service__WEBPACK_IMPORTED_MODULE_8__.VersionDataService))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_15__.jDH({token:VersionHistoryDataService2,factory:VersionHistoryDataService2.\u0275fac,providedIn:"root"})}return VersionHistoryDataService2})()},77231:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{QualityAssuranceEventDataService:()=>QualityAssuranceEventDataService});var _angular_common_http__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(38068),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(10743),_shared_empty_util__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(77028),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10117),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86786),_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(57699),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40017),_data_base_create_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(85311),_data_base_delete_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(43626),_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(68134),_data_base_patch_data__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(75467),_data_base_search_data__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(19399),_data_default_change_analyzer_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(84237),_data_request_models__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(87457),_data_request_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(72744),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(91365),_angular_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(68014);let QualityAssuranceEventDataService=(()=>{class QualityAssuranceEventDataService2 extends _data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_5__.W{constructor(requestService,rdbService,objectCache,halService,notificationsService,comparator){super("qualityassuranceevents",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.comparator=comparator,this.createData=new _data_base_create_data__WEBPACK_IMPORTED_MODULE_3__.V(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive),this.deleteData=new _data_base_delete_data__WEBPACK_IMPORTED_MODULE_4__.I(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new _data_base_patch_data__WEBPACK_IMPORTED_MODULE_6__.n(this.linkPath,requestService,rdbService,objectCache,halService,comparator,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new _data_base_search_data__WEBPACK_IMPORTED_MODULE_7__.X(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive)}getEventsByTopic(topic,options={},...linksToFollow){return options.searchParams=[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_12__.x("topic",topic)],this.searchData.searchBy("findByTopic",options,!0,!0,...linksToFollow)}searchEventsByTopic(options={},...linksToFollow){return this.searchData.searchBy("findByTopic",options,!0,!0,...linksToFollow)}clearFindByTopicRequests(){this.requestService.setStaleByHrefSubstring("findByTopic")}getEvent(id,...linksToFollow){return this.findById(id,!0,!0,...linksToFollow)}patchEvent(status,dso,reason){return this.patchData.patch(dso,[{path:"/status",op:"replace",value:status}])}boundProject(itemId,projectId){return this.postOnRelated(itemId,projectId)}removeProject(itemId){return this.deleteOnRelated(itemId)}deleteOnRelated(objectId){const requestId=this.requestService.generateRequestId();return this.getIDHrefObs(objectId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.I6)(href=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_14__.a4)(href))).subscribe(href=>{const request=new _data_request_models__WEBPACK_IMPORTED_MODULE_9__.Dk(requestId,href+"/related",objectId);(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_14__.a4)(this.responseMsToLive)&&(request.responseMsToLive=this.responseMsToLive),this.requestService.send(request)}),this.rdbService.buildFromRequestUUID(requestId)}postOnRelated(objectId,relatedItemId,body){const requestId=this.requestService.generateRequestId();return this.getIDHrefObs(objectId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.s)(1)).subscribe(href=>{const request=new _data_request_models__WEBPACK_IMPORTED_MODULE_9__.Qf(requestId,href+"/related?item="+relatedItemId,body);(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_14__.a4)(this.responseMsToLive)&&(request.responseMsToLive=this.responseMsToLive),this.requestService.send(request)}),this.rdbService.buildFromRequestUUID(requestId)}postData(target,correctionType,related,reason){const requestId=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.nx)(href=>{const options=Object.create({});let headers=new _angular_common_http__WEBPACK_IMPORTED_MODULE_15__.Lr;headers=headers.append("Content-Type","application/json"),options.headers=headers;let params=new _angular_common_http__WEBPACK_IMPORTED_MODULE_15__.Nl;params=params.append("target",target).append("correctionType",correctionType),options.params=params;const request=new _data_request_models__WEBPACK_IMPORTED_MODULE_9__.Qf(requestId,href,{reason},options);return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_14__.a4)(this.responseMsToLive)&&(request.responseMsToLive=this.responseMsToLive),this.requestService.send(request),this.rdbService.buildFromRequestUUID(requestId)}))}deleteQAEvent(qaEvent){return this.deleteData.delete(qaEvent.id)}static#_=this.\u0275fac=function(t){return new(t||QualityAssuranceEventDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_data_request_service__WEBPACK_IMPORTED_MODULE_10__.B),_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_11__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_16__.KVO(_data_default_change_analyzer_service__WEBPACK_IMPORTED_MODULE_8__.Y))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_16__.jDH({token:QualityAssuranceEventDataService2,factory:QualityAssuranceEventDataService2.\u0275fac,providedIn:"root"})}return QualityAssuranceEventDataService2})()},10893:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>RegistryService});var _ngrx_store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5136),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10743),_admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(34167),_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(77028),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10117),_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(57699),_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(97570),_data_metadata_field_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(55858),_data_metadata_schema_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21813),_shared_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(82656),_angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(68014),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(43750);const metadataRegistryStateSelector=state=>state.metadataRegistry,editMetadataSchemaSelector=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Mz)(metadataRegistryStateSelector,metadataState=>metadataState.editSchema),selectedMetadataSchemasSelector=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Mz)(metadataRegistryStateSelector,metadataState=>metadataState.selectedSchemas),editMetadataFieldSelector=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Mz)(metadataRegistryStateSelector,metadataState=>metadataState.editField),selectedMetadataFieldsSelector=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Mz)(metadataRegistryStateSelector,metadataState=>metadataState.selectedFields);let RegistryService=(()=>{class RegistryService2{constructor(store,notificationsService,translateService,metadataSchemaService,metadataFieldService){this.store=store,this.notificationsService=notificationsService,this.translateService=translateService,this.metadataSchemaService=metadataSchemaService,this.metadataFieldService=metadataFieldService}getMetadataSchemas(options={},useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return this.metadataSchemaService.findAll(options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}getMetadataSchemaByPrefix(prefix,useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){const options=Object.assign(new _data_find_list_options_model__WEBPACK_IMPORTED_MODULE_6__._,{elementsPerPage:1e4});return this.getMetadataSchemas(options).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Tj)(schemas=>schemas.page),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.VT)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Tj)(schemas=>schemas.filter(schema=>schema.prefix===prefix)[0]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.ZZ)(schema=>this.metadataSchemaService.findById(`${schema.id}`,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)))}getMetadataFieldsBySchema(schema,options={},useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return this.metadataFieldService.findBySchema(schema,options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}editMetadataSchema(schema){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.w2(schema))}cancelEditMetadataSchema(){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.Wi)}getActiveMetadataSchema(){return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Lt)(editMetadataSchemaSelector))}selectMetadataSchema(schema){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.Q6(schema))}deselectMetadataSchema(schema){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.zn(schema))}deselectAllMetadataSchema(){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.Gr)}getSelectedMetadataSchemas(){return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Lt)(selectedMetadataSchemasSelector))}editMetadataField(field){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.dF(field))}cancelEditMetadataField(){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.Tf)}getActiveMetadataField(){return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Lt)(editMetadataFieldSelector))}selectMetadataField(field){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.jC(field))}deselectMetadataField(field){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.yb(field))}deselectAllMetadataField(){this.store.dispatch(new _admin_admin_registries_metadata_registry_metadata_registry_actions__WEBPACK_IMPORTED_MODULE_0__.TE)}getSelectedMetadataFields(){return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.Lt)(selectedMetadataFieldsSelector))}createOrUpdateMetadataSchema(schema){const isUpdate=(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.a4)(schema.id);return this.metadataSchemaService.createOrUpdateMetadataSchema(schema).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)(),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.Az)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Mi)(()=>{this.showNotifications(!0,isUpdate,!1,{prefix:schema.prefix})}))}deleteMetadataSchema(id){return this.metadataSchemaService.delete(`${id}`)}clearMetadataSchemaRequests(){return this.metadataSchemaService.clearRequests()}createMetadataField(field,schema){return field.qualifier||(field.qualifier=null),this.metadataFieldService.create(field,new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_9__.x("schemaId",schema.id)).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)(),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.Az)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Mi)(()=>{this.showNotifications(!0,!1,!0,{field:field.toString()})}))}updateMetadataField(field){return field.qualifier||(field.qualifier=null),this.metadataFieldService.put(field).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)(),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.Az)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Mi)(()=>{this.showNotifications(!0,!0,!0,{field:field.toString()})}))}deleteMetadataField(id){return this.metadataFieldService.delete(`${id}`)}clearMetadataFieldRequests(){this.metadataFieldService.clearRequests()}showNotifications(success,edited,isField,options){const prefix="admin.registries.schema.notification",editedString=edited?"edited":"created";(0,rxjs__WEBPACK_IMPORTED_MODULE_10__.combineLatest)(this.translateService.get(`${prefix}.${success?"success":"failure"}`),this.translateService.get(`${prefix}${isField?".field":""}.${editedString}`,options)).subscribe(([head,content])=>{success?this.notificationsService.success(head,content):this.notificationsService.error(head,content)})}queryMetadataFields(query,options={},useCachedVersionIfAvailable=!0,reRequestOnStale=!0,...linksToFollow){return this.metadataFieldService.searchByFieldNameParams(null,null,null,query,null,options,useCachedVersionIfAvailable,reRequestOnStale,...linksToFollow)}static#_=this.\u0275fac=function(t){return new(t||RegistryService2)(_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.il),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__.I),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_data_metadata_schema_data_service__WEBPACK_IMPORTED_MODULE_3__.MetadataSchemaDataService),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_data_metadata_field_data_service__WEBPACK_IMPORTED_MODULE_2__.MetadataFieldDataService))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_11__.jDH({token:RegistryService2,factory:RegistryService2.\u0275fac,providedIn:"root"})}return RegistryService2})()},71012:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>ResolvedAction});const ResolverActionTypes={RESOLVED:(0,__webpack_require__(38299).N)("dspace/resolver/RESOLVED")};class ResolvedAction{constructor(url,dso){this.type=ResolverActionTypes.RESOLVED,this.payload={url,dso}}}},71870:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CorrectionTypeDataService:()=>CorrectionTypeDataService});var rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(74785),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10117),_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86786),_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(57699),_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40017),_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(68134),_data_base_search_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(19399),_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(97570),_data_request_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(72744),_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(91365),_shared_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(82656),_angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(68014);let CorrectionTypeDataService=(()=>{class CorrectionTypeDataService2 extends _data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_3__.W{constructor(requestService,rdbService,objectCache,halService,notificationsService){super("correctiontypes",requestService,rdbService,objectCache,halService),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.linkPath="correctiontypes",this.searchByTopic="findByTopic",this.searchFindByItem="findByItem",this.searchData=new _data_base_search_data__WEBPACK_IMPORTED_MODULE_4__.X(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive)}getCorrectionTypeById(id,useCachedVersionIfAvailable=!0,reRequestOnStale=!0){return this.findById(id,useCachedVersionIfAvailable,reRequestOnStale)}findByItem(itemUuid,useCachedVersionIfAvailable){const options=new _data_find_list_options_model__WEBPACK_IMPORTED_MODULE_8__._;return options.searchParams=[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_9__.x("uuid",itemUuid)],this.searchData.searchBy(this.searchFindByItem,options,useCachedVersionIfAvailable)}findByTopic(topic,useCachedVersionIfAvailable=!0,reRequestOnStale=!0){const options=new _data_find_list_options_model__WEBPACK_IMPORTED_MODULE_8__._;return options.searchParams=[new _cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_9__.x("topic",topic)],this.searchData.searchBy(this.searchByTopic,options,useCachedVersionIfAvailable,reRequestOnStale).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_7__.Hz)(),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_7__.W8)(),(0,rxjs__WEBPACK_IMPORTED_MODULE_10__.map)(list=>list[0]))}static#_=this.\u0275fac=function(t){return new(t||CorrectionTypeDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_data_request_service__WEBPACK_IMPORTED_MODULE_5__.B),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_6__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_11__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.I))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_11__.jDH({token:CorrectionTypeDataService2,factory:CorrectionTypeDataService2.\u0275fac,providedIn:"root"})}return CorrectionTypeDataService2})()},91744:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t:()=>DsoEditMetadataFieldValuesComponent});var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(23306),_angular_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84739),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(68014),_dso_edit_metadata_form__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(48168),__webpack_require__(17533)),_dso_edit_metadata_value_dso_edit_metadata_value_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36604),_dso_edit_metadata_value_headers_dso_edit_metadata_value_headers_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(91252);function DsoEditMetadataFieldValuesComponent_ds_dso_edit_metadata_value_4_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_3__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"ds-dso-edit-metadata-value",3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.bIt("edit",function(){const mdValue_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.eBV(_r1).$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_3__.Njj(mdValue_r2.editing=!0)})("confirm",function($event){const mdValue_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.eBV(_r1).$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG();return mdValue_r2.confirmChanges($event),ctx_r2.form.resetReinstatable(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Njj(ctx_r2.valueSaved.emit())})("remove",function(){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_3__.eBV(_r1),mdValue_r2=ctx_r3.$implicit,idx_r5=ctx_r3.index,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG();return mdValue_r2.change===ctx_r2.DsoEditMetadataChangeTypeEnum.ADD?ctx_r2.form.remove(ctx_r2.mdField,idx_r5):mdValue_r2.change=ctx_r2.DsoEditMetadataChangeTypeEnum.REMOVE,ctx_r2.form.resetReinstatable(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Njj(ctx_r2.valueSaved.emit())})("undo",function(){const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_3__.eBV(_r1),mdValue_r2=ctx_r5.$implicit,idx_r5=ctx_r5.index,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG();return mdValue_r2.change===ctx_r2.DsoEditMetadataChangeTypeEnum.ADD?ctx_r2.form.remove(ctx_r2.mdField,idx_r5):mdValue_r2.discard(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Njj(ctx_r2.valueSaved.emit())})("dragging",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__.eBV(_r1);const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_3__.Njj(ctx_r2.draggingMdField$.next($event?ctx_r2.mdField:null))}),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()}if(2&rf){const mdValue_r2=ctx.$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y8G("dso",ctx_r2.dso)("mdValue",mdValue_r2)("mdField",ctx_r2.mdField)("dsoType",ctx_r2.dsoType)("saving$",ctx_r2.saving$)("isOnlyValue",1===ctx_r2.form.fields[ctx_r2.mdField].length)}}let DsoEditMetadataFieldValuesComponent=(()=>{class DsoEditMetadataFieldValuesComponent2{constructor(){this.valueSaved=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.bkB,this.DsoEditMetadataChangeTypeEnum=_dso_edit_metadata_form__WEBPACK_IMPORTED_MODULE_1__.QR}drop(event){(0,_angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_4__.HD)(this.form.fields[this.mdField],event.previousIndex,event.currentIndex),this.form.fields[this.mdField].forEach((value,index)=>{value.newValue.place=index,value.confirmChanges()}),this.form.resetReinstatable(),this.valueSaved.emit()}static#_=this.\u0275fac=function(t){return new(t||DsoEditMetadataFieldValuesComponent2)};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.VBU({type:DsoEditMetadataFieldValuesComponent2,selectors:[["ds-dso-edit-metadata-field-values"]],inputs:{dso:"dso",form:"form",mdField:"mdField",dsoType:"dsoType",saving$:"saving$",draggingMdField$:"draggingMdField$"},outputs:{valueSaved:"valueSaved"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.aNF],decls:5,vars:8,consts:[["cdkDropList","","role","table",1,"flex-grow-1","ds-drop-list","h-100",3,"cdkDropListDropped"],["role","presentation",3,"dsoType"],["role","presentation",3,"dso","mdValue","mdField","dsoType","saving$","isOnlyValue","edit","confirm","remove","undo","dragging",4,"ngFor","ngForOf"],["role","presentation",3,"edit","confirm","remove","undo","dragging","dso","mdValue","mdField","dsoType","saving$","isOnlyValue"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.bIt("cdkDropListDropped",function($event){return ctx.drop($event)}),_angular_core__WEBPACK_IMPORTED_MODULE_3__.nrm(3,"ds-dso-edit-metadata-value-headers",1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(4,DsoEditMetadataFieldValuesComponent_ds_dso_edit_metadata_value_4_Template,1,6,"ds-dso-edit-metadata-value",2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.AVh("disabled",_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(1,4,ctx.draggingMdField$)&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.bMT(2,6,ctx.draggingMdField$)!==ctx.mdField),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y8G("dsoType",ctx.dsoType),_angular_core__WEBPACK_IMPORTED_MODULE_3__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y8G("ngForOf",ctx.form.fields[ctx.mdField]))},dependencies:[_angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_4__.O7,_dso_edit_metadata_value_headers_dso_edit_metadata_value_headers_component__WEBPACK_IMPORTED_MODULE_5__.c,_angular_common__WEBPACK_IMPORTED_MODULE_6__.pM,_dso_edit_metadata_value_dso_edit_metadata_value_component__WEBPACK_IMPORTED_MODULE_2__.o,_angular_common__WEBPACK_IMPORTED_MODULE_6__.Jj],styles:[".ds-drop-list[_ngcontent-%COMP%]{background-color:var(--bs-gray-500)}.ds-drop-list.disabled[_ngcontent-%COMP%]{opacity:.3}"]})}return DsoEditMetadataFieldValuesComponent2})()},17533:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{QR:()=>DsoEditMetadataChangeType,qf:()=>DsoEditMetadataForm});class MetadataPatchOperation{constructor(op,field){this.op=op,this.field=field}}let MetadataPatchAddOperation=(()=>{class MetadataPatchAddOperation2 extends MetadataPatchOperation{static#_=this.operationType="add";constructor(field,value){super(MetadataPatchAddOperation2.operationType,field),this.value=value}toOperation(){return{op:this.op,path:`/metadata/${this.field}/-`,value:this.value}}}return MetadataPatchAddOperation2})(),MetadataPatchMoveOperation=(()=>{class MetadataPatchMoveOperation2 extends MetadataPatchOperation{static#_=this.operationType="move";constructor(field,from,to){super(MetadataPatchMoveOperation2.operationType,field),this.from=from,this.to=to}toOperation(){return{op:this.op,from:`/metadata/${this.field}/${this.from}`,path:`/metadata/${this.field}/${this.to}`}}}return MetadataPatchMoveOperation2})(),MetadataPatchRemoveOperation=(()=>{class MetadataPatchRemoveOperation2 extends MetadataPatchOperation{static#_=this.operationType="remove";constructor(field,place){super(MetadataPatchRemoveOperation2.operationType,field),this.place=place}toOperation(){return{op:this.op,path:`/metadata/${this.field}/${this.place}`}}}return MetadataPatchRemoveOperation2})(),MetadataPatchReplaceOperation=(()=>{class MetadataPatchReplaceOperation2 extends MetadataPatchOperation{static#_=this.operationType="replace";constructor(field,place,value){super(MetadataPatchReplaceOperation2.operationType,field),this.place=place,this.value=value}toOperation(){return{op:this.op,path:`/metadata/${this.field}/${this.place}`,value:this.value}}}return MetadataPatchReplaceOperation2})();var metadata_models=__webpack_require__(97414),empty_util=__webpack_require__(77028),DsoEditMetadataChangeType=function(DsoEditMetadataChangeType2){return DsoEditMetadataChangeType2[DsoEditMetadataChangeType2.UPDATE=1]="UPDATE",DsoEditMetadataChangeType2[DsoEditMetadataChangeType2.ADD=2]="ADD",DsoEditMetadataChangeType2[DsoEditMetadataChangeType2.REMOVE=3]="REMOVE",DsoEditMetadataChangeType2}(DsoEditMetadataChangeType||{});class DsoEditMetadataValue{constructor(value,added=!1){this.editing=!1,this.reordered=!1,this.originalValue=value,this.newValue=Object.assign(new metadata_models.vD,value),added&&(this.change=DsoEditMetadataChangeType.ADD,this.editing=!0)}confirmChanges(finishEditing=!1){this.reordered=this.originalValue.place!==this.newValue.place,((0,empty_util.Tn)(this.change)||this.change===DsoEditMetadataChangeType.UPDATE)&&(this.change=this.originalValue.value!==this.newValue.value||this.originalValue.language!==this.newValue.language||this.originalValue.authority!==this.newValue.authority||this.originalValue.confidence!==this.newValue.confidence?DsoEditMetadataChangeType.UPDATE:void 0),finishEditing&&(this.editing=!1)}hasChanges(){return(0,empty_util.a4)(this.change)||this.reordered}discardAndMarkReinstatable(){(this.change===DsoEditMetadataChangeType.UPDATE||this.reordered)&&(this.reinstatableValue=this.newValue),this.reinstatableChange=this.change,this.discard(!1)}discard(keepPlace=!0){this.change=void 0;const place=this.newValue.place;this.newValue=Object.assign(new metadata_models.vD,this.originalValue),keepPlace&&(this.newValue.place=place),this.confirmChanges(!0)}reinstate(){(0,empty_util.a4)(this.reinstatableValue)&&(this.newValue=this.reinstatableValue,this.reinstatableValue=void 0),(0,empty_util.a4)(this.reinstatableChange)&&(this.change=this.reinstatableChange,this.reinstatableChange=void 0),this.confirmChanges()}isReinstatable(){return(0,empty_util.a4)(this.reinstatableValue)||(0,empty_util.a4)(this.reinstatableChange)}resetReinstatable(){this.reinstatableValue=void 0,this.reinstatableChange=void 0}}class DsoEditMetadataForm{constructor(metadata){this.originalFieldKeys=[],this.fieldKeys=[],this.fields={},this.reinstatableNewValues={},Object.entries(metadata).forEach(([mdField,values])=>{this.originalFieldKeys.push(mdField),this.fieldKeys.push(mdField),this.setValuesForFieldSorted(mdField,values.map(value=>new DsoEditMetadataValue(value)))}),this.sortFieldKeys()}add(){(0,empty_util.Tn)(this.newValue)&&(this.newValue=new DsoEditMetadataValue(new metadata_models.vD,!0))}setMetadataField(mdField){this.newValue.editing=!1,this.addValueToField(this.newValue,mdField);const place=this.fields[mdField].length-1;this.fields[mdField][place].originalValue.place=place,this.fields[mdField][place].newValue.place=place,this.newValue=void 0}addValueToField(value,mdField){(0,empty_util.Im)(this.fields[mdField])&&(this.fieldKeys.push(mdField),this.sortFieldKeys(),this.fields[mdField]=[]),this.fields[mdField].push(value)}remove(mdField,index){(0,empty_util.hj)(this.fields[mdField])&&(this.fields[mdField].splice(index,1),0===this.fields[mdField].length&&(this.fieldKeys.splice(this.fieldKeys.indexOf(mdField),1),delete this.fields[mdField]))}hasChanges(){return Object.values(this.fields).some(values=>values.some(value=>value.hasChanges()))}hasOrderChanges(mdField){return this.fields[mdField].some(value=>value.originalValue.place!==value.newValue.place)}discard(){this.resetReinstatable(),Object.entries(this.fields).forEach(([field,values])=>{let removeFromIndex=-1;values.forEach((value,index)=>{value.change===DsoEditMetadataChangeType.ADD?((0,empty_util.Im)(this.reinstatableNewValues[field])&&(this.reinstatableNewValues[field]=[]),this.reinstatableNewValues[field].push(value),-1===removeFromIndex&&(removeFromIndex=index)):value.discardAndMarkReinstatable()}),removeFromIndex>-1&&this.fields[field].splice(removeFromIndex,this.fields[field].length-removeFromIndex)}),this.fieldKeys.forEach(field=>{this.originalFieldKeys.indexOf(field)<0&&delete this.fields[field]}),this.fieldKeys=[...this.originalFieldKeys],this.sortFieldKeys(),this.fieldKeys.forEach(field=>{this.setValuesForFieldSorted(field,this.fields[field])})}resetOrder(mdField){this.fields[mdField].forEach(value=>{value.newValue.place=value.originalValue.place,value.confirmChanges()}),this.setValuesForFieldSorted(mdField,this.fields[mdField])}sortFieldKeys(){this.fieldKeys.sort((a,b)=>a.localeCompare(b))}reinstate(){Object.values(this.fields).forEach(values=>{values.forEach(value=>{value.reinstate()})}),Object.entries(this.reinstatableNewValues).forEach(([field,values])=>{values.forEach(value=>{this.addValueToField(value,field)})}),this.fieldKeys.forEach(field=>{this.setValuesForFieldSorted(field,this.fields[field])}),this.reinstatableNewValues={}}isReinstatable(){return(0,empty_util.hj)(this.reinstatableNewValues)||Object.values(this.fields).some(values=>values.some(value=>value.isReinstatable()))}resetReinstatable(){this.reinstatableNewValues={},Object.values(this.fields).forEach(values=>{values.forEach(value=>{value.resetReinstatable()})})}setValuesForFieldSorted(mdField,values){this.fields[mdField]=values.sort((a,b)=>a.newValue.place-b.newValue.place)}getOperations(moveAnalyser){const operations=[];return Object.entries(this.fields).forEach(([field,values])=>{const replaceOperations=[],removeOperations=[],addOperations=[];[...values].sort((a,b)=>a.originalValue.place-b.originalValue.place).forEach(value=>{(0,empty_util.a4)(value.change)&&(value.change===DsoEditMetadataChangeType.UPDATE?(value.originalValue.value!==value.newValue.value||value.originalValue.language!==value.newValue.language||value.originalValue.authority!==value.newValue.authority||value.originalValue.confidence!==value.newValue.confidence)&&replaceOperations.push(new MetadataPatchReplaceOperation(field,value.originalValue.place,{value:value.newValue.value,language:value.newValue.language,authority:value.newValue.authority,confidence:value.newValue.confidence})):value.change===DsoEditMetadataChangeType.REMOVE?removeOperations.push(new MetadataPatchRemoveOperation(field,value.originalValue.place)):value.change===DsoEditMetadataChangeType.ADD?addOperations.push(new MetadataPatchAddOperation(field,{value:value.newValue.value,language:value.newValue.language,authority:value.newValue.authority,confidence:value.newValue.confidence})):console.warn("Illegal metadata change state detected for",value))}),operations.push(...replaceOperations.map(operation=>operation.toOperation())),operations.push(...removeOperations.sort((a,b)=>b.place-a.place).map(operation=>operation.toOperation())),operations.push(...addOperations.map(operation=>operation.toOperation()))}),Object.entries(this.fields).forEach(([field,values])=>{const valuesWithoutRemoved=values.filter(value=>value.change!==DsoEditMetadataChangeType.REMOVE),moveOperations=moveAnalyser.diff([...valuesWithoutRemoved].sort((a,b)=>a.originalValue.place-b.originalValue.place).map(value=>value.originalValue.place),[...valuesWithoutRemoved].sort((a,b)=>a.newValue.place-b.newValue.place).map(value=>value.originalValue.place)).map(operation=>new MetadataPatchMoveOperation(field,+operation.from.substr(1),+operation.path.substr(1)).toOperation());operations.push(...moveOperations)}),operations}}},69252:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>DsoEditMetadataHeadersComponent});var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(43750),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(68014);let DsoEditMetadataHeadersComponent=(()=>{class DsoEditMetadataHeadersComponent2{static#_=this.\u0275fac=function(t){return new(t||DsoEditMetadataHeadersComponent2)};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.VBU({type:DsoEditMetadataHeadersComponent2,selectors:[["ds-dso-edit-metadata-headers"]],inputs:{dsoType:"dsoType"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.aNF],decls:18,vars:12,consts:[[1,"d-flex","flex-row","ds-field-row","ds-header-row"],[1,"lbl-cell"],[1,"flex-grow-1"],[1,"d-flex","flex-row"],[1,"flex-grow-1","ds-flex-cell","ds-value-cell"],[1,"dont-break-out","preserve-line-breaks"],[1,"ds-flex-cell","ds-lang-cell"],[1,"text-center","ds-flex-cell","ds-edit-cell"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(0,"div",0)(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(4,"div",2)(5,"div",3)(6,"div",4)(7,"b",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nI1(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(10,"div",6)(11,"b"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(12),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nI1(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(14,"div",7)(15,"b"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(16),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nI1(17,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s()()()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_0__.bMT(3,4,ctx.dsoType+".edit.metadata.headers.field")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_0__.bMT(9,6,ctx.dsoType+".edit.metadata.headers.value")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_0__.bMT(13,8,ctx.dsoType+".edit.metadata.headers.language")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_0__.bMT(17,10,ctx.dsoType+".edit.metadata.headers.edit")))},dependencies:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__.D9],styles:[".lbl-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-field-width);max-width:var(--ds-dso-edit-field-width);background-color:var(--bs-gray-100);font-weight:700;padding:1rem;border:1px solid var(--bs-gray-200)}.ds-header-row[_ngcontent-%COMP%]{background-color:var(--bs-gray-100)}",".ds-field-row[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-400)}.ds-flex-cell[_ngcontent-%COMP%]{padding:1rem;border:1px solid var(--bs-gray-200)}.ds-lang-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-lang-width);max-width:var(--ds-dso-edit-lang-width)}.ds-edit-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-actions-width)}.ds-value-row[_ngcontent-%COMP%]{background-color:#fff}.ds-value-row[_ngcontent-%COMP%]:active{cursor:grabbing}.ds-value-row.ds-warning[_ngcontent-%COMP%]{background-color:var(--ds-warning-bg)}.ds-value-row.ds-warning[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-warning)}.ds-value-row.ds-danger[_ngcontent-%COMP%]{background-color:var(--ds-danger-bg)}.ds-value-row.ds-danger[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-danger)}.ds-value-row.ds-success[_ngcontent-%COMP%]{background-color:var(--ds-success-bg)}.ds-value-row.ds-success[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-success)}"]})}return DsoEditMetadataHeadersComponent2})()},91252:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>DsoEditMetadataValueHeadersComponent});var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(43750),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(68014);let DsoEditMetadataValueHeadersComponent=(()=>{class DsoEditMetadataValueHeadersComponent2{static#_=this.\u0275fac=function(t){return new(t||DsoEditMetadataValueHeadersComponent2)};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.VBU({type:DsoEditMetadataValueHeadersComponent2,selectors:[["ds-dso-edit-metadata-value-headers"]],inputs:{dsoType:"dsoType"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.aNF],decls:10,vars:9,consts:[["role","row",1,"visually-hidden"],["role","columnheader"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(0,"div",0)(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(4,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nI1(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(7,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.nI1(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_0__.bMT(3,3,ctx.dsoType+".edit.metadata.headers.value")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_0__.bMT(6,5,ctx.dsoType+".edit.metadata.headers.language")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_0__.bMT(9,7,ctx.dsoType+".edit.metadata.headers.edit")))},dependencies:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__.D9],styles:[".ds-field-row[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-400)}.ds-flex-cell[_ngcontent-%COMP%]{padding:1rem;border:1px solid var(--bs-gray-200)}.ds-lang-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-lang-width);max-width:var(--ds-dso-edit-lang-width)}.ds-edit-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-actions-width)}.ds-value-row[_ngcontent-%COMP%]{background-color:#fff}.ds-value-row[_ngcontent-%COMP%]:active{cursor:grabbing}.ds-value-row.ds-warning[_ngcontent-%COMP%]{background-color:var(--ds-warning-bg)}.ds-value-row.ds-warning[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-warning)}.ds-value-row.ds-danger[_ngcontent-%COMP%]{background-color:var(--ds-danger-bg)}.ds-value-row.ds-danger[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-danger)}.ds-value-row.ds-success[_ngcontent-%COMP%]{background-color:var(--ds-success-bg)}.ds-value-row.ds-success[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-success)}"]})}return DsoEditMetadataValueHeadersComponent2})()},36604:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>DsoEditMetadataValueComponent});var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(23306),_angular_common__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(84739),_angular_core__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(68014),_angular_forms__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(28955),_angular_router__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(64247),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(71781),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(43750),rxjs__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(10743),src_app_core_registry_registry_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10893),src_app_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(77275),src_app_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10117),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(91735),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(94743),_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8648),_core_metadata_metadata_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(94689),_core_shared_confidence_type__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(79070),_core_shared_metadata_representation_metadata_representation_model__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(48168),__webpack_require__(25281)),_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(82656),_item_page_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(63254),_shared_empty_util__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(77028),_shared_form_builder_ds_dynamic_form_ui_models_onebox_dynamic_onebox_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(74183),_shared_form_builder_ds_dynamic_form_ui_models_onebox_dynamic_onebox_model__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(80385),_shared_form_builder_ds_dynamic_form_ui_models_scrollable_dropdown_dynamic_scrollable_dropdown_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(72875),_shared_form_builder_ds_dynamic_form_ui_models_scrollable_dropdown_dynamic_scrollable_dropdown_model__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(10661),_shared_form_builder_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(5403),_shared_form_directives_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(78392),_shared_object_collection_shared_badges_type_badge_themed_type_badge_component__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(83793),_shared_utils_debounce_directive__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(51615),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(32181),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(45961),_dso_edit_metadata_form__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(17533);const _c0=(a0,a1,a2,a3)=>({"ds-warning":a0,"ds-danger":a1,"ds-success":a2,"h-100":a3}),_c1=a0=>({disabled:a0});function DsoEditMetadataValueComponent_div_0_div_1_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"div",24),_angular_core__WEBPACK_IMPORTED_MODULE_19__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.JRh(ctx_r1.mdValue.newValue.value)}}function DsoEditMetadataValueComponent_div_0_div_1_textarea_2_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_19__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"textarea",25),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.mxI("ngModelChange",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r3);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.DH7(ctx_r1.mdValue.newValue.value,$event)||(ctx_r1.mdValue.newValue.value=$event),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj($event)}),_angular_core__WEBPACK_IMPORTED_MODULE_19__.bIt("onDebounce",function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r3);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj(ctx_r1.confirm.emit(!1))}),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_19__.R50("ngModel",ctx_r1.mdValue.newValue.value),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("dsDebounce",300),_angular_core__WEBPACK_IMPORTED_MODULE_19__.BMQ("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(1,3,ctx_r1.dsoType+".edit.metadata.edit.value"))}}function DsoEditMetadataValueComponent_div_0_div_1_ds_dynamic_scrollable_dropdown_4_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_19__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"ds-dynamic-scrollable-dropdown",26),_angular_core__WEBPACK_IMPORTED_MODULE_19__.bIt("change",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r4);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj(ctx_r1.onChangeAuthorityField($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("bindId",ctx_r1.mdField)("group",ctx_r1.group)("model",ctx_r1.getModel())}}function DsoEditMetadataValueComponent_div_0_div_1_ds_dynamic_onebox_6_Template(rf,ctx){if(1&rf){const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_19__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"ds-dynamic-onebox",27),_angular_core__WEBPACK_IMPORTED_MODULE_19__.bIt("change",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r5);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj(ctx_r1.onChangeAuthorityField($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("group",ctx_r1.group)("model",ctx_r1.getModel())}}function DsoEditMetadataValueComponent_div_0_div_1_div_9_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"div")(1,"span",28),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nrm(2,"i",29),_angular_core__WEBPACK_IMPORTED_MODULE_19__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("authorityValue",ctx_r1.mdValue.newValue)("iconMode",!0),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Lme(" ",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(4,4,ctx_r1.dsoType+".edit.metadata.authority.label")," ",ctx_r1.mdValue.newValue.authority," ")}}function DsoEditMetadataValueComponent_div_0_div_1_div_10_button_5_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_19__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"button",36),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r7);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(4);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj(ctx_r1.onChangeEditingAuthorityStatus(!0))}),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nrm(3,"i",37),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(4);_angular_core__WEBPACK_IMPORTED_MODULE_19__.FS9("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(1,2,ctx_r1.dsoType+".edit.metadata.edit.buttons.open-authority-edition")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("title",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(2,4,ctx_r1.dsoType+".edit.metadata.edit.buttons.open-authority-edition"))}}function DsoEditMetadataValueComponent_div_0_div_1_div_10_button_6_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_19__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"button",38),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r8);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(4);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj(ctx_r1.onChangeEditingAuthorityStatus(!1))}),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nrm(3,"i",39),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(4);_angular_core__WEBPACK_IMPORTED_MODULE_19__.FS9("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(1,2,ctx_r1.dsoType+".edit.metadata.edit.buttons.close-authority-edition")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("title",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(2,4,ctx_r1.dsoType+".edit.metadata.edit.buttons.close-authority-edition"))}}function DsoEditMetadataValueComponent_div_0_div_1_div_10_Template(rf,ctx){if(1&rf){const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_19__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"div",30)(1,"div",31),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nrm(2,"i",32),_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(3,"input",33),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.mxI("ngModelChange",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r6);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.DH7(ctx_r1.mdValue.newValue.authority,$event)||(ctx_r1.mdValue.newValue.authority=$event),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj($event)}),_angular_core__WEBPACK_IMPORTED_MODULE_19__.bIt("change",function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r6);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj(ctx_r1.onChangeAuthorityKey())}),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.DNE(5,DsoEditMetadataValueComponent_div_0_div_1_div_10_button_5_Template,4,6,"button",34)(6,DsoEditMetadataValueComponent_div_0_div_1_div_10_button_6_Template,4,6,"button",35),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("authorityValue",ctx_r1.mdValue.newValue.confidence)("iconMode",!0),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R50("ngModel",ctx_r1.mdValue.newValue.authority),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("disabled",!ctx_r1.editingAuthority),_angular_core__WEBPACK_IMPORTED_MODULE_19__.BMQ("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(4,7,ctx_r1.dsoType+".edit.metadata.edit.authority.key")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngIf",!ctx_r1.editingAuthority),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngIf",ctx_r1.editingAuthority)}}function DsoEditMetadataValueComponent_div_0_div_1_div_13_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"div",40)(1,"a",41),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nrm(5,"ds-type-badge",42),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()),2&rf){const mdRepresentation_r9=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG().ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("routerLink",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(2,3,ctx_r1.mdRepresentationItemRoute$)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(4,5,ctx_r1.mdRepresentationName$)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("object",mdRepresentation_r9)}}function DsoEditMetadataValueComponent_div_0_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_19__.DNE(1,DsoEditMetadataValueComponent_div_0_div_1_div_1_Template,2,1,"div",4)(2,DsoEditMetadataValueComponent_div_0_div_1_textarea_2_Template,2,5,"textarea",18),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.DNE(4,DsoEditMetadataValueComponent_div_0_div_1_ds_dynamic_scrollable_dropdown_4_Template,1,3,"ds-dynamic-scrollable-dropdown",19),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.DNE(6,DsoEditMetadataValueComponent_div_0_div_1_ds_dynamic_onebox_6_Template,1,2,"ds-dynamic-onebox",20),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.DNE(9,DsoEditMetadataValueComponent_div_0_div_1_div_9_Template,5,6,"div",21)(10,DsoEditMetadataValueComponent_div_0_div_1_div_10_Template,7,9,"div",22),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(11,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(12,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.DNE(13,DsoEditMetadataValueComponent_div_0_div_1_div_13_Template,6,7,"div",23),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()),2&rf){const mdRepresentation_r9=ctx.ngVar,isVirtual_r10=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG().ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngIf",!ctx_r1.mdValue.editing&&!mdRepresentation_r9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngIf",ctx_r1.mdValue.editing&&!mdRepresentation_r9&&!0!==_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(3,7,ctx_r1.isAuthorityControlled())),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngIf",ctx_r1.mdValue.editing&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(5,9,ctx_r1.isScrollableVocabulary())),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngIf",ctx_r1.mdValue.editing&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(7,11,ctx_r1.isHierarchicalVocabulary())||_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(8,13,ctx_r1.isSuggesterVocabulary()))),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngIf",!isVirtual_r10&&!ctx_r1.mdValue.editing&&ctx_r1.mdValue.newValue.authority&&ctx_r1.mdValue.newValue.confidence!==ctx_r1.ConfidenceTypeEnum.CF_UNSET&&ctx_r1.mdValue.newValue.confidence!==ctx_r1.ConfidenceTypeEnum.CF_NOVALUE),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngIf",ctx_r1.mdValue.editing&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(11,15,ctx_r1.isAuthorityControlled())&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(12,17,ctx_r1.isSuggesterVocabulary())),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngIf",mdRepresentation_r9)}}function DsoEditMetadataValueComponent_div_0_div_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"div",24),_angular_core__WEBPACK_IMPORTED_MODULE_19__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.JRh(ctx_r1.mdValue.newValue.language)}}function DsoEditMetadataValueComponent_div_0_input_5_Template(rf,ctx){if(1&rf){const _r11=_angular_core__WEBPACK_IMPORTED_MODULE_19__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"input",43),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.mxI("ngModelChange",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r11);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(2);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.DH7(ctx_r1.mdValue.newValue.language,$event)||(ctx_r1.mdValue.newValue.language=$event),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj($event)}),_angular_core__WEBPACK_IMPORTED_MODULE_19__.bIt("onDebounce",function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r11);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(2);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj(ctx_r1.confirm.emit(!1))}),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_19__.R50("ngModel",ctx_r1.mdValue.newValue.language),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("dsDebounce",300),_angular_core__WEBPACK_IMPORTED_MODULE_19__.BMQ("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(1,3,ctx_r1.dsoType+".edit.metadata.edit.language"))}}function DsoEditMetadataValueComponent_div_0_button_11_Template(rf,ctx){if(1&rf){const _r12=_angular_core__WEBPACK_IMPORTED_MODULE_19__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"button",44),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r12);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(2);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj(ctx_r1.edit.emit())}),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nrm(4,"i",45),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()}if(2&rf){const isVirtual_r10=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG().ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_19__.FS9("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(1,3,ctx_r1.dsoType+".edit.metadata.edit.buttons.edit")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("title",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(2,5,ctx_r1.dsoType+".edit.metadata.edit.buttons.edit"))("disabled",isVirtual_r10||ctx_r1.mdValue.change===ctx_r1.DsoEditMetadataChangeTypeEnum.REMOVE||_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(3,7,ctx_r1.saving$))}}function DsoEditMetadataValueComponent_div_0_button_12_Template(rf,ctx){if(1&rf){const _r13=_angular_core__WEBPACK_IMPORTED_MODULE_19__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"button",46),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r13);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(2);return _angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj(ctx_r1.confirm.emit(!0))}),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nrm(4,"i",47),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()}if(2&rf){const isVirtual_r10=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG().ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_19__.FS9("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(1,3,ctx_r1.dsoType+".edit.metadata.edit.buttons.confirm")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("title",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(2,5,ctx_r1.dsoType+".edit.metadata.edit.buttons.confirm"))("disabled",isVirtual_r10||_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(3,7,ctx_r1.saving$))}}function DsoEditMetadataValueComponent_div_0_button_23_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"button",48),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nrm(3,"i",49),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()),2&rf){const disabled_r14=ctx.ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_19__.FS9("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(1,5,ctx_r1.dsoType+".edit.metadata.edit.buttons.drag")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("cdkDragHandleDisabled",disabled_r14)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_19__.eq3(9,_c1,disabled_r14))("disabled",disabled_r14)("title",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(2,7,ctx_r1.dsoType+".edit.metadata.edit.buttons.drag"))}}function DsoEditMetadataValueComponent_div_0_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(0,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.bIt("cdkDragStarted",function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj(ctx_r1.dragging.emit(!0))})("cdkDragEnded",function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj(ctx_r1.dragging.emit(!1))}),_angular_core__WEBPACK_IMPORTED_MODULE_19__.DNE(1,DsoEditMetadataValueComponent_div_0_div_1_Template,14,19,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.DNE(4,DsoEditMetadataValueComponent_div_0_div_4_Template,2,1,"div",4)(5,DsoEditMetadataValueComponent_div_0_input_5_Template,2,5,"input",5),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.DNE(11,DsoEditMetadataValueComponent_div_0_button_11_Template,5,9,"button",10)(12,DsoEditMetadataValueComponent_div_0_button_12_Template,5,9,"button",11),_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(13,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(14,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(15,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(16,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj(ctx_r1.remove.emit())}),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nrm(17,"i",13),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.j41(18,"button",14),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(19,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(20,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(21,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_19__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_19__.Njj(ctx_r1.undo.emit())}),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nrm(22,"i",15),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.DNE(23,DsoEditMetadataValueComponent_div_0_button_23_Template,4,11,"button",16),_angular_core__WEBPACK_IMPORTED_MODULE_19__.nI1(24,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.k0s()()()()()}if(2&rf){const isVirtual_r10=ctx.ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_19__.ziG(32,_c0,ctx_r1.mdValue.reordered||ctx_r1.mdValue.change===ctx_r1.DsoEditMetadataChangeTypeEnum.UPDATE,ctx_r1.mdValue.change===ctx_r1.DsoEditMetadataChangeTypeEnum.REMOVE,ctx_r1.mdValue.change===ctx_r1.DsoEditMetadataChangeTypeEnum.ADD,ctx_r1.isOnlyValue)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(2,14,ctx_r1.mdRepresentation$)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngIf",!ctx_r1.mdValue.editing),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngIf",ctx_r1.mdValue.editing),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngbTooltip",isVirtual_r10?_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(10,16,ctx_r1.dsoType+".edit.metadata.edit.buttons.virtual"):null),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngIf",!ctx_r1.mdValue.editing),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngIf",ctx_r1.mdValue.editing),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.FS9("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(14,18,ctx_r1.dsoType+".edit.metadata.edit.buttons.remove")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("title",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(15,20,ctx_r1.dsoType+".edit.metadata.edit.buttons.remove"))("disabled",isVirtual_r10||ctx_r1.mdValue.change&&ctx_r1.mdValue.change!==ctx_r1.DsoEditMetadataChangeTypeEnum.ADD||ctx_r1.mdValue.editing||_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(16,22,ctx_r1.saving$)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(5),_angular_core__WEBPACK_IMPORTED_MODULE_19__.FS9("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(19,24,ctx_r1.dsoType+".edit.metadata.edit.buttons.undo")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("title",_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(20,26,ctx_r1.dsoType+".edit.metadata.edit.buttons.undo"))("disabled",isVirtual_r10||!ctx_r1.mdValue.change&&ctx_r1.mdValue.reordered||!ctx_r1.mdValue.change&&!ctx_r1.mdValue.editing||_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(21,28,ctx_r1.saving$)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.R7$(5),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngVar",ctx_r1.isOnlyValue||_angular_core__WEBPACK_IMPORTED_MODULE_19__.bMT(24,30,ctx_r1.saving$))}}let DsoEditMetadataValueComponent=(()=>{class DsoEditMetadataValueComponent2{constructor(relationshipService,dsoNameService,vocabularyService,itemService,cdr,registryService,notificationsService,translate,metadataService){this.relationshipService=relationshipService,this.dsoNameService=dsoNameService,this.vocabularyService=vocabularyService,this.itemService=itemService,this.cdr=cdr,this.registryService=registryService,this.notificationsService=notificationsService,this.translate=translate,this.metadataService=metadataService,this.isOnlyValue=!1,this.edit=new _angular_core__WEBPACK_IMPORTED_MODULE_19__.bkB,this.confirm=new _angular_core__WEBPACK_IMPORTED_MODULE_19__.bkB,this.remove=new _angular_core__WEBPACK_IMPORTED_MODULE_19__.bkB,this.undo=new _angular_core__WEBPACK_IMPORTED_MODULE_19__.bkB,this.dragging=new _angular_core__WEBPACK_IMPORTED_MODULE_19__.bkB,this.DsoEditMetadataChangeTypeEnum=_dso_edit_metadata_form__WEBPACK_IMPORTED_MODULE_18__.QR,this.ConfidenceTypeEnum=_core_shared_confidence_type__WEBPACK_IMPORTED_MODULE_7__.l,this.editingAuthority=!1,this.group=new _angular_forms__WEBPACK_IMPORTED_MODULE_20__.J3({authorityField:new _angular_forms__WEBPACK_IMPORTED_MODULE_20__.hs}),this.model$=new rxjs__WEBPACK_IMPORTED_MODULE_21__.BehaviorSubject(null)}ngOnInit(){this.initVirtualProperties(),this.initAuthorityProperties()}initVirtualProperties(){this.mdRepresentation$=this.metadataService.isVirtual(this.mdValue.newValue)?this.relationshipService.resolveMetadataRepresentation(this.mdValue.newValue,this.dso,"Item").pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.Tj)(mdRepresentation=>mdRepresentation.representationType===_core_shared_metadata_representation_metadata_representation_model__WEBPACK_IMPORTED_MODULE_9__.d.Item?mdRepresentation:null)):rxjs__WEBPACK_IMPORTED_MODULE_21__.EMPTY,this.mdRepresentationItemRoute$=this.mdRepresentation$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.Tj)(mdRepresentation=>mdRepresentation?(0,_item_page_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_23__._o)(mdRepresentation):null)),this.mdRepresentationName$=this.mdRepresentation$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.Tj)(mdRepresentation=>mdRepresentation?this.dsoNameService.getName(mdRepresentation):null))}initAuthorityProperties(){if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_24__.hj)(this.mdField)){const owningCollection$=this.itemService.findByHref(this.dso._links.self.href,!0,!0,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_25__.s)("owningCollection")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.yd)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.Bo)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.nx)(item=>item.owningCollection),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.yd)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.Bo)());this.vocabulary$=owningCollection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.nx)(c=>this.vocabularyService.getVocabularyByMetadataAndCollection(this.mdField,c.uuid).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.ak)())))}else this.vocabulary$=(0,rxjs__WEBPACK_IMPORTED_MODULE_21__.of)(void 0);this.isAuthorityControlled$=this.vocabulary$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.Mi)(v=>this.model$.next(this.createModel(v))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.Tj)(result=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_24__.hj)(result))),this.isHierarchicalVocabulary$=this.vocabulary$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.Tj)(result=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_24__.hj)(result)&&result.hierarchical)),this.isScrollableVocabulary$=this.vocabulary$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.Tj)(result=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_24__.hj)(result)&&result.scrollable)),this.isSuggesterVocabulary$=this.vocabulary$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.Tj)(result=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_24__.hj)(result)&&!result.hierarchical&&!result.scrollable))}createModel(vocabulary){if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_24__.hj)(vocabulary)){let formFieldValue;(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_24__.hj)(this.mdValue.newValue.value)?(formFieldValue=new _shared_form_builder_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_15__.e,formFieldValue.value=this.mdValue.newValue.value,formFieldValue.display=this.mdValue.newValue.value,this.mdValue.newValue.authority&&(formFieldValue.authority=this.mdValue.newValue.authority,formFieldValue.confidence=this.mdValue.newValue.confidence)):formFieldValue=this.mdValue.newValue.value;const vocabularyOptions=vocabulary?{closed:!1,name:vocabulary.name}:null;return vocabulary.scrollable?new _shared_form_builder_ds_dynamic_form_ui_models_scrollable_dropdown_dynamic_scrollable_dropdown_model__WEBPACK_IMPORTED_MODULE_14__.j({id:"authorityField",label:`${this.dsoType}.edit.metadata.edit.value`,placeholder:`${this.dsoType}.edit.metadata.edit.value`,vocabularyOptions,metadataFields:[this.mdField],value:formFieldValue,repeatable:!1,submissionId:"edit-metadata",hasSelectableMetadata:!1,maxOptions:10}):new _shared_form_builder_ds_dynamic_form_ui_models_onebox_dynamic_onebox_model__WEBPACK_IMPORTED_MODULE_12__.K({id:"authorityField",label:`${this.dsoType}.edit.metadata.edit.value`,vocabularyOptions,metadataFields:[this.mdField],value:formFieldValue,repeatable:!1,submissionId:"edit-metadata",hasSelectableMetadata:!1})}return null}ngOnChanges(changes){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_24__.hj)(changes.mdField)&&!changes.mdField.firstChange&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_24__.hj)(changes.mdField.currentValue)&&((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_24__.hj)(changes.mdField.previousValue)&&changes.mdField.previousValue!==changes.mdField.currentValue&&(this.mdValue.newValue.authority=null,this.mdValue.newValue.confidence=_core_shared_confidence_type__WEBPACK_IMPORTED_MODULE_7__.l.CF_UNSET),changes.mdField.currentValue.includes(".")&&this.validateMetadataField().subscribe(isValid=>{isValid&&(this.initAuthorityProperties(),this.cdr.detectChanges())}))}validateMetadataField(){return this.registryService.queryMetadataFields(this.mdField,null,!0,!1,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_25__.s)("schema")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.nx)(rd=>rd.hasSucceeded?(0,rxjs__WEBPACK_IMPORTED_MODULE_21__.of)(rd).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.LB)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.Tj)(fields=>fields.indexOf(this.mdField)>-1)):(this.notificationsService.error(this.translate.instant(`${this.dsoType}.edit.metadata.metadatafield.error`),rd.errorMessage),[!1])))}isAuthorityControlled(){return this.isAuthorityControlled$}isHierarchicalVocabulary(){return this.isHierarchicalVocabulary$}isScrollableVocabulary(){return this.isScrollableVocabulary$}isSuggesterVocabulary(){return this.isSuggesterVocabulary$}onChangeAuthorityField(event){this.mdValue.newValue.value=event.value,event.authority?(this.mdValue.newValue.authority=event.authority,this.mdValue.newValue.confidence=_core_shared_confidence_type__WEBPACK_IMPORTED_MODULE_7__.l.CF_ACCEPTED):(this.mdValue.newValue.authority=null,this.mdValue.newValue.confidence=_core_shared_confidence_type__WEBPACK_IMPORTED_MODULE_7__.l.CF_UNSET),this.confirm.emit(!1)}getModel(){return this.model$.value}onChangeEditingAuthorityStatus(status){this.editingAuthority=status}onChangeAuthorityKey(){""===this.mdValue.newValue.authority?(this.mdValue.newValue.confidence=_core_shared_confidence_type__WEBPACK_IMPORTED_MODULE_7__.l.CF_NOVALUE,this.confirm.emit(!1)):this.mdValue.newValue.authority!==this.mdValue.originalValue.authority&&(this.mdValue.newValue.confidence=_core_shared_confidence_type__WEBPACK_IMPORTED_MODULE_7__.l.CF_ACCEPTED,this.confirm.emit(!1))}static#_=this.\u0275fac=function(t){return new(t||DsoEditMetadataValueComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_19__.rXU(_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_5__.RelationshipDataService),_angular_core__WEBPACK_IMPORTED_MODULE_19__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_3__.f),_angular_core__WEBPACK_IMPORTED_MODULE_19__.rXU(src_app_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_1__.g),_angular_core__WEBPACK_IMPORTED_MODULE_19__.rXU(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_4__.ItemDataService),_angular_core__WEBPACK_IMPORTED_MODULE_19__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_19__.gRc),_angular_core__WEBPACK_IMPORTED_MODULE_19__.rXU(src_app_core_registry_registry_service__WEBPACK_IMPORTED_MODULE_0__.x),_angular_core__WEBPACK_IMPORTED_MODULE_19__.rXU(src_app_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_2__.I),_angular_core__WEBPACK_IMPORTED_MODULE_19__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_26__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_19__.rXU(_core_metadata_metadata_service__WEBPACK_IMPORTED_MODULE_6__.T))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_19__.VBU({type:DsoEditMetadataValueComponent2,selectors:[["ds-dso-edit-metadata-value"]],inputs:{dso:"dso",mdValue:"mdValue",dsoType:"dsoType",saving$:"saving$",isOnlyValue:"isOnlyValue",mdField:"mdField"},outputs:{edit:"edit",confirm:"confirm",remove:"remove",undo:"undo",dragging:"dragging"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_19__.OA$,_angular_core__WEBPACK_IMPORTED_MODULE_19__.aNF],decls:1,vars:1,consts:[["class","d-flex flex-row ds-value-row","role","row","cdkDrag","",3,"ngClass","cdkDragStarted","cdkDragEnded",4,"ngVar"],["role","row","cdkDrag","",1,"d-flex","flex-row","ds-value-row",3,"cdkDragStarted","cdkDragEnded","ngClass"],["class","flex-grow-1 ds-flex-cell ds-value-cell d-flex flex-column","role","cell",4,"ngVar"],["role","cell",1,"ds-flex-cell","ds-lang-cell"],["class","dont-break-out preserve-line-breaks",4,"ngIf"],["class","form-control","type","text",3,"ngModel","dsDebounce","ngModelChange","onDebounce",4,"ngIf"],["role","cell",1,"text-center","ds-flex-cell","ds-edit-cell"],[1,"btn-group"],[1,"edit-field"],[1,"btn-group","edit-buttons",3,"ngbTooltip"],["class","btn btn-outline-primary btn-sm ng-star-inserted","data-test","metadata-edit-btn",3,"title","ngbTooltip","disabled","click",4,"ngIf"],["class","btn btn-outline-success btn-sm ng-star-inserted","data-test","metadata-confirm-btn",3,"title","ngbTooltip","disabled","click",4,"ngIf"],["data-test","metadata-remove-btn",1,"btn","btn-outline-danger","btn-sm",3,"click","title","ngbTooltip","disabled"],[1,"fas","fa-trash-alt","fa-fw"],["data-test","metadata-undo-btn",1,"btn","btn-outline-warning","btn-sm",3,"click","title","ngbTooltip","disabled"],[1,"fas","fa-undo-alt","fa-fw"],["class","btn btn-outline-secondary ds-drag-handle btn-sm","data-test","metadata-drag-btn","cdkDragHandle","",3,"cdkDragHandleDisabled","ngClass","disabled","title","ngbTooltip",4,"ngVar"],["role","cell",1,"flex-grow-1","ds-flex-cell","ds-value-cell","d-flex","flex-column"],["class","form-control","rows","5",3,"ngModel","dsDebounce","ngModelChange","onDebounce",4,"ngIf"],[3,"bindId","group","model","change",4,"ngIf"],[3,"group","model","change",4,"ngIf"],[4,"ngIf"],["class","mt-2",4,"ngIf"],["class","d-flex",4,"ngIf"],[1,"dont-break-out","preserve-line-breaks"],["rows","5",1,"form-control",3,"ngModelChange","onDebounce","ngModel","dsDebounce"],[3,"change","bindId","group","model"],[3,"change","group","model"],[1,"badge","badge-light","border"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"fas","fa-fw","p-0",3,"authorityValue","iconMode"],[1,"mt-2"],[1,"btn-group","w-75"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"fas","fa-fw","p-0","mr-1","mt-auto","mb-auto",3,"authorityValue","iconMode"],["data-test","authority-input",1,"form-control","form-outline",3,"ngModelChange","change","ngModel","disabled"],["class","btn btn-outline-secondary btn-sm ng-star-inserted","id","metadata-confirm-btn",3,"title","ngbTooltip","click",4,"ngIf"],["class","btn btn-outline-success btn-sm ng-star-inserted","id","metadata-confirm-btn",3,"title","ngbTooltip","click",4,"ngIf"],["id","metadata-confirm-btn",1,"btn","btn-outline-secondary","btn-sm","ng-star-inserted",3,"click","title","ngbTooltip"],[1,"fas","fa-lock","fa-fw"],["id","metadata-confirm-btn",1,"btn","btn-outline-success","btn-sm","ng-star-inserted",3,"click","title","ngbTooltip"],[1,"fas","fa-lock-open","fa-fw"],[1,"d-flex"],["target","_blank",1,"mr-2",3,"routerLink"],[3,"object"],["type","text",1,"form-control",3,"ngModelChange","onDebounce","ngModel","dsDebounce"],["data-test","metadata-edit-btn",1,"btn","btn-outline-primary","btn-sm","ng-star-inserted",3,"click","title","ngbTooltip","disabled"],[1,"fas","fa-edit","fa-fw"],["data-test","metadata-confirm-btn",1,"btn","btn-outline-success","btn-sm","ng-star-inserted",3,"click","title","ngbTooltip","disabled"],[1,"fas","fa-check","fa-fw"],["data-test","metadata-drag-btn","cdkDragHandle","",1,"btn","btn-outline-secondary","ds-drag-handle","btn-sm",3,"cdkDragHandleDisabled","ngClass","disabled","title","ngbTooltip"],[1,"fas","fa-grip-vertical","fa-fw"]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.DNE(0,DsoEditMetadataValueComponent_div_0_Template,25,37,"div",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y8G("ngVar",ctx.metadataService.isVirtual(ctx.mdValue.newValue))},dependencies:[_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_27__.r,_angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_28__.T1,_angular_common__WEBPACK_IMPORTED_MODULE_29__.YU,_angular_common__WEBPACK_IMPORTED_MODULE_29__.bT,_angular_forms__WEBPACK_IMPORTED_MODULE_20__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_20__.me,_angular_forms__WEBPACK_IMPORTED_MODULE_20__.BC,_angular_forms__WEBPACK_IMPORTED_MODULE_20__.vS,_shared_utils_debounce_directive__WEBPACK_IMPORTED_MODULE_30__.R,_angular_router__WEBPACK_IMPORTED_MODULE_31__.Wk,_shared_object_collection_shared_badges_type_badge_themed_type_badge_component__WEBPACK_IMPORTED_MODULE_17__.C,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_32__.n8,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_32__.md,_angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_28__.Fb,_angular_common__WEBPACK_IMPORTED_MODULE_29__.Jj,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_26__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_26__.D9,_shared_form_builder_ds_dynamic_form_ui_models_scrollable_dropdown_dynamic_scrollable_dropdown_component__WEBPACK_IMPORTED_MODULE_13__.s,_shared_form_builder_ds_dynamic_form_ui_models_onebox_dynamic_onebox_component__WEBPACK_IMPORTED_MODULE_11__.d,_shared_form_directives_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_16__.K],styles:[".ds-success[_ngcontent-%COMP%]{background-color:var(--ds-success-bg);border:1px solid var(--bs-success)}.ds-drag-handle[_ngcontent-%COMP%]:not(.disabled){cursor:grab}  .edit-field>ngb-tooltip-window .tooltip-inner{min-width:var(--ds-dso-edit-virtual-tooltip-min-width)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}",".ds-field-row[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-400)}.ds-flex-cell[_ngcontent-%COMP%]{padding:1rem;border:1px solid var(--bs-gray-200)}.ds-lang-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-lang-width);max-width:var(--ds-dso-edit-lang-width)}.ds-edit-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-actions-width)}.ds-value-row[_ngcontent-%COMP%]{background-color:#fff}.ds-value-row[_ngcontent-%COMP%]:active{cursor:grabbing}.ds-value-row.ds-warning[_ngcontent-%COMP%]{background-color:var(--ds-warning-bg)}.ds-value-row.ds-warning[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-warning)}.ds-value-row.ds-danger[_ngcontent-%COMP%]{background-color:var(--ds-danger-bg)}.ds-value-row.ds-danger[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-danger)}.ds-value-row.ds-success[_ngcontent-%COMP%]{background-color:var(--ds-success-bg)}.ds-value-row.ds-success[_ngcontent-%COMP%]   .ds-flex-cell[_ngcontent-%COMP%]{border:1px solid var(--bs-success)}"]})}return DsoEditMetadataValueComponent2})()},12139:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DsoEditMetadataComponent:()=>DsoEditMetadataComponent});var common=__webpack_require__(84739),ngx_translate_core=__webpack_require__(43750),cjs=__webpack_require__(74785),operators=__webpack_require__(10743),app_config_interface=__webpack_require__(59945),lazy_data_service=__webpack_require__(56964),shared_operators=(__webpack_require__(48168),__webpack_require__(82656)),resource_type=__webpack_require__(94554),alert_component=__webpack_require__(14467),alert_type=__webpack_require__(82555),empty_util=__webpack_require__(77028),themed_loading_component=__webpack_require__(32943),notifications_service=__webpack_require__(10117),dso_edit_metadata_field_values_component=__webpack_require__(91744),dso_edit_metadata_form=__webpack_require__(17533),dso_edit_metadata_headers_component=__webpack_require__(69252),dso_edit_metadata_value_component=__webpack_require__(36604),dso_edit_metadata_value_headers_component=__webpack_require__(91252),metadata_field_selector_component=__webpack_require__(19844),core=__webpack_require__(68014),router=__webpack_require__(64247),drag_drop=__webpack_require__(23306);let ArrayMoveChangeAnalyzer=(()=>{class ArrayMoveChangeAnalyzer2{diff(array1,array2){return this.getMoves(array1,array2).map(move=>Object.assign({op:"move",from:"/"+move[0],path:"/"+move[1]}))}getMoves(array1,array2){const moved=[...array2];return array1.reduce((moves,item,index)=>{if((0,empty_util.a4)(item)&&item!==moved[index]){const last=moved.lastIndexOf(item);(0,drag_drop.HD)(moved,last,index),moves.unshift([index,last])}return moves},[])}static#_=this.\u0275fac=function(t){return new(t||ArrayMoveChangeAnalyzer2)};static#_2=this.\u0275prov=core.jDH({token:ArrayMoveChangeAnalyzer2,factory:ArrayMoveChangeAnalyzer2.\u0275fac,providedIn:"root"})}return ArrayMoveChangeAnalyzer2})();function DsoEditMetadataComponent_div_0_button_9_Template(rf,ctx){if(1&rf){const _r3=core.RV6();core.j41(0,"button",20),core.nI1(1,"async"),core.nI1(2,"translate"),core.bIt("click",function(){core.eBV(_r3);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.reinstate())}),core.nrm(3,"i",21),core.j41(4,"span",6),core.EFF(5),core.nI1(6,"translate"),core.k0s()()}if(2&rf){const ctx_r1=core.XpG(2);core.Y8G("disabled",core.bMT(1,3,ctx_r1.saving$))("title",core.bMT(2,5,ctx_r1.dsoType+".edit.metadata.reinstate-button")),core.R7$(5),core.SpI("\xa0",core.bMT(6,7,ctx_r1.dsoType+".edit.metadata.reinstate-button"),"")}}function DsoEditMetadataComponent_div_0_button_17_Template(rf,ctx){if(1&rf){const _r4=core.RV6();core.j41(0,"button",22),core.nI1(1,"translate"),core.nI1(2,"async"),core.bIt("click",function(){core.eBV(_r4);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.discard())}),core.nrm(3,"i",23),core.j41(4,"span",6),core.EFF(5),core.nI1(6,"translate"),core.k0s()()}if(2&rf){const ctx_r1=core.XpG(2);core.Y8G("title",core.bMT(1,3,ctx_r1.dsoType+".edit.metadata.discard-button"))("disabled",!ctx_r1.hasChanges||core.bMT(2,5,ctx_r1.saving$)),core.R7$(5),core.SpI("\xa0",core.bMT(6,7,ctx_r1.dsoType+".edit.metadata.discard-button"),"")}}function DsoEditMetadataComponent_div_0_div_21_Template(rf,ctx){if(1&rf){const _r5=core.RV6();core.j41(0,"div",24)(1,"div",25)(2,"ds-metadata-field-selector",26),core.mxI("mdFieldChange",function($event){core.eBV(_r5);const ctx_r1=core.XpG(2);return core.DH7(ctx_r1.newMdField,$event)||(ctx_r1.newMdField=$event),core.Njj($event)}),core.k0s()(),core.j41(3,"div",27)(4,"div",11),core.nrm(5,"ds-dso-edit-metadata-value-headers",28),core.j41(6,"ds-dso-edit-metadata-value",29),core.bIt("confirm",function($event){core.eBV(_r5);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.confirmNewValue($event))})("remove",function(){core.eBV(_r5);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.form.newValue=void 0)})("undo",function(){core.eBV(_r5);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.form.newValue=void 0)}),core.k0s()()()()}if(2&rf){const ctx_r1=core.XpG(2);core.R7$(2),core.Y8G("dsoType",ctx_r1.dsoType),core.R50("mdField",ctx_r1.newMdField),core.Y8G("autofocus",!0),core.R7$(3),core.Y8G("dsoType",ctx_r1.dsoType),core.R7$(),core.Y8G("dso",ctx_r1.dso)("mdValue",ctx_r1.form.newValue)("dsoType",ctx_r1.dsoType)("saving$",ctx_r1.savingOrLoadingFieldValidation$)("isOnlyValue",!0)("mdField",ctx_r1.newMdField)}}function DsoEditMetadataComponent_div_0_div_22_div_4_Template(rf,ctx){if(1&rf){const _r7=core.RV6();core.j41(0,"div",34),core.bIt("click",function(){core.eBV(_r7);const mdField_r8=core.XpG().$implicit,ctx_r1=core.XpG(2);return ctx_r1.form.resetOrder(mdField_r8),core.Njj(ctx_r1.onValueSaved())}),core.EFF(1),core.nI1(2,"translate"),core.k0s()}if(2&rf){const ctx_r1=core.XpG(3);core.R7$(),core.SpI(" ",core.bMT(2,1,ctx_r1.dsoType+".edit.metadata.reset-order-button")," ")}}function DsoEditMetadataComponent_div_0_div_22_Template(rf,ctx){if(1&rf){const _r6=core.RV6();core.j41(0,"div",24)(1,"div",30)(2,"span",31),core.EFF(3),core.k0s(),core.DNE(4,DsoEditMetadataComponent_div_0_div_22_div_4_Template,3,3,"div",32),core.k0s(),core.j41(5,"ds-dso-edit-metadata-field-values",33),core.bIt("valueSaved",function(){core.eBV(_r6);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.onValueSaved())}),core.k0s()()}if(2&rf){const mdField_r8=ctx.$implicit,ctx_r1=core.XpG(2);core.R7$(3),core.JRh(mdField_r8),core.R7$(),core.Y8G("ngIf",ctx_r1.form.hasOrderChanges(mdField_r8)),core.R7$(),core.Y8G("dso",ctx_r1.dso)("form",ctx_r1.form)("dsoType",ctx_r1.dsoType)("saving$",ctx_r1.saving$)("draggingMdField$",ctx_r1.draggingMdField$)("mdField",mdField_r8)}}function DsoEditMetadataComponent_div_0_div_23_Template(rf,ctx){if(1&rf&&(core.j41(0,"div"),core.nrm(1,"ds-alert",35),core.k0s()),2&rf){const ctx_r1=core.XpG(2);core.R7$(),core.Y8G("content",ctx_r1.dsoType+".edit.metadata.empty")("type",ctx_r1.AlertTypeEnum.Info)}}function DsoEditMetadataComponent_div_0_button_26_Template(rf,ctx){if(1&rf){const _r9=core.RV6();core.j41(0,"button",36),core.nI1(1,"async"),core.nI1(2,"translate"),core.bIt("click",function(){core.eBV(_r9);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.reinstate())}),core.nrm(3,"i",21),core.EFF(4),core.nI1(5,"translate"),core.k0s()}if(2&rf){const ctx_r1=core.XpG(2);core.Y8G("disabled",core.bMT(1,3,ctx_r1.saving$))("title",core.bMT(2,5,ctx_r1.dsoType+".edit.metadata.reinstate-button")),core.R7$(4),core.SpI(" ",core.bMT(5,7,ctx_r1.dsoType+".edit.metadata.reinstate-button")," ")}}function DsoEditMetadataComponent_div_0_button_33_Template(rf,ctx){if(1&rf){const _r10=core.RV6();core.j41(0,"button",37),core.nI1(1,"translate"),core.nI1(2,"async"),core.bIt("click",function(){core.eBV(_r10);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.discard())}),core.nrm(3,"i",23),core.EFF(4),core.nI1(5,"translate"),core.k0s()}if(2&rf){const ctx_r1=core.XpG(2);core.Y8G("title",core.bMT(1,3,ctx_r1.dsoType+".edit.metadata.discard-button"))("disabled",!ctx_r1.hasChanges||core.bMT(2,5,ctx_r1.saving$)),core.R7$(4),core.SpI(" ",core.bMT(5,7,ctx_r1.dsoType+".edit.metadata.discard-button")," ")}}function DsoEditMetadataComponent_div_0_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"div",2)(1,"div",3)(2,"button",4),core.nI1(3,"async"),core.nI1(4,"translate"),core.bIt("click",function(){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.add())}),core.nrm(5,"i",5),core.j41(6,"span",6),core.EFF(7),core.nI1(8,"translate"),core.k0s()(),core.DNE(9,DsoEditMetadataComponent_div_0_button_9_Template,7,9,"button",7),core.j41(10,"button",8),core.nI1(11,"async"),core.nI1(12,"translate"),core.bIt("click",function(){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.submit())}),core.nrm(13,"i",9),core.j41(14,"span",6),core.EFF(15),core.nI1(16,"translate"),core.k0s()(),core.DNE(17,DsoEditMetadataComponent_div_0_button_17_Template,7,9,"button",10),core.k0s(),core.j41(18,"div",11),core.nI1(19,"translate"),core.nrm(20,"ds-dso-edit-metadata-headers",12),core.DNE(21,DsoEditMetadataComponent_div_0_div_21_Template,7,10,"div",13)(22,DsoEditMetadataComponent_div_0_div_22_Template,6,8,"div",14),core.k0s(),core.DNE(23,DsoEditMetadataComponent_div_0_div_23_Template,2,2,"div",1),core.j41(24,"div",15)(25,"div",16),core.DNE(26,DsoEditMetadataComponent_div_0_button_26_Template,6,9,"button",17),core.j41(27,"button",18),core.nI1(28,"async"),core.nI1(29,"translate"),core.bIt("click",function(){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.submit())}),core.nrm(30,"i",9),core.EFF(31),core.nI1(32,"translate"),core.k0s(),core.DNE(33,DsoEditMetadataComponent_div_0_button_33_Template,6,9,"button",19),core.k0s()()()}if(2&rf){const ctx_r1=core.XpG();core.R7$(2),core.Y8G("disabled",ctx_r1.form.newValue||core.bMT(3,18,ctx_r1.saving$))("title",core.bMT(4,20,ctx_r1.dsoType+".edit.metadata.add-button")),core.R7$(5),core.SpI("\xa0",core.bMT(8,22,ctx_r1.dsoType+".edit.metadata.add-button"),""),core.R7$(2),core.Y8G("ngIf",ctx_r1.isReinstatable),core.R7$(),core.Y8G("disabled",!ctx_r1.hasChanges||core.bMT(11,24,ctx_r1.saving$))("title",core.bMT(12,26,ctx_r1.dsoType+".edit.metadata.save-button")),core.R7$(5),core.SpI("\xa0",core.bMT(16,28,ctx_r1.dsoType+".edit.metadata.save-button"),""),core.R7$(2),core.Y8G("ngIf",!ctx_r1.isReinstatable),core.R7$(),core.BMQ("aria-label",core.bMT(19,30,"item.edit.head")),core.R7$(2),core.Y8G("dsoType",ctx_r1.dsoType),core.R7$(),core.Y8G("ngIf",ctx_r1.form.newValue),core.R7$(),core.Y8G("ngForOf",ctx_r1.form.fieldKeys),core.R7$(),core.Y8G("ngIf",ctx_r1.isEmpty&&!ctx_r1.form.newValue),core.R7$(3),core.Y8G("ngIf",ctx_r1.isReinstatable),core.R7$(),core.Y8G("disabled",!ctx_r1.hasChanges||core.bMT(28,32,ctx_r1.saving$))("title",core.bMT(29,34,ctx_r1.dsoType+".edit.metadata.save-button")),core.R7$(4),core.SpI(" ",core.bMT(32,36,ctx_r1.dsoType+".edit.metadata.save-button")," "),core.R7$(2),core.Y8G("ngIf",!ctx_r1.isReinstatable)}}function DsoEditMetadataComponent_ds_loading_1_Template(rf,ctx){1&rf&&core.nrm(0,"ds-loading")}let DsoEditMetadataComponent=(()=>{class DsoEditMetadataComponent2{constructor(route,notificationsService,translateService,parentInjector,arrayMoveChangeAnalyser,cdr,dataServiceMap){this.route=route,this.notificationsService=notificationsService,this.translateService=translateService,this.parentInjector=parentInjector,this.arrayMoveChangeAnalyser=arrayMoveChangeAnalyser,this.cdr=cdr,this.dataServiceMap=dataServiceMap,this.saving$=new cjs.BehaviorSubject(!1),this.draggingMdField$=new cjs.BehaviorSubject(null),this.loadingFieldValidation$=new cjs.BehaviorSubject(!1),this.AlertTypeEnum=alert_type.v}ngOnInit(){(0,empty_util.Tn)(this.dso)?this.dsoUpdateSubscription=(0,cjs.combineLatest)([this.route.data,this.route.parent.data]).pipe((0,operators.Tj)(([data,parentData])=>Object.assign({},data,parentData)),(0,operators.Mi)(data=>this.initDSO(data.dso.payload)),(0,operators.ZZ)(()=>this.retrieveDataService())).subscribe(dataService=>{this.initDataService(dataService),this.initForm()}):(this.initDSOType(this.dso),this.retrieveDataService().subscribe(dataService=>{this.initDataService(dataService),this.initForm()})),this.savingOrLoadingFieldValidation$=(0,cjs.combineLatest)([this.saving$,this.loadingFieldValidation$]).pipe((0,operators.Tj)(([saving,loading])=>saving||loading))}retrieveDataService(){return(0,empty_util.Tn)(this.updateDataService)?(0,lazy_data_service.M)(this.dataServiceMap,this.dsoType,this.parentInjector):(0,cjs.of)(this.updateDataService)}initDSO(object){this.dso=object,this.initDSOType(object)}initDSOType(object){let type;type="string"==typeof object.type?new resource_type.v(object.type):object.type,this.dsoType=type.value}initDataService(dataService){(0,empty_util.hj)(dataService)&&(this.updateDataService=dataService)}initForm(){this.form=new dso_edit_metadata_form.qf(this.dso.metadata),this.onValueSaved(),this.cdr.detectChanges()}onValueSaved(){this.hasChanges=this.form.hasChanges(),this.isReinstatable=this.form.isReinstatable(),this.isEmpty=0===Object.keys(this.form.fields).length}submit(){this.saving$.next(!0),this.updateDataService.patch(this.dso,this.form.getOperations(this.arrayMoveChangeAnalyser)).pipe((0,shared_operators.qD)()).subscribe(rd=>{this.saving$.next(!1),rd.hasFailed?this.notificationsService.error(this.translateService.instant(`${this.dsoType}.edit.metadata.notifications.error.title`),rd.errorMessage):(this.notificationsService.success(this.translateService.instant(`${this.dsoType}.edit.metadata.notifications.saved.title`),this.translateService.instant(`${this.dsoType}.edit.metadata.notifications.saved.content`)),this.dso=rd.payload,this.initForm())})}confirmNewValue(saved){saved&&this.setMetadataField()}setMetadataField(){this.form.resetReinstatable(),this.loadingFieldValidation$.next(!0),this.metadataFieldSelectorComponent.validate().subscribe(valid=>{this.loadingFieldValidation$.next(!1),valid&&(this.form.setMetadataField(this.newMdField),this.onValueSaved())})}add(){this.newMdField=void 0,this.form.add()}discard(){this.form.discard(),this.onValueSaved()}reinstate(){this.form.reinstate(),this.onValueSaved()}ngOnDestroy(){(0,empty_util.a4)(this.dsoUpdateSubscription)&&this.dsoUpdateSubscription.unsubscribe()}static#_=this.\u0275fac=function(t){return new(t||DsoEditMetadataComponent2)(core.rXU(router.nX),core.rXU(notifications_service.I),core.rXU(ngx_translate_core.c$),core.rXU(core.zZn),core.rXU(ArrayMoveChangeAnalyzer),core.rXU(core.gRc),core.rXU(app_config_interface.l9))};static#_2=this.\u0275cmp=core.VBU({type:DsoEditMetadataComponent2,selectors:[["ds-base-dso-edit-metadata"]],viewQuery:function(rf,ctx){if(1&rf&&core.GBs(metadata_field_selector_component.g,5),2&rf){let _t;core.mGM(_t=core.lsd())&&(ctx.metadataFieldSelectorComponent=_t.first)}},inputs:{dso:"dso",updateDataService:"updateDataService"},standalone:!0,features:[core.aNF],decls:2,vars:2,consts:[["class","item-metadata",4,"ngIf"],[4,"ngIf"],[1,"item-metadata"],[1,"button-row","top","d-flex","my-2","space-children-mr","ml-gap"],["id","dso-add-btn",1,"mr-auto","btn","btn-success",3,"click","disabled","title"],["aria-hidden","true",1,"fas","fa-plus"],[1,"d-none","d-sm-inline"],["class","btn btn-warning ml-1","id","dso-reinstate-btn",3,"disabled","title","click",4,"ngIf"],["id","dso-save-btn",1,"btn","btn-primary","ml-1",3,"click","disabled","title"],["aria-hidden","true",1,"fas","fa-save"],["class","btn btn-danger ml-1","id","dso-discard-btn",3,"title","disabled","click",4,"ngIf"],["role","table"],[3,"dsoType"],["class","d-flex flex-row ds-field-row","role","row",4,"ngIf"],["class","d-flex flex-row ds-field-row","role","row",4,"ngFor","ngForOf"],[1,"button-row","bottom","d-inline-block","w-100"],[1,"mt-2","float-right","space-children-mr","ml-gap"],["class","btn btn-warning",3,"disabled","title","click",4,"ngIf"],[1,"btn","btn-primary",3,"click","disabled","title"],["class","btn btn-danger",3,"title","disabled","click",4,"ngIf"],["id","dso-reinstate-btn",1,"btn","btn-warning","ml-1",3,"click","disabled","title"],["aria-hidden","true",1,"fas","fa-undo-alt"],["id","dso-discard-btn",1,"btn","btn-danger","ml-1",3,"click","title","disabled"],["aria-hidden","true",1,"fas","fa-times"],["role","row",1,"d-flex","flex-row","ds-field-row"],["role","rowheader",1,"lbl-cell","ds-success"],[3,"mdFieldChange","dsoType","mdField","autofocus"],["role","cell",1,"flex-grow-1","ds-drop-list"],["role","presentation",3,"dsoType"],[3,"confirm","remove","undo","dso","mdValue","dsoType","saving$","isOnlyValue","mdField"],["role","rowheader",1,"lbl-cell"],[1,"dont-break-out","preserve-line-breaks"],["class","btn btn-warning reset-order-button mt-2 w-100",3,"click",4,"ngIf"],["role","cell",1,"flex-grow-1",3,"valueSaved","dso","form","dsoType","saving$","draggingMdField$","mdField"],[1,"btn","btn-warning","reset-order-button","mt-2","w-100",3,"click"],[3,"content","type"],[1,"btn","btn-warning",3,"click","disabled","title"],[1,"btn","btn-danger",3,"click","title","disabled"]],template:function(rf,ctx){1&rf&&core.DNE(0,DsoEditMetadataComponent_div_0_Template,34,38,"div",0)(1,DsoEditMetadataComponent_ds_loading_1_Template,1,0,"ds-loading",1),2&rf&&(core.Y8G("ngIf",ctx.form),core.R7$(),core.Y8G("ngIf",!ctx.form))},dependencies:[common.bT,dso_edit_metadata_headers_component.L,metadata_field_selector_component.g,dso_edit_metadata_value_headers_component.c,dso_edit_metadata_value_component.o,common.pM,dso_edit_metadata_field_values_component.t,alert_component.C,themed_loading_component.v,common.Jj,ngx_translate_core.h,ngx_translate_core.D9],styles:[".lbl-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-field-width);max-width:var(--ds-dso-edit-field-width);background-color:var(--bs-gray-100);font-weight:700;padding:1rem;border:1px solid var(--bs-gray-200)}.lbl-cell.ds-success[_ngcontent-%COMP%]{background-color:var(--ds-success-bg);border:1px solid var(--bs-success)}.ds-field-row[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-400)}.reset-order-button[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return DsoEditMetadataComponent2})()},19844:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>MetadataFieldSelectorComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(84739),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(68014),_angular_forms__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(28955),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(43750),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10743),_core_cache_models_sort_options_model__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80685),_core_registry_registry_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10893),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(82656),_shared_empty_util__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(77028),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10117),_shared_utils_click_outside_directive__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(48442),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(32181);const _c0=["mdFieldInput"],_c1=a0=>({"is-invalid":a0}),_c2=a0=>({show:a0});function MetadataFieldSelectorComponent_div_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_4__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_4__.bMT(2,1,ctx_r1.dsoType+".edit.metadata.metadatafield.invalid"))}}function MetadataFieldSelectorComponent_div_8_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_4__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"div")(1,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(){const mdFieldOption_r4=_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(_r3).$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(ctx_r1.select(mdFieldOption_r4))}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nrm(2,"span",9),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()()}if(2&rf){const mdFieldOption_r4=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("innerHTML",mdFieldOption_r4,_angular_core__WEBPACK_IMPORTED_MODULE_4__.npT)}}let MetadataFieldSelectorComponent=(()=>{class MetadataFieldSelectorComponent2{constructor(registryService,notificationsService,translate){this.registryService=registryService,this.notificationsService=notificationsService,this.translate=translate,this.autofocus=!1,this.mdFieldChange=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.bkB,this.input=new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.hs,this.query$=new rxjs__WEBPACK_IMPORTED_MODULE_6__.BehaviorSubject(null),this.debounceTime=300,this.selectedValueLoading=!1,this.showInvalid=!1,this.subs=[]}ngOnInit(){this.subs.push(this.input.valueChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.BL)(this.debounceTime)).subscribe(valueChange=>{this.selectedValueLoading||this.query$.next(valueChange),this.selectedValueLoading=!1,this.mdField=valueChange,this.mdFieldChange.emit(this.mdField)})),this.mdFieldOptions$=this.query$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.F)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.nx)(query=>(this.showInvalid=!1,null!==query?this.registryService.queryMetadataFields(query,{elementsPerPage:10,sort:new _core_cache_models_sort_options_model__WEBPACK_IMPORTED_MODULE_0__.z("fieldName",_core_cache_models_sort_options_model__WEBPACK_IMPORTED_MODULE_0__.U.ASC)},!0,!1,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_8__.s)("schema")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.v7)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.LB)()):[[]])))}ngAfterViewInit(){this.autofocus&&this.mdFieldInput.nativeElement.focus()}validate(){return this.registryService.queryMetadataFields(this.mdField,null,!0,!1,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_8__.s)("schema")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.nx)(rd=>rd.hasSucceeded?(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(rd).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.LB)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Tj)(fields=>fields.indexOf(this.mdField)>-1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.Mi)(exists=>this.showInvalid=!exists)):(this.notificationsService.error(this.translate.instant(`${this.dsoType}.edit.metadata.metadatafield.error`),rd.errorMessage),[!1])))}select(mdFieldOption){this.selectedValueLoading=!0,this.input.setValue(mdFieldOption)}ngOnDestroy(){this.subs.filter(sub=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_9__.a4)(sub)).forEach(sub=>sub.unsubscribe())}static#_=this.\u0275fac=function(t){return new(t||MetadataFieldSelectorComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.rXU(_core_registry_registry_service__WEBPACK_IMPORTED_MODULE_1__.x),_angular_core__WEBPACK_IMPORTED_MODULE_4__.rXU(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__.I),_angular_core__WEBPACK_IMPORTED_MODULE_4__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.c$))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.VBU({type:MetadataFieldSelectorComponent2,selectors:[["ds-metadata-field-selector"]],viewQuery:function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.GBs(_c0,7),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_4__.mGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_4__.lsd())&&(ctx.mdFieldInput=_t.first)}},inputs:{dsoType:"dsoType",mdField:"mdField",autofocus:"autofocus"},outputs:{mdFieldChange:"mdFieldChange"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_4__.aNF],decls:10,vars:17,consts:[["mdFieldInput",""],[1,"w-100","position-relative"],["type","text",1,"form-control",3,"focusin","dsClickOutside","click","ngClass","value","formControl"],["class","invalid-feedback show-feedback",4,"ngIf"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],[1,"invalid-feedback","show-feedback"],[1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_4__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"div",1)(1,"input",2,0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("focusin",function(){return _angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(_r1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(ctx.query$.next(ctx.mdField))})("dsClickOutside",function(){return _angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(_r1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(ctx.query$.next(null))})("click",function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(_r1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj($event.stopPropagation())}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(4,MetadataFieldSelectorComponent_div_4_Template,3,3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(5,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nI1(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(7,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(8,MetadataFieldSelectorComponent_div_8_Template,3,1,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nI1(9,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()()()}if(2&rf){let tmp_6_0;_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_4__.eq3(13,_c1,ctx.showInvalid))("value",ctx.mdField)("formControl",ctx.input),_angular_core__WEBPACK_IMPORTED_MODULE_4__.BMQ("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_4__.bMT(3,7,ctx.dsoType+".edit.metadata.metadatafield")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngIf",ctx.showInvalid),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_4__.eq3(15,_c2,(null==(tmp_6_0=_angular_core__WEBPACK_IMPORTED_MODULE_4__.bMT(6,9,ctx.mdFieldOptions$))?null:tmp_6_0.length)>0)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.bMT(9,11,ctx.mdFieldOptions$))}},dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_5__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.me,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.BC,_angular_common__WEBPACK_IMPORTED_MODULE_11__.YU,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.X1,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.l_,_shared_utils_click_outside_directive__WEBPACK_IMPORTED_MODULE_12__.z,_angular_common__WEBPACK_IMPORTED_MODULE_11__.bT,_angular_common__WEBPACK_IMPORTED_MODULE_11__.pM,_angular_common__WEBPACK_IMPORTED_MODULE_11__.Jj,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.D9]})}return MetadataFieldSelectorComponent2})()},54990:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>ThemedDsoEditMetadataComponent}),__webpack_require__(48168);var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31260),_angular_core__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(12139),__webpack_require__(68014));const _c0=["*"];function ThemedDsoEditMetadataComponent_ng_template_0_Template(rf,ctx){}let ThemedDsoEditMetadataComponent=(()=>{class ThemedDsoEditMetadataComponent2 extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_1__.J{constructor(){super(...arguments),this.inAndOutputNames=["dso","updateDataService"]}getComponentName(){return"DsoEditMetadataComponent"}importThemedComponent(themeName){return __webpack_require__(30207)(`./${themeName}/app/dso-shared/dso-edit-metadata/dso-edit-metadata.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,12139))}static#_=this.\u0275fac=(()=>{let \u0275ThemedDsoEditMetadataComponent_BaseFactory;return function(t){return(\u0275ThemedDsoEditMetadataComponent_BaseFactory||(\u0275ThemedDsoEditMetadataComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_3__.xGo(ThemedDsoEditMetadataComponent2)))(t||ThemedDsoEditMetadataComponent2)}})();static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.VBU({type:ThemedDsoEditMetadataComponent2,selectors:[["ds-dso-edit-metadata"]],inputs:{dso:"dso",updateDataService:"updateDataService"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_3__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.DNE(0,ThemedDsoEditMetadataComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_3__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.k0s())},encapsulation:2})}return ThemedDsoEditMetadataComponent2})()},65925:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>ItemVersionsSharedService});var _shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10117),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(68014),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(43750);let ItemVersionsSharedService=(()=>{class ItemVersionsSharedService2{constructor(notificationsService,translateService){this.notificationsService=notificationsService,this.translateService=translateService}static msg(key){return"item.version.create.notification."+key}notifyCreateNewVersion(newVersionRD){const newVersionNumber=newVersionRD?.payload?.version;newVersionRD.hasSucceeded?this.notificationsService.success(null,this.translateService.get(ItemVersionsSharedService2.msg("success"),{version:newVersionNumber})):this.notificationsService.error(null,this.translateService.get(ItemVersionsSharedService2.msg(422===newVersionRD?.statusCode?"inProgress":"failure")))}static#_=this.\u0275fac=function(t){return new(t||ItemVersionsSharedService2)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.KVO(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_1__.KVO(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__.c$))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.jDH({token:ItemVersionsSharedService2,factory:ItemVersionsSharedService2.\u0275fac,providedIn:"root"})}return ItemVersionsSharedService2})()},32137:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>ItemVersionsSummaryModalComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(84739),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(68014),_angular_forms__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(28955),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(43750),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(74785),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32943),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(71781);const _c0=a0=>({version:a0});function ItemVersionsSummaryModalComponent_div_0_span_11_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_1__.i5U(2,1,"item.version.create.modal.text.startingFrom",_angular_core__WEBPACK_IMPORTED_MODULE_1__.eq3(4,_c0,ctx_r1.versionNumber))," ")}}function ItemVersionsSummaryModalComponent_div_0_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(0,"div")(1,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(4,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Njj(ctx_r1.onModalClose())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(5,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(7,"div",5)(8,"p",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(9),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(11,ItemVersionsSummaryModalComponent_div_0_span_11_Template,3,6,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(12,"div",8)(13,"label",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(15,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(16,"input",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(17,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.mxI("ngModelChange",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_1__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.DH7(ctx_r1.newVersionSummary,$event)||(ctx_r1.newVersionSummary=$event),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Njj($event)}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.bIt("keyup.enter",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Njj(ctx_r1.onModalSubmit())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(18,"div",11)(19,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(20,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Njj(ctx_r1.onModalClose())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nrm(21,"i",13),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(22),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(23,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(24,"button",14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(25,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Njj(ctx_r1.onModalSubmit())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nrm(26,"i",15),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(27),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(28,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SpI("",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(3,10,"item.version.create.modal.header")," "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(10,12,"item.version.create.modal.text")," "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y8G("ngIf",!ctx_r1.firstVersion),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SpI("",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(15,14,"item.version.create.modal.form.summary.label"),":"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.FS9("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(17,16,"item.version.create.modal.form.summary.placeholder")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R50("ngModel",ctx_r1.newVersionSummary),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.FS9("title",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(20,18,"item.version.create.modal.button.cancel.tooltip")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(23,20,"item.version.create.modal.button.cancel")," "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.FS9("title",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(25,22,"item.version.create.modal.button.confirm.tooltip")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(28,24,"item.version.create.modal.button.confirm")," ")}}function ItemVersionsSummaryModalComponent_ng_template_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(0,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(3,"div",5)(4,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.EFF(5),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(7,"div",16),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nrm(8,"ds-loading",17),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(2,3,"item.version.create.modal.submitted.header")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(6,5,"item.version.create.modal.submitted.text")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y8G("showMessage",!1))}let ItemVersionsSummaryModalComponent=(()=>{class ItemVersionsSummaryModalComponent2{constructor(activeModal){this.activeModal=activeModal,this.firstVersion=!0,this.createVersionEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.bkB}ngOnInit(){this.submitted$=new rxjs__WEBPACK_IMPORTED_MODULE_2__.BehaviorSubject(!1)}onModalClose(){this.activeModal.dismiss()}beforeDismiss(){return!this.submitted$.getValue()}onModalSubmit(){this.createVersionEvent.emit(this.newVersionSummary),this.submitted$.next(!0)}static#_=this.\u0275fac=function(t){return new(t||ItemVersionsSummaryModalComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.rXU(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__.Lw))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.VBU({type:ItemVersionsSummaryModalComponent2,selectors:[["ds-item-versions-summary-modal"]],outputs:{createVersionEvent:"createVersionEvent"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.aNF],decls:4,vars:4,consts:[["waiting",""],[4,"ngIf","ngIfElse"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"pb-2"],[4,"ngIf"],[1,"form-group"],["for","summary"],["type","text","id","summary",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],[1,"modal-footer","space-children-mr"],["type","button",1,"btn","btn-outline-secondary","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-times","fa-fw"],["type","submit",1,"btn","btn-success","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-check","fa-fw"],[1,"d-flex","justify-content-center"],[3,"showMessage"]],template:function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(0,ItemVersionsSummaryModalComponent_div_0_Template,29,26,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(2,ItemVersionsSummaryModalComponent_ng_template_2_Template,9,7,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.C5r)),2&rf){const waiting_r3=_angular_core__WEBPACK_IMPORTED_MODULE_1__.sdS(3);_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y8G("ngIf",!0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.bMT(1,2,ctx.submitted$))("ngIfElse",waiting_r3)}},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.bT,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.me,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.BC,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.vS,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_0__.v,_angular_common__WEBPACK_IMPORTED_MODULE_4__.Jj,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__.D9]})}return ItemVersionsSummaryModalComponent2})()},47357:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>ComColFormComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(84739),_angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(68014),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(43750),ng2_file_upload__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(38262),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(10743),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(41543),_core_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40017),_core_data_request_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(72744),_core_shared_community_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(61935),_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(82656),_confirmation_modal_confirmation_modal_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(32007),_empty_util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(77028),_form_form_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(49148),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10117),_upload_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(55361),_upload_uploader_uploader_options_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(32034),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(32181),_utils_var_directive__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(45961),_comcol_page_logo_comcol_page_logo_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(54337),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(71508),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(71781);function ComColFormComponent_ng_container_6_div_1_div_5_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"div",12)(1,"button",13),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.confirmLogoDeleteWithModal())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI("",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(3,1,"community.edit.logo.delete.title")," "))}function ComColFormComponent_ng_container_6_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"div",7)(1,"div",1)(2,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nrm(3,"ds-comcol-page-logo",9),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(4,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(5,ComColFormComponent_ng_container_6_div_1_div_5_Template,4,3,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()()()),2&rf){const logo_r3=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG().ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("alternateText",ctx_r1.type.value+".logo.alt")("logo",logo_r3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",logo_r3)}}function ComColFormComponent_ng_container_6_div_2_ds_uploader_1_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_10__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"ds-uploader",16),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("onCompleteItem",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r4);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.onCompleteItem())})("onUploadError",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r4);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.onUploadError())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ariaLabel",ctx_r1.type.value+".browse.logo")("dropMsg",ctx_r1.type.value+".edit.logo.upload")("dropOverDocumentMsg",ctx_r1.type.value+".edit.logo.upload")("enableDragOverDocument",!0)("uploadFilesOptions",ctx_r1.uploadFilesOptions)}}function ComColFormComponent_ng_container_6_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(1,ComColFormComponent_ng_container_6_div_2_ds_uploader_1_Template,1,5,"ds-uploader",15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(2,1,ctx_r1.initializedUploaderOptions))}}function ComColFormComponent_ng_container_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.qex(0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(1,ComColFormComponent_ng_container_6_div_1_Template,6,3,"div",5)(2,ComColFormComponent_ng_container_6_div_2_Template,3,3,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bVm()),2&rf){const logo_r3=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",logo_r3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",!logo_r3)}}function ComColFormComponent_ds_form_8_Template(rf,ctx){if(1&rf){const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_10__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"ds-form",17),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("submitForm",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r5);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.onSubmit())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(1,"button",18),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r5);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.back.emit())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nrm(2,"i",19),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("formId","comcol-form-id")("formModel",ctx_r1.formModel)("displayCancel",!1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(4,4,ctx_r1.type.value+".edit.return")," ")}}let ComColFormComponent=(()=>{class ComColFormComponent2{constructor(formService,translate,notificationsService,authService,requestService,objectCache,modalService){this.formService=formService,this.translate=translate,this.notificationsService=notificationsService,this.authService=authService,this.requestService=requestService,this.objectCache=objectCache,this.modalService=modalService,this.LABEL_KEY_PREFIX=".form.",this.ERROR_KEY_PREFIX=".form.errors.",this.uploadFilesOptions=Object.assign(new _upload_uploader_uploader_options_model__WEBPACK_IMPORTED_MODULE_8__.H,{autoUpload:!1}),this.submitForm=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.bkB,this.back=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.bkB,this.finish=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.bkB,this.initializedUploaderOptions=new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(!1),this.subs=[],this.uploader=new ng2_file_upload__WEBPACK_IMPORTED_MODULE_12__.l0(this.uploadFilesOptions),this.refreshDSO$=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.bkB}ngOnInit(){this.uploadFilesOptions.autoUpload=!this.isCreation,(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.formModel)&&(this.formModel.forEach(fieldModel=>{fieldModel.value=this.dso.firstMetadataValue(fieldModel.name)}),this.formGroup=this.formService.createFormGroup(this.formModel),this.updateFieldTranslations(),this.translate.onLangChange.subscribe(()=>{this.updateFieldTranslations()}),(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.dso.id)?this.subs.push((0,rxjs__WEBPACK_IMPORTED_MODULE_11__.combineLatest)([this.dsoService.getLogoEndpoint(this.dso.id),this.dso.logo]).subscribe(([href,logoRD])=>{this.uploadFilesOptions.url=href,this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.initializedUploaderOptions.next(!0)})):(this.uploadFilesOptions.url="placeholder",this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.initializedUploaderOptions.next(!0))),this.subs.push(this.refreshDSO$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_11__.switchMap)(()=>this.refreshDsoCache()),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.pb)(rd=>rd.hasSucceeded)).subscribe(({payload})=>this.dso=payload))}onSubmit(){const formMetadata={};this.formModel.forEach(fieldModel=>{const value={value:fieldModel.value,language:null};formMetadata.hasOwnProperty(fieldModel.name)?formMetadata[fieldModel.name].push(value):formMetadata[fieldModel.name]=[value]});const updatedDSO=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...formMetadata},type:_core_shared_community_model__WEBPACK_IMPORTED_MODULE_3__.E.type}),operations=[];this.formModel.forEach(fieldModel=>{fieldModel.value!==this.dso.firstMetadataValue(fieldModel.name)&&operations.push({op:"replace",path:`/metadata/${fieldModel.name}`,value:{value:fieldModel.value,language:null}})}),this.submitForm.emit(this.isCreation?{dso:updatedDSO,uploader:(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.uploaderComponent)?this.uploaderComponent.uploader:void 0,operations}:{dso:updatedDSO,operations})}updateFieldTranslations(){this.formModel.forEach(fieldModel=>{fieldModel.label=this.translate.instant(this.type.value+this.LABEL_KEY_PREFIX+fieldModel.id),(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(fieldModel.validators)&&(fieldModel.errorMessages={},Object.keys(fieldModel.validators).forEach(key=>{fieldModel.errorMessages[key]=this.translate.instant(this.type.value+this.ERROR_KEY_PREFIX+fieldModel.id+"."+key)}))})}confirmLogoDeleteWithModal(){const modalRef=this.createConfirmationModal();this.subscribeToConfirmationResponse(modalRef)}createConfirmationModal(){const modalRef=this.modalService.open(_confirmation_modal_confirmation_modal_component__WEBPACK_IMPORTED_MODULE_15__.M);return modalRef.componentInstance.headerLabel="community-collection.edit.logo.delete.title",modalRef.componentInstance.infoLabel="confirmation-modal.delete-community-collection-logo.info",modalRef.componentInstance.cancelLabel="form.cancel",modalRef.componentInstance.confirmLabel="community-collection.edit.logo.delete.title",modalRef.componentInstance.confirmIcon="fas fa-trash",modalRef.componentInstance.brandColor="danger",modalRef}subscribeToConfirmationResponse(modalRef){modalRef.componentInstance.response.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.s)(1)).subscribe(confirmed=>{confirmed&&this.handleLogoDeletion()})}handleLogoDeletion(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.dso.id)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.dso._links.logo)&&this.dsoService.deleteLogo(this.dso).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)()).subscribe(response=>{const errorMessageKey=`${this.type.value}.edit.logo.notifications.delete.error`;response.hasSucceeded?this.handleSuccessfulDeletion(`${this.type.value}.edit.logo.notifications.delete.success`):this.handleFailedDeletion(errorMessageKey,response.errorMessage)})}handleSuccessfulDeletion(successMessageKey){this.refreshDSO$.next(),this.notificationsService.success(this.translate.get(`${successMessageKey}.title`),this.translate.get(`${successMessageKey}.content`))}handleFailedDeletion(errorMessageKey,errorMessage){this.notificationsService.error(this.translate.get(`${errorMessageKey}.title`),errorMessage)}refreshDsoCache(){return this.clearDsoCache(),this.fetchUpdatedDso()}clearDsoCache(){this.requestService.setStaleByHrefSubstring(this.dso.id),this.objectCache.remove(this.dso._links.self.href)}fetchUpdatedDso(){return this.dsoService.findById(this.dso.id,!1,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_16__.s)("logo")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)())}onCompleteItem(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(this.dso.id)&&this.refreshDSO$.next(),this.isCreation&&this.finish.emit(),this.notificationsService.success(null,this.translate.get(this.type.value+".edit.logo.notifications.add.success"))}onUploadError(){this.notificationsService.error(null,this.translate.get(this.type.value+".edit.logo.notifications.add.error"))}ngOnDestroy(){this.refreshDSO$.complete(),this.subs.filter(subscription=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.a4)(subscription)).forEach(subscription=>subscription.unsubscribe())}static#_=this.\u0275fac=function(t){return new(t||ComColFormComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_17__.J9r),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__.I),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_0__.uR),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_core_data_request_service__WEBPACK_IMPORTED_MODULE_2__.B),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_core_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_1__.$),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_19__.Bq))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.VBU({type:ComColFormComponent2,selectors:[["ds-comcol-form"]],viewQuery:function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.GBs(_upload_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_7__.y,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_10__.mGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_10__.lsd())&&(ctx.uploaderComponent=_t.first)}},inputs:{dso:"dso",isCreation:"isCreation"},outputs:{submitForm:"submitForm",back:"back",finish:"finish"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.aNF],decls:9,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","d-inline-block","mb-1"],[4,"ngVar"],[3,"formId","formModel","displayCancel","submitForm",4,"ngIf"],["class","col-12 d-inline-block alert","id","logo-section",4,"ngIf"],["class","col-12 d-inline-block",4,"ngIf"],["id","logo-section",1,"col-12","d-inline-block","alert"],[1,"col-8","d-inline-block"],[3,"alternateText","logo"],[1,"col-4","d-inline-block"],["class","float-right",4,"ngIf"],[1,"float-right"],["type","button",1,"btn","btn-danger",3,"click"],[1,"col-12","d-inline-block"],[3,"ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError",4,"ngIf"],[3,"onCompleteItem","onUploadError","ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"submitForm","formId","formModel","displayCancel"],["before","","type","button",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"]],template:function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(6,ComColFormComponent_ng_container_6_Template,3,2,"ng-container",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(8,ComColFormComponent_ds_form_8_Template,5,6,"ds-form",4)),2&rf){let tmp_1_0;_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(5,3,ctx.type.value+".edit.logo.label")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngVar",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(7,5,null==ctx.dso?null:ctx.dso.logo))?null:tmp_1_0.payload),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",ctx.formModel)}},dependencies:[_form_form_component__WEBPACK_IMPORTED_MODULE_5__.s,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__.D9,_upload_uploader_uploader_component__WEBPACK_IMPORTED_MODULE_7__.y,_angular_common__WEBPACK_IMPORTED_MODULE_20__.Jj,_comcol_page_logo_comcol_page_logo_component__WEBPACK_IMPORTED_MODULE_9__.X,_angular_common__WEBPACK_IMPORTED_MODULE_20__.bT,_utils_var_directive__WEBPACK_IMPORTED_MODULE_21__.r]})}return ComColFormComponent2})()},49843:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>CreateComColPageComponent});var rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(10743),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45930),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(91735),_core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(57699),_core_data_comcol_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(65869),_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(83591),_core_data_request_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(72744),_core_services_route_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(86759),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(82656),_empty_util__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(77028),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10117),_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(68014),_angular_router__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(64247),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(43750);let CreateComColPageComponent=(()=>{class CreateComColPageComponent2{constructor(dsoDataService,dsoNameService,parentDataService,routeService,router,notificationsService,translate,requestService){this.dsoDataService=dsoDataService,this.dsoNameService=dsoNameService,this.parentDataService=parentDataService,this.routeService=routeService,this.router=router,this.notificationsService=notificationsService,this.translate=translate,this.requestService=requestService,this.isLoading$=new rxjs__WEBPACK_IMPORTED_MODULE_8__.BehaviorSubject(!1)}ngOnInit(){this.parentUUID$=this.routeService.getQueryParameterValue("parent"),this.parentUUID$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.s)(1)).subscribe(parentID=>{(0,_empty_util__WEBPACK_IMPORTED_MODULE_10__.hj)(parentID)&&(this.parentRD$=this.parentDataService.findById(parentID))})}onSubmit(event){this.isLoading$.next(!0);const dso=event.dso,uploader=event.uploader;this.parentUUID$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.ZZ)(uuid=>{const params=uuid?[new _core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_11__.x("parent",uuid)]:[];return this.dsoDataService.create(dso,...params).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.ak)())}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.ZZ)(dsoRD=>{if((0,_empty_util__WEBPACK_IMPORTED_MODULE_10__.EA)(dsoRD))return this.newUUID=dsoRD.uuid,uploader.queue.length>0?this.dsoDataService.getLogoEndpoint(this.newUUID).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Mi)(href=>{uploader.options.url=href,uploader.onCompleteAll=()=>{this.isLoading$.next(!1),this.navigateToNewPage(),this.notificationsService.success(null,this.translate.get(this.type.value+".create.notifications.success"))},uploader.uploadAll()}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.Tj)(()=>!1)):(this.dsoDataService.refreshCache(dsoRD),(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!0))})).subscribe(notify=>{notify&&(this.isLoading$.next(!1),this.navigateToNewPage(),this.notificationsService.success(null,this.translate.get(this.type.value+".create.notifications.success")))})}navigateToHome(){this.router.navigate([(0,_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.sB)()])}navigateToNewPage(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_10__.a4)(this.newUUID)&&this.router.navigate([this.frontendURL+this.newUUID])}static#_=this.\u0275fac=function(t){return new(t||CreateComColPageComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_core_data_comcol_data_service__WEBPACK_IMPORTED_MODULE_2__.x),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_1__.f),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_core_data_community_data_service__WEBPACK_IMPORTED_MODULE_3__.CommunityDataService),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_core_services_route_service__WEBPACK_IMPORTED_MODULE_5__.v$),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_13__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_7__.I),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_12__.rXU(_core_data_request_service__WEBPACK_IMPORTED_MODULE_4__.B))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_12__.VBU({type:CreateComColPageComponent2,selectors:[["ds-create-comcol"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_12__.aNF],decls:0,vars:0,template:function(rf,ctx){},encapsulation:2})}return CreateComColPageComponent2})()},84585:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>DeleteComColPageComponent});var rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10743),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(91735),_core_data_comcol_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(65869),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(82656),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10117),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(68014),_angular_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(64247),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(43750);let DeleteComColPageComponent=(()=>{class DeleteComColPageComponent2{constructor(dsoDataService,dsoNameService,router,route,notifications,translate){this.dsoDataService=dsoDataService,this.dsoNameService=dsoNameService,this.router=router,this.route=route,this.notifications=notifications,this.translate=translate,this.processing$=new rxjs__WEBPACK_IMPORTED_MODULE_4__.BehaviorSubject(!1)}ngOnInit(){this.dsoRD$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.$1)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.Tj)(data=>data.dso))}onConfirm(dso){this.processing$.next(!0),this.dsoDataService.delete(dso.id).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qD)()).subscribe(response=>{if(response.hasSucceeded){const successMessage=this.translate.instant(dso.type+".delete.notification.success");this.notifications.success(successMessage)}else{const errorMessage=this.translate.instant(dso.type+".delete.notification.fail");this.notifications.error(errorMessage)}this.router.navigate(["/"])})}onCancel(dso){this.router.navigate([this.frontendURL+"/"+dso.uuid+"/edit"])}static#_=this.\u0275fac=function(t){return new(t||DeleteComColPageComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_core_data_comcol_data_service__WEBPACK_IMPORTED_MODULE_1__.x),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__.f),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_7__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_7__.nX),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__.I),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__.c$))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_6__.VBU({type:DeleteComColPageComponent2,selectors:[["ds-delete-comcol"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_6__.aNF],decls:0,vars:0,template:function(rf,ctx){},encapsulation:2})}return DeleteComColPageComponent2})()},95297:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ComcolPageBrowseByComponent:()=>ComcolPageBrowseByComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(84739),_angular_forms__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(28955),_angular_router__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(64247),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(43750),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10743),_collection_page_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(72330),_community_page_community_page_routing_paths__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(27546),_core_browse_browse_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(97175),_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(82656),_empty_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(77028),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(68014);function ComcolPageBrowseByComponent_nav_3_a_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(0,"a",9),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()),2&rf){let tmp_4_0,tmp_7_0;const option_r2=ctx.$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_2__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_2__.AVh("active",(null==(tmp_4_0=_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(1,6,ctx_r2.currentOption$))?null:tmp_4_0.id)===option_r2.id),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y8G("routerLink",option_r2.routerLink)("queryParams",option_r2.params),_angular_core__WEBPACK_IMPORTED_MODULE_2__.BMQ("aria-current",(null==(tmp_7_0=_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(2,8,ctx_r2.currentOption$))?null:tmp_7_0.id)===option_r2.id),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(4,10,option_r2.label)," ")}}function ComcolPageBrowseByComponent_nav_3_option_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(0,"option",10),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()),2&rf){let tmp_5_0;const option_r4=ctx.$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_2__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y8G("value",option_r4.id),_angular_core__WEBPACK_IMPORTED_MODULE_2__.BMQ("selected",(null==(tmp_5_0=_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(1,3,ctx_r2.currentOption$))?null:tmp_5_0.id)===option_r4.id?"selected":null),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(3,5,option_r4.label)," ")}}function ComcolPageBrowseByComponent_nav_3_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_2__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(0,"nav",2)(1,"div",3)(2,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(3,ComcolPageBrowseByComponent_nav_3_a_3_Template,5,12,"a",5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(4,"div",6)(5,"select",7),_angular_core__WEBPACK_IMPORTED_MODULE_2__.bIt("change",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_2__.eBV(_r1);const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_2__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_2__.Njj(ctx_r2.onSelectChange($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(6,ComcolPageBrowseByComponent_nav_3_option_6_Template,4,7,"option",8),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s()()()}if(2&rf){const allOptions_r5=ctx.ngIf;_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y8G("ngForOf",allOptions_r5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y8G("ngForOf",allOptions_r5)}}let ComcolPageBrowseByComponent=(()=>{class ComcolPageBrowseByComponent2{constructor(router,browseService){this.router=router,this.browseService=browseService,this.currentOption$=new rxjs__WEBPACK_IMPORTED_MODULE_3__.BehaviorSubject(void 0),this.subs=[]}ngOnInit(){this.allOptions$=this.browseService.getBrowseDefinitions().pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.qD)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.Tj)(browseDefListRD=>{const allOptions=[];if(browseDefListRD.hasSucceeded){let comColRoute;"collection"===this.contentType?(comColRoute=(0,_collection_page_collection_page_routing_paths__WEBPACK_IMPORTED_MODULE_5__.JW)(this.id),allOptions.push({id:"search",label:"collection.page.browse.search.head",routerLink:comColRoute})):"community"===this.contentType&&(comColRoute=(0,_community_page_community_page_routing_paths__WEBPACK_IMPORTED_MODULE_6__.c5)(this.id),allOptions.push({id:"search",label:"collection.page.browse.search.head",routerLink:comColRoute}),allOptions.push({id:"comcols",label:"community.all-lists.head",routerLink:`${comColRoute}/subcoms-cols`})),allOptions.push(...browseDefListRD.payload.page.map(config=>({id:`browse_${config.id}`,label:`browse.comcol.by.${config.id}`,routerLink:`${comColRoute}/browse/${config.id}`})))}return allOptions})),this.subs.push((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.combineLatest)([this.allOptions$,this.router.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.ql)(this.router),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.pb)(next=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_7__.hj)(next?.url)||next?.type===_angular_router__WEBPACK_IMPORTED_MODULE_8__.Bx.Scroll),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.Tj)(next=>next?.url||next.routerEvent.urlAfterRedirects),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.F)())]).subscribe(([navOptions,url])=>{for(const option of navOptions)option.routerLink===url?.split("?")[0]&&this.currentOption$.next(option)}))}ngOnDestroy(){this.subs.forEach(sub=>sub.unsubscribe())}onSelectChange(event){this.allOptions$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.s)(1)).subscribe(allOptions=>{for(const option of allOptions)if(option.id===event.target.value){this.currentOption$.next(option[0]),this.router.navigate([option.routerLink],{queryParams:option.params});break}})}static#_=this.\u0275fac=function(t){return new(t||ComcolPageBrowseByComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_8__.Ix),_angular_core__WEBPACK_IMPORTED_MODULE_2__.rXU(_core_browse_browse_service__WEBPACK_IMPORTED_MODULE_0__.q))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.VBU({type:ComcolPageBrowseByComponent2,selectors:[["ds-base-comcol-page-browse-by"]],inputs:{id:"id",contentType:"contentType"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.aNF],decls:5,vars:6,consts:[[1,"comcol-browse-label"],["class","comcol-browse mb-4","aria-label","Browse Community or Collection",4,"ngIf"],["aria-label","Browse Community or Collection",1,"comcol-browse","mb-4"],[1,"d-none","d-sm-block"],["role","tablist",1,"list-group","list-group-horizontal"],["class","list-group-item","role","tab",3,"routerLink","queryParams","active",4,"ngFor","ngForOf"],[1,"d-block","d-sm-none"],["name","browse-type","aria-label","Browse Community or Collection",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],["role","tab",1,"list-group-item",3,"routerLink","queryParams"],[3,"value"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(0,"h2",0),_angular_core__WEBPACK_IMPORTED_MODULE_2__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(3,ComcolPageBrowseByComponent_nav_3_Template,7,2,"nav",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(4,"async")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(2,2,"browse.comcol.head")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y8G("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(4,4,ctx.allOptions$)))},dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_9__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_9__.xH,_angular_forms__WEBPACK_IMPORTED_MODULE_9__.y7,_angular_common__WEBPACK_IMPORTED_MODULE_10__.Sq,_angular_router__WEBPACK_IMPORTED_MODULE_8__.Wk,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.D9,_angular_common__WEBPACK_IMPORTED_MODULE_10__.Jj,_angular_common__WEBPACK_IMPORTED_MODULE_10__.bT]})}return ComcolPageBrowseByComponent2})()},7105:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>ThemedComcolPageBrowseByComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31260),_angular_core__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(95297),__webpack_require__(68014));const _c0=["*"];function ThemedComcolPageBrowseByComponent_ng_template_0_Template(rf,ctx){}let ThemedComcolPageBrowseByComponent=(()=>{class ThemedComcolPageBrowseByComponent2 extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.J{constructor(){super(...arguments),this.inAndOutputNames=["id","contentType"]}getComponentName(){return"ComcolPageBrowseByComponent"}importThemedComponent(themeName){return __webpack_require__(7754)(`./${themeName}/app/shared/comcol/comcol-page-browse-by/comcol-page-browse-by.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,95297))}static#_=this.\u0275fac=(()=>{let \u0275ThemedComcolPageBrowseByComponent_BaseFactory;return function(t){return(\u0275ThemedComcolPageBrowseByComponent_BaseFactory||(\u0275ThemedComcolPageBrowseByComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_2__.xGo(ThemedComcolPageBrowseByComponent2)))(t||ThemedComcolPageBrowseByComponent2)}})();static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.VBU({type:ThemedComcolPageBrowseByComponent2,selectors:[["ds-comcol-page-browse-by"]],inputs:{id:"id",contentType:"contentType"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_2__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.DNE(0,ThemedComcolPageBrowseByComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_2__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.k0s())},encapsulation:2})}return ThemedComcolPageBrowseByComponent2})()},48011:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>ThemedComcolPageContentComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31260),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(68014);const _c0=["*"];function ThemedComcolPageContentComponent_ng_template_0_Template(rf,ctx){}let ThemedComcolPageContentComponent=(()=>{class ThemedComcolPageContentComponent2 extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.J{constructor(){super(...arguments),this.inAndOutputNames=["title","content","hasInnerHtml"]}getComponentName(){return"ComcolPageContentComponent"}importThemedComponent(themeName){return __webpack_require__(41454)(`./${themeName}/app/shared/comcol/comcol-page-content/comcol-page-content.component`)}importUnthemedComponent(){return __webpack_require__.e(1573).then(__webpack_require__.bind(__webpack_require__,1573))}static#_=this.\u0275fac=(()=>{let \u0275ThemedComcolPageContentComponent_BaseFactory;return function(t){return(\u0275ThemedComcolPageContentComponent_BaseFactory||(\u0275ThemedComcolPageContentComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.xGo(ThemedComcolPageContentComponent2)))(t||ThemedComcolPageContentComponent2)}})();static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.VBU({type:ThemedComcolPageContentComponent2,selectors:[["ds-comcol-page-content"]],inputs:{title:"title",content:"content",hasInnerHtml:"hasInnerHtml"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_1__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(0,ThemedComcolPageContentComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s())},encapsulation:2})}return ThemedComcolPageContentComponent2})()},46763:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>ThemedComcolPageHandleComponent});var _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31260),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(68014);const _c0=["*"];function ThemedComcolPageHandleComponent_ng_template_0_Template(rf,ctx){}let ThemedComcolPageHandleComponent=(()=>{class ThemedComcolPageHandleComponent2 extends _theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.J{constructor(){super(...arguments),this.inAndOutputNames=["title","content"]}getComponentName(){return"ComcolPageHandleComponent"}importThemedComponent(themeName){return __webpack_require__(85830)(`./${themeName}/app/shared/comcol/comcol-page-handle/comcol-page-handle.component`)}importUnthemedComponent(){return __webpack_require__.e(3727).then(__webpack_require__.bind(__webpack_require__,83727))}static#_=this.\u0275fac=(()=>{let \u0275ThemedComcolPageHandleComponent_BaseFactory;return function(t){return(\u0275ThemedComcolPageHandleComponent_BaseFactory||(\u0275ThemedComcolPageHandleComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.xGo(ThemedComcolPageHandleComponent2)))(t||ThemedComcolPageHandleComponent2)}})();static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.VBU({type:ThemedComcolPageHandleComponent2,selectors:[["ds-comcol-page-handle"]],inputs:{title:"title",content:"content"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.Vt3,_angular_core__WEBPACK_IMPORTED_MODULE_1__.aNF],ngContentSelectors:_c0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(0,ThemedComcolPageHandleComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.C5r),_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(2,"div",null,1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.SdG(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s())},encapsulation:2})}return ThemedComcolPageHandleComponent2})()},61781:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>ComcolPageHeaderComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(84739),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(68014);function ComcolPageHeaderComponent_h1_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.j41(0,"h1"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.k0s()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_0__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.JRh(ctx_r0.name)}}let ComcolPageHeaderComponent=(()=>{class ComcolPageHeaderComponent2{static#_=this.\u0275fac=function(t){return new(t||ComcolPageHeaderComponent2)};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.VBU({type:ComcolPageHeaderComponent2,selectors:[["ds-comcol-page-header"]],inputs:{name:"name"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.aNF],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.DNE(0,ComcolPageHeaderComponent_h1_0_Template,2,1,"h1",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y8G("ngIf",ctx.name)},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_1__.bT]})}return ComcolPageHeaderComponent2})()},54337:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>ComcolPageLogoComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(84739),_angular_core__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(77381),__webpack_require__(68014));function ComcolPageLogoComponent_div_0_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_1__.j41(0,"div",1)(1,"img",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.bIt("error",function($event){_angular_core__WEBPACK_IMPORTED_MODULE_1__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Njj(ctx_r1.errorHandler($event))}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.k0s()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_1__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y8G("src",ctx_r1.logo._links.content.href,_angular_core__WEBPACK_IMPORTED_MODULE_1__.B4B),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BMQ("alt",ctx_r1.alternateText?ctx_r1.alternateText:null)}}let ComcolPageLogoComponent=(()=>{class ComcolPageLogoComponent2{constructor(){this.holderSource="data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2293%22%20height%3D%22120%22%20viewBox%3D%220%200%2093%20120%22%20preserveAspectRatio%3D%22none%22%3E%3C!--%0ASource%20URL%3A%20holder.js%2F93x120%3Ftext%3DNo%20Thumbnail%0ACreated%20with%20Holder.js%202.8.2.%0ALearn%20more%20at%20http%3A%2F%2Fholderjs.com%0A(c)%202012-2015%20Ivan%20Malopinsky%20-%20http%3A%2F%2Fimsky.co%0A--%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%3C!%5BCDATA%5B%23holder_1543e460b05%20text%20%7B%20fill%3A%23AAAAAA%3Bfont-weight%3Abold%3Bfont-family%3AArial%2C%20Helvetica%2C%20Open%20Sans%2C%20sans-serif%2C%20monospace%3Bfont-size%3A10pt%20%7D%20%5D%5D%3E%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_1543e460b05%22%3E%3Crect%20width%3D%2293%22%20height%3D%22120%22%20fill%3D%22%23EEEEEE%22%2F%3E%3Cg%3E%3Ctext%20x%3D%2235.6171875%22%20y%3D%2257%22%3ENo%3C%2Ftext%3E%3Ctext%20x%3D%2210.8125%22%20y%3D%2272%22%3EThumbnail%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E"}errorHandler(event){event.currentTarget.src=this.holderSource}static#_=this.\u0275fac=function(t){return new(t||ComcolPageLogoComponent2)};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.VBU({type:ComcolPageLogoComponent2,selectors:[["ds-comcol-page-logo"]],inputs:{logo:"logo",alternateText:"alternateText"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.aNF],decls:1,vars:1,consts:[["class","dso-logo mb-3",4,"ngIf"],[1,"dso-logo","mb-3"],[1,"w-100","img-fluid",3,"error","src"]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.DNE(0,ComcolPageLogoComponent_div_0_Template,2,2,"div",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y8G("ngIf",ctx.logo)},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.bT],styles:["img[_ngcontent-%COMP%]{max-width:var(--ds-comcol-logo-max-width);max-height:var(--ds-comcol-logo-max-height)}"]})}return ComcolPageLogoComponent2})()},39328:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>ComcolBrowseByComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(84739),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10743),_browse_by_browse_by_switcher_browse_by_switcher_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4456),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(68014),_angular_router__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(64247);let ComcolBrowseByComponent=(()=>{class ComcolBrowseByComponent2{constructor(route){this.route=route}ngOnInit(){this.browseByType$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.Tj)(data=>data.browseDefinition.getRenderType())),this.scope$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.Tj)(data=>data.scope))}static#_=this.\u0275fac=function(t){return new(t||ComcolBrowseByComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_3__.nX))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.VBU({type:ComcolBrowseByComponent2,selectors:[["ds-comcol-browse-by"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.aNF],decls:3,vars:7,consts:[[3,"browseByType","displayTitle","scope"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.nrm(0,"ds-browse-by-switcher",0),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.nI1(2,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y8G("browseByType",_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(1,3,ctx.browseByType$))("displayTitle",!1)("scope",_angular_core__WEBPACK_IMPORTED_MODULE_2__.bMT(2,5,ctx.scope$))},dependencies:[_browse_by_browse_by_switcher_browse_by_switcher_component__WEBPACK_IMPORTED_MODULE_0__.e,_angular_common__WEBPACK_IMPORTED_MODULE_4__.Jj]})}return ComcolBrowseByComponent2})()},78214:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>ComcolSearchSectionComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(84739),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10743),_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59945),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(90435),_my_dspace_page_my_dspace_configuration_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3581),_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(77028),_search_themed_search_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(84057),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(68014),_angular_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(64247);let ComcolSearchSectionComponent=(()=>{class ComcolSearchSectionComponent2{constructor(appConfig,route){this.appConfig=appConfig,this.route=route}ngOnInit(){this.comcol$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.Tj)(data=>data.dso.payload)),this.showSidebar$=this.comcol$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.Tj)(comcol=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.a4)(comcol)&&this.appConfig[comcol.type].searchSection.showSidebar))}static#_=this.\u0275fac=function(t){return new(t||ComcolSearchSectionComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__.vQ),_angular_core__WEBPACK_IMPORTED_MODULE_6__.rXU(_angular_router__WEBPACK_IMPORTED_MODULE_7__.nX))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_6__.VBU({type:ComcolSearchSectionComponent2,selectors:[["ds-comcol-search-section"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_6__.Jv_([{provide:_my_dspace_page_my_dspace_configuration_service__WEBPACK_IMPORTED_MODULE_2__.EN,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.g}]),_angular_core__WEBPACK_IMPORTED_MODULE_6__.aNF],decls:4,vars:11,consts:[[3,"configuration","showSidebar","showScopeSelector","hideScopeInUrl","scope"]],template:function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.nrm(0,"ds-search",0),_angular_core__WEBPACK_IMPORTED_MODULE_6__.nI1(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.nI1(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.nI1(3,"async")),2&rf){let tmp_0_0,tmp_4_0;_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y8G("configuration",null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_6__.bMT(1,5,ctx.comcol$))?null:tmp_0_0.type)("showSidebar",_angular_core__WEBPACK_IMPORTED_MODULE_6__.bMT(2,7,ctx.showSidebar$))("showScopeSelector",!1)("hideScopeInUrl",!0)("scope",null==(tmp_4_0=_angular_core__WEBPACK_IMPORTED_MODULE_6__.bMT(3,9,ctx.comcol$))?null:tmp_4_0.id)}},dependencies:[_search_themed_search_component__WEBPACK_IMPORTED_MODULE_3__.N,_angular_common__WEBPACK_IMPORTED_MODULE_8__.Jj]})}return ComcolSearchSectionComponent2})()},34615:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>dsoEditMenuResolver});var core=__webpack_require__(68014),cjs=__webpack_require__(74785),operators=__webpack_require__(10743),app_routing_paths=__webpack_require__(45930),dspace_object_data_service=__webpack_require__(78358),authorization_data_service=__webpack_require__(30289),feature_id=__webpack_require__(29321),researcher_profile_data_service=__webpack_require__(64961),collection_model=__webpack_require__(28410),community_model=__webpack_require__(61935),item_model=__webpack_require__(6721),shared_operators=__webpack_require__(82656),correctiontype_data_service=__webpack_require__(71870),url_combiner=__webpack_require__(1828),empty_util=__webpack_require__(77028),menu_service=__webpack_require__(90547),menu_id_model=__webpack_require__(7417),menu_item_type_model=__webpack_require__(80122),notifications_service=__webpack_require__(10117),subscription_modal_component=__webpack_require__(5426),item_data_service=__webpack_require__(94743),version_data_service=__webpack_require__(80148),version_history_data_service=__webpack_require__(1555),workspaceitem_data_service=__webpack_require__(2402),item_versions_shared_service=__webpack_require__(65925),item_versions_summary_modal_component=__webpack_require__(32137),ng_bootstrap=__webpack_require__(71781),router=__webpack_require__(64247);let DsoVersioningModalService=(()=>{class DsoVersioningModalService2{constructor(modalService,versionService,versionHistoryService,itemVersionShared,router2,workspaceItemDataService,itemService){this.modalService=modalService,this.versionService=versionService,this.versionHistoryService=versionHistoryService,this.itemVersionShared=itemVersionShared,this.router=router2,this.workspaceItemDataService=workspaceItemDataService,this.itemService=itemService}openCreateVersionModal(dso){const item=dso,versionHref=item._links.version.href,activeModal=this.modalService.open(item_versions_summary_modal_component.L);this.versionService.findByHref(versionHref).pipe((0,shared_operators.qD)()).subscribe(res=>{activeModal.componentInstance.firstVersion=res.hasNoContent,activeModal.componentInstance.versionNumber=res.hasNoContent?void 0:res.payload.version}),activeModal.componentInstance.createVersionEvent.pipe((0,operators.nx)(summary=>this.versionHistoryService.createVersion(item._links.self.href,summary)),(0,shared_operators.qD)(),(0,operators.Mi)(()=>activeModal.close()),(0,operators.Mi)(res=>{this.itemVersionShared.notifyCreateNewVersion(res)}),(0,shared_operators.ak)(),(0,operators.nx)(newVersion=>this.itemService.findByHref(newVersion._links.item.href)),(0,shared_operators.ak)(),(0,operators.nx)(newVersionItem=>this.workspaceItemDataService.findByItem(newVersionItem.uuid,!0,!1)),(0,shared_operators.ak)()).subscribe(wsItem=>{this.router.navigateByUrl("workspaceitems/"+wsItem.id+"/edit")})}isNewVersionButtonDisabled(dso){return this.versionHistoryService.hasDraftVersion$(dso._links.version.href).pipe((0,operators.Tj)(res=>!!res))}getVersioningTooltipMessage(dso,tooltipMsgHasDraft,tooltipMsgCreate){return this.isNewVersionButtonDisabled(dso).pipe((0,operators.nx)(hasDraftVersion=>(0,cjs.of)(hasDraftVersion?tooltipMsgHasDraft:tooltipMsgCreate)))}static#_=this.\u0275fac=function(t){return new(t||DsoVersioningModalService2)(core.KVO(ng_bootstrap.Bq),core.KVO(version_data_service.VersionDataService),core.KVO(version_history_data_service.VersionHistoryDataService),core.KVO(item_versions_shared_service.h),core.KVO(router.Ix),core.KVO(workspaceitem_data_service.WorkspaceitemDataService),core.KVO(item_data_service.ItemDataService))};static#_2=this.\u0275prov=core.jDH({token:DsoVersioningModalService2,factory:DsoVersioningModalService2.\u0275fac,providedIn:"root"})}return DsoVersioningModalService2})();var dso_withdrawn_reinstate_modal_service=__webpack_require__(19941),ngx_translate_core=__webpack_require__(43750);let DSOEditMenuResolverService=(()=>{class DSOEditMenuResolverService2{constructor(dSpaceObjectDataService,menuService,authorizationService,modalService,dsoVersioningModalService,researcherProfileService,notificationsService,translate,dsoWithdrawnReinstateModalService,correctionTypeDataService){this.dSpaceObjectDataService=dSpaceObjectDataService,this.menuService=menuService,this.authorizationService=authorizationService,this.modalService=modalService,this.dsoVersioningModalService=dsoVersioningModalService,this.researcherProfileService=researcherProfileService,this.notificationsService=notificationsService,this.translate=translate,this.dsoWithdrawnReinstateModalService=dsoWithdrawnReinstateModalService,this.correctionTypeDataService=correctionTypeDataService}resolve(route,state){let id=route.params.id;return(0,empty_util.Tn)(id)&&(0,empty_util.a4)(route.queryParams.scope)&&(id=route.queryParams.scope),(0,empty_util.Tn)(id)?(0,cjs.of)({...route.data?.menu}):this.dSpaceObjectDataService.findById(id,!0,!1).pipe((0,shared_operators.qD)(),(0,operators.nx)(dsoRD=>{if(dsoRD.hasSucceeded){const dso=dsoRD.payload;return(0,cjs.combineLatest)(this.getDsoMenus(dso,route,state)).pipe((0,operators.Tj)(combinedMenus=>[].concat.apply([],combinedMenus)),(0,operators.Tj)(menus=>this.addDsoUuidToMenuIDs(menus,dso)),(0,operators.Tj)(menus=>({...route.data?.menu,[menu_id_model.D.DSO_EDIT]:menus})))}return(0,cjs.of)({...route.data?.menu})}))}getDsoMenus(dso,route,state){return[this.getItemMenu(dso),this.getComColMenu(dso),this.getCommonMenu(dso,state)]}getCommonMenu(dso,state){return(0,cjs.combineLatest)([this.authorizationService.isAuthorized(feature_id._.CanEditMetadata,dso.self)]).pipe((0,operators.Tj)(([canEditItem])=>[{id:"edit-dso",active:!1,visible:canEditItem,model:{type:menu_item_type_model.x.LINK,text:this.getDsoType(dso)+".page.edit",link:new url_combiner.t((0,app_routing_paths.wN)(dso),"edit","metadata").toString()},icon:"pencil-alt",index:2}]))}getItemMenu(dso){return dso instanceof item_model.q?(0,cjs.combineLatest)([this.authorizationService.isAuthorized(feature_id._.CanCreateVersion,dso.self),this.dsoVersioningModalService.isNewVersionButtonDisabled(dso),this.dsoVersioningModalService.getVersioningTooltipMessage(dso,"item.page.version.hasDraft","item.page.version.create"),this.authorizationService.isAuthorized(feature_id._.CanSynchronizeWithORCID,dso.self),this.authorizationService.isAuthorized(feature_id._.CanClaimItem,dso.self),this.correctionTypeDataService.findByItem(dso.uuid,!1).pipe((0,shared_operators.qD)(),(0,shared_operators.Bo)())]).pipe((0,operators.Tj)(([canCreateVersion,disableVersioning,versionTooltip,canSynchronizeWithOrcid,canClaimItem,correction])=>{const isPerson="person"===this.getDsoType(dso);return[{id:"orcid-dso",active:!1,visible:isPerson&&canSynchronizeWithOrcid,model:{type:menu_item_type_model.x.LINK,text:"item.page.orcid.tooltip",link:new url_combiner.t((0,app_routing_paths.wN)(dso),"orcid").toString()},icon:"orcid fab fa-lg",index:0},{id:"version-dso",active:!1,visible:canCreateVersion,model:{type:menu_item_type_model.x.ONCLICK,text:versionTooltip,disabled:disableVersioning,function:()=>{this.dsoVersioningModalService.openCreateVersionModal(dso)}},icon:"code-branch",index:1},{id:"claim-dso",active:!1,visible:isPerson&&canClaimItem,model:{type:menu_item_type_model.x.ONCLICK,text:"item.page.claim.button",function:()=>{this.claimResearcher(dso)}},icon:"hand-paper",index:3},{id:"withdrawn-item",active:!1,visible:dso.isArchived&&correction?.page.some(c=>c.topic===dso_withdrawn_reinstate_modal_service.pc),model:{type:menu_item_type_model.x.ONCLICK,text:"item.page.withdrawn",function:()=>{this.dsoWithdrawnReinstateModalService.openCreateWithdrawnReinstateModal(dso,"request-withdrawn",dso.isArchived)}},icon:"eye-slash",index:4},{id:"reinstate-item",active:!1,visible:dso.isWithdrawn&&correction?.page.some(c=>c.topic===dso_withdrawn_reinstate_modal_service.el),model:{type:menu_item_type_model.x.ONCLICK,text:"item.page.reinstate",function:()=>{this.dsoWithdrawnReinstateModalService.openCreateWithdrawnReinstateModal(dso,"request-reinstate",dso.isArchived)}},icon:"eye",index:5}]})):(0,cjs.of)([])}getComColMenu(dso){return dso instanceof community_model.E||dso instanceof collection_model.p?(0,cjs.combineLatest)([this.authorizationService.isAuthorized(feature_id._.CanSubscribe,dso.self)]).pipe((0,operators.Tj)(([canSubscribe])=>[{id:"subscribe",active:!1,visible:canSubscribe,model:{type:menu_item_type_model.x.ONCLICK,text:"subscriptions.tooltip",function:()=>{this.modalService.open(subscription_modal_component.w).componentInstance.dso=dso}},icon:"bell",index:4}])):(0,cjs.of)([])}claimResearcher(dso){this.researcherProfileService.createFromExternalSourceAndReturnRelatedItemId(dso.self).subscribe(id=>{(0,empty_util.hj)(id)?(this.notificationsService.success(this.translate.get("researcherprofile.success.claim.title"),this.translate.get("researcherprofile.success.claim.body")),this.authorizationService.invalidateAuthorizationsRequestCache(),this.menuService.hideMenuSection(menu_id_model.D.DSO_EDIT,"claim-dso-"+dso.uuid)):this.notificationsService.error(this.translate.get("researcherprofile.error.claim.title"),this.translate.get("researcherprofile.error.claim.body"))})}getDsoType(dso){const renderType=dso.getRenderTypes()[0];return"string"==typeof renderType||renderType instanceof String?renderType.toLowerCase():dso.type.toString().toLowerCase()}addDsoUuidToMenuIDs(menus,dso){return menus.map(menu=>(Object.assign(menu,{id:menu.id+"-"+dso.uuid}),(0,empty_util.a4)(menu.parentID)&&Object.assign(menu,{parentID:menu.parentID+"-"+dso.uuid}),menu))}static#_=this.\u0275fac=function(t){return new(t||DSOEditMenuResolverService2)(core.KVO(dspace_object_data_service.DSpaceObjectDataService),core.KVO(menu_service.$),core.KVO(authorization_data_service.AuthorizationDataService),core.KVO(ng_bootstrap.Bq),core.KVO(DsoVersioningModalService),core.KVO(researcher_profile_data_service.ResearcherProfileDataService),core.KVO(notifications_service.I),core.KVO(ngx_translate_core.c$),core.KVO(dso_withdrawn_reinstate_modal_service.Ee),core.KVO(correctiontype_data_service.CorrectionTypeDataService))};static#_2=this.\u0275prov=core.jDH({token:DSOEditMenuResolverService2,factory:DSOEditMenuResolverService2.\u0275fac,providedIn:"root"})}return DSOEditMenuResolverService2})();const dsoEditMenuResolver=(route,state,menuResolverService=(0,core.WQX)(DSOEditMenuResolverService))=>menuResolverService.resolve(route,state)},19941:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ee:()=>DsoWithdrawnReinstateModalService,el:()=>REQUEST_REINSTATE,pc:()=>REQUEST_WITHDRAWN});var operators=__webpack_require__(10743),authorization_data_service=__webpack_require__(30289),item_data_service=__webpack_require__(94743),quality_assurance_event_data_service=__webpack_require__(77231),shared_operators=__webpack_require__(82656),common=__webpack_require__(84739),core=__webpack_require__(68014),fesm2022_forms=__webpack_require__(28955),ngx_translate_core=__webpack_require__(43750),cjs=__webpack_require__(74785),themed_loading_component=__webpack_require__(32943),ng_bootstrap=__webpack_require__(71781);function ItemWithdrawnReinstateModalComponent_div_0_div_1_Template(rf,ctx){if(1&rf){const _r2=core.RV6();core.j41(0,"div",13),core.EFF(1),core.nI1(2,"translate"),core.j41(3,"button",14),core.bIt("click",function(){core.eBV(_r2);const ctx_r2=core.XpG(2);return core.Njj(ctx_r2.onModalClose())}),core.j41(4,"span",15),core.EFF(5,"\xd7"),core.k0s()()()}2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"item.qa.withdrawn.modal.header")," "))}function ItemWithdrawnReinstateModalComponent_div_0_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"div"),core.DNE(1,ItemWithdrawnReinstateModalComponent_div_0_div_1_Template,6,3,"div",3),core.j41(2,"div",4)(3,"div",5)(4,"label",6),core.EFF(5),core.nI1(6,"translate"),core.nI1(7,"translate"),core.k0s(),core.j41(8,"label",6),core.EFF(9),core.nI1(10,"translate"),core.nI1(11,"translate"),core.k0s(),core.j41(12,"textarea",7),core.nI1(13,"translate"),core.nI1(14,"translate"),core.mxI("ngModelChange",function($event){core.eBV(_r1);const ctx_r2=core.XpG();return core.DH7(ctx_r2.reason,$event)||(ctx_r2.reason=$event),core.Njj($event)}),core.k0s()()(),core.j41(15,"div",8)(16,"button",9),core.nI1(17,"translate"),core.bIt("click",function(){core.eBV(_r1);const ctx_r2=core.XpG();return core.Njj(ctx_r2.onModalClose())}),core.nrm(18,"i",10),core.EFF(19),core.nI1(20,"translate"),core.k0s(),core.j41(21,"button",11),core.nI1(22,"translate"),core.bIt("click",function(){core.eBV(_r1);const ctx_r2=core.XpG();return core.Njj(ctx_r2.onModalSubmit())}),core.nrm(23,"i",12),core.EFF(24),core.nI1(25,"translate"),core.nI1(26,"translate"),core.k0s()()()}if(2&rf){const ctx_r2=core.XpG(),reinstateHeader_r4=core.sdS(5);core.R7$(),core.Y8G("ngIf",ctx_r2.canWithdraw)("ngIfElse",reinstateHeader_r4),core.R7$(4),core.JRh(ctx_r2.canWithdraw?core.bMT(6,10,"qa-withdrawn.create.modal.form.summary.label"):core.bMT(7,12,"qa-reinstate.create.modal.form.summary.label")),core.R7$(4),core.JRh(ctx_r2.canWithdraw?core.bMT(10,14,"qa-withdrawn.create.modal.form.summary2.label"):core.bMT(11,16,"qa-reinstate.create.modal.form.summary2.label")),core.R7$(3),core.FS9("placeholder",ctx_r2.canWithdraw?core.bMT(13,18,"qa-withdrown.modal.form.summary.placeholder"):core.bMT(14,20,"qa-reinstate.modal.form.summary.placeholder")),core.R50("ngModel",ctx_r2.reason),core.R7$(4),core.FS9("title",core.bMT(17,22,"item.qa.withdrawn-reinstate.create.modal.button.cancel.tooltip")),core.R7$(3),core.SpI(" ",core.bMT(20,24,"item.qa.withdrawn-reinstate.create.modal.button.cancel")," "),core.R7$(2),core.FS9("title",core.bMT(22,26,"item.qa.withdrawn-reinstate.modal.button.confirm.tooltip")),core.R7$(3),core.SpI(" ",ctx_r2.canWithdraw?core.bMT(25,28,"qa-withdrown.create.modal.button.confirm"):core.bMT(26,30,"qa-reinstate.create.modal.button.confirm")," ")}}function ItemWithdrawnReinstateModalComponent_ng_template_2_Template(rf,ctx){1&rf&&(core.j41(0,"div",13),core.EFF(1),core.nI1(2,"translate"),core.k0s(),core.j41(3,"div",4)(4,"div",16),core.nrm(5,"ds-loading",17),core.k0s()()),2&rf&&(core.R7$(),core.JRh(core.bMT(2,2,"item.qa.withdrawn.modal.submitted.header")),core.R7$(4),core.Y8G("showMessage",!1))}function ItemWithdrawnReinstateModalComponent_ng_template_4_div_0_Template(rf,ctx){if(1&rf){const _r5=core.RV6();core.j41(0,"div",13),core.EFF(1),core.nI1(2,"translate"),core.j41(3,"button",14),core.bIt("click",function(){core.eBV(_r5);const ctx_r2=core.XpG(2);return core.Njj(ctx_r2.onModalClose())}),core.j41(4,"span",15),core.EFF(5,"\xd7"),core.k0s()()()}2&rf&&(core.R7$(),core.SpI(" ",core.bMT(2,1,"item.qa.reinstate.modal.header")," "))}function ItemWithdrawnReinstateModalComponent_ng_template_4_Template(rf,ctx){if(1&rf&&core.DNE(0,ItemWithdrawnReinstateModalComponent_ng_template_4_div_0_Template,6,3,"div",18),2&rf){const ctx_r2=core.XpG();core.Y8G("ngIf",!ctx_r2.canWithdraw)}}let ItemWithdrawnReinstateModalComponent=(()=>{class ItemWithdrawnReinstateModalComponent2{constructor(activeModal,authorizationService){this.activeModal=activeModal,this.authorizationService=authorizationService,this.submitted$=new cjs.BehaviorSubject(!1),this.createQAEvent=new core.bkB}onModalClose(){this.activeModal.close()}beforeDismiss(){return!this.submitted$.getValue()}onModalSubmit(){this.submitted$.next(!0),this.createQAEvent.emit(this.reason)}setWithdraw(state){this.canWithdraw=state}static#_=this.\u0275fac=function(t){return new(t||ItemWithdrawnReinstateModalComponent2)(core.rXU(ng_bootstrap.Lw),core.rXU(authorization_data_service.AuthorizationDataService))};static#_2=this.\u0275cmp=core.VBU({type:ItemWithdrawnReinstateModalComponent2,selectors:[["ds-item-withdrawn-reinstate-modal"]],outputs:{createQAEvent:"createQAEvent"},standalone:!0,features:[core.aNF],decls:6,vars:4,consts:[["waiting",""],["reinstateHeader",""],[4,"ngIf","ngIfElse"],["class","modal-header",4,"ngIf","ngIfElse"],[1,"modal-body"],[1,"form-group"],["for","reason"],["id","reason","rows","6","name","message",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"modal-footer","space-children-mr"],["type","button",1,"btn","btn-outline-secondary","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-times","fa-fw"],["type","submit",1,"btn","btn-success","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-check","fa-fw"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"d-flex","justify-content-center"],[3,"showMessage"],["class","modal-header",4,"ngIf"]],template:function(rf,ctx){if(1&rf&&(core.DNE(0,ItemWithdrawnReinstateModalComponent_div_0_Template,27,32,"div",2),core.nI1(1,"async"),core.DNE(2,ItemWithdrawnReinstateModalComponent_ng_template_2_Template,6,4,"ng-template",null,0,core.C5r)(4,ItemWithdrawnReinstateModalComponent_ng_template_4_Template,1,1,"ng-template",null,1,core.C5r)),2&rf){const waiting_r6=core.sdS(3);core.Y8G("ngIf",!0!==core.bMT(1,2,ctx.submitted$))("ngIfElse",waiting_r6)}},dependencies:[common.bT,ngx_translate_core.h,ngx_translate_core.D9,themed_loading_component.v,fesm2022_forms.YN,fesm2022_forms.me,fesm2022_forms.BC,fesm2022_forms.vS,common.Jj]})}return ItemWithdrawnReinstateModalComponent2})();var notifications_service=__webpack_require__(10117),router=__webpack_require__(64247);const REQUEST_WITHDRAWN="REQUEST/WITHDRAWN",REQUEST_REINSTATE="REQUEST/REINSTATE";let DsoWithdrawnReinstateModalService=(()=>{class DsoWithdrawnReinstateModalService2{constructor(router2,modalService,itemService,notificationsService,authorizationService,translateService,qaEventDataService){this.router=router2,this.modalService=modalService,this.itemService=itemService,this.notificationsService=notificationsService,this.authorizationService=authorizationService,this.translateService=translateService,this.qaEventDataService=qaEventDataService}openCreateWithdrawnReinstateModal(dso,correctionType,state){const target=dso.id,activeModal=this.modalService.open(ItemWithdrawnReinstateModalComponent);activeModal.componentInstance.setWithdraw(state),activeModal.componentInstance.createQAEvent.pipe((0,operators.s)(1)).subscribe(reasone=>{this.sendQARequest(target,correctionType,reasone),activeModal.close()})}sendQARequest(target,correctionType,reason){this.qaEventDataService.postData(target,correctionType,"",reason).pipe((0,shared_operators.qD)()).subscribe(res=>{res.hasSucceeded?(this.notificationsService.success(this.translateService.get("request-withdrawn"===correctionType?"correction-type.manage-relation.action.notification.withdrawn":"correction-type.manage-relation.action.notification.reinstate")),this.authorizationService.invalidateAuthorizationsRequestCache(),this.reloadPage(!0)):this.notificationsService.error(this.translateService.get("correction-type.manage-relation.action.notification.error"))})}reloadPage(self,urlToNavigateTo){const url=self?this.router.url:urlToNavigateTo;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([`/${url}`])})}static#_=this.\u0275fac=function(t){return new(t||DsoWithdrawnReinstateModalService2)(core.KVO(router.Ix),core.KVO(ng_bootstrap.Bq),core.KVO(item_data_service.ItemDataService),core.KVO(notifications_service.I),core.KVO(authorization_data_service.AuthorizationDataService),core.KVO(ngx_translate_core.c$),core.KVO(quality_assurance_event_data_service.QualityAssuranceEventDataService))};static#_2=this.\u0275prov=core.jDH({token:DsoWithdrawnReinstateModalService2,factory:DsoWithdrawnReinstateModalService2.\u0275fac,providedIn:"root"})}return DsoWithdrawnReinstateModalService2})()},5426:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>SubscriptionModalComponent});var _angular_common__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(84739),_angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(68014),_angular_forms__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(28955),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(43750),lodash_findIndex__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(84630),lodash_findIndex__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_0__),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(74785),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(10743),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(41543),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(91735),_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(48168),__webpack_require__(82656)),_alert_alert_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(14467),_empty_util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(77028),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10117),_object_collection_shared_badges_type_badge_themed_type_badge_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(83793),_subscriptions_data_service__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(49261),__webpack_require__(18870)),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(71781);function SubscriptionModalComponent_form_0_span_12_ds_type_badge_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.nrm(0,"ds-type-badge",17),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("object",ctx_r1.dso)}}function SubscriptionModalComponent_form_0_span_12_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"span",15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(1,SubscriptionModalComponent_form_0_span_12_ds_type_badge_1_Template,1,1,"ds-type-badge",16),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",!!ctx_r1.dso)}}function SubscriptionModalComponent_form_0_fieldset_14_div_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"div",24),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nrm(1,"input",25),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(2,"label",26),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()()),2&rf){const frequency_r3=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("id","checkbox-"+frequency_r3)("formControlName",frequency_r3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("for","checkbox-"+frequency_r3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(4,4,"subscriptions.modal.new-subscription-form.frequency."+frequency_r3))}}function SubscriptionModalComponent_form_0_fieldset_14_ds_alert_7_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"ds-alert",27),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("type","alert-danger"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(2,2,"context-menu.actions.subscription.frequency.required")," "))}function SubscriptionModalComponent_form_0_fieldset_14_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"fieldset",18)(1,"legend",19),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(4,"div",20),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nrm(5,"input",21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(6,SubscriptionModalComponent_form_0_fieldset_14_div_6_Template,5,6,"div",22),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(7,SubscriptionModalComponent_form_0_fieldset_14_ds_alert_7_Template,3,4,"ds-alert",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf){const subscriptionType_r4=ctx.$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.FS9("formGroupName",subscriptionType_r4.key),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(3,5,"subscriptions.modal.new-subscription-form.type."+subscriptionType_r4.key),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("value",null==subscriptionType_r4||null==subscriptionType_r4.value?null:subscriptionType_r4.value.controls.subscriptionId.value),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngForOf",ctx_r1.frequencyDefaultValues),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",!!ctx_r1.submitted&&(null==subscriptionType_r4||null==subscriptionType_r4.value||null==subscriptionType_r4.value.controls.frequencies.errors?null:subscriptionType_r4.value.controls.frequencies.errors.required))}}function SubscriptionModalComponent_form_0_p_16_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"p",28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(2,1,"subscriptions.modal.delete-info")))}function SubscriptionModalComponent_form_0_span_24_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nrm(1,"i",29),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(3,1,"subscriptions.modal.new-subscription-form.processing")," "))}function SubscriptionModalComponent_form_0_span_26_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(2,1,"subscriptions.modal.new-subscription-form.submit")," "))}function SubscriptionModalComponent_form_0_Template(rf,ctx){if(1&rf){const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(0,"form",1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("ngSubmit",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.submit())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(1,"div",2)(2,"h4",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(5,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.activeModal.close())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(6,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(7,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(8,"div",6)(9,"p",7)(10,"strong"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(11),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(12,SubscriptionModalComponent_form_0_span_12_Template,2,1,"span",8),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(13,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(14,SubscriptionModalComponent_form_0_fieldset_14_Template,8,7,"fieldset",9),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(15,"keyvalue"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(16,SubscriptionModalComponent_form_0_p_16_Template,3,3,"p",10),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(17,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(18,"div",11)(19,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_10__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.eBV(_r1);const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.Njj(ctx_r1.activeModal.close())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.EFF(20),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(21,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.j41(22,"button",13),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(23,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(24,SubscriptionModalComponent_form_0_span_24_Template,4,3,"span",14),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(25,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(26,SubscriptionModalComponent_form_0_span_26_Template,3,3,"span",14),_angular_core__WEBPACK_IMPORTED_MODULE_10__.nI1(27,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.k0s()()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("formGroup",ctx_r1.subscriptionForm),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.JRh(_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(4,10,"subscriptions.modal.title")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(8),_angular_core__WEBPACK_IMPORTED_MODULE_10__.JRh(ctx_r1.dsoNameService.getName(ctx_r1.dso)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",!!ctx_r1.dso),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(15,12,null==ctx_r1.subscriptionForm?null:ctx_r1.subscriptionForm.controls)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(17,14,ctx_r1.showDeleteInfo$)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.SpI(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(21,16,"subscriptions.modal.close")," "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("disabled",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(23,18,ctx_r1.processing$)||!ctx_r1.isValid),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(25,20,ctx_r1.processing$)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",!0!==_angular_core__WEBPACK_IMPORTED_MODULE_10__.bMT(27,22,ctx_r1.processing$))}}let SubscriptionModalComponent=(()=>{class SubscriptionModalComponent2{constructor(formBuilder,modalService,notificationsService,subscriptionService,activeModal,authService,translate,dsoNameService){this.formBuilder=formBuilder,this.modalService=modalService,this.notificationsService=notificationsService,this.subscriptionService=subscriptionService,this.activeModal=activeModal,this.authService=authService,this.translate=translate,this.dsoNameService=dsoNameService,this.processing$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(!1),this.showDeleteInfo$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(!1),this.submitted=!1,this.subscriptionDefaultTypes=["content"],this.frequencyDefaultValues=["D","W","M"],this.isValid=!1,this.updateSubscription=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.bkB}ngOnInit(){this.authService.getAuthenticatedUserFromStore().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.Tj)(ePerson=>ePerson.uuid),(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.shareReplay)({refCount:!1})).subscribe(ePersonId=>{this.ePersonId=ePersonId,(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(this.subscription)?this.initFormByGivenSubscription():this.initFormByAllSubscriptions()}),this.subscriptionForm.valueChanges.subscribe(newValue=>{let anyFrequencySelected=!1;for(const f of this.frequencyDefaultValues)anyFrequencySelected=anyFrequencySelected||newValue.content.frequencies[f];this.isValid=anyFrequencySelected})}initFormByAllSubscriptions(){this.subscriptionForm=new _angular_forms__WEBPACK_IMPORTED_MODULE_14__.J3({});for(const t of this.subscriptionDefaultTypes){const formGroup=new _angular_forms__WEBPACK_IMPORTED_MODULE_14__.J3({});formGroup.addControl("subscriptionId",this.formBuilder.control("")),formGroup.addControl("frequencies",this.formBuilder.group({}));for(const f of this.frequencyDefaultValues)formGroup.controls.frequencies.addControl(f,this.formBuilder.control(!1));this.subscriptionForm.addControl(t,formGroup)}this.initFormDataBySubscriptions()}initFormByGivenSubscription(){const formGroup=new _angular_forms__WEBPACK_IMPORTED_MODULE_14__.J3({});formGroup.addControl("subscriptionId",this.formBuilder.control(this.subscription.id)),formGroup.addControl("frequencies",this.formBuilder.group({})),formGroup.get("frequencies").addValidators(_angular_forms__WEBPACK_IMPORTED_MODULE_14__.k0.required);for(const f of this.frequencyDefaultValues){const value=-1!==lodash_findIndex__WEBPACK_IMPORTED_MODULE_0___default()(this.subscription.subscriptionParameterList,["value",f]);formGroup.controls.frequencies.addControl(f,this.formBuilder.control(value))}this.subscriptionForm=this.formBuilder.group({[this.subscription.subscriptionType]:formGroup})}initFormDataBySubscriptions(){this.processing$.next(!0),this.subscriptionService.getSubscriptionsByPersonDSO(this.ePersonId,this.dso?.uuid).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.ak)()).subscribe({next:res=>{if(res.pageInfo.totalElements>0){this.showDeleteInfo$.next(!0);for(const subscription of res.page){const subscriptionGroup=this.subscriptionForm.get(subscription.subscriptionType);if((0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(subscriptionGroup)){subscriptionGroup.controls.subscriptionId.setValue(subscription.id);for(const parameter of subscription.subscriptionParameterList.filter(p=>"frequency"===p.name))subscriptionGroup.controls.frequencies.controls[parameter.value]?.setValue(!0)}}}this.processing$.next(!1)},error:err=>{this.processing$.next(!1)}})}submit(){this.submitted=!0;const subscriptionTypes=Object.keys(this.subscriptionForm.controls),subscriptionsToBeCreated=[],subscriptionsToBeUpdated=[];subscriptionTypes.forEach(subscriptionType=>{const subscriptionGroup=this.subscriptionForm.controls[subscriptionType];if(subscriptionGroup.touched&&subscriptionGroup.dirty){const body=this.createBody(subscriptionGroup.controls.subscriptionId.value,subscriptionType,subscriptionGroup.controls.frequencies);(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(body.id)?subscriptionsToBeUpdated.push(body):(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(body.subscriptionParameterList)&&subscriptionsToBeCreated.push(body)}});const toBeProcessed=[];(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(subscriptionsToBeCreated)&&toBeProcessed.push((0,rxjs__WEBPACK_IMPORTED_MODULE_11__.from)(subscriptionsToBeCreated).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.ZZ)(subscriptionBody=>this.subscriptionService.createSubscription(subscriptionBody,this.ePersonId,this.dso.uuid).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)())),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.Mi)(res=>{if(res.hasSucceeded){const msg=this.translate.instant("subscriptions.modal.create.success",{type:res.payload.subscriptionType});this.notificationsService.success(null,msg)}else this.notificationsService.error(null,this.translate.instant("subscriptions.modal.create.error"))}))),(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(subscriptionsToBeUpdated)&&toBeProcessed.push((0,rxjs__WEBPACK_IMPORTED_MODULE_11__.from)(subscriptionsToBeUpdated).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.ZZ)(subscriptionBody=>this.subscriptionService.updateSubscription(subscriptionBody,this.ePersonId,this.dso.uuid).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_4__.qD)())),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.Mi)(res=>{if(res.hasSucceeded){const msg=this.translate.instant("subscriptions.modal.update.success",{type:res.payload.subscriptionType});this.notificationsService.success(null,msg),(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(this.subscription)&&this.updateSubscription.emit(res.payload)}else this.notificationsService.error(null,this.translate.instant("subscriptions.modal.update.error"))}))),(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.combineLatest)([...toBeProcessed]).subscribe(res=>{this.activeModal.close()})}createBody(subscriptionId,subscriptionType,frequencies){const body={id:(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.hj)(subscriptionId)?subscriptionId:null,subscriptionType,subscriptionParameterList:[]};for(const frequency of this.frequencyDefaultValues)frequencies.value[frequency]&&body.subscriptionParameterList.push({name:"frequency",value:frequency});return body}static#_=this.\u0275fac=function(t){return new(t||SubscriptionModalComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_angular_forms__WEBPACK_IMPORTED_MODULE_14__.ze),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.Bq),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__.I),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_subscriptions_data_service__WEBPACK_IMPORTED_MODULE_9__.SubscriptionsDataService),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.Lw),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__.uR),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.c$),_angular_core__WEBPACK_IMPORTED_MODULE_10__.rXU(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__.f))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.VBU({type:SubscriptionModalComponent2,selectors:[["ds-subscription-modal"]],inputs:{dso:"dso",subscription:"subscription"},outputs:{updateSubscription:"updateSubscription"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.aNF],decls:1,vars:1,consts:[["data-test","subscription-form",3,"formGroup","ngSubmit",4,"ngIf"],["data-test","subscription-form",3,"ngSubmit","formGroup"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mb-3"],["class","float-right",4,"ngIf"],["class","form-group form-row",3,"formGroupName",4,"ngFor","ngForOf"],["class","text-muted",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","submit",1,"btn","btn-success",3,"disabled"],[4,"ngIf"],[1,"float-right"],[3,"object",4,"ngIf"],[3,"object"],[1,"form-group","form-row",3,"formGroupName"],[1,"col-md-4","col-form-label","float-md-left","pt-0"],[1,"col-md-8"],["type","hidden","formControlName","subscriptionId",3,"value"],["class","form-check","formGroupName","frequencies",4,"ngFor","ngForOf"],[3,"type",4,"ngIf"],["formGroupName","frequencies",1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"],[3,"type"],[1,"text-muted"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.DNE(0,SubscriptionModalComponent_form_0_Template,28,24,"form",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y8G("ngIf",ctx.subscriptionForm)},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_17__.bT,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.qT,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.me,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Zm,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.BC,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.cb,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.X1,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.j4,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.JD,_angular_forms__WEBPACK_IMPORTED_MODULE_14__.$R,_object_collection_shared_badges_type_badge_themed_type_badge_component__WEBPACK_IMPORTED_MODULE_7__.C,_angular_common__WEBPACK_IMPORTED_MODULE_17__.pM,_alert_alert_component__WEBPACK_IMPORTED_MODULE_5__.C,_angular_common__WEBPACK_IMPORTED_MODULE_17__.Jj,_angular_common__WEBPACK_IMPORTED_MODULE_17__.lG,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.h,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.D9]})}return SubscriptionModalComponent2})()},18870:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubscriptionsDataService:()=>SubscriptionsDataService});var rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(10743),src_app_core_shared_request_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(59499),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(91735),_core_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86786),_core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(57699),_core_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40017),_core_data_base_delete_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43626),_core_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(68134),_core_data_base_search_data__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(19399),_core_data_dso_change_analyzer_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(60279),_core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(97570),_core_data_request_models__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(87457),_core_data_request_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(72744),_core_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(91365),_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(82656),_empty_util__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(77028),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(10117),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(32181),_angular_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(68014),_angular_common_http__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(38068),_ngrx_store__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(5136);let SubscriptionsDataService=(()=>{class SubscriptionsDataService2 extends _core_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_4__.W{constructor(comparator,http,notificationsService,requestService,rdbService,store,objectCache,halService,nameService){super("subscriptions",requestService,rdbService,objectCache,halService),this.comparator=comparator,this.http=http,this.notificationsService=notificationsService,this.requestService=requestService,this.rdbService=rdbService,this.store=store,this.objectCache=objectCache,this.halService=halService,this.nameService=nameService,this.findByEpersonLinkPath="findByEPerson",this.searchData=new _core_data_base_search_data__WEBPACK_IMPORTED_MODULE_5__.X(this.linkPath,requestService,rdbService,objectCache,halService,this.responseMsToLive),this.deleteData=new _core_data_base_delete_data__WEBPACK_IMPORTED_MODULE_3__.I(this.linkPath,requestService,rdbService,objectCache,halService,notificationsService,this.responseMsToLive,this.constructIdEndpoint)}getSubscriptionsByPersonDSO(eperson,uuid){const optionsWithObject=Object.assign(new _core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_12__._,{searchParams:[new _core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_13__.x("resource",uuid),new _core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_13__.x("eperson_id",eperson)]});return this.searchData.searchBy("findByEPersonAndDso",optionsWithObject,!1,!0)}createSubscription(subscription,ePerson,uuid){return this.halService.getEndpoint(this.linkPath).pipe((0,_empty_util__WEBPACK_IMPORTED_MODULE_14__.VT)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.Tj)(endpointUrl=>`${endpointUrl}?resource=${uuid}&eperson_id=${ePerson}`),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.Tj)(endpointURL=>new _core_data_request_models__WEBPACK_IMPORTED_MODULE_7__.QU(this.requestService.generateRequestId(),endpointURL,JSON.stringify(subscription))),(0,src_app_core_shared_request_operators__WEBPACK_IMPORTED_MODULE_16__.w$)(this.requestService),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.nx)(restRequest=>this.rdbService.buildFromRequestUUID(restRequest.uuid)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.qD)())}updateSubscription(subscription,ePerson,uuid){return this.halService.getEndpoint(this.linkPath).pipe((0,_empty_util__WEBPACK_IMPORTED_MODULE_14__.VT)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.s)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.Tj)(endpointUrl=>`${endpointUrl}/${subscription.id}?resource=${uuid}&eperson_id=${ePerson}`),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.Tj)(endpointURL=>new _core_data_request_models__WEBPACK_IMPORTED_MODULE_7__.v_(this.requestService.generateRequestId(),endpointURL,JSON.stringify(subscription))),(0,src_app_core_shared_request_operators__WEBPACK_IMPORTED_MODULE_16__.w$)(this.requestService),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.nx)(restRequest=>this.rdbService.buildFromRequestUUID(restRequest.uuid)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.qD)())}deleteSubscription(id){return this.halService.getEndpoint(this.linkPath).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.pb)(href=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_14__.hj)(href)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.F)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.nx)(endpointUrl=>this.deleteData.delete(id)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.qD)())}findAllSubscriptions(options){return this.findAllData.findAll(options,!0,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_17__.s)("resource"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_17__.s)("eperson"))}findByEPerson(ePersonId,options){const optionsWithObject=Object.assign(new _core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_12__._,options,{searchParams:[new _core_cache_models_request_param_model__WEBPACK_IMPORTED_MODULE_13__.x("uuid",ePersonId)]});return this.getEndpoint().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.Tj)(href=>`${href}/search/${this.findByEpersonLinkPath}`),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.nx)(href=>this.findListByHref(href,optionsWithObject,!1,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_17__.s)("resource"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_17__.s)("eperson"))))}static#_=this.\u0275fac=function(t){return new(t||SubscriptionsDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_core_data_dso_change_analyzer_service__WEBPACK_IMPORTED_MODULE_6__.j),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_angular_common_http__WEBPACK_IMPORTED_MODULE_19__.Qq),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_11__.I),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_core_data_request_service__WEBPACK_IMPORTED_MODULE_8__.B),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_core_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_ngrx_store__WEBPACK_IMPORTED_MODULE_20__.il),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_core_cache_object_cache_service__WEBPACK_IMPORTED_MODULE_2__.$),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_core_shared_hal_endpoint_service__WEBPACK_IMPORTED_MODULE_9__.Y),_angular_core__WEBPACK_IMPORTED_MODULE_18__.KVO(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_0__.f))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_18__.jDH({token:SubscriptionsDataService2,factory:SubscriptionsDataService2.\u0275fac,providedIn:"root"})}return SubscriptionsDataService2})()},27657:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>ViewTrackerComponent});var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10743),_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(48168),__webpack_require__(77028)),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(68014),angulartics2__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(91270),_core_services_referrer_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(64888);let ViewTrackerComponent=(()=>{class ViewTrackerComponent2{constructor(angulartics2,referrerService){this.angulartics2=angulartics2,this.referrerService=referrerService}ngOnInit(){this.sub=this.referrerService.getReferrer().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.s)(1)).subscribe(referrer=>{this.angulartics2.eventTrack.next({action:"page_view",properties:{object:this.object,referrer}})})}ngOnDestroy(){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.a4)(this.sub)&&this.sub.unsubscribe()}static#_=this.\u0275fac=function(t){return new(t||ViewTrackerComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.rXU(angulartics2__WEBPACK_IMPORTED_MODULE_4__.il),_angular_core__WEBPACK_IMPORTED_MODULE_3__.rXU(_core_services_referrer_service__WEBPACK_IMPORTED_MODULE_5__.f))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.VBU({type:ViewTrackerComponent2,selectors:[["ds-view-tracker"]],inputs:{object:"object"},standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__.aNF],decls:1,vars:0,template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.EFF(0,"\xa0\n")},styles:["[_nghost-%COMP%]{display:none}"]})}return ViewTrackerComponent2})()},19862:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/collection-page/collection-page.component":[56794,6794]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=19862,module.exports=webpackAsyncContext},46563:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/collection-page/edit-item-template-page/edit-item-template-page.component":[41421,1421]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=46563,module.exports=webpackAsyncContext},30207:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/dso-shared/dso-edit-metadata/dso-edit-metadata.component":[38831,8831]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=30207,module.exports=webpackAsyncContext},7754:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/comcol/comcol-page-browse-by/comcol-page-browse-by.component":[38366,8366]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=7754,module.exports=webpackAsyncContext},41454:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/comcol/comcol-page-content/comcol-page-content.component":[89106,9106]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=41454,module.exports=webpackAsyncContext},85830:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/shared/comcol/comcol-page-handle/comcol-page-handle.component":[5572,5572]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=85830,module.exports=webpackAsyncContext}};