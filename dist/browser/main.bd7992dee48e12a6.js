(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[8792],{57079:(B,D,t)=>{"use strict";t.d(D,{Ax:()=>f,P5:()=>c,bL:()=>e,mK:()=>d,w4:()=>g,xl:()=>y});var i=t(31829),n=t(87913);const c="epeople";function e(){return new n.t((0,i.XG)(),c).toString()}function f(E){return new n.t(e(),E,"edit").toString()}const g="groups";function d(){return new n.t((0,i.XG)(),g).toString()}function y(E){return new n.t(d(),E,"edit").toString()}},57999:(B,D,t)=>{"use strict";t.d(D,{_c:()=>c,bA:()=>n,oQ:()=>e});var i=t(83770);const n={EDIT_EPERSON:(0,i.N)("dspace/epeople-registry/EDIT_EPERSON"),CANCEL_EDIT_EPERSON:(0,i.N)("dspace/epeople-registry/CANCEL_EDIT_EPERSON")};class c{constructor(g){this.type=n.EDIT_EPERSON,this.eperson=g}}class e{constructor(){this.type=n.CANCEL_EDIT_EPERSON}}},33370:(B,D,t)=>{"use strict";t.d(D,{v:()=>Z});var i=t(54460),n=t(10936),c=t(95968),e=t(69685),f=t(71217),g=t(76627),d=t(63016),y=t(22867),E=t(47947),_=t(45670),b=t(37610),O=t(83116),I=t(5338),T=t(31363),R=t(7172),u=t(83383),w=t(95438),v=t(12007),S=t(81727),M=t(79224),L=t(51661),F=t(67899),$=t(57079),j=t(53107);const x=()=>["top","right","bottom"],G=le=>({content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:le}),Y=le=>({name:le}),V=le=>["btn btn-sm",le];function X(le,De){if(1&le){const pe=j.RV6();j.j41(0,"button",22),j.nI1(1,"translate"),j.bIt("click",function(){j.eBV(pe);const ve=j.XpG().$implicit,fe=j.XpG(2);return j.Njj(fe.deleteMemberFromGroup(ve.eperson))}),j.nrm(2,"i",23),j.k0s()}if(2&le){const pe=j.XpG().$implicit,re=j.XpG(2);j.FS9("title",j.i5U(1,4,re.messagePrefix+".table.edit.buttons.remove",j.eq3(7,Y,re.dsoNameService.getName(pe.eperson)))),j.Y8G("disabled",re.actionConfig.remove.disabled)("ngClass",j.eq3(9,V,re.actionConfig.remove.css)),j.R7$(2),j.Y8G("ngClass",re.actionConfig.remove.icon)}}function K(le,De){if(1&le){const pe=j.RV6();j.j41(0,"button",22),j.nI1(1,"translate"),j.bIt("click",function(){j.eBV(pe);const ve=j.XpG().$implicit,fe=j.XpG(2);return j.Njj(fe.addMemberToGroup(ve.eperson))}),j.nrm(2,"i",23),j.k0s()}if(2&le){const pe=j.XpG().$implicit,re=j.XpG(2);j.FS9("title",j.i5U(1,4,re.messagePrefix+".table.edit.buttons.add",j.eq3(7,Y,re.dsoNameService.getName(pe.eperson)))),j.Y8G("disabled",re.actionConfig.add.disabled)("ngClass",j.eq3(9,V,re.actionConfig.add.css)),j.R7$(2),j.Y8G("ngClass",re.actionConfig.add.icon)}}function ae(le,De){if(1&le&&(j.j41(0,"tr")(1,"td",17),j.EFF(2),j.k0s(),j.j41(3,"td",17)(4,"a",19),j.EFF(5),j.k0s()(),j.j41(6,"td",17),j.EFF(7),j.nI1(8,"translate"),j.nrm(9,"br"),j.EFF(10),j.nI1(11,"translate"),j.k0s(),j.j41(12,"td",17)(13,"div",20),j.DNE(14,X,3,11,"button",21)(15,K,3,11,"button",21),j.k0s()()()),2&le){const pe=De.$implicit,re=j.XpG(2);j.R7$(2),j.JRh(pe.eperson.id),j.R7$(2),j.Y8G("routerLink",re.getEPersonEditRoute(pe.eperson.id)),j.R7$(),j.SpI(" ",re.dsoNameService.getName(pe.eperson)," "),j.R7$(2),j.Lme(" ",j.bMT(8,9,re.messagePrefix+".table.email"),": ",pe.eperson.email?pe.eperson.email:"-",""),j.R7$(3),j.Lme(" ",j.bMT(11,11,re.messagePrefix+".table.netid"),": ",pe.eperson.netid?pe.eperson.netid:"-"," "),j.R7$(4),j.Y8G("ngIf",pe.ableToDelete),j.R7$(),j.Y8G("ngIf",!pe.ableToDelete)}}function Q(le,De){if(1&le&&(j.j41(0,"ds-pagination",13),j.nI1(1,"async"),j.j41(2,"div",14)(3,"table",15)(4,"thead")(5,"tr")(6,"th",16),j.EFF(7),j.nI1(8,"translate"),j.k0s(),j.j41(9,"th",16),j.EFF(10),j.nI1(11,"translate"),j.k0s(),j.j41(12,"th",16),j.EFF(13),j.nI1(14,"translate"),j.k0s(),j.j41(15,"th",17),j.EFF(16),j.nI1(17,"translate"),j.k0s()()(),j.j41(18,"tbody"),j.DNE(19,ae,16,13,"tr",18),j.nI1(20,"async"),j.k0s()()()()),2&le){let pe,re;const ve=j.XpG();j.Y8G("paginationOptions",ve.config)("collectionSize",null==(pe=j.bMT(1,9,ve.ePeopleMembersOfGroup))?null:pe.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),j.R7$(7),j.JRh(j.bMT(8,11,ve.messagePrefix+".table.id")),j.R7$(3),j.JRh(j.bMT(11,13,ve.messagePrefix+".table.name")),j.R7$(3),j.JRh(j.bMT(14,15,ve.messagePrefix+".table.identity")),j.R7$(3),j.JRh(j.bMT(17,17,ve.messagePrefix+".table.edit")),j.R7$(3),j.Y8G("ngForOf",null==(re=j.bMT(20,19,ve.ePeopleMembersOfGroup))?null:re.page)}}function J(le,De){if(1&le&&(j.j41(0,"div",24),j.EFF(1),j.nI1(2,"translate"),j.k0s()),2&le){const pe=j.XpG();j.R7$(),j.SpI(" ",j.bMT(2,1,pe.messagePrefix+".no-members-yet")," ")}}function z(le,De){if(1&le&&(j.j41(0,"span"),j.EFF(1),j.nI1(2,"translate"),j.k0s()),2&le){const pe=j.XpG();j.R7$(),j.SpI(" ",j.bMT(2,1,pe.messagePrefix+".search.head")," ")}}function q(le,De){if(1&le){const pe=j.RV6();j.j41(0,"tr")(1,"td",17),j.EFF(2),j.k0s(),j.j41(3,"td",17)(4,"a",19),j.EFF(5),j.k0s()(),j.j41(6,"td",17),j.EFF(7),j.nI1(8,"translate"),j.nrm(9,"br"),j.EFF(10),j.nI1(11,"translate"),j.k0s(),j.j41(12,"td",17)(13,"div",20)(14,"button",22),j.nI1(15,"translate"),j.bIt("click",function(){const ve=j.eBV(pe).$implicit,fe=j.XpG(2);return j.Njj(fe.addMemberToGroup(ve))}),j.nrm(16,"i",23),j.k0s()()()()}if(2&le){const pe=De.$implicit,re=j.XpG(2);j.R7$(2),j.JRh(pe.id),j.R7$(2),j.Y8G("routerLink",re.getEPersonEditRoute(pe.id)),j.R7$(),j.SpI(" ",re.dsoNameService.getName(pe)," "),j.R7$(2),j.Lme(" ",j.bMT(8,11,re.messagePrefix+".table.email"),": ",pe.email?pe.email:"-",""),j.R7$(3),j.Lme(" ",j.bMT(11,13,re.messagePrefix+".table.netid"),": ",pe.netid?pe.netid:"-"," "),j.R7$(4),j.FS9("title",j.i5U(15,15,re.messagePrefix+".table.edit.buttons.add",j.eq3(18,Y,re.dsoNameService.getName(pe)))),j.Y8G("disabled",re.actionConfig.add.disabled)("ngClass",j.eq3(20,V,re.actionConfig.add.css)),j.R7$(2),j.Y8G("ngClass",re.actionConfig.add.icon)}}function ee(le,De){if(1&le&&(j.j41(0,"ds-pagination",13),j.nI1(1,"async"),j.j41(2,"div",14)(3,"table",25)(4,"thead")(5,"tr")(6,"th",16),j.EFF(7),j.nI1(8,"translate"),j.k0s(),j.j41(9,"th",16),j.EFF(10),j.nI1(11,"translate"),j.k0s(),j.j41(12,"th",16),j.EFF(13),j.nI1(14,"translate"),j.k0s(),j.j41(15,"th",17),j.EFF(16),j.nI1(17,"translate"),j.k0s()()(),j.j41(18,"tbody"),j.DNE(19,q,17,22,"tr",18),j.nI1(20,"async"),j.k0s()()()()),2&le){let pe,re;const ve=j.XpG();j.Y8G("paginationOptions",ve.configSearch)("collectionSize",null==(pe=j.bMT(1,9,ve.ePeopleSearch))?null:pe.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),j.R7$(7),j.JRh(j.bMT(8,11,ve.messagePrefix+".table.id")),j.R7$(3),j.JRh(j.bMT(11,13,ve.messagePrefix+".table.name")),j.R7$(3),j.JRh(j.bMT(14,15,ve.messagePrefix+".table.identity")),j.R7$(3),j.JRh(j.bMT(17,17,ve.messagePrefix+".table.edit")),j.R7$(3),j.Y8G("ngForOf",null==(re=j.bMT(20,19,ve.ePeopleSearch))?null:re.page)}}function de(le,De){if(1&le&&(j.j41(0,"div",24),j.EFF(1),j.nI1(2,"translate"),j.k0s()),2&le){const pe=j.XpG();j.R7$(),j.SpI(" ",j.bMT(2,1,pe.messagePrefix+".no-items")," ")}}var Ce=function(le){return le[le.ActiveGroup=0]="ActiveGroup",le[le.Members=1]="Members",le[le.SearchResults=2]="SearchResults",le}(Ce||{});let Z=(()=>{class le{constructor(pe,re,ve,fe,Ie,Ne,qe,we){this.groupDataService=pe,this.ePersonDataService=re,this.translateService=ve,this.notificationsService=fe,this.formBuilder=Ie,this.paginationService=Ne,this.router=qe,this.dsoNameService=we,this.actionConfig={add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus fa-fw"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-trash-alt fa-fw"}},this.ePeopleSearch=new f.t(void 0),this.ePeopleMembersOfGroup=new f.t(void 0),this.configSearch=Object.assign(new F.W,{id:"sml",pageSize:5,currentPage:1}),this.config=Object.assign(new F.W,{id:"ml",pageSize:5,currentPage:1}),this.subs=new Map,this.getEPersonEditRoute=$.Ax,this.currentSearchQuery=""}ngOnInit(){this.searchForm=this.formBuilder.group({query:""}),this.subs.set(Ce.ActiveGroup,this.groupDataService.getActiveGroup().subscribe(pe=>{null!=pe&&(this.groupBeingEdited=pe,this.retrieveMembers(this.config.currentPage),this.search({query:""}))}))}retrieveMembers(pe){this.unsubFrom(Ce.Members),this.subs.set(Ce.Members,this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,y.n)(re=>this.ePersonDataService.findListByHref(this.groupBeingEdited._links.epersons.href,{currentPage:re.currentPage,elementsPerPage:re.pageSize})),(0,v.bD)(),(0,E.T)(re=>{if(!re.hasFailed)return re;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:re.errorMessage}))}),(0,y.n)(re=>(0,g.z)([...re.payload.page.map(fe=>(0,g.z)(this.isMemberOfGroup(fe),Ne=>{const qe=new u.h;return qe.eperson=fe,qe.ableToDelete=Ne,qe}))]).pipe((0,_.U)([]),(0,E.T)(fe=>(0,I.g)(re.payload.pageInfo,fe))))).subscribe(re=>{this.ePeopleMembersOfGroup.next(re)}))}isMemberOfGroup(pe){return(0,d.of)(!0)}unsubFrom(pe){this.subs.has(pe)&&(this.subs.get(pe).unsubscribe(),this.subs.delete(pe))}deleteMemberFromGroup(pe){this.groupDataService.getActiveGroup().pipe((0,b.s)(1)).subscribe(re=>{if(null!=re){const ve=this.groupDataService.deleteMemberFromGroup(re,pe);this.showNotifications("deleteMember",ve,this.dsoNameService.getName(pe),re),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}addMemberToGroup(pe){this.groupDataService.getActiveGroup().pipe((0,b.s)(1)).subscribe(re=>{if(null!=re){const ve=this.groupDataService.addMemberToGroup(re,pe);this.showNotifications("addMember",ve,this.dsoNameService.getName(pe),re),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}search(pe){this.unsubFrom(Ce.SearchResults),this.subs.set(Ce.SearchResults,this.paginationService.getCurrentPagination(this.configSearch.id,this.configSearch).pipe((0,y.n)(re=>{const ve=pe.query;return null!=ve&&this.currentSearchQuery!==ve&&this.groupBeingEdited&&(this.currentSearchQuery=ve,this.paginationService.resetPage(this.configSearch.id)),this.searchDone=!0,this.ePersonDataService.searchNonMembers(this.currentSearchQuery,this.groupBeingEdited.id,{currentPage:re.currentPage,elementsPerPage:re.pageSize},!1,!0)}),(0,v.bD)(),(0,E.T)(re=>{if(!re.hasFailed)return re;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:re.errorMessage}))}),(0,v.Bo)()).subscribe(re=>{this.ePeopleSearch.next(re)}))}ngOnDestroy(){for(const pe of this.subs.keys())this.unsubFrom(pe);this.paginationService.clearPagination(this.config.id),this.paginationService.clearPagination(this.configSearch.id)}showNotifications(pe,re,ve,fe){re.pipe((0,v.qD)()).subscribe(Ie=>{Ie.hasSucceeded?this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.success."+pe,{name:ve})):this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure."+pe,{name:ve}))})}clearFormAndResetResult(){this.searchForm.patchValue({query:""}),this.search({query:""})}static#e=this.\u0275fac=function(re){return new(re||le)(j.rXU(R.GroupDataService),j.rXU(T.EPersonDataService),j.rXU(e.c$),j.rXU(M.I),j.rXU(n.ze),j.rXU(w.m),j.rXU(c.Ix),j.rXU(O.f))};static#t=this.\u0275cmp=j.VBU({type:le,selectors:[["ds-members-list"]],inputs:{messagePrefix:"messagePrefix",actionConfig:"actionConfig"},standalone:!0,features:[j.aNF],decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group","mr-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"btn-group","edit-field"],[3,"disabled","ngClass","title","click",4,"ngIf"],[3,"click","disabled","ngClass","title"],[3,"ngClass"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(re,ve){if(1&re&&(j.qex(0),j.j41(1,"h2",0),j.EFF(2),j.nI1(3,"translate"),j.k0s(),j.j41(4,"h3"),j.EFF(5),j.nI1(6,"translate"),j.k0s(),j.DNE(7,Q,21,21,"ds-pagination",1),j.nI1(8,"async"),j.DNE(9,J,3,3,"div",2),j.nI1(10,"async"),j.nI1(11,"async"),j.j41(12,"h3",3),j.DNE(13,z,3,3,"span",4),j.k0s(),j.j41(14,"form",5),j.bIt("ngSubmit",function(){return ve.search(ve.searchForm.value)}),j.j41(15,"div",6)(16,"div",7),j.nrm(17,"input",8),j.j41(18,"span",9)(19,"button",10),j.nrm(20,"i",11),j.EFF(21),j.nI1(22,"translate"),j.k0s()()()(),j.j41(23,"div")(24,"button",12),j.bIt("click",function(){return ve.clearFormAndResetResult()}),j.EFF(25),j.nI1(26,"translate"),j.k0s()()(),j.DNE(27,ee,21,21,"ds-pagination",1),j.nI1(28,"async"),j.DNE(29,de,3,3,"div",2),j.nI1(30,"async"),j.bVm()),2&re){let fe,Ie,Ne,qe;j.R7$(2),j.JRh(j.bMT(3,10,ve.messagePrefix+".head")),j.R7$(3),j.JRh(j.bMT(6,12,ve.messagePrefix+".headMembers")),j.R7$(2),j.Y8G("ngIf",(null==(fe=j.bMT(8,14,ve.ePeopleMembersOfGroup))?null:fe.totalElements)>0),j.R7$(2),j.Y8G("ngIf",void 0===j.bMT(10,16,ve.ePeopleMembersOfGroup)||0===(null==(Ie=j.bMT(11,18,ve.ePeopleMembersOfGroup))?null:Ie.totalElements)),j.R7$(4),j.Y8G("dsContextHelp",j.eq3(29,G,j.lJ4(28,x))),j.R7$(),j.Y8G("formGroup",ve.searchForm),j.R7$(7),j.SpI(" ",j.bMT(22,20,ve.messagePrefix+".search.button"),""),j.R7$(4),j.JRh(j.bMT(26,22,ve.messagePrefix+".button.see-all")),j.R7$(2),j.Y8G("ngIf",(null==(Ne=j.bMT(28,24,ve.ePeopleSearch))?null:Ne.totalElements)>0),j.R7$(2),j.Y8G("ngIf",0===(null==(qe=j.bMT(30,26,ve.ePeopleSearch))?null:qe.totalElements)&&ve.searchDone)}},dependencies:[e.h,e.D9,S.G,n.X1,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,L.e,i.bT,i.Jj,c.Wk,i.YU,i.Sq],encapsulation:2})}return le})()},61717:(B,D,t)=>{"use strict";t.d(D,{C:()=>c,O3:()=>n,Sb:()=>e});var i=t(83770);const n={EDIT_GROUP:(0,i.N)("dspace/epeople-registry/EDIT_GROUP"),CANCEL_EDIT_GROUP:(0,i.N)("dspace/epeople-registry/CANCEL_EDIT_GROUP")};class c{constructor(g){this.type=n.EDIT_GROUP,this.group=g}}class e{constructor(){this.type=n.CANCEL_EDIT_GROUP}}},76772:(B,D,t)=>{"use strict";t.r(D),t.d(D,{LdnServicesService:()=>S});var i=t(37610),n=t(47947),c=t(45122),e=t(99120),f=t(25718),g=t(45926),d=t(83951),y=t(94937),E=t(2887),_=t(2868),b=t(12350),O=t(36705),I=t(70210),T=t(9843),R=t(25744),u=t(87913),w=t(79224),v=t(53107);let S=(()=>{class M extends E.W{constructor(F,$,j,x,G){super("ldnservices",F,$,j,x),this.requestService=F,this.rdbService=$,this.objectCache=j,this.halService=x,this.notificationsService=G,this.findByPatternEndpoint="byInboundPattern",this.findAllData=new y.H(this.linkPath,F,$,j,x,this.responseMsToLive),this.searchData=new b.X(this.linkPath,F,$,j,x,this.responseMsToLive),this.deleteData=new d.I(this.linkPath,F,$,j,x,G,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new _.n(this.linkPath,F,$,j,x,this.comparator,this.responseMsToLive,this.constructIdEndpoint),this.createData=new g.V(this.linkPath,F,$,j,x,G,this.responseMsToLive)}create(F,...$){return this.createData.create(F,...$)}patch(F,$){return this.patchData.patch(F,$)}update(F){return this.patchData.update(F)}commitUpdates(F){return this.patchData.commitUpdates(F)}createPatchFromCache(F){return this.patchData.createPatchFromCache(F)}findAll(F,$,j,...x){return this.findAllData.findAll(F,$,j,...x)}findByInboundPattern(F,$,j,x,...G){const Y=[new e.x("pattern",F)],V=Object.assign(new O._,$,{searchParams:Y});return this.searchBy(this.findByPatternEndpoint,V,j,x,...G)}delete(F,$){return this.deleteData.delete(F,$)}deleteByHref(F,$){return this.deleteData.deleteByHref(F,$)}searchBy(F,$,j,x,...G){return this.searchData.searchBy(F,$,j,x,...G)}invoke(F,$,j,x){const G=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,i.s)(1),(0,n.T)(Y=>new u.t(Y,F,"processes",$).toString()),(0,n.T)(Y=>{const V=this.getInvocationFormData(j,x);return new I.E0(G,Y,V)})).subscribe(Y=>this.requestService.send(Y)),this.rdbService.buildFromRequestUUID(G)}getInvocationFormData(F,$){const j=new FormData;return j.set("properties",JSON.stringify(F)),$.forEach(x=>{j.append("file",x)}),j}static#e=this.\u0275fac=function($){return new($||M)(v.KVO(T.B),v.KVO(c.o),v.KVO(f.$),v.KVO(R.Y),v.KVO(w.I))};static#t=this.\u0275prov=v.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},91967:(B,D,t)=>{"use strict";t.d(D,{tc:()=>c,uC:()=>e,zd:()=>n});var i=t(98573);const n=new i.v("ldnservice"),c=new i.v("itemfilters"),e=new i.v("itemfilter")},81629:(B,D,t)=>{"use strict";t.d(D,{VZ:()=>n,rn:()=>i,wU:()=>c});const i="quality-assurance",n="publication-claim";function c(){return`/${i}`}},77789:(B,D,t)=>{"use strict";t.d(D,{o:()=>n});var i=t(5926);class n extends i.q{}},52970:(B,D,t)=>{"use strict";t.d(D,{a:()=>y});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(47587),g=t(2494),d=t(9176);let y=class extends f.M{constructor(){super(...arguments),this.type=d.g}static#e=this.type=d.g;get self(){return this._links.self.href}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([g.aK,(0,i.Sn)("design:type",Object)],y.prototype,"type",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"notificationId",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"notificationType",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"coarNotifyType",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"activityStreamType",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"inReplyTo",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"object",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"relatedItem",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"ldnService",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"context",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"message",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"queueAttempts",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"queueLastStartTime",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Object)],y.prototype,"origin",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Object)],y.prototype,"target",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"queueStatusLabel",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"queueTimeout",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"queueStatus",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"thumbnail",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",c.c)],y.prototype,"item",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",c.c)],y.prototype,"accessStatus",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([e.gV,(0,n.inheritSerialization)(f.M)],y)},9176:(B,D,t)=>{"use strict";t.d(D,{g:()=>n});const n=new(t(98573).v)("message")},72051:(B,D,t)=>{"use strict";t.r(D),t.d(D,{AdminNotifyMessagesService:()=>S});var i=t(33325),n=t(63016),c=t(44660),e=t(27035),f=t(47947),g=t(82040),d=t(22867),y=t(45122),E=t(25718),_=t(2887),b=t(17584),O=t(70210),I=t(9843),T=t(25744),R=t(12007),u=t(79224),w=t(76772),v=t(53107);let S=(()=>{class M extends _.W{constructor(F,$,j,x,G,Y,V){super("messages",F,$,j,x),this.requestService=F,this.rdbService=$,this.objectCache=j,this.halService=x,this.notificationsService=G,this.ldnServicesService=Y,this.itemDataService=V,this.reprocessEndpoint="enqueueretry"}getDetailedMessages(F){return(0,i.H)(F).pipe((0,e.Z)($=>$.target||$.origin?this.ldnServicesService.findById(($.target||$.origin).toString()).pipe((0,R.Hz)(),(0,f.T)(j=>({...$,ldnService:j.name}))):(0,n.of)($)),(0,e.Z)($=>$.object||$.context?this.itemDataService.findById($.object||$.context).pipe((0,R.Hz)(),(0,f.T)(j=>({...$,relatedItem:j.name}))):(0,n.of)($)),(0,c.S)(($,j)=>[...$,j],[]))}reprocessMessage(F,$){const j=this.requestService.generateRequestId();return this.halService.getEndpoint(this.reprocessEndpoint).pipe((0,f.T)(x=>x.replace("{id}",F.id)),(0,f.T)(x=>new O.Qf(j,x)),(0,g.M)(x=>this.requestService.send(x)),(0,d.n)(x=>this.rdbService.buildFromRequestUUID(x.uuid)),(0,R.qD)(),(0,R.Hz)(),(0,e.Z)(x=>this.getDetailedMessages([x]))).pipe((0,e.Z)(x=>$.pipe((0,f.T)(G=>{const Y=x[0],V=G.find(K=>K.id===F.id),X=G.indexOf(V);return Y.target=F.target,Y.object=F.object,Y.origin=F.origin,Y.context=F.context,G[X]=Y,G}))))}static#e=this.\u0275fac=function($){return new($||M)(v.KVO(I.B),v.KVO(y.o),v.KVO(E.$),v.KVO(T.Y),v.KVO(u.I),v.KVO(w.LdnServicesService),v.KVO(b.ItemDataService))};static#t=this.\u0275prov=v.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},98017:(B,D,t)=>{"use strict";t.d(D,{Cv:()=>e,Sh:()=>n,ZU:()=>f,hO:()=>c});var i=t(83770);const n={SELECT_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/SELECT_FORMAT"),DESELECT_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/DESELECT_FORMAT"),DESELECT_ALL_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/DESELECT_ALL_FORMAT")};class c{constructor(d){this.type=n.SELECT_FORMAT,this.bitstreamFormat=d}}class e{constructor(d){this.type=n.DESELECT_FORMAT,this.bitstreamFormat=d}}class f{constructor(){this.type=n.DESELECT_ALL_FORMAT}}},94782:(B,D,t)=>{"use strict";t.d(D,{Gr:()=>d,Kt:()=>n,Q6:()=>f,TE:()=>O,Tf:()=>E,Wi:()=>e,dF:()=>y,jC:()=>_,w2:()=>c,yb:()=>b,zn:()=>g});var i=t(83770);const n={EDIT_SCHEMA:(0,i.N)("dspace/metadata-registry/EDIT_SCHEMA"),CANCEL_EDIT_SCHEMA:(0,i.N)("dspace/metadata-registry/CANCEL_SCHEMA"),SELECT_SCHEMA:(0,i.N)("dspace/metadata-registry/SELECT_SCHEMA"),DESELECT_SCHEMA:(0,i.N)("dspace/metadata-registry/DESELECT_SCHEMA"),DESELECT_ALL_SCHEMA:(0,i.N)("dspace/metadata-registry/DESELECT_ALL_SCHEMA"),EDIT_FIELD:(0,i.N)("dspace/metadata-registry/EDIT_FIELD"),CANCEL_EDIT_FIELD:(0,i.N)("dspace/metadata-registry/CANCEL_FIELD"),SELECT_FIELD:(0,i.N)("dspace/metadata-registry/SELECT_FIELD"),DESELECT_FIELD:(0,i.N)("dspace/metadata-registry/DESELECT_FIELD"),DESELECT_ALL_FIELD:(0,i.N)("dspace/metadata-registry/DESELECT_ALL_FIELD")};class c{constructor(T){this.type=n.EDIT_SCHEMA,this.schema=T}}class e{constructor(){this.type=n.CANCEL_EDIT_SCHEMA}}class f{constructor(T){this.type=n.SELECT_SCHEMA,this.schema=T}}class g{constructor(T){this.type=n.DESELECT_SCHEMA,this.schema=T}}class d{constructor(){this.type=n.DESELECT_ALL_SCHEMA}}class y{constructor(T){this.type=n.EDIT_FIELD,this.field=T}}class E{constructor(){this.type=n.CANCEL_EDIT_FIELD}}class _{constructor(T){this.type=n.SELECT_FIELD,this.field=T}}class b{constructor(T){this.type=n.DESELECT_FIELD,this.field=T}}class O{constructor(){this.type=n.DESELECT_ALL_FIELD}}},56405:(B,D,t)=>{"use strict";t.d(D,{P$:()=>E,b7:()=>O,iF:()=>y,jE:()=>e,p8:()=>d,uD:()=>f,z$:()=>g});var i=t(31829),n=t(87913),c=t(81629);const e="registries",f="notifications",g="ldn",d="reports",y="notify-dashboard";function E(){return new n.t((0,i.D6)(),e).toString()}function O(){return new n.t(`/${f}`,(0,c.wU)()).toString()}},82191:(B,D,t)=>{"use strict";t.d(D,{g:()=>_});var i=t(54460),n=t(95968),c=t(69685),e=t(72683),f=t(62990),g=t(78198),d=t(29155),y=t(53107);const E=b=>({disabled:b});let _=(()=>{class b extends d.a{constructor(I,T,R,u){super(I,T,R),this.menuService=T,this.injector=R,this.router=u,this.menuID=g.D.ADMIN,this.itemModel=I.model}ngOnInit(){this.isDisabled=this.itemModel?.disabled||(0,e.Im)(this.itemModel?.link),super.ngOnInit()}navigate(I){I.preventDefault(),this.isDisabled||this.router.navigate(this.itemModel.link)}adminMenuSectionId(I){return`admin-menu-section-${I}`}adminMenuSectionTitleId(I){return`admin-menu-section-${I}-title`}static#e=this.\u0275fac=function(T){return new(T||b)(y.rXU("sectionDataProvider"),y.rXU(f.$),y.rXU(y.zZn),y.rXU(n.Ix))};static#t=this.\u0275cmp=y.VBU({type:b,selectors:[["ds-admin-sidebar-section"]],standalone:!0,features:[y.Vt3,y.aNF],decls:9,vars:13,consts:[["role","menuitem","href","javascript:void(0);",1,"sidebar-section-wrapper",3,"keyup.space","keyup.enter","ngClass","routerLink"],["data-test","sidebar-section-icon","aria-hidden","true",1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item"],[3,"id"]],template:function(T,R){1&T&&(y.j41(0,"div")(1,"a",0),y.bIt("keyup.space",function(w){return R.navigate(w)})("keyup.enter",function(w){return R.navigate(w)}),y.j41(2,"div",1),y.nrm(3,"i"),y.k0s(),y.j41(4,"div",2)(5,"div",3)(6,"span",4),y.EFF(7),y.nI1(8,"translate"),y.k0s()()()()()),2&T&&(y.R7$(),y.Y8G("ngClass",y.eq3(11,E,R.isDisabled))("routerLink",R.itemModel.link),y.BMQ("aria-disabled",R.isDisabled)("aria-labelledby",R.adminMenuSectionTitleId(R.section.id)),y.R7$(2),y.ZvI("fas fa-",R.section.icon," fa-fw"),y.R7$(3),y.Y8G("id",R.adminMenuSectionTitleId(R.section.id)),y.R7$(),y.JRh(y.bMT(8,9,R.itemModel.text)))},dependencies:[i.YU,n.Wk,c.h,c.D9]})}return b})()},18350:(B,D,t)=>{"use strict";t.r(D),t.d(D,{AdminSidebarComponent:()=>X});var i=t(54460),n=t(2155),c=t(69685),e=t(71217),f=t(76627),g=t(1703),d=t(47947),y=t(88627),E=t(66645),_=t(71894),b=t(21706),O=t(77304),I=t(74531),T=t(36051),R=t(62990),u=t(78198),w=t(33851),v=t(16182),S=t(53107),M=t(95968);const L=(K,ae,Q)=>({expanded:K,collapsed:ae,transitioning:Q}),F=(K,ae)=>({collapsedWidth:K,expandedWidth:ae}),$=(K,ae)=>({value:K,params:ae});function j(K,ae){1&K&&S.eu8(0)}function x(K,ae){if(1&K&&(S.qex(0),S.DNE(1,j,1,0,"ng-container",16),S.nI1(2,"async"),S.nI1(3,"async"),S.bVm()),2&K){const Q=ae.$implicit,J=S.XpG(2);S.R7$(),S.Y8G("ngComponentOutlet",S.bMT(2,2,J.sectionMap$).get(Q.id).component)("ngComponentOutletInjector",S.bMT(3,4,J.sectionMap$).get(Q.id).injector)}}function G(K,ae){1&K&&(S.nrm(0,"i",17),S.nI1(1,"translate")),2&K&&S.Y8G("title",S.bMT(1,1,"menu.section.icon.pin"))}function Y(K,ae){1&K&&(S.nrm(0,"i",18),S.nI1(1,"translate")),2&K&&S.Y8G("title",S.bMT(1,1,"menu.section.icon.unpin"))}function V(K,ae){if(1&K){const Q=S.RV6();S.j41(0,"nav",1),S.nI1(1,"async"),S.nI1(2,"async"),S.nI1(3,"async"),S.nI1(4,"translate"),S.bIt("@slideSidebar.done",function(z){S.eBV(Q);const q=S.XpG();return S.Njj(q.finishSlide(z))})("@slideSidebar.start",function(z){S.eBV(Q);const q=S.XpG();return S.Njj(q.startSlide(z))})("mouseenter",function(z){S.eBV(Q);const q=S.XpG();return S.Njj(q.handleMouseEnter(z))})("mouseleave",function(z){S.eBV(Q);const q=S.XpG();return S.Njj(q.handleMouseLeave(z))}),S.j41(5,"div",2)(6,"div",3)(7,"div",4),S.nrm(8,"img",5),S.nI1(9,"translate"),S.k0s(),S.j41(10,"div",6)(11,"div",7)(12,"h4",8),S.EFF(13),S.nI1(14,"translate"),S.k0s()()()()(),S.j41(15,"div",9)(16,"div",10),S.nI1(17,"translate"),S.DNE(18,x,4,6,"ng-container",11),S.nI1(19,"async"),S.k0s()(),S.j41(20,"div",12)(21,"a",13),S.bIt("click",function(z){S.eBV(Q);const q=S.XpG();return S.Njj(q.toggle(z))})("keyup.space",function(z){S.eBV(Q);const q=S.XpG();return S.Njj(q.toggle(z))}),S.j41(22,"div",4),S.DNE(23,G,2,3,"i",14),S.nI1(24,"async"),S.DNE(25,Y,2,3,"i",15),S.nI1(26,"async"),S.k0s(),S.j41(27,"div",6)(28,"div",7),S.EFF(29),S.nI1(30,"async"),S.nI1(31,"translate"),S.k0s()()()()()}if(2&K){const Q=S.XpG();S.Y8G("ngClass",S.sMw(34,L,Q.sidebarOpen,Q.sidebarClosed,Q.sidebarTransitioning))("@slideSidebar",S.l_i(41,$,!0!==S.bMT(1,10,Q.sidebarExpanded)?"collapsed":"expanded",S.l_i(38,F,S.bMT(2,12,Q.collapsedSidebarWidth$),S.bMT(3,14,Q.expandedSidebarWidth$)))),S.BMQ("aria-label",S.bMT(4,16,"menu.header.nav.description")),S.R7$(8),S.Y8G("alt",S.bMT(9,18,"menu.header.image.logo")),S.R7$(5),S.JRh(S.bMT(14,20,"menu.header.admin")),S.R7$(3),S.BMQ("aria-label",S.bMT(17,22,"menu.header.admin.description")),S.R7$(2),S.Y8G("ngForOf",S.bMT(19,24,Q.sections)),S.R7$(5),S.Y8G("ngIf",S.bMT(24,26,Q.menuCollapsed)),S.R7$(2),S.Y8G("ngIf",!0!==S.bMT(26,28,Q.menuCollapsed)),S.R7$(4),S.SpI(" ",S.bMT(31,32,S.bMT(30,30,Q.menuCollapsed)?"menu.section.pin":"menu.section.unpin")," ")}}let X=(()=>{class K extends T.Z{constructor(Q,J,z,q,ee,de,Ce){super(Q,J,ee,de,Ce),this.menuService=Q,this.injector=J,this.variableService=z,this.authService=q,this.authorizationService=ee,this.route=de,this.themeService=Ce,this.menuID=u.D.ADMIN,this.sidebarOpen=!0,this.sidebarClosed=!this.sidebarOpen,this.sidebarTransitioning=!this.sidebarOpen,this.inFocus$=new e.t(!1)}ngOnInit(){super.ngOnInit(),this.authService.isAuthenticated().subscribe(Q=>{Q&&this.menuService.showMenu(this.menuID)}),this.menuCollapsed.pipe((0,g.$)()).subscribe(Q=>{this.sidebarOpen=!Q,this.sidebarClosed=Q}),this.sidebarExpanded=(0,f.z)([this.menuCollapsed,this.menuPreviewCollapsed]).pipe((0,d.T)(([Q,J])=>!Q||!J)),this.inFocus$.pipe((0,y.B)(50),(0,E.F)(),(0,_.E)((0,f.z)([this.menuCollapsed,this.menuPreviewCollapsed]))).subscribe(([Q,[J,z]])=>{J&&(Q&&z?this.expandPreview(new Event("focusin \u2192 expand")):!Q&&!z&&this.collapsePreview(new Event("focusout \u2192 collapse")))}),this.menuVisible=this.menuService.isMenuVisibleWithVisibleSections(this.menuID)}handleFocusIn(){this.inFocus$.next(!0)}handleFocusOut(){this.inFocus$.next(!1)}handleMouseEnter(Q){this.inFocus$.getValue()?Q.preventDefault():this.expandPreview(Q)}handleMouseLeave(Q){this.inFocus$.getValue()?Q.preventDefault():this.collapsePreview(Q)}startSlide(Q){this.sidebarTransitioning=!0,"expanded"===Q.toState?this.sidebarClosed=!1:"collapsed"===Q.toState&&(this.sidebarOpen=!1)}finishSlide(Q){this.sidebarTransitioning=!1,"expanded"===Q.fromState?this.sidebarClosed=!0:"collapsed"===Q.fromState&&(this.sidebarOpen=!0)}static#e=this.\u0275fac=function(J){return new(J||K)(S.rXU(R.$),S.rXU(S.zZn),S.rXU(w.J),S.rXU(b.uR),S.rXU(O.AuthorizationDataService),S.rXU(M.nX),S.rXU(v.Fs))};static#t=this.\u0275cmp=S.VBU({type:K,selectors:[["ds-base-admin-sidebar"]],hostBindings:function(J,z){1&J&&S.bIt("focusin",function(){return z.handleFocusIn()})("focusout",function(){return z.handleFocusOut()})},inputs:{expandedSidebarWidth$:"expandedSidebarWidth$",collapsedSidebarWidth$:"collapsedSidebarWidth$"},standalone:!0,features:[S.Vt3,S.aNF],decls:2,vars:3,consts:[["class","navbar navbar-dark p-0 vh-100","id","admin-sidebar",3,"ngClass","mouseenter","mouseleave",4,"ngIf"],["id","admin-sidebar",1,"navbar","navbar-dark","p-0","vh-100",3,"mouseenter","mouseleave","ngClass"],["id","sidebar-header-container","aria-hidden","true",1,"sidebar-full-width-container"],[1,"sidebar-section-wrapper"],[1,"sidebar-fixed-element-wrapper"],["id","admin-sidebar-logo","src","assets/images/dspace-logo-mini.svg","aria-hidden","true",3,"alt"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item"],[1,"my-1"],["id","sidebar-top-level-items-container",1,"sidebar-full-width-container"],["id","sidebar-top-level-items","role","menubar",1,"sidebar-full-width-container"],[4,"ngFor","ngForOf"],["id","sidebar-collapse-toggle-container",1,"sidebar-full-width-container"],["id","sidebar-collapse-toggle","href","javascript:void(0);",1,"sidebar-section-wrapper","sidebar-full-width-container",3,"click","keyup.space"],["class","fas fa-fw fa-angle-double-right",3,"title",4,"ngIf"],["class","fas fa-fw fa-angle-double-left",3,"title",4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[1,"fas","fa-fw","fa-angle-double-right",3,"title"],[1,"fas","fa-fw","fa-angle-double-left",3,"title"]],template:function(J,z){1&J&&(S.DNE(0,V,32,44,"nav",0),S.nI1(1,"async")),2&J&&S.Y8G("ngIf",S.bMT(1,1,z.menuVisible))},dependencies:[i.bT,n.zH,n.QE,i.YU,i.pM,i.OI,i.Jj,c.h,c.D9],styles:["[_nghost-%COMP%]{position:fixed;left:0;top:0;z-index:var(--ds-sidebar-z-index)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]{max-width:var(--ds-admin-sidebar-fixed-element-width);display:flex;flex-direction:column;flex-wrap:nowrap}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]{flex:1 1 auto;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:var(--ds-dark-scrollbar-width);height:3px}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-button{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{height:50px;background-color:var(--ds-dark-scrollbar-fg);border-radius:3px}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-resizer{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   img#admin-sidebar-logo[_ngcontent-%COMP%]{height:var(--ds-admin-sidebar-logo-height)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-full-width-container{width:100%;padding-left:0;padding-right:0;margin-left:0;margin-right:0}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-item{padding-top:var(--ds-admin-sidebar-item-padding);padding-bottom:var(--ds-admin-sidebar-item-padding)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-fixed-element-wrapper{min-width:var(--ds-admin-sidebar-fixed-element-width);flex:1 1 auto;display:flex;flex-direction:row;justify-content:center;align-items:center}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-collapsible-element-outer-wrapper{display:flex;flex-wrap:wrap;justify-content:flex-end;max-width:calc(100% - var(--ds-admin-sidebar-fixed-element-width));padding-left:var(--ds-dark-scrollbar-width);overflow-x:hidden}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-collapsible-element-outer-wrapper>.sidebar-collapsible-element-inner-wrapper{min-width:calc(var(--ds-admin-sidebar-collapsible-element-width) - var(--ds-dark-scrollbar-width));height:100%;padding-right:var(--ds-admin-sidebar-item-padding)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]    {color:#fff}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a{color:var(--ds-admin-sidebar-link-color);text-decoration:none}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a:hover, [_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a:focus{color:var(--ds-admin-sidebar-link-hover-color)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-header-container[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-header-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-header-container[_ngcontent-%COMP%]   .sidebar-fixed-element-wrapper[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-header-bg)}  .browser-firefox-windows{--ds-dark-scrollbar-width: 20px}"],data:{animation:[I.ck]}})}return K})()},20780:(B,D,t)=>{"use strict";t.d(D,{W:()=>j});var i=t(54460),n=t(69685),c=t(76627),e=t(47947),f=t(71204);const g=(0,f.iF)({backgroundColor:"{{ startColor }}"}),d=(0,f.iF)({backgroundColor:"{{ endColor }}"}),y=(0,f.hZ)("bgColor",[(0,f.wk)("startBackground",g,{params:{startColor:"*"}}),(0,f.wk)("endBackground",d,{params:{endColor:"*"}}),(0,f.kY)("startBackground <=> endBackground",(0,f.Os)([(0,f.P)("@*",(0,f.MA)()),(0,f.i0)("200ms")]))]);var E=t(7575),_=t(74531),b=t(62990),O=t(78198),I=t(33851),T=t(82191),R=t(53107),u=t(95968);const w=x=>({expanded:x}),v=x=>({endColor:x}),S=(x,G)=>({value:x,params:G});function M(x,G){1&x&&R.eu8(0)}function L(x,G){1&x&&R.eu8(0)}function F(x,G){if(1&x&&(R.j41(0,"div",14),R.DNE(1,L,1,0,"ng-container",6),R.nI1(2,"async"),R.nI1(3,"async"),R.k0s()),2&x){const Y=G.$implicit,V=R.XpG(2);R.R7$(),R.Y8G("ngComponentOutlet",R.bMT(2,2,V.sectionMap$).get(Y.id).component)("ngComponentOutletInjector",R.bMT(3,4,V.sectionMap$).get(Y.id).injector)}}function $(x,G){if(1&x&&(R.j41(0,"div",9),R.nrm(1,"div",10),R.j41(2,"div",3)(3,"div",11)(4,"div",12),R.nI1(5,"translate"),R.DNE(6,F,4,6,"div",13),R.nI1(7,"async"),R.k0s()()()()),2&x){const Y=R.XpG();R.Y8G("@slide",void 0),R.R7$(4),R.Y8G("id",Y.adminMenuSectionId(Y.section.id)),R.BMQ("aria-label",R.bMT(5,4,"menu.section."+Y.section.id)),R.R7$(2),R.Y8G("ngForOf",R.bMT(7,6,Y.subSections$))}}let j=(()=>{class x extends T.g{constructor(Y,V,X,K,ae){super(Y,V,K,ae),this.menuService=V,this.variableService=X,this.injector=K,this.router=ae,this.menuID=O.D.ADMIN}ngOnInit(){super.ngOnInit(),this.sidebarActiveBg$=this.variableService.getVariable("--ds-admin-sidebar-active-bg"),this.isSidebarCollapsed$=this.menuService.isMenuCollapsed(this.menuID),this.isSidebarPreviewCollapsed$=this.menuService.isMenuPreviewCollapsed(this.menuID),this.isExpanded$=(0,c.z)([this.active,this.isSidebarCollapsed$,this.isSidebarPreviewCollapsed$]).pipe((0,e.T)(([Y,V,X])=>Y&&(!V||!X)))}toggleSection(Y){this.menuService.expandMenuPreview(this.menuID),super.toggleSection(Y)}adminMenuSubsectionId(Y,V){return`admin-menu-section-${Y}-${V}`}static#e=this.\u0275fac=function(V){return new(V||x)(R.rXU("sectionDataProvider"),R.rXU(b.$),R.rXU(I.J),R.rXU(R.zZn),R.rXU(u.Ix))};static#t=this.\u0275cmp=R.VBU({type:x,selectors:[["ds-expandable-admin-sidebar-section"]],standalone:!0,features:[R.Vt3,R.aNF],decls:19,vars:40,consts:[[3,"ngClass"],["role","menuitem","tabindex","0","aria-haspopup","menu","href","javascript:void(0);",1,"sidebar-section-wrapper",3,"click","keyup.space"],["data-test","sidebar-section-icon","aria-hidden","true",1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item","toggler-wrapper"],[3,"id"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",1,"fas","fa-chevron-right","fa-xs"],["class","sidebar-section-wrapper subsection",4,"ngIf"],[1,"sidebar-section-wrapper","subsection"],[1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper"],["role","menu",1,"sidebar-sub-level-item-list",3,"id"],["class","sidebar-item",4,"ngFor","ngForOf"],[1,"sidebar-item"]],template:function(V,X){1&V&&(R.j41(0,"div",0),R.nI1(1,"async"),R.nI1(2,"async"),R.nI1(3,"async"),R.j41(4,"a",1),R.nI1(5,"async"),R.nI1(6,"translate"),R.bIt("click",function(ae){return X.toggleSection(ae)})("keyup.space",function(ae){return X.toggleSection(ae)}),R.j41(7,"div",2),R.nrm(8,"i"),R.k0s(),R.j41(9,"div",3)(10,"div",4)(11,"span",5),R.DNE(12,M,1,0,"ng-container",6),R.nI1(13,"async"),R.nI1(14,"async"),R.k0s(),R.nrm(15,"i",7),R.nI1(16,"async"),R.k0s()()(),R.DNE(17,$,8,8,"div",8),R.nI1(18,"async"),R.k0s()),2&V&&(R.Y8G("ngClass",R.eq3(33,w,R.bMT(1,15,X.isExpanded$)))("@bgColor",R.l_i(37,S,R.bMT(2,17,X.isExpanded$)?"endBackground":"startBackground",R.eq3(35,v,R.bMT(3,19,X.sidebarActiveBg$)))),R.R7$(4),R.AVh("disabled",null==X.section.model?null:X.section.model.disabled),R.BMQ("aria-controls",X.adminMenuSectionId(X.section.id))("aria-expanded",R.bMT(5,21,X.isExpanded$))("aria-label",R.bMT(6,23,"menu.section.toggle."+X.section.id)),R.R7$(4),R.ZvI("fas fa-",X.section.icon," fa-fw"),R.R7$(3),R.Y8G("id",X.adminMenuSectionTitleId(X.section.id)),R.R7$(),R.Y8G("ngComponentOutlet",R.bMT(13,25,X.sectionMap$).get(X.section.id).component)("ngComponentOutletInjector",R.bMT(14,27,X.sectionMap$).get(X.section.id).injector),R.R7$(3),R.Y8G("@rotate",R.bMT(16,29,X.isExpanded$)?"expanded":"collapsed"),R.R7$(2),R.Y8G("ngIf",R.bMT(18,31,X.isExpanded$)))},dependencies:[i.YU,i.OI,i.bT,i.pM,i.Jj,n.h,n.D9],styles:["[_nghost-%COMP%]   .sidebar-sub-level-item-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}[_nghost-%COMP%]   .sidebar-sub-level-item-list[_ngcontent-%COMP%]     .ds-menu-item{margin-left:var(--ds-admin-sidebar-section-indent)}[_nghost-%COMP%]   .toggler-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .subsection[_ngcontent-%COMP%]   .sidebar-collapsible-element-inner-wrapper[_ngcontent-%COMP%]{overflow-y:hidden}"],data:{animation:[E.e$,_.M6,y]}})}return x})()},32484:(B,D,t)=>{"use strict";t.d(D,{u:()=>g});var i=t(21124),c=(t(18350),t(53107));const e=["*"];function f(d,y){}let g=(()=>{class d extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["collapsedSidebarWidth$","expandedSidebarWidth$"]}getComponentName(){return"AdminSidebarComponent"}importThemedComponent(E){return t(48832)(`./${E}/app/admin/admin-sidebar/admin-sidebar.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,18350))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=c.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-admin-sidebar"]],inputs:{expandedSidebarWidth$:"expandedSidebarWidth$",collapsedSidebarWidth$:"collapsedSidebarWidth$"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},31829:(B,D,t)=>{"use strict";t.d(D,{D6:()=>w,Do:()=>L,EI:()=>De,ET:()=>I,EX:()=>Q,Eo:()=>T,Ep:()=>ee,H_:()=>_,N2:()=>z,OC:()=>X,Q:()=>x,RC:()=>q,RD:()=>ae,RZ:()=>le,Th:()=>S,UP:()=>Ce,Vv:()=>j,XG:()=>Z,al:()=>$,bZ:()=>K,cp:()=>Y,dF:()=>b,e_:()=>de,gf:()=>ve,hV:()=>O,il:()=>M,l2:()=>E,lH:()=>pe,n:()=>J,pU:()=>u,pX:()=>v,sB:()=>R,sT:()=>F,wN:()=>V});var i=t(68605),n=t(67873),c=t(58751),e=t(82376),f=t(47376),g=t(87913),d=t(15497),y=t(72683);const E="bitstreams",_="bitstream";function b(){return`/${E}`}function O(qe){return new g.t(b(),qe.uuid,"download").toString()}function I(qe,we){return{routerLink:new g.t((0,d.Fy)(),qe.uuid,"request-a-copy").toString(),queryParams:{bitstream:we.uuid}}}const T="home";function R(){return`/${T}`}const u="admin";function w(){return`/${u}`}const v="profile";function S(){return`/${v}`}const M="register";function L(){return`/${M}`}const F="forgot";function $(){return`/${F}`}const j="workflowitems";function x(){return`/${j}`}const G="workspaceitems";function Y(){return`/${G}`}function V(qe){if((0,y.a4)(qe))switch(qe.type){case e.E.type.value:return(0,n.c5)(qe.uuid);case c.p.type.value:return(0,i.JW)(qe.uuid);case f.q.type.value:return(0,d._o)(qe)}}const X="403";function K(){return`/${X}`}const ae="404";function Q(){return`/${ae}`}const J="500";function z(){return`/${J}`}const q="error",ee="info";function de(){return`/${ee}`}const Ce="access-control";function Z(){return`/${Ce}`}const le="request-a-copy";function De(){return`/${le}`}const pe="health",re="subscriptions";function ve(){return`/${re}`}},44363:(B,D,t)=>{"use strict";t.d(D,{rd:()=>Pn,pc:()=>ks,ox:()=>ps,wP:()=>Fs});var i=t(80399),n=t(73958),c=t(57999);const e={editEPerson:null};var g=t(61717);const d={editGroup:null};var E=t(94782);const _={editSchema:null,selectedSchemas:[],editField:null,selectedFields:[]};var O=t(42742);const I={expandedNodes:[],loadingNode:null};var R=t(69112),v=t(86042);const S={allIconsVisible:!1,models:{}};function L(vt,ht,lt){const{[ht]:jt,...Ln}=vt.models,As={...Ln,[ht]:{...jt,isTooltipVisible:lt(jt.isTooltipVisible)}};return{...vt,models:As}}var F=t(72683),$=t(611);function x(vt,ht,lt){return Object.assign({},vt,{[ht]:lt})}var G=t(75884),Y=t.n(G),V=t(98431),X=t.n(V),K=t(75232);const ae=Object.create(null);var De=t(78198);const pe={[De.D.ADMIN]:{id:De.D.ADMIN,collapsed:!0,previewCollapsed:!0,visible:!1,sections:{},sectionToSubsectionIndex:{}},[De.D.PUBLIC]:{id:De.D.PUBLIC,collapsed:!0,previewCollapsed:!0,visible:!0,sections:{},sectionToSubsectionIndex:{}},[De.D.DSO_EDIT]:{id:De.D.DSO_EDIT,collapsed:!0,previewCollapsed:!0,visible:!1,sections:{},sectionToSubsectionIndex:{}}};var re=t(53782);function it(vt,ht,lt){const jt=vt[ht.menuID],Ln=Object.assign({},jt.sections,{[lt.id]:lt}),ls=Object.assign({},jt,{sections:Ln});return Object.assign({},vt,{[ht.menuID]:ls})}function at(vt,ht,lt){const Ln=vt[ht.menuID].sections[ht.id];return(0,F.a4)(Ln)?it(vt,ht,Object.assign({},Ln,lt)):vt}var Yt=t(3690);const nn=[];var ne=t(47467);function It(vt){return{id:vt,selection:[]}}function $t(vt,ht){return vt.findIndex(lt=>lt.equals(ht))>=0}var Zt=t(71302);const mn=Object.create(null);var os=t(15003);const Mn=Object.create({});var rn=t(48408);const Dn={width:null,height:null};var zt=t(41162);const gt=Object.create(null);var Ze=t(89994);const He={sidebarCollapsed:!0};var Ct=t(18864);const Qe={currentTheme:null};var Dt=t(22270);const Wt=Object.create(null),Pn={router:i.C_,hostWindow:function Lt(vt=Dn,ht){return ht.type===rn.O.RESIZE?Object.assign({},vt,ht.payload):vt},forms:function Q(vt=ae,ht){switch(ht.type){case K.AI.FORM_INIT:return function ee(vt,ht){const lt={data:ht.payload.formData,valid:ht.payload.valid,touched:{},errors:[]};if((0,F.a4)(vt[ht.payload.formId])){const jt=Object.assign({},vt);return jt[ht.payload.formId]=Object.assign({},jt[ht.payload.formId],lt),jt}return Object.assign({},vt,{[ht.payload.formId]:lt})}(vt,ht);case K.AI.FORM_CHANGE:return function de(vt,ht){if((0,F.a4)(vt[ht.payload.formId])){const lt=Object.assign({},vt);return lt[ht.payload.formId]=Object.assign({},lt[ht.payload.formId],{data:ht.payload.formData,valid:vt[ht.payload.formId].valid}),lt}return vt}(vt,ht);case K.AI.FORM_ADD_TOUCHED:return function le(vt,ht){if((0,F.a4)(vt[ht.payload.formId])){const lt=Object.assign({},vt),jt=Object.assign({},lt[ht.payload.formId]);return lt[ht.payload.formId]=jt,jt.touched={...jt.touched},ht.payload.touched.forEach(Ln=>jt.touched[Ln]=!0),lt}return vt}(vt,ht);case K.AI.FORM_REMOVE:return function Z(vt,ht){if((0,F.a4)(vt[ht.payload.formId])){const lt=Object.assign({},vt);return delete lt[ht.payload.formId],lt}return vt}(vt,ht);case K.AI.FORM_STATUS_CHANGE:return function Ce(vt,ht){if((0,F.a4)(vt[ht.payload.formId])){const lt=Object.assign({},vt);return lt[ht.payload.formId]=Object.assign({},lt[ht.payload.formId],{data:vt[ht.payload.formId].data,valid:ht.payload.valid}),lt}return Object.assign({},vt,{[ht.payload.formId]:{data:vt[ht.payload.formId].data,valid:ht.payload.valid}})}(vt,ht);case K.AI.FORM_ADD_ERROR:return function J(vt,ht){const lt=ht.payload.formId;if((0,F.a4)(vt[lt])){const jt={fieldId:ht.payload.fieldId,fieldIndex:ht.payload.fieldIndex,message:ht.payload.errorMessage},Ln=ht.payload.fieldId.replace(/\_/g,"."),ls=Object.assign({},vt[lt].touched,{[Ln]:!0});return Object.assign({},vt,{[lt]:{data:vt[lt].data,valid:vt[lt].valid,errors:vt[lt].errors?X()(vt[lt].errors.concat(jt),Y()):[].concat(jt),touched:ls}})}return vt}(vt,ht);case K.AI.FORM_REMOVE_ERROR:return function z(vt,ht){const lt=ht.payload.formId,jt=ht.payload.fieldId,Ln=ht.payload.fieldIndex;if((0,F.a4)(vt[lt])){const ls=vt[lt].errors.filter(In=>In.fieldId!==jt||In.fieldIndex!==Ln),As=Object.assign({},vt);return As[lt]=Object.assign({},vt[lt],{errors:ls}),As}return vt}(vt,ht);case K.AI.FORM_CLEAR_ERRORS:return function q(vt,ht){const lt=ht.payload.formId;if((0,F.a4)(vt[lt])){const jt=[],Ln=Object.assign({},vt);return Ln[lt]=Object.assign({},vt[lt],{errors:jt}),Ln}return vt}(vt,ht);default:return vt}},metadataRegistry:function b(vt=_,ht){switch(ht.type){case E.Kt.EDIT_SCHEMA:return Object.assign({},vt,{editSchema:ht.schema});case E.Kt.CANCEL_EDIT_SCHEMA:return Object.assign({},vt,{editSchema:null});case E.Kt.SELECT_SCHEMA:return Object.assign({},vt,{selectedSchemas:[...vt.selectedSchemas,ht.schema]});case E.Kt.DESELECT_SCHEMA:return Object.assign({},vt,{selectedSchemas:vt.selectedSchemas.filter(lt=>lt!==ht.schema)});case E.Kt.DESELECT_ALL_SCHEMA:return Object.assign({},vt,{selectedSchemas:[]});case E.Kt.EDIT_FIELD:return Object.assign({},vt,{editField:ht.field});case E.Kt.CANCEL_EDIT_FIELD:return Object.assign({},vt,{editField:null});case E.Kt.SELECT_FIELD:return Object.assign({},vt,{selectedFields:[...vt.selectedFields,ht.field]});case E.Kt.DESELECT_FIELD:return Object.assign({},vt,{selectedFields:vt.selectedFields.filter(lt=>lt!==ht.field)});case E.Kt.DESELECT_ALL_FIELD:return Object.assign({},vt,{selectedFields:[]});default:return vt}},notifications:function je(vt=nn,ht){switch(ht.type){case Yt.Is.NEW_NOTIFICATION:return[...vt,ht.payload];case Yt.Is.REMOVE_ALL_NOTIFICATIONS:return[];case Yt.Is.REMOVE_NOTIFICATION:return((vt,ht)=>vt.filter(lt=>lt.id!==ht.payload))(vt,ht);default:return vt}},sidebar:function We(vt=He,ht){switch(ht.type){case Ze.Kd.COLLAPSE:return Object.assign({},vt,{sidebarCollapsed:!0});case Ze.Kd.EXPAND:return Object.assign({},vt,{sidebarCollapsed:!1});case Ze.Kd.TOGGLE:return Object.assign({},vt,{sidebarCollapsed:!vt.sidebarCollapsed});default:return vt}},searchFilter:function Ke(vt=gt,ht){switch(ht.type){case zt.y$.INITIALIZE:return Object.assign({},vt,{[ht.filterName]:{filterCollapsed:!ht.initiallyExpanded,minimized:!1,page:1}});case zt.y$.COLLAPSE:return Object.assign({},vt,{[ht.filterName]:{filterCollapsed:!0,minimized:vt[ht.filterName].minimized,page:vt[ht.filterName].page}});case zt.y$.EXPAND:return Object.assign({},vt,{[ht.filterName]:{filterCollapsed:!1,minimized:vt[ht.filterName].minimized,page:vt[ht.filterName].page}});case zt.y$.DECREMENT_PAGE:{const lt=vt[ht.filterName].page-1;return Object.assign({},vt,{[ht.filterName]:{filterCollapsed:vt[ht.filterName].filterCollapsed,minimized:vt[ht.filterName].minimized,page:lt>=1?lt:1}})}case zt.y$.INCREMENT_PAGE:return Object.assign({},vt,{[ht.filterName]:{filterCollapsed:vt[ht.filterName].filterCollapsed,minimized:vt[ht.filterName].minimized,page:vt[ht.filterName].page+1}});case zt.y$.MINIMIZE_ALL:return Object.assign({},...Object.entries(vt).map(([lt,jt])=>({[lt]:{...jt,minimized:!0}})));case zt.y$.RESET_PAGE:return Object.assign({},vt,{[ht.filterName]:{filterCollapsed:vt[ht.filterName].filterCollapsed,minimized:!1,page:1}});case zt.y$.TOGGLE:return Object.assign({},vt,{[ht.filterName]:{filterCollapsed:!vt[ht.filterName].filterCollapsed,minimized:vt[ht.filterName].minimized,page:vt[ht.filterName].page}});default:return vt}},truncatable:function bn(vt=Wt,ht){switch(ht.type){case Dt.VR.COLLAPSE:return Object.assign({},vt,{[ht.id]:{collapsed:!0}});case Dt.VR.EXPAND:return Object.assign({},vt,{[ht.id]:{collapsed:!1}});case Dt.VR.TOGGLE:return vt[ht.id]||(vt[ht.id]={collapsed:!1}),Object.assign({},vt,{[ht.id]:{collapsed:!vt[ht.id].collapsed}});default:return vt}},cssVariables:function xs(vt=Mn,ht){switch(ht.type){case os.$s.ADD:{const lt=ht.payload;return Object.assign({},vt,{[lt.name]:lt.value})}case os.$s.ADD_ALL:return Object.assign({},vt,...ht.payload.map(({key:jt,value:Ln})=>({[jt]:Ln})));case os.$s.CLEAR:return Mn;default:return vt}},theme:function Ot(vt=Qe,ht){return ht.type===Ct.t.SET?{currentTheme:ht.payload.name}:vt},menus:function ve(vt=pe,ht){switch(ht.type){case re.jZ.COLLAPSE_MENU:{const lt=Object.assign({},vt[ht.menuID],{collapsed:!0});return Object.assign({},vt,{[ht.menuID]:lt})}case re.jZ.EXPAND_MENU:{const lt=Object.assign({},vt[ht.menuID],{collapsed:!1});return Object.assign({},vt,{[ht.menuID]:lt})}case re.jZ.COLLAPSE_MENU_PREVIEW:{const lt=Object.assign({},vt[ht.menuID],{previewCollapsed:!0});return Object.assign({},vt,{[ht.menuID]:lt})}case re.jZ.EXPAND_MENU_PREVIEW:{const lt=Object.assign({},vt[ht.menuID],{previewCollapsed:!1});return Object.assign({},vt,{[ht.menuID]:lt})}case re.jZ.TOGGLE_MENU:{const lt=vt[ht.menuID],jt=Object.assign({},lt,{collapsed:!lt.collapsed});return Object.assign({},vt,{[ht.menuID]:jt})}case re.jZ.SHOW_MENU:{const lt=Object.assign({},vt[ht.menuID],{visible:!0});return Object.assign({},vt,{[ht.menuID]:lt})}case re.jZ.HIDE_MENU:{const lt=Object.assign({},vt[ht.menuID],{visible:!1});return Object.assign({},vt,{[ht.menuID]:lt})}case re.jZ.REINIT_MENUS:return Object.assign({},pe);case re.jZ.ADD_SECTION:return function fe(vt,ht){return function Ie(vt,ht){const lt=vt[ht.menuID],jt={},Ln={};Object.values(lt.sections).sort((As,In)=>(As.index||0)-(In.index||0)).forEach(As=>{if(jt[As.id]=As,(0,F.a4)(As.parentID)){const In=(0,F.a4)(Ln[As.parentID])?Ln[As.parentID]:[];Ln[As.parentID]=[...In,As.id]}});const ls=Object.assign({},lt,{sections:jt,sectionToSubsectionIndex:Ln});return Object.assign({},vt,{[ht.menuID]:ls})}(it(vt,ht,ht.section),ht)}(vt,ht);case re.jZ.REMOVE_SECTION:return function Ne(vt,ht){const jt=ht.id,Ln=function qe(vt,ht,lt){const jt=ht.id,Ln=ht.parentID;if((0,F.a4)(Ln)){const ls=vt[lt],As=ls.sectionToSubsectionIndex,In=(0,F.a4)(As[Ln])?As[Ln]:[],yn=Object.assign({},As,{[Ln]:In.filter(Un=>Un!==jt)}),hn=Object.assign({},ls,{sectionToSubsectionIndex:yn});return Object.assign({},vt,{[lt]:hn})}return vt}(vt,vt[ht.menuID].sections[ht.id],ht.menuID),ls=Object.assign({},Ln[ht.menuID],{sections:Object.assign({},Ln[ht.menuID].sections)});return delete ls.sections[jt],Object.assign({},Ln,{[ht.menuID]:ls})}(vt,ht);case re.jZ.ACTIVATE_SECTION:return function et(vt,ht){if((0,F.a4)(vt[ht.menuID].sections[ht.id]))return at(vt,ht,{active:!0})}(vt,ht);case re.jZ.DEACTIVATE_SECTION:return function Ve(vt,ht){if((0,F.a4)(vt[ht.menuID].sections[ht.id]))return at(vt,ht,{active:!1})}(vt,ht);case re.jZ.TOGGLE_ACTIVE_SECTION:return function yt(vt,ht){const lt=vt[ht.menuID].sections[ht.id];return(0,F.a4)(lt)?at(vt,ht,{active:!lt.active}):vt}(vt,ht);case re.jZ.HIDE_SECTION:return function we(vt,ht){return at(vt,ht,{visible:!1})}(vt,ht);case re.jZ.SHOW_SECTION:return function Be(vt,ht){return at(vt,ht,{visible:!0})}(vt,ht);default:return vt}},objectSelection:function Rn(vt=mn,ht){switch(ht.type){case Zt.T8.INITIAL_SELECT:return(0,F.Im)(vt)||(0,F.Im)(vt[ht.key])||(0,F.Im)(vt[ht.key][ht.id])?Object.assign({},vt,{[ht.key]:Object.assign({},vt[ht.key],{[ht.id]:{checked:!0}})}):vt;case Zt.T8.INITIAL_DESELECT:return(0,F.Im)(vt)||(0,F.Im)(vt[ht.key])||(0,F.Im)(vt[ht.key][ht.id])?Object.assign({},vt,{[ht.key]:Object.assign({},vt[ht.key],{[ht.id]:{checked:!1}})}):vt;case Zt.T8.SELECT:return Object.assign({},vt,{[ht.key]:Object.assign({},vt[ht.key],{[ht.id]:{checked:!0}})});case Zt.T8.DESELECT:return Object.assign({},vt,{[ht.key]:Object.assign({},vt[ht.key],{[ht.id]:{checked:!1}})});case Zt.T8.SWITCH:return Object.assign({},vt,{[ht.key]:Object.assign({},vt[ht.key],{[ht.id]:{checked:!!((0,F.Im)(vt)||(0,F.Im)(vt[ht.key])||(0,F.Im)(vt[ht.key][ht.id]))||!vt[ht.key][ht.id].checked}})});case Zt.T8.RESET:return(0,F.Im)(ht.key)?{}:Object.assign({},vt,{[ht.key]:{}});default:return vt}},selectableLists:function Ee(vt={},ht){const lt=vt[ht.id]||It(ht.id);switch(ht.type){case ne.Sg.SELECT:{const jt=function ke(vt,ht){const lt=ht.payload.filter(Ln=>!$t(vt.selection,Ln)),jt=[...vt.selection,...lt];return Object.assign({},vt,{selection:jt})}(lt,ht);return Object.assign({},vt,{[ht.id]:jt})}case ne.Sg.SELECT_SINGLE:{const jt=function dt(vt,ht){let lt=vt.selection;return $t(vt.selection,ht.payload.object)||(lt=[...vt.selection,ht.payload.object]),Object.assign({},vt,{selection:lt})}(lt,ht);return Object.assign({},vt,{[ht.id]:jt})}case ne.Sg.DESELECT:{const jt=function Bt(vt,ht){const lt=vt.selection.filter(jt=>(0,F.Tn)(ht.payload.find(Ln=>Ln.equals(jt))));return Object.assign({},vt,{selection:lt})}(lt,ht);return Object.assign({},vt,{[ht.id]:jt})}case ne.Sg.DESELECT_SINGLE:{const jt=function wt(vt,ht){const lt=vt.selection.filter(jt=>!jt.equals(ht.payload));return Object.assign({},vt,{selection:lt})}(lt,ht);return Object.assign({},vt,{[ht.id]:jt})}case ne.Sg.SET_SELECTION:{const jt=function tn(vt,ht){return Object.assign({},vt,{selection:ht.payload})}(lt,ht);return Object.assign({},vt,{[ht.id]:jt})}case ne.Sg.DESELECT_ALL:{const jt=It(ht.id);return Object.assign({},vt,{[ht.id]:jt})}default:return vt}},relationshipLists:function j(vt={},ht){switch(ht.type){case $.SF.SET_NAME_VARIANT:{const Ln=x(vt[ht.payload.listID]||{},ht.payload.itemID,ht.payload.nameVariant);return Object.assign({},vt,{[ht.payload.listID]:Ln})}case $.SF.REMOVE_NAME_VARIANT:{const lt=vt[ht.payload.listID];if((0,F.a4)(lt)&&(0,F.a4)(lt[ht.payload.itemID])){const jt=x(lt,ht.payload.itemID,void 0);return Object.assign({},vt,{[ht.payload.listID]:jt})}return vt}default:return vt}},communityList:function T(vt=I,ht){return ht.type===O.x.SAVE?Object.assign({},vt,{expandedNodes:ht.payload.expandedNodes,loadingNode:ht.payload.loadingNode}):vt},epeopleRegistry:function f(vt=e,ht){switch(ht.type){case c.bA.EDIT_EPERSON:return Object.assign({},vt,{editEPerson:ht.eperson});case c.bA.CANCEL_EDIT_EPERSON:return Object.assign({},vt,{editEPerson:null});default:return vt}},groupRegistry:function y(vt=d,ht){switch(ht.type){case g.O3.EDIT_GROUP:return Object.assign({},vt,{editGroup:ht.group});case g.O3.CANCEL_EDIT_GROUP:return Object.assign({},vt,{editGroup:null});default:return vt}},correlationId:(vt=null,ht)=>ht.type===R.N.SET?ht.payload:vt,contextHelp:function M(vt=S,ht){switch(ht.type){case v.y5.CONTEXT_HELP_TOGGLE_ICONS:return{...vt,allIconsVisible:!vt.allIconsVisible};case v.y5.CONTEXT_HELP_ADD:{const lt={...vt.models,[ht.model.id]:ht.model};return{...vt,models:lt}}case v.y5.CONTEXT_HELP_REMOVE:{const{[ht.id]:lt,...jt}=vt.models;return{...vt,models:jt}}case v.y5.CONTEXT_HELP_TOGGLE_TOOLTIP:return L(vt,ht.id,lt=>!lt);case v.y5.CONTEXT_HELP_SHOW_TOOLTIP:return L(vt,ht.id,lt=>!0);case v.y5.CONTEXT_HELP_HIDE_TOOLTIP:return L(vt,ht.id,lt=>!1);default:return vt}}},ps=vt=>vt.router;function ks(vt,ht){return(0,n.Mz)(ht,lt=>{if((0,F.a4)(lt))return lt[vt]})}const Fs={runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0}}},29710:(B,D,t)=>{"use strict";t.r(D),t.d(D,{BreadcrumbsComponent:()=>u});var i=t(54460),n=t(95968),c=t(2155),e=t(69685),f=t(63524),g=t(53107),d=t(67474);const y=()=>({text:"home.breadcrumbs",url:"/"});function E(w,v){1&w&&g.eu8(0)}function _(w,v){1&w&&g.eu8(0)}function b(w,v){if(1&w&&(g.qex(0),g.DNE(1,_,1,0,"ng-container",6),g.bVm()),2&w){const S=v.$implicit,M=v.last;g.XpG(2);const L=g.sdS(4),F=g.sdS(6);g.R7$(),g.Y8G("ngTemplateOutlet",M?F:L)("ngTemplateOutletContext",S)}}function O(w,v){if(1&w&&(g.j41(0,"nav",4)(1,"ol",5),g.DNE(2,E,1,0,"ng-container",6)(3,b,2,2,"ng-container",7),g.k0s()()),2&w){const S=g.XpG().ngVar,M=g.sdS(4),L=g.sdS(6);g.R7$(2),g.Y8G("ngTemplateOutlet",(null==S?null:S.length)>0?M:L)("ngTemplateOutletContext",g.lJ4(3,y)),g.R7$(),g.Y8G("ngForOf",S)}}function I(w,v){if(1&w&&(g.j41(0,"li",8)(1,"div",9)(2,"a",10),g.nI1(3,"translate"),g.EFF(4),g.nI1(5,"translate"),g.k0s()()()),2&w){const S=v.text,M=v.url;g.R7$(2),g.Y8G("routerLink",M)("ngbTooltip",g.bMT(3,3,S)),g.R7$(2),g.JRh(g.bMT(5,5,S))}}function T(w,v){if(1&w&&(g.j41(0,"li",11)(1,"div",9)(2,"div",12),g.EFF(3),g.nI1(4,"translate"),g.k0s()()()),2&w){const S=v.text;g.R7$(3),g.JRh(g.bMT(4,1,S))}}function R(w,v){if(1&w&&(g.qex(0),g.DNE(1,O,4,4,"nav",3),g.nI1(2,"async"),g.DNE(3,I,6,7,"ng-template",null,0,g.C5r)(5,T,5,3,"ng-template",null,1,g.C5r),g.bVm()),2&w){const S=g.XpG();g.R7$(),g.Y8G("ngIf",g.bMT(2,1,S.showBreadcrumbs$))}}let u=(()=>{class w{constructor(S){this.breadcrumbsService=S,this.breadcrumbs$=S.breadcrumbs$,this.showBreadcrumbs$=S.showBreadcrumbs$}static#e=this.\u0275fac=function(M){return new(M||w)(g.rXU(d.E))};static#t=this.\u0275cmp=g.VBU({type:w,selectors:[["ds-base-breadcrumbs"]],standalone:!0,features:[g.aNF],decls:2,vars:3,consts:[["breadcrumb",""],["activeBreadcrumb",""],[4,"ngVar"],["aria-label","breadcrumb","class","nav-breadcrumb",4,"ngIf"],["aria-label","breadcrumb",1,"nav-breadcrumb"],[1,"container","breadcrumb","my-0"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"breadcrumb-item"],[1,"breadcrumb-item-limiter"],["placement","bottom",1,"text-truncate",3,"routerLink","ngbTooltip"],["aria-current","page",1,"breadcrumb-item","active"],[1,"text-truncate"]],template:function(M,L){1&M&&(g.DNE(0,R,7,3,"ng-container",2),g.nI1(1,"async")),2&M&&g.Y8G("ngVar",g.bMT(1,1,L.breadcrumbs$))},dependencies:[f.r,i.bT,i.T3,i.pM,n.Wk,c.n8,c.md,i.Jj,e.h,e.D9],styles:['@charset "UTF-8";.nav-breadcrumb[_ngcontent-%COMP%]{background-color:var(--ds-breadcrumb-bg)}.breadcrumb[_ngcontent-%COMP%]{border-radius:0;padding-bottom:calc(var(--ds-content-spacing) / 2);padding-top:calc(var(--ds-content-spacing) / 2);background-color:var(--ds-breadcrumb-bg)}li.breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb-item-limiter[_ngcontent-%COMP%]{display:inline-block;max-width:var(--ds-breadcrumb-max-length)}.breadcrumb-item-limiter[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;display:block}li.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ds-breadcrumb-link-color)}li.breadcrumb-item.active[_ngcontent-%COMP%]{color:var(--ds-breadcrumb-link-active-color)}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:block;content:"\\2022"!important}']})}return w})()},67474:(B,D,t)=>{"use strict";t.d(D,{E:()=>b});var i=t(95968),n=t(17838),c=t(76627),e=t(63016),f=t(41483),g=t(82040),d=t(22867),y=t(47947),E=t(72683),_=t(53107);let b=(()=>{class O{constructor(T,R){this.route=T,this.router=R,this.breadcrumbs$=new n.m(1),this.showBreadcrumbs$=new n.m(1)}listenForRouteChanges(){this.router.events.pipe((0,f.p)(T=>T instanceof i.wF),(0,g.M)(()=>this.reset()),(0,d.n)(()=>this.resolveBreadcrumbs(this.route.root))).subscribe(this.breadcrumbs$)}resolveBreadcrumbs(T){const R=T.snapshot.data,u=T.snapshot.routeConfig,w=(0,E.Tn)(T.firstChild);if(w&&((0,E.a4)(R.showBreadcrumbs)?this.showBreadcrumbs$.next(R.showBreadcrumbs):(0,E.b0)(R.breadcrumb)&&this.showBreadcrumbs$.next(!1)),(0,E.a4)(R)&&(0,E.a4)(R.breadcrumb)&&(0,E.a4)(u)&&(0,E.a4)(u.resolve)&&(0,E.a4)(u.resolve.breadcrumb)){const{provider:v,key:S,url:M}=R.breadcrumb;return w?v.getBreadcrumbs(S,M):(0,c.z)(v.getBreadcrumbs(S,M),this.resolveBreadcrumbs(T.firstChild)).pipe((0,y.T)(L=>[].concat.apply([],L)))}return w?(0,e.of)([]):this.resolveBreadcrumbs(T.firstChild)}reset(){this.showBreadcrumbs$.next(!0)}static#e=this.\u0275fac=function(R){return new(R||O)(_.KVO(i.nX),_.KVO(i.Ix))};static#t=this.\u0275prov=_.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},91580:(B,D,t)=>{"use strict";t.d(D,{B:()=>f});var i=t(21124),n=t(53107);const c=["*"];function e(g,d){}let f=(()=>{class g extends i.J{getComponentName(){return"BreadcrumbsComponent"}importThemedComponent(y){return t(32012)(`./${y}/app/breadcrumbs/breadcrumbs.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,29710))}static#e=this.\u0275fac=(()=>{let y;return function(_){return(y||(y=n.xGo(g)))(_||g)}})();static#t=this.\u0275cmp=n.VBU({type:g,selectors:[["ds-breadcrumbs"]],standalone:!0,features:[n.Vt3,n.aNF],ngContentSelectors:c,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(E,_){1&E&&(n.NAR(),n.DNE(0,e,0,0,"ng-template",null,0,n.C5r),n.j41(2,"div",null,1),n.SdG(4),n.k0s())},encapsulation:2})}return g})()},91949:(B,D,t)=>{"use strict";t.d(D,{v0:()=>V,el:()=>X,M0:()=>ae,X$:()=>K});var i=t(54460),n=t(69685),c=t(71217),e=t(63016),f=t(76627),g=t(47947),d=t(58408),y=t(18062),E=t(83116),_=t(41198);class b{constructor(J,z,q,ee,de,Ce){this.metadataDefinition=J,this.pagination=z,this.sort=q,this.startsWith=ee,this.scope=de,this.fetchThumbnail=Ce}}var O=t(89632),I=t(60875),T=t(95438),u=(t(71526),t(12007)),w=t(72683),v=t(21548),S=t(67899),M=t(19904),F=(t(21894),t(53107)),$=t(95968);const j=Q=>({startsWith:Q}),x=(Q,J,z)=>({field:Q,startsWith:J,value:z});function G(Q,J){if(1&Q){const z=F.RV6();F.j41(0,"ds-browse-by",4),F.nI1(1,"translate"),F.nI1(2,"translate"),F.nI1(3,"translate"),F.nI1(4,"async"),F.nI1(5,"async"),F.bIt("prev",function(){F.eBV(z);const ee=F.XpG();return F.Njj(ee.goPrev())})("next",function(){F.eBV(z);const ee=F.XpG();return F.Njj(ee.goNext())}),F.k0s()}if(2&Q){const z=F.XpG();F.FS9("title",F.i5U(3,12,"browse.title",F.sMw(21,x,F.bMT(1,7,"browse.metadata."+z.browseId),z.startsWith?F.i5U(2,9,"browse.startsWith",F.eq3(19,j,'"'+z.startsWith+'"')):"",z.value?'"'+z.value+'"':""))),F.Y8G("displayTitle",z.displayTitle)("objects$",void 0!==z.items$?z.items$:z.browseEntries$)("paginationConfig",F.bMT(4,15,z.currentPagination$))("sortConfig",F.bMT(5,17,z.currentSort$))("type",z.startsWithType)("startsWithOptions",z.startsWithOptions)}}function Y(Q,J){1&Q&&(F.nrm(0,"ds-loading",5),F.nI1(1,"translate")),2&Q&&F.FS9("message",F.bMT(1,1,"loading.browse-by-page"))}const V="bbm";let X=(()=>{class Q{constructor(z,q,ee,de,Ce,Z,le){this.route=z,this.browseService=q,this.dsoService=ee,this.paginationService=de,this.router=Ce,this.appConfig=Z,this.dsoNameService=le,this.displayTitle=!0,this.scope$=new c.t(void 0),this.subs=[],this.defaultBrowseId="author",this.browseId=this.defaultBrowseId,this.startsWithType=M.c.text,this.value="",this.loading$=(0,e.of)(!0),this.fetchThumbnails=this.appConfig.browseBy.showThumbnails,this.paginationConfig=Object.assign(new S.W,{id:V,currentPage:1,pageSize:this.appConfig.browseBy.pageSize})}ngOnInit(){const z=new O.z("default",O.U.ASC);this.updatePage(K(this.defaultBrowseId,this.paginationConfig,z)),this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,z),this.subs.push((0,f.z)([this.route.params,this.route.queryParams,this.scope$,this.currentPagination$,this.currentSort$]).pipe((0,g.T)(([q,ee,de,Ce,Z])=>[Object.assign({},q,ee),de,Ce,Z])).subscribe(([q,ee,de,Ce])=>{this.browseId=q.id||this.defaultBrowseId,this.authority=q.authority,this.value="string"==typeof q.value?q.value.trim():"",(void 0===q.startsWith||""===q.startsWith)&&(this.startsWith=void 0),"string"==typeof q.startsWith&&(this.startsWith=q.startsWith.trim()),(0,w.hj)(this.value)?this.updatePageWithItems(ae(q,ee,de,Ce,this.browseId,this.fetchThumbnails),this.value,this.authority):this.updatePage(ae(q,ee,de,Ce,this.browseId,!1))})),this.updateStartsWithTextOptions()}ngOnChanges(){this.scope$.next(this.scope)}updateStartsWithTextOptions(){this.startsWithOptions=["0-9",..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")]}updatePage(z){this.browseEntries$=this.browseService.getBrowseEntriesFor(z),this.loading$=this.browseEntries$.pipe((0,g.T)(q=>q.isLoading)),this.items$=void 0}updatePageWithItems(z,q,ee){this.items$=this.browseService.getBrowseItemsFor(q,ee,z),this.loading$=this.items$.pipe((0,g.T)(de=>de.isLoading))}goPrev(){this.items$?this.items$.pipe((0,u.yd)()).subscribe(z=>{this.items$=this.browseService.getPrevBrowseItems(z)}):this.browseEntries$&&this.browseEntries$.pipe((0,u.yd)()).subscribe(z=>{this.browseEntries$=this.browseService.getPrevBrowseEntries(z)})}goNext(){this.items$?this.items$.pipe((0,u.yd)()).subscribe(z=>{this.items$=this.browseService.getNextBrowseItems(z)}):this.browseEntries$&&this.browseEntries$.pipe((0,u.yd)()).subscribe(z=>{this.browseEntries$=this.browseService.getNextBrowseEntries(z)})}ngOnDestroy(){this.subs.filter(z=>(0,w.a4)(z)).forEach(z=>z.unsubscribe()),this.paginationService.clearPagination(this.paginationConfig.id)}static#e=this.\u0275fac=function(q){return new(q||Q)(F.rXU($.nX),F.rXU(_.q),F.rXU(I.DSpaceObjectDataService),F.rXU(T.m),F.rXU($.Ix),F.rXU(y.vQ),F.rXU(E.f))};static#t=this.\u0275cmp=F.VBU({type:Q,selectors:[["ds-browse-by-metadata"]],inputs:{context:"context",browseByType:"browseByType",scope:"scope",displayTitle:"displayTitle"},standalone:!0,features:[F.OA$,F.aNF],decls:6,vars:6,consts:[[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"]],template:function(q,ee){1&q&&(F.j41(0,"section",0)(1,"div",1),F.DNE(2,G,6,25,"ds-browse-by",2),F.nI1(3,"async"),F.DNE(4,Y,2,3,"ds-loading",3),F.nI1(5,"async"),F.k0s()()),2&q&&(F.R7$(2),F.Y8G("ngIf",!0!==F.bMT(3,2,ee.loading$)),F.R7$(2),F.Y8G("ngIf",F.bMT(5,4,ee.loading$)))},dependencies:[i.Jj,i.bT,n.h,n.D9,v.v,d.U]})}return Q})();function K(Q,J,z,q){return(0,w.a4)(q)||(q=!1),new b(Q,J,z,null,null,q)}function ae(Q,J,z,q,ee,de){return new b(ee,z,q,Q.startsWith,J,de)}},21894:(B,D,t)=>{"use strict";t.d(D,{O:()=>i});var i=function(n){return n.Title="title",n.Metadata="text",n.Date="date",n.Hierarchy="hierarchy",n}(i||{})},22957:(B,D,t)=>{"use strict";t.d(D,{cv:()=>re});var i=t(71526),n=t(72683),c=t(50999),e=t(54460),f=t(69685),g=t(76627),d=t(47947),y=t(58408),E=t(18062),_=t(83116),b=t(41198),O=t(89632),I=t(60875),T=t(95438),R=t(75988),u=t(21548),w=t(19904),v=t(91949),S=t(53107),M=t(95968);const L=ve=>({startsWith:ve}),F=(ve,fe,Ie)=>({field:ve,startsWith:fe,value:Ie});function $(ve,fe){if(1&ve){const Ie=S.RV6();S.j41(0,"ds-browse-by",4),S.nI1(1,"translate"),S.nI1(2,"translate"),S.nI1(3,"translate"),S.nI1(4,"async"),S.nI1(5,"async"),S.bIt("prev",function(){S.eBV(Ie);const qe=S.XpG();return S.Njj(qe.goPrev())})("next",function(){S.eBV(Ie);const qe=S.XpG();return S.Njj(qe.goNext())}),S.k0s()}if(2&ve){const Ie=S.XpG();S.FS9("title",S.i5U(3,12,"browse.title",S.sMw(21,F,S.bMT(1,7,"browse.metadata."+Ie.browseId),Ie.startsWith?S.i5U(2,9,"browse.startsWith",S.eq3(19,L,'"'+Ie.startsWith+'"')):"",Ie.value?'"'+Ie.value+'"':""))),S.Y8G("displayTitle",Ie.displayTitle)("objects$",void 0!==Ie.items$?Ie.items$:Ie.browseEntries$)("paginationConfig",S.bMT(4,15,Ie.currentPagination$))("sortConfig",S.bMT(5,17,Ie.currentSort$))("type",Ie.startsWithType)("startsWithOptions",Ie.startsWithOptions)}}function j(ve,fe){1&ve&&(S.nrm(0,"ds-loading",5),S.nI1(1,"translate")),2&ve&&S.FS9("message",S.bMT(1,1,"loading.browse-by-page"))}let x=(()=>{class ve extends v.el{constructor(Ie,Ne,qe,we,Be,Ve,et,yt){super(Ie,Ne,qe,we,Be,Ve,et),this.route=Ie,this.browseService=Ne,this.dsoService=qe,this.paginationService=we,this.router=Be,this.appConfig=Ve,this.dsoNameService=et,this.cdRef=yt,this.defaultMetadataKeys=["dc.date.issued"]}ngOnInit(){const Ie=new O.z("default",O.U.ASC);this.startsWithType=w.c.date,this.updatePage((0,v.X$)(this.defaultBrowseId,this.paginationConfig,Ie,this.fetchThumbnails)),this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,Ie),this.subs.push((0,g.z)([this.route.params,this.route.queryParams,this.scope$,this.route.data,this.currentPagination$,this.currentSort$]).pipe((0,d.T)(([Ne,qe,we,Be,Ve,et])=>[Object.assign({},Ne,qe,Be),we,Ve,et])).subscribe(([Ne,qe,we,Be])=>{const Ve=Ne.browseDefinition?Ne.browseDefinition.metadataKeys:this.defaultMetadataKeys;this.browseId=Ne.id||this.defaultBrowseId,this.startsWith=+Ne.startsWith||Ne.startsWith;const et=(0,v.M0)(Ne,qe,we,Be,this.browseId,this.fetchThumbnails);this.updatePageWithItems(et,this.value,void 0),this.updateStartsWithOptions(this.browseId,Ve,Ne.scope)}))}updateStartsWithOptions(Ie,Ne,qe){const we=this.browseService.getFirstItemFor(Ie,qe,O.U.ASC),Be=this.browseService.getFirstItemFor(Ie,qe,O.U.DESC);this.loading$=(0,g.z)([we,Be]).pipe((0,d.T)(([Ve,et])=>Ve.isLoading||et.isLoading)),this.subs.push((0,g.z)([we,Be]).subscribe(([Ve,et])=>{let yt=this.getLimit(Ve,Ne,this.appConfig.browseBy.defaultLowerLimit);const it=this.getLimit(et,Ne,(new Date).getUTCFullYear()),at=[],Yt=5*Math.floor((it-this.appConfig.browseBy.oneYearLimit)/5),nn=10*Math.floor((it-this.appConfig.browseBy.fiveYearLimit)/10);yt-=yt<=nn?10:yt<=Yt?5:1;let je=it;for(;je>yt;)at.push(je),je<=nn?je-=10:je<=Yt?je-=5:je--;(0,n.hj)(at)&&(this.startsWithOptions=at,this.cdRef.detectChanges())}))}getLimit(Ie,Ne,qe){if((0,n.a4)(Ie.payload)){const we=Ie.payload.firstMetadataValue(Ne);if((0,n.hj)(we)&&(0,R.vd)(we)){const Be=new Date(we);return isNaN(Be.getUTCFullYear())?qe:Be.getUTCFullYear()}return(new Date).getUTCFullYear()}}static#e=this.\u0275fac=function(Ne){return new(Ne||ve)(S.rXU(M.nX),S.rXU(b.q),S.rXU(I.DSpaceObjectDataService),S.rXU(T.m),S.rXU(M.Ix),S.rXU(E.vQ),S.rXU(_.f),S.rXU(S.gRc))};static#t=this.\u0275cmp=S.VBU({type:ve,selectors:[["ds-browse-by-date"]],standalone:!0,features:[S.Vt3,S.aNF],decls:6,vars:6,consts:[[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"]],template:function(Ne,qe){1&Ne&&(S.j41(0,"section",0)(1,"div",1),S.DNE(2,$,6,25,"ds-browse-by",2),S.nI1(3,"async"),S.DNE(4,j,2,3,"ds-loading",3),S.nI1(5,"async"),S.k0s()()),2&Ne&&(S.R7$(2),S.Y8G("ngIf",!0!==S.bMT(3,2,qe.loading$)),S.R7$(2),S.Y8G("ngIf",S.bMT(5,4,qe.loading$)))},dependencies:[e.Jj,e.bT,f.h,f.D9,u.v,y.U]})}return ve})();var G=t(71217),Y=t(51040),V=t(21894);const X=()=>["/search"],K=ve=>({field:ve,startsWith:"",value:""});function ae(ve,fe){if(1&ve&&(S.j41(0,"h1"),S.EFF(1),S.nI1(2,"translate"),S.nI1(3,"translate"),S.k0s()),2&ve){const Ie=S.XpG();S.R7$(),S.SpI(" ",S.i5U(3,3,"browse.title",S.eq3(6,K,S.bMT(2,1,"browse.metadata."+Ie.vocabularyName)))," ")}}let Q=(()=>{class ve{constructor(Ie,Ne){this.route=Ie,this.translate=Ne,this.displayTitle=!0,this.scope$=new G.t(void 0),this.selectedItems=[],this.subs=[]}ngOnInit(){this.browseDefinition$=this.route.data.pipe((0,d.T)(Ie=>Ie.browseDefinition)),this.subs.push(this.browseDefinition$.subscribe(Ie=>{this.selectedItems=[],this.facetType=Ie.facetType,this.vocabularyName=Ie.vocabulary,this.vocabularyOptions={name:this.vocabularyName,closed:!0},this.description=this.translate.instant(`browse.metadata.${this.vocabularyName}.tree.descrption`)})),this.subs.push(this.scope$.subscribe(()=>{this.updateQueryParams()}))}ngOnChanges(){this.scope$.next(this.scope)}onSelect(Ie){this.selectedItems.push(Ie),this.filterValues=this.selectedItems.map(Ne=>`${Ne.value},equals`),this.updateQueryParams()}onDeselect(Ie){this.selectedItems=this.selectedItems.filter(Ne=>Ne.id!==Ie.id),this.filterValues=this.filterValues.filter(Ne=>Ne!==`${Ie.value},equals`),this.updateQueryParams()}updateQueryParams(){this.queryParams={["f."+this.facetType]:this.filterValues},(0,n.a4)(this.scope)&&(this.queryParams.scope=this.scope)}ngOnDestroy(){this.subs.forEach(Ie=>Ie.unsubscribe())}static#e=this.\u0275fac=function(Ne){return new(Ne||ve)(S.rXU(M.nX),S.rXU(f.c$))};static#t=this.\u0275cmp=S.VBU({type:ve,selectors:[["ds-browse-by-taxonomy"]],inputs:{context:"context",browseByType:"browseByType",scope:"scope",displayTitle:"displayTitle"},standalone:!0,features:[S.OA$,S.aNF],decls:7,vars:12,consts:[[4,"ngIf"],[1,"mb-3"],[3,"select","deselect","description","vocabularyOptions","multiSelect","showAdd"],[1,"btn","btn-primary",3,"routerLink","queryParams","queryParamsHandling"]],template:function(Ne,qe){1&Ne&&(S.j41(0,"section"),S.DNE(1,ae,4,8,"h1",0),S.j41(2,"div",1)(3,"ds-vocabulary-treeview",2),S.bIt("select",function(Be){return qe.onSelect(Be)})("deselect",function(Be){return qe.onDeselect(Be)}),S.k0s()(),S.j41(4,"a",3),S.EFF(5),S.nI1(6,"translate"),S.k0s()()),2&Ne&&(S.R7$(),S.Y8G("ngIf",qe.displayTitle),S.R7$(2),S.Y8G("description",qe.description)("vocabularyOptions",qe.vocabularyOptions)("multiSelect",!0)("showAdd",!1),S.R7$(),S.Y8G("routerLink",S.lJ4(11,X))("queryParams",qe.queryParams)("queryParamsHandling","merge"),S.R7$(),S.SpI(" ",S.bMT(6,9,"browse.taxonomy.button"),""))},dependencies:[e.bT,f.h,f.D9,Y.P,M.Wk]})}return ve})();const J=ve=>({startsWith:ve}),z=(ve,fe,Ie)=>({field:ve,startsWith:fe,value:Ie});function q(ve,fe){if(1&ve){const Ie=S.RV6();S.j41(0,"ds-browse-by",4),S.nI1(1,"translate"),S.nI1(2,"translate"),S.nI1(3,"translate"),S.nI1(4,"async"),S.nI1(5,"async"),S.bIt("prev",function(){S.eBV(Ie);const qe=S.XpG();return S.Njj(qe.goPrev())})("next",function(){S.eBV(Ie);const qe=S.XpG();return S.Njj(qe.goNext())}),S.k0s()}if(2&ve){const Ie=S.XpG();S.FS9("title",S.i5U(3,12,"browse.title",S.sMw(21,z,S.bMT(1,7,"browse.metadata."+Ie.browseId),Ie.startsWith?S.i5U(2,9,"browse.startsWith",S.eq3(19,J,'"'+Ie.startsWith+'"')):"",Ie.value?'"'+Ie.value+'"':""))),S.Y8G("displayTitle",Ie.displayTitle)("objects$",void 0!==Ie.items$?Ie.items$:Ie.browseEntries$)("paginationConfig",S.bMT(4,15,Ie.currentPagination$))("sortConfig",S.bMT(5,17,Ie.currentSort$))("type",Ie.startsWithType)("startsWithOptions",Ie.startsWithOptions)}}function ee(ve,fe){1&ve&&(S.nrm(0,"ds-loading",5),S.nI1(1,"translate")),2&ve&&S.FS9("message",S.bMT(1,1,"loading.browse-by-page"))}let de=(()=>{class ve extends v.el{ngOnInit(){const Ie=new O.z("dc.title",O.U.ASC);this.updatePage((0,v.X$)(this.defaultBrowseId,this.paginationConfig,Ie,this.fetchThumbnails)),this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,Ie),this.subs.push((0,g.z)([this.route.params,this.route.queryParams,this.scope$,this.currentPagination$,this.currentSort$]).pipe((0,d.T)(([Ne,qe,we,Be,Ve])=>[Object.assign({},Ne,qe),we,Be,Ve])).subscribe(([Ne,qe,we,Be])=>{this.startsWith=+Ne.startsWith||Ne.startsWith,this.browseId=Ne.id||this.defaultBrowseId,this.updatePageWithItems((0,v.M0)(Ne,qe,we,Be,this.browseId,this.fetchThumbnails),void 0,void 0)})),this.updateStartsWithTextOptions()}static#e=this.\u0275fac=(()=>{let Ie;return function(qe){return(Ie||(Ie=S.xGo(ve)))(qe||ve)}})();static#t=this.\u0275cmp=S.VBU({type:ve,selectors:[["ds-browse-by-title"]],standalone:!0,features:[S.Vt3,S.aNF],decls:6,vars:6,consts:[[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"]],template:function(Ne,qe){1&Ne&&(S.j41(0,"section",0)(1,"div",1),S.DNE(2,q,6,25,"ds-browse-by",2),S.nI1(3,"async"),S.DNE(4,ee,2,3,"ds-loading",3),S.nI1(5,"async"),S.k0s()()),2&Ne&&(S.R7$(2),S.Y8G("ngIf",!0!==S.bMT(3,2,qe.loading$)),S.R7$(2),S.Y8G("ngIf",S.bMT(5,4,qe.loading$)))},dependencies:[e.Jj,e.bT,f.h,f.D9,u.v,y.U]})}return ve})();const Ce=V.O.Metadata,Z=i.o.Any,De=new Map([[V.O.Date,new Map([[Z,new Map([[c.SS,x]])]])],[V.O.Metadata,new Map([[Z,new Map([[c.SS,v.el]])]])],[V.O.Hierarchy,new Map([[Z,new Map([[c.SS,Q]])]])],[V.O.Title,new Map([[Z,new Map([[c.SS,de]])]])]]);function re(ve,fe,Ie){let Ne=De.get(ve);(0,n.Tn)(Ne)&&(Ne=De.get(Ce));let qe=Ne.get(fe);(0,n.Tn)(qe)&&(qe=Ne.get(Z));const we=(0,c.eW)(qe,Ie);return(0,n.Tn)(we)?qe.get(c.SS):we}},68605:(B,D,t)=>{"use strict";t.d(D,{BW:()=>y,CC:()=>c,Cb:()=>n,JW:()=>f,WJ:()=>I,_:()=>b,_E:()=>g,dv:()=>E,gH:()=>d,gj:()=>_});var i=t(87913);const n="parent",c="collections";function e(){return`/${c}`}function f(T){return new i.t(e(),T).toString()}function g(T){return new i.t(e(),T,b).toString()}function d(){return new i.t(e(),_).toString()}function y(T){return new i.t(f(T),b,O).toString()}function E(T){return new i.t(f(T),I).toString()}const _="create",b="edit",O="roles",I="itemtemplate"},42742:(B,D,t)=>{"use strict";t.d(D,{H:()=>c,x:()=>n});const n={SAVE:(0,t(83770).N)("dspace/community-list-page/SAVE")};class c{constructor(f,g){this.type=n.SAVE,this.payload={expandedNodes:f,loadingNode:g}}}},67873:(B,D,t)=>{"use strict";t.d(D,{D6:()=>_,EU:()=>E,b2:()=>e,c5:()=>g,f2:()=>c,lG:()=>y,pk:()=>d,zQ:()=>b});var i=t(68605),n=t(87913);const c="parent",e="communities";function f(){return`/${e}`}function g(I){return new n.t(f(),I).toString()}function d(I){return new n.t(f(),I,b).toString()}function y(){return new n.t(f(),_).toString()}function E(I){return new n.t((0,i.JW)(I),b,O).toString()}const _="create",b="edit",O="roles"},82586:(B,D,t)=>{"use strict";t.d(D,{H:()=>b});var i=t(41483),n=t(47947),c=t(66645),e=t(37610),f=t(22867),g=t(82040),d=t(72683),y=t(70210),E=t(12007),_=t(87913);class b{constructor(I,T,R){this.halService=I,this.requestService=T,this.rdbService=R,this.linkName="authn",this.shortlivedtokensEndpoint="shortlivedtokens"}fetchRequest(I,...T){return this.rdbService.buildFromRequestUUID(I,...T).pipe((0,E.qD)())}getEndpointByMethod(I,T,...R){let u=(0,d.hj)(T)?`${I}/${T}`:`${I}`;return R?.length>0&&R.forEach((w,v)=>{u+=(0===v?"?":"&")+`embed=${w.name}`}),u}postToEndpoint(I,T,R){const u=this.requestService.generateRequestId(),w=this.halService.getEndpoint(this.linkName);return w.pipe((0,i.p)(v=>(0,d.hj)(v)),(0,n.T)(v=>this.getEndpointByMethod(v,I)),(0,c.F)(),(0,n.T)(v=>new y.Qf(u,v,T,R)),(0,e.s)(1)).subscribe(v=>{this.requestService.send(v)}),w.pipe((0,f.n)(()=>this.fetchRequest(u)))}getRequest(I,T,...R){const u=this.requestService.generateRequestId(),w=this.halService.getEndpoint(this.linkName);return w.pipe((0,i.p)(v=>(0,d.hj)(v)),(0,n.T)(v=>this.getEndpointByMethod(v,I,...R)),(0,c.F)(),(0,n.T)(v=>new y.IP(u,v,void 0,T)),(0,e.s)(1)).subscribe(v=>{this.requestService.send(v)}),w.pipe((0,f.n)(()=>this.fetchRequest(u,...R)))}getShortlivedToken(){return this.halService.getEndpoint(this.linkName).pipe((0,i.p)(I=>(0,d.hj)(I)),(0,c.F)(),(0,n.T)(I=>new _.t(I,this.shortlivedtokensEndpoint).toString()),(0,f.n)(I=>this.createShortLivedTokenRequest(I)),(0,g.M)(I=>this.requestService.send(I)),(0,f.n)(I=>this.rdbService.buildFromRequestUUID(I.uuid)),(0,E.qD)(),(0,n.T)(I=>I.hasSucceeded?I.payload.value:null))}}},7186:(B,D,t)=>{"use strict";t.d(D,{$K:()=>S,$X:()=>x,D9:()=>f,FD:()=>Y,G2:()=>T,HQ:()=>d,IO:()=>v,IV:()=>g,JT:()=>X,K0:()=>V,S3:()=>E,Sn:()=>c,VU:()=>I,Wu:()=>u,YO:()=>G,Yk:()=>n,cU:()=>K,dj:()=>w,du:()=>O,e0:()=>_,eh:()=>F,es:()=>ae,j3:()=>$,kZ:()=>M,ks:()=>e,mg:()=>b,nB:()=>L,qY:()=>j,sy:()=>y,v1:()=>Q});var i=t(83770);const n={AUTHENTICATE:(0,i.N)("dspace/auth/AUTHENTICATE"),AUTHENTICATE_ERROR:(0,i.N)("dspace/auth/AUTHENTICATE_ERROR"),AUTHENTICATE_SUCCESS:(0,i.N)("dspace/auth/AUTHENTICATE_SUCCESS"),AUTHENTICATED:(0,i.N)("dspace/auth/AUTHENTICATED"),AUTHENTICATED_ERROR:(0,i.N)("dspace/auth/AUTHENTICATED_ERROR"),AUTHENTICATED_SUCCESS:(0,i.N)("dspace/auth/AUTHENTICATED_SUCCESS"),CHECK_AUTHENTICATION_TOKEN:(0,i.N)("dspace/auth/CHECK_AUTHENTICATION_TOKEN"),CHECK_AUTHENTICATION_TOKEN_COOKIE:(0,i.N)("dspace/auth/CHECK_AUTHENTICATION_TOKEN_COOKIE"),SET_AUTH_COOKIE_STATUS:(0,i.N)("dspace/auth/SET_AUTH_COOKIE_STATUS"),RETRIEVE_AUTH_METHODS:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS"),RETRIEVE_AUTH_METHODS_SUCCESS:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS_SUCCESS"),RETRIEVE_AUTH_METHODS_ERROR:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS_ERROR"),REDIRECT_TOKEN_EXPIRED:(0,i.N)("dspace/auth/REDIRECT_TOKEN_EXPIRED"),REDIRECT_AUTHENTICATION_REQUIRED:(0,i.N)("dspace/auth/REDIRECT_AUTHENTICATION_REQUIRED"),REFRESH_TOKEN:(0,i.N)("dspace/auth/REFRESH_TOKEN"),REFRESH_TOKEN_SUCCESS:(0,i.N)("dspace/auth/REFRESH_TOKEN_SUCCESS"),REFRESH_TOKEN_ERROR:(0,i.N)("dspace/auth/REFRESH_TOKEN_ERROR"),RETRIEVE_TOKEN:(0,i.N)("dspace/auth/RETRIEVE_TOKEN"),ADD_MESSAGE:(0,i.N)("dspace/auth/ADD_MESSAGE"),RESET_MESSAGES:(0,i.N)("dspace/auth/RESET_MESSAGES"),LOG_OUT:(0,i.N)("dspace/auth/LOG_OUT"),LOG_OUT_ERROR:(0,i.N)("dspace/auth/LOG_OUT_ERROR"),LOG_OUT_SUCCESS:(0,i.N)("dspace/auth/LOG_OUT_SUCCESS"),SET_REDIRECT_URL:(0,i.N)("dspace/auth/SET_REDIRECT_URL"),RETRIEVE_AUTHENTICATED_EPERSON:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON"),RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS"),RETRIEVE_AUTHENTICATED_EPERSON_ERROR:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_ERROR"),REDIRECT_AFTER_LOGIN_SUCCESS:(0,i.N)("dspace/auth/REDIRECT_AFTER_LOGIN_SUCCESS"),SET_USER_AS_IDLE:(0,i.N)("dspace/auth/SET_USER_AS_IDLE"),UNSET_USER_AS_IDLE:(0,i.N)("dspace/auth/UNSET_USER_AS_IDLE")};class c{constructor(z,q){this.type=n.AUTHENTICATE,this.payload={email:z,password:q}}}class e{constructor(z){this.type=n.AUTHENTICATED,this.payload=z}}class f{constructor(z,q,ee){this.type=n.AUTHENTICATED_SUCCESS,this.payload={authenticated:z,authToken:q,userHref:ee}}}class g{constructor(z){this.type=n.AUTHENTICATED_ERROR,this.payload=z}}class d{constructor(z){this.type=n.AUTHENTICATE_ERROR,this.payload=z}}class y{constructor(z){this.type=n.AUTHENTICATE_SUCCESS,this.payload=z}}class E{constructor(){this.type=n.CHECK_AUTHENTICATION_TOKEN}}class _{constructor(){this.type=n.CHECK_AUTHENTICATION_TOKEN_COOKIE}}class b{constructor(z){this.type=n.SET_AUTH_COOKIE_STATUS,this.payload=!1,this.payload=z}}class O{constructor(z){this.payload=z,this.type=n.LOG_OUT}}class I{constructor(z){this.type=n.LOG_OUT_ERROR,this.payload=z}}class T{constructor(z){this.payload=z,this.type=n.LOG_OUT_SUCCESS}}class u{constructor(z){this.type=n.REDIRECT_TOKEN_EXPIRED,this.payload=z}}class w{constructor(z){this.type=n.REFRESH_TOKEN,this.payload=z}}class v{constructor(z){this.type=n.REFRESH_TOKEN_SUCCESS,this.payload=z}}class S{constructor(){this.type=n.REFRESH_TOKEN_ERROR}}class M{constructor(){this.type=n.RETRIEVE_TOKEN}}class L{constructor(z){this.type=n.ADD_MESSAGE,this.payload=z}}class F{constructor(){this.type=n.RESET_MESSAGES}}class ${constructor(z){this.type=n.RETRIEVE_AUTH_METHODS,this.payload=z}}class j{constructor(z){this.type=n.RETRIEVE_AUTH_METHODS_SUCCESS,this.payload=z}}class x{constructor(){this.type=n.RETRIEVE_AUTH_METHODS_ERROR}}class G{constructor(z){this.type=n.SET_REDIRECT_URL,this.payload=z}}class Y{constructor(z){this.type=n.REDIRECT_AFTER_LOGIN_SUCCESS,this.payload=z}}class V{constructor(z){this.type=n.RETRIEVE_AUTHENTICATED_EPERSON,this.payload=z}}class X{constructor(z){this.type=n.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS,this.payload=z}}class K{constructor(z){this.type=n.RETRIEVE_AUTHENTICATED_EPERSON_ERROR,this.payload=z}}class ae{constructor(){this.type=n.SET_USER_AS_IDLE}}class Q{constructor(){this.type=n.UNSET_USER_AS_IDLE}}},21706:(B,D,t)=>{"use strict";t.d(D,{Ru:()=>Q,S0:()=>ae,kL:()=>J,of:()=>z,uR:()=>q});var i=t(27691),n=t(73958),c=t(63016),e=t(41483),f=t(30593),g=t(47947),d=t(22867),y=t(37610),E=t(86722),_=t(48102),b=t(72683),O=t(79224),I=t(51206),T=t(24106),R=t(5338),u=t(31363),w=t(63276),v=t(98985),S=t(66190),M=t(12007),L=t(36423),F=t(7186),$=t(82586),j=t(11825),x=t(86804),G=t(46187),Y=t(53107),V=t(95968),X=t(37846),K=t(69685);const ae="/login",Q="/logout",J="dsRedirectUrl",z="dsImpersonatingEPerson";let q=(()=>{class ee{constructor(Ce,Z,le,De,pe,re,ve,fe,Ie,Ne,qe,we){this.req=Ce,this._window=Z,this.response=le,this.authRequestService=De,this.epersonService=pe,this.router=re,this.routeService=ve,this.storage=fe,this.store=Ie,this.hardRedirectService=Ne,this.notificationService=qe,this.translateService=we,this.store.pipe((0,e.p)(Be=>void 0!==Be?.core?.auth),(0,n.Lt)(G.wR),(0,f.Z)(!1)).subscribe(Be=>this._authenticated=Be)}authenticate(Ce,Z){const le=`password=${encodeURIComponent(Z)}&user=${encodeURIComponent(Ce)}`,De=Object.create({});let pe=new i.Lr;return pe=pe.append("Content-Type","application/x-www-form-urlencoded"),De.headers=pe,this.authRequestService.postToEndpoint("login",le,De).pipe((0,g.T)(re=>{if((0,b.a4)(re.payload)&&re.payload.authenticated)return re.payload;throw new Error("auth.errors.invalid-user")}))}checkAuthenticationCookie(){const Ce=Object.create({});let Z=new i.Lr;return Z=Z.append("Accept","application/json"),Ce.headers=Z,Ce.withCredentials=!0,this.authRequestService.getRequest("status",Ce).pipe((0,g.T)(le=>Object.assign(new j.T,le.payload)))}isAuthenticated(){return this.store.pipe((0,n.Lt)(G.wR))}isAuthenticationLoaded(){return this.store.pipe((0,n.Lt)(G.TR))}setExternalAuthStatus(Ce){this.store.dispatch(new F.mg(Ce))}isExternalAuthentication(){return this.store.pipe((0,n.Lt)(G.qD))}authenticatedUser(Ce){const Z=Object.create({});let le=new i.Lr;return le=le.append("Accept","application/json"),le=le.append("Authorization",`Bearer ${Ce.accessToken}`),Z.headers=le,this.authRequestService.getRequest("status",Z).pipe((0,g.T)(De=>{const pe=De.payload;if((0,b.a4)(pe)&&pe.authenticated)return pe._links.eperson.href;throw new Error("Not authenticated")}))}retrieveAuthenticatedUserByHref(Ce){return this.epersonService.findByHref(Ce).pipe((0,M.Hz)())}retrieveAuthenticatedUserById(Ce){return this.epersonService.findById(Ce).pipe((0,M.Hz)())}getAuthenticatedUserFromStore(){return this.store.pipe((0,n.Lt)(G.At),(0,b.Az)(),(0,d.n)(Ce=>this.epersonService.findById(Ce)),(0,M.Hz)())}checkAuthenticationToken(){this.store.dispatch(new F.S3)}getSpecialGroupsFromAuthStatus(){return this.authRequestService.getRequest("status",null,(0,T.s)("specialGroups")).pipe((0,M.qD)(),(0,d.n)(Ce=>Ce.hasSucceeded?Ce.payload.specialGroups:(0,I.CX)((0,R.g)(new L.Q,[]))))}hasValidAuthenticationToken(){return this.store.pipe((0,n.Lt)(G.Y5),(0,y.s)(1),(0,g.T)(Ce=>{const Z=(0,b.hj)(Ce)?Ce:this.storage.get(x.R);if((0,b.hj)(Z)&&Z.hasOwnProperty("accessToken")&&(0,b.hj)(Z.accessToken)&&!this.isTokenExpired(Z))return Z;throw!1}))}refreshAuthenticationToken(Ce){const Z=Object.create({});let le=new i.Lr;return le=le.append("Accept","application/json"),Ce&&Ce.accessToken&&(le=le.append("Authorization",`Bearer ${Ce.accessToken}`)),Z.headers=le,Z.withCredentials=!0,this.authRequestService.postToEndpoint("login",{},Z).pipe((0,g.T)(De=>{const pe=De.payload;if((0,b.a4)(pe)&&pe.authenticated)return pe.token;throw new Error("Not authenticated")}))}resetAuthenticationError(){this.store.dispatch(new F.eh)}retrieveAuthMethodsFromAuthStatus(Ce){let Z=[];return(0,b.hj)(Ce.authMethods)&&(Z=Ce.authMethods),(0,c.of)(Z)}logout(){let Ce=new i.Lr;return Ce=Ce.append("Content-Type","application/x-www-form-urlencoded"),this.authRequestService.postToEndpoint("logout",Object.create({headers:Ce,responseType:"text"})).pipe((0,g.T)(le=>{const De=le.payload;if((0,b.a4)(De)&&!De.authenticated)return!0;throw new Error("auth.errors.invalid-user")}))}buildAuthHeader(Ce){return(0,b.Im)(Ce)&&(Ce=this.getToken()),this._authenticated&&(0,b.Pe)(Ce)?`Bearer ${Ce.accessToken}`:""}getToken(){let Ce;return this.store.pipe((0,y.s)(1),(0,n.Lt)(G.Y5)).subscribe(Z=>{Ce=Z||null}),Ce}trackTokenExpiration(){let Ce,Z=!1;this.store.pipe((0,n.Lt)(G.Y5)).subscribe(le=>{if(Z&&void 0!==Ce&&void 0===le&&(this.notificationService.error(this.translateService.get("auth.messages.token-refresh-failed")),setTimeout(()=>this.navigateToRedirectUrl(this.hardRedirectService.getCurrentRoute()),1e4),Z=!1),Z&&void 0!==le&&Ce.expires!==le.expires&&(Z=!1),!Z&&(Ce=le||null,null!=Ce)){let De=Ce.expires-(new Date).getTime()-E.c.auth.rest.timeLeftBeforeTokenRefresh;De<0&&(De=0),(0,b.a4)(this.tokenRefreshTimer)&&clearTimeout(this.tokenRefreshTimer),this.tokenRefreshTimer=setTimeout(()=>{this.store.dispatch(new F.dj(Ce)),Z=!0},De)}})}isTokenExpiring(){return this.store.pipe((0,n.Lt)(G.Pc),(0,y.s)(1),(0,g.T)(Ce=>!this.isTokenExpired()&&!Ce&&this.getToken().expires-3e5<Date.now()))}isTokenExpired(Ce){return(Ce=Ce||this.getToken())&&Ce.expires<Date.now()}storeToken(Ce){const Z=Date.now()+864e5,De={expires:new Date(Z)};return this.storage.set(x.R,Ce,De)}removeToken(){return this.storage.remove(x.R)}replaceToken(Ce){return this.removeToken(),this.storeToken(Ce)}redirectToLogin(){this.router.navigate([ae])}redirectToLoginWhenTokenExpired(){const Ce=ae+"?expired=true";this._window.nativeWindow.location?this._window.nativeWindow.location.href=Ce:this.response?this.response._headerSent||this.response.redirect(302,Ce):this.router.navigateByUrl(Ce)}navigateToRedirectUrl(Ce){if(!(0,b.a4)(Ce)||!Ce.includes("reload/")){let Z=`reload/${(new Date).getTime()}`;(0,b.hj)(Ce)&&!Ce.startsWith(ae)&&(Z+=`?redirect=${encodeURIComponent(Ce)}`),this.hardRedirectService.redirect(Z)}}refreshAfterLogout(){this.navigateToRedirectUrl(void 0)}getRedirectUrl(){return this.store.pipe((0,n.Lt)(G.M3),(0,g.T)(Ce=>(0,b.a4)(Ce)?Ce:this.storage.get(J)))}setRedirectUrl(Ce){const Z=Date.now()+36e5,De={expires:new Date(Z)};this.storage.set(J,Ce,De),this.store.dispatch(new F.YO((0,b.EA)(Ce)?Ce:""))}setRedirectUrlIfNotSet(Ce){this.getRedirectUrl().pipe((0,y.s)(1)).subscribe(Z=>{(0,b.Tn)(Z)&&this.setRedirectUrl(Ce)})}clearRedirectUrl(){this.store.dispatch(new F.YO(void 0)),this.storage.remove(J)}impersonate(Ce){this.storage.set(z,Ce),this.refreshAfterLogout()}stopImpersonating(){this.storage.remove(z)}stopImpersonatingAndRefresh(){this.stopImpersonating(),this.refreshAfterLogout()}getImpersonateID(){return this.storage.get(z)}isImpersonating(){return(0,b.a4)(this.getImpersonateID())}isImpersonatingUser(Ce){return this.getImpersonateID()===Ce}getShortlivedToken(){return this.isAuthenticated().pipe((0,d.n)(Ce=>Ce?this.authRequestService.getShortlivedToken():(0,c.of)(null)))}isUserIdle(){return this.store.pipe((0,n.Lt)(G.xB))}setIdle(Ce){this.store.dispatch(Ce?new F.es:new F.v1)}static#e=this.\u0275fac=function(Z){return new(Z||ee)(Y.KVO(_.S),Y.KVO(S.lc),Y.KVO(_.C,8),Y.KVO($.H),Y.KVO(u.EPersonDataService),Y.KVO(V.Ix),Y.KVO(v.v$),Y.KVO(w.O),Y.KVO(n.il),Y.KVO(X.$),Y.KVO(O.I),Y.KVO(K.c$))};static#t=this.\u0275prov=Y.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})()},21709:(B,D,t)=>{"use strict";t.d(D,{t:()=>E});var i=t(53107),n=t(95968),c=t(73958),e=t(25814),f=t(22867),g=t(47947),d=t(21706),y=t(46187);const E=(b,O,I=(0,i.WQX)(d.uR),T=(0,i.WQX)(n.Ix),R=(0,i.WQX)(c.il))=>{const u=O.url;return R.pipe((0,c.Lt)(y.VV)).pipe((0,e.I)(w=>!1===w),(0,f.n)(()=>R.pipe((0,c.Lt)(y.wR))),(0,g.T)(w=>w||(I.setRedirectUrl(u),I.removeToken(),T.createUrlTree([d.S0]))))}},11825:(B,D,t)=>{"use strict";t.d(D,{T:()=>O});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(53841),g=t(5469),d=t(99736),y=t(98573),E=t(2494);const _=new y.v("status");var b=t(86804);let O=class{static#e=this.type=_};(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"id",void 0),(0,i.Cg)([E.aK,n.autoserialize,(0,i.Sn)("design:type",y.v)],O.prototype,"type",void 0),(0,i.Cg)([(0,n.deserializeAs)(new f.a("auth-status"),"id"),(0,i.Sn)("design:type",String)],O.prototype,"uuid",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Boolean)],O.prototype,"okay",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Boolean)],O.prototype,"authenticated",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],O.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(g.N),(0,i.Sn)("design:type",c.c)],O.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(d.U,!0),(0,i.Sn)("design:type",c.c)],O.prototype,"specialGroups",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",b.S)],O.prototype,"token",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Object)],O.prototype,"error",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Array)],O.prototype,"authMethods",void 0),O=(0,i.Cg)([e.gV],O)},86804:(B,D,t)=>{"use strict";function i(E){this.message=E}t.d(D,{S:()=>y,R:()=>d}),(i.prototype=new Error).name="InvalidCharacterError";var n=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(E){var _=String(E).replace(/=+$/,"");if(_.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var b,O,I=0,T=0,R="";O=_.charAt(T++);~O&&(b=I%4?64*b+O:O,I++%4)?R+=String.fromCharCode(255&b>>(-2*I&6)):0)O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(O);return R};function e(E){this.message=E}(e.prototype=new Error).name="InvalidTokenError";const d="dsAuthInfo";class y{constructor(_){this.accessToken=_.replace("Bearer ","");try{const b=function f(E,_){if("string"!=typeof E)throw new e("Invalid token specified");var b=!0===(_=_||{}).header?0:1;try{return JSON.parse(function c(E){var _=E.replace(/-/g,"+").replace(/_/g,"/");switch(_.length%4){case 0:break;case 2:_+="==";break;case 3:_+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(n(_).replace(/(.)/g,function(O,I){var T=I.charCodeAt(0).toString(16).toUpperCase();return T.length<2&&(T="0"+T),"%"+T}))}catch{return n(_)}}(E.split(".")[b]))}catch(O){throw new e("Invalid token specified: "+O.message)}}(this.accessToken);this.expires=1e3*b.exp}catch{this.expires=0}}}},62806:(B,D,t)=>{"use strict";t.d(D,{Q:()=>i});var i=function(n){return n.Password="password",n.Shibboleth="shibboleth",n.Ldap="ldap",n.Ip="ip",n.X509="x509",n.Oidc="oidc",n.Orcid="orcid",n}(i||{})},86881:(B,D,t)=>{"use strict";t.d(D,{q:()=>n});var i=t(62806);class n{constructor(e,f,g){switch(this.position=f,e){case"ip":this.authMethodType=i.Q.Ip;break;case"ldap":this.authMethodType=i.Q.Ldap;break;case"shibboleth":this.authMethodType=i.Q.Shibboleth,this.location=g;break;case"x509":this.authMethodType=i.Q.X509;break;case"password":this.authMethodType=i.Q.Password;break;case"oidc":this.authMethodType=i.Q.Oidc,this.location=g;break;case"orcid":this.authMethodType=i.Q.Orcid,this.location=g}}}},46187:(B,D,t)=>{"use strict";t.d(D,{At:()=>M,F8:()=>K,Gv:()=>Y,H8:()=>L,M3:()=>Q,Pc:()=>V,TR:()=>j,VV:()=>G,Y5:()=>X,dx:()=>F,hx:()=>S,qD:()=>x,wR:()=>$,xB:()=>J});var i=t(73958),n=t(48891);const c=(0,i.Mz)(n.N,z=>z.auth),S=(0,i.Mz)(c,z=>z.authMethods),M=(0,i.Mz)(c,z=>z.userId),L=(0,i.Mz)(c,z=>z.error),F=(0,i.Mz)(c,z=>z.info),$=(0,i.Mz)(c,z=>z.authenticated),j=(0,i.Mz)(c,z=>z.loaded),x=(0,i.Mz)(c,z=>z.externalAuth),G=(0,i.Mz)(c,z=>z.loading),Y=(0,i.Mz)(c,z=>z.blocking),V=(0,i.Mz)(c,z=>z.refreshing),X=(0,i.Mz)(c,z=>z.authToken),K=(0,i.Mz)(c,z=>z.error),Q=((0,i.Mz)(c,z=>z.error),(0,i.Mz)(c,z=>z.redirectUrl)),J=(0,i.Mz)(c,z=>z.idle)},83116:(B,D,t)=>{"use strict";t.d(D,{f:()=>f});var i=t(72683),n=t(84562),c=t(53107),e=t(69685);let f=(()=>{class g{constructor(y){this.translateService=y,this.factories={EPerson:E=>{const _=E.firstMetadataValue("eperson.firstname"),b=E.firstMetadataValue("eperson.lastname");return(0,i.Im)(_)&&(0,i.Im)(b)?this.translateService.instant("dso.name.unnamed"):(0,i.Im)(_)||(0,i.Im)(b)?_||b:`${_} ${b}`},Person:E=>{const _=E.firstMetadataValue("person.familyName"),b=E.firstMetadataValue("person.givenName");return(0,i.Im)(_)&&(0,i.Im)(b)?E.firstMetadataValue("dc.title")||this.translateService.instant("dso.name.unnamed"):(0,i.Im)(_)||(0,i.Im)(b)?_||b:`${_}, ${b}`},OrgUnit:E=>E.firstMetadataValue("organization.legalName")||this.translateService.instant("dso.name.untitled"),Default:E=>E.firstMetadataValue("dc.title")||E.name||this.translateService.instant("dso.name.untitled")}}getName(y){if(y){const _=y.getRenderTypes().filter(O=>"string"==typeof O).find(O=>Object.keys(this.factories).includes(O));let b;return(0,i.a4)(_)&&(b=this.factories[_](y)),(0,i.Im)(b)&&(b=this.factories.Default(y)),b}return""}getHitHighlights(y,E){const b=E.getRenderTypes().filter(O=>"string"==typeof O).find(O=>["Person","OrgUnit"].includes(O));if("Person"===b){const O=this.firstMetadataValue(y,E,"person.familyName"),I=this.firstMetadataValue(y,E,"person.givenName");return(0,i.Im)(O)&&(0,i.Im)(I)?this.firstMetadataValue(y,E,"dc.title")||E.name:(0,i.Im)(O)||(0,i.Im)(I)?O||I:`${O}, ${I}`}return"OrgUnit"===b?this.firstMetadataValue(y,E,"organization.legalName")||this.translateService.instant("dso.name.untitled"):this.firstMetadataValue(y,E,"dc.title")||E.name||this.translateService.instant("dso.name.untitled")}firstMetadataValue(y,E,_){return n.O.firstValue([y.hitHighlights,E.metadata],_)}static#e=this.\u0275fac=function(E){return new(E||g)(c.KVO(e.c$))};static#t=this.\u0275prov=c.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},58183:(B,D,t)=>{"use strict";t.r(D),t.d(D,{BrowseDefinitionDataService:()=>u,createAndSendBrowseDefinitionGetRequest:()=>T});var i=t(63016),n=t(37610),c=t(72683),e=t(45122),f=t(99120),g=t(25718),d=t(94937),y=t(2887),E=t(12350),_=t(70210),b=t(9843),O=t(25744),I=t(53107);const T=(w,v,S,M=!0)=>{(0,c.hj)(S)&&("string"==typeof S&&(S=(0,i.of)(S)),S.pipe((0,c.VT)(),(0,n.s)(1)).subscribe(L=>{const F=w.generateRequestId(),$=new _.FQ(F,L);(0,c.a4)(v)&&($.responseMsToLive=v),w.send($,M)}))};class R extends d.H{createAndSendGetRequest(v,S=!0){T(this.requestService,this.responseMsToLive,v,S)}}let u=(()=>{class w extends y.W{constructor(S,M,L,F){super("browses",S,M,L,F),this.requestService=S,this.rdbService=M,this.objectCache=L,this.halService=F,this.searchData=new E.X(this.linkPath,S,M,L,F,this.responseMsToLive),this.findAllData=new R(this.linkPath,S,M,L,F,this.responseMsToLive)}findAll(S={},M=!0,L=!0,...F){return this.findAllData.findAll(S,M,L,...F)}searchBy(S,M,L,F,...$){return this.searchData.searchBy(S,M,L,F,...$)}getSearchByHref(S,M,...L){return this.searchData.getSearchByHref(S,M,...L)}findByFields(S,M=!0,L=!0,...F){const $=[];$.push(new f.x("fields",S));const j=this.getSearchByHref("byFields",{searchParams:$},...F);return this.findByHref(j,M,L,...F)}createAndSendGetRequest(S,M=!0){T(this.requestService,this.responseMsToLive,S,M)}static#e=this.\u0275fac=function(M){return new(M||w)(I.KVO(b.B),I.KVO(e.o),I.KVO(g.$),I.KVO(O.Y))};static#t=this.\u0275prov=I.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})()},41198:(B,D,t)=>{"use strict";t.d(D,{q:()=>R});var i=t(47947),n=t(30593),c=t(66645),e=t(72683),f=t(24106),g=t(45122),d=t(65155),y=t(9843),E=t(25744),_=t(12007),b=t(87913),O=t(58183),I=t(53107);const T=[(0,f.s)("thumbnail")];let R=(()=>{class u{static toSearchKeyArray(v){const S=v.split("."),M=[];M.push("*");for(let L=0;L<S.length-1;L++){const $=[...S.slice(0,L+1),"*"].join(".");M.push($)}return M.push(v),M}constructor(v,S,M,L,F){this.requestService=v,this.halService=S,this.browseDefinitionDataService=M,this.hrefOnlyDataService=L,this.rdb=F,this.linkPath="browses"}getBrowseDefinitions(){return this.browseDefinitionDataService.findAll({elementsPerPage:9999}).pipe((0,_.yd)())}getBrowseEntriesFor(v){const S=this.getBrowseDefinitions().pipe((0,_.Jq)(v.metadataDefinition),(0,e.Az)(),(0,i.T)(M=>M.entries.href||M.entries),(0,e.Az)(),(0,i.T)(M=>{const L=[];return(0,e.hj)(v.scope)&&L.push(`scope=${v.scope}`),(0,e.hj)(v.sort)&&L.push(`sort=${v.sort.field},${v.sort.direction}`),(0,e.hj)(v.pagination)&&(L.push("page="+(v.pagination.currentPage-1)),L.push(`size=${v.pagination.pageSize}`)),(0,e.hj)(v.startsWith)&&L.push(`startsWith=${v.startsWith}`),(0,e.hj)(L)&&(M=new b.t(M,`?${L.join("&")}`).toString()),M}));return v.fetchThumbnail?this.hrefOnlyDataService.findListByHref(S,{},void 0,void 0,...T):this.hrefOnlyDataService.findListByHref(S)}getBrowseItemsFor(v,S,M){const L=this.getBrowseDefinitions().pipe((0,_.Jq)(M.metadataDefinition),(0,e.Az)(),(0,i.T)(F=>F.items.href||F.items),(0,e.Az)(),(0,i.T)(F=>{const $=[];return(0,e.hj)(M.scope)&&$.push(`scope=${M.scope}`),(0,e.hj)(M.sort)&&$.push(`sort=${M.sort.field},${M.sort.direction}`),(0,e.hj)(M.pagination)&&($.push("page="+(M.pagination.currentPage-1)),$.push(`size=${M.pagination.pageSize}`)),(0,e.hj)(M.startsWith)&&$.push(`startsWith=${M.startsWith}`),(0,e.hj)(v)&&$.push(`filterValue=${encodeURIComponent(v)}`),(0,e.hj)(S)&&$.push(`filterAuthority=${encodeURIComponent(S)}`),(0,e.hj)($)&&(F=new b.t(F,`?${$.join("&")}`).toString()),F}));return M.fetchThumbnail?this.hrefOnlyDataService.findListByHref(L,{},void 0,void 0,...T):this.hrefOnlyDataService.findListByHref(L)}getFirstItemFor(v,S,M){const L=this.getBrowseDefinitions().pipe((0,_.Jq)(v),(0,e.Az)(),(0,i.T)(F=>F.items.href||F.items),(0,e.Az)(),(0,i.T)(F=>{const $=[];return(0,e.a4)(S)&&$.push(`scope=${S}`),$.push("page=0"),$.push("size=1"),M&&$.push("sort=default,"+M),(0,e.hj)($)&&(F=new b.t(F,`?${$.join("&")}`).toString()),F}));return this.hrefOnlyDataService.findListByHref(L).pipe((0,_.yd)(),(0,_.GD)())}getPrevBrowseItems(v){return this.hrefOnlyDataService.findListByHref(v.payload.prev)}getNextBrowseItems(v){return this.hrefOnlyDataService.findListByHref(v.payload.next)}getPrevBrowseEntries(v){return this.hrefOnlyDataService.findListByHref(v.payload.prev)}getNextBrowseEntries(v){return this.hrefOnlyDataService.findListByHref(v.payload.next)}getBrowseURLFor(v,S){const M=u.toSearchKeyArray(v);return this.getBrowseDefinitions().pipe((0,_.Bo)(),(0,_.W8)(),(0,i.T)(L=>L.find(F=>{let $="";return Array.isArray(F.metadataKeys)&&($=F.metadataKeys.find(j=>M.indexOf(j)>=0)),(0,e.hj)($)})),(0,i.T)(L=>{if((0,e.Im)(L)||(0,e.Im)(L._links)||(0,e.Im)(L._links[S]))throw new Error(`A browse endpoint for ${S} on ${v} isn't configured`);return L._links[S]||L._links[S].href}),(0,n.Z)(void 0),(0,c.F)())}static#e=this.\u0275fac=function(S){return new(S||u)(I.KVO(y.B),I.KVO(E.Y),I.KVO(O.BrowseDefinitionDataService),I.KVO(d.HrefOnlyDataService),I.KVO(g.o))};static#t=this.\u0275prov=I.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},52727:(B,D,t)=>{"use strict";t.d(D,{FR:()=>g,Qt:()=>I,gV:()=>O,nf:()=>w,o8:()=>M,qP:()=>f});var i=t(53107),n=t(72683),c=t(44537);new i.nKC("getDataServiceFor",{providedIn:"root",factory:()=>R});const f=new i.nKC("getLinkDefinition",{providedIn:"root",factory:()=>S}),g=new i.nKC("getLinkDefinitions",{providedIn:"root",factory:()=>v}),E=(Symbol("resolvedLink"),new Map),_=new Map,b=new Map;function O(L){E.set(L.type.value,L)}function I(L){return E.get((0,c.zA)(L))}function R(L){return _.get(L.value)}const w=(L,F=!1,$)=>(j,x)=>{let G=b.get(j.constructor);(0,n.Tn)(G)&&(G=new Map),(0,n.Tn)($)&&($=x),G.set($,{resourceType:L,isList:F,linkName:$,propertyName:x}),b.set(j.constructor,G)},v=L=>b.get(L),S=(L,F)=>{const $=b.get(L);if((0,n.a4)($))return $.get(F)};function M(L){return F=>{const $=b.get(L)||new Map,j=b.get(F)||new Map;$.forEach((x,G)=>{j.has(G)||j.set(G,x)}),b.set(F,j)}}},66559:(B,D,t)=>{"use strict";t.d(D,{_:()=>E});var i=t(76564),n=t(22867),c=t(17178),e=t(18062),f=t(72683),g=t(53169),d=t(52727),y=t(53107);let E=(()=>{class _{constructor(O,I,T,R){this.injector=O,this.map=I,this.getLinkDefinition=T,this.getLinkDefinitions=R}resolveLinks(O,...I){return I.forEach(T=>{this.resolveLink(O,T)}),O}resolveLinkWithoutAttaching(O,I){const T=this.getLinkDefinition(O.constructor,I.name);if((0,f.a4)(T))return(0,g.M)(this.map,T.resourceType.value,this.injector).pipe((0,n.n)(u=>{const w=O._links[T.linkName];if((0,f.a4)(w)){const v=w.href;try{return T.isList?u.findListByHref(v,I.findListOptions,I.useCachedVersionIfAvailable,I.reRequestOnStale,...I.linksToFollow):u.findByHref(v,I.useCachedVersionIfAvailable,I.reRequestOnStale,...I.linksToFollow)}catch(S){throw console.error(`Something went wrong when using ${T.resourceType.value}) ${(0,f.a4)(u)?"":"(undefined) "}to resolve link ${String(I.name)} at ${v}`),S}}return i.w}),(0,c.W)(u=>{throw new Error(`The @link() for ${String(I.name)} on ${O.constructor.name} models uses the resource type ${T.resourceType.value.toUpperCase()}, but there is no service with an @dataService(${T.resourceType.value.toUpperCase()}) annotation in order to retrieve it`)}));if(!I.isOptional)throw new Error(`followLink('${String(I.name)}') was used as a required link for a ${O.constructor.name}, but there is no property on ${O.constructor.name} models with an @link() for ${String(I.name)}`);return i.w}resolveLink(O,I){return O[I.name]=this.resolveLinkWithoutAttaching(O,I),O}removeResolvedLinks(O){const I=Object.assign(new O.constructor,O),T=this.getLinkDefinitions(O.constructor);return(0,f.hj)(T)&&T.forEach(R=>{I[R.propertyName]=void 0}),I}static#e=this.\u0275fac=function(I){return new(I||_)(y.KVO(y.zZn),y.KVO(e.l9),y.KVO(d.qP),y.KVO(d.FR))};static#t=this.\u0275prov=y.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},45122:(B,D,t)=>{"use strict";t.d(D,{o:()=>G});var i=t(63016),n=t(76627),c=t(89299),e=t(22867),f=t(47947),g=t(30593),d=t(41483),y=t(66645),_=t(72683),b=t(51206),O=t(24106),I=t(5338),T=t(46856),R=t(21314),u=t(9843),w=t(64868),v=t(59501),S=t(12007),M=t(86856),L=t(44537),F=t(25718),$=t(52727),j=t(66559),x=t(53107);let G=(()=>{class Y{constructor(X,K,ae){this.objectCache=X,this.linkService=K,this.requestService=ae}buildPayload(X,K,...ae){return(0,_.Tn)(K)&&(K=(0,i.of)(void 0)),(0,n.z)([K,X]).pipe((0,e.n)(([Q,J])=>{const z=this.hasExactMatchInObjectCache(Q,J);return(0,_.a4)(J.response)&&(z||this.isCacheablePayload(J)||this.isUnCacheablePayload(J))?z?this.objectCache.getObjectByHref(Q):this.isCacheablePayload(J)?this.objectCache.getObjectByHref(J.response.payloadLink.href):[this.plainObjectToInstance(J.response.unCacheableObject)]:(0,w.yO)(J.state)?[null]:[void 0]}),(0,e.n)(Q=>{if((0,_.a4)(Q)){if((0,L.zA)(Q.type)===T.v.value)return this.buildPaginatedList(Q,...ae);if((0,_.hj)(ae))return[this.linkService.resolveLinks(Q,...ae)]}return[Q]}))}plainObjectToInstance(X){const K=(0,$.Qt)(X.type);return Object.assign("function"==typeof K?new K:{},X)}hasExactMatchInObjectCache(X,K){return(0,_.a4)(K)&&(0,_.a4)(K.request)&&(0,_.hj)(K.request.uuid)&&(0,_.a4)(X)&&this.objectCache.hasByHref(X,K.request.uuid)}isCacheablePayload(X){return(0,_.a4)(X.response.payloadLink)&&(0,_.hj)(X.response.payloadLink.href)}isUnCacheablePayload(X){return(0,_.a4)(X.response.unCacheableObject)}buildPaginatedList(X,...K){const ae=K.find(z=>"page"===z.name),Q=K.filter(z=>"page"!==z.name),J=Object.assign(new I.O,X);if((0,_.a4)(ae)){if((0,_.Im)(J.page)){const z=J._links.page.map(q=>q.href);return this.objectCache.getList(z).pipe((0,f.T)(q=>(J.page=q.map(ee=>this.plainObjectToInstance(ee)).map(ee=>this.linkService.resolveLinks(ee,...ae.linksToFollow)),(0,_.hj)(Q)?this.linkService.resolveLinks(J,...Q):J)))}if(J.page=J.page.filter(z=>null!=z).map(z=>this.plainObjectToInstance(z)).map(z=>this.linkService.resolveLinks(z,...ae.linksToFollow)),(0,_.hj)(Q))return(0,i.of)(this.linkService.resolveLinks(J,...Q))}return(0,i.of)(J)}buildFromRequestUUID(X,...K){"string"==typeof X&&(X=(0,i.of)(X));const ae=X.pipe((0,M.m9)(this.requestService)),Q=this.buildPayload(ae,void 0,...K);return this.toRemoteDataObservable(ae,Q)}buildFromRequestUUIDAndAwait(X,K,...ae){const Q=this.buildFromRequestUUID(X,...ae),J=new c.h;return Q.pipe((0,S.qD)(),(0,e.n)(z=>z.hasSucceeded?K(z):[!0])).subscribe(()=>{J.next(!0),J.complete()}),Q.pipe((0,e.n)(z=>z.hasSucceeded?J.pipe((0,f.T)(()=>z)):[z]))}buildFromHref(X,...K){"string"==typeof X&&(X=(0,i.of)(X));const ae=(X=X.pipe((0,f.T)(z=>(0,v.tJ)(z)))).pipe((0,e.n)(z=>this.objectCache.getRequestUUIDBySelfLink(z))),Q=(0,n.z)([X.pipe((0,M.Ky)(this.requestService),(0,g.Z)(void 0)),ae.pipe((0,M.m9)(this.requestService),(0,g.Z)(void 0))]).pipe((0,d.p)(([z,q])=>(0,_.a4)(z)||(0,_.a4)(q)),(0,f.T)(([z,q])=>(0,_.Tn)(q)?z:(0,_.Tn)(z)?q:(0,w.QO)(z.state)&&(0,w.QO)(q.state)||!(0,w.QO)(z.state)&&!(0,w.QO)(q.state)?z.lastUpdated>=q.lastUpdated?z:q:(0,w.QO)(q.state)?z:q)),J=this.buildPayload(Q,X,...K);return this.toRemoteDataObservable(Q,J).pipe(function E(Y,V){return(0,y.F)((X,K)=>V?V(X[Y],K[Y]):X[Y]===K[Y])}("lastUpdated"))}buildSingle(X,...K){return this.buildFromHref(X,...K)}toRemoteDataObservable(X,K){return(0,n.z)([X,K]).pipe((0,d.p)(([ae,Q])=>(0,_.a4)(ae)&&!((0,w.yO)(ae.state)&&(0,_.b0)(Q))),(0,f.T)(([ae,Q])=>{let J=ae.response;return(0,_.Tn)(J)&&(J={}),new R.j(J.timeCompleted,ae.request.responseMsToLive,ae.lastUpdated,ae.state,J.errorMessage,Q,J.statusCode)}))}buildList(X,...K){return this.buildFromHref(X,(0,O.s)("page",{shouldEmbed:!1},...K))}aggregate(X){return(0,_.Im)(X)?(0,b.CX)([],(new Date).getTime()):(0,n.z)(X).pipe((0,f.T)(K=>{const ae=K.map(Z=>Z.timeCompleted).reduce((Z,le)=>le>Z?le:Z),Q=K.map(Z=>Z.msToLive).reduce((Z,le)=>le<Z?le:Z),J=K.map(Z=>Z.lastUpdated).reduce((Z,le)=>le>Z?le:Z);let z;z=K.some(Z=>Z.isRequestPending)?w.zE.RequestPending:K.some(Z=>Z.isResponsePending)?w.zE.ResponsePending:K.some(Z=>Z.isErrorStale)?w.zE.ErrorStale:K.some(Z=>Z.isError)?w.zE.Error:K.some(Z=>Z.isSuccessStale)?w.zE.SuccessStale:w.zE.Success;const q=K.map(Z=>Z.errorMessage).map((Z,le)=>{if((0,_.a4)(Z))return`[${le}]: ${Z}`}).filter(Z=>(0,_.a4)(Z)).join(", "),ee=new Set(K.map(Z=>Z.statusCode));let de;1===ee.size?de=ee.values().next().value:ee.size>1&&(de=207);const Ce=K.map(Z=>Z.payload);return new R.j(ae,Q,J,z,q,Ce,de)}))}static#e=this.\u0275fac=function(K){return new(K||Y)(x.KVO(F.$),x.KVO(j._),x.KVO(u.B))};static#t=this.\u0275prov=x.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})()},91072:(B,D,t)=>{"use strict";t.d(D,{I:()=>n});class i{}class n extends i{}},53841:(B,D,t)=>{"use strict";t.d(D,{a:()=>n});var i=t(72683);class n{constructor(e){this.prefix=e}Serialize(e){}Deserialize(e){return(0,i.a4)(e)?`${this.prefix}-${e}`:e}}},99120:(B,D,t)=>{"use strict";t.d(D,{x:()=>i});class i{constructor(c,e,f=!0){this.fieldName=c,this.fieldValue=e,this.encodeValue=f,f&&(this.fieldValue=encodeURIComponent(e))}}},89632:(B,D,t)=>{"use strict";t.d(D,{U:()=>i,z:()=>n});var i=function(c){return c.ASC="ASC",c.DESC="DESC",c}(i||{});class n{constructor(e,f){this.field=e,this.direction=f}}},98046:(B,D,t)=>{"use strict";t.d(D,{Bc:()=>y,YA:()=>c,Yp:()=>f,dL:()=>g,db:()=>n,gL:()=>d,ok:()=>E,sI:()=>e});var i=t(83770);const n={ADD:(0,i.N)("dspace/core/cache/object/ADD"),REMOVE:(0,i.N)("dspace/core/cache/object/REMOVE"),RESET_TIMESTAMPS:(0,i.N)("dspace/core/cache/object/RESET_TIMESTAMPS"),ADD_PATCH:(0,i.N)("dspace/core/cache/object/ADD_PATCH"),APPLY_PATCH:(0,i.N)("dspace/core/cache/object/APPLY_PATCH"),ADD_DEPENDENTS:(0,i.N)("dspace/core/cache/object/ADD_DEPENDENTS"),REMOVE_DEPENDENTS:(0,i.N)("dspace/core/cache/object/REMOVE_DEPENDENTS")};class c{constructor(b,O,I,T,R){this.type=n.ADD,this.payload={objectToCache:b,timeCompleted:O,msToLive:I,requestUUID:T,alternativeLink:R}}}class e{constructor(b){this.type=n.REMOVE,this.payload=b}}class f{constructor(b){this.type=n.RESET_TIMESTAMPS,this.payload=b}}class g{constructor(b,O){this.type=n.ADD_PATCH,this.payload={href:b,operations:O}}}class d{constructor(b){this.type=n.APPLY_PATCH,this.payload=b}}class y{constructor(b,O){this.type=n.ADD_DEPENDENTS,this.payload={href:b,dependentRequestUUIDs:O}}}class E{constructor(b){this.type=n.REMOVE_DEPENDENTS,this.payload=b}}},44537:(B,D,t)=>{"use strict";t.d(D,{gT:()=>d,zA:()=>e});var i=t(5038),n=t(72683),c=t(98046);const e=R=>{if((0,n.a4)(R)){if("string"==typeof R)return R;if("string"==typeof R.value)return R.value}},g=Object.create(null);function d(R=g,u){switch(u.type){case c.db.ADD:return function y(R,u){const w=R[u.payload.objectToCache._links.self.href]||{},v=(0,n.a4)(u.payload.alternativeLink)?[u.payload.alternativeLink]:[];return Object.assign({},R,{[u.payload.objectToCache._links.self.href]:{data:u.payload.objectToCache,timeCompleted:u.payload.timeCompleted,msToLive:u.payload.msToLive,requestUUIDs:[u.payload.requestUUID,...w.requestUUIDs||[]],dependentRequestUUIDs:w.dependentRequestUUIDs||[],isDirty:(0,n.hj)(w.patches),patches:w.patches||[],alternativeLinks:[...w.alternativeLinks||[],...v]}})}(R,u);case c.db.REMOVE:return function E(R,u){if((0,n.a4)(R[u.payload])){const w=Object.assign({},R);return delete w[u.payload],w}return R}(R,u);case c.db.RESET_TIMESTAMPS:return function _(R,u){const w=Object.create(null);return Object.keys(R).forEach(v=>{w[v]=Object.assign({},R[v],{timeCompleted:u.payload})}),w}(R,u);case c.db.ADD_PATCH:return function b(R,u){const w=u.payload.href,v=u.payload.operations,S=Object.assign({},R);return(0,n.a4)(S[w])&&(S[w]=Object.assign({},S[w],{patches:[...S[w].patches,{operations:v}],isDirty:!0})),S}(R,u);case c.db.APPLY_PATCH:return function O(R,u){const w=u.payload,v=Object.assign({},R);if((0,n.a4)(v[w])){const S=[].concat(...v[w].patches.map(L=>L.operations)),M=(0,i.X6)(v[w].data,S,void 0,!1);v[w]=Object.assign({},v[w],{data:M.newDocument,patches:[]})}return v}(R,u);case c.db.ADD_DEPENDENTS:return function I(R,u){const w=u.payload.href,v=Object.assign({},R);return(0,n.a4)(v[w])&&(v[w]=Object.assign({},v[w],{dependentRequestUUIDs:[...new Set([...v[w]?.dependentRequestUUIDs||[],...u.payload.dependentRequestUUIDs])]})),v}(R,u);case c.db.REMOVE_DEPENDENTS:return function T(R,u){const w=u.payload,v=Object.assign({},R);return(0,n.a4)(v[w])&&(v[w]=Object.assign({},v[w],{dependentRequestUUIDs:[]})),v}(R,u);default:return R}}},25718:(B,D,t)=>{"use strict";t.d(D,{$:()=>j});var i=t(73958),n=t(5038),c=t(76627),e=t(63016),f=t(47947),g=t(37610),d=t(27035),y=t(41483),E=t(22867),_=t(66645),b=t(72683),O=t(48891),I=t(96779),T=t(97072),R=t(59501),u=t(10202),w=t(52727),v=t(66559),S=t(98046),M=t(96856),L=t(53107);const F=(0,i.Mz)(O.N,x=>x["cache/object"]);let j=(()=>{class x{constructor(Y,V){this.store=Y,this.linkService=V}add(Y,V,X,K){Y=this.linkService.removeResolvedLinks(Y),this.store.dispatch(new S.YA(Y,(new Date).getTime(),V,X,K))}remove(Y){this.removeRelatedLinksFromIndex(Y),this.store.dispatch(new S.sI(Y))}removeRelatedLinksFromIndex(Y){const V=this.getByHref(Y),X=V.pipe((0,f.T)(ae=>ae.alternativeLinks),(0,g.s)(1)),K=V.pipe((0,f.T)(ae=>Object.entries(ae.data._links).filter(([Q,J])=>"self"!==Q).map(([Q,J])=>J.href)),(0,g.s)(1));this.removeLinksFromAlternativeLinkIndex(X),this.removeLinksFromAlternativeLinkIndex(K)}removeLinksFromAlternativeLinkIndex(Y){Y.subscribe(V=>V.forEach(X=>{this.store.dispatch(new T.NL(u.U.ALTERNATIVE_OBJECT_LINK,X))}))}getObjectByUUID(Y){return this.store.pipe((0,i.Lt)((0,R.vH)(Y)),(0,d.Z)(V=>this.getObjectByHref(V)))}getObjectByHref(Y){return this.getByHref(Y).pipe((0,f.T)(V=>{if((0,b.hj)(V.patches)){const X=[].concat(...V.patches.map(ae=>ae.operations)),K=(0,n.X6)(V.data,X,void 0,!1).newDocument;return Object.assign({},V,{data:K})}return V}),(0,f.T)(V=>{const X=(0,w.Qt)(V.data.type);if("function"!=typeof X)throw new Error(`${X} is not a valid constructor for ${JSON.stringify(V.data)}`);return Object.assign(new X,V.data)}))}getByHref(Y){return(0,c.z)([this.getByAlternativeLink(Y),this.getBySelfLink(Y)]).pipe((0,f.T)(V=>V.find(X=>(0,b.a4)(X))),(0,y.p)(V=>(0,b.a4)(V)))}getBySelfLink(Y){return this.store.pipe((0,i.Lt)((x=>(0,i.Mz)(F,G=>G[x]))(Y)))}getByAlternativeLink(Y){return this.store.pipe((0,i.Lt)((0,R.Fn)(Y)),(0,E.n)(V=>this.getBySelfLink(V)))}getRequestUUIDBySelfLink(Y){return this.getByHref(Y).pipe((0,f.T)(V=>V.requestUUIDs[0]),(0,_.F)())}getRequestUUIDByObjectUUID(Y){return this.store.pipe((0,i.Lt)((0,R.vH)(Y)),(0,d.Z)(V=>this.getRequestUUIDBySelfLink(V)))}getList(Y){return(0,b.Im)(Y)?(0,e.of)([]):(0,c.z)(Y.map(V=>this.getObjectByHref(V)))}hasByUUID(Y){let V=!1;return this.store.pipe((0,i.Lt)((0,R.vH)(Y)),(0,g.s)(1)).subscribe(X=>V=this.hasByHref(X)),V}hasByHref(Y,V){let X=!1;return this.getByHref(Y).subscribe(K=>{X=!(0,b.hj)(V)||K.requestUUIDs.includes(V)}).unsubscribe(),X}hasByHref$(Y){return(0,c.z)(this.getBySelfLink(Y),this.getByAlternativeLink(Y)).pipe((0,f.T)(V=>V.some(X=>(0,b.a4)(X))))}addPatch(Y,V){this.store.dispatch(new S.dL(Y,V)),this.store.dispatch(new M.Fs(Y,I.D.PATCH))}isDirty(Y){return(0,b.hj)(Y.patches)}applyPatchesToCachedObject(Y){this.store.dispatch(new S.gL(Y))}addDependency(Y,V){(0,b.Tn)(Y)||(0,b.Tn)(V)||("string"==typeof Y&&(Y=(0,e.of)(Y)),"string"==typeof V&&(V=(0,e.of)(V)),(0,c.z)([Y,V.pipe((0,E.n)(X=>this.resolveSelfLink(X)))]).pipe((0,E.n)(([X,K])=>{const ae=(0,e.of)(K);return(0,c.z)([ae,ae.pipe((0,E.n)(Q=>this.getBySelfLink(Q)),(0,f.T)(Q=>Q?.dependentRequestUUIDs||[])),this.getByHref(X).pipe((0,f.T)(Q=>Q?.requestUUIDs?.[0]))])}),(0,g.s)(1)).subscribe(([X,K,ae])=>{(0,b.a4)(X)&&(0,b.a4)(ae)&&!K.includes(ae)&&this.store.dispatch(new S.Bc(X,[ae]))}))}removeDependents(Y){this.resolveSelfLink(Y).pipe((0,g.s)(1)).subscribe(V=>{(0,b.a4)(V)&&this.store.dispatch(new S.ok(V))})}resolveSelfLink(Y){return this.getBySelfLink(Y).pipe((0,E.n)(V=>(0,b.hj)(V)?[Y]:this.store.pipe((0,i.Lt)((0,R.Fn)(Y)))))}static#e=this.\u0275fac=function(V){return new(V||x)(L.KVO(i.il),L.KVO(v._))};static#t=this.\u0275prov=L.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},22922:(B,D,t)=>{"use strict";t.d(D,{Ku:()=>i,_p:()=>g,bM:()=>c,hT:()=>n});class i{constructor(R,u,w){this.isSuccessful=R,this.statusCode=u,this.statusText=w,this.toCache=!0}}class n extends i{constructor(R,u,w){super(!0,R,`${R}`),this.link=u,this.unCacheableObject=w}}class c extends i{constructor(R,u,w,v){super(!0,u,w),this.resourceSelfLinks=R,this.statusCode=u,this.statusText=w,this.pageInfo=v}}class g extends i{constructor(R){super(!1,R.statusCode,R.statusText),console.error(R),this.errorMessage=R.message}}},96856:(B,D,t)=>{"use strict";t.d(D,{Fs:()=>c,G9:()=>n,a0:()=>f,eR:()=>e});var i=t(83770);const n={ADD:(0,i.N)("dspace/core/cache/syncbuffer/ADD"),COMMIT:(0,i.N)("dspace/core/cache/syncbuffer/COMMIT"),EMPTY:(0,i.N)("dspace/core/cache/syncbuffer/EMPTY")};class c{constructor(d,y){this.type=n.ADD,this.payload={href:d,method:y}}}class e{constructor(d){this.type=n.COMMIT,this.payload=d}}class f{constructor(d){this.type=n.EMPTY,this.payload=d}}},94622:(B,D,t)=>{"use strict";t.d(D,{P:()=>d});var i=t(47947),n=t(84195),c=t(77304),e=t(36556),f=t(12007),g=t(53107);let d=(()=>{class y{constructor(_,b){this.configService=_,this.authorizationService=b,this._inboxRelationLink="http://www.w3.org/ns/ldp#inbox"}isCoarConfigEnabled(){return this.authorizationService.isAuthorized(e._.CoarNotifyEnabled)}getCoarLdnLocalInboxUrls(){return this.configService.findByPropertyName("ldn.notify.inbox").pipe((0,f.qD)(),(0,i.T)(_=>_.hasSucceeded?_.payload.values:[]))}getInboxRelationLink(){return this._inboxRelationLink}static#e=this.\u0275fac=function(b){return new(b||y)(g.KVO(n.ConfigurationDataService),g.KVO(c.AuthorizationDataService))};static#t=this.\u0275prov=g.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()},99168:(B,D,t)=>{"use strict";t.d(D,{M:()=>y});var i=t(31635),n=t(47817),c=t(52727),e=t(5338),f=t(19199),g=t(30865);let d=class extends f.G{static#e=this.type=g.gf};(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Boolean)],d.prototype,"isDefault",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",e.O)],d.prototype,"sections",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],d.prototype,"_links",void 0),d=(0,i.Cg)([c.gV,(0,n.inheritSerialization)(f.G)],d);let y=class extends d{static#e=this.type=g.Nm};y=(0,i.Cg)([c.gV,(0,n.inheritSerialization)(d)],y)},451:(B,D,t)=>{"use strict";t.d(D,{f:()=>d});var i=t(31635),n=t(47817),c=t(52727),e=t(19199),f=t(30865);let g=class extends e.G{static#e=this.type=f.vH};(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Array)],g.prototype,"rows",void 0),g=(0,i.Cg)([c.gV,(0,n.inheritSerialization)(e.G)],g);let d=class extends g{static#e=this.type=f.KX};d=(0,i.Cg)([c.gV,(0,n.inheritSerialization)(g)],d)},30865:(B,D,t)=>{"use strict";t.d(D,{KX:()=>f,NS:()=>_,Nm:()=>n,V_:()=>y,WJ:()=>d,XI:()=>b,gf:()=>c,mU:()=>E,vH:()=>e});var i=t(98573);const n=new i.v("submissiondefinitions"),c=new i.v("submissiondefinition"),e=new i.v("submissionform"),f=new i.v("submissionforms"),d=(new i.v("submissionsections"),new i.v("submissionsection")),y=new i.v("submissionuploads"),E=new i.v("submissionupload"),_=new i.v("submissionaccessoption"),b=new i.v("bulkaccessconditionoption")},19199:(B,D,t)=>{"use strict";t.d(D,{G:()=>f});var i=t(31635),n=t(47817),c=t(98573),e=t(2494);class f{}(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"id",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"name",void 0),(0,i.Cg)([e.aK,n.autoserialize,(0,i.Sn)("design:type",c.v)],f.prototype,"type",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0)},48891:(B,D,t)=>{"use strict";t.d(D,{N:()=>n});const n=(0,t(73958).UX)("core")},66095:(B,D,t)=>{"use strict";t.r(D),t.d(D,{AccessStatusDataService:()=>d});var i=t(45122),n=t(25718),c=t(25744),e=t(48548),f=t(9843),g=t(53107);let d=(()=>{class y extends e.L{constructor(_,b,O,I){super("accessStatus",_,b,O,I),this.requestService=_,this.rdbService=b,this.objectCache=O,this.halService=I}findAccessStatusFor(_){return this.findByHref(_._links.accessStatus.href)}static#e=this.\u0275fac=function(b){return new(b||y)(g.KVO(f.B),g.KVO(i.o),g.KVO(n.$),g.KVO(c.Y))};static#t=this.\u0275prov=g.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()},97120:(B,D,t)=>{"use strict";t.d(D,{aE:()=>E});var i=t(86722),n=t(72683),c=t(52727),e=t(26050),f=t(36423),g=t(5338);function d(_){return(0,n.hj)(_._links)&&(0,n.a4)(_._links.self)}function y(_){return(0,n.a4)(_.page)&&(0,n.a4)(_.page.size)&&(0,n.a4)(_.page.totalElements)&&(0,n.a4)(_.page.totalPages)&&(0,n.a4)(_.page.number)}class E{constructor(){this.shouldDirectlyAttachEmbeds=!1,this.serializerConstructor=e.T}process(b,O,I){if((0,n.hj)(b)){if((0,n.Tn)(b)||"object"!=typeof b)return b;if(y(b))return this.processPaginatedList(b,O);if(Array.isArray(b))return this.processArray(b,O);if(d(b)){const R=this.deserialize(b);return(0,n.hj)(b._embedded)&&Object.keys(b._embedded).filter(u=>b._embedded.hasOwnProperty(u)).forEach(u=>{const w=this.process(b._embedded[u],O,b._links[u].href);(0,n.a4)(R)&&this.shouldDirectlyAttachEmbeds&&(0,n.hj)(w)&&(y(b._embedded[u])?(R[u]=w,R[u].page=w.page.map(v=>this.retrieveObjectOrUrl(v))):d(b._embedded[u])?R[u]=this.retrieveObjectOrUrl(w):Array.isArray(w)&&(R[u]=w.map(v=>this.retrieveObjectOrUrl(v))))}),this.cache(R,O,b,I),R}const T={};return Object.keys(b).filter(R=>b.hasOwnProperty(R)).filter(R=>(0,n.a4)(b[R])).forEach(R=>{T[R]=this.process(b[R],O)}),T}}processPaginatedList(b,O){const I=this.processPageInfo(b);let T=b._embedded;(0,n.Tn)(T)?T=[]:Array.isArray(T)||(T=this.flattenSingleKeyObject(T));const R=this.processArray(T,O);return(0,g.g)(I,R)}processArray(b,O){let I=[];return b.forEach(T=>{I=[...I,this.process(T,O)]}),I}deserialize(b){const O=b.type;if((0,n.a4)(O)){const I=(0,c.Qt)(O);return(0,n.a4)(I)?new this.serializerConstructor(I).deserialize(b):(console.warn("cannot deserialize type "+O),null)}return console.warn("cannot deserialize type "+O),null}cache(b,O,I,T){this.toCache&&this.addToObjectCache(b,O,I,T)}addToObjectCache(b,O,I,T){if((0,n.Tn)(b)||(0,n.Tn)(b._links)||(0,n.Tn)(b._links.self)||(0,n.Tn)(b._links.self.href)){const R=(0,n.a4)(I)&&(0,n.a4)(I.type)?I.type:"object";let u;return u=(0,n.a4)(I._embedded)?JSON.stringify(Object.assign({},I,{_embedded:"..."})):JSON.stringify(I),void console.warn(`Can't cache incomplete ${R}: ${JSON.stringify(b)}, parsed from (partial) response: ${u}`)}this.objectCache.add(b,(0,n.a4)(O.responseMsToLive)?O.responseMsToLive:i.c.cache.msToLive.default,O.uuid,T)}processPageInfo(b){if((0,n.a4)(b.page)){const O=Object.assign({},b.page,{_links:b._links}),I=new e.T(f.Q).deserialize(O);return I.currentPage>=0&&Object.assign(I,{currentPage:I.currentPage+1}),I}}flattenSingleKeyObject(b){const O=Object.keys(b);if(1!==O.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(b)}`);return b[O[0]]}retrieveObjectOrUrl(b){return this.toCache?b._links.self.href:b}isSuccessStatus(b){return b>=200&&b<300}}},48548:(B,D,t)=>{"use strict";t.d(D,{L:()=>u});var i=t(63016),n=t(89299),c=t(33325),e=t(82040),f=t(37610),g=t(47947),d=t(15981),y=t(22867),E=t(27035),_=t(42267),b=t(72683),O=t(12007),I=t(87913),T=t(70210);class u{constructor(v,S,M,L,F,$){this.linkPath=v,this.requestService=S,this.rdbService=M,this.objectCache=L,this.halService=F,this.responseMsToLive=$}getBrowseEndpoint(v={},S){return this.getEndpoint()}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}buildHrefFromFindOptions(v,S,M=[],...L){let F=[...M];return(0,b.a4)(S.currentPage)&&"number"==typeof S.currentPage&&(F=this.addHrefArg(v,F,"page="+(S.currentPage-1))),(0,b.a4)(S.elementsPerPage)&&(F=this.addHrefArg(v,F,`size=${S.elementsPerPage}`)),(0,b.a4)(S.sort)&&(F=this.addHrefArg(v,F,`sort=${S.sort.field},${S.sort.direction}`)),(0,b.a4)(S.startsWith)&&(F=this.addHrefArg(v,F,`startsWith=${S.startsWith}`)),(0,b.a4)(S.searchParams)&&S.searchParams.forEach($=>{F=this.addHrefArg(v,F,`${$.fieldName}=${$.fieldValue}`)}),F=this.addEmbedParams(v,F,...L),(0,b.hj)(F)?new I.t(v,`?${F.join("&")}`).toString():v}buildHrefWithParams(v,S,...M){let L=[];return(0,b.a4)(S)&&S.forEach(F=>{L=this.addHrefArg(v,L,`${F.fieldName}=${F.fieldValue}`)}),L=this.addEmbedParams(v,L,...M),(0,b.hj)(L)?new I.t(v,`?${L.join("&")}`).toString():v}addEmbedParams(v,S,...M){return M.forEach(L=>{if((0,b.a4)(L)&&L.shouldEmbed){const F="embed="+String(L.name);(0,b.a4)(L.findListOptions)&&(0,b.a4)(L.findListOptions.elementsPerPage)&&(S=this.addHrefArg(v,S,"embed.size="+String(L.name)+"="+L.findListOptions.elementsPerPage)),S=(0,b.hj)(L.linksToFollow)?this.addNestedEmbeds(F,v,S,...L.linksToFollow):this.addHrefArg(v,S,F)}}),S}addHrefArg(v,S,M){return v.includes(M)||S.includes(M)?[...S]:[...S,M]}addNestedEmbeds(v,S,M,...L){let F=v;return L.forEach($=>{if((0,b.a4)($)&&$.shouldEmbed){if(F=F+"%2F"+String($.name),(0,b.a4)($.findListOptions)&&(0,b.a4)($.findListOptions.elementsPerPage)){const j="embed.size="+F.split("=")[1]+"="+$.findListOptions.elementsPerPage;M=this.addHrefArg(S,M,j)}M=(0,b.a4)($.linksToFollow)&&(0,b.hj)($.linksToFollow)?this.addNestedEmbeds(F,S,M,...$.linksToFollow):this.addHrefArg(S,M,F)}}),M}reRequestStaleRemoteData(v,S){return M=>!0===v?M.pipe((0,e.M)(L=>{(0,b.a4)(L)&&L.isStale&&S()})):M}findByHref(v,S=!0,M=!0,...L){"string"==typeof v&&(v=(0,i.of)(v));const F=v.pipe((0,b.VT)(),(0,f.s)(1),(0,g.T)(j=>this.buildHrefFromFindOptions(j,{},[],...L)));this.createAndSendGetRequest(F,S);const $=this.rdbService.buildSingle(F,...L).pipe((0,d.j)(j=>j.isStale||!S&&j.hasCompleted),this.reRequestStaleRemoteData(M,()=>this.findByHref(v,S,M,...L)));return $.pipe((0,e.M)(j=>{if((0,b.a4)(j?.payload?._links))for(const x of Object.keys(j.payload._links))if((0,b.a4)(j.payload[x])&&"self"!==x){const G=[].concat(j.payload._links[x]);for(const Y of G)(0,b.a4)(Y?.href)&&this.addDependency($,Y.href)}}))}findListByHref(v,S={},M=!0,L=!0,...F){"string"==typeof v&&(v=(0,i.of)(v));const $=v.pipe((0,b.VT)(),(0,f.s)(1),(0,g.T)(x=>this.buildHrefFromFindOptions(x,S,[],...F)));this.createAndSendGetRequest($,M);const j=this.rdbService.buildList($,...F).pipe((0,d.j)(x=>x.isStale||!M&&x.hasCompleted),this.reRequestStaleRemoteData(L,()=>this.findListByHref(v,S,M,L,...F)));return j.pipe((0,e.M)(x=>{if((0,b.a4)(x?.payload?.page))for(const G of x.payload.page)if((0,b.a4)(G?._links))for(const Y of Object.keys(G._links))if((0,b.a4)(G[Y])&&"self"!==Y){const V=[].concat(G._links[Y]);for(const X of V)(0,b.a4)(X?.href)&&this.addDependency(j,X.href)}}))}createAndSendGetRequest(v,S=!0){(0,b.hj)(v)&&("string"==typeof v&&(v=(0,i.of)(v)),v.pipe((0,b.VT)(),(0,f.s)(1)).subscribe(M=>{const L=this.requestService.generateRequestId(),F=new T.IP(L,M);(0,b.a4)(this.responseMsToLive)&&(F.responseMsToLive=this.responseMsToLive),this.requestService.send(F,S)}))}hasCachedResponse(v){if((0,b.hj)(v))return"string"==typeof v&&(v=(0,i.of)(v)),v.pipe((0,b.VT)(),(0,f.s)(1),(0,g.T)(S=>{const M=this.requestService.generateRequestId(),L=new T.IP(M,S);return!this.requestService.shouldDispatchRequest(L,!0)}));throw new Error("Can't check whether there is a cached response for an empty href$")}hasCachedErrorResponse(v){return this.hasCachedResponse(v).pipe((0,y.n)(S=>S?this.rdbService.buildSingle(v).pipe((0,O.qD)(),(0,g.T)(M=>M.hasFailed)):(0,i.of)(!1)))}getLinkPath(){return this.linkPath}addDependency(v,S){this.objectCache.addDependency(v.pipe((0,O.qD)(),(0,y.n)(M=>M.hasSucceeded?[M.payload._links.self.href]:[void 0])),S)}invalidateByHref(v){const S=new n.h;return this.objectCache.getByHref(v).pipe((0,f.s)(1),(0,y.n)(M=>(0,c.H)([...M.requestUUIDs,...M.dependentRequestUUIDs]).pipe((0,E.Z)(L=>this.requestService.setStaleByUUID(L)),(0,_.$)()))).subscribe(()=>{this.objectCache.removeDependents(v),S.next(!0),S.complete()}),S}}},45926:(B,D,t)=>{"use strict";t.d(D,{V:()=>b});var i=t(66645),n=t(47947),c=t(37610),e=t(28445),f=t(72683),g=t(69535),d=t(52727),y=t(26050),E=t(70210),_=t(48548);class b extends _.L{constructor(I,T,R,u,w,v,S){super(I,T,R,u,w,S),this.linkPath=I,this.requestService=T,this.rdbService=R,this.objectCache=u,this.halService=w,this.notificationsService=v,this.responseMsToLive=S}create(I,...T){const R=this.getEndpoint().pipe((0,f.VT)(),(0,i.F)(),(0,n.T)(u=>this.buildHrefWithParams(u,T)));return this.createOnEndpoint(I,R)}createOnEndpoint(I,T){const R=this.requestService.generateRequestId(),u=new y.T((0,d.Qt)(I.type)).serialize(I);T.pipe((0,c.s)(1)).subscribe(v=>{const S=new E.QU(R,v,JSON.stringify(u));(0,f.a4)(this.responseMsToLive)&&(S.responseMsToLive=this.responseMsToLive),this.requestService.send(S)});const w=this.rdbService.buildFromRequestUUID(R);return w.pipe((0,e.v)(v=>v.isLoading,!0)).subscribe(v=>{v.hasFailed&&this.notificationsService.error("Server Error:",v.errorMessage,new g.y(-1))}),w}}},83951:(B,D,t)=>{"use strict";t.d(D,{I:()=>f});var i=t(22867),n=t(72683),c=t(70210),e=t(2887);class f extends e.W{constructor(d,y,E,_,b,O,I,T){if(super(d,y,E,_,b,I,T),this.linkPath=d,this.requestService=y,this.rdbService=E,this.objectCache=_,this.halService=b,this.notificationsService=O,this.responseMsToLive=I,this.constructIdEndpoint=T,(0,n.Tn)(T))throw new Error(`DeleteDataImpl initialized without a constructIdEndpoint method (linkPath: ${d})`)}delete(d,y){return this.getIDHrefObs(d).pipe((0,i.n)(E=>this.deleteByHref(E,y)))}deleteByHref(d,y){const E=this.requestService.generateRequestId();let _=d;y&&y.forEach(O=>_+=(_.includes("?")?"&":"?")+"copyVirtualMetadata="+O);const b=new c.$(E,_);return(0,n.a4)(this.responseMsToLive)&&(b.responseMsToLive=this.responseMsToLive),this.requestService.send(b),this.rdbService.buildFromRequestUUIDAndAwait(E,()=>this.invalidateByHref(d))}}},94937:(B,D,t)=>{"use strict";t.d(D,{H:()=>g});var i=t(41483),n=t(47947),c=t(66645),e=t(72683),f=t(48548);class g extends f.L{constructor(y,E,_,b,O,I){super(y,E,_,b,O,I),this.linkPath=y,this.requestService=E,this.rdbService=_,this.objectCache=b,this.halService=O,this.responseMsToLive=I}findAll(y={},E=!0,_=!0,...b){return this.findListByHref(this.getFindAllHref(y),y,E,_,...b)}getFindAllHref(y={},E,..._){const b=[];return this.getBrowseEndpoint(y).pipe((0,i.p)(I=>(0,e.hj)(I)),(0,n.T)(I=>(0,e.hj)(E)?`${I}/${E}`:I),(0,c.F)()).pipe((0,n.T)(I=>this.buildHrefFromFindOptions(I,y,b,..._)))}}},2887:(B,D,t)=>{"use strict";t.d(D,{W:()=>g});var i=t(47947),n=t(37610),c=t(22867),e=t(48548);const f=(d,y)=>`${d}/${y}`;class g extends e.L{constructor(y,E,_,b,O,I,T=f){super(y,E,_,b,O,I),this.linkPath=y,this.requestService=E,this.rdbService=_,this.objectCache=b,this.halService=O,this.responseMsToLive=I,this.constructIdEndpoint=T}findById(y,E=!0,_=!0,...b){const O=this.getIDHrefObs(encodeURIComponent(y),...b);return this.findByHref(O,E,_,...b)}getIDHref(y,E,..._){return this.buildHrefFromFindOptions(this.constructIdEndpoint(y,E),{},[],..._)}getIDHrefObs(y,...E){return this.getEndpoint().pipe((0,i.T)(_=>this.getIDHref(_,y,...E)))}invalidateById(y){const E=this.getIDHrefObs(y).pipe((0,n.s)(1),(0,c.n)(_=>this.invalidateByHref(_)));return E.subscribe(),E}}},2868:(B,D,t)=>{"use strict";t.d(D,{n:()=>y});var i=t(47947),n=t(25814),c=t(27035),e=t(72683),f=t(12007),g=t(70210),d=t(2887);class y extends d.W{constructor(_,b,O,I,T,R,u,w){if(super(_,b,O,I,T,u,w),this.linkPath=_,this.requestService=b,this.rdbService=O,this.objectCache=I,this.halService=T,this.comparator=R,this.responseMsToLive=u,this.constructIdEndpoint=w,(0,e.Tn)(w))throw new Error(`PatchDataImpl initialized without a constructIdEndpoint method (linkPath: ${_})`)}patch(_,b){const O=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,i.T)(T=>this.getIDHref(T,_.uuid))).pipe((0,n.I)(T=>(0,e.a4)(T))).subscribe(T=>{const R=new g.EA(O,T,b);(0,e.a4)(this.responseMsToLive)&&(R.responseMsToLive=this.responseMsToLive),this.requestService.send(R)}),this.rdbService.buildFromRequestUUIDAndAwait(O,()=>this.invalidateByHref(_._links.self.href))}update(_){return this.createPatchFromCache(_).pipe((0,c.Z)(b=>((0,e.hj)(b)&&this.objectCache.addPatch(_._links.self.href,b),this.findByHref(_._links.self.href,!0,!0))))}commitUpdates(_){this.requestService.commit(_)}createPatchFromCache(_){return this.findByHref(_._links.self.href,!0,!1).pipe((0,f.yd)(),(0,f.Bo)(),(0,i.T)(O=>this.comparator.diff(O,_)))}}},24265:(B,D,t)=>{"use strict";t.d(D,{W:()=>f});var i=t(72683),n=t(26050),c=t(70210),e=t(48548);class f extends e.L{constructor(d,y,E,_,b,O){super(d,y,E,_,b,O),this.linkPath=d,this.requestService=y,this.rdbService=E,this.objectCache=_,this.halService=b,this.responseMsToLive=O}put(d){const y=this.requestService.generateRequestId(),E=new n.T(d.constructor).serialize(d),_=new c.v_(y,d._links.self.href,E);return(0,i.a4)(this.responseMsToLive)&&(_.responseMsToLive=this.responseMsToLive),this.requestService.send(_),this.rdbService.buildFromRequestUUID(y)}}},12350:(B,D,t)=>{"use strict";t.d(D,{X:()=>g});var i=t(47947),n=t(41483),c=t(72683),e=t(48548);const f=(d,y)=>`${d}/search/${y}`;class g extends e.L{constructor(y,E,_,b,O,I,T=f){if(super(y,E,_,b,O,I),this.linkPath=y,this.requestService=E,this.rdbService=_,this.objectCache=b,this.halService=O,this.responseMsToLive=I,this.constructSearchEndpoint=T,(0,c.Tn)(T))throw new Error(`SearchDataImpl initialized without a constructSearchEndpoint method (linkPath: ${y})`)}searchBy(y,E={},_=!0,b=!0,...O){const I=this.getSearchByHref(y,E,...O);return this.findListByHref(I,void 0,_,b,...O)}getSearchByHref(y,E={},..._){const b=[];return this.getSearchEndpoint(y).pipe((0,i.T)(I=>this.buildHrefFromFindOptions(I,E,b,..._)))}getSearchEndpoint(y){return this.halService.getEndpoint(this.linkPath).pipe((0,n.p)(E=>(0,c.hj)(E)),(0,i.T)(E=>this.constructSearchEndpoint(E,y)))}}},78052:(B,D,t)=>{"use strict";t.r(D),t.d(D,{BitstreamDataService:()=>K});var i=t(27691),n=t(76627),c=t(76564),e=t(22867),f=t(47947),g=t(37610),d=t(25814),y=t(72683),E=t(79224),_=t(51206),b=t(24106),O=t(45122),I=t(99120),T=t(25718),R=t(25744),u=t(12007),w=t(36423),v=t(86856),S=t(83951),M=t(2887),L=t(2868),F=t(12350),$=t(80346),j=t(61189),x=t(24632),G=t(5338),Y=t(70210),V=t(9843),X=t(53107);let K=(()=>{class ae extends M.W{constructor(J,z,q,ee,de,Ce,Z,le){super("bitstreams",J,z,q,ee),this.requestService=J,this.rdbService=z,this.objectCache=q,this.halService=ee,this.bundleService=de,this.bitstreamFormatService=Ce,this.comparator=Z,this.notificationsService=le,this.searchData=new F.X(this.linkPath,J,z,q,ee,this.responseMsToLive),this.patchData=new L.n(this.linkPath,J,z,q,ee,Z,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new S.I(this.linkPath,J,z,q,ee,le,this.responseMsToLive,this.constructIdEndpoint)}findAllByBundle(J,z,q=!0,ee=!0,...de){return this.findListByHref(J._links.bitstreams.href,z,q,ee,...de)}findAllByItemAndBundleName(J,z,q,ee=!0,de=!0,...Ce){return this.bundleService.findByItemAndName(J,z).pipe((0,e.n)(Z=>Z.hasSucceeded&&(0,y.a4)(Z.payload)?this.findAllByBundle(Z.payload,q,ee,de,...Ce):Z.hasSucceeded||404!==Z.statusCode?[Z]:(0,_.CX)((0,G.g)(new w.Q,[]),(new Date).getTime())))}updateFormat(J,z){const q=this.requestService.generateRequestId(),ee=this.getBrowseEndpoint().pipe((0,f.T)(Ce=>`${Ce}/${J.id}`),(0,e.n)(Ce=>this.halService.getEndpoint("format",Ce))),de=this.bitstreamFormatService.getBrowseEndpoint().pipe((0,f.T)(Ce=>`${Ce}/${z.id}`));return(0,n.z)([ee,de]).pipe((0,f.T)(([Ce,Z])=>{const le=Object.create({});let De=new i.Lr;return De=De.append("Content-Type","text/uri-list"),le.headers=De,new Y.v_(q,Ce,Z,le)}),(0,v.w$)(this.requestService),(0,g.s)(1)).subscribe(()=>{this.requestService.removeByHrefSubstring(J.self+"/format")}),this.rdbService.buildFromRequestUUID(q)}findByItemHandle(J,z,q,ee=!0,de=!0,...Ce){const Z=[];Z.push(new I.x("handle",J)),(0,y.a4)(z)&&Z.push(new I.x("sequenceId",z)),(0,y.a4)(q)&&Z.push(new I.x("filename",q));const le=this.getSearchByHref("byItemHandle",{searchParams:Z},...Ce);return this.findByHref(le,ee,de,...Ce)}getSearchByHref(J,z,...q){return this.searchData.getSearchByHref(J,z,...q)}findPrimaryBitstreamByItemAndName(J,z,q=!0,ee=!0){return this.bundleService.findByItemAndName(J,z,q,ee,(0,b.s)("primaryBitstream")).pipe((0,u.qD)(),(0,e.n)(de=>de.hasSucceeded?de.payload.primaryBitstream.pipe((0,u.qD)(),(0,f.T)(Ce=>Ce.hasSucceeded?Ce.payload:null)):c.w))}searchBy(J,z,q,ee,...de){return this.searchData.searchBy(J,z,q,ee,...de)}commitUpdates(J){this.patchData.commitUpdates(J)}patch(J,z){return this.patchData.patch(J,z)}update(J){return this.patchData.update(J)}createPatchFromCache(J){return this.patchData.createPatchFromCache(J)}delete(J,z){return this.deleteData.delete(J,z)}deleteByHref(J,z){return this.deleteData.deleteByHref(J,z)}removeMultiple(J){const z=J.map(de=>({op:"remove",path:`/bitstreams/${de.id}`})),q=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,d.I)(de=>(0,y.a4)(de))).subscribe(de=>{const Ce=new Y.EA(q,de,z);(0,y.a4)(this.responseMsToLive)&&(Ce.responseMsToLive=this.responseMsToLive),this.requestService.send(Ce)}),this.rdbService.buildFromRequestUUIDAndAwait(q,()=>(0,n.z)(J.map(de=>this.invalidateByHref(de._links.self.href))))}static#e=this.\u0275fac=function(z){return new(z||ae)(X.KVO(V.B),X.KVO(O.o),X.KVO(T.$),X.KVO(R.Y),X.KVO(j.BundleDataService),X.KVO($.BitstreamFormatDataService),X.KVO(x.j),X.KVO(E.I))};static#t=this.\u0275prov=X.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},80346:(B,D,t)=>{"use strict";t.r(D),t.d(D,{BitstreamFormatDataService:()=>M});var i=t(73958),n=t(47947),c=t(66645),e=t(82040),f=t(98017),g=t(79224),d=t(45122),y=t(25718),E=t(48891),_=t(25744),b=t(86856),O=t(83951),I=t(94937),T=t(2887),R=t(70210),u=t(9843),w=t(53107);const v=(0,i.Mz)(E.N,L=>L.bitstreamFormats),S=(0,i.Mz)(v,L=>L.selectedBitstreamFormats);let M=(()=>{class L extends T.W{constructor($,j,x,G,Y,V){super("bitstreamformats",$,j,x,G),this.requestService=$,this.rdbService=j,this.objectCache=x,this.halService=G,this.notificationsService=Y,this.store=V,this.linkPath="bitstreamformats",this.findAllData=new I.H(this.linkPath,$,j,x,G,this.responseMsToLive),this.deleteData=new O.I(this.linkPath,$,j,x,G,Y,this.responseMsToLive,this.constructIdEndpoint)}getUpdateEndpoint($){return this.getBrowseEndpoint().pipe((0,n.T)(j=>this.getIDHref(j,$)))}getCreateEndpoint(){return this.getBrowseEndpoint()}updateBitstreamFormat($){const j=this.requestService.generateRequestId();return this.getUpdateEndpoint($.id).pipe((0,c.F)(),(0,n.T)(x=>new R.v_(j,x,$)),(0,b.w$)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID(j)}createBitstreamFormat($){const j=this.requestService.generateRequestId();return this.getCreateEndpoint().pipe((0,n.T)(x=>new R.Qf(j,x,$)),(0,b.w$)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID(j)}clearBitStreamFormatRequests(){return this.getBrowseEndpoint().pipe((0,e.M)($=>this.requestService.removeByHrefSubstring($)))}getSelectedBitstreamFormats(){return this.store.pipe((0,i.Lt)(S))}selectBitstreamFormat($){this.store.dispatch(new f.hO($))}deselectBitstreamFormat($){this.store.dispatch(new f.Cv($))}deselectAllBitstreamFormats(){this.store.dispatch(new f.ZU)}findByBitstream($){return this.findByHref($._links.format.href)}findAll($,j,x,...G){return this.findAllData.findAll($,j,x,...G)}delete($,j){return this.deleteData.delete($,j)}deleteByHref($,j){return this.deleteData.deleteByHref($,j)}static#e=this.\u0275fac=function(j){return new(j||L)(w.KVO(u.B),w.KVO(d.o),w.KVO(y.$),w.KVO(_.Y),w.KVO(g.I),w.KVO(i.il))};static#t=this.\u0275prov=w.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})()},61189:(B,D,t)=>{"use strict";t.r(D),t.d(D,{BundleDataService:()=>u});var i=t(47947),n=t(22867),c=t(37610),e=t(72683),f=t(45122),g=t(25718),d=t(25744),y=t(2887),E=t(2868),_=t(24632),b=t(21314),O=t(70210),I=t(9843),T=t(64868),R=t(53107);let u=(()=>{class w extends y.W{constructor(S,M,L,F,$){super("bundles",S,M,L,F),this.requestService=S,this.rdbService=M,this.objectCache=L,this.halService=F,this.comparator=$,this.bitstreamsEndpoint="bitstreams",this.patchData=new E.n(this.linkPath,S,M,L,F,$,this.responseMsToLive,this.constructIdEndpoint)}findAllByItem(S,M,L=!0,F=!0,...$){return this.findListByHref(S._links.bundles.href,M,L,F,...$)}findByItemAndName(S,M,L=!0,F=!0,...$){return this.findAllByItem(S,{elementsPerPage:9999},L,F,...$).pipe((0,i.T)(j=>{if((0,e.a4)(j.payload)&&(0,e.a4)(j.payload.page)){const x=j.payload.page.find(G=>G.name===M);return(0,e.a4)(x)?new b.j(j.timeCompleted,j.msToLive,j.lastUpdated,T.zE.Success,null,x,200):new b.j(j.timeCompleted,j.msToLive,j.lastUpdated,T.zE.Error,`The bundle with name ${M} was not found.`,null,404)}return j}))}getBitstreamsEndpoint(S,M){return this.getBrowseEndpoint().pipe((0,n.n)(L=>this.halService.getEndpoint(this.bitstreamsEndpoint,`${L}/${S}`)),(0,i.T)(L=>M?M.toRestUrl(L):L))}getBitstreams(S,M,...L){const F=this.getBitstreamsEndpoint(S,M);return F.pipe((0,c.s)(1)).subscribe($=>{const j=new O.IP(this.requestService.generateRequestId(),$);this.requestService.send(j,!0)}),this.rdbService.buildList(F,...L)}commitUpdates(S){this.patchData.commitUpdates(S)}patch(S,M){return this.patchData.patch(S,M)}update(S){return this.patchData.update(S)}createPatchFromCache(S){return this.patchData.createPatchFromCache(S)}static#e=this.\u0275fac=function(M){return new(M||w)(R.KVO(I.B),R.KVO(f.o),R.KVO(g.$),R.KVO(d.Y),R.KVO(_.j))};static#t=this.\u0275prov=R.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})()},8109:(B,D,t)=>{"use strict";t.r(D),t.d(D,{CollectionDataService:()=>x});var i=t(27691),n=t(47947),c=t(22867),e=t(37610),f=t(41483),g=t(72683),d=t(69535),y=t(79224),E=t(45122),_=t(99120),b=t(25718),O=t(26050),I=t(9815),T=t(25744),R=t(12007),u=t(78052),w=t(69530),v=t(63710),S=t(24632),M=t(36705),L=t(70210),F=t(9843),$=t(53107),j=t(69685);let x=(()=>{class G extends w.x{constructor(V,X,K,ae,Q,J,z,q,ee){super("collections",V,X,K,ae,Q,J,z),this.requestService=V,this.rdbService=X,this.objectCache=K,this.halService=ae,this.comparator=Q,this.notificationsService=J,this.bitstreamDataService=z,this.communityDataService=q,this.translate=ee,this.errorTitle="collection.source.update.notifications.error.title",this.contentSourceError="collection.source.update.notifications.error.content"}getAuthorizedCollection(V,X={},K=!0,ae=!0,...Q){return X=Object.assign({},X,{searchParams:[new _.x("query",V)]}),this.searchBy("findSubmitAuthorized",X,K,ae,...Q).pipe((0,R.bD)())}getAuthorizedCollectionByEntityType(V,X,K={},ae=!0,...Q){return K=Object.assign({},K,{searchParams:[new _.x("query",V),new _.x("entityType",X)]}),this.searchBy("findSubmitAuthorizedByEntityType",K,!0,ae,...Q).pipe((0,R.bD)())}getAuthorizedCollectionByCommunity(V,X,K={},ae=!0){return K=Object.assign({},K,{searchParams:[new _.x("uuid",V),new _.x("query",X)]}),this.searchBy("findSubmitAuthorizedByCommunity",K,ae).pipe((0,R.bD)())}getAuthorizedCollectionByCommunityAndEntityType(V,X,K={},ae=!0,...Q){const z=[new _.x("uuid",V),new _.x("entityType",X)];return K=Object.assign({},K,{searchParams:z}),this.searchBy("findSubmitAuthorizedByCommunityAndEntityType",K,!0,ae,...Q).pipe((0,R.bD)())}hasAuthorizedCollection(){const X=new M._;return X.elementsPerPage=1,this.searchBy("findSubmitAuthorized",X).pipe((0,R.qD)(),(0,n.T)(K=>K?.payload?.totalElements>0))}getHarvesterEndpoint(V){return this.halService.getEndpoint(this.linkPath).pipe((0,c.n)(X=>this.halService.getEndpoint("harvester",`${X}/${V}`)))}getContentSource(V,X=!0){const K=this.getHarvesterEndpoint(V).pipe((0,g.VT)(),(0,e.s)(1));return K.subscribe(ae=>{const Q=new L.IL(this.requestService.generateRequestId(),ae);this.requestService.send(Q,X)}),this.rdbService.buildSingle(K)}updateContentSource(V,X){const K=this.requestService.generateRequestId(),ae=new O.T(I.Z).serialize(X);return this.getHarvesterEndpoint(V).pipe((0,e.s)(1),(0,n.T)(J=>{const z=Object.create({});let q=new i.Lr;return q=q.append("Content-Type","application/json"),z.headers=q,new L.xu(K,J,JSON.stringify(ae),z)})).subscribe(J=>this.requestService.send(J)),this.rdbService.buildFromRequestUUID(K).pipe((0,R.qD)(),(0,n.T)(J=>J.hasFailed?(0,g.a4)(J.errorMessage)?this.notificationsService.error(this.translate.instant(this.errorTitle),422===J.statusCode?this.translate.instant(this.contentSourceError):J.errorMessage,new d.y(-1)):void 0:J),(0,g.VT)(),(0,n.T)(J=>(0,g.hj)(J.payload)?J.payload:J))}getFindByParentHref(V){return this.halService.getEndpoint("communities").pipe((0,c.n)(X=>this.halService.getEndpoint("collections",`${X}/${V}`)))}findOwningCollectionFor(V){return this.findByHref(V._links.owningCollection.href)}findMappedCollectionsFor(V,X){return this.findListByHref(V._links.mappedCollections.href,X)}getScopeCommunityHref(V){return this.communityDataService.getEndpoint().pipe((0,n.T)(X=>this.communityDataService.getIDHref(X,V.scopeID)),(0,f.p)(X=>(0,g.hj)(X)),(0,e.s)(1))}static#e=this.\u0275fac=function(X){return new(X||G)($.KVO(F.B),$.KVO(E.o),$.KVO(b.$),$.KVO(T.Y),$.KVO(S.j),$.KVO(y.I),$.KVO(u.BitstreamDataService),$.KVO(v.CommunityDataService),$.KVO(j.c$))};static#t=this.\u0275prov=$.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},69530:(B,D,t)=>{"use strict";t.d(D,{x:()=>w});var i=t(76627),n=t(22867),c=t(47947),e=t(41483),f=t(66645),g=t(37610),d=t(72683),y=t(51206),E=t(12007),_=t(87913),b=t(45926),O=t(83951),I=t(94937),T=t(2887),R=t(2868),u=t(12350);class w extends T.W{constructor(S,M,L,F,$,j,x,G){super(S,M,L,F,$),this.linkPath=S,this.requestService=M,this.rdbService=L,this.objectCache=F,this.halService=$,this.comparator=j,this.notificationsService=x,this.bitstreamDataService=G,this.createData=new b.V(this.linkPath,M,L,F,$,x,this.responseMsToLive),this.findAllData=new I.H(this.linkPath,M,L,F,$,this.responseMsToLive),this.searchData=new u.X(this.linkPath,M,L,F,$,this.responseMsToLive),this.patchData=new R.n(this.linkPath,M,L,F,$,j,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new O.I(this.linkPath,M,L,F,$,x,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(S={},M=this.linkPath){if((0,d.Im)(S.scopeID))return this.halService.getEndpoint(M);{const L=this.getScopeCommunityHref(S);return this.createAndSendGetRequest(L,!0),L.pipe((0,n.n)(F=>this.rdbService.buildSingle(F)),(0,E.qD)(),(0,c.T)(F=>{if(F.hasFailed)throw new Error(`The Community with scope ${S.scopeID} couldn't be retrieved`);return F.payload._links[M]}),(0,e.p)(F=>(0,d.hj)(F)),(0,c.T)(F=>F.href),(0,f.F)())}}findByParent(S,M={},...L){const F=this.getFindByParentHref(S).pipe((0,c.T)($=>this.buildHrefFromFindOptions($,M)));return this.findListByHref(F,M,!0,!0,...L)}getLogoEndpoint(S){return this.halService.getEndpoint(this.linkPath).pipe((0,c.T)(M=>new _.t(M,S,"logo").toString()))}deleteLogo(S){const M=S.logo;return(0,d.a4)(M)?M.pipe((0,E.qD)(),(0,n.n)(L=>L.hasFailed?(console.error(`Couldn't retrieve the logo '${S._links.logo.href}' in order to delete it.`),[L]):this.bitstreamDataService.deleteByHref(L.payload._links.self.href))):(0,y.PM)("The given object doesn't have a logo",400)}refreshCache(S){const M=this.parentCommunityUrlLookup(S);(0,d.a4)(M)&&(0,i.z)([this.findByHref(M).pipe((0,E.qD)()),this.halService.getEndpoint("communities/search/top").pipe((0,g.s)(1))]).subscribe(([L,F])=>{L.hasSucceeded&&(0,d.hj)(L.payload)&&(0,d.hj)(L.payload.id)?this.requestService.setStaleByHrefSubstring(L.payload.id):this.requestService.setStaleByHrefSubstring(F)})}parentCommunityUrlLookup(S){const M=S._links.parentCommunity;return(0,d.hj)(M)?M.href:null}create(S,...M){return this.createData.create(S,...M)}findAll(S,M,L,...F){return this.findAllData.findAll(S,M,L,...F)}searchBy(S,M,L,F,...$){return this.searchData.searchBy(S,M,L,F,...$)}commitUpdates(S){this.patchData.commitUpdates(S)}patch(S,M){return this.patchData.patch(S,M)}update(S){return this.patchData.update(S)}createPatchFromCache(S){return this.patchData.createPatchFromCache(S)}delete(S,M){return this.deleteData.delete(S,M)}deleteByHref(S,M){return this.deleteData.deleteByHref(S,M)}}},63710:(B,D,t)=>{"use strict";t.r(D),t.d(D,{CommunityDataService:()=>R});var i=t(47947),n=t(22867),c=t(41483),e=t(37610),f=t(72683),g=t(79224),d=t(45122),y=t(25718),E=t(25744),_=t(78052),b=t(69530),O=t(24632),I=t(9843),T=t(53107);let R=(()=>{class u extends b.x{constructor(v,S,M,L,F,$,j){super("communities",v,S,M,L,F,$,j),this.requestService=v,this.rdbService=S,this.objectCache=M,this.halService=L,this.comparator=F,this.notificationsService=$,this.bitstreamDataService=j,this.topLinkPath="search/top"}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}findTop(v={},...S){return this.getEndpoint().pipe((0,i.T)(M=>`${M}/search/top`),(0,n.n)(M=>this.findListByHref(M,v,!0,!0,...S)))}getFindByParentHref(v){return this.halService.getEndpoint(this.linkPath).pipe((0,n.n)(S=>this.halService.getEndpoint("subcommunities",`${S}/${v}`)))}getScopeCommunityHref(v){return this.getEndpoint().pipe((0,i.T)(S=>this.getIDHref(S,v.scopeID)),(0,c.p)(S=>(0,f.hj)(S)),(0,e.s)(1))}static#e=this.\u0275fac=function(S){return new(S||u)(T.KVO(I.B),T.KVO(d.o),T.KVO(y.$),T.KVO(E.Y),T.KVO(O.j),T.KVO(g.I),T.KVO(_.BitstreamDataService))};static#t=this.\u0275prov=T.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},84195:(B,D,t)=>{"use strict";t.r(D),t.d(D,{ConfigurationDataService:()=>d});var i=t(45122),n=t(25718),c=t(25744),e=t(2887),f=t(9843),g=t(53107);let d=(()=>{class y extends e.W{constructor(_,b,O,I){super("properties",_,b,O,I),this.requestService=_,this.rdbService=b,this.objectCache=O,this.halService=I}findByPropertyName(_){return this.findById(_)}static#e=this.\u0275fac=function(b){return new(b||y)(g.KVO(f.B),g.KVO(i.o),g.KVO(n.$),g.KVO(c.Y))};static#t=this.\u0275prov=g.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()},82114:(B,D,t)=>{"use strict";t.d(D,{Y:()=>d});var i=t(5038),n=t(52727),c=t(47817);class e{constructor(E){this.modelType=E}serialize(E){return f((0,c.Serialize)(E,this.modelType))}serializeArray(E){return f((0,c.Serialize)(E,this.modelType))}deserialize(E){if(Array.isArray(E))throw new Error("Expected a single model, use deserializeArray() instead");return(0,c.Deserialize)(E,this.modelType)}deserializeArray(E){if(!Array.isArray(E))throw new Error("Expected an Array, use deserialize() instead");return(0,c.Deserialize)(E,this.modelType)}}function f(y){const E={};for(const[_,b]of Object.entries(y))null!==b&&(E[_]=b);return E}var g=t(53107);let d=(()=>{class y{diff(_,b){const O=new e((0,n.Qt)(_.type)),I=new e((0,n.Qt)(b.type));return(0,i.UD)(O.serialize(_),I.serialize(b))}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=g.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()},24632:(B,D,t)=>{"use strict";t.d(D,{j:()=>f});var i=t(5038),n=t(87599),c=t.n(n),e=t(53107);let f=(()=>{class g{diff(y,E){return(0,i.UD)(this.filterUUIDsFromMetadata(y.metadata),this.filterUUIDsFromMetadata(E.metadata)).map(_=>Object.assign({},_,{path:"/metadata"+_.path}))}filterUUIDsFromMetadata(y){const E=c()(y);for(const _ of Object.keys(E))for(const b of E[_])b.uuid=void 0;return E}static#e=this.\u0275fac=function(E){return new(E||g)};static#t=this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},60875:(B,D,t)=>{"use strict";t.r(D),t.d(D,{DSpaceObjectDataService:()=>d});var i=t(45122),n=t(25718),c=t(25744),e=t(2887),f=t(9843),g=t(53107);let d=(()=>{class y extends e.W{constructor(_,b,O,I){super("dso",_,b,O,I,void 0,(T,R)=>T.replace(/{\?uuid}/,`?uuid=${R}`)),this.requestService=_,this.rdbService=b,this.objectCache=O,this.halService=I}static#e=this.\u0275fac=function(b){return new(b||y)(g.KVO(f.B),g.KVO(i.o),g.KVO(n.$),g.KVO(c.Y))};static#t=this.\u0275prov=g.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()},23618:(B,D,t)=>{"use strict";t.d(D,{D3:()=>u,k_:()=>I});var i=t(86722),n=t(72683),c=t(52727),e=t(25718),f=t(22922),g=t(26050),d=t(59501),y=t(36423),E=t(87913),_=t(5338),b=t(96779),O=t(53107);function I(w){return(0,n.a4)(w)&&(0,n.a4)(w._links)&&(0,n.a4)(w._links.self)&&(0,n.a4)(w._links.self.href)}const R=w=>w.split("?").map(v=>v.split("&")).reduce((v,S)=>[...v,...S]);let u=(()=>{class w{constructor(S){this.objectCache=S,this.serializerConstructor=g.T}parse(S,M){let L;M=this.ensureSelfLink(S,M),S.method===b.D.GET&&(L=(0,d.tJ)(S.href));const F=this.process(M.payload,S,L);return(0,n.a4)(F)?I(F)?new f.hT(M.statusCode,F._links.self):new f.hT(M.statusCode,void 0,F):new f.hT(M.statusCode)}process(S,M,L){const F=(0,d.fW)(M.href);if((0,n.hj)(S)){if((0,n.Tn)(S)||"object"!=typeof S)return S;if(function T(w){return(0,n.a4)(w.page)&&(0,n.a4)(w.page.size)&&(0,n.a4)(w.page.totalElements)&&(0,n.a4)(w.page.totalPages)&&(0,n.a4)(w.page.number)}(S))return this.processPaginatedList(S,M,L);if(Array.isArray(S))return this.processArray(S,M);if(I(S)){const j=this.deserialize(S);return(0,n.hj)(S._embedded)&&Object.keys(S._embedded).filter(x=>S._embedded.hasOwnProperty(x)).forEach(x=>{let G=S._links[x].href;const Y=F.find(V=>V.name===x);(0,n.a4)(Y)&&(G=new E.t(G,`?size=${Y.size}`).toString()),this.process(S._embedded[x],M,G)}),this.addToObjectCache(j,M,S,L),j}const $={};return Object.keys(S).filter(j=>S.hasOwnProperty(j)).filter(j=>(0,n.a4)(S[j])).forEach(j=>{$[j]=this.process(S[j],M)}),$}}ensureSelfLink(S,M){const L=(0,d.tJ)(S.href);if(S.method===b.D.GET&&(0,n.a4)(M)&&(0,n.a4)(M.payload)&&(0,n.a4)(M.payload._links))if((0,n.Tn)(M.payload._links.self)||(0,n.Tn)(M.payload._links.self.href))console.warn(`The response for '${S.href}' doesn't have a self link. This could mean there's an issue with the REST endpoint`),M.payload._links=Object.assign({},M.payload._links,{self:{href:L}});else{const F=R(L),$=R(M.payload._links.self.href);F[0]===$[0]&&(F.some(j=>!$.includes(j))||$.some(j=>!F.includes(j)))&&(console.warn(`The response for '${L}' has the self link '${M.payload._links.self.href}'. These don't match. This could mean there's an issue with the REST endpoint`),M.payload._links=Object.assign({},M.payload._links,{self:{href:L}}))}return M}processPaginatedList(S,M,L){const F=this.processPageInfo(S);let $=S._embedded;(0,n.Tn)($)?$=[]:Array.isArray($)||($=this.flattenSingleKeyObject($));const j=this.processArray($,M),x=(0,_.g)(F,j,!0,S._links);return this.addToObjectCache(x,M,S,L),x}processArray(S,M){let L=[];return S.forEach(F=>{L=[...L,this.process(F,M)]}),L}deserialize(S){const M=S.type,L=this.getConstructorFor(M);return(0,n.a4)(L)?new this.serializerConstructor(L).deserialize(S):(console.warn("cannot deserialize type "+M),null)}getConstructorFor(S){return(0,n.a4)(S)?(0,c.Qt)(S):null}addToObjectCache(S,M,L,F){if(!I(S)){const $=(0,n.a4)(L)&&(0,n.a4)(L.type)?L.type:"object";let j;return j=(0,n.a4)(L._embedded)?JSON.stringify(Object.assign({},L,{_embedded:"..."})):JSON.stringify(L),void console.warn(`Can't cache incomplete ${$}: ${JSON.stringify(S)}, parsed from (partial) response: ${j}`)}F===S._links.self.href&&(F=void 0),this.objectCache.add(S,(0,n.a4)(M.responseMsToLive)?M.responseMsToLive:i.c.cache.msToLive.default,M.uuid,F)}processPageInfo(S){if((0,n.a4)(S.page)){const M=new g.T(y.Q).deserialize(S.page);return M.currentPage>=0&&Object.assign(M,{currentPage:M.currentPage+1}),M}}flattenSingleKeyObject(S){const M=Object.keys(S);if(1!==M.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(S)}`);return S[M[0]]}isSuccessStatus(S){return S>=200&&S<300}static#e=this.\u0275fac=function(M){return new(M||w)(O.KVO(e.$))};static#t=this.\u0275prov=O.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})()},24119:(B,D,t)=>{"use strict";t.d(D,{f:()=>T});var i=t(22867),n=t(47947),c=t(37610),e=t(45122),f=t(25718),g=t(25744),d=t(12007),y=t(48548),E=t(94937),_=t(12350),b=t(98526),O=t(9843),I=t(53107);let T=(()=>{class R extends y.L{constructor(w,v,S,M,L){super("entitytypes",w,v,S,M),this.requestService=w,this.rdbService=v,this.objectCache=S,this.halService=M,this.relationshipTypeService=L,this.findAllData=new E.H(this.linkPath,w,v,S,M,this.responseMsToLive),this.searchData=new _.X(this.linkPath,w,v,S,M,this.responseMsToLive)}getBrowseEndpoint(w,v){return this.halService.getEndpoint(this.linkPath)}getRelationshipTypesEndpoint(w){return this.halService.getEndpoint(this.linkPath).pipe((0,i.n)(v=>this.halService.getEndpoint("relationshiptypes",`${v}/${w}`)))}isLeftType(w,v){return w.leftType.pipe((0,d.yd)(),(0,d.Bo)(),(0,n.T)(S=>S.uuid===v.uuid))}getAllAuthorizedRelationshipType(w={}){return this.searchBy("findAllByAuthorizedCollection",w).pipe((0,d.bD)())}hasMoreThanOneAuthorized(){return this.getAllAuthorizedRelationshipType({elementsPerPage:2,currentPage:1}).pipe((0,n.T)(v=>{let S;return S=!!v.payload&&v.payload.page.length>1,S}))}getAllAuthorizedRelationshipTypeImport(w={}){return this.searchBy("findAllByAuthorizedExternalSource",w).pipe((0,d.bD)())}hasMoreThanOneAuthorizedImport(){return this.getAllAuthorizedRelationshipTypeImport({elementsPerPage:2,currentPage:1}).pipe((0,c.s)(1),(0,n.T)(v=>v?.payload?.totalElements>1))}getEntityTypeRelationships(w,v=!0,S=!0,...M){const L=this.getRelationshipTypesEndpoint(w);return this.relationshipTypeService.findListByHref(L,void 0,v,S,...M)}getEntityTypeByLabel(w){return this.halService.getEndpoint(this.linkPath).pipe((0,c.s)(1),(0,i.n)(v=>this.findByHref(v+"/label/"+w)))}findAll(w,v,S,...M){return this.findAllData.findAll(w,v,S,...M)}searchBy(w,v,S,M,...L){return this.searchData.searchBy(w,v,S,M,...L)}static#e=this.\u0275fac=function(v){return new(v||R)(I.KVO(O.B),I.KVO(e.o),I.KVO(f.$),I.KVO(g.Y),I.KVO(b.RelationshipTypeDataService))};static#t=this.\u0275prov=I.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},27752:(B,D,t)=>{"use strict";t.d(D,{Q:()=>I});var i=t(47947),n=t(22867),c=t(66645),e=t(37610),f=t(72683),g=t(45122),d=t(25718),y=t(25744),E=t(2887),_=t(12350),b=t(9843),O=t(53107);let I=(()=>{class T extends E.W{constructor(u,w,v,S){super("externalsources",u,w,v,S),this.requestService=u,this.rdbService=w,this.objectCache=v,this.halService=S,this.searchData=new _.X(this.linkPath,u,w,v,S,this.responseMsToLive)}getBrowseEndpoint(u={},w=this.linkPath){return this.halService.getEndpoint(w)}getEntriesEndpoint(u){return this.getBrowseEndpoint().pipe((0,i.T)(w=>this.getIDHref(w,u)),(0,n.n)(w=>this.halService.getEndpoint("entries",w)))}getExternalSourceEntries(u,w,v=!0,S=!0,...M){const L=this.getEntriesEndpoint(u).pipe((0,f.VT)(),(0,c.F)(),(0,i.T)(F=>(0,f.a4)(w)?w.toRestUrl(F):F),(0,e.s)(1));return this.hasCachedErrorResponse(L).pipe((0,n.n)(F=>this.findListByHref(L,void 0,!F,S,...M)))}searchBy(u,w,v,S,...M){return this.searchData.searchBy(u,w,v,S,...M)}static#e=this.\u0275fac=function(w){return new(w||T)(O.KVO(b.B),O.KVO(g.o),O.KVO(d.$),O.KVO(y.Y))};static#t=this.\u0275prov=O.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})()},77304:(B,D,t)=>{"use strict";t.r(D),t.d(D,{AuthorizationDataService:()=>$});var i=t(63016),n=t(47947),c=t(17178),e=t(22867),f=t(72683),g=t(24106),d=t(45122),y=t(99120),E=t(25718),_=t(25744),b=t(12007),O=t(48548),I=t(12350),T=t(36705),R=t(9843),u=t(80592);class w{constructor(x,G,Y){this.objectUrl=x,this.ePersonUuid=G,this.featureId=Y}}var v=t(76627),F=t(53107);let $=(()=>{class j extends O.L{constructor(G,Y,V,X,K){super("authorizations",G,Y,V,X),this.requestService=G,this.rdbService=Y,this.objectCache=V,this.halService=X,this.siteService=K,this.linkPath="authorizations",this.searchByObjectPath="object",this.searchData=new I.X(this.linkPath,G,Y,V,X,this.responseMsToLive)}invalidateAuthorizationsRequestCache(){this.requestService.setStaleByHrefSubstring(this.linkPath)}isAuthorized(G,Y,V,X=!0,K=!0){return this.searchByObject(G,Y,V,{},X,K,(0,g.s)("feature")).pipe((0,b.qD)(),(0,n.T)(ae=>401!==ae.statusCode&&(0,f.a4)(ae.payload)&&(0,f.hj)(ae.payload.page)?ae.payload.page:[]),(0,c.W)(()=>(0,i.of)([])),(j=>x=>x.pipe((0,e.n)(G=>(0,f.hj)(G)?(0,v.z)([...G.filter(Y=>(0,f.a4)(Y.feature)).map(Y=>Y.feature.pipe((0,b.ak)()))]):(0,i.of)([])),(0,n.T)(G=>G.filter(Y=>Y.id===j.valueOf()).length>0)))(G))}searchByObject(G,Y,V,X={},K=!0,ae=!0,...Q){const J=(0,i.of)(Y).pipe((0,e.n)(q=>(0,f.Tn)(q)?this.siteService.find().pipe((0,n.T)(ee=>ee.self)):(0,i.of)(q))),z=J.pipe((0,n.T)(q=>new w(q,V,G)),(0,e.n)(q=>this.searchBy(this.searchByObjectPath,this.createSearchOptions(q.objectUrl,X,q.ePersonUuid,q.featureId),K,ae,...Q)));return this.addDependency(z,J),z}createSearchOptions(G,Y={},V,X){let K=[];return(0,f.hj)(Y.searchParams)&&(K=[...Y.searchParams]),K.push(new y.x("uri",G,!1)),(0,f.a4)(X)&&K.push(new y.x("feature",X)),(0,f.a4)(V)&&K.push(new y.x("eperson",V)),Object.assign(new T._,Y,{searchParams:[...K]})}searchBy(G,Y,V,X,...K){return this.searchData.searchBy(G,Y,V,X,...K)}static#e=this.\u0275fac=function(Y){return new(Y||j)(F.KVO(R.B),F.KVO(d.o),F.KVO(E.$),F.KVO(_.Y),F.KVO(u.SiteDataService))};static#t=this.\u0275prov=F.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})()},29443:(B,D,t)=>{"use strict";t.d(D,{i:()=>e});var i=t(63016),n=t(36556);const e=(0,t(80599).L)(()=>(0,i.of)(n._.CanManageGroups))},80599:(B,D,t)=>{"use strict";t.d(D,{L:()=>c});var i=t(47947),n=t(90087);const c=(e,f,g)=>(0,n.h)((d,y)=>e(d,y).pipe((0,i.T)(E=>[E])),f,g)},53527:(B,D,t)=>{"use strict";t.d(D,{Y:()=>e});var i=t(63016),n=t(36556);const e=(0,t(80599).L)(()=>(0,i.of)(n._.AdministratorOf))},90087:(B,D,t)=>{"use strict";t.d(D,{h:()=>_});var i=t(53107),n=t(95968),c=t(63016),e=t(76627),f=t(22867),g=t(21706),d=t(37330),y=t(77304);const E=()=>(0,c.of)(void 0),_=(b,O=E,I=E)=>(T,R)=>{const u=(0,i.WQX)(y.AuthorizationDataService),w=(0,i.WQX)(n.Ix),v=(0,i.WQX)(g.uR);return(0,e.z)([b(T,R),O(T,R),I(T,R)]).pipe((0,f.n)(([S,M,L])=>(0,e.z)(S.map(F=>u.isAuthorized(F,M,L)))),(0,d.ci)(w,v,R.url))}},36556:(B,D,t)=>{"use strict";t.d(D,{_:()=>i});var i=function(n){return n.LoginOnBehalfOf="loginOnBehalfOf",n.AdministratorOf="administratorOf",n.CanDelete="canDelete",n.CanEditMetadata="canEditMetadata",n.WithdrawItem="withdrawItem",n.ReinstateItem="reinstateItem",n.EPersonRegistration="epersonRegistration",n.CanManageGroups="canManageGroups",n.CanManageGroup="canManageGroup",n.IsCollectionAdmin="isCollectionAdmin",n.IsCommunityAdmin="isCommunityAdmin",n.CanChangePassword="canChangePassword",n.CanDownload="canDownload",n.CanRequestACopy="canRequestACopy",n.CanManageVersions="canManageVersions",n.CanManageBitstreamBundles="canManageBitstreamBundles",n.CanManageRelationships="canManageRelationships",n.CanManageMappings="canManageMappings",n.CanManagePolicies="canManagePolicies",n.CanMakePrivate="canMakePrivate",n.CanMove="canMove",n.CanEditVersion="canEditVersion",n.CanDeleteVersion="canDeleteVersion",n.CanCreateVersion="canCreateVersion",n.CanViewUsageStatistics="canViewUsageStatistics",n.CanSendFeedback="canSendFeedback",n.CanClaimItem="canClaimItem",n.CanSynchronizeWithORCID="canSynchronizeWithORCID",n.CanSubmit="canSubmit",n.CanEditItem="canEditItem",n.CanRegisterDOI="canRegisterDOI",n.CanSubscribe="canSubscribeDso",n.CoarNotifyEnabled="coarNotifyEnabled",n.CanSeeQA="canSeeQA",n.EPersonForgotPassword="epersonForgotPassword",n}(i||{})},36705:(B,D,t)=>{"use strict";t.d(D,{_:()=>i});class i{}},65155:(B,D,t)=>{"use strict";t.r(D),t.d(D,{HrefOnlyDataService:()=>d});var i=t(45122),n=t(25718),c=t(25744),e=t(48548),f=t(9843),g=t(53107);let d=(()=>{class y{constructor(_,b,O,I){this.requestService=_,this.rdbService=b,this.objectCache=O,this.halService=I,this.dataService=new e.L(void 0,_,b,O,I)}findByHref(_,b=!0,O=!0,...I){return this.dataService.findByHref(_,b,O,...I)}findListByHref(_,b={},O=!0,I=!0,...T){return this.dataService.findListByHref(_,b,O,I,...T)}static#e=this.\u0275fac=function(b){return new(b||y)(g.KVO(f.B),g.KVO(i.o),g.KVO(n.$),g.KVO(c.Y))};static#t=this.\u0275prov=g.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()},17584:(B,D,t)=>{"use strict";t.r(D),t.d(D,{BaseItemDataService:()=>G,ItemDataService:()=>Y});var i=t(27691),n=t(41483),c=t(47947),e=t(66645),f=t(22867),g=t(37610),d=t(25814),y=t(72683),E=t(79224),_=t(41198),b=t(45122),O=t(25718),I=t(25744),T=t(86856),R=t(87913),u=t(45926),w=t(83951),v=t(2887),S=t(2868),M=t(61189),L=t(24632),F=t(70210),$=t(9843),j=t(92312),x=t(53107);class G extends v.W{constructor(X,K,ae,Q,J,z,q,ee,de,Ce=((Z,le)=>`${Z}/${le}`)){super(X,K,ae,Q,J,void 0,Ce),this.linkPath=X,this.requestService=K,this.rdbService=ae,this.objectCache=Q,this.halService=J,this.notificationsService=z,this.comparator=q,this.browseService=ee,this.bundleService=de,this.constructIdEndpoint=Ce,this.createData=new u.V(this.linkPath,K,ae,Q,J,z,this.responseMsToLive),this.patchData=new S.n(this.linkPath,K,ae,Q,J,q,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new w.I(this.linkPath,K,ae,Q,J,z,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(X={},K=this.linkPath){let ae="dc.date.issued";return X.sort&&X.sort.field&&(ae=X.sort.field),this.browseService.getBrowseURLFor(ae,K).pipe((0,n.p)(Q=>(0,y.hj)(Q)),(0,c.T)(Q=>new R.t(Q,`?scope=${X.scopeID}`).toString()),(0,e.F)())}getMappedCollectionsEndpoint(X,K){return this.halService.getEndpoint(this.linkPath).pipe((0,c.T)(ae=>this.getIDHref(ae,X)),(0,c.T)(ae=>`${ae}/mappedCollections${K?`/${K}`:""}`))}removeMappingFromCollection(X,K){return this.getMappedCollectionsEndpoint(X,K).pipe((0,y.VT)(),(0,e.F)(),(0,c.T)(ae=>new F.$(this.requestService.generateRequestId(),ae)),(0,T.w$)(this.requestService),(0,f.n)(ae=>this.rdbService.buildFromRequestUUID(ae.uuid)))}mapToCollection(X,K){return this.getMappedCollectionsEndpoint(X).pipe((0,y.VT)(),(0,e.F)(),(0,c.T)(ae=>{const Q=Object.create({});let J=new i.Lr;return J=J.append("Content-Type","text/uri-list"),Q.headers=J,new F.Qf(this.requestService.generateRequestId(),ae,K,Q)}),(0,T.w$)(this.requestService),(0,f.n)(ae=>this.rdbService.buildFromRequestUUID(ae.uuid)))}setWithDrawn(X,K){const ae={op:"replace",path:"/withdrawn",value:K};return this.requestService.removeByHrefSubstring("/discover"),this.patch(X,[ae])}setDiscoverable(X,K){const ae={op:"replace",path:"/discoverable",value:K};return this.requestService.removeByHrefSubstring("/discover"),this.patch(X,[ae])}getBundlesEndpoint(X){return this.halService.getEndpoint(this.linkPath).pipe((0,f.n)(K=>this.halService.getEndpoint("bundles",`${K}/${X}`)))}getBundles(X,K){const ae=this.getBundlesEndpoint(X).pipe((0,c.T)(Q=>K?K.toRestUrl(Q):Q));return ae.pipe((0,g.s)(1)).subscribe(Q=>{const J=new F.IP(this.requestService.generateRequestId(),Q);this.requestService.send(J)}),this.rdbService.buildList(ae)}createBundle(X,K,ae){const Q=this.requestService.generateRequestId(),J=this.getBundlesEndpoint(X),z={name:K,metadata:ae||{}};return J.pipe((0,g.s)(1)).subscribe(q=>{const ee=Object.create({});let de=new i.Lr;de=de.append("Content-Type","application/json"),ee.headers=de;const Ce=new F.Qf(Q,q,JSON.stringify(z),ee);this.requestService.send(Ce)}),this.rdbService.buildFromRequestUUID(Q)}getIdentifiersEndpoint(X){return this.halService.getEndpoint(this.linkPath).pipe((0,f.n)(K=>this.halService.getEndpoint("identifiers",`${K}/${X}`)))}getMoveItemEndpoint(X,K){return this.halService.getEndpoint(this.linkPath).pipe((0,c.T)(ae=>this.getIDHref(ae,X)),(0,c.T)(ae=>`${ae}/owningCollection?inheritPolicies=${K}`))}moveToCollection(X,K,ae){const Q=Object.create({});let J=new i.Lr;J=J.append("Content-Type","text/uri-list"),Q.headers=J;const z=this.requestService.generateRequestId();return this.getMoveItemEndpoint(X,ae).pipe((0,d.I)(ee=>(0,y.a4)(ee)),(0,c.T)(ee=>{const de=new F.v_(z,ee,K._links.self.href,Q);return Object.assign(de,{getResponseParser:()=>j.M}),de})).subscribe(ee=>{this.requestService.send(ee)}),this.rdbService.buildFromRequestUUID(z)}importExternalSourceEntry(X,K){const ae=Object.create({});let Q=new i.Lr;Q=Q.append("Content-Type","text/uri-list"),ae.headers=Q;const J=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,c.T)(q=>`${q}?owningCollection=${K}`)).pipe((0,d.I)(q=>(0,y.a4)(q)),(0,c.T)(q=>{const ee=new F.Qf(J,q,X._links.self.href,ae);this.requestService.send(ee)})).subscribe(),this.rdbService.buildFromRequestUUID(J)}getBitstreamsEndpoint(X){return this.halService.getEndpoint(this.linkPath).pipe((0,f.n)(K=>this.halService.getEndpoint("bitstreams",`${K}/${X}`)))}invalidateItemCache(X){this.requestService.setStaleByHrefSubstring("item/"+X)}commitUpdates(X){this.patchData.commitUpdates(X)}patch(X,K){return this.patchData.patch(X,K)}update(X){return this.patchData.update(X)}createPatchFromCache(X){return this.patchData.createPatchFromCache(X)}delete(X,K){return this.deleteData.delete(X,K)}deleteByHref(X,K){return this.deleteData.deleteByHref(X,K)}create(X,...K){return this.createData.create(X,...K)}}let Y=(()=>{class V extends G{constructor(K,ae,Q,J,z,q,ee,de){super("items",K,ae,Q,J,z,q,ee,de),this.requestService=K,this.rdbService=ae,this.objectCache=Q,this.halService=J,this.notificationsService=z,this.comparator=q,this.browseService=ee,this.bundleService=de}static#e=this.\u0275fac=function(ae){return new(ae||V)(x.KVO($.B),x.KVO(b.o),x.KVO(O.$),x.KVO(I.Y),x.KVO(E.I),x.KVO(L.j),x.KVO(_.q),x.KVO(M.BundleDataService))};static#t=this.\u0275prov=x.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},58813:(B,D,t)=>{"use strict";t.d(D,{c:()=>V});var i=t(17838),n=t(51642),c=t(91126),e=t(18447),f=t(7225),g=t(15351),d=t(51698);const E={connector:()=>new e.B};var O=t(28445),I=t(26),T=t(94327),R=t(33325),w=t(37610),v=t(47947),S=t(30593),M=t(66645),L=t(67899),F=t(63496),$=t(12007),j=t(67811),x=t(27752),G=t(9843),Y=t(53107);let V=(()=>{class X{constructor(ae,Q,J){this.externalSourceService=ae,this.searchService=Q,this.requestService=J,this.singleResultOptions=Object.assign(new L.W,{id:"single-result-options",pageSize:1})}getLocalResults(ae,Q,J=!0){const z=Object.assign(new F.C({}),Q,{fixedFilter:ae.filter,configuration:ae.searchConfiguration});return J&&(this.searchConfig=z),this.searchService.search(z).pipe(function b(X,K){const ae=(0,c.T)(X)?X:()=>X;return(0,c.T)(K)?function _(X,K=E){const{connector:ae}=K;return(0,g.N)((Q,J)=>{const z=ae();(0,f.Tg)(X(function y(X){return new d.c(K=>X.subscribe(K))}(z))).subscribe(J),J.add(Q.subscribe(z))})}(K,{connector:ae}):Q=>new n.G(Q,ae)}(()=>new i.m(1),q=>q.pipe((0,O.v)(ee=>ee.isLoading),function u(...X){const K=(0,T.lI)(X);return(0,g.N)((ae,Q)=>{(0,I.K)()((0,R.H)([ae,...X],K)).subscribe(Q)})}(q.pipe((0,w.s)(1))))))}getTotalLocalResults(ae,Q){return this.getLocalResults(ae,Object.assign(new F.C({}),Q,{pagination:this.singleResultOptions}),!1).pipe((0,$.v7)(),(0,$.Bo)(),(0,v.T)(J=>J.totalElements),(0,S.Z)(0))}getTotalExternalResults(ae,Q){return this.externalSourceService.getExternalSourceEntries(ae.id,Object.assign(new F.C({}),Q,{pagination:this.singleResultOptions})).pipe((0,$.v7)(),(0,$.Bo)(),(0,v.T)(J=>J.totalElements),(0,S.Z)(0),(0,M.F)())}removeLocalResultsCache(){this.searchService.getEndpoint().subscribe(ae=>this.requestService.removeByHrefSubstring(ae))}static#e=this.\u0275fac=function(Q){return new(Q||X)(Y.KVO(x.Q),Y.KVO(j.S),Y.KVO(G.B))};static#t=this.\u0275prov=Y.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})()},59809:(B,D,t)=>{"use strict";t.d(D,{B:()=>i});var i=function(n){return n[n.UPDATE=0]="UPDATE",n[n.ADD=1]="ADD",n[n.REMOVE=2]="REMOVE",n}(i||{})},62591:(B,D,t)=>{"use strict";t.d(D,{Ft:()=>n,KD:()=>g,S3:()=>_,XO:()=>e,Y8:()=>y,g$:()=>c,jX:()=>E,mW:()=>O,nY:()=>f,wS:()=>d,zJ:()=>b});var i=t(83770);const n={INITIALIZE_FIELDS:(0,i.N)("dspace/core/cache/object-updates/INITIALIZE_FIELDS"),SET_EDITABLE_FIELD:(0,i.N)("dspace/core/cache/object-updates/SET_EDITABLE_FIELD"),SET_VALID_FIELD:(0,i.N)("dspace/core/cache/object-updates/SET_VALID_FIELD"),ADD_FIELD:(0,i.N)("dspace/core/cache/object-updates/ADD_FIELD"),SELECT_VIRTUAL_METADATA:(0,i.N)("dspace/core/cache/object-updates/SELECT_VIRTUAL_METADATA"),DISCARD:(0,i.N)("dspace/core/cache/object-updates/DISCARD"),REINSTATE:(0,i.N)("dspace/core/cache/object-updates/REINSTATE"),REMOVE:(0,i.N)("dspace/core/cache/object-updates/REMOVE"),REMOVE_ALL:(0,i.N)("dspace/core/cache/object-updates/REMOVE_ALL"),REMOVE_FIELD:(0,i.N)("dspace/core/cache/object-updates/REMOVE_FIELD")};class c{constructor(T,R,u,w){this.type=n.INITIALIZE_FIELDS,this.payload={url:T,fields:R,lastModified:u,patchOperationService:w}}}class e{constructor(T,R,u){this.type=n.ADD_FIELD,this.payload={url:T,field:R,changeType:u}}}class f{constructor(T,R,u,w){this.type=n.SELECT_VIRTUAL_METADATA,this.payload={url:T,source:R,uuid:u,select:w}}}class g{constructor(T,R,u){this.type=n.SET_EDITABLE_FIELD,this.payload={url:T,uuid:R,editable:u}}}class d{constructor(T,R,u){this.type=n.SET_VALID_FIELD,this.payload={url:T,uuid:R,isValid:u}}}class y{constructor(T,R,u=!1){this.type=n.DISCARD,this.payload={url:T,notification:R,discardAll:u}}}class E{constructor(T){this.type=n.REINSTATE,this.payload={url:T}}}class _{constructor(T){this.type=n.REMOVE,this.payload={url:T}}}class b{constructor(){this.type=n.REMOVE_ALL}}class O{constructor(T,R){this.type=n.REMOVE_FIELD,this.payload={url:T,uuid:R}}}},16812:(B,D,t)=>{"use strict";t.d(D,{O:()=>y,U:()=>e});var i=t(72683),n=t(59809),c=t(62591);const e="/trash",f={editable:!1,isNew:!1,isValid:!0},g={editable:!0,isNew:!0,isValid:void 0},d=Object.create(null);function y($=d,j){switch(j.type){case c.Ft.INITIALIZE_FIELDS:return function E($,j){const x=j.payload.url,Y=j.payload.lastModified,V=j.payload.patchOperationService,X=function F($){const j=$.map(G=>G.uuid),x={};return j.forEach(G=>x[G]=f),x}(j.payload.fields),K=Object.assign({},$[x],{fieldStates:X},{fieldUpdates:{}},{virtualMetadataSources:{}},{lastModified:Y},{patchOperationService:V});return Object.assign({},$,{[x]:K})}($,j);case c.Ft.ADD_FIELD:return function _($,j){const x=j.payload.url,G=j.payload.field,Y=j.payload.changeType,V=$[x]||{fieldUpdates:{}};let X=V.fieldStates;Y===n.B.ADD&&(X=Object.assign({},{[G.uuid]:g},V.fieldStates));let K=V.fieldUpdates[G.uuid]||{};const ae=function S($,j){return(0,i.Tn)(j)?$:(0,i.Tn)($)?j:$.valueOf()>j.valueOf()?$:j}(K.changeType,Y);K=Object.assign({},{field:G,changeType:ae});const Q=Object.assign({},V.fieldUpdates,{[G.uuid]:K}),J=Object.assign({},V,{fieldStates:X},{fieldUpdates:Q});return Object.assign({},$,{[x]:J})}($,j);case c.Ft.SELECT_VIRTUAL_METADATA:return function b($,j){const x=j.payload.url,G=j.payload.source,X=$[x]||{},K=Object.assign({},X.virtualMetadataSources[G],{[j.payload.uuid]:j.payload.select}),ae=Object.assign({},X.virtualMetadataSources,{[G]:K}),Q=Object.assign({},X,{virtualMetadataSources:ae});return Object.assign({},$,{[x]:Q})}($,j);case c.Ft.DISCARD:return function O($,j){if(j.payload.discardAll){let x=Object.assign({},$);return Object.keys($).filter(G=>!G.endsWith(e)).forEach(G=>{x=I(G,x)}),x}return I(j.payload.url,$)}($,j);case c.Ft.REINSTATE:return function T($,j){const x=j.payload.url,Y=Object.assign({},$,{[x]:$[x+e]});return delete Y[x+e],Y}($,j);case c.Ft.REMOVE:return function R($,j){return function u($,j){const x=Object.assign({},$);return delete x[j+e],x}($,j.payload.url)}($,j);case c.Ft.REMOVE_ALL:return function w($){const j=Object.assign({},$);return Object.keys($).filter(x=>x.endsWith(e)).forEach(x=>{delete j[x]}),j}($);case c.Ft.REMOVE_FIELD:return function v($,j){const x=j.payload.url,G=j.payload.uuid;let Y=$[x];if((0,i.a4)(Y)){const V=Object.assign({},Y.fieldUpdates);(0,i.a4)(V[G])&&delete V[G];const X=Object.assign({},Y.fieldStates);(0,i.a4)(X[G])&&(X[G].isNew?delete X[G]:X[G]=Object.assign({},X[G],{editable:!1,isValid:!0})),Y=Object.assign({},$[x],{fieldUpdates:V,fieldStates:X})}return Object.assign({},$,{[x]:Y})}($,j);case c.Ft.SET_EDITABLE_FIELD:return function M($,j){const x=j.payload.url,G=j.payload.uuid,V=$[x],K=Object.assign({},V.fieldStates[G],{editable:j.payload.editable}),ae=Object.assign({},V.fieldStates,{[G]:K}),Q=Object.assign({},V,{fieldStates:ae});return Object.assign({},$,{[x]:Q})}($,j);case c.Ft.SET_VALID_FIELD:return function L($,j){const x=j.payload.url,G=j.payload.uuid,V=$[x],K=Object.assign({},V.fieldStates[G],{isValid:j.payload.isValid}),ae=Object.assign({},V.fieldStates,{[G]:K}),Q=Object.assign({},V,{fieldStates:ae});return Object.assign({},$,{[x]:Q})}($,j);default:return $}}function I($,j){const x=j[$],G={};Object.keys(x.fieldStates).forEach(V=>{const X=x.fieldStates[V];X.isNew||(G[V]=Object.assign({},X,{editable:!1,isValid:!0}))});const Y=Object.assign({},x,{fieldUpdates:{},fieldStates:G});return Object.assign({},j,{[$]:Y},{[$+e]:x})}},5338:(B,D,t)=>{"use strict";t.d(D,{O:()=>b,g:()=>_});var i=t(31635),n=t(47817),c=t(72683),e=t(52727),f=t(91072),g=t(36423),d=t(98573),y=t(2494),E=t(46856);const _=(O,I,T=!1,R)=>{const u=new b;let w;return(0,c.Tn)(O)&&(O=new g.Q),u.pageInfo=O,(0,c.Im)(I)?w=[]:(w=I.map(v=>(0,c.a4)(v)&&(0,c.a4)(v._links)&&(0,c.a4)(v._links.self)?v._links.self:null),w.every(v=>(0,c.Tn)(v))&&(w=void 0)),u._links=Object.assign({},R,O._links,{page:w}),(!T||(0,c.b0)(w))&&(u.page=I),u};let b=class extends f.I{constructor(){super(...arguments),this.type=E.v}static#e=this.type=E.v;get elementsPerPage(){return(0,c.a4)(this.pageInfo)&&(0,c.a4)(this.pageInfo.elementsPerPage)?this.pageInfo.elementsPerPage:this.getPageLength()}set elementsPerPage(I){this.pageInfo.elementsPerPage=I}get totalElements(){return(0,c.a4)(this.pageInfo)&&(0,c.a4)(this.pageInfo.totalElements)?this.pageInfo.totalElements:this.getPageLength()}set totalElements(I){this.pageInfo.totalElements=I}get totalPages(){return(0,c.a4)(this.pageInfo)&&(0,c.a4)(this.pageInfo.totalPages)?this.pageInfo.totalPages:1}set totalPages(I){this.pageInfo.totalPages=I}get currentPage(){return(0,c.a4)(this.pageInfo)&&(0,c.a4)(this.pageInfo.currentPage)?this.pageInfo.currentPage:1}set currentPage(I){this.pageInfo.currentPage=I}get first(){if((0,c.a4)(this._links.first)&&(0,c.a4)(this._links.first.href))return this._links.first.href}set first(I){this._links.first={href:I},this.pageInfo._links.first={href:I}}get prev(){if((0,c.a4)(this._links.prev)&&(0,c.a4)(this._links.prev.href))return this._links.prev.href}set prev(I){this._links.prev={href:I},this.pageInfo._links.prev={href:I}}get next(){if((0,c.a4)(this._links.next)&&(0,c.a4)(this._links.next.href))return this._links.next.href}set next(I){this._links.next={href:I},this.pageInfo._links.next={href:I}}get last(){if((0,c.a4)(this._links.last)&&(0,c.a4)(this._links.last.href))return this._links.last.href}set last(I){this._links.last={href:I},this.pageInfo._links.last={href:I}}get self(){return this._links.self.href}set self(I){this._links.self={href:I},this.pageInfo._links.self={href:I}}getPageLength(){return Array.isArray(this.page)?this.page.length:0}};(0,i.Cg)([y.aK,(0,i.Sn)("design:type",Object)],b.prototype,"type",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",d.v)],b.prototype,"objectType",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",g.Q)],b.prototype,"pageInfo",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],b.prototype,"_links",void 0),b=(0,i.Cg)([e.gV],b)},46856:(B,D,t)=>{"use strict";t.d(D,{v:()=>n});const n=new(t(98573).v)("paginated-list")},72578:(B,D,t)=>{"use strict";t.r(D),t.d(D,{BATCH_EXPORT_SCRIPT_NAME:()=>w,BATCH_IMPORT_SCRIPT_NAME:()=>u,METADATA_EXPORT_SCRIPT_NAME:()=>R,METADATA_IMPORT_SCRIPT_NAME:()=>T,ScriptDataService:()=>v});var i=t(37610),n=t(47947),c=t(72683),e=t(45122),f=t(25718),g=t(25744),d=t(12007),y=t(87913),E=t(94937),_=t(2887),b=t(70210),O=t(9843),I=t(53107);const T="metadata-import",R="metadata-export",u="import",w="export";let v=(()=>{class S extends _.W{constructor(L,F,$,j){super("scripts",L,F,$,j),this.requestService=L,this.rdbService=F,this.objectCache=$,this.halService=j,this.findAllData=new E.H(this.linkPath,L,F,$,j,this.responseMsToLive)}invoke(L,F,$){const j=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,i.s)(1),(0,n.T)(x=>new y.t(x,L,"processes").toString()),(0,n.T)(x=>{const G=this.getInvocationFormData(F,$);return new b.E0(j,x,G)})).subscribe(x=>this.requestService.send(x)),this.rdbService.buildFromRequestUUID(j)}getInvocationFormData(L,F){const $=new FormData;return $.set("properties",JSON.stringify(L)),F.forEach(j=>{$.append("file",j)}),$}scriptWithNameExistsAndCanExecute(L){return this.findById(L).pipe((0,d.qD)(),(0,n.T)(F=>(0,c.a4)(F.payload)))}findAll(L,F,$,...j){return this.findAllData.findAll(L,F,$,...j)}static#e=this.\u0275fac=function(F){return new(F||S)(I.KVO(O.B),I.KVO(e.o),I.KVO(f.$),I.KVO(g.Y))};static#t=this.\u0275prov=I.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},96459:(B,D,t)=>{"use strict";t.r(D),t.d(D,{RelationshipDataService:()=>pe});var i=t(27691),n=t(73958),c=t(76627),e=t(63016),f=t(47947),g=t(37610),d=t(66645),y=t(22867),E=t(82040),_=t(41483),b=t(30593),O=t(27035),I=t(44363),T=t(3618),R=t(72683),u=t(611),w=t(24106),v=t(11022),S=t(45122),M=t(99120),L=t(25718),F=t(20960),$=t(25744),j=t(31117),x=t(14320),G=t(72162),Y=t(12007),V=t(86856),X=t(2887),K=t(24265),ae=t(12350),Q=t(36705),J=t(17584),z=t(70210),q=t(9843),ee=t(64868),de=t(53107);const Ce=re=>re.relationshipLists,Z=re=>(0,I.pc)(re,Ce),De=re=>ve=>ve.pipe((0,Y.ak)(),(0,f.T)(fe=>fe.uuid===re.uuid));let pe=(()=>{class re extends X.W{constructor(fe,Ie,Ne,qe,we,Be,Ve,et){super("relationships",fe,Ie,qe,Ne,9e5),this.requestService=fe,this.rdbService=Ie,this.halService=Ne,this.objectCache=qe,this.metadataService=we,this.itemService=Be,this.appStore=Ve,this.paginatedRelationsToItems=et,this.searchData=new ae.X(this.linkPath,fe,Ie,qe,Ne,this.responseMsToLive),this.putData=new K.W(this.linkPath,fe,Ie,qe,Ne,this.responseMsToLive)}getRelationshipEndpoint(fe){return this.getBrowseEndpoint().pipe((0,f.T)(Ie=>`${Ie}/${fe}`))}deleteRelationship(fe,Ie,Ne=!0){return this.getRelationshipEndpoint(fe).pipe((0,R.VT)(),(0,g.s)(1),(0,d.F)(),(0,f.T)(qe=>new z.$(this.requestService.generateRequestId(),qe+"?copyVirtualMetadata="+Ie)),(0,V.w$)(this.requestService),(0,y.n)(qe=>this.rdbService.buildFromRequestUUID(qe.uuid)),(0,Y.qD)(),(0,E.M)(()=>{Ne&&this.refreshRelationshipItemsInCacheByRelationship(fe)}))}addRelationship(fe,Ie,Ne,qe,we,Be=!0){const Ve=Object.create({});let et=new i.Lr;return et=et.append("Content-Type","text/uri-list"),Ve.headers=et,this.halService.getEndpoint(this.linkPath).pipe((0,R.VT)(),(0,g.s)(1),(0,f.T)(yt=>`${yt}?relationshipType=${fe}`),(0,f.T)(yt=>(0,R.hj)(qe)?`${yt}&leftwardValue=${qe}`:yt),(0,f.T)(yt=>(0,R.hj)(we)?`${yt}&rightwardValue=${we}`:yt),(0,f.T)(yt=>new z.Qf(this.requestService.generateRequestId(),yt,`${Ie.self} \n ${Ne.self}`,Ve)),(0,V.w$)(this.requestService),(0,y.n)(yt=>this.rdbService.buildFromRequestUUID(yt.uuid)),(0,Y.qD)(),(0,E.M)(()=>{Be&&(this.refreshRelationshipItemsInCache(Ie),this.refreshRelationshipItemsInCache(Ne))}))}refreshRelationshipItemsInCacheByRelationship(fe){this.findById(fe,!0,!1,(0,w.s)("leftItem"),(0,w.s)("rightItem")).pipe((0,Y.yd)(),(0,Y.Bo)(),(0,y.n)(Ie=>(0,c.z)(Ie.leftItem.pipe((0,Y.yd)(),(0,Y.Bo)()),Ie.rightItem.pipe((0,Y.yd)(),(0,Y.Bo)()))),(0,g.s)(1)).subscribe(([Ie,Ne])=>{this.refreshRelationshipItemsInCache(Ie),this.refreshRelationshipItemsInCache(Ne)})}refreshRelationshipItemsInCache(fe){this.objectCache.remove(fe._links.self.href),this.requestService.removeByHrefSubstring(fe.uuid),(0,c.z)([this.objectCache.hasByHref$(fe._links.self.href),this.requestService.hasByHref$(fe.self)]).pipe((0,_.p)(([Ie,Ne])=>!Ie&&!Ne),(0,g.s)(1)).subscribe(()=>this.itemService.findByHref(fe._links.self.href))}getItemRelationshipsArray(fe,...Ie){return this.findListByHref(fe._links.relationships.href,void 0,!0,!1,...Ie).pipe((0,Y.yd)(),(0,Y.Bo)(),(0,f.T)(Ne=>Ne.page),(0,R.Az)(),(0,d.F)((0,T.W2)()))}getRelationshipTypeLabelsByItem(fe){return this.getItemRelationshipsArray(fe,(0,w.s)("leftItem"),(0,w.s)("rightItem"),(0,w.s)("relationshipType")).pipe((0,y.n)(Ie=>(0,c.z)(Ie.map(Ne=>this.getRelationshipTypeLabelByRelationshipAndItem(Ne,fe)))),(0,f.T)(Ie=>Array.from(new Set(Ie))))}getRelationshipTypeLabelByRelationshipAndItem(fe,Ie){return fe.leftItem.pipe((0,Y.yd)(),(0,f.T)(Ne=>Ne.payload),(0,y.n)(Ne=>fe.relationshipType.pipe((0,Y.yd)(),(0,f.T)(qe=>qe.payload),(0,f.T)(qe=>Ne.uuid===Ie.uuid?qe.leftwardType:qe.rightwardType))))}getRelatedItems(fe){return this.getItemRelationshipsArray(fe,(0,w.s)("leftItem"),(0,w.s)("rightItem"),(0,w.s)("relationshipType")).pipe((0,T.NG)(fe.uuid))}getRelatedItemsByLabel(fe,Ie,Ne){const qe=(0,v.nW)(Ne.fetchThumbnail);return qe.push((0,w.s)("relationshipType")),this.getItemRelationshipsByLabel(fe,Ie,Ne,!0,!0,...qe).pipe(this.paginatedRelationsToItems(fe.uuid))}getItemRelationshipsByLabel(fe,Ie,Ne,qe=!0,we=!0,...Be){let Ve=new Q._;Ne&&(Ve=Object.assign(new Q._,Ne));const et=[new M.x("label",Ie),new M.x("dso",fe.id)];Ve.searchParams=Ve.searchParams?[...Ve.searchParams,...et]:et;const yt=this.searchBy("byLabel",Ve,qe,!1,...Be);return this.addDependency(yt,fe._links.self.href),yt.pipe(this.reRequestStaleRemoteData(we,()=>this.getItemRelationshipsByLabel(fe,Ie,Ne,qe,we,...Be)))}getRelationshipsByRelatedItemIds(fe,Ie){return this.getItemRelationshipsArray(fe,(0,w.s)("leftItem"),(0,w.s)("rightItem")).pipe((0,y.n)(Ne=>(0,c.z)(Ne.map(qe=>{const we=this.isItemInUUIDArray(qe.leftItem,Ie),Be=this.isItemInUUIDArray(qe.rightItem,Ie);return(0,c.z)([we,Be]).pipe((0,_.p)(([Ve,et])=>Ve||et),(0,f.T)(()=>qe),(0,b.Z)(void 0))}))),(0,f.T)(Ne=>Ne.filter(qe=>(0,R.a4)(qe))))}isItemInUUIDArray(fe,Ie){return fe.pipe((0,Y.yd)(),(0,f.T)(Ne=>Ne.payload),(0,f.T)(Ne=>Ie.includes(Ne.uuid)))}getRelationshipByItemsAndLabel(fe,Ie,Ne,qe){return this.getItemRelationshipsByLabel(fe,Ne,qe,!0,!1,(0,w.s)("relationshipType"),(0,w.s)("leftItem"),(0,w.s)("rightItem")).pipe((0,Y.yd)(),(0,O.Z)(we=>we.payload.page),(0,O.Z)(we=>(0,c.z)([this.itemService.findByHref(we._links.leftItem.href).pipe(De(Ie)),this.itemService.findByHref(we._links.rightItem.href).pipe(De(Ie))]).pipe((0,f.T)(([Be,Ve])=>Be||Ve),(0,f.T)(Be=>Be?we:void 0))),(0,_.p)(we=>(0,R.a4)(we)),(0,g.s)(1))}setNameVariant(fe,Ie,Ne){this.appStore.dispatch(new u.dD(fe,Ie,Ne))}getNameVariant(fe,Ie){return this.appStore.pipe((0,n.Lt)(((re,ve)=>(0,I.pc)(ve,Z(re)))(fe,Ie)))}removeNameVariant(fe,Ie){this.appStore.dispatch(new u.zH(fe,Ie))}getNameVariantsByListID(fe){return this.appStore.pipe((0,n.Lt)(Z(fe)))}updateNameVariant(fe,Ie,Ne,qe){return this.getRelationshipByItemsAndLabel(fe,Ie,Ne).pipe((0,y.n)(we=>we.relationshipType.pipe((0,Y.yd)(),(0,Y.Bo)(),(0,f.T)(Be=>({relation:we,type:Be})))),(0,y.n)(we=>{const{relation:Be,type:Ve}=we;let et;return et=Object.assign(new j.b,Be,Ne===Ve.leftwardType?{rightwardValue:qe}:{leftwardValue:qe}),this.update(et)}))}isLeftItem(fe,Ie){return fe.leftItem.pipe((0,Y.yd)(),(0,Y.Bo)(),(0,_.p)(Ne=>(0,R.a4)(Ne)&&(0,R.hj)(Ne.uuid)),(0,f.T)(Ne=>Ne.uuid===Ie.uuid))}updatePlace(fe){let Ie;Ie=Object.assign(new j.b,fe.relationship,fe.useLeftItem?{rightPlace:fe.newIndex}:{leftPlace:fe.newIndex});const Ne=this.update(Ie);return Ne.pipe((0,_.p)(qe=>qe.state===ee.zE.ResponsePending),(0,g.s)(1)).subscribe(qe=>{qe.state===ee.zE.ResponsePending&&this.refreshRelationshipItemsInCacheByRelationship(fe.relationship.id)}),Ne}update(fe){return this.putData.put(fe)}searchByItemsAndType(fe,Ie,Ne,qe){const we=[new M.x("typeId",fe),new M.x("focusItem",Ie),new M.x("relationshipLabel",Ne),new M.x("size",qe.length),new M.x("embed","leftItem"),new M.x("embed","rightItem")];qe.forEach(Ve=>{we.push(new M.x("relatedItem",Ve))});const Be=this.searchBy("byItemsAndType",{searchParams:we});return qe.forEach(Ve=>{this.addDependency(Be,this.itemService.getIDHrefObs(encodeURIComponent(Ve)))}),Be}searchBy(fe,Ie,Ne,qe,...we){return this.searchData.searchBy(fe,Ie,Ne,qe,...we)}resolveMetadataRepresentation(fe,Ie,Ne){return this.metadataService.isVirtual(fe)?this.findById(this.metadataService.virtualValue(fe),!0,!1,(0,w.s)("leftItem"),(0,w.s)("rightItem")).pipe((0,Y.yd)(),(0,y.n)(qe=>(0,c.z)(qe.payload.leftItem,qe.payload.rightItem).pipe((0,_.p)(([we,Be])=>we.hasCompleted&&Be.hasCompleted),(0,f.T)(([we,Be])=>we.hasSucceeded&&Be.hasSucceeded?Be.hasSucceeded&&we.payload.id===Ie.id?Be.payload:Be.payload.id===Ie.id?we.payload:void 0:null),(0,f.T)(we=>(0,R.a4)(we)?Object.assign(new x.y(fe),we):Object.assign(new G.Q(Ne),fe))))):(0,e.of)(Object.assign(new G.Q(Ne),fe))}static#e=this.\u0275fac=function(Ie){return new(Ie||re)(de.KVO(q.B),de.KVO(S.o),de.KVO($.Y),de.KVO(L.$),de.KVO(F.T),de.KVO(J.ItemDataService),de.KVO(n.il),de.KVO(T.ky))};static#t=this.\u0275prov=de.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})()},98526:(B,D,t)=>{"use strict";t.r(D),t.d(D,{RelationshipTypeDataService:()=>S});var i=t(76627),n=t(22867),c=t(27035),e=t(42267),f=t(47947),g=t(72683),d=t(24106),y=t(45122),E=t(99120),_=t(25718),b=t(25744),O=t(12007),I=t(48548),T=t(94937),R=t(12350),u=t(9843),w=t(53107);const v=(M,L)=>M.hasSucceeded&&M.payload.label===L;let S=(()=>{class M extends I.L{constructor(F,$,j,x){super("relationshiptypes",F,$,j,x),this.requestService=F,this.rdbService=$,this.objectCache=j,this.halService=x,this.searchData=new R.X(this.linkPath,F,$,j,x,this.responseMsToLive),this.findAllData=new T.H(this.linkPath,F,$,j,x,this.responseMsToLive)}getRelationshipTypeByLabelAndTypes(F,$,j){return this.findAllData.findAll({currentPage:1,elementsPerPage:9999},!0,!0,(0,d.s)("leftType"),(0,d.s)("rightType")).pipe((0,O.yd)(),(0,n.n)(x=>x.payload.page),(0,c.Z)(x=>x.leftwardType===F?this.checkType(x,$,j):x.rightwardType===F?this.checkType(x,j,$):[null]),(0,e.$)(),(0,f.T)(x=>{const G=x.find(Y=>(0,g.a4)(Y));return(0,g.a4)(G)?G:null}))}checkType(F,$,j){return(0,i.z)([F.leftType.pipe((0,O.qD)()),F.rightType.pipe((0,O.qD)())]).pipe((0,f.T)(([x,G])=>v(x,$)&&v(G,j)?F:null))}searchByEntityType(F,$=!0,j=!0,...x){return this.searchData.searchBy("byEntityType",{searchParams:[new E.x("type",F),new E.x("size",100)]},$,j,...x).pipe((0,O.yd)(),(0,O.Bo)())}static#e=this.\u0275fac=function($){return new($||M)(w.KVO(u.B),w.KVO(y.o),w.KVO(_.$),w.KVO(b.Y))};static#t=this.\u0275prov=w.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},21314:(B,D,t)=>{"use strict";t.d(D,{j:()=>n});var i=t(64868);class n{constructor(e,f,g,d,y,E,_){this.timeCompleted=e,this.msToLive=f,this.lastUpdated=g,this.state=d,this.errorMessage=y,this.payload=E,this.statusCode=_}get isRequestPending(){return(0,i.DB)(this.state)}get isResponsePending(){return(0,i.vT)(this.state)}get isError(){return(0,i.bJ)(this.state)}get isSuccess(){return(0,i.oJ)(this.state)}get isErrorStale(){return(0,i.uN)(this.state)}get isSuccessStale(){return(0,i.DF)(this.state)}get isLoading(){return(0,i.VP)(this.state)}get hasFailed(){return(0,i.WN)(this.state)}get hasSucceeded(){return(0,i.yO)(this.state)}get hasCompleted(){return(0,i.Uj)(this.state)}get isStale(){return(0,i.QO)(this.state)}get hasNoContent(){return 204===this.statusCode}}},64868:(B,D,t)=>{"use strict";t.d(D,{DB:()=>n,DF:()=>g,QO:()=>I,Uj:()=>O,VP:()=>E,WN:()=>_,bJ:()=>c,oJ:()=>e,uN:()=>f,vT:()=>d,yO:()=>b,zE:()=>i});var i=function(T){return T.RequestPending="RequestPending",T.ResponsePending="ResponsePending",T.Error="Error",T.Success="Success",T.ResponsePendingStale="ResponsePendingStale",T.ErrorStale="ErrorStale",T.SuccessStale="SuccessStale",T}(i||{});const n=T=>T===i.RequestPending,c=T=>T===i.Error,e=T=>T===i.Success,f=T=>T===i.ErrorStale,g=T=>T===i.SuccessStale,d=T=>T===i.ResponsePending,y=T=>T===i.ResponsePendingStale,E=T=>n(T)||d(T)||y(T),_=T=>{if(!E(T))return c(T)||f(T)},b=T=>{if(!E(T))return e(T)||g(T)},O=T=>!E(T),I=T=>y(T)||g(T)||f(T)},85178:(B,D,t)=>{"use strict";t.d(D,{G:()=>i});class i extends Error{}},74963:(B,D,t)=>{"use strict";t.d(D,{Di:()=>g,Gl:()=>d,HL:()=>y,PW:()=>f,cX:()=>E,tO:()=>n,uw:()=>e});var i=t(83770);const n={CONFIGURE:(0,i.N)("dspace/core/data/request/CONFIGURE"),EXECUTE:(0,i.N)("dspace/core/data/request/EXECUTE"),SUCCESS:(0,i.N)("dspace/core/data/request/SUCCESS"),ERROR:(0,i.N)("dspace/core/data/request/ERROR"),STALE:(0,i.N)("dspace/core/data/request/STALE"),RESET_TIMESTAMPS:(0,i.N)("dspace/core/data/request/RESET_TIMESTAMPS"),REMOVE:(0,i.N)("dspace/core/data/request/REMOVE")};class c{constructor(){this.lastUpdated=(new Date).getTime()}}class e extends c{constructor(O){super(),this.type=n.CONFIGURE,this.payload=O}}class f extends c{constructor(O){super(),this.type=n.EXECUTE,this.payload=O}}class g extends c{constructor(O,I,T,R){super(),this.type=n.SUCCESS,this.payload={uuid:O,timeCompleted:(new Date).getTime(),statusCode:I,link:T,unCacheableObject:R}}}class d extends c{constructor(O,I,T){super(),this.type=n.ERROR,this.payload={uuid:O,timeCompleted:(new Date).getTime(),statusCode:I,errorMessage:T}}}class y extends c{constructor(O){super(),this.type=n.STALE,this.payload={uuid:O}}}class E{constructor(O){this.type=n.RESET_TIMESTAMPS,this.payload=O}}},70210:(B,D,t)=>{"use strict";t.d(D,{FQ:()=>de,IL:()=>fe,QU:()=>ve,Dk:()=>Ne,$:()=>J,ld:()=>Z,IP:()=>X,Wx:()=>Y,E0:()=>ae,WP:()=>Be,EA:()=>ee,Qf:()=>K,v_:()=>Q,Rn:()=>De,e$:()=>pe,aY:()=>re,Iu:()=>le,_w:()=>we,$I:()=>qe,xu:()=>Ie});var i=t(6973),n=t(25718),c=t(22922),e=t(97120),f=t(53107);let g=(()=>{class Ve extends e.aE{constructor(yt){super(),this.objectCache=yt,this.toCache=!1}parse(yt,it){if(this.isSuccessStatus(it.statusCode))return new c.hT(it.statusCode);throw new Error("Unexpected response from server")}static#e=this.\u0275fac=function(it){return new(it||Ve)(f.KVO(n.$))};static#t=this.\u0275prov=f.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();var d=t(72683),y=t(59379),E=t(25389),_=t(53275),b=t(60171),O=t(70745),I=t(84486),T=t(25172),R=t(23618);let u=(()=>{class Ve extends R.D3{constructor(yt){super(yt),this.objectCache=yt}deserialize(yt){const it=yt.browseType;if(yt.type===y.z.value&&(0,d.a4)(it)){let at;if(it===O.L.value)at=new this.serializerConstructor(b.R);else if(it===_.z.value)at=new this.serializerConstructor(E.P);else{if(it!==T.o.value)throw new Error("An error occurred while retrieving the browse definitions.");at=new this.serializerConstructor(I.f)}return at.deserialize(yt)}throw new Error("An error occurred while retrieving the browse definitions.")}static#e=this.\u0275fac=function(it){return new(it||Ve)(f.KVO(n.$))};static#t=this.\u0275prov=f.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();var w=t(26050),v=t(9815);class S{}let M=(()=>{class Ve extends R.D3{parse(yt,it){const at=it.payload,Yt=new w.T(v.Z).deserialize(at);let nn=[];return at._embedded&&at._embedded.harvestermetadata&&at._embedded.harvestermetadata.configs&&(nn=new w.T(S).serializeArray(at._embedded.harvestermetadata.configs)),Yt.metadataConfigs=nn,this.addToObjectCache(Yt,yt,it),new c.hT(it.statusCode,Yt._links.self)}static#e=this.\u0275fac=(()=>{let yt;return function(at){return(yt||(yt=f.xGo(Ve)))(at||Ve)}})();static#t=this.\u0275prov=f.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();var L=t(86722),F=t(52727);let $=(()=>{class Ve extends R.D3{parse(yt,it){try{it=this.ensureSelfLink(yt,it);const at=this.process(it.payload,yt);if((0,d.a4)(at)){const Yt=at.type;let nn;return(0,d.a4)(Yt)&&(nn=(0,F.Qt)(Yt)),(0,R.k_)(at)&&(0,d.a4)(nn)?new c.hT(it.statusCode,at._links.self):new c.hT(it.statusCode,void 0,at)}return new c.hT(it.statusCode)}catch{return console.warn(`Couldn't parse endpoint request at ${yt.href}`),new c.hT(it.statusCode,void 0,{_links:it.payload._links})}}deserialize(yt){const it=yt.type;if((0,d.a4)(it)){const at=(0,F.Qt)(it);if((0,d.a4)(at))return new this.serializerConstructor(at).deserialize(yt)}return yt}addToObjectCache(yt,it,at,Yt){if(!(0,R.k_)(yt)){const nn=(0,d.a4)(at)&&(0,d.a4)(at.type)?at.type:"object";let je;return je=(0,d.a4)(at._embedded)?JSON.stringify(Object.assign({},at,{_embedded:"..."})):JSON.stringify(at),void console.warn(`Can't cache incomplete ${nn}: ${JSON.stringify(yt)}, parsed from (partial) response: ${je}`)}(0,d.a4)(this.getConstructorFor(yt.type))&&this.objectCache.add(yt,(0,d.a4)(it.responseMsToLive)?it.responseMsToLive:L.c.cache.msToLive.default,it.uuid,Yt)}static#e=this.\u0275fac=(()=>{let yt;return function(at){return(yt||(yt=f.xGo(Ve)))(at||Ve)}})();static#t=this.\u0275prov=f.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();var j=t(96779);class x{constructor(et,yt,it=j.D.GET,at,Yt){this.uuid=et,this.href=yt,this.method=it,this.body=at,this.options=Yt,this.responseMsToLive=L.c.cache.msToLive.default,this.isMultipart=!1}}class G extends x{}var Y=function(Ve){return Ve.UUID="uuid",Ve.HANDLE="handle",Ve}(Y||{});class V extends G{getResponseParser(){return R.D3}}class X extends V{constructor(et,yt,it,at){super(et,yt,j.D.GET,it,at),this.uuid=et,this.href=yt,this.body=it,this.options=at}}class K extends V{constructor(et,yt,it,at){super(et,yt,j.D.POST,it),this.uuid=et,this.href=yt,this.body=it,this.options=at}}class ae extends V{constructor(et,yt,it,at){super(et,yt,j.D.POST,it),this.uuid=et,this.href=yt,this.body=it,this.options=at,this.isMultipart=!0}}class Q extends V{constructor(et,yt,it,at){super(et,yt,j.D.PUT,it),this.uuid=et,this.href=yt,this.body=it,this.options=at}}class J extends V{constructor(et,yt,it,at){super(et,yt,j.D.DELETE,it),this.uuid=et,this.href=yt,this.body=it,this.options=at}}class ee extends V{constructor(et,yt,it,at){super(et,yt,j.D.PATCH,it),this.uuid=et,this.href=yt,this.body=it,this.options=at}}class de extends V{getResponseParser(){return u}}class Z extends X{getResponseParser(){return $}}class le extends X{constructor(et,yt){super(et,yt)}getResponseParser(){return i.BE}}class De extends J{constructor(et,yt){super(et,yt),this.uuid=et,this.href=yt}getResponseParser(){return i.BE}}class pe extends ee{constructor(et,yt,it){super(et,yt,it),this.uuid=et,this.href=yt,this.body=it}getResponseParser(){return i.BE}}class re extends K{constructor(et,yt,it,at){super(et,yt,it,at),this.uuid=et,this.href=yt,this.body=it,this.options=at}getResponseParser(){return i.BE}}class ve extends K{constructor(et,yt,it,at){super(et,yt,it,at),this.body=it,this.options=at}}class fe extends X{constructor(et,yt){super(et,yt)}getResponseParser(){return M}}class Ie extends Q{constructor(et,yt,it,at){super(et,yt,it,at),this.body=it,this.options=at}getResponseParser(){return M}}class Ne extends J{constructor(et,yt,it){super(et,yt),this.resourceID=it}}class qe extends K{constructor(et,yt,it,at){super(et,yt,it,at),this.body=it,this.options=at}getResponseParser(){return g}}class we extends J{constructor(et,yt,it,at){super(et,yt,it,at),this.body=it,this.options=at}getResponseParser(){return g}}class Be extends X{constructor(){super(...arguments),this.responseMsToLive=1e4}}},9843:(B,D,t)=>{"use strict";t.d(D,{B:()=>ae});var i=t(27691),n=t(73958),c=t(87599),e=t.n(c),f=t(74984),g=t(33325),d=t(37610),y=t(47947),E=t(82040),_=t(22867),b=t(27035),O=t(25814),I=t(42267),T=t(41483),R=t(72683),u=t(25718),w=t(96856),v=t(48891),S=t(59501),M=t(74963),L=t(64868),F=t(96779),$=t(53107),j=t(26898);const x=(0,n.Mz)(v.N,Q=>Q["data/request"]),K=Q=>{if((0,R.Tn)(Q))return!1;if((0,L.VP)(Q.state))return!0;if((0,L.QO)(Q.state))return!1;{const J=Q.response.timeCompleted+Q.request.responseMsToLive;return!((new Date).getTime()>J)}};let ae=(()=>{class Q{constructor(z,q,ee){this.objectCache=z,this.uuidService=q,this.store=ee,this.requestsOnTheirWayToTheStore=[]}generateRequestId(){return`client/${this.uuidService.generate()}`}isPending(z){if(z.method!==F.D.GET)return!1;if(this.requestsOnTheirWayToTheStore.includes(z.href))return!0;let q=!1;return this.getByHref(z.href).pipe((0,d.s)(1)).subscribe(ee=>{q=(0,R.a4)(ee)&&(0,L.VP)(ee.state)&&!(0,L.QO)(ee.state)}),q}getByUUID(z){return this.store.pipe((0,n.Lt)((Q=>(0,n.Mz)(x,J=>(0,R.a4)(J)?J[Q]:void 0))(z)),this.fixRequestHeaders(),this.checkStale())}fixRequestHeaders(){return z=>z.pipe((0,y.T)(q=>((0,R.a4)(q)&&(0,R.a4)(q.request)&&(0,R.a4)(q.request.options)&&(0,R.a4)(q.request.options.headers)&&((q=e()(q)).request.options.headers=Object.assign(new i.Lr,q.request.options.headers)),q)))}checkStale(){return z=>z.pipe((0,E.M)(q=>{(0,R.a4)(q)&&(0,R.a4)(q.request)&&!(0,L.QO)(q.state)&&!K(q)&&f.$.schedule(()=>this.store.dispatch(new M.HL(q.request.uuid)))}))}getByHref(z){return this.store.pipe((0,n.Lt)((Q=>(0,n.Mz)(S.bS,x,(J,z)=>{let q;if((0,R.a4)(J))return q=J[(0,S.tJ)(Q)],(0,R.a4)(z)?z[q]:void 0}))(z)),this.fixRequestHeaders(),this.checkStale())}send(z,q=!1){return q&&z.method!==F.D.GET&&console.warn(`${JSON.stringify(z,null,2)} is not a GET request. In general only GET requests should reuse cached data.`),!!this.shouldDispatchRequest(z,q)&&(this.dispatchRequest(z),z.method===F.D.GET&&this.trackRequestsOnTheirWayToTheStore(z),!0)}uriEncodeBody(z){let q="";return(0,R.hj)(z)&&"object"==typeof z&&Object.keys(z).forEach(ee=>{const de=encodeURIComponent(ee);if(Array.isArray(z[ee]))for(const Ce of z[ee]){const le=`${de}=${encodeURIComponent(Ce)}`;q=(0,R.Im)(q)?q.concat(le):q.concat("&",le)}else{const Z=`${de}=${encodeURIComponent(z[ee])}`;q=(0,R.Im)(q)?q.concat(Z):q.concat("&",Z)}}),q}removeByHrefSubstring(z){return this.setStaleByHrefSubstring(z)}setStaleByHrefSubstring(z){const q=this.store.pipe((0,n.Lt)(((Q,J)=>(0,n.Mz)(Q,z=>((Q,J)=>{let z=[];return(0,R.hj)(Q)&&(z=Object.keys(Q).filter(q=>q.includes(J)).map(q=>Q[q])),z})(z,J)))(S.bS,z)),(0,d.s)(1));return q.subscribe(ee=>{for(const de of ee)this.store.dispatch(new M.HL(de))}),this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(ee=>ee.indexOf(z)<0),q.pipe((0,_.n)(ee=>(0,R.Im)(ee)?[!0]:(0,g.H)(ee).pipe((0,b.Z)(de=>this.getByUUID(de)),(0,y.T)(de=>(0,R.Tn)(de)||(0,L.QO)(de.state)),(0,O.I)(de=>!0===de),(0,I.$)(),(0,y.T)(()=>!0))))}setStaleByUUID(z){return this.store.dispatch(new M.HL(z)),this.getByUUID(z).pipe((0,y.T)(q=>(0,L.QO)(q.state)),(0,T.p)(q=>q),(0,d.s)(1))}setStaleByHref(z){const q=this.getByHref(z);return q.pipe((0,T.p)(ee=>(0,R.hj)(ee)),(0,y.T)(ee=>ee.request.uuid),(0,d.s)(1)).subscribe(ee=>{this.store.dispatch(new M.HL(ee))}),q.pipe((0,y.T)(ee=>(0,L.QO)(ee.state)),(0,T.p)(ee=>ee),(0,d.s)(1))}shouldDispatchRequest(z,q){if(z.method!==F.D.GET)return!0;if(this.isPending(z))return!1;if(q){const ee=(0,S.tJ)(z.href);if(!0===this.hasByHref(ee))return!1;{let de=!1;return this.objectCache.getByHref(ee).subscribe(Ce=>{de=this.hasByUUID(Ce.requestUUIDs[0])}).unsubscribe(),!de}}return!0}dispatchRequest(z){f.$.schedule(()=>{this.store.dispatch(new M.uw(z)),this.store.dispatch(new M.PW(z.uuid))})}trackRequestsOnTheirWayToTheStore(z){this.requestsOnTheirWayToTheStore=[...this.requestsOnTheirWayToTheStore,z.href],this.getByHref(z.href).pipe((0,T.p)(q=>(0,R.a4)(q)&&(0,R.a4)(q.request)&&q.request.uuid===z.uuid),(0,d.s)(1)).subscribe(q=>{this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(ee=>ee!==z.href)})}commit(z){this.store.dispatch(new w.eR(z))}hasByHref(z,q=!0){let ee=!1;return this.hasByHref$(z,q).subscribe(de=>ee=de).unsubscribe(),ee}hasByHref$(z,q=!0){return this.getByHref(z).pipe((0,y.T)(ee=>q?K(ee):(0,R.a4)(ee)))}hasByUUID(z,q=!0){let ee=!1;return this.hasByUUID$(z,q).subscribe(de=>ee=de).unsubscribe(),ee}hasByUUID$(z,q=!0){return this.getByUUID(z).pipe((0,y.T)(ee=>q?K(ee):(0,R.a4)(ee)))}static#e=this.\u0275fac=function(q){return new(q||Q)($.KVO(u.$),$.KVO(j.v),$.KVO(n.il))};static#t=this.\u0275prov=$.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}return Q})()},96779:(B,D,t)=>{"use strict";t.d(D,{D:()=>i});var i=function(n){return n.GET="GET",n.POST="POST",n.PUT="PUT",n.DELETE="DELETE",n.OPTIONS="OPTIONS",n.HEAD="HEAD",n.PATCH="PATCH",n}(i||{})},15569:(B,D,t)=>{"use strict";t.r(D),t.d(D,{RootDataService:()=>b});var i=t(63016),n=t(17178),c=t(47947),e=t(45122),f=t(25718),g=t(25744),d=t(12007),y=t(48548),E=t(9843),_=t(53107);let b=(()=>{class O extends y.L{constructor(T,R,u,w){super("",T,R,u,w,216e5),this.requestService=T,this.rdbService=R,this.objectCache=u,this.halService=w}checkServerAvailability(){return this.findRoot().pipe((0,n.W)(T=>(console.error(T),(0,i.of)(!1))),(0,d.qD)(),(0,c.T)(T=>200===T.statusCode))}findRoot(T=!0,R=!0,...u){return this.findByHref(this.halService.getRootHref(),T,R,...u)}invalidateRootCache(){this.requestService.setStaleByHref(this.halService.getRootHref())}static#e=this.\u0275fac=function(R){return new(R||O)(_.KVO(E.B),_.KVO(e.o),_.KVO(f.$),_.KVO(g.Y))};static#t=this.\u0275prov=_.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},9191:(B,D,t)=>{"use strict";t.d(D,{z:()=>y});var i=t(72683),n=t(93462),c=t(22922),e=t(26050),f=t(64953),g=t(23618),d=t(53107);let y=(()=>{class E extends g.D3{parse(b,O){const T=O.payload._embedded.searchResult||{_embedded:{objects:[]}};T.appliedFilters=O.payload.appliedFilters,T.sort=O.payload.sort,T.scope=O.payload.scope,T.configuration=O.payload.configuration;const R=T._embedded.objects.map(S=>S.hitHighlights).map(S=>{const M={};if(S)for(const L of Object.keys(S)){const F=Object.assign(new f.vD,{value:S[L].join("..."),language:null});M[L]=[F]}return M}),u=T._embedded.objects.filter(S=>(0,i.a4)(S._embedded)).map(S=>S._embedded.indexableObject).map(S=>this.process(S,b)).map(S=>S._links.self.href).reduce((S,M)=>[...S,M],[]),w=T._embedded.objects.filter(S=>(0,i.a4)(S._embedded)).map((S,M)=>Object.assign({},S,{indexableObject:u[M],hitHighlights:R[M]}));T.objects=w;const v=new e.T(n.n).deserialize(T);return v.pageInfo=this.processPageInfo(T),this.addToObjectCache(v,b,O),new c.hT(O.statusCode,v._links.self)}static#e=this.\u0275fac=(()=>{let b;return function(I){return(b||(b=d.xGo(E)))(I||E)}})();static#t=this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},80592:(B,D,t)=>{"use strict";t.r(D),t.d(D,{SiteDataService:()=>_});var i=t(47947),n=t(45122),c=t(25718),e=t(25744),f=t(12007),g=t(48548),d=t(94937),y=t(9843),E=t(53107);let _=(()=>{class b extends g.L{constructor(I,T,R,u){super("sites",I,T,R,u),this.requestService=I,this.rdbService=T,this.objectCache=R,this.halService=u,this.findAllData=new d.H(this.linkPath,I,T,R,u,this.responseMsToLive)}find(){return this.findAll().pipe((0,f.yd)(),(0,i.T)(I=>I.payload),(0,i.T)(I=>I.page[0]))}findAll(I,T,R,...u){return this.findAllData.findAll(I,T,R,...u)}static#e=this.\u0275fac=function(T){return new(T||b)(E.KVO(y.B),E.KVO(n.o),E.KVO(c.$),E.KVO(e.Y))};static#t=this.\u0275prov=E.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},92312:(B,D,t)=>{"use strict";t.d(D,{M:()=>c});var i=t(22922),n=t(53107);let c=(()=>{class e{parse(g,d){return new i.Ku(d.statusCode>=200&&d.statusCode<300,d.statusCode,d.statusText)}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=n.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},32185:(B,D,t)=>{"use strict";t.r(D),t.d(D,{SystemWideAlertDataService:()=>O});var i=t(79224),n=t(45122),c=t(25718),e=t(25744),f=t(45926),g=t(94937),d=t(2887),y=t(24265),E=t(12350),_=t(9843),b=t(53107);let O=(()=>{class I extends d.W{constructor(R,u,w,v,S){super("systemwidealerts",R,u,w,v),this.requestService=R,this.rdbService=u,this.objectCache=w,this.halService=v,this.notificationsService=S,this.findAllData=new g.H(this.linkPath,R,u,w,v,this.responseMsToLive),this.createData=new f.V(this.linkPath,R,u,w,v,S,this.responseMsToLive),this.putData=new y.W(this.linkPath,R,u,w,v,this.responseMsToLive),this.searchData=new E.X(this.linkPath,R,u,w,v,this.responseMsToLive)}findAll(R,u,w,...v){return this.findAllData.findAll(R,u,w,...v)}create(R,...u){return this.createData.create(R,...u)}put(R){return this.putData.put(R)}searchBy(R,u,w,v,...S){return this.searchData.searchBy(R,u,w,v,...S)}static#e=this.\u0275fac=function(u){return new(u||I)(b.KVO(_.B),b.KVO(n.o),b.KVO(c.$),b.KVO(e.Y),b.KVO(i.I))};static#t=this.\u0275prov=b.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})()},63963:(B,D,t)=>{"use strict";t.r(D),t.d(D,{WorkflowActionDataService:()=>d});var i=t(45122),n=t(25718),c=t(25744),e=t(2887),f=t(9843),g=t(53107);let d=(()=>{class y extends e.W{constructor(_,b,O,I){super("workflowactions",_,b,O,I),this.requestService=_,this.rdbService=b,this.objectCache=O,this.halService=I,this.linkPath="workflowactions"}static#e=this.\u0275fac=function(b){return new(b||y)(g.KVO(f.B),g.KVO(i.o),g.KVO(n.$),g.KVO(c.Y))};static#t=this.\u0275prov=g.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()},92600:(B,D,t)=>{"use strict";t.d(D,{Y:()=>_});var i=t(27691),n=t(48915),c=t(47947),e=t(17178),f=t(72683),g=t(85178),d=t(96779),y=t(53107);const E="application/json; charset=utf-8";let _=(()=>{class b{constructor(I){this.http=I}get(I){const T={observe:"response",headers:new i.Lr({"Content-Type":E})};return this.http.get(I,T).pipe((0,c.T)(R=>({payload:R.body,statusCode:R.status,statusText:R.statusText})),(0,e.W)(R=>(0,n.$)(()=>(console.log("Error: ",R),this.handleHttpError(R)))))}request(I,T,R,u,w){const v={};return v.body=R,I===d.D.POST&&(0,f.hj)(R)&&(0,f.hj)(R.name)&&(v.body=this.buildFormData(R)),v.observe="response",u&&u.responseType&&(v.responseType=u.responseType),v.headers=(0,f.Tn)(u)||(0,f.Tn)(u.headers)?new i.Lr:u.headers,u&&u.params&&(v.params=u.params),u&&u.withCredentials&&(v.withCredentials=u.withCredentials),!v.headers.has("Content-Type")&&!w&&(v.headers=v.headers.set("Content-Type",E)),this.http.request(I,T,v).pipe((0,c.T)(S=>({payload:S.body,headers:S.headers,statusCode:S.status,statusText:S.statusText})),(0,e.W)(S=>(0,n.$)(()=>this.handleHttpError(S))))}buildFormData(I){const T=new FormData;if(T.append("name",I.name),I.metadata)for(const R of Object.keys(I.metadata))for(const u of I.allMetadataValues(R))T.append(R,u);return T}handleHttpError(I){if(I instanceof i.yz){const T=new g.G((0,f.hj)(I?.error?.message)?I.error.message:I.message);return T.statusCode=I.status,T.statusText=I.statusText,T}return console.error("Cannot construct RequestError from",I),I}static#e=this.\u0275fac=function(T){return new(T||b)(y.KVO(i.Qq))};static#t=this.\u0275prov=y.jDH({token:b,factory:b.\u0275fac})}return b})()},26050:(B,D,t)=>{"use strict";t.d(D,{T:()=>n});var i=t(47817);class n{constructor(e){this.modelType=e}serialize(e){return(0,i.Serialize)(e,this.modelType)}serializeArray(e){return(0,i.Serialize)(e,this.modelType)}deserialize(e){if(Array.isArray(e))throw new Error("Expected a single model, use deserializeArray() instead");return(0,i.Deserialize)(e,this.modelType)}deserializeArray(e){if(!Array.isArray(e))throw new Error("Expected an Array, use deserialize() instead");return(0,i.Deserialize)(e,this.modelType)}}},628:(B,D,t)=>{"use strict";t.d(D,{e:()=>g});var i=t(53107),n=t(95968),c=t(63016),e=t(86722),f=t(37330);const g=d=>(y,E)=>{const _=(0,i.WQX)(n.Ix);return e.c.info.enableEndUserAgreement?d().pipe((0,f.gM)(_,E.url)):(0,c.of)(!0)}},37922:(B,D,t)=>{"use strict";t.d(D,{GH:()=>I,Mk:()=>O});var i=t(63016),n=t(22867),c=t(47947),e=t(37610),f=t(72683),g=t(21706),d=t(31363),y=t(63276),E=t(12007),_=t(53107);const b="hasAgreedEndUser",O="dspace.agreements.end-user";let I=(()=>{class T{constructor(u,w,v){this.cookie=u,this.authService=w,this.ePersonService=v}hasCurrentUserOrCookieAcceptedAgreement(u){return this.isCookieAccepted()?(0,i.of)(!0):this.hasCurrentUserAcceptedAgreement(u)}hasCurrentUserAcceptedAgreement(u){return this.authService.isAuthenticated().pipe((0,n.n)(w=>w?this.authService.getAuthenticatedUserFromStore().pipe((0,c.T)(v=>(0,f.a4)(v)&&v.hasMetadata(O)&&"true"===v.firstMetadata(O).value)):(0,i.of)(u)))}setUserAcceptedAgreement(u){return this.authService.isAuthenticated().pipe((0,n.n)(w=>w?this.authService.getAuthenticatedUserFromStore().pipe((0,e.s)(1),(0,n.n)(v=>{const S={value:String(u)};let M;return M=v.hasMetadata(O)?{op:"replace",path:`/metadata/${O}/0`,value:S}:{op:"add",path:`/metadata/${O}`,value:[S]},this.ePersonService.patch(v,[M])}),(0,E.qD)(),(0,c.T)(v=>v.hasSucceeded)):(this.setCookieAccepted(u),(0,i.of)(!0))),(0,e.s)(1))}isCookieAccepted(){return!0===this.cookie.get(b)}setCookieAccepted(u){this.cookie.set(b,u)}removeCookieAccepted(){this.cookie.remove(b)}static#e=this.\u0275fac=function(w){return new(w||T)(_.KVO(y.O),_.KVO(g.uR),_.KVO(d.EPersonDataService))};static#t=this.\u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})()},31363:(B,D,t)=>{"use strict";t.r(D),t.d(D,{EPersonDataService:()=>X,editEPersonSelector:()=>V});var i=t(73958),n=t(47947),c=t(37610),e=t(25814),f=t(57079),g=t(57999),d=t(72683),y=t(79224),E=t(45122),_=t(99120),b=t(25718),O=t(45926),I=t(83951),T=t(2887),R=t(2868),u=t(12350),w=t(24632),v=t(36705),S=t(5338),M=t(21314),L=t(70210),F=t(9843),$=t(25744),j=t(12007),x=t(36423),G=t(53107);const V=(0,i.Mz)(K=>K.epeopleRegistry,K=>K.editEPerson);let X=(()=>{class K extends T.W{constructor(Q,J,z,q,ee,de,Ce){super("epersons",Q,J,z,q),this.requestService=Q,this.rdbService=J,this.objectCache=z,this.halService=q,this.comparator=ee,this.notificationsService=de,this.store=Ce,this.searchByEmailPath="byEmail",this.searchByMetadataPath="byMetadata",this.createData=new O.V(this.linkPath,Q,J,z,q,de,this.responseMsToLive),this.searchData=new u.X(this.linkPath,Q,J,z,q,this.responseMsToLive),this.patchData=new R.n(this.linkPath,Q,J,z,q,ee,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new I.I(this.linkPath,Q,J,z,q,de,this.responseMsToLive,this.constructIdEndpoint)}searchByScope(Q,J,z={},q,ee=!0){switch(Q){case"metadata":default:return this.getEpeopleByMetadata(J.trim(),z,q,ee);case"email":return this.getEPersonByEmail(J.trim(),q,ee).pipe((0,n.T)(de=>{if(de.hasSucceeded){let Ce;return Ce=204===de.statusCode||(0,d.Tn)(de.payload)?[]:[de.payload],new M.j(de.timeCompleted,de.msToLive,de.lastUpdated,de.state,de.errorMessage,(0,S.g)(new x.Q({elementsPerPage:z.elementsPerPage,totalElements:Ce.length,totalPages:Ce.length,currentPage:1}),Ce),de.statusCode)}return de}))}}getEPersonByEmail(Q,J=!0,z=!0,...q){const ee=new v._;ee.searchParams=[new _.x("email",Q)];const de=this.searchData.getSearchByHref(this.searchByEmailPath,ee,...q);return this.findByHref(de,J,z,...q)}getEpeopleByMetadata(Q,J,z=!0,q=!0,...ee){const de=[new _.x("query",Q)];return this.getEPeopleBy(de,this.searchByMetadataPath,J,z,q,...ee)}getEPeopleBy(Q,J,z,q=!0,ee=!0,...de){let Ce=new v._;return z&&(Ce=Object.assign(new v._,z)),Ce.searchParams=Ce.searchParams?[...Ce.searchParams,...Q]:Q,this.searchBy(J,Ce,q,ee,...de)}searchNonMembers(Q,J,z,q=!0,ee=!0,...de){const Ce=[new _.x("query",Q),new _.x("group",J)];let Z=new v._;return z&&(Z=Object.assign(new v._,z)),Z.searchParams=Z.searchParams?[...Z.searchParams,...Ce]:Ce,this.searchBy("isNotMemberOf",Z,q,ee,...de)}updateEPerson(Q){const J=this.requestService.generateRequestId();return this.findByHref(Q._links.self.href,!0,!1).pipe((0,j.yd)(),(0,j.Bo)(),(0,c.s)(1)).subscribe(q=>{const ee=this.generateOperations(q,Q),de=new L.EA(J,Q._links.self.href,ee);return this.requestService.send(de)}),this.rdbService.buildFromRequestUUID(J)}generateOperations(Q,J){let z=this.comparator.diff(Q,J).filter(q=>"replace"===q.op);return(0,d.a4)(Q.email)&&Q.email!==J.email&&(z=[...z,{op:"replace",path:"/email",value:J.email}]),(0,d.a4)(Q.requireCertificate)&&Q.requireCertificate!==J.requireCertificate&&(z=[...z,{op:"replace",path:"/certificate",value:J.requireCertificate}]),(0,d.a4)(Q.canLogIn)&&Q.canLogIn!==J.canLogIn&&(z=[...z,{op:"replace",path:"/canLogIn",value:J.canLogIn}]),z}clearEPersonRequests(){this.getBrowseEndpoint().pipe((0,c.s)(1)).subscribe(Q=>{this.requestService.removeByHrefSubstring(Q)})}clearLinkRequests(Q){this.requestService.setStaleByHrefSubstring(Q)}getActiveEPerson(){return this.store.pipe((0,i.Lt)(V))}cancelEditEPerson(){this.store.dispatch(new g.oQ)}editEPerson(Q){this.store.dispatch(new g._c(Q))}deleteEPerson(Q){return this.delete(Q.id)}startEditingNewEPerson(Q){return this.getActiveEPerson().pipe((0,c.s)(1)).subscribe(J=>{Q===J?this.cancelEditEPerson():this.editEPerson(Q)}),(0,f.Ax)(Q.id)}createEPersonForToken(Q,J){const z=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,n.T)(ee=>`${ee}?token=${J}`)).pipe((0,e.I)(ee=>(0,d.a4)(ee))).subscribe(ee=>{const de=new L.Qf(z,ee,Q);this.requestService.send(de)}),this.rdbService.buildFromRequestUUID(z)}patchPasswordWithToken(Q,J,z){const q=this.requestService.generateRequestId(),ee=Object.assign({op:"add",path:"/password",value:{new_password:z}});return this.halService.getEndpoint(this.linkPath).pipe((0,n.T)(Ce=>this.getIDHref(Ce,Q)),(0,n.T)(Ce=>`${Ce}?token=${J}`)).pipe((0,e.I)(Ce=>(0,d.a4)(Ce))).subscribe(Ce=>{const Z=new L.EA(q,Ce,[ee]);this.requestService.send(Z)}),this.rdbService.buildFromRequestUUID(q)}create(Q,...J){return this.createData.create(Q,...J)}searchBy(Q,J,z,q,...ee){return this.searchData.searchBy(Q,J,z,q,...ee)}createPatchFromCache(Q){return this.patchData.createPatchFromCache(Q)}patch(Q,J){return this.patchData.patch(Q,J)}update(Q){return this.patchData.update(Q)}commitUpdates(Q){this.patchData.commitUpdates(Q)}delete(Q,J){return this.deleteData.delete(Q,J)}deleteByHref(Q,J){return this.deleteData.deleteByHref(Q,J)}static#e=this.\u0275fac=function(J){return new(J||K)(G.KVO(F.B),G.KVO(E.o),G.KVO(b.$),G.KVO($.Y),G.KVO(w.j),G.KVO(y.I),G.KVO(i.il))};static#t=this.\u0275prov=G.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})()},7172:(B,D,t)=>{"use strict";t.r(D),t.d(D,{GroupDataService:()=>Y});var i=t(27691),n=t(73958),c=t(35466),e=t(37610),f=t(57079),g=t(61717),d=t(79224),y=t(83116),E=t(45122),_=t(99120),b=t(25718),O=t(45926),I=t(83951),T=t(2887),R=t(2868),u=t(12350),w=t(24632),v=t(36705),S=t(70210),M=t(9843),L=t(25744),F=t(12007),$=t(63434),j=t(53107);const G=(0,n.Mz)(V=>V.groupRegistry,V=>V.editGroup);let Y=(()=>{class V extends T.W{constructor(K,ae,Q,J,z,q,ee,de){super("groups",K,ae,Q,J),this.requestService=K,this.rdbService=ae,this.objectCache=Q,this.halService=J,this.comparator=z,this.notificationsService=q,this.nameService=ee,this.store=de,this.browseEndpoint="",this.ePersonsEndpoint="epersons",this.subgroupsEndpoint="subgroups",this.createData=new O.V(this.linkPath,K,ae,Q,J,q,this.responseMsToLive),this.searchData=new u.X(this.linkPath,K,ae,Q,J,this.responseMsToLive),this.patchData=new R.n(this.linkPath,K,ae,Q,J,z,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new I.I(this.linkPath,K,ae,Q,J,q,this.responseMsToLive,this.constructIdEndpoint)}searchGroups(K,ae,Q=!0,J=!0,...z){const q=[new _.x("query",K)];let ee=new v._;return ae&&(ee=Object.assign(new v._,ae)),ee.searchParams=ee.searchParams?[...ee.searchParams,...q]:q,this.searchBy("byMetadata",ee,Q,J,...z)}searchNonMemberGroups(K,ae,Q,J=!0,z=!0,...q){const ee=[new _.x("query",K),new _.x("group",ae)];let de=new v._;return Q&&(de=Object.assign(new v._,Q)),de.searchParams=de.searchParams?[...de.searchParams,...ee]:ee,this.searchBy("isNotMemberOf",de,J,z,...q)}addSubGroupToGroup(K,ae){const Q=this.requestService.generateRequestId(),J=Object.create({});let z=new i.Lr;z=z.append("Content-Type","text/uri-list"),J.headers=z;const q=new S.Qf(Q,K.self+"/"+this.subgroupsEndpoint,ae.self,J);return this.requestService.send(q),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>(0,c.y)(this.invalidateByHref(K._links.self.href),this.requestService.setStaleByHrefSubstring(K._links.subgroups.href).pipe((0,e.s)(1))))}deleteSubGroupFromGroup(K,ae){const Q=this.requestService.generateRequestId(),J=new S.$(Q,K.self+"/"+this.subgroupsEndpoint+"/"+ae.id);return this.requestService.send(J),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>(0,c.y)(this.invalidateByHref(K._links.self.href),this.requestService.setStaleByHrefSubstring(K._links.subgroups.href).pipe((0,e.s)(1))))}addMemberToGroup(K,ae){const Q=this.requestService.generateRequestId(),J=Object.create({});let z=new i.Lr;z=z.append("Content-Type","text/uri-list"),J.headers=z;const q=new S.Qf(Q,K.self+"/"+this.ePersonsEndpoint,ae.self,J);return this.requestService.send(q),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>(0,c.y)(this.invalidateByHref(ae._links.self.href),this.requestService.setStaleByHrefSubstring(ae._links.groups.href).pipe((0,e.s)(1)),this.requestService.setStaleByHrefSubstring(K._links.epersons.href).pipe((0,e.s)(1))))}deleteMemberFromGroup(K,ae){const Q=this.requestService.generateRequestId(),J=new S.$(Q,K.self+"/"+this.ePersonsEndpoint+"/"+ae.id);return this.requestService.send(J),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>(0,c.y)(this.invalidateByHref(ae._links.self.href),this.requestService.setStaleByHrefSubstring(ae._links.groups.href).pipe((0,e.s)(1)),this.requestService.setStaleByHrefSubstring(K._links.epersons.href).pipe((0,e.s)(1))))}getActiveGroup(){return this.store.pipe((0,n.Lt)(G))}cancelEditGroup(){this.store.dispatch(new g.Sb)}editGroup(K){this.store.dispatch(new g.C(K))}clearGroupsRequests(){this.getBrowseEndpoint().pipe((0,e.s)(1)).subscribe(K=>{this.requestService.removeByHrefSubstring(K)})}clearGroupLinkRequests(K){this.requestService.setStaleByHrefSubstring(K)}getGroupRegistryRouterLink(){return"/access-control/groups"}startEditingNewGroup(K){return this.getActiveGroup().pipe((0,e.s)(1)).subscribe(ae=>{K===ae?this.cancelEditGroup():this.editGroup(K)}),this.getGroupEditPageRouterLinkWithID(K.id)}getGroupEditPageRouterLink(K){return(0,f.xl)(K.id)}getGroupEditPageRouterLinkWithID(K){return(0,f.xl)(K)}getUUIDFromString(K){let ae="";const Q=K.match(/[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}/g);return null!=Q&&(ae=Q[0]),ae}createComcolGroup(K,ae,Q){const J=this.requestService.generateRequestId(),z=Object.assign(new $.Y,{metadata:{"dc.description":[{value:`${this.nameService.getName(K)} ${ae} group`}]}});this.requestService.send(new S.QU(J,Q,JSON.stringify(z)));const q=this.rdbService.buildFromRequestUUID(J).pipe((0,F.qD)());return q.subscribe(ee=>{ee.hasSucceeded&&this.requestService.removeByHrefSubstring(Q)}),q}deleteComcolGroup(K){const ae=this.requestService.generateRequestId();this.requestService.send(new S.$(ae,K));const Q=this.rdbService.buildFromRequestUUID(ae).pipe((0,F.qD)());return Q.subscribe(J=>{J.hasSucceeded&&this.requestService.removeByHrefSubstring(K)}),Q}create(K,...ae){return this.createData.create(K,...ae)}searchBy(K,ae,Q,J,...z){return this.searchData.searchBy(K,ae,Q,J,...z)}createPatchFromCache(K){return this.patchData.createPatchFromCache(K)}patch(K,ae){return this.patchData.patch(K,ae)}update(K){return this.patchData.update(K)}commitUpdates(K){this.patchData.commitUpdates(K)}delete(K,ae){return this.deleteData.delete(K,ae)}deleteByHref(K,ae){return this.deleteData.deleteByHref(K,ae)}static#e=this.\u0275fac=function(ae){return new(ae||V)(j.KVO(M.B),j.KVO(E.o),j.KVO(b.$),j.KVO(L.Y),j.KVO(w.j),j.KVO(d.I),j.KVO(y.f),j.KVO(n.il))};static#t=this.\u0275prov=j.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},83383:(B,D,t)=>{"use strict";t.d(D,{h:()=>i});class i{}},82831:(B,D,t)=>{"use strict";t.d(D,{f:()=>y});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(47587),g=t(5469),d=t(99736);let y=class extends f.M{static#e=this.type=g.N;get name(){return this.firstMetadataValue("eperson.firstname")+" "+this.firstMetadataValue("eperson.lastname")}getRenderTypes(){return["EPerson",this.constructor.name,...super.getRenderTypes()]}};(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"handle",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"netid",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"lastActive",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"canLogIn",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"email",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"requireCertificate",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"selfRegistered",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"password",void 0),(0,i.Cg)([(0,e.nf)(d.U,!0),(0,i.Sn)("design:type",c.c)],y.prototype,"groups",void 0),y=(0,i.Cg)([e.gV,(0,n.inheritSerialization)(f.M)],y)},5469:(B,D,t)=>{"use strict";t.d(D,{N:()=>n});const n=new(t(98573).v)("eperson")},63434:(B,D,t)=>{"use strict";t.d(D,{Y:()=>_});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(47587),g=t(57905),d=t(2494),y=t(5469),E=t(99736);let _=class extends f.M{static#e=this.type=E.U};(0,i.Cg)([d.aK,(0,n.autoserializeAs)("name"),(0,i.Sn)("design:type",String)],_.prototype,"_name",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"handle",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"permanent",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(E.U,!0),(0,i.Sn)("design:type",c.c)],_.prototype,"subgroups",void 0),(0,i.Cg)([(0,e.nf)(y.N,!0),(0,i.Sn)("design:type",c.c)],_.prototype,"epersons",void 0),(0,i.Cg)([(0,e.nf)(g.X),(0,i.Sn)("design:type",c.c)],_.prototype,"object",void 0),_=(0,i.Cg)([e.gV,(0,n.inheritSerialization)(f.M)],_)},99736:(B,D,t)=>{"use strict";t.d(D,{U:()=>n});const n=new(t(98573).v)("group")},86759:(B,D,t)=>{"use strict";t.d(D,{z:()=>n});const n=new(t(98573).v)("workflowitem")},23629:(B,D,t)=>{"use strict";t.d(D,{l:()=>n});const n=new(t(98573).v)("workspaceitem")},66040:(B,D,t)=>{"use strict";t.d(D,{BA:()=>w,oL:()=>u,wq:()=>v});var i=t(54460),n=t(71217),c=t(76564),e=t(76627),f=t(63016),g=t(37610),d=t(47947),y=t(22867),E=t(82040),_=t(72683),b=t(84195),O=t(63276),I=t(66190),T=t(12007),R=t(53107);const u="_GRECAPTCHA",w="google-recaptcha";let v=(()=>{class S{captchaKey(){return this.captchaKeySubject$.asObservable()}captchaMode(){return this.captchaModeSubject$.asObservable()}captchaVersion(){return this.captchaVersionSubject$.asObservable()}constructor(L,F,$,j,x){this.cookieService=L,this._document=F,this._window=$,this.configService=x,this.captchaVersionSubject$=new n.t(null),this.captchaKeySubject$=new n.t(null),this.captchaModeSubject$=new n.t(null),this.refreshCaptchaScript=()=>{this.loadRecaptchaProperties().subscribe()},this._window.nativeWindow&&(this._window.nativeWindow.refreshCaptchaScript=this.refreshCaptchaScript),this.renderer=j.createRenderer(null,null),this.configService.findByPropertyName("registration.verification.enabled").pipe((0,g.s)(1),(0,T.qD)(),(0,d.T)(Y=>Y.hasSucceeded&&Y.payload&&(0,_.hj)(Y.payload.values)&&"true"===Y.payload.values[0].toLowerCase())).pipe((0,y.n)(Y=>Y?this.loadRecaptchaProperties():c.w)).subscribe()}loadRecaptchaProperties(){const L=this.configService.findByPropertyName("google.recaptcha.key.site").pipe((0,T.qD)()),F=this.configService.findByPropertyName("google.recaptcha.version").pipe((0,T.qD)()),$=this.configService.findByPropertyName("google.recaptcha.mode").pipe((0,T.qD)());return(0,e.z)([F,$,L]).pipe((0,E.M)(([j,x,G])=>{if(this.cookieService.get("klaro-anonymous")&&this.cookieService.get("klaro-anonymous")[w]&&G.hasSucceeded&&j.hasSucceeded&&(0,_.hj)(j.payload?.values)&&(0,_.hj)(G.payload?.values)){const Y=G.payload?.values[0],V=j.payload?.values[0];let X;switch(this.captchaKeySubject$.next(Y),this.captchaVersionSubject$.next(V),V){case"v3":G.hasSucceeded&&(0,_.hj)(G.payload?.values)&&(X=this.buildCaptchaUrl(Y),this.captchaModeSubject$.next("invisible"));break;case"v2":x.hasSucceeded&&(0,_.hj)(x.payload?.values)&&(X=this.buildCaptchaUrl(),this.captchaModeSubject$.next(x.payload?.values[0]))}X&&this.loadScript(X)}}))}getRecaptchaToken(L){return this.captchaKey().pipe((0,y.n)(F=>grecaptcha.execute(F,{action:L})))}executeRecaptcha(){return(0,f.of)(grecaptcha.execute())}getRecaptchaTokenResponse(){return grecaptcha.getResponse()}buildCaptchaUrl(L){const F="https://www.google.com/recaptcha/api.js";return L?`${F}?render=${L}`:F}loadScript(L){return new Promise((F,$)=>{const j=this.renderer.createElement("script");j.type="text/javascript",j.src=L,j.text="",j.onload=F,j.onerror=$,this.renderer.appendChild(this._document.head,j)})}static#e=this.\u0275fac=function(F){return new(F||S)(R.KVO(O.O),R.KVO(i.qQ),R.KVO(I.lc),R.KVO(R._9s),R.KVO(b.ConfigurationDataService))};static#t=this.\u0275prov=R.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},65968:(B,D,t)=>{"use strict";t.d(D,{_:()=>c,i:()=>n});var i=t(83770);const n={ADD_TO_HISTORY:(0,i.N)("dspace/history/ADD_TO_HISTORY"),GET_HISTORY:(0,i.N)("dspace/history/GET_HISTORY")};class c{constructor(f){this.type=n.ADD_TO_HISTORY,this.payload={url:f}}}},10202:(B,D,t)=>{"use strict";t.d(D,{U:()=>i});var i=function(n){return n.OBJECT="object/uuid-to-self-link",n.REQUEST="get-request/href-to-uuid",n.ALTERNATIVE_OBJECT_LINK="object/alt-link-to-self-link",n}(i||{})},97072:(B,D,t)=>{"use strict";t.d(D,{H9:()=>e,Lv:()=>c,NL:()=>f,WJ:()=>n});var i=t(83770);const n={ADD:(0,i.N)("dspace/core/index/ADD"),REMOVE_BY_VALUE:(0,i.N)("dspace/core/index/REMOVE_BY_VALUE"),REMOVE_BY_SUBSTRING:(0,i.N)("dspace/core/index/REMOVE_BY_SUBSTRING")};class c{constructor(d,y,E){this.type=n.ADD,this.payload={name:d,key:y,value:E}}}class e{constructor(d,y){this.type=n.REMOVE_BY_VALUE,this.payload={name:d,value:y}}}class f{constructor(d,y){this.type=n.REMOVE_BY_SUBSTRING,this.payload={name:d,value:y}}}},59501:(B,D,t)=>{"use strict";t.d(D,{Fn:()=>T,Qc:()=>I,bS:()=>_,fW:()=>d,tJ:()=>g,vH:()=>O});var i=t(73958),n=t(72683),c=t(48891),e=t(87913),f=t(10202);const g=R=>{if((0,n.hj)(R))try{const u=new URL(R);if((0,n.hj)(u.search)){const w=u.search.split(/[?|&]/).filter(S=>(0,n.hj)(S)).filter(S=>!(S.startsWith("embed=")||S.startsWith("embed.size=")));let v="";return(0,n.hj)(w)&&(v=`?${w.join("&")}`),R=new e.t(u.origin,u.pathname,v).toString()}}catch{}return R},d=R=>{if((0,n.hj)(R))try{const u=new URL(R);if((0,n.hj)(u.search))return u.search.split(/[?|&]/).filter(w=>(0,n.hj)(w)).map(w=>w.match(/^embed.size=([^=]+)=(\d+)$/)).filter(w=>(0,n.a4)(w)&&(0,n.a4)(w[1])&&(0,n.a4)(w[2])).map(w=>({name:w[1],size:Number(w[2])}))}catch{}return[]},y=(0,i.Mz)(c.N,R=>R.index),E=(0,i.Mz)(y,R=>R[f.U.OBJECT]),_=(0,i.Mz)(y,R=>R[f.U.REQUEST]),b=(0,i.Mz)(y,R=>R[f.U.ALTERNATIVE_OBJECT_LINK]),O=R=>(0,i.Mz)(E,u=>(0,n.a4)(u)?u[R]:void 0),I=R=>(0,i.Mz)(_,u=>(0,n.a4)(u)?u[g(R)]:void 0),T=R=>(0,i.Mz)(b,u=>(0,n.a4)(u)?u[R]:void 0)},65067:(B,D,t)=>{"use strict";t.d(D,{S:()=>c});var i=t(72683),n=t(87913);class c extends n.t{constructor(f,...g){super(f,...g),this._rootElement=f,this._subRootElement=g.join("/")}get rootElement(){return this._rootElement}get subRootElement(){return this._subRootElement}getPath(f){(0,i.EA)(f)&&Array.isArray(f)&&(f=f.join("/"));let g="/"+this.toString();return(0,i.EA)(f)&&(g+="/"+f),{rootElement:this._rootElement,subRootElement:this._subRootElement,path:g}}}},8841:(B,D,t)=>{"use strict";t.d(D,{Bp:()=>I,Ce:()=>n,MI:()=>c,QZ:()=>b,X2:()=>y,Zd:()=>e,kM:()=>O,pg:()=>g,qy:()=>d,td:()=>_,v$:()=>f});var i=t(83770);const n={NEW_JSON_PATCH_ADD_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_ADD_OPERATION"),NEW_JSON_PATCH_COPY_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_COPY_OPERATION"),NEW_JSON_PATCH_MOVE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_MOVE_OPERATION"),NEW_JSON_PATCH_REMOVE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_REMOVE_OPERATION"),NEW_JSON_PATCH_REPLACE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_REPLACE_OPERATION"),COMMIT_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/COMMIT_JSON_PATCH_OPERATIONS"),ROLLBACK_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/ROLLBACK_JSON_PATCH_OPERATIONS"),FLUSH_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/FLUSH_JSON_PATCH_OPERATIONS"),FLUSH_JSON_PATCH_OPERATION:(0,i.N)("dspace/core/patch/FLUSH_JSON_PATCH_OPERATION"),START_TRANSACTION_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/START_TRANSACTION_JSON_PATCH_OPERATIONS"),DELETE_PENDING_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/DELETE_PENDING_JSON_PATCH_OPERATIONS")};class c{constructor(R,u){this.type=n.COMMIT_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:u}}}class e{constructor(R,u){this.type=n.ROLLBACK_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:u}}}class f{constructor(R,u,w){this.type=n.START_TRANSACTION_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:u,startTime:w}}}class g{constructor(R,u){this.type=n.FLUSH_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:u}}}class d{constructor(R,u,w){this.type=n.FLUSH_JSON_PATCH_OPERATION,this.payload={resourceType:R,resourceId:u,path:w}}}class y{constructor(R,u,w,v){this.type=n.NEW_JSON_PATCH_ADD_OPERATION,this.payload={resourceType:R,resourceId:u,path:w,value:v}}}class _{constructor(R,u,w,v){this.type=n.NEW_JSON_PATCH_MOVE_OPERATION,this.payload={resourceType:R,resourceId:u,from:w,path:v}}}class b{constructor(R,u,w){this.type=n.NEW_JSON_PATCH_REMOVE_OPERATION,this.payload={resourceType:R,resourceId:u,path:w}}}class O{constructor(R,u,w,v){this.type=n.NEW_JSON_PATCH_REPLACE_OPERATION,this.payload={resourceType:R,resourceId:u,path:w,value:v}}}class I{constructor(){this.type=n.DELETE_PENDING_JSON_PATCH_OPERATIONS}}},53169:(B,D,t)=>{"use strict";t.d(D,{M:()=>n});var i=t(56381);function n(c,e,f){return(0,i.v)(()=>c.has(e)&&"function"==typeof c.get(e)?c.get(e)().then(d=>f.get("default"in d?d.default:d)).catch(d=>{throw d}):null)}},9518:(B,D,t)=>{"use strict";t.d(D,{iH:()=>w,m4:()=>R});var i=t(54460),n=t(76627),c=t(63016),e=t(37610),f=t(27035),g=t(47947),d=t(86722),y=t(72683),E=t(21706),_=t(63276),b=t(98985),O=t(66190),I=t(53107),T=t(69685);const R="dsLanguage";var u=function(v){return v[v.UI=0]="UI",v[v.EPERSON=1]="EPERSON",v[v.BROWSER=2]="BROWSER",v}(u||{});let w=(()=>{class v{constructor(M,L,F,$,j,x){this._window=M,this.cookie=L,this.translate=F,this.authService=$,this.routeService=j,this.document=x,this.EPERSON_LANG_METADATA="eperson.language"}getCurrentLanguageCode(){let M=this.getLanguageCodeFromCookie();return((0,y.Im)(M)||void 0===d.c.languages.find(L=>L.code===M&&L.active))&&(M=this.translate.getLangs().includes(this.translate.getBrowserLang())?this.translate.getBrowserLang():d.c.defaultLanguage),M}getLanguageCodeList(){return(0,n.z)([this.authService.isAuthenticated(),this.authService.isAuthenticationLoaded()]).pipe((0,e.s)(1),(0,f.Z)(([L,F])=>(0,c.of)([]).pipe((0,g.T)(j=>{const x=[];return this.translate.currentLang&&x.push(...this.setQuality([this.translate.currentLang],u.UI,!1)),(0,y.hj)(j)&&x.push(...j),navigator.languages&&x.push(...this.setQuality(Object.assign([],navigator.languages),u.BROWSER,!(0,y.Im)(this.translate.currentLang))),x}))))}getLanguageCodeFromCookie(){return this.cookie.get(R)}saveLanguageCodeToCookie(M){this.cookie.set(R,M)}setCurrentLanguageCode(M){(0,y.Im)(M)&&(M=this.getCurrentLanguageCode()),this.translate.use(M),this.saveLanguageCodeToCookie(M),this.document.documentElement.lang=M}setQuality(M,L,F){const $=[];let j=0;const x=M.length>10?M.length:10;let G;switch(L){case u.EPERSON:G=2;break;case u.BROWSER:G=F?10:1;break;default:G=1}return M.forEach(Y=>{let V=Y+";q=",X=(x-j++)/x;X=M.length>10?X.toFixed(2):X,V+=X/G,$.push(V)}),$}refreshAfterChangeLanguage(){this.routeService.getCurrentUrl().pipe((0,e.s)(1)).subscribe(M=>{this._window.nativeWindow.location.href=`reload/${(new Date).getTime()}?redirect=`+encodeURIComponent(M)})}static#e=this.\u0275fac=function(L){return new(L||v)(I.KVO(O.lc),I.KVO(_.O),I.KVO(T.c$),I.KVO(E.uR),I.KVO(b.v$),I.KVO(i.qQ))};static#t=this.\u0275prov=I.jDH({token:v,factory:v.\u0275fac})}return v})()},78827:(B,D,t)=>{"use strict";t.d(D,{A:()=>b});var i=t(31635),n=t(47817),c=t(51698),e=t(72683),f=t(59400),g=t(52727),d=t(98573),y=t(2494),E=t(8857),_=t(84796);let b=class extends f.u{static#e=this.type=E.R;toString(I="."){let T=this.element;return(0,e.hj)(this.qualifier)&&(T+=I+this.qualifier),T}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([y.aK,n.autoserialize,(0,i.Sn)("design:type",d.v)],b.prototype,"type",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],b.prototype,"id",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],b.prototype,"element",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],b.prototype,"qualifier",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],b.prototype,"scopeNote",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],b.prototype,"_links",void 0),(0,i.Cg)([(0,g.nf)(_.M),(0,i.Sn)("design:type",c.c)],b.prototype,"schema",void 0),b=(0,i.Cg)([g.gV],b)},8857:(B,D,t)=>{"use strict";t.d(D,{R:()=>n});const n=new(t(98573).v)("metadatafield")},54254:(B,D,t)=>{"use strict";t.d(D,{p:()=>y});var i=t(31635),n=t(47817),c=t(59400),e=t(52727),f=t(98573),g=t(2494),d=t(84796);let y=class extends c.u{static#e=this.type=d.M;getRenderTypes(){return[this.constructor]}};(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"id",void 0),(0,i.Cg)([g.aK,n.autoserialize,(0,i.Sn)("design:type",f.v)],y.prototype,"type",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"prefix",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"namespace",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([e.gV],y)},84796:(B,D,t)=>{"use strict";t.d(D,{M:()=>n});const n=new(t(98573).v)("metadataschema")},20960:(B,D,t)=>{"use strict";t.d(D,{T:()=>e});var i=t(72683),n=t(64953),c=t(53107);let e=(()=>{class f{isVirtual(d){return(0,i.a4)(d?.authority)&&d.authority.startsWith(n.BY)}virtualValue(d){if(this.isVirtual)return d.authority.substring(d.authority.indexOf(n.BY)+n.BY.length)}static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275prov=c.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},61441:(B,D,t)=>{"use strict";t.r(D),t.d(D,{QualityAssuranceSourceDataService:()=>_});var i=t(79224),n=t(45122),c=t(25718),e=t(94937),f=t(2887),g=t(12350),d=t(9843),y=t(25744),E=t(53107);let _=(()=>{class b extends f.W{constructor(I,T,R,u,w){super("qualityassurancesources",I,T,R,u),this.requestService=I,this.rdbService=T,this.objectCache=R,this.halService=u,this.notificationsService=w,this.searchByTargetMethod="byTarget",this.findAllData=new e.H(this.linkPath,I,T,R,u,this.responseMsToLive),this.searchAllData=new g.X(this.linkPath,I,T,R,u,this.responseMsToLive)}getSources(I={},T=!0,R=!0,...u){return this.findAllData.findAll(I,T,R,...u)}clearFindAllSourceRequests(){this.requestService.setStaleByHrefSubstring("qualityassurancesources")}getSource(I,T=!0,R=!0,...u){return this.findById(I,T,R,...u)}getSourcesByTarget(I={},T=!0,R=!0,...u){return this.searchAllData.searchBy(this.searchByTargetMethod,I,T,R,...u)}static#e=this.\u0275fac=function(T){return new(T||b)(E.KVO(d.B),E.KVO(n.o),E.KVO(c.$),E.KVO(y.Y),E.KVO(i.I))};static#t=this.\u0275prov=E.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},40886:(B,D,t)=>{"use strict";t.r(D),t.d(D,{QualityAssuranceTopicDataService:()=>_});var i=t(79224),n=t(45122),c=t(25718),e=t(94937),f=t(2887),g=t(12350),d=t(9843),y=t(25744),E=t(53107);let _=(()=>{class b extends f.W{constructor(I,T,R,u,w){super("qualityassurancetopics",I,T,R,u),this.requestService=I,this.rdbService=T,this.objectCache=R,this.halService=u,this.notificationsService=w,this.searchByTargetMethod="byTarget",this.searchBySourceMethod="bySource",this.findAllData=new e.H(this.linkPath,I,T,R,u,this.responseMsToLive),this.searchData=new g.X(this.linkPath,I,T,R,u,this.responseMsToLive)}searchTopicsByTarget(I={},T=!0,R=!0,...u){return this.searchData.searchBy(this.searchByTargetMethod,I,T,R,...u)}searchTopicsBySource(I={},T=!0,R=!0,...u){return this.searchData.searchBy(this.searchBySourceMethod,I,T,R,...u)}clearFindAllTopicsRequests(){this.requestService.setStaleByHrefSubstring("qualityassurancetopics")}getTopic(I,T=!0,R=!0,...u){return this.findById(I,T,R,...u)}static#e=this.\u0275fac=function(T){return new(T||b)(E.KVO(d.B),E.KVO(n.o),E.KVO(c.$),E.KVO(y.Y),E.KVO(i.I))};static#t=this.\u0275prov=E.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},92504:(B,D,t)=>{"use strict";t.d(D,{P:()=>n});const n=new(t(98573).v)("suggestion")},77001:(B,D,t)=>{"use strict";t.r(D),t.d(D,{SuggestionDataService:()=>O});var i=t(79224),n=t(45122),c=t(99120),e=t(25718),f=t(83951),g=t(2887),d=t(12350),y=t(9843),E=t(25744),_=t(53107),b=t(27691);let O=(()=>{class I extends g.W{constructor(R,u,w,v,S,M){super("suggestions",R,u,w,v),this.requestService=R,this.rdbService=u,this.objectCache=w,this.halService=v,this.notificationsService=S,this.http=M,this.searchFindByTargetAndSourceMethod="findByTargetAndSource",this.deleteData=new f.I(this.linkPath,R,u,w,v,S,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new d.X(this.linkPath,R,u,w,v,this.responseMsToLive)}deleteSuggestion(R){return this.deleteData.delete(R)}getSuggestionsByTargetAndSource(R,u,w={},...v){return w.searchParams=[new c.x("target",R),new c.x("source",u)],this.searchData.searchBy(this.searchFindByTargetAndSourceMethod,w,!1,!0,...v)}clearSuggestionRequests(){this.requestService.setStaleByHrefSubstring(this.searchFindByTargetAndSourceMethod)}static#e=this.\u0275fac=function(u){return new(u||I)(_.KVO(y.B),_.KVO(n.o),_.KVO(e.$),_.KVO(E.Y),_.KVO(i.I),_.KVO(b.Qq))};static#t=this.\u0275prov=_.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})()},14181:(B,D,t)=>{"use strict";t.r(D),t.d(D,{SuggestionTargetDataService:()=>T});var i=t(79224),n=t(45122),c=t(99120),e=t(25718),f=t(94937),g=t(2887),d=t(12350),y=t(82114),E=t(9843),_=t(25744),b=t(53107),O=t(73958),I=t(27691);let T=(()=>{class R extends g.W{constructor(w,v,S,M,L,F,$,j){super("suggestiontargets",w,v,M,L),this.requestService=w,this.rdbService=v,this.store=S,this.objectCache=M,this.halService=L,this.notificationsService=F,this.http=$,this.comparator=j,this.linkPath="suggestiontargets",this.searchFindBySourceMethod="findBySource",this.searchFindByTargetMethod="findByTarget",this.findAllData=new f.H(this.linkPath,w,v,M,L,this.responseMsToLive),this.searchData=new d.X(this.linkPath,w,v,M,L,this.responseMsToLive)}getTargetsBySource(w,v={},S=!0,M=!0,...L){return v.searchParams=[new c.x("source",w)],this.searchBy(this.searchFindBySourceMethod,v,S,M,...L)}getTargetsByUser(w,v={},...S){return v.searchParams=[new c.x("target",w)],this.searchBy(this.searchFindByTargetMethod,v,!0,!0,...S)}getTargetById(w){return this.findById(w)}searchBy(w,v,S,M,...L){return this.searchData.searchBy(w,v,S,M,...L)}findAll(w={},v=!0,S=!0,...M){return this.findAllData.findAll(w,v,S,...M)}static#e=this.\u0275fac=function(v){return new(v||R)(b.KVO(E.B),b.KVO(n.o),b.KVO(O.il),b.KVO(e.$),b.KVO(_.Y),b.KVO(i.I),b.KVO(I.Qq),b.KVO(y.Y))};static#t=this.\u0275prov=b.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},95438:(B,D,t)=>{"use strict";t.d(D,{m:()=>T});var i=t(76627),n=t(47947),c=t(41483),e=t(37610),f=t(72683),d=t(65131),y=t(67899),E=t(89632),_=t(36705),b=t(98985),O=t(53107),I=t(95968);let T=(()=>{class R{constructor(w,v){this.routeService=w,this.router=v,this.defaultSortOptions=new E.z("dc.title",E.U.ASC),this.clearParams={}}getCurrentPagination(w,v){const S=this.routeService.getQueryParameterValue(`${w}.page`),M=this.routeService.getQueryParameterValue(`${w}.rpp`);return(0,i.z)([S,M]).pipe((0,n.T)(([L,F])=>Object.assign(new y.W,v,{currentPage:this.convertToNumeric(L,v.currentPage),pageSize:this.getBestMatchPageSize(F,v)})))}getCurrentSort(w,v,S){!S&&((0,f.Im)(v)||!(0,f.a4)(v))&&(v=this.defaultSortOptions);const M=this.routeService.getQueryParameterValue(`${w}.sd`),L=this.routeService.getQueryParameterValue(`${w}.sf`);return(0,i.z)([M,L]).pipe((0,n.T)(([F,$])=>new E.z($||v?.field,E.U[F]||v?.direction)))}getFindListOptions(w,v,S){const M=new y.W;M.currentPage=v.currentPage,M.pageSize=v.elementsPerPage;const L=this.getCurrentPagination(w,M),F=this.getCurrentSort(w,v.sort,S);return(0,i.z)([L,F]).pipe((0,c.p)(([$,j])=>(0,f.a4)($)&&(0,f.a4)(j)),(0,n.T)(([$,j])=>Object.assign(new _._,v,{sort:j,currentPage:$.currentPage,elementsPerPage:$.pageSize})))}resetPage(w){this.updateRoute(w,{page:1})}updateRoute(w,v,S,M,L){this.updateRouteWithUrl(w,[],v,S,M,L)}updateRouteWithUrl(w,v,S,M,L,F){this.getCurrentRouting(w).subscribe($=>{const j=this.getParametersWithIdName(w,$),x=this.getParametersWithIdName(w,S);if((0,f.hj)((0,d.iv)(x,j))||(0,f.hj)(M)||(0,f.hj)(this.clearParams)){const G=Object.assign({},this.clearParams,j,x,M);this.router.navigate(v,L?{queryParams:G,queryParamsHandling:"merge",fragment:`p-${w}`,...F}:{queryParams:G,queryParamsHandling:"merge",...F}),this.clearParams={}}})}clearPagination(w){const v={};v[`${w}.page`]=null,v[`${w}.rpp`]=null,v[`${w}.sf`]=null,v[`${w}.sd`]=null,Object.assign(this.clearParams,v)}getPageParam(w){return`${w}.page`}getCurrentRouting(w){return this.getFindListOptions(w,{},!0).pipe((0,e.s)(1),(0,n.T)(v=>({page:v.currentPage,pageSize:v.elementsPerPage,sortField:v.sort.field,sortDirection:v.sort.direction})))}getParametersWithIdName(w,v){const S={};return(0,f.a4)(v.page)&&(S[`${w}.page`]=`${v.page}`),(0,f.a4)(v.pageSize)&&(S[`${w}.rpp`]=`${v.pageSize}`),(0,f.a4)(v.sortField)&&(S[`${w}.sf`]=`${v.sortField}`),(0,f.a4)(v.sortDirection)&&(S[`${w}.sd`]=`${v.sortDirection}`),S}convertToNumeric(w,v){let S=v;return function g(R){return!Array.isArray(R)&&R-parseFloat(R)+1>=0}(w)&&(S=+w),S}getBestMatchPageSize(w,v){const S=this.convertToNumeric(w,v.pageSize),M=v.pageSizeOptions.map(F=>Math.abs(F-S)),L=Math.min.apply(Math,M);return v.pageSizeOptions[M.indexOf(L)]}static#e=this.\u0275fac=function(v){return new(v||R)(O.KVO(b.v$),O.KVO(I.Ix))};static#t=this.\u0275prov=O.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},39513:(B,D,t)=>{"use strict";t.d(D,{w:()=>_});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(91072),g=t(4198),d=t(98573),y=t(2494),E=t(5319);let _=class extends f.I{static#e=this.type=E.T};(0,i.Cg)([y.aK,n.autoserialize,(0,i.Sn)("design:type",d.v)],_.prototype,"type",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([(0,n.deserializeAs)("id"),(0,i.Sn)("design:type",String)],_.prototype,"uuid",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"visible",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(g.U),(0,i.Sn)("design:type",c.c)],_.prototype,"item",void 0),_=(0,i.Cg)([e.gV],_)},5319:(B,D,t)=>{"use strict";t.d(D,{T:()=>n});const n=new(t(98573).v)("profile")},12792:(B,D,t)=>{"use strict";t.r(D),t.d(D,{ResearcherProfileDataService:()=>G});var i=t(27691),n=t(63016),c=t(47947),e=t(25814),f=t(27035),g=t(72683),d=t(79224),y=t(51206),E=t(24106),_=t(45122),b=t(25718),O=t(45926),I=t(83951),T=t(2887),R=t(2868),u=t(12350),w=t(82114),v=t(17584),S=t(70210),M=t(9843),L=t(25744),F=t(12007),$=t(39513),j=t(53107),x=t(95968);let G=(()=>{class Y extends T.W{constructor(X,K,ae,Q,J,z,q,ee){super("profiles",X,K,ae,Q,1e4),this.requestService=X,this.rdbService=K,this.objectCache=ae,this.halService=Q,this.notificationsService=J,this.router=z,this.comparator=q,this.itemService=ee,this.createData=new O.V(this.linkPath,X,K,ae,Q,J,this.responseMsToLive),this.patchData=new R.n(this.linkPath,X,K,ae,Q,q,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new u.X(this.linkPath,X,K,ae,Q,this.responseMsToLive),this.deleteData=new I.I(this.linkPath,X,K,ae,Q,J,this.responseMsToLive,this.constructIdEndpoint)}findByRelatedItem(X){const K=X.firstMetadata("dspace.object.owner")?.authority;return(0,g.Im)(K)?(0,y.PM)():this.findById(K)}findRelatedItemId(X){return(X.item?X.item:this.itemService.findByHref(X._links.item.href,!1)).pipe((0,F.qD)(),(0,c.T)(ae=>ae.hasSucceeded&&ae.payload?ae.payload.id:null))}setVisibility(X,K){return this.patch(X,[{path:"/visible",op:"replace",value:K}])}createFromExternalSource(X){const K=Object.create({});let ae=new i.Lr;ae=ae.append("Content-Type","text/uri-list"),K.headers=ae;const Q=this.requestService.generateRequestId();return this.halService.getEndpoint(this.getLinkPath()).pipe((0,e.I)(z=>(0,g.a4)(z)),(0,c.T)(z=>this.buildHrefWithParams(z,[],(0,E.s)("item")))).subscribe(z=>{const q=new S.Qf(Q,z,X,K);this.requestService.send(q)}),this.rdbService.buildFromRequestUUID(Q,(0,E.s)("item"))}createFromExternalSourceAndReturnRelatedItemId(X){return this.createFromExternalSource(X).pipe((0,F.qD)(),(0,f.Z)(K=>K.hasSucceeded?this.findRelatedItemId(K.payload):(0,n.of)(null)))}create(X,...K){return(0,g.Im)(X)&&(X=new $.w),this.createData.create(X,...K)}searchBy(X,K,ae,Q,...J){return this.searchData.searchBy(X,K,ae,Q,...J)}getSearchByHref(X,K,...ae){return this.searchData.getSearchByHref(X,K,...ae)}commitUpdates(X){this.patchData.commitUpdates(X)}createPatchFromCache(X){return this.patchData.createPatchFromCache(X)}patch(X,K){return this.patchData.patch(X,K)}update(X){return this.patchData.update(X)}delete(X,K){return this.deleteData.delete(X,K)}deleteByHref(X,K){return this.deleteData.deleteByHref(X,K)}static#e=this.\u0275fac=function(K){return new(K||Y)(j.KVO(M.B),j.KVO(_.o),j.KVO(b.$),j.KVO(L.Y),j.KVO(d.I),j.KVO(x.Ix),j.KVO(w.Y),j.KVO(v.ItemDataService))};static#t=this.\u0275prov=j.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})()},84437:(B,D,t)=>{"use strict";t.d(D,{X:()=>i});var i=function(n){return n.READ="READ",n.WRITE="WRITE",n.DELETE="DELETE",n.ADD="ADD",n.REMOVE="REMOVE",n[n.WORKFLOW_STEP_1=5]="WORKFLOW_STEP_1",n[n.WORKFLOW_STEP_2=6]="WORKFLOW_STEP_2",n[n.WORKFLOW_STEP_3=7]="WORKFLOW_STEP_3",n[n.WORKFLOW_ABORT=8]="WORKFLOW_ABORT",n.DEFAULT_BITSTREAM_READ="DEFAULT_BITSTREAM_READ",n.DEFAULT_ITEM_READ="DEFAULT_ITEM_READ",n.ADMIN="ADMIN",n.WITHDRAWN_READ="WITHDRAWN_READ",n}(i||{})},14257:(B,D,t)=>{"use strict";t.d(D,{t:()=>i});var i=function(n){return n.TYPE_SUBMISSION="TYPE_SUBMISSION",n.TYPE_WORKFLOW="TYPE_WORKFLOW",n.TYPE_INHERITED="TYPE_INHERITED",n.TYPE_CUSTOM="TYPE_CUSTOM",n}(i||{})},69069:(B,D,t)=>{"use strict";t.d(D,{h:()=>I});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(53841),g=t(5469),d=t(99736),y=t(98573),E=t(2494),O=(t(84437),t(14257),t(1211));let I=class{static#e=this.type=O.O};(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"id",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"name",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"description",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"policyType",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Object)],I.prototype,"action",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"startDate",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"endDate",void 0),(0,i.Cg)([E.aK,n.autoserialize,(0,i.Sn)("design:type",y.v)],I.prototype,"type",void 0),(0,i.Cg)([(0,n.deserializeAs)(new f.a("resource-policy"),"id"),(0,i.Sn)("design:type",String)],I.prototype,"uuid",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],I.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(g.N),(0,i.Sn)("design:type",c.c)],I.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(d.U),(0,i.Sn)("design:type",c.c)],I.prototype,"group",void 0),I=(0,i.Cg)([e.gV],I)},1211:(B,D,t)=>{"use strict";t.d(D,{O:()=>n});const n=new(t(98573).v)("resourcepolicy")},80382:(B,D,t)=>{"use strict";t.d(D,{T:()=>i});var i=function(n){return n.Submitter="submitter",n.Controller="controller",n.Admin="admin",n}(i||{})},15687:(B,D,t)=>{"use strict";t.d(D,{W:()=>g});var i=t(63016),n=t(66645),c=t(8109),e=t(80382),f=t(53107);let g=(()=>{class d{constructor(E){this.collectionService=E}isSubmitter(){return this.collectionService.hasAuthorizedCollection().pipe((0,n.F)())}isController(){return(0,i.of)(!0)}isAdmin(){return(0,i.of)(!1)}checkRole(E){let _;switch(E){case e.T.Submitter:_=this.isSubmitter();break;case e.T.Controller:_=this.isController();break;case e.T.Admin:_=this.isAdmin()}return _}static#e=this.\u0275fac=function(_){return new(_||d)(f.KVO(c.CollectionDataService))};static#t=this.\u0275prov=f.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},63276:(B,D,t)=>{"use strict";t.d(D,{O:()=>e});var i=t(18447),n=t(48102),c=t(53107);let e=(()=>{class f{constructor(d){this.req=d,this.cookieSource=new i.B,this.cookies$=this.cookieSource.asObservable()}updateSource(){this.cookieSource.next(this.getAll())}static#e=this.\u0275fac=function(y){return new(y||f)(c.KVO(n.S))};static#t=this.\u0275prov=c.jDH({token:f,factory:f.\u0275fac})}return f})()},37846:(B,D,t)=>{"use strict";t.d(D,{$:()=>n});var i=t(53107);let n=(()=>{class c{static#e=this.\u0275fac=function(g){return new(g||c)};static#t=this.\u0275prov=i.jDH({token:c,factory:c.\u0275fac})}return c})()},81455:(B,D,t)=>{"use strict";t.d(D,{m:()=>c});var i=t(54460),n=t(53107);let c=(()=>{class e{constructor(g,d){this.rendererFactory=g,this.document=d}addTag(g){try{const d=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:n.gXe.None,styles:[],data:{}}),y=d.createElement("link"),E=this.document.head;if(null===E)throw new Error("<head> not found within DOCUMENT.");return Object.keys(g).forEach(_=>d.setAttribute(y,_,g[_])),d.appendChild(E,y),d}catch(d){console.error("Error within linkService: ",d)}}removeTag(g){if(g)try{const d=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:n.gXe.None,styles:[],data:{}}),y=this.document.head;if(null===y)throw new Error("<head> not found within DOCUMENT.");const E=this.document.querySelectorAll("link["+g+"]");for(const _ of E)d.removeChild(y,_)}catch(d){d instanceof Error&&console.error("Error while removing tag: "+d.message)}}static#e=this.\u0275fac=function(d){return new(d||e)(n.KVO(n._9s),n.KVO(i.qQ))};static#t=this.\u0275prov=n.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},59153:(B,D,t)=>{"use strict";t.d(D,{f:()=>n});var i=t(53107);let n=(()=>{class c{static#e=this.\u0275fac=function(g){return new(g||c)};static#t=this.\u0275prov=i.jDH({token:c,factory:c.\u0275fac})}return c})()},73799:(B,D,t)=>{"use strict";t.d(D,{$H:()=>g,HH:()=>n,Yb:()=>y,eL:()=>d,fP:()=>e,hX:()=>c,sV:()=>E});var i=t(83770);const n={SET_QUERY_PARAMETERS:(0,i.N)("dspace/core/route/SET_QUERY_PARAMETERS"),SET_PARAMETERS:(0,i.N)("dspace/core/route/SET_PARAMETERS"),ADD_QUERY_PARAMETER:(0,i.N)("dspace/core/route/ADD_QUERY_PARAMETER"),ADD_PARAMETER:(0,i.N)("dspace/core/route/ADD_PARAMETER"),SET_QUERY_PARAMETER:(0,i.N)("dspace/core/route/SET_QUERY_PARAMETER"),SET_PARAMETER:(0,i.N)("dspace/core/route/SET_PARAMETER"),RESET:(0,i.N)("dspace/core/route/RESET")};class c{constructor(b){this.type=n.SET_QUERY_PARAMETERS,this.payload=b}}class e{constructor(b){this.type=n.SET_PARAMETERS,this.payload=b}}class g{constructor(b,O){this.type=n.ADD_PARAMETER,this.payload={key:b,value:O}}}class d{constructor(b,O){this.type=n.SET_QUERY_PARAMETER,this.payload={key:b,value:O}}}class y{constructor(b,O){this.type=n.SET_PARAMETER,this.payload={key:b,value:O}}}class E{constructor(){this.type=n.RESET}}},98985:(B,D,t)=>{"use strict";t.d(D,{v$:()=>L});var i=t(95968),n=t(73958),c=t(75884),e=t.n(c),f=t(76627),g=t(47947),d=t(66645),y=t(41483),E=t(37610),_=t(72683),b=t(48891),O=t(65968);const I=(0,n.Mz)(b.N,F=>F.history);var T=t(73799),R=t(53107);const u=(0,n.Mz)(b.N,F=>(0,_.a4)(F)&&(0,_.a4)(F.route)?F.route.params:void 0);(0,n.Mz)(b.N,F=>(0,_.a4)(F)&&(0,_.a4)(F.route)?F.route.queryParams:void 0);let L=(()=>{class F{constructor(j,x,G){this.route=j,this.router=x,this.store=G,this.saveRouting()}getQueryParameterValues(j){return this.getQueryParamMap().pipe((0,g.T)(x=>[...x.getAll(j)]),(0,d.F)((x,G)=>JSON.stringify(x)===JSON.stringify(G)))}getQueryParameterValue(j){return this.getQueryParamMap().pipe((0,g.T)(x=>x.get(j)),(0,d.F)())}hasQueryParam(j){return this.getQueryParamMap().pipe((0,g.T)(x=>x.has(j)),(0,d.F)())}hasQueryParamWithValue(j,x){return this.getQueryParamMap().pipe((0,g.T)(G=>G.getAll(j).indexOf(x)>-1),(0,d.F)())}getRouteParameterValue(j){return this.store.pipe((0,n.Lt)((F=>function M(F,$){return(0,n.Mz)($,j=>{if((0,_.a4)(j))return j[F]})}(F,u))(j)))}getRouteDataValue(j){return this.route.data.pipe((0,g.T)(x=>x[j]),(0,d.F)())}getQueryParamsWithPrefix(j){return this.getQueryParamMap().pipe((0,g.T)(x=>{const G={};return x.keys.filter(Y=>Y.startsWith(j)).forEach(Y=>{G[Y]=[...x.getAll(Y)]}),G}),(0,d.F)((x,G)=>JSON.stringify(x)===JSON.stringify(G)))}getQueryParamMap(){return this.route.queryParamMap.pipe((0,g.T)(j=>{const x=this.router.routerState.snapshot;return e()(j,x.root.queryParamMap)?j:x.root.queryParamMap}))}saveRouting(){this.router.events.pipe((0,y.p)(j=>j instanceof i.wF)).subscribe(j=>{this.store.dispatch(new O._(j.urlAfterRedirects))})}getRouteParams(){let j=this.route;for(;j.firstChild;)j=j.firstChild;return j.params}getHistory(){return this.store.pipe((0,n.Lt)(I))}getCurrentUrl(){return this.getHistory().pipe((0,g.T)(j=>j[j.length-1]||""))}getPreviousUrl(){return this.getHistory().pipe((0,g.T)(j=>j[j.length-2]||""))}addParameter(j,x){this.store.dispatch(new T.$H(j,x))}setParameter(j,x){this.store.dispatch(new T.Yb(j,x))}setQueryParameter(j,x){this.store.dispatch(new T.eL(j,x))}setCurrentRouteInfo(){(0,f.z)(this.getRouteParams(),this.route.queryParams).pipe((0,E.s)(1)).subscribe(([j,x])=>{this.store.dispatch(new T.fP(j)),this.store.dispatch(new T.hX(x))})}getParamsExceptValue(j,x){return this.route.queryParams.pipe((0,g.T)(G=>{const Y=Object.assign({},G),V=Y[j];return V===x||void 0===x?delete Y[j]:Array.isArray(V)&&V.includes(x)&&(Y[j]=V.filter(X=>X!==x),0===Y[j].length&&delete Y[j]),Y}))}getParamsWithAdditionalValue(j,x){return this.route.queryParams.pipe((0,g.T)(G=>{const Y=Object.assign({},G),V=Y[j];return Y[j]=void 0===V?x:Array.isArray(V)?[...V,x]:[V,x],Y}))}static#e=this.\u0275fac=function(x){return new(x||F)(R.KVO(i.nX),R.KVO(i.Ix),R.KVO(n.il))};static#t=this.\u0275prov=R.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})()},86779:(B,D,t)=>{"use strict";t.d(D,{w:()=>c});var i=t(48102),n=t(53107);let c=(()=>{class e{constructor(g){this.response=g}setStatus(g,d){return this.response&&(this.response.statusCode=g,d&&(this.response.statusMessage=d)),this}setUnauthorized(g="Unauthorized"){return this.setStatus(401,g)}setForbidden(g="Forbidden"){return this.setStatus(403,g)}setNotFound(g="Not found"){return this.setStatus(404,g)}setInternalServerError(g="Internal Server Error"){return this.setStatus(500,g)}setHeader(g,d){this.response&&this.response.setHeader(g,d)}static#e=this.\u0275fac=function(d){return new(d||e)(n.KVO(i.C,8))};static#t=this.\u0275prov=n.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},66190:(B,D,t)=>{"use strict";t.d(D,{lc:()=>n});const n=new(t(53107).nKC)("NativeWindowService",{providedIn:"root",factory:function e(){return new c}});class c{get nativeWindow(){return typeof window<"u"&&window}}},37330:(B,D,t)=>{"use strict";t.d(D,{QD:()=>E,ci:()=>b,gM:()=>O});var i=t(53107),n=t(76627),c=t(71894),e=t(41483),f=t(47947),g=t(31829),d=t(93911);new i.nKC("redirectOn4xx",{providedIn:"root",factory:()=>E});const E=(I,T)=>R=>R.pipe((0,c.E)(T.isAuthenticated()),(0,e.p)(([u,w])=>{if(u.hasFailed){if(404===u.statusCode||422===u.statusCode)return I.navigateByUrl((0,g.EX)(),{skipLocationChange:!0}),!1;if(403===u.statusCode||401===u.statusCode)return w?(I.navigateByUrl((0,g.bZ)(),{skipLocationChange:!0}),!1):(T.setRedirectUrl(I.url),I.navigateByUrl("login"),!1)}return!0}),(0,f.T)(([u])=>u)),b=(I,T,R)=>u=>(0,n.z)(u,T.isAuthenticated()).pipe((0,f.T)(([w,v])=>!!w.some(S=>!0===S)||(v?I.parseUrl((0,g.bZ)()):(T.setRedirectUrl(R),I.parseUrl("login"))))),O=(I,T)=>R=>R.pipe((0,f.T)(u=>{const w={redirect:encodeURIComponent(T)};return u||I.createUrlTree([(0,d.KN)()],{queryParams:w})}))},20272:(B,D,t)=>{"use strict";t.d(D,{c:()=>i});var i=function(n){return n.Known="KNOWN",n.Unknown="UNKNOWN",n.Supported="SUPPORTED",n}(i||{})},20466:(B,D,t)=>{"use strict";t.d(D,{v:()=>E});var i=t(31635),n=t(47817),c=t(52727),e=t(53841),f=t(2494),g=t(29632),y=(t(20272),t(98573));let E=class{static#e=this.type=g.a};(0,i.Cg)([f.aK,n.autoserialize,(0,i.Sn)("design:type",y.v)],E.prototype,"type",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"shortDescription",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"description",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"mimetype",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"supportLevel",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Boolean)],E.prototype,"internal",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Array)],E.prototype,"extensions",void 0),(0,i.Cg)([(0,n.deserializeAs)(new e.a("bitstream-format"),"id"),(0,i.Sn)("design:type",String)],E.prototype,"uuid",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"id",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([c.gV],E)},29632:(B,D,t)=>{"use strict";t.d(D,{a:()=>n});const n=new(t(98573).v)("bitstreamformat")},56738:(B,D,t)=>{"use strict";t.d(D,{_:()=>E});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(18384),g=t(29632),d=t(91809),y=t(47587);let E=class extends y.M{static#e=this.type=f.e;getParentLinkKey(){return"format"}};(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],E.prototype,"sizeBytes",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"description",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"bundleName",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.e,!1,"thumbnail"),(0,i.Sn)("design:type",c.c)],E.prototype,"thumbnail",void 0),(0,i.Cg)([(0,e.nf)(g.a,!1,"format"),(0,i.Sn)("design:type",c.c)],E.prototype,"format",void 0),(0,i.Cg)([(0,e.nf)(d.d),(0,i.Sn)("design:type",c.c)],E.prototype,"bundle",void 0),E=(0,i.Cg)([e.gV,(0,n.inheritSerialization)(y.M)],E)},18384:(B,D,t)=>{"use strict";t.d(D,{e:()=>n});const n=new(t(98573).v)("bitstream")},35397:(B,D,t)=>{"use strict";t.d(D,{o:()=>e});var i=t(31635),n=t(47817),c=t(91072);class e extends c.I{}(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],e.prototype,"id",void 0)},59379:(B,D,t)=>{"use strict";t.d(D,{z:()=>n});const n=new(t(98573).v)("browse")},28083:(B,D,t)=>{"use strict";t.d(D,{N:()=>E});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(18384),g=t(91809),d=t(47587),y=t(4198);let E=class extends d.M{static#e=this.type=g.d};(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.e),(0,i.Sn)("design:type",c.c)],E.prototype,"primaryBitstream",void 0),(0,i.Cg)([(0,e.nf)(f.e,!0),(0,i.Sn)("design:type",c.c)],E.prototype,"bitstreams",void 0),(0,i.Cg)([(0,e.nf)(y.U),(0,i.Sn)("design:type",c.c)],E.prototype,"item",void 0),E=(0,i.Cg)([e.gV,(0,n.inheritSerialization)(d.M)],E)},91809:(B,D,t)=>{"use strict";t.d(D,{d:()=>n});const n=new(t(98573).v)("bundle")},58751:(B,D,t)=>{"use strict";t.d(D,{p:()=>O});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(1211),g=t(2494),d=t(18384),y=t(73069),E=t(97054),_=t(47587),b=t(10484);let O=class extends _.M{static#e=this.type=y.n;get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get dcLicense(){return this.firstMetadataValue("dc.rights.license")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}};(0,i.Cg)([g.aK,n.autoserialize,(0,i.Sn)("design:type",Number)],O.prototype,"archivedItemsCount",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],O.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(b.m),(0,i.Sn)("design:type",c.c)],O.prototype,"license",void 0),(0,i.Cg)([(0,e.nf)(d.e),(0,i.Sn)("design:type",c.c)],O.prototype,"logo",void 0),(0,i.Cg)([(0,e.nf)(f.O,!0),(0,i.Sn)("design:type",c.c)],O.prototype,"defaultAccessConditions",void 0),(0,i.Cg)([(0,e.nf)(E.G,!1),(0,i.Sn)("design:type",c.c)],O.prototype,"parentCommunity",void 0),O=(0,i.Cg)([e.gV,(0,n.inheritSerialization)(_.M)],O)},73069:(B,D,t)=>{"use strict";t.d(D,{n:()=>n});const n=new(t(98573).v)("collection")},82376:(B,D,t)=>{"use strict";t.d(D,{E:()=>_});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(2494),g=t(18384),d=t(73069),y=t(97054),E=t(47587);let _=class extends E.M{static#e=this.type=y.G;get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}};(0,i.Cg)([f.aK,n.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"archivedItemsCount",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(g.e),(0,i.Sn)("design:type",c.c)],_.prototype,"logo",void 0),(0,i.Cg)([(0,e.nf)(d.n,!0),(0,i.Sn)("design:type",c.c)],_.prototype,"collections",void 0),(0,i.Cg)([(0,e.nf)(y.G,!0),(0,i.Sn)("design:type",c.c)],_.prototype,"subcommunities",void 0),(0,i.Cg)([(0,e.nf)(y.G,!1),(0,i.Sn)("design:type",c.c)],_.prototype,"parentCommunity",void 0),_=(0,i.Cg)([e.gV,(0,n.inheritSerialization)(E.M)],_)},97054:(B,D,t)=>{"use strict";t.d(D,{G:()=>n});const n=new(t(98573).v)("community")},977:(B,D,t)=>{"use strict";t.d(D,{l:()=>i});var i=function(n){return n[n.CF_ACCEPTED=600]="CF_ACCEPTED",n[n.CF_UNCERTAIN=500]="CF_UNCERTAIN",n[n.CF_AMBIGUOUS=400]="CF_AMBIGUOUS",n[n.CF_NOTFOUND=300]="CF_NOTFOUND",n[n.CF_FAILED=200]="CF_FAILED",n[n.CF_REJECTED=100]="CF_REJECTED",n[n.CF_NOVALUE=0]="CF_NOVALUE",n[n.CF_UNSET=-1]="CF_UNSET",n}(i||{})},78745:(B,D,t)=>{"use strict";t.d(D,{f:()=>n});var i=t(72683);class n{Serialize(e){return(0,i.Im)(e)?"all":e}Deserialize(e){return"all"===e?"":e}}},9815:(B,D,t)=>{"use strict";t.d(D,{Z:()=>_,s:()=>E});var i=t(31635),n=t(47817),c=t(52727),e=t(91072),f=t(2494),g=t(98573);const d=new g.v("contentsource");var y=t(78745),E=function(b){return b.None="NONE",b.Metadata="METADATA_ONLY",b.MetadataAndRef="METADATA_AND_REF",b.MetadataAndBitstreams="METADATA_AND_BITSTREAMS",b}(E||{});let _=class extends e.I{constructor(){super(...arguments),this.type=d,this.harvestType=E.None}static#e=this.type=d};(0,i.Cg)([f.aK,(0,i.Sn)("design:type",g.v)],_.prototype,"type",void 0),(0,i.Cg)([(0,n.deserializeAs)("self"),(0,i.Sn)("design:type",String)],_.prototype,"uuid",void 0),(0,i.Cg)([(0,n.autoserializeAs)("oai_source"),(0,i.Sn)("design:type",String)],_.prototype,"oaiSource",void 0),(0,i.Cg)([(0,n.deserializeAs)(new y.f,"oai_set_id"),(0,n.serializeAs)(new y.f,"oai_set_id"),(0,i.Sn)("design:type",String)],_.prototype,"oaiSetId",void 0),(0,i.Cg)([(0,n.autoserializeAs)("metadata_config_id"),(0,i.Sn)("design:type",String)],_.prototype,"metadataConfigId",void 0),(0,i.Cg)([(0,n.autoserializeAs)("harvest_type"),(0,i.Sn)("design:type",Object)],_.prototype,"harvestType",void 0),(0,i.Cg)([(0,n.autoserializeAs)("harvest_status"),(0,i.Sn)("design:type",String)],_.prototype,"harvestStatus",void 0),(0,i.Cg)([(0,n.autoserializeAs)("harvest_start_time"),(0,i.Sn)("design:type",String)],_.prototype,"harvestStartTime",void 0),(0,i.Cg)([(0,n.autoserializeAs)("last_harvested"),(0,i.Sn)("design:type",String)],_.prototype,"lastHarvested",void 0),(0,i.Cg)([(0,n.autoserializeAs)("harvest_message"),(0,i.Sn)("design:type",String)],_.prototype,"message",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([c.gV],_)},71526:(B,D,t)=>{"use strict";t.d(D,{o:()=>i});var i=function(n){return n.Any="undefined",n.ItemPage="itemPage",n.Search="search",n.Workflow="workflow",n.Workspace="workspace",n.SupervisedItems="supervisedWorkspace",n.AdminMenu="adminMenu",n.EntitySearchModalWithNameVariants="EntitySearchModalWithNameVariants",n.EntitySearchModal="EntitySearchModal",n.AdminSearch="adminSearch",n.AdminWorkflowSearch="adminWorkflowSearch",n.SideBarSearchModal="sideBarSearchModal",n.SideBarSearchModalCurrent="sideBarSearchModalCurrent",n.MyDSpaceArchived="mydspaceArchived",n.MyDSpaceWorkspace="mydspaceWorkspace",n.MyDSpaceWorkflow="mydspaceWorkflow",n.MyDSpaceDeclined="mydspaceDeclined",n.MyDSpaceApproved="mydspaceApproved",n.MyDSpaceWaitingController="mydspaceWaitingController",n.MyDSpaceValidation="mydspaceValidation",n.Bitstream="bitstream",n.CoarNotify="coarNotify",n}(i||{})},86076:(B,D,t)=>{"use strict";function i(n,c){n.getValue()!==c&&n.next(c)}t.d(D,{S:()=>i})},69509:(B,D,t)=>{"use strict";t.d(D,{W:()=>i});var i=function(n){return n.BUNDLE="BUNDLE",n.BITSTREAM="BITSTREAM",n.ITEM="ITEM",n.COLLECTION="COLLECTION",n.COMMUNITY="COMMUNITY",n.DSPACEOBJECT="DSPACEOBJECT",n}(i||{})},47587:(B,D,t)=>{"use strict";t.d(D,{M:()=>b});var i=t(31635),n=t(47817),c=t(72683),e=t(59400),f=t(52727),g=t(2494),d=t(57905),y=t(64953),E=t(84562),_=t(98573);let b=class extends e.u{static#e=this.type=d.X;get self(){return this._links.self.href}set self(I){this._links.self={href:I}}get name(){return(0,c.b0)(this._name)?this.firstMetadataValue("dc.title"):this._name}set name(I){(0,c.a4)(this.firstMetadata("dc.title"))&&(this.firstMetadata("dc.title").value=I),this._name=I}get metadataAsList(){return E.O.toViewModelList(this.metadata)}allMetadata(I,T){return E.O.all(this.metadata,I,T)}allMetadataValues(I,T){return E.O.allValues(this.metadata,I,T)}firstMetadata(I,T){return E.O.first(this.metadata,I,T)}firstMetadataValue(I,T){return E.O.firstValue(this.metadata,I,T)}hasMetadata(I,T){return E.O.has(this.metadata,I,T)}findMetadataSortedByPlace(I){return this.allMetadata(I).sort((T,R)=>(0,c.Tn)(T.place)&&(0,c.Tn)(R.place)?0:(0,c.Tn)(T.place)?-1:(0,c.Tn)(R.place)?1:T.place-R.place)}getRenderTypes(){return[this.constructor]}setMetadata(I,T,...R){const u=R.map((w,v)=>{const S=new y.vD;return S.value=w,S.authority=null,S.confidence=-1,S.language=T||null,S.place=v,S});(0,c.Tn)(this.metadata)&&(this.metadata=Object.create({})),this.metadata[I]=u}removeMetadata(I){delete this.metadata[I]}};(0,i.Cg)([g.aK,(0,n.deserializeAs)("name"),(0,i.Sn)("design:type",String)],b.prototype,"_name",void 0),(0,i.Cg)([g.aK,(0,n.autoserializeAs)(String,"uuid"),(0,i.Sn)("design:type",String)],b.prototype,"id",void 0),(0,i.Cg)([(0,n.autoserializeAs)(String),(0,i.Sn)("design:type",String)],b.prototype,"uuid",void 0),(0,i.Cg)([g.aK,n.autoserialize,(0,i.Sn)("design:type",_.v)],b.prototype,"type",void 0),(0,i.Cg)([g.aK,(0,n.autoserializeAs)(y.Of),(0,i.Sn)("design:type",y.Cr)],b.prototype,"metadata",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],b.prototype,"_links",void 0),b=(0,i.Cg)([f.gV],b)},57905:(B,D,t)=>{"use strict";t.d(D,{X:()=>n});const n=new(t(98573).v)("dspaceobject")},95184:(B,D,t)=>{"use strict";t.d(D,{$:()=>E});var i=t(31635),n=t(47817),c=t(59400),e=t(52727),f=t(2494),g=t(98573);const d=new g.v("externalSourceEntry");var y=t(64953);let E=class extends c.u{static#e=this.type=d;getRenderTypes(){return[this.constructor]}};(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"id",void 0),(0,i.Cg)([f.aK,n.autoserialize,(0,i.Sn)("design:type",g.v)],E.prototype,"type",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"display",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"value",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"externalSource",void 0),(0,i.Cg)([(0,n.autoserializeAs)(y.Of),(0,i.Sn)("design:type",y.Cr)],E.prototype,"metadata",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([e.gV],E)},71046:(B,D,t)=>{"use strict";t.d(D,{B:()=>_});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(91072),g=t(2494),d=t(98573);const y=new d.v("externalsource");var E=t(62273);let _=class extends f.I{static#e=this.type=y};(0,i.Cg)([g.aK,n.autoserialize,(0,i.Sn)("design:type",d.v)],_.prototype,"type",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"name",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"hierarchical",void 0),(0,i.Cg)([(0,e.nf)(E.N,!0),(0,i.Sn)("design:type",c.c)],_.prototype,"entityTypes",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([e.gV],_)},9767:(B,D,t)=>{"use strict";t.d(D,{E:()=>y});var i=t(37610),n=t(47947),c=t(72683),e=t(21706),f=t(66190),g=t(87913),d=t(53107);let y=(()=>{class E{constructor(b,O){this._window=b,this.authService=O}retrieveFileDownloadLink(b){return this.authService.getShortlivedToken().pipe((0,i.s)(1),(0,n.T)(O=>(0,c.a4)(O)?new g.t(b,`?authentication-token=${O}`).toString():b))}getFileNameFromResponseContentDisposition(b){const O=b.headers.get("content-disposition")||"";return((/filename="([^;]+)"/gi.exec(O)||[])[1]||"untitled").trim().replace(/\.[^/.]+$/,"")}static#e=this.\u0275fac=function(O){return new(O||E)(d.KVO(f.lc),d.KVO(e.uR))};static#t=this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},25389:(B,D,t)=>{"use strict";t.d(D,{P:()=>y});var i=t(31635),n=t(47817),c=t(52727),e=t(2494),f=t(53275),g=t(42578),d=t(98573);let y=class extends g.o{constructor(){super(...arguments),this.type=f.z}static#e=this.type=f.z;get self(){return this._links.self.href}getRenderType(){return this.dataType}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",d.v)],y.prototype,"type",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([c.gV,(0,n.inheritSerialization)(g.o)],y)},53275:(B,D,t)=>{"use strict";t.d(D,{z:()=>n});const n=new(t(98573).v)("flatBrowse")},25744:(B,D,t)=>{"use strict";t.d(D,{Y:()=>R});var i=t(82040),n=t(41483),c=t(47947),e=t(37610),f=t(22867),g=t(30593),d=t(66645),y=t(72683),E=t(45122),_=t(70210),b=t(9843),O=t(73078),I=t(12007),T=t(53107);let R=(()=>{class u{constructor(v,S){this.requestService=v,this.rdbService=S}getRootHref(){return(new O.F).toString()}getRootEndpointMap(){return this.getEndpointMapAt(this.getRootHref())}getEndpointMapAt(v){const S=new _.ld(this.requestService.generateRequestId(),v);return this.requestService.send(S,!0),this.rdbService.buildFromHref(v).pipe((0,i.M)(M=>{(0,y.a4)(M)&&M.isStale&&this.getEndpointMapAt(v)}),(0,n.p)(M=>!M.isStale),(0,I.qD)(),(0,c.T)(M=>{if((0,y.a4)(M.payload))return M.payload._links;console.warn(`No _links section found at ${v}`)}))}getEndpoint(v,S){const M=v.split("/").filter(L=>(0,y.hj)(L));return this.getEndpointAt(S||this.getRootHref(),...M).pipe((0,e.s)(1))}getEndpointAt(v,...S){if((0,y.Im)(S))throw new Error("cant't fetch the URL without the HAL link names");const M=this.getEndpointMapAt(v).pipe((0,c.T)(L=>{const F=S[0];if((0,y.a4)(L)&&(0,y.a4)(L[F]))return L[F].href;throw new Error(`${JSON.stringify(L)} doesn't contain the link ${F}`)}));return 1===S.length?M.pipe((0,e.s)(1)):M.pipe((0,f.n)(L=>this.getEndpointAt(L,...S.slice(1))),(0,e.s)(1))}isEnabledOnRestApi(v){return this.getRootEndpointMap().pipe((0,c.T)(S=>(0,y.hj)(S[v])),(0,g.Z)(void 0),(0,d.F)())}static#e=this.\u0275fac=function(S){return new(S||u)(T.KVO(b.B),T.KVO(E.o))};static#t=this.\u0275prov=T.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},97131:(B,D,t)=>{"use strict";t.d(D,{s:()=>c});var i=t(31635),n=t(47817);class c{}(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],c.prototype,"_links",void 0)},60171:(B,D,t)=>{"use strict";t.d(D,{R:()=>E});var i=t(31635),n=t(47817),c=t(21894),e=t(52727),f=t(2494),g=t(35397),d=t(70745),y=t(98573);let E=class extends g.o{constructor(){super(...arguments),this.type=d.L}static#e=this.type=d.L;get self(){return this._links.self.href}getRenderType(){return c.O.Hierarchy}};(0,i.Cg)([f.aK,(0,i.Sn)("design:type",y.v)],E.prototype,"type",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"facetType",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"vocabulary",void 0),(0,i.Cg)([(0,n.autoserializeAs)("metadata"),(0,i.Sn)("design:type",Array)],E.prototype,"metadataKeys",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([e.gV,(0,n.inheritSerialization)(g.o)],E)},70745:(B,D,t)=>{"use strict";t.d(D,{L:()=>n});const n=new(t(98573).v)("hierarchicalBrowse")},73171:(B,D,t)=>{"use strict";t.d(D,{S:()=>y});var i=t(31635),n=t(47817),c=t(52727),e=t(53841),f=t(2494),g=t(98573),d=t(62273);let y=class{static#e=this.type=d.N};(0,i.Cg)([f.aK,n.autoserialize,(0,i.Sn)("design:type",g.v)],y.prototype,"type",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"label",void 0),(0,i.Cg)([(0,n.deserializeAs)(new e.a(y.type.value),"id"),(0,i.Sn)("design:type",String)],y.prototype,"uuid",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([c.gV],y)},62273:(B,D,t)=>{"use strict";t.d(D,{N:()=>n,k:()=>c});const n=new(t(98573).v)("entitytype"),c="none"},98680:(B,D,t)=>{"use strict";t.d(D,{F:()=>_});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(53841),g=t(2494),d=t(98573),y=t(62273),E=t(54862);let _=class{static#e=this.type=E.U};(0,i.Cg)([g.aK,n.autoserialize,(0,i.Sn)("design:type",d.v)],_.prototype,"type",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"label",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([(0,n.deserializeAs)(new f.a(_.type.value),"id"),(0,i.Sn)("design:type",String)],_.prototype,"uuid",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"leftwardType",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"leftMaxCardinality",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"leftMinCardinality",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"rightwardType",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"rightMaxCardinality",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"rightMinCardinality",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(y.N),(0,i.Sn)("design:type",c.c)],_.prototype,"leftType",void 0),(0,i.Cg)([(0,e.nf)(y.N),(0,i.Sn)("design:type",c.c)],_.prototype,"rightType",void 0),_=(0,i.Cg)([e.gV],_)},54862:(B,D,t)=>{"use strict";t.d(D,{U:()=>n});const n=new(t(98573).v)("relationshiptype")},31117:(B,D,t)=>{"use strict";t.d(D,{b:()=>b});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(53841),g=t(2494),d=t(4198),y=t(98573),E=t(81659),_=t(54862);let b=class{static#e=this.type=E.X};(0,i.Cg)([g.aK,n.autoserialize,(0,i.Sn)("design:type",y.v)],b.prototype,"type",void 0),(0,i.Cg)([(0,n.deserializeAs)(new f.a(b.type.value),"id"),(0,i.Sn)("design:type",String)],b.prototype,"uuid",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],b.prototype,"id",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],b.prototype,"leftPlace",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],b.prototype,"rightPlace",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],b.prototype,"leftwardValue",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],b.prototype,"rightwardValue",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],b.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(d.U),(0,i.Sn)("design:type",c.c)],b.prototype,"leftItem",void 0),(0,i.Cg)([(0,e.nf)(d.U),(0,i.Sn)("design:type",c.c)],b.prototype,"rightItem",void 0),(0,i.Cg)([(0,e.nf)(_.U),(0,i.Sn)("design:type",c.c)],b.prototype,"relationshipType",void 0),b=(0,i.Cg)([e.gV],b)},81659:(B,D,t)=>{"use strict";t.d(D,{X:()=>n});const n=new(t(98573).v)("relationship")},84632:(B,D,t)=>{"use strict";t.d(D,{b:()=>d});var i=t(31635),n=t(47817),c=t(52727),e=t(2494),f=t(98573);const g=new f.v("itemrequest");let d=class{static#e=this.type=g};(0,i.Cg)([e.aK,n.autoserialize,(0,i.Sn)("design:type",f.v)],d.prototype,"type",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],d.prototype,"token",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Boolean)],d.prototype,"allfiles",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],d.prototype,"requestEmail",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],d.prototype,"requestName",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],d.prototype,"requestMessage",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],d.prototype,"requestDate",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Boolean)],d.prototype,"acceptRequest",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],d.prototype,"decisionDate",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],d.prototype,"expires",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],d.prototype,"itemId",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],d.prototype,"bitstreamId",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],d.prototype,"_links",void 0),d=(0,i.Cg)([c.gV],d)},47376:(B,D,t)=>{"use strict";t.d(D,{q:()=>R});var i=t(31635),n=t(47817),c=t(51698),e=t(24308),f=t(72683),g=t(35551),d=t(52727),y=t(18384),E=t(91809),_=t(73069),b=t(47587),O=t(4198),I=t(81659),T=t(41675);let R=class extends b.M{static#e=this.type=O.U;getRenderTypes(){const w=this.firstMetadataValue("dspace.entity.type");return(0,f.Im)(w)?super.getRenderTypes():[w,...super.getRenderTypes()]}getParentLinkKey(){return"owningCollection"}};(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"handle",void 0),(0,i.Cg)([(0,n.deserializeAs)(Date),(0,i.Sn)("design:type",Date)],R.prototype,"lastModified",void 0),(0,i.Cg)([(0,n.autoserializeAs)(Boolean,"inArchive"),(0,i.Sn)("design:type",Boolean)],R.prototype,"isArchived",void 0),(0,i.Cg)([(0,n.autoserializeAs)(Boolean,"discoverable"),(0,i.Sn)("design:type",Boolean)],R.prototype,"isDiscoverable",void 0),(0,i.Cg)([(0,n.autoserializeAs)(Boolean,"withdrawn"),(0,i.Sn)("design:type",Boolean)],R.prototype,"isWithdrawn",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],R.prototype,"_links",void 0),(0,i.Cg)([(0,d.nf)(_.n),(0,i.Sn)("design:type",c.c)],R.prototype,"owningCollection",void 0),(0,i.Cg)([(0,d.nf)(T.x),(0,i.Sn)("design:type",c.c)],R.prototype,"version",void 0),(0,i.Cg)([(0,d.nf)(E.d,!0),(0,i.Sn)("design:type",c.c)],R.prototype,"bundles",void 0),(0,i.Cg)([(0,d.nf)(I.X,!0),(0,i.Sn)("design:type",c.c)],R.prototype,"relationships",void 0),(0,i.Cg)([(0,d.nf)(y.e,!1,"thumbnail"),(0,i.Sn)("design:type",c.c)],R.prototype,"thumbnail",void 0),(0,i.Cg)([(0,d.nf)(e.E),(0,i.Sn)("design:type",c.c)],R.prototype,"accessStatus",void 0),(0,i.Cg)([(0,d.nf)(g.f,!1,"identifiers"),(0,i.Sn)("design:type",c.c)],R.prototype,"identifiers",void 0),R=(0,i.Cg)([d.gV,(0,n.inheritSerialization)(b.M)],R)},4198:(B,D,t)=>{"use strict";t.d(D,{U:()=>n});const n=new(t(98573).v)("item")},10484:(B,D,t)=>{"use strict";t.d(D,{m:()=>n});const n=new(t(98573).v)("license")},14320:(B,D,t)=>{"use strict";t.d(D,{y:()=>c});var i=t(47376),n=t(38706);class c extends i.q{constructor(f){super(),this.virtualMetadata=f}get itemType(){return this.firstMetadataValue("dspace.entity.type")}get representationType(){return n.d.Item}getValue(){return this.virtualMetadata.value}}},38706:(B,D,t)=>{"use strict";t.d(D,{d:()=>i});var i=function(n){return n.None="none",n.Item="item",n.AuthorityControlled="authority_controlled",n.PlainText="plain_text",n.BrowseLink="browse_link",n}(i||{})},72162:(B,D,t)=>{"use strict";t.d(D,{Q:()=>e});var i=t(72683),n=t(64953),c=t(38706);class e extends n.vD{constructor(g,d){super(),this.itemType=g,this.browseDefinition=d}get representationType(){return(0,i.a4)(this.authority)?c.d.AuthorityControlled:(0,i.a4)(this.browseDefinition)?c.d.BrowseLink:c.d.PlainText}getValue(){return this.value}}},64953:(B,D,t)=>{"use strict";t.d(D,{BY:()=>e,Cr:()=>f,Of:()=>y,vD:()=>g});var i=t(31635),n=t(47817),c=t(30661);const e="virtual::";class f{}class g{constructor(){this.uuid=(0,c.A)()}}(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],g.prototype,"language",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],g.prototype,"value",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],g.prototype,"place",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],g.prototype,"authority",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],g.prototype,"confidence",void 0);const y={Serialize(E){const _={};return Object.keys(E).forEach(b=>{_[b]=(0,n.Serialize)(E[b],g)}),_},Deserialize(E){const _={};return Object.keys(E).forEach(b=>{_[b]=(0,n.Deserialize)(E[b],g)}),_}}},84562:(B,D,t)=>{"use strict";t.d(D,{O:()=>d});var i=t(59842),n=t.n(i),c=t(41631),e=t.n(c),f=t(72683),g=t(64953);class d{static all(E,_,b){const O=E instanceof Array?E:[E],I=[];for(const T of O){for(const R of d.resolveKeys(T,_)){const u=T[R];if(u)for(const w of u)d.valueMatches(w,b)&&I.push(w)}if(!(0,f.Im)(I))return I}return I}static allValues(E,_,b){return d.all(E,_,b).map(O=>O.value)}static first(E,_,b){const O=E instanceof Array?E:[E];for(const I of O)for(const T of d.resolveKeys(I,_)){const R=I[T];if(R)return R.find(u=>d.valueMatches(u,b))}}static firstValue(E,_,b){const O=d.first(E,_,b);return(0,f.b0)(O)?void 0:O.value}static has(E,_,b){return(0,f.EA)(d.first(E,_,b))}static valueMatches(E,_){if(!_)return!0;if(_.language&&_.language!==E.language)return!1;if(_.authority&&_.authority!==E.authority)return!1;if(_.value){let b=_.value,O=E.value;return _.ignoreCase&&(b=_.value.toLowerCase(),O=E.value.toLowerCase()),_.substring?O.includes(b):O===b}return!0}static resolveKeys(E={},_){const b=_ instanceof Array?_:[_],O=[];for(const I of b)if(I.includes("*")){const T=new RegExp("^"+I.replace(/\./g,"\\.").replace(/\*/g,".*")+"$");for(const R of Object.keys(E))!O.includes(R)&&T.test(R)&&O.push(R)}else E.hasOwnProperty(I)&&!O.includes(I)&&O.push(I);return O}static toViewModelList(E){let _=[];return Object.keys(E).sort().forEach(b=>{const O=E[b].map((I,T)=>Object.assign({},I,{order:T,key:b}));_=[..._,...O]}),_}static toMetadataMap(E){const _={},b=n()(E,O=>O.key);return Object.keys(b).sort().forEach(O=>{const I=e()(b[O],["order"]);_[O]=I.map(T=>{const R=Object.assign(new g.vD,T);return delete R.order,delete R.key,R})}),_}static setFirstValue(E,_,b){(0,f.hj)(E[_])?E[_][0].value=b:E[_]=[Object.assign(new g.vD,{value:b})]}}},42578:(B,D,t)=>{"use strict";t.d(D,{o:()=>f});var i=t(31635),n=t(47817),e=(t(21894),t(35397));let f=class extends e.o{};(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Array)],f.prototype,"sortOptions",void 0),(0,i.Cg)([(0,n.autoserializeAs)("order"),(0,i.Sn)("design:type",String)],f.prototype,"defaultSortOrder",void 0),(0,i.Cg)([(0,n.autoserializeAs)("metadata"),(0,i.Sn)("design:type",Array)],f.prototype,"metadataKeys",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"dataType",void 0),f=(0,i.Cg)([(0,n.inheritSerialization)(e.o)],f)},12007:(B,D,t)=>{"use strict";t.d(D,{f6:()=>w,F3:()=>u,bD:()=>M,v7:()=>ae,Hz:()=>Y,Jq:()=>J,D4:()=>K,qD:()=>L,GD:()=>z,yd:()=>$,ak:()=>x,QQ:()=>G,Ar:()=>V,o5:()=>j,W8:()=>S,Bo:()=>v,LB:()=>ee,qn:()=>q,jY:()=>Q});var i=t(53107),n=t(69372),c=t(76627),e=t(15351),f=t(80850),g=t(42483),d=t(7225),E=t(88627),_=t(47947),b=t(41483),O=t(37610),I=t(25814),T=t(22867),R=t(72683);const u=(de,Ce)=>function y(de){return(0,e.N)((Ce,Z)=>{let le=!1,De=null,pe=null;const re=()=>{if(pe?.unsubscribe(),pe=null,le){le=!1;const ve=De;De=null,Z.next(ve)}};Ce.subscribe((0,g._)(Z,ve=>{pe?.unsubscribe(),le=!0,De=ve,pe=(0,g._)(Z,re,f.l),(0,d.Tg)(de(ve)).subscribe(pe)},()=>{re(),Z.complete()},void 0,()=>{De=pe=null}))})}(()=>(0,n.Y)(de,Ce)),w=new i.nKC("debounceTime",{providedIn:"root",factory:()=>E.B}),v=()=>de=>de.pipe((0,_.T)(Ce=>Ce?.payload)),S=()=>de=>de.pipe((0,_.T)(Ce=>Ce.page)),M=()=>de=>de.pipe((0,b.p)(Ce=>(0,R.a4)(Ce)&&Ce.hasCompleted)),L=()=>de=>de.pipe(M(),(0,O.s)(1)),$=()=>de=>de.pipe((0,b.p)(Ce=>Ce.hasSucceeded),(0,O.s)(1)),j=()=>de=>de.pipe((0,I.I)(Ce=>Ce.hasSucceeded&&(0,R.hj)(Ce.payload))),x=()=>de=>de.pipe($(),v()),G=()=>de=>de.pipe(j(),v()),Y=()=>de=>de.pipe(ae(),v()),V=()=>de=>de.pipe($(),v(),S()),K=()=>de=>de.pipe((0,I.I)(Ce=>!Ce.isLoading)),ae=()=>de=>de.pipe((0,b.p)(Ce=>Ce.hasSucceeded)),Q=()=>de=>de.pipe((0,b.p)(Ce=>Ce.hasSucceeded),(0,_.T)(Ce=>{const Z=Ce.payload.page.filter(De=>(0,R.a4)(De)).map(De=>De.indexableObject),le=Object.assign(Ce.payload,{page:Z});return Object.assign(Ce,{payload:le})})),J=de=>Ce=>Ce.pipe(v(),S(),(0,_.T)(Z=>Z.find(le=>le.id===de)),(0,_.T)(Z=>{if((0,R.hj)(Z))return Z._links;throw new Error(`No metadata browse definition could be found for id '${de}'`)})),z=()=>de=>de.pipe((0,_.T)(Ce=>Object.assign(Ce,{payload:Ce.payload.page.length>0?Ce.payload.page[0]:void 0}))),q=()=>de=>de.pipe((0,R.Az)(),(0,_.T)(Ce=>Ce.payload.page.filter(Z=>(0,R.a4)(Z)))),ee=()=>de=>de.pipe((0,R.Az)(),(0,_.T)(Ce=>Ce.payload.page.filter(Z=>(0,R.a4)(Z))),(0,T.n)(Ce=>{const Z=Ce.map(le=>le.schema.pipe(x(),(0,_.T)(De=>({field:le,schema:De}))));return(0,R.hj)(Z)?(0,c.z)(Z):[[]]}),(0,_.T)(Ce=>Ce.map(Z=>Z.schema.prefix+"."+Z.field.toString())))},36423:(B,D,t)=>{"use strict";t.d(D,{Q:()=>e});var i=t(31635),n=t(47817),c=t(72683);class e{constructor(g){(0,c.a4)(g)&&(this.elementsPerPage=g.elementsPerPage,this.totalElements=g.totalElements,this.totalPages=g.totalPages,this.currentPage=g.currentPage)}get self(){return this._links.self.href}get last(){if((0,c.a4)(this._links)&&(0,c.a4)(this._links.last))return this._links.last.href}get next(){if((0,c.a4)(this._links)&&(0,c.a4)(this._links.next))return this._links.next.href}get prev(){if((0,c.a4)(this._links)&&(0,c.a4)(this._links.prev))return this._links.prev.href}get first(){if((0,c.a4)(this._links)&&(0,c.a4)(this._links.first))return this._links.first.href}}(0,i.Cg)([(0,n.autoserializeAs)(Number,"size"),(0,i.Sn)("design:type",Number)],e.prototype,"elementsPerPage",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],e.prototype,"totalElements",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],e.prototype,"totalPages",void 0),(0,i.Cg)([(0,n.autoserializeAs)(Number,"number"),(0,i.Sn)("design:type",Number)],e.prototype,"currentPage",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],e.prototype,"_links",void 0)},15911:(B,D,t)=>{"use strict";t.d(D,{c:()=>f});var i=t(31635),n=t(52727);const e=new(t(98573).v)("registration");let f=class{static#e=this.type=e};f=(0,i.Cg)([n.gV],f)},86856:(B,D,t)=>{"use strict";t.d(D,{Ky:()=>e,m9:()=>f,w$:()=>d});var i=t(27035),n=t(82040),c=t(72683);const e=y=>E=>E.pipe((0,i.Z)(_=>y.getByHref(_)),(0,c.Az)()),f=y=>E=>E.pipe((0,i.Z)(_=>y.getByUUID(_)),(0,c.Az)()),d=y=>E=>E.pipe((0,n.M)(_=>y.send(_)))},98573:(B,D,t)=>{"use strict";t.d(D,{v:()=>i});class i{constructor(c){this.value=c}}},3631:(B,D,t)=>{"use strict";t.d(D,{g:()=>pe});var i=t(76627),n=t(71217),c=t(17509),e=t(30593),f=t(47947),g=t(41483),d=t(37610),y=t(18062),E=t(72683),_=t(67899),b=t(51206),O=t(26594),I=t(63496);class T{constructor(ve,fe,Ie){this.key=ve,this.values=fe,this.operator=Ie}}var R=t(40632),u=t(50826),w=t(66559),v=t(45122),S=t(89632),M=t(31635),L=t(47817),F=t(52727),$=t(2494);const x=new(t(98573).v)("discovery-facets");let G=class{constructor(){this.type=x}static#e=this.type=x};(0,M.Cg)([$.aK,(0,M.Sn)("design:type",Object)],G.prototype,"type",void 0),(0,M.Cg)([L.deserialize,(0,M.Sn)("design:type",Object)],G.prototype,"_links",void 0),G=(0,M.Cg)([F.gV],G);var Y=t(22922),V=t(26050),X=t(23618),K=t(53107);let ae=(()=>{class re extends X.D3{parse(fe,Ie){const Ne=Ie.payload._embedded.facets,we=new V.T(R.F).deserializeArray(Ne),Be={self:Ie.payload._links.self};we.forEach(et=>{Be[et.name]={href:et._links.self.href}});const Ve=Object.assign(new G,{filters:we,_links:Be});return this.addToObjectCache(Ve,fe,Ie),new Y.hT(Ie.statusCode,Ve._links.self)}static#e=this.\u0275fac=(()=>{let fe;return function(Ne){return(fe||(fe=K.xGo(re)))(Ne||re)}})();static#t=this.\u0275prov=K.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();var Q=t(21314),J=t(70210),z=t(9843),q=t(95438),ee=t(98985),de=t(87913),Ce=t(69509),Z=t(25744),le=t(12007),De=t(95968);let pe=(()=>{class re{constructor(fe,Ie,Ne,qe,we,Be,Ve,et){this.routeService=fe,this.paginationService=Ie,this.route=Ne,this.linkService=qe,this.halService=we,this.requestService=Be,this.rdb=Ve,this.appConfig=et,this.configurationLinkPath="discover/search",this.facetLinkPathPrefix="discover/facets/",this.paginationID="spc",this.defaultPagination=Object.assign(new _.W,{id:this.paginationID,pageSize:10,currentPage:1}),this.defaultScope="",this.defaultQuery="",this.subs=new Map(null),this.initDefaults()}get defaults(){if((0,E.Tn)(this._defaults)){const fe=new I.C({pagination:this.defaultPagination,scope:this.defaultScope,query:this.defaultQuery});this._defaults=(0,b.CX)(fe,(new Date).getTime())}return this._defaults}getCurrentConfiguration(fe){return(0,i.z)([this.routeService.getQueryParameterValue("configuration").pipe((0,e.Z)(void 0)),this.routeService.getRouteParameterValue("configuration").pipe((0,e.Z)(void 0))]).pipe((0,f.T)(([Ie,Ne])=>Ie||Ne||fe))}getCurrentScope(fe){return this.routeService.getQueryParameterValue("scope").pipe((0,f.T)(Ie=>Ie||fe))}getCurrentQuery(fe){return this.routeService.getQueryParameterValue("query").pipe((0,f.T)(Ie=>Ie||fe))}getCurrentDSOType(){return this.routeService.getQueryParameterValue("dsoType").pipe((0,g.p)(fe=>(0,E.hj)(fe)&&(0,E.a4)(Ce.W[fe.toUpperCase()])),(0,f.T)(fe=>Ce.W[fe.toUpperCase()]))}getCurrentPagination(fe,Ie){return this.paginationService.getCurrentPagination(fe,Ie)}getCurrentSort(fe,Ie){return this.paginationService.getCurrentSort(fe,Ie)}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.").pipe((0,f.T)(fe=>{if((0,E.hj)(fe)){const Ie=[];return Object.keys(fe).forEach(Ne=>{if(Ne.endsWith(".min")||Ne.endsWith(".max")){const qe=Ne.slice(0,-4);(0,E.Tn)(Ie.find(we=>we.key===qe))&&Ie.push(new T(qe,["["+(fe[qe+".min"]?fe[qe+".min"][0]:"*")+" TO "+(fe[qe+".max"]?fe[qe+".max"][0]:"*")+"]"],"equals"))}else Ie.push(new T(Ne,fe[Ne]))}),Ie}return[]}))}getCurrentFixedFilter(){return this.routeService.getRouteParameterValue("fixedFilterQuery")}getCurrentFrontendFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentViewMode(fe){return this.routeService.getQueryParameterValue("view").pipe((0,f.T)(Ie=>Ie||fe))}getConfigurationSearchConfig(fe,Ie){return this.getSearchConfigurationFor(Ie,fe).pipe((0,le.Hz)())}getConfigurationSortOptions(fe){return fe.sortOptions.map(Ie=>({field:Ie.name,direction:Ie.sortOrder.toLowerCase()===S.U.ASC.toLowerCase()?S.U.ASC:S.U.DESC}))}getConfigurationAdvancedSearchFilters(fe,Ie){return this.getConfigurationSearchConfig(fe,Ie).pipe((0,f.T)(Ne=>Ne.filters.filter(qe=>this.appConfig.search.advancedFilters.filter.includes(qe.filter)).filter(qe=>qe.type!==O.R.range)))}setPaginationId(fe){if((0,E.hj)(fe)){const Ie=this.paginatedSearchOptions.getValue(),Ne=Object.assign(new I.C({}),Ie,{pagination:Object.assign({},Ie.pagination,{id:fe})});this.unsubscribeFromSearchOptions(this.paginationID),this.paginationID=fe,this.paginatedSearchOptions.next(Ne),this.setSearchSubscription(this.paginationID,this.paginatedSearchOptions.value)}}ngOnDestroy(){this.subs.forEach(fe=>fe.filter(Ie=>(0,E.a4)(Ie)).forEach(Ie=>Ie.unsubscribe())),this.subs=new Map(null)}initDefaults(){this.defaults.pipe((0,le.yd)()).subscribe(fe=>{const Ie=fe.payload;this.paginatedSearchOptions=new n.t(Ie),this.searchOptions=new n.t(Ie),this.setSearchSubscription(this.paginationID,Ie)})}setSearchSubscription(fe,Ie){this.unsubscribeFromSearchOptions(fe);const Ne=[this.subscribeToSearchOptions(Ie),this.subscribeToPaginatedSearchOptions(fe||Ie.pagination.id,Ie)];this.subs.set(this.paginationID,Ne)}subscribeToSearchOptions(fe){return(0,c.h)(this.getConfigurationPart(fe.configuration),this.getScopePart(fe.scope),this.getQueryPart(fe.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(fe.view)).subscribe(Ie=>{const Ne=this.searchOptions.getValue(),qe=Object.assign(new I.C({}),Ne,Ie);this.searchOptions.next(qe)})}subscribeToPaginatedSearchOptions(fe,Ie){return(0,c.h)(this.getConfigurationPart(Ie.configuration),this.getPaginationPart(fe,Ie.pagination),this.getSortPart(fe,Ie.sort),this.getScopePart(Ie.scope),this.getQueryPart(Ie.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(Ie.view)).subscribe(Ne=>{const qe=this.paginatedSearchOptions.getValue(),we=Object.assign(new I.C({}),qe,Ne);this.paginatedSearchOptions.next(we)})}unsubscribeFromSearchOptions(fe){this.subs.has(this.paginationID)&&(this.subs.get(this.paginationID).filter(Ie=>(0,E.a4)(Ie)).forEach(Ie=>Ie.unsubscribe()),this.subs.delete(fe))}getConfigurationPart(fe){return this.getCurrentConfiguration(fe).pipe((0,f.T)(Ie=>({configuration:Ie})))}getScopePart(fe){return this.getCurrentScope(fe).pipe((0,f.T)(Ie=>({scope:Ie})))}getQueryPart(fe){return this.getCurrentQuery(fe).pipe((0,f.T)(Ie=>({query:Ie})))}getDSOTypePart(){return this.getCurrentDSOType().pipe((0,f.T)(fe=>({dsoType:fe})))}getPaginationPart(fe,Ie){return this.getCurrentPagination(fe,Ie).pipe((0,f.T)(Ne=>({pagination:Ne})))}getSortPart(fe,Ie){return this.getCurrentSort(fe,Ie).pipe((0,f.T)(Ne=>({sort:Ne})))}getFiltersPart(){return this.getCurrentFilters().pipe((0,f.T)(fe=>({filters:fe})))}getFixedFilterPart(){return this.getCurrentFixedFilter().pipe((0,E.VT)(),(0,f.T)(fe=>({fixedFilter:fe})))}getSearchConfigurationFor(fe,Ie){const Ne=this.halService.getEndpoint(this.configurationLinkPath).pipe((0,f.T)(qe=>this.getConfigUrl(qe,fe,Ie)));return Ne.pipe((0,d.s)(1)).subscribe(qe=>{const we=new J.IP(this.requestService.generateRequestId(),qe);this.requestService.send(we,!0)}),this.rdb.buildFromHref(Ne)}getConfigUrl(fe,Ie,Ne){const qe=[];return(0,E.hj)(Ie)&&qe.push(`scope=${Ie}`),(0,E.hj)(Ne)&&qe.push(`configuration=${Ne}`),(0,E.hj)(qe)&&(fe=new de.t(fe,`?${qe.join("&")}`).toString()),fe}getConfig(fe,Ie){const Ne=this.halService.getEndpoint(this.facetLinkPathPrefix).pipe((0,f.T)(qe=>this.getConfigUrl(qe,fe,Ie)));return Ne.pipe((0,d.s)(1)).subscribe(qe=>{let we=new J.IP(this.requestService.generateRequestId(),qe);we=Object.assign(we,{getResponseParser:()=>ae}),this.requestService.send(we,!0)}),this.rdb.buildFromHref(Ne).pipe((0,f.T)(qe=>{if(qe.hasSucceeded){let we;return we=(0,E.hj)(qe.payload.filters)?qe.payload.filters.map(Be=>Object.assign(new R.F,Be)):[],new Q.j(qe.timeCompleted,qe.msToLive,qe.lastUpdated,qe.state,qe.errorMessage,we,qe.statusCode)}return qe}))}unselectAppliedFilterParams(fe,Ie,Ne){return this.routeService.getParamsExceptValue(`f.${fe}`,(0,E.a4)(Ne)?(0,u.mq)(Ie,Ne):Ie).pipe((0,f.T)(qe=>Object.assign(qe,{[this.paginationService.getPageParam(this.paginationID)]:1})))}selectNewAppliedFilterParams(fe,Ie,Ne){return this.routeService.getParamsWithAdditionalValue(`f.${fe}`,(0,E.a4)(Ne)?(0,u.mq)(Ie,Ne):Ie).pipe((0,f.T)(qe=>Object.assign(qe,{[this.paginationService.getPageParam(this.paginationID)]:1})))}getViewModePart(fe){return this.getCurrentViewMode(fe).pipe((0,f.T)(Ie=>({view:Ie})))}static#e=this.\u0275fac=function(Ie){return new(Ie||re)(K.KVO(ee.v$),K.KVO(q.m),K.KVO(De.nX),K.KVO(w._),K.KVO(Z.Y),K.KVO(z.B),K.KVO(v.o),K.KVO(y.vQ))};static#t=this.\u0275prov=K.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})()},85751:(B,D,t)=>{"use strict";t.d(D,{U:()=>w});var i=t(73958),n=t(76627),c=t(63016),e=t(47947),f=t(66645),g=t(72683),d=t(67899),y=t(50826),E=t(41162),_=t(53107);let b=(()=>{class M{constructor(){this.specials=["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"],this.regex=RegExp("["+this.specials.join("\\")+"]","g")}transform(F,$){const j=this.escapeRegExp($),x=new RegExp(j,"gi");return F.replace(x,"<em>$&</em>")}escapeRegExp(F){return F.replace(this.regex,"\\$&")}static#e=this.\u0275fac=function($){return new($||M)};static#t=this.\u0275pipe=_.EJ8({name:"dsEmphasize",type:M,pure:!0,standalone:!0})}return M})();var O=t(89632),I=t(98985),T=t(12007),R=t(67811);const u=M=>M.searchFilter;let w=(()=>{class M{constructor(F,$,j){this.searchService=F,this.store=$,this.routeService=j}isFilterActiveWithValue(F,$){return this.routeService.hasQueryParamWithValue(F,$)}isFilterActive(F){return this.routeService.hasQueryParam(F)}getCurrentScope(){return this.routeService.getQueryParameterValue("scope")}getCurrentQuery(){return this.routeService.getQueryParameterValue("query")}getCurrentPagination(F={}){const $=this.routeService.getQueryParameterValue("page"),j=this.routeService.getQueryParameterValue("pageSize");return(0,n.z)($,j).pipe((0,e.T)(([x,G])=>Object.assign(new d.W,F,{currentPage:x||1,pageSize:G||F.pageSize})))}getCurrentSort(F){const $=this.routeService.getQueryParameterValue("sortDirection"),j=this.routeService.getQueryParameterValue("sortField");return(0,n.z)($,j).pipe((0,e.T)(([x,G])=>new O.z(G||F.field,O.U[x]||F.direction)))}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentView(){return this.routeService.getQueryParameterValue("view")}findSuggestions(F,$,j){return(0,g.hj)(j)?this.searchService.getFacetValuesFor(F,1,$,j.toLowerCase()).pipe((0,T.yd)(),(0,e.T)(x=>x.payload.page.map(G=>({displayValue:this.getDisplayValue(G,j),query:(0,y.SB)(G,F),value:(0,y.gp)((0,y.SB)(G,F))})))):(0,c.of)([])}getDisplayValue(F,$){return`${(new b).transform(F.value,$)} (${F.count})`}isCollapsed(F){return this.store.pipe((0,i.Lt)(v(F)),(0,e.T)($=>!!$&&($.filterCollapsed||$.minimized)),(0,f.F)())}getPage(F){return this.store.pipe((0,i.Lt)(v(F)),(0,e.T)($=>$?$.page:1),(0,f.F)())}collapse(F){this.store.dispatch(new E.ge(F))}expand(F){this.store.dispatch(new E.nj(F))}toggle(F){this.store.dispatch(new E.Fi(F))}initializeFilter(F){this.store.dispatch(new E.L2(F))}decrementPage(F){this.store.dispatch(new E.R0(F))}incrementPage(F){this.store.dispatch(new E.tq(F))}resetPage(F){this.store.dispatch(new E.Bf(F))}minimizeAll(){this.store.dispatch(new E.Po)}static#e=this.\u0275fac=function($){return new($||M)(_.KVO(R.S),_.KVO(i.il),_.KVO(I.v$))};static#t=this.\u0275prov=_.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();function v(M){return function S(M){return(0,i.Mz)(u,L=>{if((0,g.a4)(L))return L[M]})}(M)}},67811:(B,D,t)=>{"use strict";t.d(D,{S:()=>fe});var i=t(71217),n=t(76627),c=t(47947),e=t(66645),f=t(37610),g=t(22867),d=t(82040),y=t(72683),E=t(67899),_=t(63496),b=t(93462),O=t(88698),I=t(45122),T=t(48548),R=t(60875),u=t(96916),w=t(31635),v=t(47817),S=t(52727),M=t(5338),L=t(2494),$=(t(26594),t(10571));const x=new(t(98573).v)("discovery-facetvalues");let G=class extends $.a{constructor(){super(...arguments),this.type=x}static#e=this.type=x};(0,w.Cg)([L.aK,(0,w.Sn)("design:type",Object)],G.prototype,"type",void 0),(0,w.Cg)([v.autoserialize,(0,w.Sn)("design:type",String)],G.prototype,"name",void 0),(0,w.Cg)([(0,v.autoserializeAs)(String,"facetType"),(0,w.Sn)("design:type",String)],G.prototype,"filterType",void 0),(0,w.Cg)([v.autoserialize,(0,w.Sn)("design:type",Number)],G.prototype,"facetLimit",void 0),(0,w.Cg)([(0,v.autoserializeAs)(u.L,"values"),(0,w.Sn)("design:type",Array)],G.prototype,"page",void 0),G=(0,w.Cg)([S.gV,(0,v.inheritSerialization)(M.O),(0,v.inheritSerialization)($.a)],G);var Y=t(22922),V=t(26050),X=t(23618),K=t(53107);let ae=(()=>{class Ie extends X.D3{parse(qe,we){const Be=we.payload,Ve=new V.T(G).deserialize(Be);return Ve.pageInfo=this.processPageInfo(Be),Ve.page=new V.T(u.L).deserializeArray(Be._embedded.values),this.addToObjectCache(Ve,qe,we),new Y.hT(we.statusCode,Ve._links.self)}static#e=this.\u0275fac=(()=>{let qe;return function(Be){return(qe||(qe=K.xGo(Ie)))(Be||Ie)}})();static#t=this.\u0275prov=K.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})();var Q=t(21314),J=t(70210),z=t(9843),q=t(9191),ee=t(95438),de=t(98985),Ce=t(87913),Z=t(25744),le=t(12007),De=t(88842),pe=t(3631),re=t(80687);class ve extends T.L{constructor(){super("discover",void 0,void 0,void 0,void 0)}addEmbedParams(Ne,qe,...we){return super.addEmbedParams(Ne,qe,...we)}}let fe=(()=>{class Ie{constructor(qe,we,Be,Ve,et,yt,it,at){this.routeService=qe,this.requestService=we,this.rdb=Be,this.halService=Ve,this.dspaceObjectService=et,this.paginationService=yt,this.searchConfigurationService=it,this.angulartics2=at,this.searchLinkPath="discover/search/objects",this.parser=q.z,this.request=J.IP,this.appliedFilters$=new i.t([]),this.searchDataService=new ve}getSelectedValuesForFilter(qe){return this.appliedFilters$.pipe((0,c.T)(we=>we.filter(Be=>Be.filter===qe)),(0,e.F)((we,Be)=>JSON.stringify(we)===JSON.stringify(Be)))}setServiceOptions(qe,we){qe&&(this.parser=qe),we&&(this.request=we)}getEndpoint(qe){return this.halService.getEndpoint(this.searchLinkPath).pipe((0,c.T)(we=>(0,y.a4)(qe)?qe.toRestUrl(we):we))}search(qe,we,Be=!0,Ve=!0,...et){const yt=this.getEndpoint(qe);yt.pipe((0,f.s)(1),(0,c.T)(at=>{const Yt=this.searchDataService.addEmbedParams(at,[],...et);return(0,y.hj)(Yt)?new Ce.t(at,`?${Yt.join("&")}`).toString():at})).subscribe(at=>{const Yt=new this.request(this.requestService.generateRequestId(),at);Object.assign(Yt,{responseMsToLive:(0,y.a4)(we)?we:Yt.responseMsToLive,getResponseParser:()=>this.parser,searchOptions:qe}),this.requestService.send(Yt,Be)});const it=yt.pipe((0,g.n)(at=>this.rdb.buildFromHref(at)));return this.directlyAttachIndexableObjects(it,Be,Ve,...et)}directlyAttachIndexableObjects(qe,we=!0,Be=!0,...Ve){return qe.pipe((0,g.n)(et=>{if((0,y.a4)(et.payload)&&(0,y.hj)(et.payload.page)){const yt=et.payload.page.map(it=>this.dspaceObjectService.findByHref(it._links.indexableObject.href,we,Be,...Ve).pipe((0,le.qD)(),(0,le.Bo)(),(0,y.Az)(),(0,c.T)(at=>{const nn=(0,O.L)(at.constructor);return Object.assign(new nn,it,{indexableObject:at})})));return(0,n.z)(yt).pipe((0,c.T)(it=>{const at=Object.assign(new b.n,et.payload,{page:it});return new Q.j(et.timeCompleted,et.msToLive,et.lastUpdated,et.state,et.errorMessage,at,et.statusCode)}))}return[et]}))}getFacetValuesFor(qe,we,Be,Ve,et=!0){let yt,it=[];(0,y.a4)(Ve)&&it.push(`prefix=${encodeURIComponent(Ve)}`),(0,y.a4)(Be)?yt=(Be=Object.assign(new _.C({}),Be,{pagination:Object.assign({},Be.pagination,{currentPage:we,pageSize:qe.pageSize})})).toRestUrl(qe._links.self.href,it):(it=["page="+(we-1),`size=${qe.pageSize}`,...it],yt=new Ce.t(qe._links.self.href,`?${it.join("&")}`).toString());let at=new this.request(this.requestService.generateRequestId(),yt);return at=Object.assign(at,{getResponseParser:()=>ae}),this.requestService.send(at,et),this.rdb.buildFromHref(yt).pipe((0,d.M)(Yt=>{if(Yt.hasSucceeded){const nn=(Yt.payload.appliedFilters??[]).filter(je=>(0,y.a4)(je)).map(je=>Object.assign({},je,{operator:(0,y.a4)(je.value.match(/\[\s*(\*|\d+)\s*TO\s*(\*|\d+)\s*]/))?"range":je.operator}));this.appliedFilters$.next(nn)}}))}getViewMode(){return this.routeService.getQueryParamMap().pipe((0,c.T)(qe=>(0,y.hj)(qe.get("view"))&&(0,y.a4)(qe.get("view"))?qe.get("view"):De.n.ListElement))}setViewMode(qe,we){this.paginationService.getCurrentPagination(this.searchConfigurationService.paginationID,new E.W).pipe((0,f.s)(1)).subscribe(Be=>{let Ve={page:1};const et={view:qe};qe===De.n.DetailedListElement?Ve=Object.assign(Ve,{pageSize:1}):1===Be.pageSize&&(Ve=Object.assign(Ve,{pageSize:10})),this.paginationService.updateRouteWithUrl(this.searchConfigurationService.paginationID,(0,y.a4)(we)?we:[this.getSearchLink()],Ve,et)})}trackSearch(qe,we,Be){const Ve=[],et=we.appliedFilters||[];for(let yt=0,it=et.length;yt<it;yt++)Ve.push(et[yt]);this.angulartics2.eventTrack.next({action:"search",properties:{searchOptions:qe,page:{size:qe.pagination.size,totalElements:we.pageInfo.totalElements,totalPages:we.pageInfo.totalPages,number:qe.pagination.currentPage},sort:{by:qe.sort.field,order:qe.sort.direction},filters:Ve,clickedObject:Be}})}getSearchLink(){return"/search"}static#e=this.\u0275fac=function(we){return new(we||Ie)(K.KVO(de.v$),K.KVO(z.B),K.KVO(I.o),K.KVO(Z.Y),K.KVO(R.DSpaceObjectDataService),K.KVO(ee.m),K.KVO(pe.g),K.KVO(re.il))};static#t=this.\u0275prov=K.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})()},26898:(B,D,t)=>{"use strict";t.d(D,{v:()=>c});var i=t(30661),n=t(53107);let c=(()=>{class e{generate(){return(0,i.A)()}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275prov=n.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},84486:(B,D,t)=>{"use strict";t.d(D,{f:()=>y});var i=t(31635),n=t(47817),c=t(52727),e=t(2494),f=t(42578),g=t(98573),d=t(25172);let y=class extends f.o{constructor(){super(...arguments),this.type=d.o}static#e=this.type=d.o;get self(){return this._links.self.href}getRenderType(){return this.dataType}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",g.v)],y.prototype,"type",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([c.gV,(0,n.inheritSerialization)(f.o)],y)},25172:(B,D,t)=>{"use strict";t.d(D,{o:()=>n});const n=new(t(98573).v)("valueList")},58478:(B,D,t)=>{"use strict";t.d(D,{s:()=>n});const n=new(t(98573).v)("versionhistory")},86429:(B,D,t)=>{"use strict";t.d(D,{R:()=>b});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(5469),g=t(2494),d=t(47587),y=t(4198),E=t(41675),_=t(58478);let b=class extends d.M{static#e=this.type=E.x};(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],b.prototype,"_links",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],b.prototype,"id",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],b.prototype,"version",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],b.prototype,"summary",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],b.prototype,"submitterName",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Date)],b.prototype,"created",void 0),(0,i.Cg)([g.aK,(0,e.nf)(_.s),(0,i.Sn)("design:type",c.c)],b.prototype,"versionhistory",void 0),(0,i.Cg)([g.aK,(0,e.nf)(y.U),(0,i.Sn)("design:type",c.c)],b.prototype,"item",void 0),(0,i.Cg)([g.aK,(0,e.nf)(f.N),(0,i.Sn)("design:type",c.c)],b.prototype,"eperson",void 0),b=(0,i.Cg)([e.gV,(0,n.inheritSerialization)(d.M)],b)},41675:(B,D,t)=>{"use strict";t.d(D,{x:()=>n});const n=new(t(98573).v)("version")},88842:(B,D,t)=>{"use strict";t.d(D,{n:()=>i});var i=function(n){return n.ListElement="list",n.GridElement="grid",n.DetailedListElement="detailed",n.StandalonePage="standalone",n.Table="table",n}(i||{})},71180:(B,D,t)=>{"use strict";t.d(D,{K:()=>y});var i=t(31635),n=t(47817),c=t(52727),e=t(97131),f=t(98573),g=t(2494),d=t(33090);let y=class extends e.s{static#e=this.type=d.N};(0,i.Cg)([g.aK,n.autoserialize,(0,i.Sn)("design:type",f.v)],y.prototype,"type",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([(0,n.autoserializeAs)("report-type"),(0,i.Sn)("design:type",String)],y.prototype,"reportType",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Array)],y.prototype,"points",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([c.gV,(0,n.inheritSerialization)(e.s)],y)},33090:(B,D,t)=>{"use strict";t.d(D,{N:()=>n});const n=new(t(98573).v)("usagereport")},88678:(B,D,t)=>{"use strict";t.d(D,{w:()=>I});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(99168),g=t(5469),d=t(73069),y=t(47587),E=t(4198),_=t(48877),b=t(2494);let I=class extends y.M{get self(){return this._links.self.href}};(0,i.Cg)([b.aK,n.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"id",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Date)],I.prototype,"lastModified",void 0),(0,i.Cg)([(0,e.nf)(d.n),(0,i.Sn)("design:type",Object)],I.prototype,"collection",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",class O{})],I.prototype,"sections",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Array)],I.prototype,"errors",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],I.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(E.U),(0,i.Sn)("design:type",Object)],I.prototype,"item",void 0),(0,i.Cg)([(0,e.nf)(f.M.type),(0,i.Sn)("design:type",Object)],I.prototype,"submissionDefinition",void 0),(0,i.Cg)([(0,e.nf)(g.N),(0,i.Sn)("design:type",Object)],I.prototype,"submitter",void 0),(0,i.Cg)([(0,e.nf)(_.T),(0,i.Sn)("design:type",c.c)],I.prototype,"supervisionOrders",void 0),I=(0,i.Cg)([(0,n.inheritSerialization)(y.M)],I)},88829:(B,D,t)=>{"use strict";t.d(D,{t:()=>d});var i=t(31635),n=t(47817),c=t(52727),e=t(53841),f=t(86759),g=t(88678);let d=class extends g.w{static#e=this.type=f.z};(0,i.Cg)([(0,n.deserializeAs)(new e.a(d.type.value),"id"),(0,i.Sn)("design:type",String)],d.prototype,"uuid",void 0),d=(0,i.Cg)([c.gV,(0,n.inheritSerialization)(g.w),(0,c.o8)(g.w)],d)},21139:(B,D,t)=>{"use strict";t.d(D,{F:()=>d});var i=t(31635),n=t(47817),c=t(52727),e=t(53841),f=t(23629),g=t(88678);let d=class extends g.w{static#e=this.type=f.l};(0,i.Cg)([(0,n.deserializeAs)(new e.a(d.type.value),"id"),(0,i.Sn)("design:type",String)],d.prototype,"uuid",void 0),d=(0,i.Cg)([c.gV,(0,n.inheritSerialization)(g.w),(0,c.o8)(g.w)],d)},24593:(B,D,t)=>{"use strict";t.r(D),t.d(D,{SubmissionDuplicateDataService:()=>O});var i=t(45122),n=t(99120),c=t(25718),e=t(48548),f=t(12350),g=t(36705),d=t(70210),y=t(9843),E=t(9191),_=t(25744),b=t(53107);let O=(()=>{class I extends e.L{constructor(R,u,w,v){super("duplicates",R,u,w,v),this.requestService=R,this.rdbService=u,this.objectCache=w,this.halService=v,this.parser=E.z,this.request=d.IP,this.searchData=new f.X(this.linkPath,R,u,w,v,this.responseMsToLive)}searchBy(R,u,w,v,...S){return this.searchData.searchBy(R,u,w,v,...S)}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}setServiceOptions(R,u){R&&(this.parser=R),u&&(this.request=u)}findDuplicates(R,u,w=!0,v=!0,...S){const M=[new n.x("uuid",R)];let L=new g._;return u&&(L=Object.assign(new g._,u)),L.searchParams=L.searchParams?[...L.searchParams,...M]:M,this.searchBy("findByItem",L,w,v,...S)}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||I)(b.KVO(y.B),b.KVO(i.o),b.KVO(c.$),b.KVO(_.Y))};static#t=this.\u0275prov=b.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})()},91917:(B,D,t)=>{"use strict";t.d(D,{U:()=>G});var i=t(45122),n=t(70210),c=t(9843),e=t(17509);function f(Y,V){return(X,K)=>!Y.call(V,X,K)}var g=t(41483),y=t(27035),E=t(37610),_=t(82040),b=t(47947),O=t(25814),I=t(66645),T=t(72683),R=t(12007),u=t(8841),w=t(80451),v=t(48891);function S(Y){return(0,w.pc)(v.N,"json/patch",Y)}class L{submitJsonPatchOperations(V,X,K){const ae=this.requestService.generateRequestId();let Q=null;const[J,z]=function d(Y,V){return X=>[(0,g.p)(Y,V)(X),(0,g.p)(f(Y,V))(X)]}(q=>(0,T.hj)(q.body))(V.pipe((0,y.Z)(q=>this.store.select(S(X)).pipe((0,E.s)(1),(0,g.p)(ee=>(0,T.b0)(ee)||!ee.commitPending),(0,_.M)(()=>Q=(new Date).getTime()),(0,b.T)(ee=>{const de=[];return(0,T.hj)(ee)&&((0,T.hj)(K)?(0,T.EA)(ee.children[K])&&(0,T.hj)(ee.children[K].body)&&ee.children[K].body.forEach(Ce=>{de.push(Ce.operation)}):Object.keys(ee.children).filter(Ce=>ee.children.hasOwnProperty(Ce)).filter(Ce=>(0,T.a4)(ee.children[Ce])).filter(Ce=>(0,T.a4)(ee.children[Ce].body)).forEach(Ce=>{ee.children[Ce].body.forEach(Z=>{de.push(Z.operation)})})),this.getRequestInstance(ae,q,de)})))));return(0,e.h)(z.pipe((0,g.p)(q=>(0,T.Im)(q.body)),(0,_.M)(()=>Q=null),(0,b.T)(()=>null)),J.pipe((0,g.p)(q=>(0,T.hj)(q.body)),(0,_.M)(()=>this.store.dispatch(new u.v$(X,K,Q))),(0,_.M)(q=>this.requestService.send(q)),(0,y.Z)(()=>this.rdbService.buildFromRequestUUID(ae).pipe((0,R.qD)(),(0,O.I)(q=>Q<q.timeCompleted),(0,b.T)(q=>{if(q.hasFailed)throw this.store.dispatch(new u.Zd(X,K)),new Error(q.errorMessage);if((0,T.a4)(q.payload)&&(0,T.hj)(q.payload.dataDefinition))return this.store.dispatch(new u.MI(X,K)),q.payload.dataDefinition}),(0,I.F)()))))}deletePendingJsonPatchOperations(){this.store.dispatch(new u.Bp)}getRequestInstance(V,X,K){return new this.patchRequestConstructor(V,X,K)}getEndpointByIDHref(V,X){return(0,T.hj)(X)?`${V}/${X}`:`${V}`}jsonPatchByResourceType(V,X,K){const ae=this.halService.getEndpoint(V).pipe((0,g.p)(Q=>(0,T.hj)(Q)),(0,I.F)(),(0,b.T)(Q=>this.getEndpointByIDHref(Q,X)));return this.submitJsonPatchOperations(ae,K)}hasPendingOperations(V){return this.store.select(S(V)).pipe((0,b.T)(X=>!(0,T.Im)(X)&&Object.values(X.children).filter(K=>!(0,T.Im)(K.body)).length>0),(0,I.F)())}jsonPatchByResourceID(V,X,K,ae){const Q=this.halService.getEndpoint(V).pipe((0,g.p)(J=>(0,T.hj)(J)),(0,I.F)(),(0,b.T)(J=>this.getEndpointByIDHref(J,X)));return this.submitJsonPatchOperations(Q,K,ae)}}var F=t(25744),$=t(87913),j=t(53107),x=t(73958);let G=(()=>{class Y extends L{constructor(X,K,ae,Q){super(),this.requestService=X,this.store=K,this.rdbService=ae,this.halService=Q,this.linkPath="",this.patchRequestConstructor=n.e$}getRequestInstance(X,K,ae){return new this.patchRequestConstructor(X,new $.t(K,"?embed=item").toString(),ae)}static#e=this.\u0275fac=function(K){return new(K||Y)(j.KVO(c.B),j.KVO(x.il),j.KVO(i.o),j.KVO(F.Y))};static#t=this.\u0275prov=j.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})()},26589:(B,D,t)=>{"use strict";t.d(D,{$:()=>O});var i=t(63016),n=t(47947),c=t(86722),e=t(64340),f=t(21314),g=t(64868),d=t(25744),y=t(95143),E=t(91427),_=t(71779),b=t(53107);let O=(()=>{class I{constructor(R,u,w,v){this.workspaceitemDataService=R,this.workflowItemDataService=u,this.submissionService=w,this.halService=v}getHrefByID(R){const u=this.submissionService.getSubmissionScope()===y.L.WorkspaceItem?this.workspaceitemDataService:this.workflowItemDataService;return this.halService.getEndpoint(u.getLinkPath()).pipe((0,n.T)(w=>u.getIDHref(w,encodeURIComponent(R))))}findById(R,u=!0,w=!0,...v){switch(this.submissionService.getSubmissionScope()){case y.L.WorkspaceItem:return this.workspaceitemDataService.findById(R,u,w,...v);case y.L.WorkflowItem:return this.workflowItemDataService.findById(R,u,w,...v);default:{const S=(new Date).getTime();return(0,i.of)(new f.j(S,c.c.cache.msToLive.default,S,g.zE.Error,"The request couldn't be sent. Unable to determine the type of submission object",void 0,400))}}}static#e=this.\u0275fac=function(u){return new(u||I)(b.KVO(_.WorkspaceitemDataService),b.KVO(E.WorkflowItemDataService),b.KVO(e.E),b.KVO(d.Y))};static#t=this.\u0275prov=b.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})()},6973:(B,D,t)=>{"use strict";t.d(D,{BE:()=>I,Z5:()=>O});var i=t(5038),n=t(72683),c=t(36302),e=t(25718),f=t(22922),g=t(97120),d=t(53107);let y=(()=>{class T extends g.aE{constructor(u){super(),this.objectCache=u,this.toCache=!0}parse(u,w){let v;v=(0,n.a4)(w.payload)&&(0,n.a4)(w.payload.page)&&0===w.payload.page.totalElements?{page:[]}:this.process(w.payload,u);let S=v;if((0,n.Tn)(v))return new f.bM([],w.statusCode,w.statusText,void 0);(0,n.a4)(v.page)?S=v.page:Array.isArray(v)||(S=[v]);const M=S.map(L=>L._links.self.href);return new f.bM(M,w.statusCode,w.statusText,this.processPageInfo(w.payload))}static#e=this.\u0275fac=function(w){return new(w||T)(d.KVO(e.$))};static#t=this.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();var E=t(88829),_=t(21139);function O(T,R){let u=T;return(0,n.Pe)(T)&&("object"==typeof T&&function b(T){return"object"==typeof T&&T.hasOwnProperty("value")&&T.hasOwnProperty("language")&&T.hasOwnProperty("authority")&&T.hasOwnProperty("confidence")}(T)?u=new c.e(T.value,T.language,T.authority,T.display||T.value,T.place||R,T.confidence,T.otherInformation):Array.isArray(T)?(u=[],T.forEach((w,v)=>{u[v]=O(w,v)})):"object"==typeof T&&(u=Object.create({}),Object.keys(T).forEach(w=>{u[w]=O(T[w])}))),u}let I=(()=>{class T extends g.aE{constructor(u,w){super(),this.objectCache=u,this.dsoParser=w,this.toCache=!1,this.shouldDirectlyAttachEmbeds=!0}parse(u,w){if(this.dsoParser.parse((0,i.Go)(u),(0,i.Go)(w)),(0,n.hj)(w.payload)&&(0,n.hj)(w.payload._links)&&this.isSuccessStatus(w.statusCode)){const v=this.processResponse(w.payload,u);return new f.hT(w.statusCode,void 0,{dataDefinition:v})}if((0,n.Im)(w.payload)&&this.isSuccessStatus(w.statusCode))return new f.hT(w.statusCode);throw new Error("Unexpected response from server")}processResponse(u,w){const v=this.process(u,w),S=Array.of();return(Array.isArray(v)?v:Array.of(v)).forEach(L=>{if((L instanceof _.F||L instanceof E.t)&&L.sections){const F=Object.create({});Object.keys(L.sections).forEach($=>{if("object"==typeof L.sections[$]&&(0,n.hj)(L.sections[$])&&(!L.sections[$].hasOwnProperty("files")||(0,n.hj)(L.sections[$].files))){const j=Object.create({});Object.keys(L.sections[$]).forEach(x=>{const G=L.sections[$][x];Array.isArray(G)?(j[x]=[],G.forEach((Y,V)=>{const X=O(Y,V);(0,n.hj)(X)&&j[x].push(X)})):j[x]=G}),F[$]=j}}),L=Object.assign({},L,{sections:F})}S.push(L)}),S}static#e=this.\u0275fac=function(w){return new(w||T)(d.KVO(e.$),d.KVO(y))};static#t=this.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})()},32875:(B,D,t)=>{"use strict";t.d(D,{O:()=>R});var i=t(47947),n=t(66645),c=t(41483),e=t(82040),f=t(27035),g=t(72683),d=t(45122),y=t(22922),E=t(70210),_=t(9843),b=t(25744),O=t(12007),I=t(87913),T=t(53107);let R=(()=>{class u{constructor(v,S,M){this.rdbService=v,this.requestService=S,this.halService=M,this.linkPath="workspaceitems"}fetchRequest(v){return this.rdbService.buildFromRequestUUID(v).pipe((0,O.qD)(),(0,i.T)(S=>{if(S.hasFailed)throw new y._p({statusText:S.errorMessage,statusCode:S.statusCode});return(0,g.a4)(S.payload)?S.payload.dataDefinition:S.payload}),(0,n.F)())}getEndpointByIDHref(v,S,M){let L=(0,g.hj)(S)?`${v}/${S}`:`${v}`;return L=new I.t(L,"?embed=item,sections,collection").toString(),M&&(L=new I.t(L,`&owningCollection=${M}`).toString()),L}deleteById(v,S){const M=this.requestService.generateRequestId();return this.halService.getEndpoint(S||this.linkPath).pipe((0,c.p)(L=>(0,g.hj)(L)),(0,n.F)(),(0,i.T)(L=>this.getEndpointByIDHref(L,v)),(0,i.T)(L=>new E.Rn(M,L)),(0,e.M)(L=>this.requestService.send(L)),(0,f.Z)(()=>this.fetchRequest(M)),(0,n.F)())}getDataById(v,S){const M=this.requestService.generateRequestId();return this.halService.getEndpoint(v).pipe((0,i.T)(L=>this.getEndpointByIDHref(L,S)),(0,c.p)(L=>(0,g.hj)(L)),(0,n.F)(),(0,i.T)(L=>new E.Iu(M,L)),(0,e.M)(L=>{this.requestService.send(L)}),(0,f.Z)(()=>this.fetchRequest(M)),(0,n.F)())}postToEndpoint(v,S,M,L,F){const $=this.requestService.generateRequestId();return this.halService.getEndpoint(v).pipe((0,c.p)(j=>(0,g.hj)(j)),(0,i.T)(j=>this.getEndpointByIDHref(j,M,F)),(0,n.F)(),(0,i.T)(j=>new E.aY($,j,S,L)),(0,e.M)(j=>this.requestService.send(j)),(0,f.Z)(()=>this.fetchRequest($)),(0,n.F)())}patchToEndpoint(v,S,M){const L=this.requestService.generateRequestId();return this.halService.getEndpoint(v).pipe((0,c.p)(F=>(0,g.hj)(F)),(0,i.T)(F=>this.getEndpointByIDHref(F,M)),(0,n.F)(),(0,i.T)(F=>new E.e$(L,F,S)),(0,e.M)(F=>this.requestService.send(F)),(0,f.Z)(()=>this.fetchRequest(L)),(0,n.F)())}static#e=this.\u0275fac=function(S){return new(S||u)(T.KVO(d.o),T.KVO(_.B),T.KVO(b.Y))};static#t=this.\u0275prov=T.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},95143:(B,D,t)=>{"use strict";t.d(D,{L:()=>i});var i=function(n){return n.WorkspaceItem="WORKSPACE",n.WorkflowItem="WORKFLOW",n}(i||{})},41202:(B,D,t)=>{"use strict";t.d(D,{Hx:()=>n,cK:()=>e,mt:()=>c});var i=t(98573);const n=new i.v("vocabulary"),c=new i.v("vocabularyEntry"),e=new i.v("vocabularyEntryDetail")},35873:(B,D,t)=>{"use strict";t.d(D,{M:()=>g});var i=t(31635),n=t(47817),c=t(52727),e=t(41202),f=t(20857);let g=class extends f.b{static#e=this.type=e.cK};(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],g.prototype,"id",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Boolean)],g.prototype,"selectable",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],g.prototype,"_links",void 0),g=(0,i.Cg)([c.gV,(0,n.inheritSerialization)(f.b)],g)},20857:(B,D,t)=>{"use strict";t.d(D,{b:()=>E});var i=t(31635),n=t(47817),c=t(72683),e=t(44541),f=t(59400),g=t(52727),d=t(2494),y=t(41202);let E=class extends f.u{static#e=this.type=y.mt;hasAuthority(){return(0,c.hj)(this.authority)}hasValue(){return(0,c.hj)(this.value)}hasOtherInformation(){return(0,c.hj)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===e.N}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"authority",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"display",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"value",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Object)],E.prototype,"otherInformation",void 0),(0,i.Cg)([d.aK,n.autoserialize,(0,i.Sn)("design:type",Object)],E.prototype,"type",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([g.gV],E)},59531:(B,D,t)=>{"use strict";t.d(D,{n:()=>i});class i{constructor(c,e=!1){this.name=c,this.closed=e}}},96153:(B,D,t)=>{"use strict";t.r(D),t.d(D,{VocabularyEntryDetailsDataService:()=>E});var i=t(45122),n=t(25718),c=t(94937),e=t(2887),f=t(12350),g=t(9843),d=t(25744),y=t(53107);let E=(()=>{class _ extends e.W{constructor(O,I,T,R){super("vocabularyEntryDetails",O,I,T,R),this.requestService=O,this.rdbService=I,this.objectCache=T,this.halService=R,this.findAllData=new c.H(this.linkPath,O,I,T,R,this.responseMsToLive),this.searchData=new f.X(this.linkPath,O,I,T,R,this.responseMsToLive)}findAll(O,I,T,...R){return this.findAllData.findAll(O,I,T,...R)}searchBy(O,I,T,R,...u){return this.searchData.searchBy(O,I,T,R,...u)}static#e=this.\u0275fac=function(I){return new(I||_)(y.KVO(g.B),y.KVO(i.o),y.KVO(n.$),y.KVO(d.Y))};static#t=this.\u0275prov=y.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},25723:(B,D,t)=>{"use strict";t.r(D),t.d(D,{VocabularyDataService:()=>b});var i=t(45122),n=t(99120),c=t(25718),e=t(94937),f=t(2887),g=t(12350),d=t(36705),y=t(9843),E=t(25744),_=t(53107);let b=(()=>{class O extends f.W{constructor(T,R,u,w){super("vocabularies",T,R,u,w),this.requestService=T,this.rdbService=R,this.objectCache=u,this.halService=w,this.searchByMetadataAndCollectionPath="byMetadataAndCollection",this.findAllData=new e.H(this.linkPath,T,R,u,w,this.responseMsToLive),this.searchData=new g.X(this.linkPath,T,R,u,w,this.responseMsToLive)}findAll(T,R,u,...w){return this.findAllData.findAll(T,R,u,...w)}getVocabularyByMetadataAndCollection(T,R,u=!0,w=!0,...v){const S=new d._;S.searchParams=[new n.x("metadata",T),new n.x("collection",R)];const M=this.searchData.getSearchByHref(this.searchByMetadataAndCollectionPath,S,...v);return this.findByHref(M,u,w,...v)}static#e=this.\u0275fac=function(R){return new(R||O)(_.KVO(y.B),_.KVO(i.o),_.KVO(c.$),_.KVO(E.Y))};static#t=this.\u0275prov=_.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},59678:(B,D,t)=>{"use strict";t.d(D,{g:()=>R});var i=t(22867),n=t(47947),c=t(27035),e=t(72683),f=t(24106),g=t(99120),d=t(9843),y=t(12007),E=t(36423),_=t(36705);class b extends _._{constructor(w="",v,S,M,L,F,$){super(),this.query=w,this.filter=v,this.exact=S,this.entryID=M,this.elementsPerPage=L,this.currentPage=F,this.sort=$;const j=[];(0,e.hj)(w)&&j.push(new g.x("query",w)),(0,e.hj)(v)&&j.push(new g.x("filter",v)),(0,e.hj)(S)&&j.push(new g.x("exact",S.toString())),(0,e.hj)(M)&&j.push(new g.x("entryID",M)),this.searchParams=j}}var O=t(25723),I=t(96153),T=t(53107);let R=(()=>{class u{constructor(v,S,M){this.requestService=v,this.vocabularyDataService=S,this.vocabularyEntryDetailDataService=M,this.searchTopMethod="top"}findVocabularyByHref(v,S=!0,M=!0,...L){return this.vocabularyDataService.findByHref(v,S,M,...L)}findVocabularyById(v,S=!0,M=!0,...L){return this.vocabularyDataService.findById(v,S,M,...L)}findAllVocabularies(v={},S=!0,M=!0,...L){return this.vocabularyDataService.findAll(v,S,M,...L)}getVocabularyByMetadataAndCollection(v,S,M=!0,L=!0,...F){return this.vocabularyDataService.getVocabularyByMetadataAndCollection(v,S,M,L,...F)}getVocabularyEntries(v,S){const M=new b(null,null,null,null,S.elementsPerPage,S.currentPage);return this.findVocabularyById(v.name,!0,!0,(0,f.s)("entries",{findListOptions:M,shouldEmbed:!1})).pipe((0,y.ak)(),(0,i.n)(L=>L.entries))}getVocabularyEntriesByValue(v,S,M,L){const F=new b(null,v,S,null,L.elementsPerPage,L.currentPage);return this.findVocabularyById(M.name,!0,!0,(0,f.s)("entries",{findListOptions:F,shouldEmbed:!1})).pipe((0,y.ak)(),(0,i.n)($=>$.entries))}getVocabularyEntryByValue(v,S){return this.getVocabularyEntriesByValue(v,!0,S,new E.Q).pipe((0,y.Ar)(),(0,n.T)(M=>(0,e.hj)(M)?M[0]:null))}getVocabularyEntryByID(v,S){const M=new E.Q,L=new b(null,null,null,v,M.elementsPerPage,M.currentPage);return this.findVocabularyById(S.name,!0,!0,(0,f.s)("entries",{findListOptions:L,shouldEmbed:!1})).pipe((0,y.ak)(),(0,i.n)(F=>F.entries),(0,y.Ar)(),(0,n.T)(F=>(0,e.hj)(F)?F[0]:null))}findEntryDetailByHref(v,S=!0,M=!0,...L){return this.vocabularyEntryDetailDataService.findByHref(v,S,M,...L)}findEntryDetailById(v,S,M=!0,L=!0,F=!0,...$){return this.vocabularyEntryDetailDataService.findById(F?`${S}:${v}`:v,M,L,...$)}getEntryDetailParent(v,S,M=!0,L=!0,...F){const $=`${S}:${v}/parent`;return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,n.T)(j=>`${j}/${$}`),(0,c.Z)(j=>this.vocabularyEntryDetailDataService.findByHref(j,M,L,...F)))}getEntryDetailChildren(v,S,M,L=!0,F=!0,...$){const j=new b(null,null,null,null,M.elementsPerPage,M.currentPage);return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,n.T)(x=>`${x}/${S}:${v}/children`),(0,i.n)(x=>this.vocabularyEntryDetailDataService.findListByHref(x,j,L,F,...$)))}searchTopEntries(v,S,M=!0,L=!0,...F){const $=new b(null,null,null,null,S.elementsPerPage,S.currentPage);return $.searchParams=[new g.x("vocabulary",v)],this.vocabularyEntryDetailDataService.searchBy(this.searchTopMethod,$,M,L,...F)}clearSearchTopRequests(){this.requestService.removeByHrefSubstring(`search/${this.searchTopMethod}`)}static#e=this.\u0275fac=function(S){return new(S||u)(T.KVO(d.B),T.KVO(O.VocabularyDataService),T.KVO(I.VocabularyEntryDetailsDataService))};static#t=this.\u0275prov=T.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},91427:(B,D,t)=>{"use strict";t.r(D),t.d(D,{WorkflowItemDataService:()=>w});var i=t(47947),n=t(25814),c=t(72683),e=t(79224),f=t(45122),g=t(99120),d=t(25718),y=t(83951),E=t(2887),_=t(12350),b=t(36705),O=t(70210),I=t(9843),T=t(25744),R=t(12007),u=t(53107);let w=(()=>{class v extends E.W{constructor(M,L,F,$,j){super("workflowitems",M,L,F,$),this.requestService=M,this.rdbService=L,this.objectCache=F,this.halService=$,this.notificationsService=j,this.searchByItemLinkPath="item",this.responseMsToLive=1e4,this.searchData=new _.X(this.linkPath,M,L,F,$,this.responseMsToLive),this.deleteData=new y.I(this.linkPath,M,L,F,$,j,this.responseMsToLive,this.constructIdEndpoint)}delete(M){return this.deleteWFI(M,!0)}sendBack(M){return this.deleteWFI(M,!1).pipe((0,R.qD)(),(0,i.T)(L=>L.hasSucceeded))}deleteWFI(M,L){const F=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,i.T)(j=>this.deleteData.getIDHref(j,M)),(0,i.T)(j=>j+"?expunge="+L)).pipe((0,n.I)(j=>(0,c.a4)(j))).subscribe(j=>{const x=new O.Dk(F,j,M);this.requestService.send(x)}),this.rdbService.buildFromRequestUUID(F)}findByItem(M,L=!1,F=!0,$={},...j){const x=new b._;x.searchParams=[new g.x("uuid",M)];const G=this.searchData.getSearchByHref(this.searchByItemLinkPath,x,...j);return this.findByHref(G,L,F,...j)}searchBy(M,L,F,$,...j){return this.searchData.searchBy(M,L,F,$,...j)}deleteByHref(M,L){return this.deleteData.deleteByHref(M,L)}static#e=this.\u0275fac=function(L){return new(L||v)(u.KVO(I.B),u.KVO(f.o),u.KVO(d.$),u.KVO(T.Y),u.KVO(e.I))};static#t=this.\u0275prov=u.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},71779:(B,D,t)=>{"use strict";t.r(D),t.d(D,{WorkspaceitemDataService:()=>S});var i=t(27691),n=t(47947),c=t(25814),e=t(72683),f=t(79224),g=t(45122),d=t(99120),y=t(25718),E=t(83951),_=t(2887),b=t(12350),O=t(24632),I=t(36705),T=t(70210),R=t(9843),u=t(25744),w=t(53107),v=t(73958);let S=(()=>{class M extends _.W{constructor(F,$,j,x,G,Y,V,X){super("workspaceitems",G,Y,V,$),this.comparator=F,this.halService=$,this.http=j,this.notificationsService=x,this.requestService=G,this.rdbService=Y,this.objectCache=V,this.store=X,this.linkPath="workspaceitems",this.searchByItemLinkPath="item",this.deleteData=new E.I(this.linkPath,G,Y,V,$,x,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new b.X(this.linkPath,G,Y,V,$,this.responseMsToLive)}delete(F,$){return this.deleteData.delete(F,$)}deleteByHref(F,$){return this.deleteData.deleteByHref(F,$)}findByItem(F,$=!1,j=!0,x={},...G){const Y=new I._;Y.searchParams=[new d.x("uuid",F)];const V=this.searchData.getSearchByHref(this.searchByItemLinkPath,Y,...G);return this.findByHref(V,$,j,...G)}importExternalSourceEntry(F,$){const j=Object.create({});let x=new i.Lr;x=x.append("Content-Type","text/uri-list"),j.headers=x;const G=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,n.T)(V=>`${V}?owningCollection=${$}`)).pipe((0,c.I)(V=>(0,e.a4)(V)),(0,n.T)(V=>{const X=new T.Qf(G,V,F,j);this.requestService.send(X)})).subscribe(),this.rdbService.buildFromRequestUUID(G)}searchBy(F,$,j,x,...G){return this.searchData.searchBy(F,$,j,x,...G)}static#e=this.\u0275fac=function($){return new($||M)(w.KVO(O.j),w.KVO(u.Y),w.KVO(i.Qq),w.KVO(f.I),w.KVO(R.B),w.KVO(g.o),w.KVO(y.$),w.KVO(v.il))};static#t=this.\u0275prov=w.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},48877:(B,D,t)=>{"use strict";t.d(D,{T:()=>n});const n=new(t(98573).v)("supervisionorder")},54827:(B,D,t)=>{"use strict";t.r(D),t.d(D,{SupervisionOrderDataService:()=>$});var i=t(27691),n=t(47947),c=t(1703),e=t(72683),f=t(79224),g=t(45122),d=t(99120),y=t(25718),E=t(45926),_=t(83951),b=t(2887),O=t(2868),I=t(12350),T=t(82114),R=t(36705),u=t(70210),w=t(9843),v=t(92312),S=t(7172),M=t(25744),L=t(12007),F=t(53107);let $=(()=>{class j extends b.W{constructor(G,Y,V,X,K,ae,Q){super("supervisionorders",G,Y,V,X),this.requestService=G,this.rdbService=Y,this.objectCache=V,this.halService=X,this.notificationsService=K,this.comparator=ae,this.groupService=Q,this.searchByGroupMethod="group",this.searchByItemMethod="byItem",this.createData=new E.V(this.linkPath,G,Y,V,X,K,this.responseMsToLive),this.searchData=new I.X(this.linkPath,G,Y,V,X,this.responseMsToLive),this.patchData=new O.n(this.linkPath,G,Y,V,X,ae,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new _.I(this.linkPath,G,Y,V,X,K,this.responseMsToLive,this.constructIdEndpoint)}create(G,Y,V,X){const K=[];return K.push(new d.x("uuid",Y)),K.push(new d.x("group",V)),K.push(new d.x("type",X)),this.createData.create(G,...K)}delete(G){return this.deleteData.delete(G).pipe((0,L.qD)(),(0,n.T)(Y=>Y.hasSucceeded))}update(G){return this.patchData.update(G)}searchByGroup(G,Y,V=!0,X=!0,...K){const ae=new R._;return ae.searchParams=[new d.x("uuid",G)],(0,e.hj)(Y)&&ae.searchParams.push(new d.x("item",Y)),this.searchData.searchBy(this.searchByGroupMethod,ae,V,X,...K)}searchByItem(G,Y=!0,V=!0,...X){const K=new R._;return K.searchParams=[new d.x("uuid",G)],this.searchData.searchBy(this.searchByItemMethod,K,Y,V,...X)}updateTarget(G,Y,V,X){const ae=this.groupService.getIDHrefObs(V),Q=Object.create({});let J=new i.Lr;J=J.append("Content-Type","text/uri-list"),Q.headers=J;const z=this.requestService.generateRequestId();return ae.pipe((0,c.$)()).subscribe(q=>{const de=new u.v_(z,Y+"/"+X,q,Q);Object.assign(de,{getResponseParser:()=>v.M}),this.requestService.send(de)}),this.rdbService.buildFromRequestUUIDAndAwait(z,()=>this.invalidateByHref(Y))}static#e=this.\u0275fac=function(Y){return new(Y||j)(F.KVO(w.B),F.KVO(g.o),F.KVO(y.$),F.KVO(M.Y),F.KVO(f.I),F.KVO(T.Y),F.KVO(S.GroupDataService))};static#t=this.\u0275prov=F.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})()},77490:(B,D,t)=>{"use strict";t.r(D),t.d(D,{ClaimedTaskDataService:()=>b});var i=t(27691),n=t(45122),c=t(99120),e=t(25718),f=t(36705),g=t(9843),d=t(25744),y=t(12007),E=t(92357),_=t(53107);let b=(()=>{class O extends E.w{constructor(T,R,u,w){super("claimedtasks",T,R,u,w,1e3),this.requestService=T,this.rdbService=R,this.objectCache=u,this.halService=w}claimTask(T,R){const u=Object.create({});let w=new i.Lr;return w=w.append("Content-Type","text/uri-list"),u.headers=w,this.postToEndpoint(this.linkPath,R,null,u)}submitTask(T,R){return this.postToEndpoint(this.linkPath,this.requestService.uriEncodeBody(R),T,this.makeHttpOptions())}returnToPoolTask(T){return this.deleteById(this.linkPath,T,this.makeHttpOptions())}findByItem(T){const R=new f._;return R.searchParams=[new c.x("uuid",T)],this.searchTask("findByItem",R).pipe((0,y.yd)())}static#e=this.\u0275fac=function(R){return new(R||O)(_.KVO(g.B),_.KVO(n.o),_.KVO(e.$),_.KVO(d.Y))};static#t=this.\u0275prov=_.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},5442:(B,D,t)=>{"use strict";t.d(D,{T:()=>g});var i=t(31635),n=t(47817),c=t(52727),e=t(12304),f=t(55931);let g=class extends f.B{static#e=this.type=e.a};g=(0,i.Cg)([c.gV,(0,n.inheritSerialization)(f.B),(0,c.o8)(f.B)],g)},12304:(B,D,t)=>{"use strict";t.d(D,{a:()=>n});const n=new(t(98573).v)("claimedtask")},97311:(B,D,t)=>{"use strict";t.d(D,{k:()=>g});var i=t(31635),n=t(47817),c=t(52727),e=t(77165),f=t(55931);let g=class extends f.B{static#e=this.type=e.T};g=(0,i.Cg)([c.gV,(0,n.inheritSerialization)(f.B),(0,c.o8)(f.B)],g)},77165:(B,D,t)=>{"use strict";t.d(D,{T:()=>n});const n=new(t(98573).v)("pooltask")},55931:(B,D,t)=>{"use strict";t.d(D,{B:()=>O});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(5469),g=t(99736),d=t(86759),y=t(47587);const _=new(t(98573).v)("taskobject");var b=t(26599);let O=class extends y.M{static#e=this.type=_};(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"id",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"step",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],O.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.N,!1,"owner"),(0,i.Sn)("design:type",c.c)],O.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(g.U),(0,i.Sn)("design:type",c.c)],O.prototype,"group",void 0),(0,i.Cg)([(0,e.nf)(d.z),(0,i.Sn)("design:type",Object)],O.prototype,"workflowitem",void 0),(0,i.Cg)([(0,e.nf)(b.f,!1,"action"),(0,i.Sn)("design:type",c.c)],O.prototype,"action",void 0),O=(0,i.Cg)([e.gV,(0,n.inheritSerialization)(y.M)],O)},26599:(B,D,t)=>{"use strict";t.d(D,{f:()=>n});const n=new(t(98573).v)("workflowaction")},21993:(B,D,t)=>{"use strict";t.r(D),t.d(D,{PoolTaskDataService:()=>_});var i=t(45122),n=t(99120),c=t(25718),e=t(36705),f=t(9843),g=t(25744),d=t(12007),y=t(92357),E=t(53107);let _=(()=>{class b extends y.w{constructor(I,T,R,u){super("pooltasks",I,T,R,u,1e3),this.requestService=I,this.rdbService=T,this.objectCache=R,this.halService=u}findByItem(I){const T=new e._;return T.searchParams=[new n.x("uuid",I)],this.searchTask("findByItem",T).pipe((0,d.qD)())}getPoolTaskEndpointById(I){return this.getEndpointById(I)}static#e=this.\u0275fac=function(T){return new(T||b)(E.KVO(f.B),E.KVO(i.o),E.KVO(c.$),E.KVO(g.Y))};static#t=this.\u0275prov=E.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},92357:(B,D,t)=>{"use strict";t.d(D,{w:()=>T});var i=t(27691),n=t(41483),c=t(47947),e=t(66645),f=t(82040),g=t(27035),d=t(25814),y=t(72683),E=t(2887),_=t(12350),b=t(70210),O=t(12007);class I{constructor(u,w,v){this.isSuccessful=u,this.statusCode=w,this.errorMessage=v}get hasSucceeded(){return this.isSuccessful}}class T extends E.W{constructor(u,w,v,S,M,L){super(u,w,v,S,M),this.linkPath=u,this.requestService=w,this.rdbService=v,this.objectCache=S,this.halService=M,this.responseMsToLive=L,this.searchData=new _.X(this.linkPath,w,v,S,M,this.responseMsToLive)}getEndpointByIDHref(u,w){return(0,y.hj)(w)?`${u}/${w}`:`${u}`}postToEndpoint(u,w,v,S){const M=this.requestService.generateRequestId();return this.halService.getEndpoint(u).pipe((0,n.p)(L=>(0,y.hj)(L)),(0,c.T)(L=>this.getEndpointByIDHref(L,v)),(0,e.F)(),(0,c.T)(L=>new b.$I(M,L,w,S)),(0,f.M)(L=>this.requestService.send(L)),(0,g.Z)(L=>this.fetchRequest(M)),(0,e.F)())}deleteById(u,w,v){const S=this.requestService.generateRequestId();return this.getEndpointById(w,u).pipe((0,c.T)(M=>new b._w(S,M,null,v)),(0,f.M)(M=>this.requestService.send(M)),(0,g.Z)(M=>this.fetchRequest(S)),(0,e.F)())}getEndpointById(u,w){return this.halService.getEndpoint(w||this.linkPath).pipe((0,n.p)(v=>(0,y.hj)(v)),(0,e.F)(),(0,c.T)(v=>this.getEndpointByIDHref(v,u)))}searchTask(u,w={},...v){return this.searchData.getSearchByHref(u,w,...v).pipe((0,d.I)(M=>(0,y.a4)(M)),(0,g.Z)(M=>this.findByHref(M,!1,!0).pipe((0,O.bD)(),(0,f.M)(()=>this.requestService.setStaleByHrefSubstring(M)))))}fetchRequest(u){return this.rdbService.buildFromRequestUUID(u).pipe((0,O.qD)(),(0,c.T)(w=>w.hasFailed?new I(!1,w.statusCode,w.errorMessage):new I(!0,w.statusCode)))}makeHttpOptions(){const u=Object.create({});let w=new i.Lr;return w=w.append("Content-Type","application/x-www-form-urlencoded"),u.headers=w,u}searchBy(u,w,v,S,...M){return this.searchData.searchBy(u,w,v,S,...M)}}},73078:(B,D,t)=>{"use strict";t.d(D,{F:()=>c});var i=t(86722),n=t(87913);class c extends n.t{constructor(...f){super(i.c.rest.baseUrl,"/api",...f)}}},87913:(B,D,t)=>{"use strict";t.d(D,{t:()=>n});var i=t(72683);class n{constructor(...e){this.parts=e}toString(){if((0,i.Im)(this.parts))return"";{let e=this.parts.join("/");return e=e.replace(/:\//g,"://"),e=e.replace(/([^:\s])\/+/g,"$1/"),e=e.replace(/\/($|\?|&|#[^!])/g,"$1"),e=e.replace(/(\?.+)\?/g,"$1&"),e}}}},2494:(B,D,t)=>{"use strict";t.d(D,{_U:()=>f,aK:()=>d,gM:()=>E,ug:()=>g});var i=t(72683);const n=new Map,c=new Map;function e(b,O,I){const T=I.find(R=>{if(b[R]===O[R]||(0,i.Tn)(b[R])&&(0,i.Tn)(O[R]))return!1;if((0,i.Tn)(b[R])||(0,i.Tn)(O[R]))return!0;const u=function _(b,O){return(c.get(b)||new Map).get(O)}(b.constructor,R);return(0,i.a4)(u)?!e(b[R],O[R],u):b[R]instanceof f?!b[R].equals(O[R]):"object"==typeof b[R]?!e(b[R],O[R],Object.keys(b)):b[R]!==O[R]});return(0,i.Tn)(T)}class f{equals(O){if((0,i.Tn)(O))return!1;if(this===O)return!0;const I=y(this.constructor);return e(this,O,Object.keys(this).filter(R=>!I.includes(R)))}}function g(b){return function(I){const T=y(b)||[],R=y(I)||[];n.set(I,[...R,...T]);const u=c.get(I)||new Map,w=c.get(b)||new Map;Array.from(w.keys()).filter(v=>!Array.from(u.keys()).includes(v)).forEach(v=>{E(...w.get(v))(new I,v)})}}function d(b,O){if(!b)return;let I=n.get(b.constructor);(0,i.Im)(I)&&(I=[]),n.set(b.constructor,[...I,O])}function y(b){return n.get(b)||[]}function E(...b){return function(I,T){if(!I)return;let R=c.get(I.constructor);(0,i.Im)(R)&&(R=new Map),R.set(T,b),c.set(I.constructor,R)}}},55930:(B,D,t)=>{"use strict";t.d(D,{dX:()=>c,oo:()=>n,sA:()=>i});const i="X-XSRF-TOKEN",n="DSPACE-XSRF-TOKEN",c="XSRF-TOKEN"},69112:(B,D,t)=>{"use strict";t.d(D,{N:()=>n,q:()=>c});const n={SET:(0,t(83770).N)("dspace/core/correlationId/SET")};class c{constructor(f){this.payload=f,this.type=n.SET}}},4730:(B,D,t)=>{"use strict";t.r(D),t.d(D,{FooterComponent:()=>T});var i=t(54460),n=t(95968),c=t(69685),e=t(63016),f=t(18062),g=t(94622),d=t(77304),y=t(36556),E=t(72683),_=t(53107),b=t(4496);function O(R,u){1&R&&(_.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"h5",11),_.EFF(5,"Footer Content"),_.k0s(),_.j41(6,"ul",12)(7,"li")(8,"a",13),_.EFF(9,"Lorem ipsum"),_.k0s()(),_.j41(10,"li")(11,"a",13),_.EFF(12,"Ut facilisis"),_.k0s()(),_.j41(13,"li")(14,"a",13),_.EFF(15,"Aenean sit"),_.k0s()()()(),_.j41(16,"div",10)(17,"h5",11),_.EFF(18,"Footer Content"),_.k0s(),_.j41(19,"ul",12)(20,"li")(21,"a",13),_.EFF(22,"Suspendisse potenti"),_.k0s()()()(),_.j41(23,"div",14)(24,"h5",11),_.EFF(25,"Footer Content"),_.k0s(),_.j41(26,"p"),_.EFF(27," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam voluptatem veniam, est atque cumque eum delectus sint! "),_.k0s()()()()())}function I(R,u){1&R&&(_.j41(0,"li")(1,"a",15),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&R&&(_.R7$(2),_.JRh(_.bMT(3,1,"footer.link.feedback")))}let T=(()=>{class R{constructor(w,v,S,M){this.cookies=w,this.authorizationService=v,this.notifyInfoService=S,this.appConfig=M,this.dateObj=Date.now(),this.showTopFooter=!1}ngOnInit(){this.showPrivacyPolicy=this.appConfig.info.enablePrivacyStatement,this.showEndUserAgreement=this.appConfig.info.enableEndUserAgreement,this.coarLdnEnabled$=this.appConfig.info.enableCOARNotifySupport?this.notifyInfoService.isCoarConfigEnabled():(0,e.of)(!1),this.showSendFeedback$=this.authorizationService.isAuthorized(y._.CanSendFeedback)}showCookieSettings(){return(0,E.a4)(this.cookies)&&this.cookies.showSettings(),!1}static#e=this.\u0275fac=function(v){return new(v||R)(_.rXU(b.$,8),_.rXU(d.AuthorizationDataService),_.rXU(g.P),_.rXU(f.vQ))};static#t=this.\u0275cmp=_.VBU({type:R,selectors:[["ds-base-footer"]],standalone:!0,features:[_.aNF],decls:10,vars:4,consts:[[1,"text-lg-start"],["class","top-footer",4,"ngIf"],[1,"bottom-footer","p-1","d-flex","justify-content-center","align-items-center","text-white"],[1,"content-container"],[1,"m-0"],[1,"footer-info","list-unstyled","d-flex","justify-content-center","mb-0"],[4,"ngIf"],[1,"top-footer"],[1,"container","p-4"],[1,"row"],[1,"col-lg-4","col-md-6","mb-4","mb-lg-0"],[1,"text-uppercase"],[1,"list-unstyled","mb-0"],["routerLink","./",1,""],[1,"col-lg-4","col-md-12","mb-4","mb-md-0"],["routerLink","info/feedback",1,"btn","text-white"]],template:function(v,S){1&v&&(_.j41(0,"footer",0),_.DNE(1,O,28,0,"div",1),_.j41(2,"div",2)(3,"div",3)(4,"p",4),_.EFF(5," Copyright \xa9 2024 - Repositori Politeknik Kesehatan Medan"),_.nrm(6,"br"),_.k0s(),_.j41(7,"ul",5),_.DNE(8,I,4,3,"li",6),_.nI1(9,"async"),_.k0s()()()()),2&v&&(_.R7$(),_.Y8G("ngIf",S.showTopFooter),_.R7$(7),_.Y8G("ngIf",_.bMT(9,2,S.showSendFeedback$)))},dependencies:[i.bT,n.Wk,i.Jj,c.h,c.D9],styles:['[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{background-color:var(--ds-footer-bg);text-align:center;z-index:var(--ds-footer-z-index);border-top:var(--ds-footer-border);padding:var(--ds-footer-padding)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:var(--ds-footer-logo-height)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .top-footer[_ngcontent-%COMP%]{background-color:var(--ds-top-footer-bg);padding:var(--ds-footer-padding);margin:calc(var(--ds-footer-padding) * -1)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:0;margin-top:20px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]   .coar-notify-support-route[_ngcontent-%COMP%]{padding:0 calc(var(--bs-spacer) / 2);color:inherit}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]   .n-coar[_ngcontent-%COMP%]{height:var(--ds-footer-n-coar-height);margin-bottom:8.5px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-flex}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{padding:0 calc(var(--bs-spacer) / 2);color:inherit;font-size:.875em}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{box-shadow:none;text-decoration:underline}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem #ffffff80}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child):after{content:"";border-right:1px var(--bs-secondary) solid}']})}return R})()},86882:(B,D,t)=>{"use strict";t.d(D,{C:()=>g});var i=t(21124),c=(t(4730),t(53107));const e=["*"];function f(d,y){}let g=(()=>{class d extends i.J{getComponentName(){return"FooterComponent"}importThemedComponent(E){return t(43562)(`./${E}/app/footer/footer.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,4730))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=c.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-footer"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},90130:(B,D,t)=>{"use strict";t.r(D),t.d(D,{ForbiddenComponent:()=>g});var i=t(95968),n=t(69685),c=t(21706),e=t(86779),f=t(53107);let g=(()=>{class d{constructor(E,_){this.authService=E,this.responseService=_,this.responseService.setForbidden()}ngOnInit(){this.authService.clearRedirectUrl()}static#e=this.\u0275fac=function(_){return new(_||d)(f.rXU(c.uR),f.rXU(e.w))};static#t=this.\u0275cmp=f.VBU({type:d,selectors:[["ds-base-forbidden"]],standalone:!0,features:[f.aNF],decls:16,vars:9,consts:[[1,"forbidden","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(_,b){1&_&&(f.j41(0,"div",0)(1,"h1"),f.EFF(2,"403"),f.k0s(),f.j41(3,"h2")(4,"small"),f.EFF(5),f.nI1(6,"translate"),f.k0s()(),f.nrm(7,"br"),f.j41(8,"p"),f.EFF(9),f.nI1(10,"translate"),f.k0s(),f.nrm(11,"br"),f.j41(12,"p",1)(13,"a",2),f.EFF(14),f.nI1(15,"translate"),f.k0s()()()),2&_&&(f.R7$(5),f.JRh(f.bMT(6,3,"403.forbidden")),f.R7$(4),f.JRh(f.bMT(10,5,"403.help")),f.R7$(5),f.JRh(f.bMT(15,7,"403.link.home-page")))},dependencies:[i.Wk,n.h,n.D9]})}return d})()},3231:(B,D,t)=>{"use strict";t.r(D),t.d(D,{HeaderNavbarWrapperComponent:()=>E});var i=t(54460),n=t(65970),c=t(61274),e=t(744),f=t(62990),g=t(78198),d=t(53107);const y=_=>({open:_});let E=(()=>{class _{constructor(O,I){this.menuService=O,this.windowService=I,this.menuID=g.D.PUBLIC,this.maxMobileWidth=e.tP.SM}ngOnInit(){this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth),this.isNavBarCollapsed$=this.menuService.isMenuCollapsed(this.menuID)}static#e=this.\u0275fac=function(I){return new(I||_)(d.rXU(f.$),d.rXU(e.CV))};static#t=this.\u0275cmp=d.VBU({type:_,selectors:[["ds-base-header-navbar-wrapper"]],standalone:!0,features:[d.aNF],decls:4,vars:5,consts:[["id","header-navbar-wrapper",3,"ngClass"]],template:function(I,T){1&I&&(d.j41(0,"div",0),d.nI1(1,"async"),d.nrm(2,"ds-header")(3,"ds-navbar"),d.k0s()),2&I&&d.Y8G("ngClass",d.eq3(3,y,!0!==d.bMT(1,1,T.isNavBarCollapsed$)))},dependencies:[i.YU,n.q,c.D,i.Jj],styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}"]})}return _})()},19615:(B,D,t)=>{"use strict";t.d(D,{h:()=>g});var i=t(21124),c=(t(3231),t(53107));const e=["*"];function f(d,y){}let g=(()=>{class d extends i.J{getComponentName(){return"HeaderNavbarWrapperComponent"}importThemedComponent(E){return t(20991)(`./${E}/app/header-nav-wrapper/header-navbar-wrapper.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,3231))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=c.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-header-navbar-wrapper"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},99130:(B,D,t)=>{"use strict";t.d(D,{Y:()=>d});var i=t(54460),n=t(69685),c=t(47947),e=t(19474),f=t(53107);function g(y,E){if(1&y){const _=f.RV6();f.j41(0,"div")(1,"a",1),f.nI1(2,"translate"),f.nI1(3,"translate"),f.bIt("click",function(){f.eBV(_);const O=f.XpG();return f.Njj(O.onClick())}),f.nrm(4,"i",2),f.k0s()()}2&y&&(f.R7$(),f.Y8G("title",f.bMT(2,2,"nav.context-help-toggle")),f.BMQ("aria-label",f.bMT(3,4,"nav.context-help-toggle")))}let d=(()=>{class y{constructor(_,b){this.elRef=_,this.contextHelpService=b,this.subscriptions=[]}ngOnInit(){this.buttonVisible$=this.contextHelpService.tooltipCount$().pipe((0,c.T)(_=>_>0)),this.subscriptions.push(this.buttonVisible$.subscribe(_=>{_?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}onClick(){this.contextHelpService.toggleIcons()}static#e=this.\u0275fac=function(b){return new(b||y)(f.rXU(f.aKT),f.rXU(e.O))};static#t=this.\u0275cmp=f.VBU({type:y,selectors:[["ds-context-help-toggle"]],standalone:!0,features:[f.aNF],decls:2,vars:3,consts:[[4,"ngIf"],["href","javascript:void(0);","role","button",3,"click","title"],[1,"fas","fa-lg","fa-fw","fa-question-circle","ds-context-help-toggle"]],template:function(b,O){1&b&&(f.DNE(0,g,5,6,"div",0),f.nI1(1,"async")),2&b&&f.Y8G("ngIf",f.bMT(1,1,O.buttonVisible$))},dependencies:[i.bT,i.Jj,n.h,n.D9],styles:[".ds-context-help-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color);background-color:var(--ds-header-bg)}.ds-context-help-toggle[_ngcontent-%COMP%]:hover, .ds-context-help-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]})}return y})()},97094:(B,D,t)=>{"use strict";t.r(D),t.d(D,{HeaderComponent:()=>R});var i=t(54460),n=t(95968),c=t(2155),e=t(69685),f=t(37154),g=t(11524),d=t(744),y=t(52651),E=t(23014),_=t(62990),b=t(78198),O=t(99130),I=t(53107);function T(u,w){if(1&u){const v=I.RV6();I.j41(0,"div",6)(1,"button",7),I.nI1(2,"translate"),I.bIt("click",function(){I.eBV(v);const M=I.XpG();return I.Njj(M.toggleNavbar())}),I.nrm(3,"span",8),I.k0s()()}2&u&&(I.R7$(),I.BMQ("aria-label",I.bMT(2,1,"nav.toggle")))}let R=(()=>{class u{constructor(v,S){this.menuService=v,this.windowService=S,this.menuID=b.D.PUBLIC,this.maxMobileWidth=d.tP.SM}ngOnInit(){this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth)}toggleNavbar(){this.menuService.toggleMenu(this.menuID)}static#e=this.\u0275fac=function(S){return new(S||u)(I.rXU(_.$),I.rXU(d.CV))};static#t=this.\u0275cmp=I.VBU({type:u,selectors:[["ds-base-header"]],standalone:!0,features:[I.aNF],decls:15,vars:9,consts:[[1,"container"],[1,"d-flex","flex-row","justify-content-between"],["routerLink","/home",1,"navbar-brand","my-2"],["src","assets/images/dspace-logo.svg"],["role","navigation",1,"navbar","navbar-light","navbar-expand-md","flex-shrink-0","px-0"],["class","pl-2",4,"ngIf"],[1,"pl-2"],["type","button","aria-controls","collapsingNav","aria-expanded","false",1,"navbar-toggler","px-0",3,"click"],["aria-hidden","true",1,"fas","fa-bars","fa-fw","toggler-icon"]],template:function(S,M){1&S&&(I.j41(0,"header")(1,"div",0)(2,"div",1)(3,"a",2),I.nrm(4,"img",3),I.nI1(5,"translate"),I.k0s(),I.j41(6,"nav",4),I.nI1(7,"translate"),I.nrm(8,"ds-search-navbar")(9,"ds-lang-switch")(10,"ds-context-help-toggle")(11,"ds-auth-nav-menu")(12,"ds-impersonate-navbar"),I.DNE(13,T,4,3,"div",5),I.nI1(14,"async"),I.k0s()()()()),2&S&&(I.R7$(4),I.BMQ("alt",I.bMT(5,3,"menu.header.image.logo")),I.R7$(2),I.BMQ("aria-label",I.bMT(7,5,"nav.user.description")),I.R7$(7),I.Y8G("ngIf",I.bMT(14,7,M.isMobile$)))},dependencies:[n.Wk,E.n,c.zH,c.QE,f.X,O.Y,g.v,y.d,e.h,e.D9,i.Jj,i.bT],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background-color:var(--ds-header-bg)}[_nghost-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height);max-width:100%}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none;color:var(--ds-header-icon-color)}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]   .toggler-icon[_ngcontent-%COMP%]{width:1.5em;height:1.5em;line-height:1.5}[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{display:flex;gap:calc(var(--bs-spacer) / 3);align-items:center}"]})}return u})()},65970:(B,D,t)=>{"use strict";t.d(D,{q:()=>g});var i=t(21124),c=(t(97094),t(53107));const e=["*"];function f(d,y){}let g=(()=>{class d extends i.J{getComponentName(){return"HeaderComponent"}importThemedComponent(E){return t(16722)(`./${E}/app/header/header.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,97094))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=c.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-header"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},25540:(B,D,t)=>{"use strict";t.r(D),t.d(D,{HomeNewsComponent:()=>n});var i=t(53107);let n=(()=>{class c{static#e=this.\u0275fac=function(g){return new(g||c)};static#t=this.\u0275cmp=i.VBU({type:c,selectors:[["ds-base-home-news"]],standalone:!0,features:[i.aNF],decls:20,vars:0,consts:[[1,"jumbotron","jumbotron-fluid","mt-ncs"],[1,"container"],[1,"d-flex","flex-wrap"],[1,"display-3"],[1,"lead"],["href","https://wiki.lyrasis.org/display/DSPACE/DSpace+Positioning","target","_blank"]],template:function(g,d){1&g&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),i.EFF(5,"DSpace 8"),i.k0s(),i.j41(6,"p",4),i.EFF(7,"DSpace is the world leading open source repository platform that enables organisations to:"),i.k0s()()(),i.j41(8,"ul")(9,"li"),i.EFF(10,"easily ingest documents, audio, video, datasets and their corresponding Dublin Core metadata "),i.k0s(),i.j41(11,"li"),i.EFF(12,"open up this content to local and global audiences, thanks to the OAI-PMH interface and Google Scholar optimizations "),i.k0s(),i.j41(13,"li"),i.EFF(14,"issue permanent urls and trustworthy identifiers, including optional integrations with handle.net and DataCite DOI"),i.k0s()(),i.j41(15,"p"),i.EFF(16,"Join an international community of "),i.j41(17,"a",5),i.EFF(18,"leading institutions using DSpace"),i.k0s(),i.EFF(19,". "),i.k0s()()())},styles:["[_nghost-%COMP%]{display:block}.display-3[_ngcontent-%COMP%]{word-break:break-word}.jumbotron[_ngcontent-%COMP%]{background-color:var(--ds-home-news-background-color)}a[_ngcontent-%COMP%]{color:var(--ds-home-news-link-color)}a[_ngcontent-%COMP%]:hover{color:var(--ds-home-news-link-hover-color)}"]})}return c})()},93911:(B,D,t)=>{"use strict";t.d(D,{KN:()=>g,KS:()=>f,UB:()=>e,jK:()=>n,lB:()=>c});var i=t(31829);const n="end-user-agreement",c="privacy",e="feedback",f="coar-notify-support";function g(){return function _(b){return`${(0,i.e_)()}/${b}`}(n)}},48922:(B,D,t)=>{"use strict";t.d(D,{$2:()=>c,Bw:()=>g,Jr:()=>f,K4:()=>d,KY:()=>y,Pg:()=>n,RS:()=>e,kH:()=>i});const i="withdraw",n="reinstate",c="private",e="public",f="delete",g="move",d="authorizations",y="register-doi"},34199:(B,D,t)=>{"use strict";t.d(D,{W:()=>d});var i=t(54460),n=t(69685),e=(t(47376),t(53107));function f(y,E){if(1&y&&(e.j41(0,"tr",4)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&y){const _=E.$implicit,b=e.XpG().$implicit;e.R7$(2),e.JRh(b.key),e.R7$(2),e.JRh(_.value),e.R7$(2),e.JRh(_.language)}}function g(y,E){if(1&y&&(e.qex(0),e.DNE(1,f,7,3,"tr",3),e.bVm()),2&y){const _=E.$implicit;e.R7$(),e.Y8G("ngForOf",_.value)}}let d=(()=>{class y{ngOnChanges(){this.metadata=this.item?.metadata}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275cmp=e.VBU({type:y,selectors:[["ds-modify-item-overview"]],inputs:{item:"item"},standalone:!0,features:[e.OA$,e.aNF],decls:15,vars:12,consts:[["id","metadata",1,"table","table-striped","table-hover","table-responsive"],["scope","col"],[4,"ngFor","ngForOf"],["class","metadata-row",4,"ngFor","ngForOf"],[1,"metadata-row"]],template:function(b,O){1&b&&(e.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",1),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",1),e.EFF(10),e.nI1(11,"translate"),e.k0s()()(),e.j41(12,"tbody"),e.DNE(13,g,2,1,"ng-container",2),e.nI1(14,"keyvalue"),e.k0s()()),2&b&&(e.R7$(4),e.JRh(e.bMT(5,4,"item.edit.modify.overview.field")),e.R7$(3),e.JRh(e.bMT(8,6,"item.edit.modify.overview.value")),e.R7$(3),e.JRh(e.bMT(11,8,"item.edit.modify.overview.language")),e.R7$(3),e.Y8G("ngForOf",e.bMT(14,10,O.metadata)))},dependencies:[i.pM,i.lG,n.h,n.D9],encapsulation:2})}return y})()},49842:(B,D,t)=>{"use strict";t.d(D,{r:()=>x});var i=t(54460),n=t(95968),c=t(69685),e=t(71217),f=t(76627),g=t(30593),d=t(82040),y=t(71894),E=t(22867),_=t(44660),b=t(47947),O=t(83116),I=t(8109),T=t(36705),u=(t(47376),t(12007)),w=t(72683),v=t(8460),S=t(53107);const M=G=>["/collections",G];function L(G,Y){if(1&G&&S.nrm(0,"span",7),2&G){const V=S.XpG(2);S.Y8G("innerHTML",V.separator,S.npT)}}function F(G,Y){if(1&G&&(S.j41(0,"a",5)(1,"span"),S.EFF(2),S.k0s(),S.DNE(3,L,1,1,"span",6),S.k0s()),2&G){const V=Y.$implicit,X=Y.last,K=S.XpG();S.Y8G("routerLink",S.eq3(3,M,V.id)),S.R7$(2),S.JRh(K.dsoNameService.getName(V)),S.R7$(),S.Y8G("ngIf",!X)}}function $(G,Y){1&G&&(S.j41(0,"div"),S.EFF(1),S.nI1(2,"translate"),S.k0s()),2&G&&(S.R7$(),S.SpI(" ",S.bMT(2,1,"item.page.collections.loading")," "))}function j(G,Y){if(1&G){const V=S.RV6();S.j41(0,"a",8),S.bIt("click",function(K){S.eBV(V);const ae=S.XpG();return K.preventDefault(),S.Njj(ae.handleLoadMore())}),S.EFF(1),S.nI1(2,"translate"),S.k0s()}2&G&&(S.R7$(),S.SpI(" ",S.bMT(2,1,"item.page.collections.load-more")," "))}let x=(()=>{class G{constructor(V,X,K){this.cds=V,this.dsoNameService=X,this.cdr=K,this.label="item.page.collections",this.separator="<br/>",this.pageSize=5,this.lastPage$=new e.t(0),this.loadMore$=new e.t(void 0),this.isLoading$=new e.t(!0),this.hasMore$=new e.t(!0)}ngOnInit(){const V=this.cds.findOwningCollectionFor(this.item).pipe((0,u.ak)(),(0,g.Z)(null)),X=this.loadMore$.pipe((0,d.M)(()=>this.isLoading$.next(!0)),(0,y.E)(this.lastPage$),(0,E.n)(([K,ae])=>this.cds.findMappedCollectionsFor(this.item,Object.assign(new T._,{elementsPerPage:this.pageSize,currentPage:ae+1}))),(0,u.bD)(),(0,d.M)(()=>this.isLoading$.next(!1)),(0,u.Hz)(),(0,d.M)(K=>this.hasMore$.next(K.currentPage<K.totalPages)),(0,d.M)(K=>this.lastPage$.next(K.currentPage)),(0,u.W8)(),(0,_.S)((K,ae)=>[...K,...ae],[]),(0,g.Z)([]));this.collections$=(0,f.z)([V,X]).pipe((0,b.T)(([K,ae])=>[K,...ae].filter(Q=>(0,w.a4)(Q)))),this.cdr.detectChanges()}handleLoadMore(){this.loadMore$.next()}static#e=this.\u0275fac=function(X){return new(X||G)(S.rXU(I.CollectionDataService),S.rXU(O.f),S.rXU(S.gRc))};static#t=this.\u0275cmp=S.VBU({type:G,selectors:[["ds-item-page-collections"]],inputs:{item:"item",separator:"separator"},standalone:!0,features:[S.aNF],decls:10,vars:14,consts:[[3,"label"],[1,"collections"],[3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],["class","load-more-btn btn btn-sm btn-outline-secondary","role","button","href","javascript:void(0);",3,"click",4,"ngIf"],[3,"routerLink"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],["role","button","href","javascript:void(0);",1,"load-more-btn","btn","btn-sm","btn-outline-secondary",3,"click"]],template:function(X,K){1&X&&(S.j41(0,"ds-metadata-field-wrapper",0),S.nI1(1,"translate"),S.j41(2,"div",1),S.DNE(3,F,4,5,"a",2),S.nI1(4,"async"),S.k0s(),S.DNE(5,$,3,3,"div",3),S.nI1(6,"async"),S.DNE(7,j,3,3,"a",4),S.nI1(8,"async"),S.nI1(9,"async"),S.k0s()),2&X&&(S.Y8G("label",S.bMT(1,4,K.label)),S.R7$(3),S.Y8G("ngForOf",S.bMT(4,6,K.collections$)),S.R7$(2),S.Y8G("ngIf",S.bMT(6,8,K.isLoading$)),S.R7$(2),S.Y8G("ngIf",!0!==S.bMT(8,10,K.isLoading$)&&S.bMT(9,12,K.hasMore$)))},dependencies:[v.Q,c.h,c.D9,i.Sq,i.Jj,n.Wk,i.bT],encapsulation:2})}return G})()},15497:(B,D,t)=>{"use strict";t.d(D,{$r:()=>g,DL:()=>E,Fy:()=>e,_o:()=>f,_z:()=>R,aX:()=>T,jU:()=>b,nF:()=>d,vf:()=>_,xb:()=>c});var i=t(87913),n=t(72683);const c="items";function e(){return`/${c}`}function f(u){return y(u.firstMetadataValue("dspace.entity.type"),u.uuid)}function g(u){return new i.t(f(u),b).toString()}function d(u){return new i.t(f(u),b,O).toString()}function y(u,w){return(0,n.hj)(u)?new i.t("/entities",encodeURIComponent(u.toLowerCase()),w).toString():new i.t(e(),w).toString()}function E(u,w){return new i.t(y(u,w),b).toString()}function _(u){return new i.t(e(),I,u).toString()}const b="edit",O="versionhistory",I="version",T="bitstreams/new",R="orcid"},29424:(B,D,t)=>{"use strict";t.r(D),t.d(D,{MediaViewerImageComponent:()=>f});var i=t(54460),n=t(12189),c=t(21706),e=t(53107);let f=(()=>{class g{constructor(y){this.authService=y,this.thumbnailPlaceholder="./assets/images/replacement_image.svg",this.galleryOptions=[],this.galleryImages=[]}ngOnChanges(){this.galleryOptions=[{preview:void 0===this.preview||this.preview,image:!0,imageSize:"contain",thumbnails:!1,imageArrows:!1,startIndex:0,imageAnimation:n.O7.Slide,previewCloseOnEsc:!0,previewZoom:!0,previewRotate:!0,previewFullscreen:!0}],this.galleryImages=this.image?[{small:this.image,medium:this.image,big:this.image}]:this.convertToGalleryImage(this.images)}ngOnInit(){this.isAuthenticated$=this.authService.isAuthenticated(),this.ngOnChanges()}convertToGalleryImage(y){const E=[];for(const _ of y)"image"===_.format&&E.push({small:_.thumbnail?_.thumbnail:this.thumbnailPlaceholder,medium:_.thumbnail?_.thumbnail:this.thumbnailPlaceholder,big:_.bitstream._links.content.href});return E}static#e=this.\u0275fac=function(E){return new(E||g)(e.rXU(c.uR))};static#t=this.\u0275cmp=e.VBU({type:g,selectors:[["ds-base-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},standalone:!0,features:[e.OA$,e.aNF],decls:3,vars:6,consts:[[1,"ngx-gallery",3,"options","images"]],template:function(E,_){1&E&&(e.j41(0,"div"),e.nI1(1,"async"),e.nrm(2,"ngx-gallery",0),e.k0s()),2&E&&(e.AVh("change-gallery",e.bMT(1,4,_.isAuthenticated$)),e.R7$(2),e.Y8G("options",_.galleryOptions)("images",_.galleryImages))},dependencies:[n.cz,n.Fv,i.Jj],styles:['[_nghost-%COMP%]     .ngx-gallery{width:unset!important;height:unset!important}[_nghost-%COMP%]     ngx-gallery-image{max-width:340px!important}[_nghost-%COMP%]     ngx-gallery-image .ngx-gallery-image{background-position:left}[_nghost-%COMP%]     ngx-gallery-image:after{padding-top:75%;display:block;content:""}']})}return g})()},56528:(B,D,t)=>{"use strict";t.d(D,{Q:()=>g});var i=t(21124),c=(t(29424),t(53107));const e=["*"];function f(d,y){}let g=(()=>{class d extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["images","preview","image"]}getComponentName(){return"MediaViewerImageComponent"}importThemedComponent(E){return t(52636)(`./${E}/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,29424))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=c.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},94284:(B,D,t)=>{"use strict";t.r(D),t.d(D,{MediaViewerVideoComponent:()=>O});var i=t(54460),n=t(2155),c=t(69685),e=t(83116);class f{constructor(T,R,u){this.src=T,this.srclang=R,this.langLabel=u}}const g={ab:"Abkhazian",aa:"Afar",af:"Afrikaans",ak:"Akan",sq:"Albanian",am:"Amharic",ar:"Arabic",an:"Aragonese",hy:"Armenian",as:"Assamese",av:"Avaric",ae:"Avestan",ay:"Aymara",az:"Azerbaijani",bm:"Bambara",ba:"Bashkir",eu:"Basque",be:"Belarusian",bn:"Bengali (Bangla)",bh:"Bihari",bi:"Bislama",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",ny:"Chichewa, Chewa, Nyanja",zh:"Chinese",cv:"Chuvash",kw:"Cornish",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",dv:"Divehi, Dhivehi, Maldivian",nl:"Dutch",dz:"Dzongkha",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",fo:"Faroese",fj:"Fijian",fi:"Finnish",fr:"French",ff:"Fula, Fulah, Pulaar, Pular",gl:"Galician",gd:"Gaelic (Scottish)",gv:"Gaelic (Manx)",ka:"Georgian",de:"German",el:"Greek",gn:"Guarani",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",he:"Hebrew",hz:"Herero",hi:"Hindi",ho:"Hiri Motu",hu:"Hungarian",is:"Icelandic",io:"Ido",ig:"Igbo",in:"Indonesian",ia:"Interlingua",ie:"Interlingue",iu:"Inuktitut",ik:"Inupiak",ga:"Irish",it:"Italian",ja:"Japanese",jv:"Javanese",kl:"Kalaallisut, Greenlandic",kn:"Kannada",kr:"Kanuri",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ki:"Kikuyu",rw:"Kinyarwanda (Rwanda)",rn:"Kirundi",ky:"Kyrgyz",kv:"Komi",kg:"Kongo",ko:"Korean",ku:"Kurdish",kj:"Kwanyama",lo:"Lao",la:"Latin",lv:"Latvian (Lettish)",li:"Limburgish ( Limburger)",ln:"Lingala",lt:"Lithuanian",lu:"Luga-Katanga",lg:"Luganda, Ganda",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mh:"Marshallese",mo:"Moldavian",mn:"Mongolian",na:"Nauru",nv:"Navajo",ng:"Ndonga",nd:"Northern Ndebele",ne:"Nepali",no:"Norwegian",nb:"Norwegian bokm\xe5l",nn:"Norwegian nynorsk",oc:"Occitan",oj:"Ojibwe",cu:"Old Church Slavonic, Old Bulgarian",or:"Oriya",om:"Oromo (Afaan Oromo)",os:"Ossetian",pi:"P\u0101li",ps:"Pashto, Pushto",fa:"Persian (Farsi)",pl:"Polish",pt:"Portuguese",pa:"Punjabi (Eastern)",qu:"Quechua",rm:"Romansh",ro:"Romanian",ru:"Russian",se:"Sami",sm:"Samoan",sg:"Sango",sa:"Sanskrit",sr:"Serbian",sh:"Serbo-Croatian",st:"Sesotho",tn:"Setswana",sn:"Shona",ii:"Sichuan Yi, Nuosu",sd:"Sindhi",si:"Sinhalese",ss:"Siswati (Swati)",sk:"Slovak",sl:"Slovenian",so:"Somali",nr:"Southern Ndebele",es:"Spanish",su:"Sundanese",sw:"Swahili (Kiswahili)",sv:"Swedish",tl:"Tagalog",ty:"Tahitian",tg:"Tajik",ta:"Tamil",tt:"Tatar",te:"Telugu",th:"Thai",bo:"Tibetan",ti:"Tigrinya",to:"Tonga",ts:"Tsonga",tr:"Turkish",tk:"Turkmen",tw:"Twi",ug:"Uyghur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volap\xfck",wa:"Wallon",cy:"Welsh",wo:"Wolof",fy:"Western Frisian",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang, Chuang",zu:"Zulu"};var d=t(53107);function y(I,T){if(1&I&&(d.qex(0),d.nrm(1,"track",4),d.bVm()),2&I){const R=T.$implicit;d.R7$(),d.Y8G("src",R.src,d.B4B)("label",R.langLabel)("srclang",R.srclang)}}function E(I,T){if(1&I&&(d.qex(0),d.DNE(1,y,2,3,"ng-container",3),d.bVm()),2&I){const R=T.ngIf;d.R7$(),d.Y8G("ngForOf",R)}}function _(I,T){if(1&I){const R=d.RV6();d.j41(0,"button",12),d.bIt("click",function(){const w=d.eBV(R).index,v=d.XpG(2);return d.Njj(v.selectedMedia(w))}),d.EFF(1),d.k0s()}if(2&I){const R=T.$implicit,u=d.XpG(2);d.R7$(),d.SpI(" ",u.dsoNameService.getName(R.bitstream)," ")}}function b(I,T){if(1&I){const R=d.RV6();d.j41(0,"div",5)(1,"button",6),d.bIt("click",function(){d.eBV(R);const w=d.XpG();return d.Njj(w.prevMedia())}),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.j41(4,"button",7),d.bIt("click",function(){d.eBV(R);const w=d.XpG();return d.Njj(w.nextMedia())}),d.EFF(5),d.nI1(6,"translate"),d.k0s(),d.j41(7,"div",8)(8,"button",9),d.EFF(9),d.nI1(10,"translate"),d.k0s(),d.j41(11,"div",10),d.DNE(12,_,2,1,"button",11),d.k0s()()()}if(2&I){const R=d.XpG();d.R7$(),d.Y8G("disabled",0===R.currentIndex),d.R7$(),d.SpI(" ",d.bMT(3,6,"media-viewer.previous")," "),d.R7$(2),d.Y8G("disabled",R.currentIndex===R.medias.length-1),d.R7$(),d.SpI(" ",d.bMT(6,8,"media-viewer.next")," "),d.R7$(4),d.SpI(" ",d.bMT(10,10,"media-viewer.playlist")," "),d.R7$(3),d.Y8G("ngForOf",R.medias)}}let O=(()=>{class I{constructor(R){this.dsoNameService=R,this.captions=[],this.isCollapsed=!1,this.currentIndex=0,this.replacements={video:"./assets/images/replacement_video.svg",audio:"./assets/images/replacement_audio.svg"}}getMediaCap(R,u){const w=[],v=u.filter(S=>S.name.substring(0,S.name.length-7).toLowerCase()===R.toLowerCase());for(const S of v){const M=S.name.slice(-6,-4).toLowerCase();w.push(new f(S._links.content.href,M,g[M]))}return w}selectedMedia(R){this.currentIndex=R}nextMedia(){this.currentIndex++}prevMedia(){this.currentIndex--}static#e=this.\u0275fac=function(u){return new(u||I)(d.rXU(e.f))};static#t=this.\u0275cmp=d.VBU({type:I,selectors:[["ds-base-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},standalone:!0,features:[d.aNF],decls:3,vars:4,consts:[["crossorigin","anonymous","id","singleVideo","preload","none","controls","",3,"src","poster"],[4,"ngIf"],["class","buttons",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"src","label","srclang"],[1,"buttons"],[1,"btn","btn-primary","previous",3,"click","disabled"],[1,"btn","btn-primary","next",3,"click","disabled"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary","playlist"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","","class","list-element",3,"click",4,"ngFor","ngForOf"],["ngbDropdownItem","",1,"list-element",3,"click"]],template:function(u,w){1&u&&(d.j41(0,"video",0),d.DNE(1,E,2,1,"ng-container",1),d.k0s(),d.DNE(2,b,13,12,"div",2)),2&u&&(d.Y8G("src",w.medias[w.currentIndex].bitstream._links.content.href,d.B4B)("poster",w.medias[w.currentIndex].thumbnail||w.replacements[w.medias[w.currentIndex].format],d.B4B),d.R7$(),d.Y8G("ngIf",w.getMediaCap(w.medias[w.currentIndex].bitstream.name,w.captions)),d.R7$(),d.Y8G("ngIf",(null==w.medias?null:w.medias.length)>1))},dependencies:[i.Sq,n.zH,n.tg,n.do,n.U0,n._H,c.h,c.D9,i.bT],styles:["video[_ngcontent-%COMP%]{width:100%;height:auto;max-width:340px}.buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem}"]})}return I})()},15876:(B,D,t)=>{"use strict";t.d(D,{U:()=>g});var i=t(21124),c=(t(94284),t(53107));const e=["*"];function f(d,y){}let g=(()=>{class d extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["medias","captions"]}getComponentName(){return"MediaViewerVideoComponent"}importThemedComponent(E){return t(61196)(`./${E}/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,94284))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=c.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},71172:(B,D,t)=>{"use strict";t.r(D),t.d(D,{MediaViewerComponent:()=>Q});var i=t(54460),n=t(69685),c=t(71217),e=t(41483),f=t(37610),g=t(86722),d=t(78052);t(47376);class E{}var _=t(12007),b=t(72683),O=t(21548),I=t(24106),T=t(63524),R=t(7044),u=t(56528),w=t(15876),v=t(53107);const S=()=>["audio","video"];function M(J,z){1&J&&(v.nrm(0,"ds-loading",4),v.nI1(1,"translate")),2&J&&(v.FS9("message",v.bMT(1,2,"loading.default")),v.Y8G("showMessage",!1))}function L(J,z){if(1&J&&(v.nrm(0,"ds-media-viewer-video",9),v.nI1(1,"async")),2&J){const q=v.XpG(5).ngVar,ee=v.XpG();v.Y8G("medias",q)("captions",v.bMT(1,2,ee.captions$))}}function F(J,z){if(1&J&&v.nrm(0,"ds-media-viewer-image",10),2&J){const q=v.XpG(5).ngVar;v.Y8G("images",q)}}function $(J,z){1&J&&v.eu8(0)}function j(J,z){if(1&J&&(v.qex(0),v.DNE(1,L,2,4,"ds-media-viewer-video",7)(2,F,1,1,"ds-media-viewer-image",8)(3,$,1,0,"ng-container",6),v.bVm()),2&J){const q=z.ngVar,ee=v.XpG().ngVar;v.XpG(3);const de=v.sdS(4);v.R7$(),v.Y8G("ngIf",ee),v.R7$(),v.Y8G("ngIf",q),v.R7$(),v.Y8G("ngIf",q||ee)("ngIfElse",de)}}function x(J,z){if(1&J&&(v.qex(0),v.DNE(1,j,4,4,"ng-container",1),v.bVm()),2&J){const q=v.XpG(3).ngVar,ee=v.XpG();v.R7$(),v.Y8G("ngVar",ee.mediaOptions.image&&"image"===(null==q[0]?null:q[0].format))}}function G(J,z){if(1&J&&(v.qex(0),v.DNE(1,x,2,1,"ng-container",1),v.bVm()),2&J){const q=v.XpG(2).ngVar,ee=v.XpG();v.R7$(),v.Y8G("ngVar",ee.mediaOptions.video&&v.lJ4(1,S).includes(null==q[0]?null:q[0].format))}}function Y(J,z){if(1&J&&(v.j41(0,"div",5),v.DNE(1,G,2,2,"ng-container",6),v.k0s()),2&J){const q=v.XpG().ngVar,ee=v.sdS(4);v.R7$(),v.Y8G("ngIf",q.length>0)("ngIfElse",ee)}}function V(J,z){if(1&J&&(v.nrm(0,"ds-media-viewer-image",13),v.nI1(1,"async")),2&J){let q;const ee=v.XpG(3);v.Y8G("image",(null==(q=v.bMT(1,2,ee.thumbnailsRD$))||null==q.payload||null==q.payload.page[0]?null:q.payload.page[0]._links.content.href)||ee.thumbnailPlaceholder)("preview",!1)}}function X(J,z){if(1&J&&(v.nrm(0,"ds-thumbnail",14),v.nI1(1,"async")),2&J){let q;const ee=v.XpG(3);v.Y8G("thumbnail",null==(q=v.bMT(1,1,ee.thumbnailsRD$))||null==q.payload?null:q.payload.page[0])}}function K(J,z){if(1&J&&v.DNE(0,V,2,4,"ds-media-viewer-image",11)(1,X,2,3,"ds-thumbnail",12),2&J){const q=v.XpG(2);v.Y8G("ngIf",q.mediaOptions.image&&q.mediaOptions.video),v.R7$(),v.Y8G("ngIf",!(q.mediaOptions.image&&q.mediaOptions.video))}}function ae(J,z){if(1&J&&(v.qex(0),v.DNE(1,M,2,4,"ds-loading",2)(2,Y,2,2,"div",3)(3,K,2,2,"ng-template",null,0,v.C5r),v.bVm()),2&J){const q=v.XpG();v.R7$(),v.Y8G("ngIf",q.isLoading),v.R7$(),v.Y8G("ngIf",!q.isLoading)}}let Q=(()=>{class J{constructor(q,ee){this.bitstreamDataService=q,this.changeDetectorRef=ee,this.mediaOptions=g.c.mediaViewer,this.mediaList$=new c.t([]),this.captions$=new c.t([]),this.isLoading=!0,this.thumbnailPlaceholder="./assets/images/replacement_document.svg",this.subs=[]}ngOnDestroy(){this.subs.forEach(q=>q.unsubscribe())}ngOnInit(){const q=[...this.mediaOptions.image?["image"]:[],...this.mediaOptions.video?["audio","video"]:[]];this.thumbnailsRD$=this.loadRemoteData("THUMBNAIL"),this.subs.push(this.loadRemoteData("ORIGINAL").subscribe(ee=>{0===ee.payload.page.length?(this.isLoading=!1,this.mediaList$.next([])):this.subs.push(this.thumbnailsRD$.subscribe(de=>{for(let Ce=0;Ce<ee.payload.page.length;Ce++)this.subs.push(ee.payload.page[Ce].format.pipe((0,_.ak)()).subscribe(Z=>{const le=this.createMediaViewerItem(ee.payload.page[Ce],Z,de.payload&&de.payload.page[Ce]);q.includes(le.format)?this.mediaList$.next([...this.mediaList$.getValue(),le]):"text/vtt"===Z.mimetype&&this.captions$.next([...this.captions$.getValue(),ee.payload.page[Ce]])}));this.isLoading=!1,this.changeDetectorRef.detectChanges()}))}))}loadRemoteData(q){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,q,{},!0,!0,(0,I.s)("format")).pipe((0,e.p)(ee=>(0,b.a4)(ee)&&((0,b.a4)(ee.errorMessage)||(0,b.a4)(ee.payload))),(0,f.s)(1))}createMediaViewerItem(q,ee,de){const Ce=new E;return Ce.bitstream=q,Ce.format=ee.mimetype.split("/")[0],Ce.mimetype=ee.mimetype,Ce.thumbnail=de?de._links.content.href:null,Ce}static#e=this.\u0275fac=function(ee){return new(ee||J)(v.rXU(d.BitstreamDataService),v.rXU(v.gRc))};static#t=this.\u0275cmp=v.VBU({type:J,selectors:[["ds-base-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},standalone:!0,features:[v.aNF],decls:2,vars:3,consts:[["showThumbnail",""],[4,"ngVar"],[3,"message","showMessage",4,"ngIf"],["class","media-viewer",4,"ngIf"],[3,"message","showMessage"],[1,"media-viewer"],[4,"ngIf","ngIfElse"],[3,"medias","captions",4,"ngIf"],[3,"images",4,"ngIf"],[3,"medias","captions"],[3,"images"],[3,"image","preview",4,"ngIf"],[3,"thumbnail",4,"ngIf"],[3,"image","preview"],[3,"thumbnail"]],template:function(ee,de){1&ee&&(v.DNE(0,ae,5,2,"ng-container",1),v.nI1(1,"async")),2&ee&&v.Y8G("ngVar",v.bMT(1,1,de.mediaList$))},dependencies:[u.Q,R.T,i.Jj,i.bT,w.U,n.h,n.D9,O.v,T.r]})}return J})()},30295:(B,D,t)=>{"use strict";t.d(D,{e:()=>c});var i=t(72683),n=t(53107);let c=(()=>{class e{ngOnInit(){this.objects=[],this.subscriptions=[],this.increase()}getPage(g){}increase(){const g=this.getPage(this.objects.length+1);(0,i.a4)(g)&&this.objects.push(g)}decrease(){this.objects.length>1&&this.objects.pop()}ngOnDestroy(){(0,i.hj)(this.subscriptions)&&this.subscriptions.forEach(g=>{g.unsubscribe()})}static#e=this.\u0275fac=function(d){return new(d||e)};static#t=this.\u0275cmp=n.VBU({type:e,selectors:[["ds-abstract-incremental-list"]],standalone:!0,features:[n.aNF],decls:0,vars:0,template:function(d,y){},encapsulation:2})}return e})()},70789:(B,D,t)=>{"use strict";t.r(D),t.d(D,{FileSectionComponent:()=>x});var i=t(54460),n=t(69685),c=t(71217),e=t(18062),f=t(83116),g=t(78052),y=(t(47376),t(12007)),E=t(72683),_=t(60902),b=t(21548),O=t(8460),I=t(79224),T=t(89351),R=t(63524),u=t(53107);function w(G,Y){1&G&&(u.j41(0,"span",11),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&G&&(u.R7$(),u.JRh(u.bMT(2,1,"item.page.bitstreams.primary")))}function v(G,Y){if(1&G&&u.nrm(0,"span",12),2&G){const V=u.XpG(4);u.FS9("innerHTML",V.separator,u.npT)}}function S(G,Y){if(1&G&&(u.j41(0,"ds-file-download-link",8)(1,"span"),u.DNE(2,w,3,3,"span",9),u.EFF(3),u.k0s(),u.j41(4,"span"),u.EFF(5),u.nI1(6,"dsFileSize"),u.k0s(),u.DNE(7,v,1,1,"span",10),u.k0s()),2&G){const V=Y.$implicit,X=Y.last,K=u.XpG(3);u.Y8G("bitstream",V)("item",K.item),u.R7$(2),u.Y8G("ngIf",K.primaryBitsreamId===V.id),u.R7$(),u.SpI(" ",K.dsoNameService.getName(V)," "),u.R7$(2),u.SpI(" (",u.bMT(6,6,null==V?null:V.sizeBytes),")"),u.R7$(2),u.Y8G("ngIf",!X)}}function M(G,Y){1&G&&(u.nrm(0,"ds-loading",13),u.nI1(1,"translate")),2&G&&(u.FS9("message",u.bMT(1,2,"loading.default")),u.Y8G("showMessage",!1))}function L(G,Y){if(1&G){const V=u.RV6();u.j41(0,"div",14)(1,"button",15),u.bIt("click",function(){u.eBV(V);const K=u.XpG(3);return u.Njj(K.getNextPage())}),u.EFF(2),u.nI1(3,"translate"),u.k0s()()}2&G&&(u.R7$(2),u.JRh(u.bMT(3,1,"item.page.bitstreams.view-more")))}function F(G,Y){if(1&G){const V=u.RV6();u.j41(0,"div",16)(1,"button",17),u.bIt("click",function(){u.eBV(V);const K=u.XpG(3);return K.currentPage=void 0,u.Njj(K.getNextPage())}),u.EFF(2),u.nI1(3,"translate"),u.k0s()()}2&G&&(u.R7$(2),u.JRh(u.bMT(3,1,"item.page.bitstreams.collapse")))}function $(G,Y){if(1&G&&(u.j41(0,"ds-metadata-field-wrapper",2),u.nI1(1,"translate"),u.j41(2,"div",3),u.DNE(3,S,8,8,"ds-file-download-link",4)(4,M,2,4,"ds-loading",5)(5,L,4,3,"div",6)(6,F,4,3,"div",7),u.k0s()()),2&G){const V=u.XpG().ngVar,X=u.XpG();u.Y8G("label",u.bMT(1,5,X.label)),u.R7$(3),u.Y8G("ngForOf",V),u.R7$(),u.Y8G("ngIf",X.isLoading),u.R7$(),u.Y8G("ngIf",!X.isLastPage),u.R7$(),u.Y8G("ngIf",X.isLastPage&&1!==X.currentPage)}}function j(G,Y){if(1&G&&(u.qex(0),u.DNE(1,$,7,7,"ds-metadata-field-wrapper",1),u.bVm()),2&G){const V=Y.ngVar;u.R7$(),u.Y8G("ngIf",(null==V?null:V.length)>0)}}let x=(()=>{class G{constructor(V,X,K,ae,Q){this.bitstreamDataService=V,this.notificationsService=X,this.translateService=K,this.dsoNameService=ae,this.appConfig=Q,this.label="item.page.files",this.separator="<br/>",this.pageSize=this.appConfig.item.bitstream.pageSize}ngOnInit(){this.getPrimaryBitstreamId(),this.getNextPage()}getPrimaryBitstreamId(){this.bitstreamDataService.findPrimaryBitstreamByItemAndName(this.item,"ORIGINAL",!0,!0).subscribe(V=>{V&&(this.primaryBitsreamId=V?.id)})}getNextPage(){this.isLoading=!0,void 0===this.currentPage?(this.currentPage=1,this.bitstreams$=new c.t([])):this.currentPage++,this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{currentPage:this.currentPage,elementsPerPage:this.pageSize}).pipe((0,y.qD)()).subscribe(V=>{if(V.errorMessage)this.notificationsService.error(this.translateService.get("file-section.error.header"),`${V.statusCode} ${V.errorMessage}`);else if((0,E.a4)(V.payload)){const X=this.bitstreams$.getValue();this.bitstreams$.next([...X,...V.payload.page]),this.isLoading=!1,this.isLastPage=this.currentPage===V.payload.totalPages}})}static#e=this.\u0275fac=function(X){return new(X||G)(u.rXU(g.BitstreamDataService),u.rXU(I.I),u.rXU(n.c$),u.rXU(f.f),u.rXU(e.vQ))};static#t=this.\u0275cmp=u.VBU({type:G,selectors:[["ds-base-item-page-file-section"]],inputs:{item:"item"},standalone:!0,features:[u.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"label",4,"ngIf"],[3,"label"],[1,"file-section"],[3,"bitstream","item",4,"ngFor","ngForOf"],[3,"message","showMessage",4,"ngIf"],["class","mt-1","id","view-more",4,"ngIf"],["class","mt-1","id","collapse",4,"ngIf"],[3,"bitstream","item"],["class","badge badge-primary",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"badge","badge-primary"],[3,"innerHTML"],[3,"message","showMessage"],["id","view-more",1,"mt-1"],[1,"bitstream-view-more","btn","btn-outline-secondary","btn-sm",3,"click"],["id","collapse",1,"mt-1"],[1,"bitstream-collapse","btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(X,K){1&X&&(u.DNE(0,j,2,1,"ng-container",0),u.nI1(1,"async")),2&X&&u.Y8G("ngVar",u.bMT(1,1,K.bitstreams$))},dependencies:[i.MD,i.Sq,i.bT,i.Jj,_.z,O.Q,b.v,n.h,n.D9,T.s,R.r],encapsulation:2})}return G})()},88468:(B,D,t)=>{"use strict";t.r(D),t.d(D,{ItemPageTitleFieldComponent:()=>d});var i=t(54460),n=t(69685),c=t(83116),f=(t(47376),t(53107));function g(y,E){if(1&y&&(f.j41(0,"div",3),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&y){const _=E.ngIf;f.R7$(),f.SpI(" ",f.bMT(2,1,_.toLowerCase()+".page.titleprefix")," ")}}let d=(()=>{class y{constructor(_){this.dsoNameService=_}static#e=this.\u0275fac=function(b){return new(b||y)(f.rXU(c.f))};static#t=this.\u0275cmp=f.VBU({type:y,selectors:[["ds-base-item-page-title-field"]],inputs:{item:"item"},standalone:!0,features:[f.aNF],decls:4,vars:2,consts:[[1,"item-page-title-field"],["class","d-inline",4,"ngIf"],[1,"dont-break-out"],[1,"d-inline"]],template:function(b,O){1&b&&(f.j41(0,"h1",0),f.DNE(1,g,3,3,"div",1),f.j41(2,"span",2),f.EFF(3),f.k0s()()),2&b&&(f.R7$(),f.Y8G("ngIf",O.item.firstMetadataValue("dspace.entity.type")),f.R7$(2),f.JRh(O.dsoNameService.getName(O.item)))},dependencies:[i.bT,n.h,n.D9],encapsulation:2})}return y})()},41195:(B,D,t)=>{"use strict";t.d(D,{V:()=>d}),t(47376);var n=t(21124),e=(t(88468),t(53107));const f=["*"];function g(y,E){}let d=(()=>{class y extends n.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"ItemPageTitleFieldComponent"}importThemedComponent(_){return t(17026)(`./${_}/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,88468))}static#e=this.\u0275fac=(()=>{let _;return function(O){return(_||(_=e.xGo(y)))(O||y)}})();static#t=this.\u0275cmp=e.VBU({type:y,selectors:[["ds-item-page-title-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(b,O){1&b&&(e.NAR(),e.DNE(0,g,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return y})()},3618:(B,D,t)=>{"use strict";t.d(D,{EF:()=>R,NG:()=>T,W2:()=>I,g0:()=>O,ky:()=>b});var i=t(53107),n=t(63016),c=t(35466),e=t(76627),f=t(27035),g=t(47947),d=t(66645),y=t(22867),E=t(12007),_=t(72683);const b=new i.nKC("paginatedRelationsToItems",{providedIn:"root",factory:()=>R}),O=u=>(w,v)=>{if(!Array.isArray(w)||!Array.isArray(v))return!1;const S=w.map(u),M=v.map(u);return S.length===M.length&&S.every(L=>M.includes(L))&&M.every(L=>S.includes(L))},I=()=>O(u=>(0,_.a4)(u)?u.id:void 0),T=u=>w=>w.pipe((0,f.Z)(v=>0===v.length?(0,n.of)([]):(0,c.y)(...v.map(S=>(0,e.z)([S.leftItem,S.rightItem])))),(0,g.T)(v=>v.filter(([S,M])=>S.hasSucceeded&&M.hasSucceeded).map(([S,M])=>S.payload.id===u?M.payload:M.payload.id===u?S.payload:void 0).filter(S=>(0,_.a4)(S))),(0,d.F)(I())),R=u=>w=>w.pipe((0,E.qD)(),(0,y.n)(v=>(0,e.z)(v.payload.page.map(S=>(0,e.z)([S.leftItem.pipe((0,E.qD)(),(0,g.T)(M=>M.hasSucceeded?M.payload:null)),S.rightItem.pipe((0,E.qD)(),(0,g.T)(M=>M.hasSucceeded?M.payload:null))]))).pipe((0,g.T)(S=>S.map(([M,L])=>(0,_.a4)(M)&&M.id===u?L:(0,_.a4)(L)&&L.id===u?M:void 0).filter(M=>(0,_.a4)(M))),(0,d.F)(I()),(0,g.T)(S=>Object.assign(v,{payload:Object.assign(v.payload,{page:S})})))))},91345:(B,D,t)=>{"use strict";t.r(D),t.d(D,{MetadataRepresentationListComponent:()=>Y});var i=t(54460),n=t(69685),c=t(35466),e=t(47947),f=t(41198),g=t(58183),d=t(96459),y=t(20960),_=(t(47376),t(64953)),b=t(72162),O=t(12007),I=t(21548),T=t(8460),R=t(37706),u=t(63524),w=t(30295),v=t(53107);const S=V=>({amount:V});function M(V,X){1&V&&v.nrm(0,"ds-metadata-representation-loader",6),2&V&&v.Y8G("mdRepresentation",X.$implicit)}function L(V,X){1&V&&(v.nrm(0,"ds-loading",7),v.nI1(1,"translate")),2&V&&v.FS9("message",v.bMT(1,1,"loading.default"))}function F(V,X){if(1&V){const K=v.RV6();v.j41(0,"div",11)(1,"button",12),v.bIt("click",function(){v.eBV(K);const Q=v.XpG(4);return v.Njj(Q.increase())}),v.EFF(2),v.nI1(3,"translate"),v.k0s()()}if(2&V){const K=v.XpG(4);v.R7$(2),v.JRh(v.i5U(3,1,"item.page.related-items.view-more",v.eq3(4,S,K.total-K.objects.length*K.incrementBy<K.incrementBy?K.total-K.objects.length*K.incrementBy:K.incrementBy)))}}function $(V,X){if(1&V){const K=v.RV6();v.j41(0,"div",13)(1,"button",12),v.bIt("click",function(){v.eBV(K);const Q=v.XpG(4);return v.Njj(Q.decrease())}),v.EFF(2),v.nI1(3,"translate"),v.k0s()()}if(2&V){const K=v.XpG(2).ngVar;v.R7$(2),v.JRh(v.i5U(3,1,"item.page.related-items.view-less",v.eq3(4,S,null==K?null:K.length)))}}function j(V,X){if(1&V&&(v.j41(0,"div",8),v.DNE(1,F,4,6,"div",9)(2,$,4,6,"div",10),v.k0s()),2&V){const K=v.XpG(3);v.R7$(),v.Y8G("ngIf",K.objects.length*K.incrementBy<K.total),v.R7$(),v.Y8G("ngIf",K.objects.length>1)}}function x(V,X){if(1&V&&(v.qex(0),v.DNE(1,M,1,1,"ds-metadata-representation-loader",3)(2,L,2,3,"ds-loading",4)(3,j,3,2,"div",5),v.bVm()),2&V){const K=X.ngVar,ae=v.XpG().index,Q=v.XpG();v.R7$(),v.Y8G("ngForOf",K),v.R7$(),v.Y8G("ngIf",ae+1===Q.objects.length&&ae>0&&(!K||0===(null==K?null:K.length))),v.R7$(),v.Y8G("ngIf",ae+1===Q.objects.length&&(null==K?null:K.length)>0)}}function G(V,X){if(1&V&&(v.qex(0),v.DNE(1,x,4,3,"ng-container",2),v.nI1(2,"async"),v.bVm()),2&V){const K=X.$implicit;v.R7$(),v.Y8G("ngVar",v.bMT(2,1,K))}}let Y=(()=>{class V extends w.e{constructor(K,ae,Q){super(),this.relationshipService=K,this.browseDefinitionDataService=ae,this.metadataService=Q,this.incrementBy=10}getPage(K){const ae=this.parentItem.findMetadataSortedByPlace(this.metadataFields);return this.total=ae.length,this.resolveMetadataRepresentations(ae,K)}resolveMetadataRepresentations(K,ae){return(0,c.y)(...K.slice(this.objects.length*this.incrementBy,this.objects.length*this.incrementBy+this.incrementBy).map(Q=>Object.assign(new _.vD,Q)).map(Q=>{if(this.metadataService.isVirtual(Q))return this.relationshipService.resolveMetadataRepresentation(Q,this.parentItem,this.itemType);{let J=[];return this.metadataFields.forEach(z=>{J=J.concat(f.q.toSearchKeyArray(z))}),this.browseDefinitionDataService.findByFields(this.metadataFields).pipe((0,O.qD)(),(0,e.T)(z=>Object.assign(new b.Q(this.itemType,z.payload),Q)))}}))}static#e=this.\u0275fac=function(ae){return new(ae||V)(v.rXU(d.RelationshipDataService),v.rXU(g.BrowseDefinitionDataService),v.rXU(y.T))};static#t=this.\u0275cmp=v.VBU({type:V,selectors:[["ds-base-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},standalone:!0,features:[v.Vt3,v.aNF],decls:2,vars:2,consts:[[3,"label"],[4,"ngFor","ngForOf"],[4,"ngVar"],[3,"mdRepresentation",4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],["class","d-inline-block w-100 mt-2",4,"ngIf"],[3,"mdRepresentation"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],["class","float-left",4,"ngIf"],["class","float-right",4,"ngIf"],[1,"float-left"],[1,"btn","btn-link","btn-link-inline",3,"click"],[1,"float-right"]],template:function(ae,Q){1&ae&&(v.j41(0,"ds-metadata-field-wrapper",0),v.DNE(1,G,3,3,"ng-container",1),v.k0s()),2&ae&&(v.Y8G("label",Q.label),v.R7$(),v.Y8G("ngForOf",Q.objects))},dependencies:[T.Q,i.pM,u.r,R.V,i.bT,I.v,i.Jj,n.h,n.D9],encapsulation:2})}return V})()},82506:(B,D,t)=>{"use strict";t.d(D,{U$:()=>L,EN:()=>M});var i=t(53107),n=t(76627),c=t(1703),e=t(47947),f=t(18062),g=t(66559),d=t(45122),y=t(89632),E=t(9843),_=t(95438),b=t(15687),O=t(98985),I=t(71526),T=t(25744),R=t(3631),u=t(67899),w=function(F){return F.Workspace="workspace",F.SupervisedItems="supervisedWorkspace",F.Workflow="workflow",F}(w||{}),v=t(95968);const S=new Map([[w.Workspace,I.o.Workspace],[w.SupervisedItems,I.o.SupervisedItems],[w.Workflow,I.o.Workflow]]),M=new i.nKC("searchConfigurationService");let L=(()=>{class F extends R.g{constructor(j,x,G,Y,V,X,K,ae,Q){super(x,G,Y,V,X,K,ae,Q),this.roleService=j,this.routeService=x,this.paginationService=G,this.route=Y,this.linkService=V,this.halService=X,this.requestService=K,this.rdb=ae,this.appConfig=Q,this.defaultPagination=Object.assign(new u.W,{id:"mydspace-page",pageSize:10,currentPage:1}),this.defaultSort=new y.z("dc.date.issued",y.U.DESC),this.defaultConfiguration="workspace",this.defaultScope="",this.defaultQuery="",this._defaults=null,this.initDefaults(),this.isSubmitter$=this.roleService.isSubmitter(),this.isController$=this.roleService.isController(),this.isAdmin$=this.roleService.isAdmin()}getAvailableConfigurationTypes(){return(0,n.z)(this.isSubmitter$,this.isController$,this.isAdmin$).pipe((0,c.$)(),(0,e.T)(([j,x,G])=>{const Y=[];return j&&Y.push(w.Workspace),(x||G)&&(Y.push(w.SupervisedItems),Y.push(w.Workflow)),Y}))}getAvailableConfigurationOptions(){return this.getAvailableConfigurationTypes().pipe((0,c.$)(),(0,e.T)(j=>{const x=[];return j.forEach(G=>{const Y=G,V=`mydspace.show.${Y}`,X=S.get(G);x.push({value:Y,label:V,context:X})}),x}))}static#e=this.\u0275fac=function(x){return new(x||F)(i.KVO(b.W),i.KVO(O.v$),i.KVO(_.m),i.KVO(v.nX),i.KVO(g._),i.KVO(T.Y),i.KVO(E.B),i.KVO(d.o),i.KVO(f.vQ))};static#t=this.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})()},64200:(B,D,t)=>{"use strict";t.d(D,{o:()=>ae});var i=t(54460),n=t(53107),c=t(1703),e=t(21706),f=t(25744),g=t(72683),d=t(79224),y=t(44277),E=t(96013),_=t(69685),b=t(63200),O=t(2155);let I=(()=>{class Q{constructor(z){this.activeModal=z}selectObject(z){this.activeModal.close(z.collection)}close(){this.activeModal.close()}static#e=this.\u0275fac=function(q){return new(q||Q)(n.rXU(O.Lw))};static#t=this.\u0275cmp=n.VBU({type:Q,selectors:[["ds-collection-selector"]],standalone:!0,features:[n.aNF],decls:9,vars:3,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"selectionChange"]],template:function(q,ee){1&q&&(n.j41(0,"div")(1,"div",0),n.EFF(2),n.nI1(3,"translate"),n.j41(4,"button",1),n.bIt("click",function(){return ee.close()}),n.j41(5,"span",2),n.EFF(6,"\xd7"),n.k0s()()(),n.j41(7,"div",3)(8,"ds-collection-dropdown",4),n.bIt("selectionChange",function(Ce){return ee.selectObject(Ce)}),n.k0s()()()),2&q&&(n.R7$(2),n.SpI("",n.bMT(3,1,"dso-selector.create.submission.head")," "))},dependencies:[b.m,_.h,_.D9]})}return Q})();var T=t(71217),R=t(63016),u=t(27035),w=t(37610),v=t(47947),S=t(24119),M=t(76938),L=t(75911),F=t(95968);function $(Q,J){if(1&Q){const z=n.RV6();n.j41(0,"div",2)(1,"button",3),n.nI1(2,"translate"),n.nI1(3,"async"),n.nI1(4,"translate"),n.bIt("click",function(){n.eBV(z);const ee=n.XpG();return n.Njj(ee.openPage(ee.singleEntity))}),n.nrm(5,"i",4),n.k0s()()}if(2&Q){const z=n.XpG();n.R7$(),n.FS9("title",n.bMT(2,3,"mydspace.new-submission-external")),n.Y8G("disabled",!0!==n.bMT(3,5,z.initialized$)),n.BMQ("aria-label",n.bMT(4,7,"mydspace.new-submission-external"))}}function j(Q,J){if(1&Q){const z=n.RV6();n.j41(0,"div",5)(1,"button",6),n.nI1(2,"translate"),n.nI1(3,"async"),n.nI1(4,"translate"),n.nI1(5,"dsBrowserOnly"),n.nrm(6,"i",4)(7,"span",7),n.k0s(),n.j41(8,"div",8)(9,"ds-entity-dropdown",9),n.bIt("selectionChange",function(ee){n.eBV(z);const de=n.XpG();return n.Njj(de.openPage(ee))}),n.k0s()()()}if(2&Q){const z=n.XpG();n.R7$(),n.FS9("title",n.bMT(2,5,"mydspace.new-submission-external")),n.Y8G("disabled",!0!==n.bMT(3,7,z.initialized$)),n.BMQ("aria-label",n.bMT(4,9,"mydspace.new-submission-external"))("data-test",n.bMT(5,11,"import-dropdown")),n.R7$(8),n.Y8G("isSubmission",!1)}}let x=(()=>{class Q{constructor(z,q){this.entityTypeService=z,this.router=q,this.initialized$=new T.t(!1),this.subs=[]}ngOnInit(){this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorizedImport(),this.singleEntity$=this.moreThanOne$.pipe((0,u.Z)(z=>z?(this.initialized$.next(!0),(0,R.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipTypeImport({elementsPerPage:1,currentPage:1}).pipe((0,w.s)(1),(0,v.T)(ee=>(this.initialized$.next(!0),ee?.payload?.page[0])))),(0,w.s)(1)),this.subs.push(this.singleEntity$.subscribe(z=>{this.singleEntity=z}))}openPage(z){const q=Object.create({});z&&(q.entity=z.label),this.router.navigate(["/import-external"],{queryParams:q})}ngOnDestroy(){this.subs.filter(z=>(0,g.a4)(z)).forEach(z=>z.unsubscribe())}static#e=this.\u0275fac=function(q){return new(q||Q)(n.rXU(S.f),n.rXU(F.Ix))};static#t=this.\u0275cmp=n.VBU({type:Q,selectors:[["ds-my-dspace-new-external-dropdown"]],standalone:!0,features:[n.aNF],decls:4,vars:6,consts:[["class","add",4,"ngIf"],["class","add w-100","display","dynamic","placement","bottom-right","ngbDropdown","",4,"ngIf"],[1,"add"],["role","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ml-2",3,"click","disabled","title"],["aria-hidden","true",1,"fa","fa-file-import"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["id","dropdownImport","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ml-2",3,"disabled","title"],["aria-hidden","true",1,"caret"],["ngbDropdownMenu","","id","importControlsDropdownMenu","aria-labelledby","dropdownImport",1,"dropdown-menu","p-0"],[3,"selectionChange","isSubmission"]],template:function(q,ee){1&q&&(n.DNE(0,$,6,9,"div",0),n.nI1(1,"async"),n.DNE(2,j,10,13,"div",1),n.nI1(3,"async")),2&q&&(n.Y8G("ngIf",!0!==n.bMT(1,2,ee.moreThanOne$)),n.R7$(2),n.Y8G("ngIf",n.bMT(3,4,ee.moreThanOne$)))},dependencies:[M.Y,O.zH,O.tg,O.do,O.U0,i.Jj,_.h,_.D9,L.L,i.bT],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#importControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .2rem #2b4e7240}"]})}return Q})();var G=t(48364);function Y(Q,J){if(1&Q){const z=n.RV6();n.j41(0,"div",2)(1,"button",3),n.nI1(2,"async"),n.nI1(3,"translate"),n.bIt("click",function(){n.eBV(z);const ee=n.XpG();return n.Njj(ee.openDialog(ee.singleEntity))}),n.nrm(4,"i",4),n.k0s()()}if(2&Q){const z=n.XpG();n.R7$(),n.Y8G("disabled",!0!==n.bMT(2,2,z.initialized$)),n.BMQ("aria-label",n.bMT(3,4,"mydspace.new-submission"))}}function V(Q,J){if(1&Q){const z=n.RV6();n.j41(0,"div",5)(1,"button",6),n.nI1(2,"translate"),n.nI1(3,"async"),n.nI1(4,"translate"),n.nI1(5,"dsBrowserOnly"),n.nrm(6,"i",4)(7,"span",7),n.k0s(),n.j41(8,"div",8)(9,"ds-entity-dropdown",9),n.bIt("selectionChange",function(ee){n.eBV(z);const de=n.XpG();return n.Njj(de.openDialog(ee))}),n.k0s()()()}if(2&Q){const z=n.XpG();n.R7$(),n.FS9("title",n.bMT(2,5,"mydspace.new-submission")),n.Y8G("disabled",!0!==n.bMT(3,7,z.initialized$)),n.BMQ("aria-label",n.bMT(4,9,"mydspace.new-submission"))("data-test",n.bMT(5,11,"submission-dropdown")),n.R7$(8),n.Y8G("isSubmission",!0)}}let X=(()=>{class Q{constructor(z,q){this.entityTypeService=z,this.modalService=q,this.subs=[]}ngOnInit(){this.initialized$=(0,R.of)(!1),this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorized(),this.singleEntity$=this.moreThanOne$.pipe((0,u.Z)(z=>z?(this.initialized$=(0,R.of)(!0),(0,R.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipType({elementsPerPage:1,currentPage:1}).pipe((0,v.T)(ee=>(this.initialized$=(0,R.of)(!0),ee.payload.page[0])),(0,w.s)(1))),(0,w.s)(1)),this.subs.push(this.singleEntity$.subscribe(z=>this.singleEntity=z))}openDialog(z){this.modalService.open(G.L).componentInstance.entityType=z.label}ngOnDestroy(){this.subs.filter(z=>(0,g.a4)(z)).forEach(z=>z.unsubscribe())}static#e=this.\u0275fac=function(q){return new(q||Q)(n.rXU(S.f),n.rXU(O.Bq))};static#t=this.\u0275cmp=n.VBU({type:Q,selectors:[["ds-my-dspace-new-submission-dropdown"]],standalone:!0,features:[n.aNF],decls:4,vars:6,consts:[["class","add",4,"ngIf"],["class","add w-100","display","dynamic","placement","bottom-right","ngbDropdown","",4,"ngIf"],[1,"add"],["role","button",1,"btn","btn-lg","btn-primary","mt-1","ml-2",3,"click","disabled"],["aria-hidden","true",1,"fa","fa-plus-circle"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["id","dropdownSubmission","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-primary","mt-1","ml-2",3,"disabled","title"],["aria-hidden","true",1,"caret"],["ngbDropdownMenu","","id","entityControlsDropdownMenu","aria-labelledby","dropdownSubmission",1,"dropdown-menu","p-0"],[3,"selectionChange","isSubmission"]],template:function(q,ee){1&q&&(n.DNE(0,Y,5,6,"div",0),n.nI1(1,"async"),n.DNE(2,V,10,13,"div",1),n.nI1(3,"async")),2&q&&(n.Y8G("ngIf",!0!==n.bMT(1,2,ee.moreThanOne$)),n.R7$(2),n.Y8G("ngIf",n.bMT(3,4,ee.moreThanOne$)))},dependencies:[M.Y,O.zH,O.tg,O.do,O.U0,i.Jj,_.h,_.D9,L.L,i.bT],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#entityControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .2rem #2b4e7240}"]})}return Q})();function K(Q,J){if(1&Q){const z=n.RV6();n.j41(0,"ds-uploader",4),n.bIt("onCompleteItem",function(ee){n.eBV(z);const de=n.XpG();return n.Njj(de.onCompleteItem(ee))})("onUploadError",function(ee){n.eBV(z);const de=n.XpG();return n.Njj(de.onUploadError(ee))})("onFileSelected",function(ee){n.eBV(z);const de=n.XpG();return n.Njj(de.afterFileLoaded(ee))}),n.k0s()}if(2&Q){const z=n.XpG();n.Y8G("uploadFilesOptions",z.uploadFilesOptions)}}let ae=(()=>{class Q{constructor(z,q,ee,de,Ce,Z,le){this.authService=z,this.changeDetectorRef=q,this.halService=ee,this.notificationsService=de,this.translate=Ce,this.modalService=Z,this.router=le,this.uploadEnd=new n.bkB,this.uploadFilesOptions=new E.H}ngOnInit(){this.uploadFilesOptions.autoUpload=!1,this.sub=this.halService.getEndpoint("workspaceitems").pipe((0,c.$)()).subscribe(z=>{this.uploadFilesOptions.url=z,this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.changeDetectorRef.detectChanges()})}onCompleteItem(z){if(z&&z._embedded&&z._embedded.workspaceitems&&z._embedded.workspaceitems.length>0){const q=z._embedded.workspaceitems;this.uploadEnd.emit(q),1===q.length?this.router.navigateByUrl("/workspaceitems/"+q[0].id+"/edit"):q.length>1&&this.notificationsService.success(null,this.translate.get("mydspace.upload.upload-multiple-successful",{qty:q.length}))}else this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed"))}onUploadError(z){let q="mydspace.upload.upload-failed";(0,g.a4)(z.status)&&422===z.status&&(q="mydspace.upload.upload-failed-manyentries"),this.notificationsService.error(null,this.translate.get(q))}afterFileLoaded(z){const q=this.uploaderComponent.uploader;(0,g.a4)(z)&&z.length>1?(this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed-moreonefile")),q.clearQueue(),this.changeDetectorRef.detectChanges()):this.modalService.open(I).result.then(de=>{q.onBuildItemForm=(Ce,Z)=>{Z.append("owningCollection",de.uuid)},q.uploadAll()})}ngOnDestroy(){(0,g.a4)(this.sub)&&this.sub.unsubscribe()}static#e=this.\u0275fac=function(q){return new(q||Q)(n.rXU(e.uR),n.rXU(n.gRc),n.rXU(f.Y),n.rXU(d.I),n.rXU(_.c$),n.rXU(O.Bq),n.rXU(F.Ix))};static#t=this.\u0275cmp=n.VBU({type:Q,selectors:[["ds-my-dspace-new-submission"]],viewQuery:function(q,ee){if(1&q&&n.GBs(y.y,5),2&q){let de;n.mGM(de=n.lsd())&&(ee.uploaderComponent=de.first)}},outputs:{uploadEnd:"uploadEnd"},standalone:!0,features:[n.aNF],decls:7,vars:1,consts:[[1,"parent","mb-3"],[1,"upload"],[3,"uploadFilesOptions","onCompleteItem","onUploadError","onFileSelected",4,"ngIf"],[1,"add"],[3,"onCompleteItem","onUploadError","onFileSelected","uploadFilesOptions"]],template:function(q,ee){1&q&&(n.j41(0,"div",0)(1,"div",1),n.DNE(2,K,1,1,"ds-uploader",2),n.k0s(),n.j41(3,"div",3),n.nrm(4,"ds-my-dspace-new-submission-dropdown"),n.k0s(),n.j41(5,"div",3),n.nrm(6,"ds-my-dspace-new-external-dropdown"),n.k0s()()),2&q&&(n.R7$(2),n.Y8G("ngIf",""!==ee.uploadFilesOptions.url))},dependencies:[x,X,y.y,i.bT],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}"]})}return Q})()},19353:(B,D,t)=>{"use strict";t.r(D),t.d(D,{MYDSPACE_ROUTE:()=>j,MyDSpacePageComponent:()=>x});var i=t(54460),n=t(37610),c=t(72683),e=t(93462),f=t(22922),g=t(26050),d=t(64953),y=t(23618),E=t(53107);let _=(()=>{class G extends y.D3{parse(V,X){const ae=X.payload._embedded.searchResult||{_embedded:{objects:[]}},Q=ae._embedded.objects.map(ee=>ee.hitHighlights).map(ee=>{const de={};if(ee)for(const Ce of Object.keys(ee)){const Z=Object.assign(new d.vD,{value:ee[Ce].join("..."),language:null});de[Ce]=[Z]}return de}),J=ae._embedded.objects.filter(ee=>(0,c.a4)(ee._embedded)).map(ee=>ee._embedded.indexableObject).map(ee=>this.process(ee,V)).map(ee=>ee._links.self.href).reduce((ee,de)=>[...ee,...de],[]),z=ae._embedded.objects.filter(ee=>(0,c.a4)(ee._embedded)).map((ee,de)=>Object.assign({},ee,{indexableObject:J[de],hitHighlights:Q[de],_embedded:this.filterEmbeddedObjects(ee)}));ae.objects=z;const q=new g.T(e.n).deserialize(ae);return q.pageInfo=this.processPageInfo(ae),this.addToObjectCache(q,V,X),new f.hT(X.statusCode,q._links.self)}filterEmbeddedObjects(V){const X=["submitter","item","workspaceitem","workflowitem"];return V._embedded.indexableObject&&V._embedded.indexableObject._embedded?Object.assign({},V._embedded,{indexableObject:Object.assign({},V._embedded.indexableObject,{_embedded:Object.keys(V._embedded.indexableObject._embedded).filter(K=>X.includes(K)).reduce((K,ae)=>(K[ae]=V._embedded.indexableObject._embedded[ae],K),{})})}):V}static#e=this.\u0275fac=(()=>{let V;return function(K){return(V||(V=E.xGo(G)))(K||G)}})();static#t=this.\u0275prov=E.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})();var b=t(70210),O=t(80382),I=t(67811),T=t(88842),R=t(74549),u=t(63011),w=t(63226),v=t(82506),S=t(64200),M=t(90218);const L=G=>[G];function F(G,Y){1&G&&E.nrm(0,"ds-my-dspace-new-submission")}function $(G,Y){if(1&G&&(E.nrm(0,"ds-search",3),E.nI1(1,"async")),2&G){const V=E.XpG();E.Y8G("configuration",V.configuration)("configurationList",E.bMT(1,4,V.configurationList$))("context",V.context)("viewModeList",V.viewModeList)}}const j="/mydspace";let x=(()=>{class G{constructor(V,X){this.service=V,this.searchConfigService=X,this.roleTypeEnum=O.T,this.viewModeList=[T.n.ListElement,T.n.DetailedListElement],this.service.setServiceOptions(_,b.WP)}ngOnInit(){this.configurationList$=this.searchConfigService.getAvailableConfigurationOptions(),this.configurationList$.pipe((0,n.s)(1)).subscribe(V=>{this.configuration=V[0].value,this.context=V[0].context})}static#e=this.\u0275fac=function(X){return new(X||G)(E.rXU(I.S),E.rXU(v.EN))};static#t=this.\u0275cmp=E.VBU({type:G,selectors:[["ds-base-my-dspace-page"]],standalone:!0,features:[E.Jv_([{provide:v.EN,useClass:v.U$}]),E.aNF],decls:5,vars:4,consts:[[1,"container"],[4,"dsShowOnlyForRole"],[3,"configuration","configurationList","context","viewModeList",4,"ngIf"],[3,"configuration","configurationList","context","viewModeList"]],template:function(X,K){1&X&&(E.j41(0,"div",0),E.nrm(1,"ds-suggestions-notification")(2,"ds-my-dspace-qa-events-notifications"),E.DNE(3,F,1,0,"ds-my-dspace-new-submission",1),E.k0s(),E.DNE(4,$,2,6,"ds-search",2)),2&X&&(E.R7$(3),E.Y8G("dsShowOnlyForRole",E.eq3(2,L,K.roleTypeEnum.Submitter)),E.R7$(),E.Y8G("ngIf",K.configuration&&K.context))},dependencies:[w.N,S.o,i.Jj,u.q,i.bT,R.w,M.P],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}  .search-controls{margin-bottom:var(--bs-spacer)}"],changeDetection:0})}return G})()},90218:(B,D,t)=>{"use strict";t.d(D,{P:()=>u});var i=t(54460),n=t(95968),c=t(69685),e=t(63016),f=t(82040),g=t(56405),d=t(61441),y=t(12007),E=t(53107);const _=w=>({num:w}),b=(w,v)=>[w,v],O=()=>({forward:!0});function I(w,v){if(1&w&&(E.j41(0,"div",3)(1,"div",4),E.nrm(2,"img",5),E.k0s(),E.j41(3,"div",6)(4,"div",7),E.EFF(5),E.nI1(6,"translate"),E.k0s(),E.j41(7,"button",8),E.EFF(8),E.nI1(9,"translate"),E.k0s()()()),2&w){const S=E.XpG().$implicit,M=E.XpG(2);E.R7$(2),E.Mz_("src","assets/images/qa-",S.id,"-logo.png",E.B4B),E.Mz_("alt","",S.id," logo"),E.R7$(3),E.SpI(" ",E.i5U(6,8,"mydspace.qa-event-notification.check.notification-info",E.eq3(13,_,S.totalEvents))," "),E.R7$(2),E.Y8G("routerLink",E.l_i(15,b,M.getQualityAssuranceRoute(),S.id))("queryParams",E.lJ4(18,O)),E.R7$(),E.SpI(" ",E.bMT(9,11,"mydspace.qa-event-notification-info.check.button")," ")}}function T(w,v){if(1&w&&(E.qex(0),E.DNE(1,I,10,19,"div",2),E.bVm()),2&w){const S=v.$implicit;E.R7$(),E.Y8G("ngIf",S.totalEvents>0)}}function R(w,v){if(1&w&&(E.qex(0),E.DNE(1,T,2,1,"ng-container",1),E.nI1(2,"async"),E.bVm()),2&w){const S=E.XpG();E.R7$(),E.Y8G("ngForOf",E.bMT(2,1,S.sources$))}}let u=(()=>{class w{constructor(S){this.qualityAssuranceSourceDataService=S,this.sources$=(0,e.of)([])}ngOnInit(){this.getSources()}getSources(){this.sources$=this.qualityAssuranceSourceDataService.getSources().pipe((0,y.qD)(),(0,f.M)(S=>{if(S.hasFailed)throw new Error("Can't retrieve Quality Assurance sources")}),(0,y.Bo)(),(0,y.W8)())}getQualityAssuranceRoute(){return(0,g.b7)()}static#e=this.\u0275fac=function(M){return new(M||w)(E.rXU(d.QualityAssuranceSourceDataService))};static#t=this.\u0275cmp=E.VBU({type:w,selectors:[["ds-my-dspace-qa-events-notifications"]],standalone:!0,features:[E.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["class","alert alert-info d-flex flex-row",4,"ngIf"],[1,"alert","alert-info","d-flex","flex-row"],[1,"source-logo-container"],["onerror","this.src='assets/images/dspace-logo.svg'",1,"source-logo",3,"src","alt"],[1,"w-100","d-flex","justify-content-between"],[1,"pl-4","align-self-center"],[1,"btn","btn-primary","align-self-center",3,"routerLink","queryParams"]],template:function(M,L){if(1&M&&(E.DNE(0,R,3,3,"ng-container",0),E.nI1(1,"async")),2&M){let F;E.Y8G("ngIf",(null==(F=E.bMT(1,1,L.sources$))?null:F.length)>0)}},dependencies:[i.Jj,i.Sq,c.h,c.D9,n.Wk,i.bT],styles:[".source-logo[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height);max-width:100%;margin:auto}.source-logo-container[_ngcontent-%COMP%]{width:var(--ds-qa-logo-width);display:flex;justify-content:center}.sections-gap[_ngcontent-%COMP%]{gap:1rem}"],changeDetection:0})}return w})()},5161:(B,D,t)=>{"use strict";t.r(D),t.d(D,{ExpandableNavbarSectionComponent:()=>u});var i=t(54460),n=t(95968),c=t(1703),e=t(74531),f=t(744),g=t(62990),d=t(78198),y=t(63524),E=t(39763),_=t(53107);function b(w,v){1&w&&_.eu8(0)}function O(w,v){1&w&&_.eu8(0)}function I(w,v){if(1&w&&(_.j41(0,"div",9),_.DNE(1,O,1,0,"ng-container",4),_.nI1(2,"async"),_.nI1(3,"async"),_.k0s()),2&w){const S=v.$implicit,M=_.XpG(3);_.R7$(),_.Y8G("ngComponentOutlet",_.bMT(2,2,M.sectionMap$).get(S.id).component)("ngComponentOutletInjector",_.bMT(3,4,M.sectionMap$).get(S.id).injector)}}function T(w,v){if(1&w){const S=_.RV6();_.j41(0,"div",7),_.bIt("click",function(L){_.eBV(S);const F=_.XpG(2);return _.Njj(F.deactivateSection(L))}),_.DNE(1,I,4,6,"div",8),_.nI1(2,"async"),_.k0s()}if(2&w){const S=_.XpG(2);_.Y8G("@slide",void 0)("id",S.expandableNavbarSectionId(S.section.id)),_.R7$(),_.Y8G("ngForOf",_.bMT(2,3,S.subSections$))}}function R(w,v){if(1&w){const S=_.RV6();_.j41(0,"div",1),_.bIt("mouseenter",function(L){const F=_.eBV(S).ngVar,$=_.XpG();return _.Njj($.onMouseEnter(L,F))})("mouseleave",function(L){const F=_.eBV(S).ngVar,$=_.XpG();return _.Njj($.onMouseLeave(L,F))}),_.j41(1,"a",2),_.bIt("keyup.enter",function(L){_.eBV(S);const F=_.XpG();return _.Njj(F.toggleSection(L))})("keyup.space",function(L){_.eBV(S);const F=_.XpG();return _.Njj(F.toggleSection(L))})("click",function(L){_.eBV(S);const F=_.XpG();return _.Njj(F.toggleSection(L))})("keydown.space",function(L){return _.eBV(S),_.Njj(L.preventDefault())}),_.j41(2,"span",3),_.DNE(3,b,1,0,"ng-container",4),_.nI1(4,"async"),_.nI1(5,"async"),_.k0s(),_.nrm(6,"i",5),_.k0s(),_.DNE(7,T,3,5,"div",6),_.k0s()}if(2&w){const S=v.ngVar,M=_.XpG();_.Y8G("id","expandable-navbar-section-"+M.section.id),_.R7$(),_.AVh("disabled",null==M.section.model?null:M.section.model.disabled),_.BMQ("aria-expanded",S)("aria-controls",M.expandableNavbarSectionId(M.section.id)),_.R7$(2),_.Y8G("ngComponentOutlet",_.bMT(4,8,M.sectionMap$).get(M.section.id).component)("ngComponentOutletInjector",_.bMT(5,10,M.sectionMap$).get(M.section.id).injector),_.R7$(4),_.Y8G("ngIf",S)}}let u=(()=>{class w extends E.X{onResize(){this.isMobile$.pipe((0,c.$)()).subscribe(S=>{S!==this.wasMobile&&(this.wasMobile=S,this.menuService.deactivateSection(this.menuID,this.section.id),this.mouseEntered=!1)})}constructor(S,M,L,F){super(S,M,L),this.menuService=M,this.injector=L,this.windowService=F,this.menuID=d.D.PUBLIC,this.mouseEntered=!1,this.wasMobile=void 0,this.isMobile$=this.windowService.isMobile()}ngOnInit(){super.ngOnInit()}onMouseEnter(S,M){this.isMobile$.pipe((0,c.$)()).subscribe(L=>{!L&&!M&&!this.mouseEntered&&this.activateSection(S),this.mouseEntered=!0})}onMouseLeave(S,M){this.isMobile$.pipe((0,c.$)()).subscribe(L=>{!L&&M&&this.mouseEntered&&this.deactivateSection(S),this.mouseEntered=!1})}expandableNavbarSectionId(S){return`expandable-navbar-section-${S}-dropdown`}static#e=this.\u0275fac=function(M){return new(M||w)(_.rXU("sectionDataProvider"),_.rXU(g.$),_.rXU(_.zZn),_.rXU(f.CV))};static#t=this.\u0275cmp=_.VBU({type:w,selectors:[["ds-base-expandable-navbar-section"]],hostBindings:function(M,L){1&M&&_.bIt("resize",function($){return L.onResize($)},!1,_.tSv)},standalone:!0,features:[_.Vt3,_.aNF],decls:2,vars:3,consts:[["class","ds-menu-item-wrapper text-md-center","data-test","navbar-section-wrapper",3,"id","mouseenter","mouseleave",4,"ngVar"],["data-test","navbar-section-wrapper",1,"ds-menu-item-wrapper","text-md-center",3,"mouseenter","mouseleave","id"],["href","javascript:void(0);","routerLinkActive","active","role","menuitem","aria-haspopup","menu","data-test","navbar-section-toggler","id","browseDropdown",1,"d-flex","flex-row","flex-nowrap","align-items-center","gapx-1","ds-menu-toggler-wrapper",3,"keyup.enter","keyup.space","click","keydown.space"],[1,"flex-fill"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",1,"fas","fa-caret-down","fa-xs","toggle-menu-icon"],["role","menu","class","dropdown-menu show nav-dropdown-menu m-0 shadow-none border-top-0 px-3 px-md-0 pt-0 pt-md-1",3,"id","click",4,"ngIf"],["role","menu",1,"dropdown-menu","show","nav-dropdown-menu","m-0","shadow-none","border-top-0","px-3","px-md-0","pt-0","pt-md-1",3,"click","id"],["class","text-nowrap","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"text-nowrap"]],template:function(M,L){1&M&&(_.DNE(0,R,8,12,"div",0),_.nI1(1,"async")),2&M&&_.Y8G("ngVar",_.bMT(1,1,L.active))},dependencies:[y.r,n.wQ,i.OI,i.bT,i.pM,i.Jj],styles:["[_nghost-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 767.98px){[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border:0;background-color:var(--ds-expandable-navbar-bg)}}@media (min-width: 768px){[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0;background-color:var(--ds-navbar-dropdown-bg)}}[_nghost-%COMP%]   .toggle-menu-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .toggle-menu-icon[_ngcontent-%COMP%]:hover{text-decoration:none}"],data:{animation:[e.M6]}})}return w})()},39763:(B,D,t)=>{"use strict";t.d(D,{X:()=>d});var i=t(54460),n=t(62990),c=t(78198),e=t(29155),f=t(53107);function g(y,E){1&y&&f.eu8(0)}let d=(()=>{class y extends e.a{constructor(_,b,O){super(_,b,O),this.menuService=b,this.injector=O,this.menuID=c.D.PUBLIC}ngOnInit(){super.ngOnInit()}static#e=this.\u0275fac=function(b){return new(b||y)(f.rXU("sectionDataProvider"),f.rXU(n.$),f.rXU(f.zZn))};static#t=this.\u0275cmp=f.VBU({type:y,selectors:[["ds-navbar-section"]],standalone:!0,features:[f.Vt3,f.aNF],decls:4,vars:7,consts:[[1,"ds-menu-item-wrapper","text-md-center",3,"id"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(b,O){1&b&&(f.j41(0,"div",0),f.DNE(1,g,1,0,"ng-container",1),f.nI1(2,"async"),f.nI1(3,"async"),f.k0s()),2&b&&(f.Y8G("id","navbar-section-"+O.section.id),f.R7$(),f.Y8G("ngComponentOutlet",f.bMT(2,3,O.sectionMap$).get(O.section.id).component)("ngComponentOutletInjector",f.bMT(3,5,O.sectionMap$).get(O.section.id).injector))},dependencies:[i.OI,i.Jj]})}return y})()},23700:(B,D,t)=>{"use strict";t.r(D),t.d(D,{NavbarComponent:()=>L});var i=t(54460),n=t(2155),c=t(73958),e=t(69685),f=t(46187),g=t(41198),d=t(77304),y=t(74531),E=t(75941),_=t(744),b=t(36051),O=t(62990),I=t(78198),T=t(16182),R=t(53107),u=t(95968);const w=F=>({open:F});function v(F,$){1&F&&(R.qex(0),R.nrm(1,"ds-user-menu",7),R.bVm()),2&F&&(R.R7$(),R.Y8G("inExpandableNavbar",!0))}function S(F,$){1&F&&R.eu8(0)}function M(F,$){if(1&F&&(R.qex(0),R.DNE(1,S,1,0,"ng-container",8),R.nI1(2,"async"),R.nI1(3,"async"),R.bVm()),2&F){let j,x;const G=$.$implicit,Y=R.XpG();R.R7$(),R.Y8G("ngComponentOutlet",null==(j=R.bMT(2,2,Y.sectionMap$).get(G.id))?null:j.component)("ngComponentOutletInjector",null==(x=R.bMT(3,4,Y.sectionMap$).get(G.id))?null:x.injector)}}let L=(()=>{class F extends b.Z{constructor(j,x,G,Y,V,X,K,ae){super(j,x,V,X,K),this.menuService=j,this.injector=x,this.windowService=G,this.browseService=Y,this.authorizationService=V,this.route=X,this.themeService=K,this.store=ae,this.menuID=I.D.PUBLIC,this.maxMobileWidth=_.tP.SM}ngOnInit(){super.ngOnInit(),this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth),this.isAuthenticated$=this.store.pipe((0,c.Lt)(f.wR))}static#e=this.\u0275fac=function(x){return new(x||F)(R.rXU(O.$),R.rXU(R.zZn),R.rXU(_.CV),R.rXU(g.q),R.rXU(d.AuthorizationDataService),R.rXU(u.nX),R.rXU(T.Fs),R.rXU(c.il))};static#t=this.\u0275cmp=R.VBU({type:F,selectors:[["ds-base-navbar"]],standalone:!0,features:[R.Vt3,R.aNF],decls:15,vars:25,consts:[["role","navigation","id","main-navbar",1,"navbar","navbar-light","navbar-expand-md","px-md-0","pt-md-0","pt-3","navbar-container",3,"ngClass"],[1,"navbar-inner-container","w-100"],[1,"w-100"],["id","collapsingNav"],[4,"ngIf"],[1,"navbar-nav","align-items-md-center","mr-auto","shadow-none","gapx-3"],[4,"ngFor","ngForOf"],[3,"inExpandableNavbar"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(x,G){1&x&&(R.j41(0,"nav",0),R.nI1(1,"async"),R.nI1(2,"async"),R.nI1(3,"async"),R.nI1(4,"translate"),R.j41(5,"div",1),R.nI1(6,"async"),R.j41(7,"div",2)(8,"div",3),R.DNE(9,v,2,1,"ng-container",4),R.nI1(10,"async"),R.nI1(11,"async"),R.j41(12,"div",5),R.DNE(13,M,4,6,"ng-container",6),R.nI1(14,"async"),R.k0s()()()()()),2&x&&(R.Y8G("ngClass",R.eq3(23,w,!0!==R.bMT(1,7,G.menuCollapsed)))("@slideMobileNav",!0!==R.bMT(2,9,G.windowService.isXsOrSm())?"default":R.bMT(3,11,G.menuCollapsed)?"collapsed":"expanded"),R.BMQ("aria-label",R.bMT(4,13,"nav.main.description")),R.R7$(5),R.AVh("container",!0!==R.bMT(6,15,G.isMobile$)),R.R7$(4),R.Y8G("ngIf",R.bMT(10,17,G.isMobile$)&&R.bMT(11,19,G.isAuthenticated$)),R.R7$(4),R.Y8G("ngForOf",R.bMT(14,21,G.sections)))},dependencies:[n.zH,n.QE,i.YU,i.bT,E.r,i.pM,i.OI,i.Jj,e.h,e.D9],styles:["[_nghost-%COMP%]{--ds-expandable-navbar-height: auto}[_nghost-%COMP%]   nav.navbar[_ngcontent-%COMP%]{background-color:var(--ds-navbar-bg);align-items:baseline;padding:0}@media screen and (max-width: 767.98px){[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{width:100%;background-color:var(--bs-white);position:absolute;overflow:hidden;height:0;z-index:var(--ds-nav-z-index)}[_nghost-%COMP%]   .navbar.open[_ngcontent-%COMP%]{height:auto;min-height:100vh;border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .reset-padding-md[_ngcontent-%COMP%]{margin-left:calc(var(--bs-spacer) / -1);margin-right:calc(var(--bs-spacer) / -1)}}@media screen and (max-width: 767.98px){[_nghost-%COMP%]   .navbar-expand-md.navbar-container[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .navbar-expand-md.navbar-container[_ngcontent-%COMP%] > .navbar-inner-container[_ngcontent-%COMP%]{padding:0 var(--bs-spacer)}}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item, [_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-toggler-wrapper{white-space:nowrap;text-decoration:none}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .dropdown-menu{padding:.5rem!important}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item{display:block;color:var(--ds-navbar-link-color);padding:.5rem 0}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item:hover, [_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item:focus{color:var(--ds-navbar-link-color-hover)}"],data:{animation:[y.p8]}})}return F})()},61274:(B,D,t)=>{"use strict";t.d(D,{D:()=>g});var i=t(21124),c=(t(23700),t(53107));const e=["*"];function f(d,y){}let g=(()=>{class d extends i.J{getComponentName(){return"NavbarComponent"}importThemedComponent(E){return t(19318)(`./${E}/app/navbar/navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,23700))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=c.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-navbar"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},93687:(B,D,t)=>{"use strict";t.d(D,{W:()=>O,I:()=>I});var i=t(73958),n=t(78380);const c={source:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0};var f=t(97638);const g={topics:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0};var y=t(51457);const E={targets:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0},_={sources:{},currentUserTargets:null,currentUserTargetsVisited:!1},O={qaTopic:function d(T=g,R){switch(R.type){case f.py.RETRIEVE_ALL_TOPICS:return Object.assign({},T,{topics:[],processing:!0});case f.py.ADD_TOPICS:return Object.assign({},T,{topics:R.payload.topics,processing:!1,loaded:!0,totalPages:R.payload.totalPages,currentPage:T.currentPage,totalElements:R.payload.totalElements});case f.py.RETRIEVE_ALL_TOPICS_ERROR:return Object.assign({},T,{processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});default:return T}},qaSource:function e(T=c,R){switch(R.type){case n.xq.RETRIEVE_ALL_SOURCE:return Object.assign({},T,{source:[],processing:!0});case n.xq.ADD_SOURCE:return Object.assign({},T,{source:R.payload.source,processing:!1,loaded:!0,totalPages:R.payload.totalPages,currentPage:T.currentPage,totalElements:R.payload.totalElements});case n.xq.RETRIEVE_ALL_SOURCE_ERROR:return Object.assign({},T,{processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});default:return T}},suggestionTarget:function b(T=_,R){switch(R.type){case y.lz.RETRIEVE_TARGETS_BY_SOURCE:{const u=T.sources[R.payload.source]||Object.assign({},E),w=Object.assign({},u,{targets:[],processing:!0});return Object.assign({},T,{sources:Object.assign({},T.sources,{[R.payload.source]:w})})}case y.lz.ADD_TARGETS:{const u=T.sources[R.payload.source]||Object.assign({},E),w=Object.assign({},u,{targets:u.targets.concat(R.payload.targets),processing:!1,loaded:!0,totalPages:R.payload.totalPages,currentPage:R.payload.currentPage,totalElements:R.payload.totalElements});return Object.assign({},T,{sources:Object.assign({},T.sources,{[R.payload.source]:w})})}case y.lz.RETRIEVE_TARGETS_BY_SOURCE_ERROR:{const u=T.sources[R.payload.source]||Object.assign({},E),w=Object.assign({},u,{targets:[],processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});return Object.assign({},T,{sources:Object.assign({},T.sources,{[R.payload.source]:w})})}case y.lz.ADD_USER_SUGGESTIONS:return Object.assign({},T,{currentUserTargets:R.payload.suggestionTargets});case y.lz.MARK_USER_SUGGESTIONS_AS_VISITED:return Object.assign({},T,{currentUserTargetsVisited:!0});case y.lz.CLEAR_TARGETS:{const u=T.sources[R.payload.source]||Object.assign({},E),w=Object.assign({},u,{targets:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0});return Object.assign({},T,{sources:Object.assign({},T.sources,{[R.payload.source]:w})})}default:return T}}},I=(0,i.UX)("suggestionNotifications")},78380:(B,D,t)=>{"use strict";t.d(D,{$_:()=>f,Fx:()=>e,lZ:()=>c,xq:()=>n});var i=t(83770);const n={ADD_SOURCE:(0,i.N)("dspace/integration/notifications/qa/ADD_SOURCE"),RETRIEVE_ALL_SOURCE:(0,i.N)("dspace/integration/notifications/qa/RETRIEVE_ALL_SOURCE"),RETRIEVE_ALL_SOURCE_ERROR:(0,i.N)("dspace/integration/notifications/qa/RETRIEVE_ALL_SOURCE_ERROR")};class c{constructor(d,y){this.type=n.RETRIEVE_ALL_SOURCE,this.payload={elementsPerPage:d,currentPage:y}}}class e{constructor(){this.type=n.RETRIEVE_ALL_SOURCE_ERROR}}class f{constructor(d,y,E,_){this.type=n.ADD_SOURCE,this.payload={source:d,totalPages:y,currentPage:E,totalElements:_}}}},58620:(B,D,t)=>{"use strict";t.d(D,{p:()=>g});var i=t(47947),n=t(89632),c=t(61441),e=t(12007),f=t(53107);let g=(()=>{class d{constructor(E){this.qualityAssuranceSourceRestService=E}getSources(E,_){const b=new n.z("name",n.U.ASC);return this.qualityAssuranceSourceRestService.getSources({elementsPerPage:E,currentPage:_,sort:b}).pipe((0,e.qD)(),(0,i.T)(I=>{if(I.hasSucceeded)return I.payload;throw new Error("Can't retrieve Quality Assurance source from the Broker source REST service")}))}static#e=this.\u0275fac=function(_){return new(_||d)(f.KVO(c.QualityAssuranceSourceDataService))};static#t=this.\u0275prov=f.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},97638:(B,D,t)=>{"use strict";t.d(D,{C3:()=>f,IL:()=>e,_v:()=>c,py:()=>n});var i=t(83770);const n={ADD_TOPICS:(0,i.N)("dspace/integration/notifications/qa/topic/ADD_TOPICS"),RETRIEVE_ALL_TOPICS:(0,i.N)("dspace/integration/notifications/qa/topic/RETRIEVE_ALL_TOPICS"),RETRIEVE_ALL_TOPICS_ERROR:(0,i.N)("dspace/integration/notifications/qa/topic/RETRIEVE_ALL_TOPICS_ERROR")};class c{constructor(d,y,E,_){this.type=n.RETRIEVE_ALL_TOPICS,this.payload={elementsPerPage:d,currentPage:y,source:E,target:_}}}class e{constructor(){this.type=n.RETRIEVE_ALL_TOPICS_ERROR}}class f{constructor(d,y,E,_){this.type=n.ADD_TOPICS,this.payload={topics:d,totalPages:y,currentPage:E,totalElements:_}}}},51457:(B,D,t)=>{"use strict";t.d(D,{Af:()=>y,Fz:()=>e,Gx:()=>g,Pc:()=>f,eb:()=>d,en:()=>_,g3:()=>E,lz:()=>n,ri:()=>c});var i=t(83770);const n={ADD_TARGETS:(0,i.N)("dspace/integration/openaire/suggestions/target/ADD_TARGETS"),CLEAR_TARGETS:(0,i.N)("dspace/integration/openaire/suggestions/target/CLEAR_TARGETS"),RETRIEVE_TARGETS_BY_SOURCE:(0,i.N)("dspace/integration/openaire/suggestions/target/RETRIEVE_TARGETS_BY_SOURCE"),RETRIEVE_TARGETS_BY_SOURCE_ERROR:(0,i.N)("dspace/integration/openaire/suggestions/target/RETRIEVE_TARGETS_BY_SOURCE_ERROR"),ADD_USER_SUGGESTIONS:(0,i.N)("dspace/integration/openaire/suggestions/target/ADD_USER_SUGGESTIONS"),REFRESH_USER_SUGGESTIONS:(0,i.N)("dspace/integration/openaire/suggestions/target/REFRESH_USER_SUGGESTIONS"),REFRESH_USER_SUGGESTIONS_ERROR:(0,i.N)("dspace/integration/openaire/suggestions/target/REFRESH_USER_SUGGESTIONS_ERROR"),MARK_USER_SUGGESTIONS_AS_VISITED:(0,i.N)("dspace/integration/openaire/suggestions/target/MARK_USER_SUGGESTIONS_AS_VISITED")};class c{constructor(O,I,T){this.type=n.RETRIEVE_TARGETS_BY_SOURCE,this.payload={source:O,elementsPerPage:I,currentPage:T}}}class e{constructor(O){this.type=n.RETRIEVE_TARGETS_BY_SOURCE_ERROR,this.payload={source:O}}}class f{constructor(O,I,T,R,u){this.type=n.ADD_TARGETS,this.payload={source:O,targets:I,totalPages:T,currentPage:R,totalElements:u}}}class g{constructor(O){this.type=n.ADD_USER_SUGGESTIONS,this.payload={suggestionTargets:O}}}class d{constructor(){this.type=n.REFRESH_USER_SUGGESTIONS}}class y{constructor(){this.type=n.REFRESH_USER_SUGGESTIONS_ERROR}}class E{constructor(){this.type=n.MARK_USER_SUGGESTIONS_AS_VISITED}}class _{constructor(O){this.type=n.CLEAR_TARGETS,this.payload={source:O}}}},11816:(B,D,t)=>{"use strict";t.d(D,{x:()=>v});var i=t(73958),n=t(47947),c=t(80451),e=t(93687);function g(){return(0,c.hZ)(e.I,"suggestionTarget")}function d(S){return(0,i.Mz)(g(),M=>M.sources[S])}(0,i.UX)("suggestionNotifications");const E=S=>(0,i.Mz)(d(S),M=>M?.loaded||!1),I=S=>(0,i.Mz)(d(S),M=>M?.totalElements||0);var u=t(51457),w=t(53107);let v=(()=>{class S{constructor(L){this.store=L}getSuggestionTargets(L){return this.store.pipe((0,i.Lt)(function y(S){return(0,i.Mz)(d(S),M=>M.targets)}(L)))}isSuggestionTargetsLoading(L){return this.store.pipe((0,i.Lt)(E(L)),(0,n.T)(F=>!F))}isSuggestionTargetsLoaded(L){return this.store.pipe((0,i.Lt)(E(L)))}isSuggestionTargetsProcessing(L){return this.store.pipe((0,i.Lt)((S=>(0,i.Mz)(d(S),M=>M?.processing||!1))(L)))}getSuggestionTargetsTotalPages(L){return this.store.pipe((0,i.Lt)(I(L)))}getSuggestionTargetsCurrentPage(L){return this.store.pipe((0,i.Lt)((S=>(0,i.Mz)(d(S),M=>M?.currentPage||0))(L)))}getSuggestionTargetsTotals(L){return this.store.pipe((0,i.Lt)(I(L)))}dispatchRetrieveSuggestionTargets(L,F,$){this.store.dispatch(new u.ri(L,F,$))}getCurrentUserSuggestionTargets(){return this.store.pipe((0,i.Lt)((0,i.Mz)(g(),S=>S?.currentUserTargets||[])))}hasUserVisitedSuggestions(){return this.store.pipe((0,i.Lt)((0,i.Mz)(g(),S=>S?.currentUserTargetsVisited||!1)))}dispatchMarkUserSuggestionsAsVisitedAction(){this.store.dispatch(new u.g3)}dispatchClearSuggestionTargetsAction(L){this.store.dispatch(new u.en(L))}dispatchRefreshUserSuggestionsAction(){this.store.dispatch(new u.eb)}static#e=this.\u0275fac=function(F){return new(F||S)(w.KVO(i.il))};static#t=this.\u0275prov=w.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},74549:(B,D,t)=>{"use strict";t.d(D,{w:()=>_});var i=t(54460),n=t(95968),c=t(69685),e=t(11816),f=t(12571),g=t(53107);function d(b,O){if(1&b&&(g.j41(0,"div",4),g.nrm(1,"div",5),g.nI1(2,"translate"),g.EFF(3),g.nI1(4,"translate"),g.j41(5,"a",6),g.EFF(6),g.nI1(7,"translate"),g.k0s()()),2&b){const I=g.XpG().$implicit,T=g.XpG(2);g.R7$(),g.Y8G("innerHTML",g.i5U(2,4,"notification.suggestion",T.getNotificationSuggestionInterpolation(I)),g.npT),g.R7$(2),g.SpI(" ",g.bMT(4,7,"notification.suggestion.please")," "),g.R7$(2),g.Y8G("routerLink",T.getNotificationSuggestionInterpolation(I).url),g.R7$(),g.SpI(" ",g.bMT(7,9,"notification.suggestion.review")," ")}}function y(b,O){if(1&b&&(g.qex(0,2),g.DNE(1,d,8,11,"div",3),g.bVm()),2&b){const I=O.$implicit;g.R7$(),g.Y8G("ngIf",I.total>0)}}function E(b,O){if(1&b&&(g.qex(0),g.DNE(1,y,2,1,"ng-container",1),g.bVm()),2&b){const I=O.ngIf;g.R7$(),g.Y8G("ngForOf",I)}}let _=(()=>{class b{constructor(I,T){this.suggestionTargetsStateService=I,this.suggestionsService=T}ngOnInit(){this.suggestionsRD$=this.suggestionTargetsStateService.getCurrentUserSuggestionTargets(),this.suggestionTargetsStateService.dispatchMarkUserSuggestionsAsVisitedAction()}getNotificationSuggestionInterpolation(I){return this.suggestionsService.getNotificationSuggestionInterpolation(I)}static#e=this.\u0275fac=function(T){return new(T||b)(g.rXU(e.x),g.rXU(f.F))};static#t=this.\u0275cmp=g.VBU({type:b,selectors:[["ds-suggestions-notification"]],standalone:!0,features:[g.aNF],decls:2,vars:3,consts:[[4,"ngIf"],["class","alert alert-info",4,"ngFor","ngForOf"],[1,"alert","alert-info"],["class","alert alert-success d-block",4,"ngIf"],[1,"alert","alert-success","d-block"],[3,"innerHTML"],[3,"routerLink"]],template:function(T,R){1&T&&(g.DNE(0,E,2,1,"ng-container",0),g.nI1(1,"async")),2&T&&g.Y8G("ngIf",g.bMT(1,1,R.suggestionsRD$))},dependencies:[n.Wk,c.h,c.D9,i.Jj,i.bT,i.Sq]})}return b})()},12571:(B,D,t)=>{"use strict";t.d(D,{F:()=>v});var i=t(63016),n=t(82653),c=t(37610),e=t(47947),f=t(27035),g=t(17178),d=t(86722),y=t(89632),E=t(77001),_=t(14181),b=t(12792),O=t(12007),I=t(72683),T=t(24106),R=t(63297),u=t(53107),w=t(69685);let v=(()=>{class S{constructor(L,F,$,j){this.researcherProfileService=L,this.suggestionsDataService=F,this.suggestionTargetDataService=$,this.translateService=j}getTargets(L,F,$){const j=new y.z("display",y.U.ASC);return this.suggestionTargetDataService.getTargetsBySource(L,{elementsPerPage:F,currentPage:$,sort:j}).pipe((0,O.D4)(),(0,c.s)(1),(0,e.T)(G=>{if(G.hasSucceeded)return G.payload;throw new Error("Can't retrieve Suggestion Target from the Search Target REST service")}))}getSuggestions(L,F,$,j){const[x,G]=L.split(":");return this.suggestionsDataService.getSuggestionsByTargetAndSource(G,x,{elementsPerPage:F,currentPage:$,sort:j})}clearSuggestionRequests(){this.suggestionsDataService.clearSuggestionRequests()}deleteReviewedSuggestion(L){return this.suggestionsDataService.deleteSuggestion(L).pipe((0,e.T)(F=>{if(F.isSuccess)return F;throw new Error("Can't delete Suggestion from the Search Target REST service")}),(0,c.s)(1))}retrieveCurrentUserSuggestions(L){return(0,I.Tn)(L)?(0,i.of)([]):this.researcherProfileService.findById(L,!0,!0,(0,T.s)("item")).pipe((0,O.qD)(),(0,f.Z)(F=>(0,I.hj)(F)&&F.hasSucceeded&&(0,I.hj)(F.payload)?this.researcherProfileService.findRelatedItemId(F.payload).pipe((0,f.Z)($=>this.suggestionTargetDataService.getTargetsByUser($).pipe((0,O.Ar)()))):(0,i.of)([])),(0,g.W)(()=>(0,i.of)([])))}approveAndImport(L,F,$){const j=this.resolveCollectionId(F,$);return L.importExternalSourceEntry(F.externalSourceUri,j).pipe((0,O.ak)(),(0,g.W)(()=>(0,i.of)(null)))}ignoreSuggestion(L){return this.deleteReviewedSuggestion(L).pipe((0,g.W)(()=>(0,i.of)(null)))}approveAndImportMultiple(L,F,$){return(0,n.p)(F.map(j=>this.approveAndImport(L,j,$))).pipe((0,e.T)(j=>({success:j.filter(x=>null!=x).length,fails:j.filter(x=>null==x).length})),(0,c.s)(1))}ignoreSuggestionMultiple(L){return(0,n.p)(L.map(F=>this.ignoreSuggestion(F.id))).pipe((0,e.T)(F=>({success:F.filter($=>null!=$).length,fails:F.filter($=>null==$).length})),(0,c.s)(1))}getTargetUuid(L){const F=L.id.split(":");return 2===F.length?F[1]:null}getNotificationSuggestionInterpolation(L){return{count:L.total,source:this.translateService.instant(this.translateSuggestionSource(L.source)),type:this.translateService.instant(this.translateSuggestionType(L.source)),suggestionId:L.id,displayName:L.display,url:(0,R.jV)(L.id)}}translateSuggestionType(L){return"suggestion.type."+L}translateSuggestionSource(L){return"suggestion.source."+L}resolveCollectionId(L,F){return(0,I.a4)(F)?F:d.c.suggestion.find($=>$.source===L.source).collectionId}isCollectionFixed(L){return 1===this.getFixedCollectionIds(L).length}getFixedCollectionIds(L){const F={};return L.forEach($=>{const j=d.c.suggestion.find(x=>x.source===$.source);(0,I.a4)(j)&&(F[j.collectionId]=!0)}),Object.keys(F)}static#e=this.\u0275fac=function(F){return new(F||S)(u.KVO(b.ResearcherProfileDataService),u.KVO(E.SuggestionDataService),u.KVO(_.SuggestionTargetDataService),u.KVO(w.c$))};static#t=this.\u0275prov=u.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},70212:(B,D,t)=>{"use strict";t.r(D),t.d(D,{PageErrorComponent:()=>e});var i=t(69685),n=t(53107),c=t(95968);let e=(()=>{class f{constructor(d){this.activatedRoute=d,this.activatedRoute.queryParams.subscribe(y=>{this.status=y.status,this.code=y.code})}static#e=this.\u0275fac=function(y){return new(y||f)(n.rXU(c.nX))};static#t=this.\u0275cmp=n.VBU({type:f,selectors:[["ds-base-page-error"]],standalone:!0,features:[n.aNF],decls:16,vars:10,consts:[[1,"page-internal-server-error","container"],["data-test","status"],[1,"text-center"],["href","/home",1,"btn","btn-primary"]],template:function(y,E){1&y&&(n.j41(0,"div",0)(1,"h1",1),n.EFF(2),n.k0s(),n.j41(3,"h2")(4,"small"),n.EFF(5),n.nI1(6,"translate"),n.k0s()(),n.nrm(7,"br"),n.j41(8,"p"),n.EFF(9),n.nI1(10,"translate"),n.k0s(),n.nrm(11,"br"),n.j41(12,"p",2)(13,"a",3),n.EFF(14),n.nI1(15,"translate"),n.k0s()()()),2&y&&(n.R7$(2),n.JRh(E.status),n.R7$(3),n.JRh(n.bMT(6,4,"error-page.description."+E.status)),n.R7$(4),n.JRh(n.bMT(10,6,"error-page."+E.code)),n.R7$(5),n.JRh(n.bMT(15,8,E.status+".link.home-page")))},dependencies:[i.h,i.D9]})}return f})()},53840:(B,D,t)=>{"use strict";t.r(D),t.d(D,{PageInternalServerErrorComponent:()=>e});var i=t(69685),n=t(86779),c=t(53107);let e=(()=>{class f{constructor(d){this.responseService=d,this.responseService.setInternalServerError()}static#e=this.\u0275fac=function(y){return new(y||f)(c.rXU(n.w))};static#t=this.\u0275cmp=c.VBU({type:f,selectors:[["ds-base-page-internal-server-error"]],standalone:!0,features:[c.aNF],decls:16,vars:9,consts:[[1,"page-internal-server-error","container"],[1,"text-center"],["href","home",1,"btn","btn-primary"]],template:function(y,E){1&y&&(c.j41(0,"div",0)(1,"h1"),c.EFF(2,"500"),c.k0s(),c.j41(3,"h2")(4,"small"),c.EFF(5),c.nI1(6,"translate"),c.k0s()(),c.nrm(7,"br"),c.j41(8,"p"),c.EFF(9),c.nI1(10,"translate"),c.k0s(),c.nrm(11,"br"),c.j41(12,"p",1)(13,"a",2),c.EFF(14),c.nI1(15,"translate"),c.k0s()()()),2&y&&(c.R7$(5),c.SpI(" ",c.bMT(6,3,"500.page-internal-server-error")," "),c.R7$(4),c.JRh(c.bMT(10,5,"500.help")),c.R7$(5),c.JRh(c.bMT(15,7,"500.link.home-page")))},dependencies:[i.h,i.D9]})}return f})()},89796:(B,D,t)=>{"use strict";t.r(D),t.d(D,{PageNotFoundComponent:()=>g});var i=t(95968),n=t(69685),c=t(21706),e=t(86779),f=t(53107);let g=(()=>{class d{constructor(E,_){this.authservice=E,this.responseService=_,this.responseService.setNotFound()}ngOnInit(){this.authservice.clearRedirectUrl()}static#e=this.\u0275fac=function(_){return new(_||d)(f.rXU(c.uR),f.rXU(e.w))};static#t=this.\u0275cmp=f.VBU({type:d,selectors:[["ds-base-pagenotfound"]],standalone:!0,features:[f.aNF],decls:16,vars:9,consts:[[1,"page-not-found","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(_,b){1&_&&(f.j41(0,"div",0)(1,"h1"),f.EFF(2,"404"),f.k0s(),f.j41(3,"h2")(4,"small"),f.EFF(5),f.nI1(6,"translate"),f.k0s()(),f.nrm(7,"br"),f.j41(8,"p"),f.EFF(9),f.nI1(10,"translate"),f.k0s(),f.nrm(11,"br"),f.j41(12,"p",1)(13,"a",2),f.EFF(14),f.nI1(15,"translate"),f.k0s()()()),2&_&&(f.R7$(5),f.JRh(f.bMT(6,3,"404.page-not-found")),f.R7$(4),f.JRh(f.bMT(10,5,"404.help")),f.R7$(5),f.JRh(f.bMT(15,7,"404.link.home-page")))},dependencies:[i.Wk,n.h,n.D9]})}return d})()},39942:(B,D,t)=>{"use strict";t.d(D,{JO:()=>c,rG:()=>n,yJ:()=>e});var i=t(87913);const n="processes",c=()=>`/${n}`,e=f=>new i.t(c(),f).toString()},88476:(B,D,t)=>{"use strict";t.d(D,{p:()=>i});class i{}},33707:(B,D,t)=>{"use strict";t.d(D,{K:()=>i});var i=function(n){return n.SCHEDULED="SCHEDULED",n.RUNNING="RUNNING",n.COMPLETED="COMPLETED",n.FAILED="FAILED",n}(i||{})},2249:(B,D,t)=>{"use strict";t.d(D,{M:()=>I});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(18384),g=t(98573);const d=new g.v("processOutput");var y=t(2494),E=t(31659);const _=new g.v("filetypes");var b=t(70140);t(33707);let I=class{static#e=this.type=b.A};(0,i.Cg)([y.aK,n.autoserialize,(0,i.Sn)("design:type",g.v)],I.prototype,"type",void 0),(0,i.Cg)([(0,n.autoserializeAs)(String),(0,i.Sn)("design:type",String)],I.prototype,"processId",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"userId",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"creationTime",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"startTime",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"endTime",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"scriptName",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"processStatus",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Array)],I.prototype,"parameters",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],I.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(E.M),(0,i.Sn)("design:type",c.c)],I.prototype,"script",void 0),(0,i.Cg)([(0,e.nf)(d),(0,i.Sn)("design:type",c.c)],I.prototype,"output",void 0),(0,i.Cg)([(0,e.nf)(f.e,!0),(0,i.Sn)("design:type",c.c)],I.prototype,"files",void 0),(0,i.Cg)([(0,e.nf)(_),(0,i.Sn)("design:type",c.c)],I.prototype,"filetypes",void 0),I=(0,i.Cg)([e.gV],I)},70140:(B,D,t)=>{"use strict";t.d(D,{A:()=>n});const n=new(t(98573).v)("process")},29437:(B,D,t)=>{"use strict";t.d(D,{e:()=>d});var i=t(31635),n=t(47817),c=t(52727),e=t(98573),f=t(2494),g=t(31659);let d=class{static#e=this.type=g.M};(0,i.Cg)([f.aK,n.autoserialize,(0,i.Sn)("design:type",e.v)],d.prototype,"type",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],d.prototype,"id",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],d.prototype,"name",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],d.prototype,"description",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Array)],d.prototype,"parameters",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],d.prototype,"_links",void 0),d=(0,i.Cg)([c.gV],d)},31659:(B,D,t)=>{"use strict";t.d(D,{M:()=>n});const n=new(t(98573).v)("script")},10280:(B,D,t)=>{"use strict";t.r(D),t.d(D,{RootComponent:()=>ae});var i=t(54460),n=t(95968),c=t(69685),e=t(63016),f=t(71217),g=t(76627),d=t(15981),y=t(1703),E=t(47947),_=t(30593),b=t(86722),O=t(32484),I=t(31829),T=t(91580),R=t(66190),u=t(86882),w=t(19615),v=t(74531),S=t(744),M=t(21548),L=t(62990),F=t(78198),$=t(15519),j=t(33851),x=t(50947),G=t(53107);const Y=(Q,J)=>({collapsedWidth:Q,expandedWidth:J}),V=(Q,J)=>({value:Q,params:J});function X(Q,J){1&Q&&(G.j41(0,"div",8),G.nrm(1,"ds-loading",9),G.k0s()),2&Q&&(G.R7$(),G.Y8G("showMessage",!1))}function K(Q,J){1&Q&&(G.j41(0,"div",10),G.nrm(1,"ds-loading",9),G.k0s()),2&Q&&(G.R7$(),G.Y8G("showMessage",!1))}let ae=(()=>{class Q{constructor(z,q,ee,de,Ce){this.router=z,this.cssService=q,this.menuService=ee,this.windowService=de,this._window=Ce,this.theme=(0,e.of)({}),this.browserOsClasses=new f.t([]),this.notificationOptions=b.c.notifications}ngOnInit(){const z=this.getBrowserName();if(z){const ee=new Array;ee.push(`browser-${z}`);const de=this.getOSName();de&&ee.push(`browser-${z}-${de}`),this.browserOsClasses.next(ee)}this.isSidebarVisible$=this.menuService.isMenuVisibleWithVisibleSections(F.D.ADMIN),this.expandedSidebarWidth$=this.cssService.getVariable("--ds-admin-sidebar-total-width").pipe((0,d.j)(ee=>!ee),(0,y.$)()),this.collapsedSidebarWidth$=this.cssService.getVariable("--ds-admin-sidebar-fixed-element-width").pipe((0,d.j)(ee=>!ee),(0,y.$)());const q=this.menuService.isMenuCollapsed(F.D.ADMIN);this.slideSidebarOver$=(0,g.z)([q,this.windowService.isXsOrSm()]).pipe((0,E.T)(([ee,de])=>ee||de),(0,_.Z)(!0)),this.router.url===(0,I.N2)()&&(this.shouldShowRouteLoader=!1)}skipToMainContent(){const z=document.getElementById("main-content");z&&(z.tabIndex=-1,z.focus())}getBrowserName(){const z=this._window.nativeWindow.navigator?.userAgent;return/Firefox/.test(z)?"firefox":/Safari/.test(z)?"safari":void 0}getOSName(){const z=this._window.nativeWindow.navigator?.userAgent;if(/Windows/.test(z))return"windows"}static#e=this.\u0275fac=function(q){return new(q||Q)(G.rXU(n.Ix),G.rXU(j.J),G.rXU(L.$),G.rXU(S.CV),G.rXU(R.lc))};static#t=this.\u0275cmp=G.VBU({type:Q,selectors:[["ds-base-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},standalone:!0,features:[G.aNF],decls:21,vars:30,consts:[["id","skip-to-main-content",1,"sr-only",3,"click"],[1,"outer-wrapper",3,"ngClass"],[3,"expandedSidebarWidth$","collapsedSidebarWidth$"],[1,"inner-wrapper"],["id","main-content",1,"my-cs"],["class","container d-flex justify-content-center align-items-center h-100",4,"ngIf"],[3,"options"],["class","ds-full-screen-loader",4,"ngIf"],[1,"container","d-flex","justify-content-center","align-items-center","h-100"],[3,"showMessage"],[1,"ds-full-screen-loader"]],template:function(q,ee){1&q&&(G.j41(0,"button",0),G.bIt("click",function(){return ee.skipToMainContent()}),G.EFF(1),G.nI1(2,"translate"),G.k0s(),G.j41(3,"div",1),G.nI1(4,"async"),G.nI1(5,"async"),G.nI1(6,"async"),G.nI1(7,"async"),G.nI1(8,"async"),G.nrm(9,"ds-admin-sidebar",2),G.j41(10,"div",3),G.nrm(11,"ds-system-wide-alert-banner")(12,"ds-header-navbar-wrapper")(13,"ds-breadcrumbs"),G.j41(14,"main",4),G.DNE(15,X,2,1,"div",5),G.j41(16,"div"),G.nrm(17,"router-outlet"),G.k0s()(),G.nrm(18,"ds-footer"),G.k0s()(),G.nrm(19,"ds-notifications-board",6),G.DNE(20,K,2,1,"div",7)),2&q&&(G.R7$(),G.SpI(" ",G.bMT(2,12,"root.skip-to-content"),"\n"),G.R7$(2),G.AVh("d-none",ee.shouldShowFullscreenLoader),G.Y8G("ngClass",G.bMT(4,14,ee.browserOsClasses.asObservable()))("@slideSidebarPadding",G.l_i(27,V,!0!==G.bMT(5,16,ee.isSidebarVisible$)?"hidden":G.bMT(6,18,ee.slideSidebarOver$)?"unpinned":"pinned",G.l_i(24,Y,G.bMT(7,20,ee.collapsedSidebarWidth$),G.bMT(8,22,ee.expandedSidebarWidth$)))),G.R7$(6),G.Y8G("expandedSidebarWidth$",ee.expandedSidebarWidth$)("collapsedSidebarWidth$",ee.collapsedSidebarWidth$),G.R7$(6),G.Y8G("ngIf",ee.shouldShowRouteLoader),G.R7$(),G.AVh("d-none",ee.shouldShowRouteLoader),G.R7$(3),G.Y8G("options",ee.notificationOptions),G.R7$(),G.Y8G("ngIf",ee.shouldShowFullscreenLoader))},dependencies:[c.h,c.D9,O.u,x.E,w.h,T.B,i.bT,i.YU,M.v,n.n3,u.C,$.s,i.Jj],styles:["#skip-to-main-content[_ngcontent-%COMP%]{position:absolute;top:-40px;left:0;opacity:0;transition:opacity .3s;z-index:calc(var(--ds-nav-z-index) + 1);border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0}#skip-to-main-content[_ngcontent-%COMP%]:focus{opacity:1;top:0}"],data:{animation:[v.tr]}})}return Q})()},60066:(B,D,t)=>{"use strict";t.r(D),t.d(D,{SearchNavbarComponent:()=>_});var i=t(10936),n=t(69685),c=t(67811),e=t(74531),f=t(75911),g=t(47331),d=t(53107),y=t(95968);const E=["searchInput"];let _=(()=>{class b{constructor(I,T,R){this.formBuilder=I,this.router=T,this.searchService=R,this.searchExpanded=!1,this.isExpanded="collapsed",this.searchForm=this.formBuilder.group({query:""})}expand(){this.searchExpanded=!0,this.isExpanded="expanded",this.editSearch()}collapse(){this.searchField.nativeElement.blur(),this.searchExpanded=!1,this.isExpanded="collapsed"}editSearch(){this.searchField.nativeElement.focus()}onSubmit(I){this.collapse();const T=Object.assign({},I),R=[this.searchService.getSearchLink().replace("/","")];this.searchForm.reset(),this.router.navigate(R,{queryParams:T})}static#e=this.\u0275fac=function(T){return new(T||b)(d.rXU(i.ze),d.rXU(y.Ix),d.rXU(c.S))};static#t=this.\u0275cmp=d.VBU({type:b,selectors:[["ds-base-search-navbar"]],viewQuery:function(T,R){if(1&T&&d.GBs(E,5),2&T){let u;d.mGM(u=d.lsd())&&(R.searchField=u.first)}},standalone:!0,features:[d.aNF],decls:13,vars:23,consts:[["searchInput",""],[3,"dsClickOutside","title"],[1,"d-inline-block","position-relative"],["autocomplete","on",1,"d-flex",3,"ngSubmit","formGroup"],["name","query","formControlName","query","type","text",1,"bg-transparent","position-absolute","form-control","dropdown-menu-right","pl-1","pr-4",3,"placeholder","tabIndex"],["type","button",1,"submit-icon","btn","btn-link","btn-link-inline",3,"click"],[1,"fas","fa-search","fa-lg","fa-fw"]],template:function(T,R){if(1&T){const u=d.RV6();d.j41(0,"div",1),d.nI1(1,"translate"),d.bIt("dsClickOutside",function(){return d.eBV(u),d.Njj(R.collapse())}),d.j41(2,"div",2)(3,"form",3),d.bIt("ngSubmit",function(){return d.eBV(u),d.Njj(R.onSubmit(R.searchForm.value))}),d.nrm(4,"input",4,0),d.nI1(6,"translate"),d.nI1(7,"translate"),d.nI1(8,"dsBrowserOnly"),d.j41(9,"button",5),d.nI1(10,"translate"),d.nI1(11,"dsBrowserOnly"),d.bIt("click",function(){return d.eBV(u),d.Njj(R.searchExpanded?R.onSubmit(R.searchForm.value):R.expand())}),d.nrm(12,"em",6),d.k0s()()()()}2&T&&(d.Y8G("title",d.bMT(1,11,"nav.search")),d.R7$(3),d.Y8G("formGroup",R.searchForm),d.R7$(),d.AVh("display",R.searchExpanded?"inline-block":"none"),d.FS9("placeholder",R.searchExpanded?d.bMT(6,13,"nav.search"):""),d.Y8G("@toggleAnimation",R.isExpanded)("tabIndex",R.searchExpanded?0:-1),d.BMQ("aria-label",d.bMT(7,15,"nav.search"))("data-test",d.bMT(8,17,"header-search-box")),d.R7$(5),d.BMQ("aria-label",d.bMT(10,19,"nav.search.button"))("data-test",d.bMT(11,21,"header-search-icon")))},dependencies:[g.z,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,n.h,n.D9,f.L],styles:["input[type=text][_ngcontent-%COMP%]{margin-top:calc(-.5 * var(--bs-font-size-base));background-color:#fff!important;border-color:var(--ds-header-icon-color)}input[type=text].collapsed[_ngcontent-%COMP%]{opacity:0}.submit-icon[_ngcontent-%COMP%]{cursor:pointer;position:sticky;top:0;border:0!important;color:var(--ds-header-icon-color)}.submit-icon[_ngcontent-%COMP%]:hover, .submit-icon[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}@media screen and (max-width: 768px){.query[_ngcontent-%COMP%]:focus{max-width:250px!important;width:40vw!important}}"],data:{animation:[e.l9]}})}return b})()},37154:(B,D,t)=>{"use strict";t.d(D,{X:()=>g});var i=t(21124),c=(t(60066),t(53107));const e=["*"];function f(d,y){}let g=(()=>{class d extends i.J{getComponentName(){return"SearchNavbarComponent"}importThemedComponent(E){return t(28754)(`./${E}/app/search-navbar/search-navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,60066))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=c.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-search-navbar"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},17709:(B,D,t)=>{"use strict";t.r(D),t.d(D,{ConfigurationSearchPageComponent:()=>pe});var i=t(54460),n=t(69685),c=t(18062),e=t(98985),f=t(67811),g=t(3631),d=t(82506),y=t(13264),E=t(744),_=t(51740),b=t(77822),O=t(21049),I=t(59849),T=t(85941),R=t(14581),u=t(62850),w=t(45400),v=t(53107),S=t(95968);const M=[[["","searchContentTop",""]],[["","additionalSearchOptions",""]]],L=["[searchContentTop]","[additionalSearchOptions]"];function F(re,ve){}function $(re,ve){1&re&&v.DNE(0,F,0,0,"ng-template")}function j(re,ve){if(1&re&&(v.j41(0,"div",6)(1,"div",7)(2,"div",8),v.DNE(3,$,1,0,null,9),v.k0s()()()),2&re){v.XpG();const fe=v.sdS(11);v.R7$(3),v.Y8G("ngTemplateOutlet",fe)}}function x(re,ve){}function G(re,ve){1&re&&v.DNE(0,x,0,0,"ng-template")}function Y(re,ve){if(1&re&&(v.j41(0,"div"),v.DNE(1,G,1,0,null,9),v.k0s()),2&re){v.XpG();const fe=v.sdS(7);v.R7$(),v.Y8G("ngTemplateOutlet",fe)}}function V(re,ve){}function X(re,ve){1&re&&v.DNE(0,V,0,0,"ng-template")}function K(re,ve){if(1&re&&(v.j41(0,"ds-page-with-sidebar",10),v.DNE(1,X,1,0,null,9),v.k0s()),2&re){const fe=v.XpG(),Ie=v.sdS(7),Ne=v.sdS(9);v.Y8G("id","search-page")("sideBarWidth",fe.sideBarWidth)("sidebarContent",Ne),v.R7$(),v.Y8G("ngTemplateOutlet",Ie)}}function ae(re,ve){}function Q(re,ve){1&re&&v.DNE(0,ae,0,0,"ng-template")}function J(re,ve){if(1&re&&(v.qex(0),v.DNE(1,Q,1,0,null,9),v.bVm()),2&re){v.XpG(3);const fe=v.sdS(11);v.R7$(),v.Y8G("ngTemplateOutlet",fe)}}function z(re,ve){if(1&re&&(v.j41(0,"div",8),v.DNE(1,J,2,1,"ng-container",4),v.SdG(2,1),v.k0s()),2&re){const fe=v.XpG(2);v.R7$(),v.Y8G("ngIf",fe.searchEnabled)}}function q(re,ve){if(1&re&&v.nrm(0,"ds-view-mode-switch",18),2&re){const fe=v.XpG(2);v.Y8G("viewModeList",fe.viewModeList)("inPlaceSearch",fe.inPlaceSearch)}}function ee(re,ve){if(1&re){const fe=v.RV6();v.j41(0,"ds-search-results",19),v.nI1(1,"async"),v.nI1(2,"async"),v.nI1(3,"async"),v.nI1(4,"async"),v.bIt("contentChange",function(Ne){v.eBV(fe);const qe=v.XpG(2);return v.Njj(qe.onContentChange(Ne))})("deselectObject",function(Ne){v.eBV(fe);const qe=v.XpG(2);return v.Njj(qe.deselectObject.emit(Ne))})("selectObject",function(Ne){v.eBV(fe);const qe=v.XpG(2);return v.Njj(qe.selectObject.emit(Ne))}),v.k0s()}if(2&re){const fe=v.XpG(2);v.Y8G("searchResults",v.bMT(1,10,fe.resultsRD$))("searchConfig",v.bMT(2,12,fe.searchOptions$))("configuration",v.bMT(3,14,fe.currentConfiguration$))("disableHeader",!fe.searchEnabled)("linkType",fe.linkType)("context",v.bMT(4,16,fe.currentContext$))("selectable",fe.selectable)("selectionConfig",fe.selectionConfig)("showCsvExport",fe.showCsvExport)("showThumbnails",fe.showThumbnails)}}function de(re,ve){if(1&re){const fe=v.RV6();v.j41(0,"div",7),v.DNE(1,z,3,1,"div",11),v.nI1(2,"async"),v.j41(3,"div",12)(4,"div",13),v.DNE(5,q,1,2,"ds-view-mode-switch",14),v.j41(6,"button",15),v.bIt("click",function(){v.eBV(fe);const Ne=v.XpG();return v.Njj(Ne.openSidebar())}),v.nrm(7,"i",16),v.EFF(8),v.nI1(9,"translate"),v.k0s()(),v.SdG(10),v.DNE(11,ee,5,18,"ds-search-results",17),v.k0s()()}if(2&re){const fe=v.XpG();v.R7$(),v.Y8G("ngIf",!0!==v.bMT(2,4,fe.isXsOrSm$)),v.R7$(4),v.Y8G("ngIf",fe.inPlaceSearch&&fe.showViewModes),v.R7$(3),v.SpI(" ",v.bMT(9,6,"search.sidebar.open")," "),v.R7$(3),v.Y8G("ngIf",fe.inPlaceSearch)}}function Ce(re,ve){if(1&re){const fe=v.RV6();v.j41(0,"ds-search-sidebar",22),v.nI1(1,"async"),v.nI1(2,"async"),v.nI1(3,"async"),v.nI1(4,"async"),v.nI1(5,"async"),v.nI1(6,"async"),v.bIt("changeConfiguration",function(Ne){v.eBV(fe);const qe=v.XpG(2);return v.Njj(qe.changeContext(Ne.context))})("changeViewMode",function(){v.eBV(fe);const Ne=v.XpG(2);return v.Njj(Ne.changeViewMode())}),v.k0s()}if(2&re){let fe;const Ie=v.XpG(2);v.Y8G("configurationList",Ie.configurationList)("configuration",v.bMT(1,12,Ie.currentConfiguration$))("currentScope",v.bMT(2,14,Ie.currentScope$))("filters",Ie.filtersRD$.asObservable())("refreshFilters",Ie.refreshFilters)("resultCount",null==(fe=v.bMT(3,16,Ie.resultsRD$))||null==fe.payload?null:fe.payload.totalElements)("searchOptions",v.bMT(4,18,Ie.searchOptions$))("sortOptionsList",v.bMT(5,20,Ie.sortOptionsList$))("currentSortOption",v.bMT(6,22,Ie.currentSortOptions$))("inPlaceSearch",Ie.inPlaceSearch)("viewModeList",Ie.viewModeList)("showViewModes",Ie.showViewModes)}}function Z(re,ve){if(1&re){const fe=v.RV6();v.j41(0,"ds-search-sidebar",23),v.nI1(1,"async"),v.nI1(2,"async"),v.nI1(3,"async"),v.nI1(4,"async"),v.nI1(5,"async"),v.nI1(6,"async"),v.bIt("toggleSidebar",function(){v.eBV(fe);const Ne=v.XpG(2);return v.Njj(Ne.closeSidebar())})("changeConfiguration",function(Ne){v.eBV(fe);const qe=v.XpG(2);return v.Njj(qe.changeContext(Ne.context))})("changeViewMode",function(){v.eBV(fe);const Ne=v.XpG(2);return v.Njj(Ne.changeViewMode())}),v.k0s()}if(2&re){let fe;const Ie=v.XpG(2);v.Y8G("configurationList",Ie.configurationList)("configuration",v.bMT(1,12,Ie.currentConfiguration$))("currentScope",v.bMT(2,14,Ie.currentScope$))("filters",Ie.filtersRD$.asObservable())("refreshFilters",Ie.refreshFilters)("resultCount",null==(fe=v.bMT(3,16,Ie.resultsRD$))||null==fe.payload?null:fe.payload.totalElements)("searchOptions",v.bMT(4,18,Ie.searchOptions$))("sortOptionsList",v.bMT(5,20,Ie.sortOptionsList$))("currentSortOption",v.bMT(6,22,Ie.currentSortOptions$))("inPlaceSearch",Ie.inPlaceSearch)("viewModeList",Ie.viewModeList)("showViewModes",Ie.showViewModes)}}function le(re,ve){if(1&re&&(v.DNE(0,Ce,7,24,"ds-search-sidebar",20),v.nI1(1,"async"),v.DNE(2,Z,7,24,"ds-search-sidebar",21),v.nI1(3,"async")),2&re){const fe=v.XpG();v.Y8G("ngIf",!0!==v.bMT(1,2,fe.isXsOrSm$)),v.R7$(2),v.Y8G("ngIf",v.bMT(3,4,fe.isXsOrSm$))}}function De(re,ve){if(1&re&&(v.nrm(0,"ds-search-form",24),v.nI1(1,"async"),v.nI1(2,"async"),v.nI1(3,"translate"),v.j41(4,"div",25)(5,"div",26),v.nrm(6,"ds-search-labels",27),v.k0s()()),2&re){let fe,Ie;const Ne=v.XpG();v.Y8G("query",null==(fe=v.bMT(1,8,Ne.searchOptions$))?null:fe.query)("scope",null==(Ie=v.bMT(2,10,Ne.searchOptions$))?null:Ie.scope)("hideScopeInUrl",Ne.hideScopeInUrl)("currentUrl",Ne.searchLink)("showScopeSelector",Ne.showScopeSelector)("inPlaceSearch",Ne.inPlaceSearch)("searchPlaceholder",v.bMT(3,12,Ne.searchFormPlaceholder)),v.R7$(6),v.Y8G("inPlaceSearch",Ne.inPlaceSearch)}}let pe=(()=>{class re extends _.SearchComponent{constructor(fe,Ie,Ne,qe,we,Be,Ve){super(fe,Ie,Ne,qe,we,Be,Ve),this.service=fe,this.sidebarService=Ie,this.windowService=Ne,this.searchConfigService=qe,this.routeService=we,this.router=Be,this.appConfig=Ve}static#e=this.\u0275fac=function(Ie){return new(Ie||re)(v.rXU(f.S),v.rXU(u.o),v.rXU(E.CV),v.rXU(d.EN),v.rXU(e.v$),v.rXU(S.Ix),v.rXU(c.vQ))};static#t=this.\u0275cmp=v.VBU({type:re,selectors:[["ds-base-configuration-search-page"]],standalone:!0,features:[v.Jv_([{provide:d.EN,useClass:g.g}]),v.Vt3,v.aNF],ngContentSelectors:L,decls:12,vars:9,consts:[["searchContent",""],["sidebarContent",""],["searchForm",""],["class","container",4,"ngIf"],[4,"ngIf"],[3,"id","sideBarWidth","sidebarContent",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],[3,"id","sideBarWidth","sidebarContent"],["class","col-12",4,"ngIf"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch",4,"ngIf"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-right","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails","contentChange","deselectObject","selectObject",4,"ngIf"],[3,"viewModeList","inPlaceSearch"],[3,"contentChange","deselectObject","selectObject","searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar",3,"changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"toggleSidebar","changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-form",3,"query","scope","hideScopeInUrl","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-12"],[3,"inPlaceSearch"]],template:function(Ie,Ne){1&Ie&&(v.NAR(M),v.DNE(0,j,4,1,"div",3),v.nI1(1,"async"),v.DNE(2,Y,2,1,"div",4),v.nI1(3,"async"),v.DNE(4,K,2,4,"ds-page-with-sidebar",5),v.nI1(5,"async"),v.DNE(6,de,12,8,"ng-template",null,0,v.C5r)(8,le,4,6,"ng-template",null,1,v.C5r)(10,De,7,14,"ng-template",null,2,v.C5r)),2&Ie&&(v.Y8G("ngIf",Ne.searchEnabled&&v.bMT(1,3,Ne.isXsOrSm$)),v.R7$(2),v.Y8G("ngIf",!Ne.showSidebar&&v.bMT(3,5,Ne.initialized$)),v.R7$(2),v.Y8G("ngIf",Ne.showSidebar&&v.bMT(5,7,Ne.initialized$)))},dependencies:[i.bT,i.T3,R.f,w.g,O.N,I.p,T.d,b.L,i.Jj,n.h,n.D9],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[y.W]},changeDetection:0})}return re})()},39839:(B,D,t)=>{"use strict";t.d(D,{M:()=>y}),t(71526),t(79599);var c=t(21124),f=(t(17709),t(53107));const g=["*"];function d(E,_){}let y=(()=>{class E extends c.J{constructor(){super(...arguments),this.inAndOutputNames=["configurationList","context","configuration","fixedFilterQuery","useCachedVersionIfAvailable","inPlaceSearch","linkType","paginationId","searchEnabled","sideBarWidth","searchFormPlaceholder","selectable","selectionConfig","showCsvExport","showSidebar","showThumbnails","showViewModes","useUniquePageId","viewModeList","showScopeSelector","trackStatistics","query","scope","hideScopeInUrl"]}getComponentName(){return"ConfigurationSearchPageComponent"}importThemedComponent(b){return t(21133)(`./${b}/app/search-page/configuration-search-page.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,17709))}static#e=this.\u0275fac=(()=>{let b;return function(I){return(b||(b=f.xGo(E)))(I||E)}})();static#t=this.\u0275cmp=f.VBU({type:E,selectors:[["ds-configuration-search-page"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl"},standalone:!0,features:[f.Vt3,f.aNF],ngContentSelectors:g,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,I){1&O&&(f.NAR(),f.DNE(0,d,0,0,"ng-template",null,0,f.C5r),f.j41(2,"div",null,1),f.SdG(4),f.k0s())},encapsulation:2})}return E})()},76794:(B,D,t)=>{"use strict";t.d(D,{e:()=>d});var i=t(53107),n=t(72683),c=t(16182),e=t(8181);const f=["DynamicComponentLoader"];function g(y,E){}let d=(()=>{class y{constructor(_){this.themeService=_,this.subs=[],this.inputNamesDependentForComponent=[],this.inputNames=[],this.outputNames=[]}ngOnInit(){this.instantiateComponent()}ngOnChanges(_){(0,n.a4)(this.compRef)&&(this.inputNamesDependentForComponent.some(b=>(0,n.a4)(_[b])&&_[b].previousValue!==_[b].currentValue)?(this.destroyComponentInstance(),this.instantiateComponent()):this.connectInputsAndOutputs())}ngOnDestroy(){this.subs.filter(_=>(0,n.a4)(_)).forEach(_=>_.unsubscribe()),this.destroyComponentInstance()}instantiateComponent(){const _=this.getComponent(),b=this.componentViewContainerRef;b.clear(),this.compRef=b.createComponent(_,{index:0,injector:void 0}),this.connectInputsAndOutputs()}destroyComponentInstance(){(0,n.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=null)}connectInputsAndOutputs(){(0,n.hj)(this.inputNames)&&(0,n.a4)(this.compRef)&&(0,n.a4)(this.compRef.instance)&&this.inputNames.filter(_=>void 0!==this[_]).filter(_=>this[_]!==this.compRef.instance[_]).forEach(_=>{this.compRef.setInput(_,this[_])}),(0,n.hj)(this.outputNames)&&(0,n.a4)(this.compRef)&&(0,n.a4)(this.compRef.instance)&&this.outputNames.filter(_=>void 0!==this[_]).filter(_=>this[_]!==this.compRef.instance[_]).forEach(_=>{this.compRef.instance[_]=this[_]})}static#e=this.\u0275fac=function(b){return new(b||y)(i.rXU(c.Fs))};static#t=this.\u0275cmp=i.VBU({type:y,selectors:[["ds-abstract-component-loader"]],viewQuery:function(b,O){if(1&b&&i.GBs(f,7,i.c1b),2&b){let I;i.mGM(I=i.lsd())&&(O.componentViewContainerRef=I.first)}},standalone:!0,features:[i.OA$,i.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(b,O){1&b&&i.DNE(0,g,0,0,"ng-template",1,0,i.C5r)},dependencies:[e.z],encapsulation:2})}return y})()},8181:(B,D,t)=>{"use strict";t.d(D,{z:()=>n});var i=t(53107);let n=(()=>{class c{constructor(f){this.viewContainerRef=f}static#e=this.\u0275fac=function(g){return new(g||c)(i.rXU(i.c1b))};static#t=this.\u0275dir=i.FsC({type:c,selectors:[["","dsDynamicComponentLoader",""]],standalone:!0})}return c})()},16700:(B,D,t)=>{"use strict";t.d(D,{v:()=>i});var i=function(n){return n.Success="alert-success",n.Error="alert-danger",n.Info="alert-info",n.Warning="alert-warning",n}(i||{})},96858:(B,D,t)=>{"use strict";t.d(D,{C:()=>_});var i=t(71204),n=t(54460),c=t(53107),e=t(69685),f=t(2566);const g=["*"];function d(b,O){if(1&b&&(c.nrm(0,"span",4),c.nI1(1,"translate")),2&b){const I=c.XpG(2);c.Y8G("innerHTML",c.bMT(1,1,I.content),c.npT)}}function y(b,O){if(1&b){const I=c.RV6();c.j41(0,"button",5),c.bIt("click",function(){c.eBV(I);const R=c.XpG(2);return c.Njj(R.dismiss())}),c.j41(1,"span",6),c.EFF(2,"\xd7"),c.k0s()()}}function E(b,O){if(1&b&&(c.j41(0,"div",1),c.DNE(1,d,2,3,"span",2),c.SdG(2),c.DNE(3,y,3,0,"button",3),c.k0s()),2&b){const I=c.XpG();c.ZvI("alert ",I.type," alert-dismissible fade show w-100 p-3"),c.Y8G("@enterLeave",I.animate),c.R7$(),c.Y8G("ngIf",I.content),c.R7$(2),c.Y8G("ngIf",I.dismissible)}}let _=(()=>{class b{constructor(I){this.cdr=I,this.dismissible=!1,this.close=new c.bkB,this.animate="fadeIn",this.dismissed=!1}dismiss(){this.dismissible&&(this.animate="fadeOut",this.cdr.detectChanges(),setTimeout(()=>{this.dismissed=!0,this.close.emit(),this.cdr.detectChanges()},300))}static#e=this.\u0275fac=function(T){return new(T||b)(c.rXU(c.gRc))};static#t=this.\u0275cmp=c.VBU({type:b,selectors:[["ds-alert"]],inputs:{content:"content",dismissible:"dismissible",type:"type"},outputs:{close:"close"},standalone:!0,features:[c.aNF],ngContentSelectors:g,decls:1,vars:1,consts:[["role","alert",3,"class",4,"ngIf"],["role","alert"],[3,"innerHTML",4,"ngIf"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(T,R){1&T&&(c.NAR(),c.DNE(0,E,4,6,"div",0)),2&T&&c.Y8G("ngIf",!R.dismissed)},dependencies:[n.bT,e.h,e.D9],styles:[".close{opacity:.75}.close:focus{outline:none!important}button.close{opacity:.6}\n"],encapsulation:2,data:{animation:[(0,i.hZ)("enterLeave",[f.ai,f.wA])]}})}return b})()},2566:(B,D,t)=>{"use strict";t.d(D,{HT:()=>n,Ws:()=>_,Xn:()=>E,ai:()=>g,e9:()=>c,qG:()=>y,wA:()=>f});var i=t(71204);const n=(0,i.wk)("fadeIn",(0,i.iF)({opacity:1})),c=(0,i.kY)("* => fadeIn",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),e=(0,i.kY)(":enter",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),f=(0,i.wk)("fadeOut",(0,i.iF)({opacity:0})),g=(0,i.kY)("fadeIn => fadeOut",[(0,i.iF)({opacity:1}),(0,i.i0)(400,(0,i.iF)({opacity:0}))]),d=(0,i.kY)(":leave",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),y=(0,i.hZ)("fadeIn",[e]),E=(0,i.hZ)("fadeOut",[d]),_=(0,i.hZ)("fadeInOut",[e,d])},5985:(B,D,t)=>{"use strict";t.d(D,{B_:()=>e,Py:()=>f,Wk:()=>n,iP:()=>c});var i=t(71204);const n=(0,i.wk)("fromTopIn",(0,i.iF)({opacity:1,transform:"translateY(0)"})),c=(0,i.kY)("* => fromTopIn",[(0,i.iF)({opacity:0,transform:"translateY(-5%)"}),(0,i.i0)("400ms ease-in-out")]),e=(0,i.wk)("fromTopOut",(0,i.iF)({opacity:0,transform:"translateY(5%)"})),f=(0,i.kY)("fromTopIn => fromTopOut",[(0,i.iF)({opacity:1,transform:"translateY(0)"}),(0,i.i0)("300ms ease-in-out")]);(0,i.hZ)("fromTopIn",[c]),(0,i.hZ)("fromTopOut",[f]),(0,i.hZ)("fromTopInOut",[c,f])},13264:(B,D,t)=>{"use strict";t.d(D,{W:()=>n});var i=t(71204);const n=(0,i.hZ)("pushInOut",[(0,i.wk)("expanded",(0,i.iF)({left:"100%"})),(0,i.wk)("collapsed",(0,i.iF)({left:0})),(0,i.kY)("expanded <=> collapsed",(0,i.i0)(250))])},7575:(B,D,t)=>{"use strict";t.d(D,{CC:()=>c,L2:()=>e,Ru:()=>f,UE:()=>n,e$:()=>b});var i=t(71204);const n=(0,i.wk)("rotateIn",(0,i.iF)({opacity:1,transform:"rotate(0deg)"})),c=(0,i.kY)("* => rotateIn",[(0,i.iF)({opacity:0,transform:"rotate(5deg)"}),(0,i.i0)("400ms ease-in-out")]),e=(0,i.wk)("rotateOut",(0,i.iF)({opacity:0,transform:"rotate(5deg)"})),f=(0,i.kY)("rotateIn => rotateOut",[(0,i.iF)({opacity:1,transform:"rotate(0deg)"}),(0,i.i0)("400ms ease-in-out")]),b=((0,i.hZ)("rotateIn",[c]),(0,i.hZ)("rotateOut",[f]),(0,i.hZ)("rotateInOut",[c,f]),(0,i.hZ)("rotate",[(0,i.wk)("expanded",(0,i.iF)({transform:"rotate(90deg)"})),(0,i.wk)("collapsed",(0,i.iF)({transform:"rotate(0deg)"})),(0,i.kY)("expanded <=> collapsed",[(0,i.i0)("200ms")])]))},74531:(B,D,t)=>{"use strict";t.d(D,{M6:()=>n,ck:()=>b,l9:()=>I,p8:()=>c,tr:()=>O});var i=t(71204);const n=(0,i.hZ)("slide",[(0,i.wk)("expanded",(0,i.iF)({height:"*"})),(0,i.wk)("collapsed",(0,i.iF)({height:0})),(0,i.wk)("void",(0,i.iF)({height:0})),(0,i.wk)("*",(0,i.iF)({height:"*"})),(0,i.kY)(":enter",[(0,i.i0)("200ms")]),(0,i.kY)(":leave",[(0,i.i0)("200ms")]),(0,i.kY)("expanded <=> collapsed",(0,i.i0)(250))]),c=(0,i.hZ)("slideMobileNav",[(0,i.wk)("expanded",(0,i.iF)({height:"*",minHeight:"*"})),(0,i.wk)("collapsed",(0,i.iF)({height:0,minHeight:0})),(0,i.kY)("expanded <=> collapsed",(0,i.i0)("300ms"))]),e=(0,i.iF)({maxWidth:"{{collapsedWidth}}"}),f=(0,i.iF)({maxWidth:"{{expandedWidth}}"}),g=(0,i.iF)({paddingLeft:"{{collapsedWidth}}"}),d=(0,i.iF)({paddingLeft:"{{expandedWidth}}"}),y=(0,i.iF)({paddingLeft:"0"}),E={params:{collapsedWidth:"*",expandedWidth:"*"}},_="300ms ease-in-out",b=(0,i.hZ)("slideSidebar",[(0,i.wk)("collapsed",e,E),(0,i.wk)("expanded",f,E),(0,i.kY)("expanded => collapsed",(0,i.i0)(_,e)),(0,i.kY)("collapsed => expanded",(0,i.i0)(_,f))]),O=(0,i.hZ)("slideSidebarPadding",[(0,i.wk)("hidden",y),(0,i.wk)("unpinned",g,E),(0,i.wk)("pinned",d,E),(0,i.kY)("hidden <=> unpinned",(0,i.i0)(_)),(0,i.kY)("hidden <=> pinned",(0,i.i0)(_)),(0,i.kY)("unpinned <=> pinned",(0,i.i0)(_))]),I=(0,i.hZ)("toggleAnimation",[(0,i.wk)("collapsed",(0,i.iF)({width:"0",opacity:"0"})),(0,i.wk)("expanded",(0,i.iF)({width:"250px",opacity:"1"})),(0,i.kY)("* => collapsed",(0,i.Os)([(0,i.i0)("300ms ease-in-out",(0,i.iF)({width:"30px"})),(0,i.i0)("300ms ease-in",(0,i.iF)({opacity:"0"}))])),(0,i.kY)("* => expanded",(0,i.Os)([(0,i.i0)("300ms ease-out",(0,i.iF)({opacity:"1"})),(0,i.i0)("300ms ease-in-out",(0,i.iF)({width:"250px"}))]))])},77826:(B,D,t)=>{"use strict";t.r(D),t.d(D,{AuthNavMenuComponent:()=>G});var i=t(54460),n=t(95968),c=t(2155),e=t(73958),f=t(69685),g=t(63016),d=t(41483),y=t(47947),E=t(44363),_=t(21706),b=t(46187),O=t(2566),I=t(72683),T=t(744),R=t(67814),u=t(75911),w=t(75941),v=t(53107);const S=Y=>({"pl-3 pr-3":Y});function M(Y,V){if(1&Y){const X=v.RV6();v.j41(0,"div",6),v.bIt("click",function(ae){return v.eBV(X),v.Njj(ae.stopPropagation())}),v.j41(1,"div",7,1)(3,"a",8),v.nI1(4,"translate"),v.nI1(5,"dsBrowserOnly"),v.bIt("click",function(ae){return v.eBV(X),v.Njj(ae.preventDefault())}),v.EFF(6),v.nI1(7,"translate"),v.k0s(),v.j41(8,"div",9),v.nI1(9,"async"),v.nI1(10,"translate"),v.nrm(11,"ds-log-in",10),v.k0s()()()}if(2&Y){const X=v.sdS(2),K=v.XpG(2);v.R7$(),v.Y8G("@fadeInOut",void 0),v.R7$(2),v.BMQ("aria-label",v.bMT(4,8,"nav.login"))("data-test",v.bMT(5,10,"login-menu"))("aria-expanded",X.isOpen()),v.R7$(3),v.JRh(v.bMT(7,12,"nav.login")),v.R7$(2),v.Y8G("ngClass",v.eq3(18,S,v.bMT(9,14,K.loading))),v.BMQ("aria-label",v.bMT(10,16,"nav.login")),v.R7$(3),v.Y8G("isStandalonePage",!1)}}function L(Y,V){if(1&Y){const X=v.RV6();v.j41(0,"div",11)(1,"div",7)(2,"a",12),v.nI1(3,"translate"),v.nI1(4,"translate"),v.nI1(5,"dsBrowserOnly"),v.bIt("click",function(ae){return v.eBV(X),v.Njj(ae.preventDefault())}),v.nrm(6,"i",13),v.k0s(),v.j41(7,"div",14),v.nrm(8,"ds-user-menu",15),v.k0s()()()}2&Y&&(v.R7$(),v.Y8G("@fadeInOut",void 0),v.R7$(),v.Y8G("title",v.bMT(3,5,"nav.user-profile-menu-and-logout")),v.BMQ("aria-label",v.bMT(4,7,"nav.user-profile-menu-and-logout"))("data-test",v.bMT(5,9,"user-menu")),v.R7$(6),v.Y8G("inExpandableNavbar",!1))}function F(Y,V){if(1&Y&&(v.j41(0,"div",3),v.DNE(1,M,12,20,"div",4),v.nI1(2,"async"),v.nI1(3,"async"),v.DNE(4,L,9,11,"div",5),v.nI1(5,"async"),v.nI1(6,"async"),v.k0s()),2&Y){const X=v.XpG();v.R7$(),v.Y8G("ngIf",!0!==v.bMT(2,2,X.isAuthenticated)&&v.bMT(3,4,X.showAuth)),v.R7$(3),v.Y8G("ngIf",v.bMT(5,6,X.isAuthenticated)&&v.bMT(6,8,X.showAuth))}}function $(Y,V){1&Y&&(v.j41(0,"a",19),v.EFF(1),v.nI1(2,"translate"),v.j41(3,"span",20),v.EFF(4,"(current)"),v.k0s()()),2&Y&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"nav.login"),""))}function j(Y,V){1&Y&&(v.j41(0,"a",21),v.nI1(1,"translate"),v.nI1(2,"translate"),v.nrm(3,"i",22),v.j41(4,"span",20),v.EFF(5,"(current)"),v.k0s()()),2&Y&&(v.Y8G("title",v.bMT(1,2,"nav.logout")),v.BMQ("aria-label",v.bMT(2,4,"nav.logout")))}function x(Y,V){if(1&Y&&(v.j41(0,"div",16),v.DNE(1,$,5,3,"a",17),v.nI1(2,"async"),v.DNE(3,j,6,6,"a",18),v.nI1(4,"async"),v.k0s()),2&Y){const X=v.XpG();v.R7$(),v.Y8G("ngIf",!0!==v.bMT(2,2,X.isAuthenticated)),v.R7$(2),v.Y8G("ngIf",v.bMT(4,4,X.isAuthenticated))}}let G=(()=>{class Y{constructor(X,K,ae){this.store=X,this.windowService=K,this.authService=ae,this.showAuth=(0,g.of)(!1),this.isMobile$=this.windowService.isMobile()}ngOnInit(){this.isAuthenticated=this.store.pipe((0,e.Lt)(b.wR)),this.loading=this.store.pipe((0,e.Lt)(b.VV)),this.user=this.authService.getAuthenticatedUserFromStore(),this.showAuth=this.store.pipe((0,e.Lt)(E.ox),(0,d.p)(X=>(0,I.EA)(X)&&(0,I.EA)(X.state)),(0,y.T)(X=>!X.state.url.startsWith(_.S0)&&!X.state.url.startsWith(_.Ru)))}static#e=this.\u0275fac=function(K){return new(K||Y)(v.rXU(e.il),v.rXU(T.CV),v.rXU(_.uR))};static#t=this.\u0275cmp=v.VBU({type:Y,selectors:[["ds-base-auth-nav-menu"]],standalone:!0,features:[v.aNF],decls:4,vars:4,consts:[["mobileButtons",""],["loginDrop","ngbDropdown"],["class","navbar-nav mr-auto","data-test","auth-nav",4,"ngIf","ngIfElse"],["data-test","auth-nav",1,"navbar-nav","mr-auto"],["class","nav-item",3,"click",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"nav-item",3,"click"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["href","javascript:void(0);","role","menuitem","aria-haspopup","menu","aria-controls","loginDropdownMenu","ngbDropdownToggle","",1,"dropdownLogin","px-0.5",3,"click"],["id","loginDropdownMenu","ngbDropdownMenu","","role","menu",3,"ngClass"],[3,"isStandalonePage"],[1,"nav-item"],["href","javascript:void(0);","role","menuitem","aria-controls","user-menu-dropdown","ngbDropdownToggle","",1,"dropdownLogout","px-1",3,"click","title"],[1,"fas","fa-user-circle","fa-lg","fa-fw"],["id","logoutDropdownMenu","ngbDropdownMenu",""],[3,"inExpandableNavbar"],["data-test","auth-nav"],["routerLink","/login","routerLinkActive","active","class","loginLink px-0.5","role","button",4,"ngIf"],["role","button","routerLink","/logout","routerLinkActive","active","class","logoutLink px-1",3,"title",4,"ngIf"],["routerLink","/login","routerLinkActive","active","role","button",1,"loginLink","px-0.5"],[1,"sr-only"],["role","button","routerLink","/logout","routerLinkActive","active",1,"logoutLink","px-1",3,"title"],[1,"fas","fa-sign-out-alt","fa-lg","fa-fw"]],template:function(K,ae){if(1&K&&(v.DNE(0,F,7,10,"div",2),v.nI1(1,"async"),v.DNE(2,x,5,6,"ng-template",null,0,v.C5r)),2&K){const Q=v.sdS(3);v.Y8G("ngIf",!0!==v.bMT(1,2,ae.isMobile$))("ngIfElse",Q)}},dependencies:[i.YU,i.bT,c.zH,c.tg,c.do,c.U0,R.W,n.Wk,n.wQ,w.r,i.Jj,f.h,f.D9,u.L],styles:["#loginDropdownMenu[_ngcontent-%COMP%], #logoutDropdownMenu[_ngcontent-%COMP%]{min-width:330px;z-index:1002}#loginDropdownMenu[_ngcontent-%COMP%]{min-height:75px;background-color:#43515f}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:active, .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#0000!important}.loginLink[_ngcontent-%COMP%], .dropdownLogin[_ngcontent-%COMP%], .logoutLink[_ngcontent-%COMP%], .dropdownLogout[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.loginLink[_ngcontent-%COMP%]:hover, .loginLink[_ngcontent-%COMP%]:focus, .dropdownLogin[_ngcontent-%COMP%]:hover, .dropdownLogin[_ngcontent-%COMP%]:focus, .logoutLink[_ngcontent-%COMP%]:hover, .logoutLink[_ngcontent-%COMP%]:focus, .dropdownLogout[_ngcontent-%COMP%]:hover, .dropdownLogout[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible).active, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible):active, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible).active:focus, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible):active:focus, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible).active, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible):active, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible).active:focus, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible):active:focus{box-shadow:unset}"],data:{animation:[O.Ws,O.Xn]}})}return Y})()},11524:(B,D,t)=>{"use strict";t.d(D,{v:()=>g});var i=t(21124),c=(t(77826),t(53107));const e=["*"];function f(d,y){}let g=(()=>{class d extends i.J{getComponentName(){return"AuthNavMenuComponent"}importThemedComponent(E){return t(51808)(`./${E}/app/shared/auth-nav-menu/auth-nav-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,77826))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=c.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-auth-nav-menu"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},75941:(B,D,t)=>{"use strict";t.d(D,{r:()=>g});var i=t(21124),c=(t(55775),t(53107));const e=["*"];function f(d,y){}let g=(()=>{class d extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["inExpandableNavbar"]}getComponentName(){return"UserMenuComponent"}importThemedComponent(E){return t(13361)(`./${E}/app/shared/auth-nav-menu/user-menu/user-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,55775))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=c.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},55775:(B,D,t)=>{"use strict";t.r(D),t.d(D,{UserMenuComponent:()=>w});var i=t(54460),n=t(95968),c=t(73958),e=t(69685),f=t(31829),g=t(21706),d=t(46187),y=t(83116),E=t(19353),_=t(21548),b=t(49314),O=t(53107);const I=v=>[v];function T(v,S){1&v&&O.nrm(0,"ds-loading")}function R(v,S){1&v&&(O.qex(0),O.nrm(1,"li",7),O.j41(2,"li",5),O.nrm(3,"ds-log-out",8),O.k0s(),O.bVm())}function u(v,S){if(1&v&&(O.j41(0,"ul",2),O.nI1(1,"translate"),O.j41(2,"li",3),O.EFF(3),O.nI1(4,"async"),O.nrm(5,"br"),O.j41(6,"span",4),O.EFF(7),O.nI1(8,"async"),O.k0s()(),O.j41(9,"li",5)(10,"a",6),O.EFF(11),O.nI1(12,"translate"),O.k0s()(),O.j41(13,"li",5)(14,"a",6),O.EFF(15),O.nI1(16,"translate"),O.k0s()(),O.j41(17,"li",5)(18,"a",6),O.EFF(19),O.nI1(20,"translate"),O.k0s()(),O.DNE(21,R,4,0,"ng-container",0),O.k0s()),2&v){let M;const L=O.XpG();O.Y8G("ngClass",L.inExpandableNavbar?"user-menu-mobile pb-2 mb-2 border-bottom":"user-menu-dropdown"),O.BMQ("aria-label",O.bMT(1,11,"nav.user-profile-menu-and-logout")),O.R7$(3),O.SpI(" ",L.dsoNameService.getName(O.bMT(4,13,L.user$)),""),O.R7$(4),O.JRh(null==(M=O.bMT(8,15,L.user$))?null:M.email),O.R7$(3),O.Y8G("routerLink",O.eq3(23,I,L.profileRoute)),O.R7$(),O.JRh(O.bMT(12,17,"nav.profile")),O.R7$(3),O.Y8G("routerLink",O.eq3(25,I,L.mydspaceRoute)),O.R7$(),O.JRh(O.bMT(16,19,"nav.mydspace")),O.R7$(3),O.Y8G("routerLink",O.eq3(27,I,L.subscriptionsRoute)),O.R7$(),O.JRh(O.bMT(20,21,"nav.subscriptions")),O.R7$(2),O.Y8G("ngIf",!L.inExpandableNavbar)}}let w=(()=>{class v{constructor(M,L,F){this.store=M,this.authService=L,this.dsoNameService=F,this.inExpandableNavbar=!1,this.mydspaceRoute=E.MYDSPACE_ROUTE,this.profileRoute=(0,f.Th)(),this.subscriptionsRoute=(0,f.gf)()}ngOnInit(){this.loading$=this.store.pipe((0,c.Lt)(d.VV)),this.user$=this.authService.getAuthenticatedUserFromStore()}static#e=this.\u0275fac=function(L){return new(L||v)(O.rXU(c.il),O.rXU(g.uR),O.rXU(y.f))};static#t=this.\u0275cmp=O.VBU({type:v,selectors:[["ds-base-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},standalone:!0,features:[O.aNF],decls:4,vars:6,consts:[[4,"ngIf"],["class","user-menu","role","menu","id","user-menu-dropdown",3,"ngClass",4,"ngIf"],["role","menu","id","user-menu-dropdown",1,"user-menu",3,"ngClass"],["role","presentation",1,"ds-menu-item-wrapper","username-email-wrapper"],[1,"text-muted"],["role","presentation",1,"ds-menu-item-wrapper"],["role","menuitem","routerLinkActive","active",1,"ds-menu-item",3,"routerLink"],["aria-hidden","true",1,"dropdown-divider"],["data-test","log-out-component"]],template:function(L,F){1&L&&(O.DNE(0,T,1,0,"ds-loading",0),O.nI1(1,"async"),O.DNE(2,u,22,29,"ul",1),O.nI1(3,"async")),2&L&&(O.Y8G("ngIf",O.bMT(1,2,F.loading$)),O.R7$(2),O.Y8G("ngIf",!0!==O.bMT(3,4,F.loading$)))},dependencies:[i.bT,_.v,n.wQ,i.YU,n.Wk,b.y,i.Jj,e.h,e.D9],styles:["[_nghost-%COMP%]   ul.user-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%], [_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper.username-email-wrapper[_ngcontent-%COMP%]{padding:var(--ds-user-menu-item-vertical-padding) var(--ds-user-menu-dropdown-padding)}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%]{display:block;color:var(--ds-expandable-navbar-link-color)}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%]:hover{color:var(--ds-expandable-navbar-link-color-hover);background-color:var(--ds-user-menu-dropdown-link-background-hover)}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]{padding-top:var(--ds-user-menu-item-vertical-padding);padding-bottom:var(--ds-user-menu-item-vertical-padding)}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%], [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]{color:var(--ds-expandable-navbar-link-color)!important}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]:focus{color:var(--ds-expandable-navbar-link-background-hover)!important}"]})}return v})()},81150:(B,D,t)=>{"use strict";t.r(D),t.d(D,{BrowseByComponent:()=>V});var i=t(54460),n=t(53107),c=t(69685),e=t(71217),f=t(76627),g=t(47947),y=(t(89632),t(95438)),E=t(98985),_=t(88842),b=t(2566),O=t(72683),I=t(96606),T=t(21548),R=t(13943),u=t(15998),w=t(21142),v=t(19904),S=t(63524);function M(X,K){if(1&X&&(n.j41(0,"h1"),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&X){const ae=n.XpG(2);n.R7$(),n.JRh(n.bMT(2,1,ae.title))}}function L(X,K){if(1&X&&(n.j41(0,"div",6),n.nrm(1,"ds-results-back-button",7),n.k0s()),2&X){const ae=n.XpG(3);n.R7$(),n.Y8G("back",ae.back)("buttonLabel",ae.buttonLabel)}}function F(X,K){if(1&X){const ae=n.RV6();n.j41(0,"div"),n.DNE(1,L,2,2,"div",4),n.nI1(2,"async"),n.j41(3,"ds-viewable-collection",5),n.bIt("prev",function(){n.eBV(ae);const J=n.XpG(2);return n.Njj(J.goPrev())})("next",function(){n.eBV(ae);const J=n.XpG(2);return n.Njj(J.goNext())}),n.k0s()()}if(2&X){const ae=n.XpG().ngVar,Q=n.XpG();n.Y8G("@fadeIn",void 0),n.R7$(),n.Y8G("ngIf",n.bMT(2,6,Q.shouldDisplayResetButton$)),n.R7$(2),n.Y8G("config",Q.paginationConfig)("sortConfig",Q.sortConfig)("showPaginator",Q.showPaginator)("objects",ae)}}function $(X,K){1&X&&(n.nrm(0,"ds-loading",8),n.nI1(1,"translate")),2&X&&n.FS9("message",n.bMT(1,1,"loading.browse-by"))}function j(X,K){1&X&&(n.nrm(0,"ds-error",8),n.nI1(1,"translate")),2&X&&n.FS9("message",n.bMT(1,1,"error.browse-by"))}function x(X,K){if(1&X&&(n.j41(0,"div",11),n.nrm(1,"ds-results-back-button",7),n.k0s()),2&X){const ae=n.XpG(3);n.R7$(),n.Y8G("back",ae.back)("buttonLabel",ae.buttonLabel)}}function G(X,K){if(1&X&&(n.j41(0,"div"),n.DNE(1,x,2,2,"div",9),n.nI1(2,"async"),n.j41(3,"div",10),n.EFF(4),n.nI1(5,"translate"),n.k0s()()),2&X){const ae=n.XpG(2);n.R7$(),n.Y8G("ngIf",n.bMT(2,2,ae.shouldDisplayResetButton$)),n.R7$(3),n.SpI(" ",n.bMT(5,4,"browse.empty")," ")}}function Y(X,K){if(1&X&&(n.qex(0),n.DNE(1,M,3,3,"h1",1),n.nrm(2,"ds-starts-with-loader",2),n.DNE(3,F,4,8,"div",1)(4,$,2,3,"ds-loading",3)(5,j,2,3,"ds-error",3)(6,G,6,6,"div",1),n.bVm()),2&X){const ae=K.ngVar,Q=n.XpG();n.R7$(),n.Y8G("ngIf",Q.displayTitle),n.R7$(),n.Y8G("paginationId",null==Q.paginationConfig?null:Q.paginationConfig.id)("startsWithOptions",Q.startsWithOptions)("type",Q.type),n.R7$(),n.Y8G("ngIf",(null==ae?null:ae.hasSucceeded)&&!(null!=ae&&ae.isLoading)&&(null==ae||null==ae.payload?null:ae.payload.page.length)>0),n.R7$(),n.Y8G("ngIf",!ae||(null==ae?null:ae.isLoading)),n.R7$(),n.Y8G("ngIf",null==ae?null:ae.hasFailed),n.R7$(),n.Y8G("ngIf",!(null!=ae&&ae.isLoading)&&0===(null==ae||null==ae.payload?null:ae.payload.page.length))}}let V=(()=>{class X{constructor(ae,Q,J,z){this.injector=ae,this.paginationService=Q,this.translateService=J,this.routeService=z,this.viewMode=_.n.ListElement,this.displayTitle=!0,this.type=v.c.text,this.startsWithOptions=[],this.showPaginator=!0,this.hideGear=!1,this.prev=new n.bkB,this.next=new n.bkB,this.pageSizeChange=new n.bkB,this.sortDirectionChange=new n.bkB,this.previousPage$=new e.t("1"),this.buttonLabel=this.translateService.get("browse.back.all-results"),this.back=()=>{this.paginationService.updateRoute(this.paginationConfig.id,{page:+this.previousPage$.value>1?+this.previousPage$.value:1},{[this.paginationConfig.id+".return"]:null,value:null,startsWith:null})}}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}ngOnInit(){const ae=this.routeService.getQueryParameterValue("startsWith"),Q=this.routeService.getQueryParameterValue("value");this.shouldDisplayResetButton$=(0,f.z)([ae,Q]).pipe((0,g.T)(([J,z])=>(0,O.a4)(J)||(0,O.a4)(z)))}ngOnChanges(){this.sub&&this.sub.unsubscribe(),this.sub=this.routeService.getQueryParameterValue(this.paginationConfig.id+".return").subscribe(this.previousPage$)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static#e=this.\u0275fac=function(Q){return new(Q||X)(n.rXU(n.zZn),n.rXU(y.m),n.rXU(c.c$),n.rXU(E.v$))};static#t=this.\u0275cmp=n.VBU({type:X,selectors:[["ds-base-browse-by"]],inputs:{title:"title",displayTitle:"displayTitle",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},standalone:!0,features:[n.OA$,n.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"paginationId","startsWithOptions","type"],[3,"message",4,"ngIf"],["class","mb-2 reset",4,"ngIf"],[3,"prev","next","config","sortConfig","showPaginator","objects"],[1,"mb-2","reset"],[3,"back","buttonLabel"],[3,"message"],["class","d-inline-block mb-4 reset",4,"ngIf"],["role","alert",1,"alert","alert-info","w-100"],[1,"d-inline-block","mb-4","reset"]],template:function(Q,J){1&Q&&(n.DNE(0,Y,7,8,"ng-container",0),n.nI1(1,"async")),2&Q&&n.Y8G("ngVar",n.bMT(1,1,J.objects$))},dependencies:[S.r,i.bT,u.U,R.h,T.v,I.A,i.Jj,c.h,c.D9,w.u],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"],data:{animation:[b.qG,b.Ws]}})}return X})()},58408:(B,D,t)=>{"use strict";t.d(D,{U:()=>y});var i=t(53107),e=(t(89632),t(19904),t(21124));t(81150);const g=["*"];function d(E,_){}let y=(()=>{class E extends e.J{constructor(){super(...arguments),this.prev=new i.bkB,this.next=new i.bkB,this.pageSizeChange=new i.bkB,this.sortDirectionChange=new i.bkB,this.inAndOutputNames=["title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","showPaginator","hideGear","prev","next","pageSizeChange","sortDirectionChange"]}getComponentName(){return"BrowseByComponent"}importThemedComponent(b){return t(60939)(`./${b}/app/shared/browse-by/browse-by.component.ts`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,81150))}static#e=this.\u0275fac=(()=>{let b;return function(I){return(b||(b=i.xGo(E)))(I||E)}})();static#t=this.\u0275cmp=i.VBU({type:E,selectors:[["ds-browse-by"]],inputs:{title:"title",displayTitle:"displayTitle",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:g,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,I){1&O&&(i.NAR(),i.DNE(0,d,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}return E})()},63186:(B,D,t)=>{"use strict";t.r(D),t.d(D,{CollectionDropdownComponent:()=>X});var i=t(54460),n=t(53107),c=t(10936),e=t(69685),f=t(59055),g=t(71217),d=t(33325),y=t(63016),E=t(88627),_=t(66645),b=t(30593),O=t(22867),I=t(27035),T=t(47947),R=t(81215),u=t(37610),w=t(83116),v=t(8109),S=t(12007),M=t(72683),L=t(21548),F=t(24106);function $(K,ae){if(1&K){const Q=n.RV6();n.j41(0,"div",6)(1,"input",7,0),n.nI1(3,"translate"),n.bIt("click",function(z){return n.eBV(Q),n.Njj(z.stopPropagation())}),n.k0s()()}if(2&K){const Q=n.XpG();n.R7$(),n.FS9("placeholder",n.bMT(3,2,"submission.sections.general.search-collection")),n.Y8G("formControl",Q.searchField)}}function j(K,ae){1&K&&(n.j41(0,"li",8),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&K&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"submission.sections.general.no-collection")," "))}function x(K,ae){if(1&K&&(n.j41(0,"div",14),n.EFF(1),n.nrm(2,"i",15),n.k0s()),2&K){const Q=ae.$implicit;n.R7$(),n.SpI(" ",Q.name," ")}}function G(K,ae){if(1&K){const Q=n.RV6();n.j41(0,"li",10),n.bIt("click",function(){const z=n.eBV(Q).$implicit,q=n.XpG(2);return n.Njj(q.onSelect(z))}),n.j41(1,"div",11),n.DNE(2,x,3,1,"div",12),n.j41(3,"div",13),n.EFF(4),n.k0s()()()}if(2&K){const Q=ae.$implicit;n.FS9("title",Q.collection.name),n.R7$(2),n.Y8G("ngForOf",Q.communities),n.R7$(2),n.JRh(Q.collection.name)}}function Y(K,ae){if(1&K&&(n.qex(0),n.DNE(1,G,5,3,"li",9),n.bVm()),2&K){const Q=n.XpG();n.R7$(),n.Y8G("ngForOf",Q.searchListCollection)}}function V(K,ae){1&K&&(n.j41(0,"li")(1,"button",16),n.nrm(2,"ds-loading",17),n.nI1(3,"translate"),n.k0s()()),2&K&&(n.R7$(2),n.FS9("message",n.bMT(3,1,"loading.default")))}let X=(()=>{class K{constructor(Q,J,z,q){this.changeDetectorRef=Q,this.collectionDataService=J,this.el=z,this.dsoNameService=q,this.searchField=new c.hs,this.scrollableBottom=!1,this.scrollableTop=!1,this.subs=[],this.searchListCollection=[],this.selectionChange=new n.bkB,this.isLoading=new g.t(!1),this.searchComplete=new n.bkB,this.theOnlySelectable=new n.bkB}onMousewheel(Q){Q.wheelDelta>0&&this.scrollableTop&&Q.preventDefault(),Q.wheelDelta<0&&this.scrollableBottom&&Q.preventDefault()}ngOnInit(){this.isLoading.next(!1),this.subs.push(this.searchField.valueChanges.pipe((0,E.B)(500),(0,_.F)(),(0,b.Z)("")).subscribe(Q=>{(0,M.a4)(Q)&&Q!==this.currentQuery&&(this.resetPagination(),this.currentQuery=Q,this.populateCollectionList(this.currentQuery,this.currentPage))})),setTimeout(()=>this.el.nativeElement.querySelector("input").focus(),0)}onScroll(Q){this.scrollableBottom=Q.target.scrollTop+Q.target.clientHeight===Q.target.scrollHeight,this.scrollableTop=0===Q.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateCollectionList(this.currentQuery,++this.currentPage)}onSelect(Q){this.isLoading.next(!0),this.selectionChange.emit(Q)}populateCollectionList(Q,J){this.isLoading.next(!0);const z={elementsPerPage:10,currentPage:J};let q;q=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(Q,this.entityType,z,!0,(0,F.s)("parentCommunity")):this.collectionDataService.getAuthorizedCollection(Q,z,!0,!0,(0,F.s)("parentCommunity")),this.searchListCollection$=q.pipe((0,S.qD)(),(0,O.n)(ee=>(this.searchComplete.emit(),ee.hasSucceeded&&ee.payload.totalElements>0?(this.searchListCollection.length>=ee.payload.totalElements&&(this.hasNextPage=!1),this.emitSelectionEvents(ee),(0,d.H)(ee.payload.page).pipe((0,I.Z)(de=>de.parentCommunity.pipe((0,S.ak)(),(0,T.T)(Ce=>({communities:[{id:Ce.id,name:this.dsoNameService.getName(Ce)}],collection:{id:de.id,uuid:de.id,name:this.dsoNameService.getName(de)}})))),(0,R.T)((de,Ce)=>[...de,Ce],[]))):(this.hasNextPage=!1,(0,y.of)([]))))),this.subs.push(this.searchListCollection$.subscribe(ee=>{this.searchListCollection.push(...ee),this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(Q=>(0,M.a4)(Q)).forEach(Q=>Q.unsubscribe())}reset(){this.searchField.setValue("")}resetPagination(){this.currentPage=1,this.currentQuery="",this.hasNextPage=!0,this.searchListCollection=[]}hideShowLoader(Q){this.isLoading.next(Q)}emitSelectionEvents(Q){if(1===Q.payload.totalElements){const J=Q.payload.page[0];Q.payload.page[0].parentCommunity.pipe((0,S.ak)(),(0,u.s)(1)).subscribe(z=>{this.theOnlySelectable.emit({communities:[{id:z.id,name:this.dsoNameService.getName(z),uuid:z.id}],collection:{id:J.id,uuid:J.id,name:this.dsoNameService.getName(J)}})})}}static#e=this.\u0275fac=function(J){return new(J||K)(n.rXU(n.gRc),n.rXU(v.CollectionDataService),n.rXU(n.aKT),n.rXU(w.f))};static#t=this.\u0275cmp=n.VBU({type:K,selectors:[["ds-base-collection-dropdown"]],hostBindings:function(J,z){1&J&&n.bIt("mousewheel",function(ee){return z.onMousewheel(ee)})},inputs:{entityType:"entityType"},outputs:{selectionChange:"selectionChange",searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable"},standalone:!0,features:[n.aNF],decls:8,vars:13,consts:[["searchFieldEl",""],["class","form-group w-100 pr-2 pl-2 my-2",4,"ngIf"],[1,"dropdown-divider","m-0"],["role","menu","infiniteScroll","",1,"scrollable-menu","p-0","m-0",3,"scroll","scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow"],["class","dropdown-item disabled","role","menuitem",4,"ngIf"],[4,"ngIf"],[1,"form-group","w-100","pr-2","pl-2","my-2"],["type","search",1,"form-control","w-100",3,"click","placeholder","formControl"],["role","menuitem",1,"dropdown-item","disabled"],["class","dropdown-item collection-item","role","menuitem",3,"title","click",4,"ngFor","ngForOf"],["role","menuitem",1,"dropdown-item","collection-item",3,"click","title"],[1,"list-unstyled","mb-0"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],[1,"list-item","text-truncate","text-secondary"],["aria-hidden","true",1,"fa","fa-level-down"],[1,"dropdown-item","disabled"],[3,"message"]],template:function(J,z){1&J&&(n.DNE(0,$,4,4,"div",1),n.nrm(1,"div",2),n.j41(2,"ul",3),n.bIt("scroll",function(ee){return z.onScroll(ee)})("scrolled",function(){return z.onScrollDown()}),n.DNE(3,j,3,3,"li",4),n.nI1(4,"async"),n.DNE(5,Y,2,1,"ng-container",5)(6,V,4,3,"li",5),n.nI1(7,"async"),n.k0s()),2&J&&(n.Y8G("ngIf",z.searchField),n.R7$(2),n.Y8G("infiniteScrollDistance",1.5)("infiniteScrollThrottle",0)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),n.R7$(),n.Y8G("ngIf",0===(null==z.searchListCollection?null:z.searchListCollection.length)&&!0!==n.bMT(4,9,z.isLoading)),n.R7$(2),n.Y8G("ngIf",(null==z.searchListCollection?null:z.searchListCollection.length)>0),n.R7$(),n.Y8G("ngIf",n.bMT(7,11,z.isLoading)))},dependencies:[i.bT,c.YN,c.me,c.BC,c.X1,c.l_,f.eO,f.DP,i.pM,L.v,i.Jj,e.h,e.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}li[_ngcontent-%COMP%]:not(:last-of-type), .dropdown-divider[_ngcontent-%COMP%]{border-top:none;border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#collectionControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;left:0!important;box-shadow:var(--bs-btn-focus-box-shadow)}"]})}return K})()},63200:(B,D,t)=>{"use strict";t.d(D,{m:()=>g});var i=t(53107),n=t(21124);t(63186);const e=["*"];function f(d,y){}let g=(()=>{class d extends n.J{constructor(){super(...arguments),this.searchComplete=new i.bkB,this.theOnlySelectable=new i.bkB,this.selectionChange=new i.bkB,this.inAndOutputNames=["entityType","searchComplete","theOnlySelectable","selectionChange"]}getComponentName(){return"CollectionDropdownComponent"}importThemedComponent(E){return t(80882)(`./${E}/app/shared/collection-dropdown/collection-dropdown.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,63186))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=i.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=i.VBU({type:d,selectors:[["ds-collection-dropdown"]],inputs:{entityType:"entityType"},outputs:{searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable",selectionChange:"selectionChange"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}return d})()},14922:(B,D,t)=>{"use strict";t.d(D,{M:()=>d});var i=t(54460),n=t(53107),c=t(69685),e=t(2155);const f=y=>({dsoName:y});function g(y,E){if(1&y&&n.nrm(0,"i"),2&y){const _=n.XpG();n.HbH(_.confirmIcon)}}let d=(()=>{class y{constructor(_){this.activeModal=_,this.brandColor="primary",this.response=new n.bkB}confirmPressed(){this.response.emit(!0),this.close()}cancelPressed(){this.response.emit(!1),this.close()}close(){this.activeModal.close()}static#e=this.\u0275fac=function(b){return new(b||y)(n.rXU(e.Lw))};static#t=this.\u0275cmp=n.VBU({type:y,selectors:[["ds-confirmation-modal"]],inputs:{headerLabel:"headerLabel",infoLabel:"infoLabel",cancelLabel:"cancelLabel",confirmLabel:"confirmLabel",confirmIcon:"confirmIcon",brandColor:"brandColor",name:"name"},outputs:{response:"response"},standalone:!0,features:[n.aNF],decls:20,vars:28,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Cancel",1,"cancel","btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],["type","button","aria-label","Confirm","ngbAutofocus","",3,"click"],[3,"class",4,"ngIf"]],template:function(b,O){1&b&&(n.j41(0,"div")(1,"div",0),n.EFF(2),n.nI1(3,"translate"),n.j41(4,"button",1),n.bIt("click",function(){return O.close()}),n.j41(5,"span",2),n.EFF(6,"\xd7"),n.k0s()()(),n.j41(7,"div",3)(8,"p"),n.EFF(9),n.nI1(10,"translate"),n.k0s()(),n.j41(11,"div",4)(12,"button",5),n.bIt("click",function(){return O.cancelPressed()}),n.nrm(13,"i",6),n.EFF(14),n.nI1(15,"translate"),n.k0s(),n.j41(16,"button",7),n.bIt("click",function(){return O.confirmPressed()}),n.DNE(17,g,1,3,"i",8),n.EFF(18),n.nI1(19,"translate"),n.k0s()()()),2&b&&(n.R7$(2),n.SpI("",n.i5U(3,8,O.headerLabel,n.eq3(20,f,O.name))," "),n.R7$(7),n.JRh(n.i5U(10,11,O.infoLabel,n.eq3(22,f,O.name))),n.R7$(5),n.SpI(" ",n.i5U(15,14,O.cancelLabel,n.eq3(24,f,O.name))," "),n.R7$(2),n.ZvI("confirm btn btn-",O.brandColor,""),n.R7$(),n.Y8G("ngIf",O.confirmIcon),n.R7$(),n.SpI(" ",n.i5U(19,17,O.confirmLabel,n.eq3(26,f,O.name))," "))},dependencies:[i.bT,c.h,c.D9],encapsulation:2})}return y})()},86042:(B,D,t)=>{"use strict";t.d(D,{C:()=>E,Ed:()=>d,JD:()=>y,Ln:()=>c,Xd:()=>f,eE:()=>e,y5:()=>n});var i=t(83770);const n={CONTEXT_HELP_TOGGLE_ICONS:(0,i.N)("dspace/context-help/CONTEXT_HELP_TOGGLE_ICONS"),CONTEXT_HELP_ADD:(0,i.N)("dspace/context-help/CONTEXT_HELP_ADD"),CONTEXT_HELP_REMOVE:(0,i.N)("dspace/context-help/CONTEXT_HELP_REMOVE"),CONTEXT_HELP_TOGGLE_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_TOGGLE_TOOLTIP"),CONTEXT_HELP_SHOW_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_SHOW_TOOLTIP"),CONTEXT_HELP_HIDE_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_HIDE_TOOLTIP")};class c{constructor(){this.type=n.CONTEXT_HELP_TOGGLE_ICONS}}class e{constructor(b){this.type=n.CONTEXT_HELP_ADD,this.model=b}}class f{constructor(b){this.type=n.CONTEXT_HELP_REMOVE,this.id=b}}class g{constructor(b){this.id=b}}class d extends g{constructor(){super(...arguments),this.type=n.CONTEXT_HELP_TOGGLE_TOOLTIP}}class y extends g{constructor(){super(...arguments),this.type=n.CONTEXT_HELP_SHOW_TOOLTIP}}class E extends g{constructor(){super(...arguments),this.type=n.CONTEXT_HELP_HIDE_TOOLTIP}}},81727:(B,D,t)=>{"use strict";t.d(D,{G:()=>L});var i=t(19474),n=t(54460),c=t(2155),e=t(71217),f=t(76627),g=t(66645),d=t(27035),y=t(47947),E=t(72683),_=t(53107),b=t(69685);const O=["tooltip"],I=(F,$)=>({"ds-context-help-icon fas fa-question-circle shadow-sm":!0,"ds-context-help-icon-right":F,"ds-context-help-icon-left":$});function T(F,$){if(1&F&&(_.qex(0),_.j41(1,"a",7),_.EFF(2),_.k0s(),_.bVm()),2&F){const j=_.XpG().$implicit;_.R7$(),_.FS9("href",j.href,_.B4B),_.R7$(),_.JRh(j.text)}}function R(F,$){if(1&F&&(_.qex(0),_.EFF(1),_.bVm()),2&F){const j=_.XpG().$implicit;_.R7$(),_.SpI(" ",j," ")}}function u(F,$){if(1&F&&(_.qex(0),_.DNE(1,T,3,2,"ng-container",6)(2,R,2,1,"ng-container",6),_.bVm()),2&F){const j=$.$implicit;_.R7$(),_.Y8G("ngIf",j.href),_.R7$(),_.Y8G("ngIf",void 0===j.href)}}function w(F,$){if(1&F&&(_.j41(0,"div",4),_.DNE(1,u,3,2,"ng-container",5),_.nI1(2,"async"),_.k0s()),2&F){const j=_.XpG();_.R7$(),_.Y8G("ngForOf",_.bMT(2,1,j.parsedContent$))}}function v(F,$){if(1&F){const j=_.RV6();_.j41(0,"i",8,1),_.bIt("click",function(){_.eBV(j);const G=_.XpG();return _.Njj(G.onClick())}),_.k0s()}if(2&F){const j=_.XpG(),x=_.sdS(1);_.Y8G("ngClass",_.l_i(3,I,"left"!==j.iconPlacement,"left"===j.iconPlacement))("ngbTooltip",x)("placement",j.tooltipPlacement)}}function S(F,$){1&F&&_.eu8(0)}let M=(()=>{class F{set dontParseLinks(j){this.dontParseLinks$.next(j)}set content(j){this.content$.next(j)}constructor(j,x){this.translateService=j,this.contextHelpService=x,this.tooltipPlacement=[],this.iconPlacement="left",this.dontParseLinks$=new e.t(!1),this.content$=new e.t(void 0),this.subs=[]}ngOnInit(){this.parsedContent$=(0,f.z)([this.content$.pipe((0,g.F)(),(0,d.Z)(j=>this.translateService.get(j))),this.dontParseLinks$.pipe((0,g.F)())]).pipe((0,y.T)(([j,x])=>x?[j]:this.parseLinks(j))),this.shouldShowIcon$=this.contextHelpService.shouldShowIcons$()}set setTooltip(j){this.tooltip=j,this.clearSubs(),void 0!==this.tooltip&&(this.subs=[this.contextHelpService.getContextHelp$(this.id).pipe((0,E.Az)()).subscribe(x=>{x.isTooltipVisible&&!this.tooltip.isOpen()?this.tooltip.open():!x.isTooltipVisible&&this.tooltip.isOpen()&&this.tooltip.close()}),this.tooltip.shown.subscribe(()=>{this.contextHelpService.showTooltip(this.id)}),this.tooltip.hidden.subscribe(()=>{this.contextHelpService.hideTooltip(this.id)})])}ngOnDestroy(){this.clearSubs()}onClick(){this.contextHelpService.toggleTooltip(this.id)}parseLinks(j){const G=/^\[([^\]]*)\]\(([^\)]*)\)$/;return j.match(/[^\[]+|\[([^\]]*)\]\(([^\)]*)\)/g).map(Y=>{const V=Y.match(G);return null===V?Y:{href:V[2],text:V[1]}})}clearSubs(){this.subs.forEach(j=>j.unsubscribe()),this.subs=[]}static#e=this.\u0275fac=function(x){return new(x||F)(_.rXU(b.c$),_.rXU(i.O))};static#t=this.\u0275cmp=_.VBU({type:F,selectors:[["ds-context-help-wrapper"]],viewQuery:function(x,G){if(1&x&&_.GBs(O,5),2&x){let Y;_.mGM(Y=_.lsd())&&(G.setTooltip=Y.first)}},inputs:{templateRef:"templateRef",id:"id",tooltipPlacement:"tooltipPlacement",iconPlacement:"iconPlacement",dontParseLinks:"dontParseLinks",content:"content"},standalone:!0,features:[_.aNF],decls:5,vars:4,consts:[["help",""],["tooltip","ngbTooltip"],["autoClose","outside","triggers","manual","container","body",3,"ngClass","ngbTooltip","placement","click",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"preserve-line-breaks","ds-context-help-content"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href"],["autoClose","outside","triggers","manual","container","body",3,"click","ngClass","ngbTooltip","placement"]],template:function(x,G){1&x&&(_.DNE(0,w,3,3,"ng-template",null,0,_.C5r)(2,v,2,6,"i",2),_.nI1(3,"async"),_.DNE(4,S,1,0,"ng-container",3)),2&x&&(_.R7$(2),_.Y8G("ngIf",_.bMT(3,2,G.shouldShowIcon$)),_.R7$(2),_.Y8G("ngTemplateOutlet",G.templateRef))},dependencies:[n.pM,n.bT,n.YU,c.n8,c.md,n.T3,n.Jj],styles:["[_nghost-%COMP%]{position:relative}.ds-context-help-icon[_ngcontent-%COMP%]{position:absolute;top:0;cursor:pointer;color:var(--bs-info);background-color:var(--bs-white);font-size:16px;line-height:1;border-radius:50%}.ds-context-help-icon-left[_ngcontent-%COMP%]{left:var(--ds-context-x-offset)}.ds-context-help-icon-right[_ngcontent-%COMP%]{right:calc(-1 * var(--ds-context-help-icon-size))}  .tooltip-inner{width:var(--ds-context-help-tooltip-width);max-width:var(--ds-context-help-tooltip-width)}  .tooltip-inner a{color:var(--ds-context-help-tooltip-link-color);text-decoration:underline}"]})}return F})(),L=(()=>{class F{constructor(j,x,G){this.templateRef=j,this.viewContainerRef=x,this.contextHelpService=G,this.mostRecentId=void 0}ngOnChanges(){this.clearMostRecentId(),this.mostRecentId=this.dsContextHelp.id,this.contextHelpService.add({id:this.dsContextHelp.id,isTooltipVisible:!1}),void 0===this.wrapper&&(this.wrapper=this.viewContainerRef.createComponent(M)),this.wrapper.setInput("templateRef",this.templateRef),this.wrapper.setInput("content",this.dsContextHelp.content),this.wrapper.setInput("id",this.dsContextHelp.id),this.wrapper.setInput("tooltipPlacement",this.dsContextHelp.tooltipPlacement),this.wrapper.setInput("iconPlacement",this.dsContextHelp.iconPlacement)}ngOnDestroy(){this.clearMostRecentId(),(0,E.a4)(this.wrapper)&&(this.wrapper.destroy(),this.wrapper=void 0)}clearMostRecentId(){void 0!==this.mostRecentId&&this.contextHelpService.remove(this.mostRecentId)}static#e=this.\u0275fac=function(x){return new(x||F)(_.rXU(_.C4Q),_.rXU(_.c1b),_.rXU(i.O))};static#t=this.\u0275dir=_.FsC({type:F,selectors:[["","dsContextHelp",""]],inputs:{dsContextHelp:"dsContextHelp"},standalone:!0,features:[_.OA$]})}return F})()},19474:(B,D,t)=>{"use strict";t.d(D,{O:()=>E});var i=t(73958),n=t(47947),c=t(86042),e=t(53107);const f=(0,i.UX)("contextHelp"),g=(0,i.Mz)(f,_=>_.allIconsVisible),y=(0,i.Mz)(f,_=>_.models);let E=(()=>{class _{constructor(O){this.store=O}shouldShowIcons$(){return this.store.pipe((0,i.Lt)(g))}getContextHelp$(O){return this.store.pipe((0,i.Lt)((_=>(0,i.Mz)(f,b=>b.models[_]))(O)))}tooltipCount$(){return this.store.pipe((0,i.Lt)(y)).pipe((0,n.T)(O=>Object.keys(O).length))}toggleIcons(){this.store.dispatch(new c.Ln)}add(O){this.store.dispatch(new c.eE(O))}remove(O){this.store.dispatch(new c.Xd(O))}toggleTooltip(O){this.store.dispatch(new c.Ed(O))}showTooltip(O){this.store.dispatch(new c.JD(O))}hideTooltip(O){this.store.dispatch(new c.C(O))}static#e=this.\u0275fac=function(I){return new(I||_)(e.KVO(i.il))};static#t=this.\u0275prov=e.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},4496:(B,D,t)=>{"use strict";t.d(D,{$:()=>n});var i=t(53107);let n=(()=>{class c{static#e=this.\u0275fac=function(g){return new(g||c)};static#t=this.\u0275prov=i.jDH({token:c,factory:c.\u0275fac})}return c})()},75988:(B,D,t)=>{"use strict";function i(v){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(v)}function n(v,S){if(S.length<v)throw new TypeError(v+" argument"+(v>1?"s":"")+" required, but only "+S.length+" present")}t.d(D,{Sd:()=>b,$T:()=>R,z5:()=>_,vd:()=>u,PR:()=>I,zX:()=>w});var g=t(95793),d=t(80773),y=t.n(d),E=t(72683);function _(v){return y()(v)&&v.hasOwnProperty("day")&&v.hasOwnProperty("month")&&v.hasOwnProperty("year")}function b(v){const S=v instanceof Date?v:O("string"==typeof v?I(v):v);return(0,g.formatInTimeZone)(S,"UTC","yyyy-MM-dd'T'HH:mm:ss'Z'")}function O(v){return new Date(Date.UTC(v.year,v.month-1,v.day))}function I(v){return function T(v){return(0,E.Tn)(v)&&(v=new Date),{year:v.getUTCFullYear(),month:v.getUTCMonth()+1,day:v.getUTCDate()}}(new Date(v))}function R(v){const S=v instanceof Date?v:O(v);return(0,g.formatInTimeZone)(S,"UTC","yyyy-MM-dd")}function u(v){return!(0,E.Tn)(v)&&function f(v){if(n(1,arguments),!function c(v){return n(1,arguments),v instanceof Date||"object"===i(v)&&"[object Date]"===Object.prototype.toString.call(v)}(v)&&"number"!=typeof v)return!1;var S=function e(v){n(1,arguments);var S=Object.prototype.toString.call(v);return v instanceof Date||"object"===i(v)&&"[object Date]"===S?new Date(v.getTime()):"number"==typeof v||"[object Number]"===S?new Date(v):(("string"==typeof v||"[object String]"===S)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}(v);return!isNaN(Number(S))}(new Date(v))}function w(v){return u(v)?new Date(v).getUTCFullYear():null}},4097:(B,D,t)=>{"use strict";t.d(D,{T:()=>b});var i=t(54460),n=t(77304),c=t(36051),e=t(62990),f=t(78198),g=t(16182),d=t(53107),y=t(95968);function E(O,I){1&O&&d.eu8(0)}function _(O,I){if(1&O&&(d.j41(0,"div",2),d.DNE(1,E,1,0,"ng-container",3),d.nI1(2,"async"),d.nI1(3,"async"),d.k0s()),2&O){let T,R;const u=I.$implicit,w=d.XpG();d.R7$(),d.Y8G("ngComponentOutlet",null==(T=d.bMT(2,2,w.sectionMap$).get(u.id))?null:T.component)("ngComponentOutletInjector",null==(R=d.bMT(3,4,w.sectionMap$).get(u.id))?null:R.injector)}}let b=(()=>{class O extends c.Z{constructor(T,R,u,w,v){super(T,R,u,w,v),this.menuService=T,this.injector=R,this.authorizationService=u,this.route=w,this.themeService=v,this.menuID=f.D.DSO_EDIT}static#e=this.\u0275fac=function(R){return new(R||O)(d.rXU(e.$),d.rXU(d.zZn),d.rXU(n.AuthorizationDataService),d.rXU(y.nX),d.rXU(g.Fs))};static#t=this.\u0275cmp=d.VBU({type:O,selectors:[["ds-dso-edit-menu"]],standalone:!0,features:[d.Vt3,d.aNF],decls:3,vars:3,consts:[[1,"dso-edit-menu","d-flex"],["class","ml-1",4,"ngFor","ngForOf"],[1,"ml-1"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(R,u){1&R&&(d.j41(0,"div",0),d.DNE(1,_,4,6,"div",1),d.nI1(2,"async"),d.k0s()),2&R&&(d.R7$(),d.Y8G("ngForOf",d.bMT(2,1,u.sections)))},dependencies:[i.pM,i.OI,i.Jj]})}return O})()},46002:(B,D,t)=>{"use strict";t.d(D,{e:()=>Y});var i=t(54460),n=t(10936),c=t(69685),e=t(59055),f=t(47947),g=t(83116),d=t(8109),y=t(5338),E=t(21314),_=t(12007),b=t(67811),O=t(72683),I=t(64556),T=t(21548),R=t(79224),u=t(2167),w=t(47637),v=t(24106),S=t(75949),M=t(53107);const L=V=>({type:V}),F=V=>({"bg-primary":V});function $(V,X){if(1&V&&(M.j41(0,"button",10),M.EFF(1),M.nI1(2,"translate"),M.k0s()),2&V){const K=M.XpG(2);M.R7$(),M.SpI(" ",M.i5U(2,1,"dso-selector.no-results",M.eq3(4,L,K.typesString))," ")}}function j(V,X){if(1&V){const K=M.RV6();M.j41(0,"button",11,0),M.bIt("click",function(){const Q=M.eBV(K).$implicit,J=M.XpG(2);return M.Njj(J.onClick(Q))}),M.nrm(2,"ds-listable-object-component-loader",12),M.k0s()}if(2&V){const K=X.$implicit,ae=M.XpG(2);M.FS9("title",ae.getName(K)),M.Y8G("ngClass",M.eq3(6,F,K.id===ae.currentDSOId)),M.R7$(2),M.Y8G("object",K)("viewMode",ae.viewMode)("linkType",ae.linkTypes.None)("context",ae.getContext(K.id))}}function x(V,X){if(1&V&&(M.qex(0),M.DNE(1,$,3,6,"button",8),M.nI1(2,"async"),M.DNE(3,j,3,8,"button",9),M.nI1(4,"async"),M.bVm()),2&V){const K=M.XpG();M.R7$(),M.Y8G("ngIf",0===M.bMT(2,2,K.listEntries$).length),M.R7$(2),M.Y8G("ngForOf",M.bMT(4,4,K.listEntries$))}}function G(V,X){1&V&&(M.j41(0,"button",13),M.nrm(1,"ds-loading",14),M.k0s()),2&V&&(M.R7$(),M.Y8G("showMessage",!1))}let Y=(()=>{class V extends S.x{constructor(K,ae,Q,J,z){super(K,Q,J,z),this.searchService=K,this.collectionDataService=ae,this.notifcationsService=Q,this.translate=J,this.dsoNameService=z}getCurrentDSOQuery(){return this.currentDSOId}search(K,ae,Q=!0){let J=null;const z={currentPage:ae,elementsPerPage:this.defaultPagination.pageSize};return J=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(K,this.entityType,z):this.collectionDataService.getAuthorizedCollection(K,z,Q,!1,(0,v.s)("parentCommunity")),J.pipe((0,_.qD)(),(0,f.T)(q=>Object.assign(new E.j(null,null,null,null),q,{payload:(0,O.a4)(q.payload)?(0,y.g)(q.payload.pageInfo,q.payload.page.map(ee=>Object.assign(new u.A,{indexableObject:ee}))):null})))}static#e=this.\u0275fac=function(ae){return new(ae||V)(M.rXU(b.S),M.rXU(d.CollectionDataService),M.rXU(R.I),M.rXU(c.c$),M.rXU(g.f))};static#t=this.\u0275cmp=M.VBU({type:V,selectors:[["ds-authorized-collection-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[M.Vt3,M.aNF],decls:10,vars:23,consts:[["listEntryElement",""],[1,"form-group","w-100","pr-2","pl-2"],["type","search","ngbAutofocus","",1,"form-control",3,"click","keyup.enter","placeholder","formControl"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group",3,"id"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry",4,"ngIf"],["class","list-group-item list-group-item-action border-0 disabled",4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry","dsHoverClass","ds-hover",3,"ngClass","title","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"click","ngClass","title"],[3,"object","viewMode","linkType","context"],[1,"list-group-item","list-group-item-action","border-0","list-entry"],[3,"showMessage"]],template:function(ae,Q){1&ae&&(M.j41(0,"div",1)(1,"input",2),M.nI1(2,"translate"),M.nI1(3,"translate"),M.bIt("click",function(z){return z.stopPropagation()})("keyup.enter",function(){return Q.selectSingleResult()}),M.k0s()(),M.nrm(4,"div",3),M.j41(5,"div",4)(6,"div",5),M.bIt("scrolled",function(){return Q.onScrollDown()}),M.DNE(7,x,5,6,"ng-container",6),M.nI1(8,"async"),M.DNE(9,G,2,1,"button",7),M.k0s()()),2&ae&&(M.R7$(),M.FS9("placeholder",M.i5U(2,11,"dso-selector.placeholder",M.eq3(19,L,Q.typesString))),M.Y8G("formControl",Q.input),M.BMQ("aria-label",M.i5U(3,14,"dso-selector.placeholder",M.eq3(21,L,Q.typesString))),M.R7$(4),M.Mz_("id","scrollable-menu-dso-selector-",Q.randomSeed,""),M.R7$(),M.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-menu-dso-selector-"+Q.randomSeed)("fromRoot",!0),M.R7$(),M.Y8G("ngIf",M.bMT(8,17,Q.listEntries$)),M.R7$(2),M.Y8G("ngIf",Q.loading))},dependencies:[n.YN,n.me,n.BC,n.X1,n.l_,e.eO,e.DP,i.bT,i.pM,I.k,i.YU,w.v,T.v,i.Jj,c.h,c.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]})}return V})()},75949:(B,D,t)=>{"use strict";t.d(D,{x:()=>Ce});var i=t(54460),n=t(53107),c=t(10936),e=t(69685),f=t(59055),g=t(71217),d=t(63016),y=t(76627),E=t(88627),_=t(30593),b=t(82040),O=t(22867),I=t(47947),T=t(83116),u=(t(89632),t(5338)),w=t(71526),v=t(12007),S=t(67811),M=t(88842),L=t(72683),F=t(64556),$=t(21548),j=t(80788),x=t(79224),G=t(79599),Y=t(47637),V=t(81923),X=t(36721),K=t(63496);const ae=["listEntryElement"],Q=Z=>({type:Z}),J=Z=>({"bg-primary":Z});function z(Z,le){if(1&Z&&(n.j41(0,"button",10),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&Z){const De=n.XpG(2);n.R7$(),n.SpI(" ",n.i5U(2,1,"dso-selector.no-results",n.eq3(4,Q,De.typesString))," ")}}function q(Z,le){if(1&Z){const De=n.RV6();n.j41(0,"button",11,0),n.bIt("click",function(){const re=n.eBV(De).$implicit,ve=n.XpG(2);return n.Njj(ve.onClick(re))}),n.nrm(2,"ds-listable-object-component-loader",12),n.k0s()}if(2&Z){const De=le.$implicit,pe=n.XpG(2);n.FS9("title",pe.getName(De)),n.Y8G("ngClass",n.eq3(6,J,De.id===pe.currentDSOId)),n.R7$(2),n.Y8G("object",De)("viewMode",pe.viewMode)("linkType",pe.linkTypes.None)("context",pe.getContext(De.id))}}function ee(Z,le){if(1&Z&&(n.qex(0),n.DNE(1,z,3,6,"button",8),n.nI1(2,"async"),n.DNE(3,q,3,8,"button",9),n.nI1(4,"async"),n.bVm()),2&Z){const De=n.XpG();n.R7$(),n.Y8G("ngIf",0===n.bMT(2,2,De.listEntries$).length),n.R7$(2),n.Y8G("ngForOf",n.bMT(4,4,De.listEntries$))}}function de(Z,le){1&Z&&(n.j41(0,"button",13),n.nrm(1,"ds-loading",14),n.k0s()),2&Z&&(n.R7$(),n.Y8G("showMessage",!1))}let Ce=(()=>{class Z{constructor(De,pe,re,ve){this.searchService=De,this.notifcationsService=pe,this.translate=re,this.dsoNameService=ve,this.viewMode=M.n.ListElement,this.searchBoxId=null,this.onSelect=new n.bkB,this.input=new c.hs,this.defaultPagination={id:"dso-selector",currentPage:1,pageSize:10},this.listEntries$=new g.t(null),this.currentPage$=new g.t(1),this.hasNextPage=!1,this.loading=!1,this.debounceTime=500,this.linkTypes=G.n,this.subs=[],this.randomSeed=Math.random().toString(36).substring(2,6)}ngOnInit(){let De;this.typesString=this.types.map(pe=>this.translate.instant(`dso-selector.placeholder.type.${pe.toString().toLowerCase()}`)).join(", "),De=(0,L.hj)(this.currentDSOId)?this.search(this.getCurrentDSOQuery(),1).pipe((0,v.ak)()):(0,d.of)((0,u.g)(void 0,[])),this.subs.push((0,y.z)(De,this.input.valueChanges.pipe((0,E.B)(this.debounceTime),(0,_.Z)(""),(0,b.M)(()=>this.currentPage$.next(1))),this.currentPage$).pipe((0,O.n)(([pe,re,ve])=>(this.loading=!0,1===ve&&this.listEntries$.next(null),this.search(re,ve).pipe((0,I.T)(fe=>(fe.hasSucceeded?fe.payload.page=[...(0,L.Im)(re)&&1===ve?pe.page:[],...fe.payload.page.filter(Ie=>(0,L.hj)(re)||Ie.indexableObject.id!==this.currentDSOId)]:fe.hasFailed&&this.notifcationsService.error(this.translate.instant("dso-selector.error.title",{type:this.typesString}),fe.errorMessage),fe)))))).subscribe(pe=>{this.updateList(pe)}))}updateList(De){this.loading=!1;const pe=this.listEntries$.getValue();De.hasSucceeded?((0,L.Tn)(pe)?this.listEntries$.next(De.payload.page):this.listEntries$.next([...pe,...De.payload.page]),this.hasNextPage=De.payload.totalElements>this.listEntries$.getValue().length):(this.listEntries$.next([...(0,L.Tn)(pe)?[]:this.listEntries$.getValue(),new V.t(j._.Error,"dso-selector.results-could-not-be-retrieved",X.t.value)]),this.hasNextPage=!1)}getCurrentDSOQuery(){return`search.resourceid:${this.currentDSOId}`}search(De,pe,re=!0){const ve=De?null:this.sort;return this.searchService.search(new K.C({query:De,dsoTypes:this.types,pagination:Object.assign({},this.defaultPagination,{currentPage:pe}),sort:ve}),null,re).pipe((0,v.qD)())}onScrollDown(){this.hasNextPage&&!this.loading&&this.currentPage$.next(this.currentPage$.value+1)}selectSingleResult(){this.listElements.length>0&&this.listElements.first.nativeElement.click()}getContext(De){return De===this.currentDSOId?w.o.SideBarSearchModalCurrent:w.o.SideBarSearchModal}ngOnDestroy(){this.subs.filter(De=>(0,L.a4)(De)).forEach(De=>De.unsubscribe())}onClick(De){(0,L.a4)(De.indexableObject)?this.onSelect.emit(De.indexableObject):(this.listEntries$.value.pop(),this.hasNextPage=!0,this.search(this.input.value?this.input.value:"",this.currentPage$.value,!1).pipe((0,v.qD)()).subscribe(pe=>{this.updateList(pe)}))}getName(De){return(0,L.a4)(De.indexableObject)?this.dsoNameService.getName(De.indexableObject):null}static#e=this.\u0275fac=function(pe){return new(pe||Z)(n.rXU(S.S),n.rXU(x.I),n.rXU(e.c$),n.rXU(T.f))};static#t=this.\u0275cmp=n.VBU({type:Z,selectors:[["ds-dso-selector"]],viewQuery:function(pe,re){if(1&pe&&n.GBs(ae,5),2&pe){let ve;n.mGM(ve=n.lsd())&&(re.listElements=ve)}},inputs:{currentDSOId:"currentDSOId",types:"types",sort:"sort",searchBoxId:"searchBoxId"},outputs:{onSelect:"onSelect"},standalone:!0,features:[n.aNF],decls:10,vars:23,consts:[["listEntryElement",""],[1,"form-group","w-100","pr-2","pl-2"],["type","search","ngbAutofocus","",1,"form-control",3,"click","keyup.enter","placeholder","formControl"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group",3,"id"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry",4,"ngIf"],["class","list-group-item list-group-item-action border-0 disabled",4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry","dsHoverClass","ds-hover",3,"ngClass","title","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"click","ngClass","title"],[3,"object","viewMode","linkType","context"],[1,"list-group-item","list-group-item-action","border-0","list-entry"],[3,"showMessage"]],template:function(pe,re){1&pe&&(n.j41(0,"div",1)(1,"input",2),n.nI1(2,"translate"),n.nI1(3,"translate"),n.bIt("click",function(fe){return fe.stopPropagation()})("keyup.enter",function(){return re.selectSingleResult()}),n.k0s()(),n.nrm(4,"div",3),n.j41(5,"div",4)(6,"div",5),n.bIt("scrolled",function(){return re.onScrollDown()}),n.DNE(7,ee,5,6,"ng-container",6),n.nI1(8,"async"),n.DNE(9,de,2,1,"button",7),n.k0s()()),2&pe&&(n.R7$(),n.FS9("placeholder",n.i5U(2,11,"dso-selector.placeholder",n.eq3(19,Q,re.typesString))),n.Y8G("formControl",re.input),n.BMQ("aria-label",n.i5U(3,14,"dso-selector.placeholder",n.eq3(21,Q,re.typesString))),n.R7$(4),n.Mz_("id","scrollable-menu-dso-selector-",re.randomSeed,""),n.R7$(),n.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-menu-dso-selector-"+re.randomSeed)("fromRoot",!0),n.R7$(),n.Y8G("ngIf",n.bMT(8,17,re.listEntries$)),n.R7$(2),n.Y8G("ngIf",re.loading))},dependencies:[c.YN,c.me,c.BC,c.X1,c.l_,f.eO,f.DP,i.bT,i.pM,F.k,i.YU,Y.v,$.v,i.Jj,e.h,e.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]})}return Z})()},75664:(B,D,t)=>{"use strict";t.r(D),t.d(D,{CreateCollectionParentSelectorComponent:()=>I});var i=t(54460),n=t(69685),c=t(86722),e=t(68605),f=t(89632),g=t(69509),d=t(75949),y=t(2771),E=t(53107),_=t(2155),b=t(95968);function O(T,R){if(1&T&&(E.j41(0,"span",6),E.EFF(1),E.nI1(2,"translate"),E.k0s()),2&T){const u=E.XpG();E.R7$(),E.JRh(E.bMT(2,1,u.header))}}let I=(()=>{class T extends y.${constructor(u,w,v){super(u,w),this.activeModal=u,this.route=w,this.router=v,this.objectType=g.W.COLLECTION,this.selectorTypes=[g.W.COMMUNITY],this.action=y.u.CREATE,this.header="dso-selector.create.collection.sub-level",this.defaultSort=new f.z(c.c.comcolSelectionSort.sortField,c.c.comcolSelectionSort.sortDirection)}navigate(u){const w={queryParams:{[e.Cb]:u.uuid}};this.router.navigate([(0,e.gH)()],w)}static#e=this.\u0275fac=function(w){return new(w||T)(E.rXU(_.Lw),E.rXU(b.nX),E.rXU(b.Ix))};static#t=this.\u0275cmp=E.VBU({type:T,selectors:[["ds-base-create-collection-parent-selector"]],standalone:!0,features:[E.Vt3,E.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(w,v){1&w&&(E.j41(0,"div")(1,"div",0),E.EFF(2),E.nI1(3,"translate"),E.j41(4,"button",1),E.bIt("click",function(){return v.close()}),E.j41(5,"span",2),E.EFF(6,"\xd7"),E.k0s()()(),E.j41(7,"div",3),E.DNE(8,O,3,3,"span",4),E.j41(9,"ds-dso-selector",5),E.bIt("onSelect",function(M){return v.selectObject(M)}),E.k0s()()()),2&w&&(E.R7$(2),E.SpI("",E.bMT(3,5,"dso-selector."+v.action+"."+v.objectType.toString().toLowerCase()+".head")," "),E.R7$(6),E.Y8G("ngIf",v.header),E.R7$(),E.Y8G("currentDSOId",null==v.dsoRD?null:v.dsoRD.payload.uuid)("types",v.selectorTypes)("sort",v.defaultSort))},dependencies:[i.bT,d.x,n.h,n.D9],encapsulation:2})}return T})()},71820:(B,D,t)=>{"use strict";t.r(D),t.d(D,{CreateCommunityParentSelectorComponent:()=>O});var i=t(69685),n=t(86722),c=t(67873),e=t(89632),f=t(69509),g=t(72683),d=t(75949),y=t(2771),E=t(53107),_=t(2155),b=t(95968);let O=(()=>{class I extends y.${constructor(R,u,w){super(R,u),this.activeModal=R,this.route=u,this.router=w,this.objectType=f.W.COMMUNITY,this.selectorTypes=[f.W.COMMUNITY],this.action=y.u.CREATE,this.defaultSort=new e.z(n.c.comcolSelectionSort.sortField,n.c.comcolSelectionSort.sortDirection)}navigate(R){let u={};(0,g.a4)(R)&&(u={queryParams:{[c.f2]:R.uuid}}),this.router.navigate([(0,c.lG)()],u)}static#e=this.\u0275fac=function(u){return new(u||I)(E.rXU(_.Lw),E.rXU(b.nX),E.rXU(b.Ix))};static#t=this.\u0275cmp=E.VBU({type:I,selectors:[["ds-base-create-community-parent-selector"]],standalone:!0,features:[E.Vt3,E.aNF],decls:21,vars:15,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"btn","btn-outline-primary","btn-lg","btn-block",3,"click"],[1,"h3","position-relative","py-1","my-3","font-weight-normal"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types","sort"]],template:function(u,w){1&u&&(E.j41(0,"div")(1,"div",0),E.EFF(2),E.nI1(3,"translate"),E.j41(4,"button",1),E.bIt("click",function(){return w.close()}),E.j41(5,"span",2),E.EFF(6,"\xd7"),E.k0s()()(),E.j41(7,"div",3)(8,"button",4),E.bIt("click",function(){return w.selectObject(void 0)}),E.EFF(9),E.nI1(10,"translate"),E.k0s(),E.j41(11,"div",5),E.nrm(12,"hr"),E.j41(13,"div",6)(14,"span",7),E.EFF(15),E.nI1(16,"translate"),E.k0s()()(),E.j41(17,"span",8),E.EFF(18),E.nI1(19,"translate"),E.k0s(),E.j41(20,"ds-dso-selector",9),E.bIt("onSelect",function(S){return w.selectObject(S)}),E.k0s()()()),2&u&&(E.R7$(2),E.SpI("",E.bMT(3,7,"dso-selector."+w.action+"."+w.objectType.toString().toLowerCase()+".head")," "),E.R7$(7),E.JRh(E.bMT(10,9,"dso-selector.create.community.top-level")),E.R7$(6),E.JRh(E.bMT(16,11,"dso-selector.create.community.or-divider")),E.R7$(3),E.JRh(E.bMT(19,13,"dso-selector.create.community.sub-level")),E.R7$(2),E.Y8G("currentDSOId",null==w.dsoRD?null:w.dsoRD.payload.uuid)("types",w.selectorTypes)("sort",w.defaultSort))},dependencies:[d.x,i.h,i.D9],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]})}return I})()},11404:(B,D,t)=>{"use strict";t.r(D),t.d(D,{CreateItemParentSelectorComponent:()=>O});var i=t(54460),n=t(69685),c=t(86722),e=t(89632),f=t(69509),g=t(46002),d=t(2771),y=t(53107),E=t(2155),_=t(95968);function b(I,T){if(1&I&&(y.j41(0,"span",6),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&I){const R=y.XpG();y.R7$(),y.JRh(y.bMT(2,1,R.header))}}let O=(()=>{class I extends d.${constructor(R,u,w){super(R,u),this.activeModal=R,this.route=u,this.router=w,this.objectType=f.W.ITEM,this.selectorTypes=[f.W.COLLECTION],this.action=d.u.CREATE,this.header="dso-selector.create.item.sub-level",this.defaultSort=new e.z(c.c.comcolSelectionSort.sortField,c.c.comcolSelectionSort.sortDirection)}navigate(R){const u={queryParams:{collection:R.uuid}};this.entityType&&(u.queryParams.entityType=this.entityType),this.router.navigate(["/submit"],u)}static#e=this.\u0275fac=function(u){return new(u||I)(y.rXU(E.Lw),y.rXU(_.nX),y.rXU(_.Ix))};static#t=this.\u0275cmp=y.VBU({type:I,selectors:[["ds-base-create-item-parent-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[y.Vt3,y.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","entityType","types"],[1,"h5","px-2"]],template:function(u,w){1&u&&(y.j41(0,"div")(1,"div",0),y.EFF(2),y.nI1(3,"translate"),y.j41(4,"button",1),y.bIt("click",function(){return w.close()}),y.j41(5,"span",2),y.EFF(6,"\xd7"),y.k0s()()(),y.j41(7,"div",3),y.DNE(8,b,3,3,"span",4),y.j41(9,"ds-authorized-collection-selector",5),y.bIt("onSelect",function(S){return w.selectObject(S)}),y.k0s()()()),2&u&&(y.R7$(2),y.SpI("",y.bMT(3,5,"dso-selector."+w.action+"."+w.objectType.toString().toLowerCase()+".head")," "),y.R7$(6),y.Y8G("ngIf",w.header),y.R7$(),y.Y8G("currentDSOId",null==w.dsoRD?null:w.dsoRD.payload.uuid)("entityType",w.entityType)("types",w.selectorTypes))},dependencies:[i.bT,g.e,n.h,n.D9],encapsulation:2})}return I})()},48364:(B,D,t)=>{"use strict";t.d(D,{L:()=>g});var i=t(21124),c=(t(11404),t(53107));const e=["*"];function f(d,y){}let g=(()=>{class d extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["entityType"]}getComponentName(){return"CreateItemParentSelectorComponent"}importThemedComponent(E){return t(25074)(`./${E}/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,11404))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=c.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-create-item-parent-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},2771:(B,D,t)=>{"use strict";t.d(D,{$:()=>d,u:()=>g});var i=t(53107),c=(t(21314),t(72683)),e=t(2155),f=t(95968),g=function(y){return y.CREATE="create",y.EDIT="edit",y.EXPORT_METADATA="export-metadata",y.IMPORT_BATCH="import-batch",y.SET_SCOPE="set-scope",y.EXPORT_BATCH="export-batch",y}(g||{});let d=(()=>{class y{constructor(_,b){this.activeModal=_,this.route=b,this.emitOnly=!1,this.select=new i.bkB}ngOnInit(){const _=this.findRouteData(b=>(0,c.a4)(b.data.dso),this.route.root.snapshot);(0,c.a4)(_)&&(this.dsoRD=_.data.dso)}findRouteData(_,...b){const O=b.find(_);if((0,c.a4)(O))return O;{const I=b.map(T=>T.children).reduce((T,R)=>[...T,...R]);return(0,c.hj)(I)?this.findRouteData(_,...I):void 0}}selectObject(_){this.close(),this.emitOnly?this.select.emit(_):this.navigate(_)}close(){this.activeModal.close()}static#e=this.\u0275fac=function(b){return new(b||y)(i.rXU(e.Lw),i.rXU(f.nX))};static#t=this.\u0275cmp=i.VBU({type:y,selectors:[["ds-dso-selector-modal"]],inputs:{dsoRD:"dsoRD",emitOnly:"emitOnly",header:"header"},outputs:{select:"select"},decls:0,vars:0,template:function(b,O){},encapsulation:2})}return y})()},14004:(B,D,t)=>{"use strict";t.r(D),t.d(D,{EditCollectionSelectorComponent:()=>I});var i=t(54460),n=t(69685),c=t(86722),e=t(68605),f=t(89632),g=t(69509),d=t(75949),y=t(2771),E=t(53107),_=t(2155),b=t(95968);function O(T,R){if(1&T&&(E.j41(0,"span",6),E.EFF(1),E.nI1(2,"translate"),E.k0s()),2&T){const u=E.XpG();E.R7$(),E.JRh(E.bMT(2,1,u.header))}}let I=(()=>{class T extends y.${constructor(u,w,v){super(u,w),this.activeModal=u,this.route=w,this.router=v,this.objectType=g.W.COLLECTION,this.selectorTypes=[g.W.COLLECTION],this.action=y.u.EDIT,this.defaultSort=new f.z(c.c.comcolSelectionSort.sortField,c.c.comcolSelectionSort.sortDirection)}navigate(u){this.router.navigate([(0,e._E)(u.uuid)])}static#e=this.\u0275fac=function(w){return new(w||T)(E.rXU(_.Lw),E.rXU(b.nX),E.rXU(b.Ix))};static#t=this.\u0275cmp=E.VBU({type:T,selectors:[["ds-base-edit-collection-selector"]],standalone:!0,features:[E.Vt3,E.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(w,v){1&w&&(E.j41(0,"div")(1,"div",0),E.EFF(2),E.nI1(3,"translate"),E.j41(4,"button",1),E.bIt("click",function(){return v.close()}),E.j41(5,"span",2),E.EFF(6,"\xd7"),E.k0s()()(),E.j41(7,"div",3),E.DNE(8,O,3,3,"span",4),E.j41(9,"ds-dso-selector",5),E.bIt("onSelect",function(M){return v.selectObject(M)}),E.k0s()()()),2&w&&(E.R7$(2),E.SpI("",E.bMT(3,5,"dso-selector."+v.action+"."+v.objectType.toString().toLowerCase()+".head")," "),E.R7$(6),E.Y8G("ngIf",v.header),E.R7$(),E.Y8G("currentDSOId",null==v.dsoRD?null:v.dsoRD.payload.uuid)("types",v.selectorTypes)("sort",v.defaultSort))},dependencies:[i.bT,d.x,n.h,n.D9],encapsulation:2})}return T})()},13272:(B,D,t)=>{"use strict";t.r(D),t.d(D,{EditCommunitySelectorComponent:()=>I});var i=t(54460),n=t(69685),c=t(86722),e=t(67873),f=t(89632),g=t(69509),d=t(75949),y=t(2771),E=t(53107),_=t(2155),b=t(95968);function O(T,R){if(1&T&&(E.j41(0,"span",6),E.EFF(1),E.nI1(2,"translate"),E.k0s()),2&T){const u=E.XpG();E.R7$(),E.JRh(E.bMT(2,1,u.header))}}let I=(()=>{class T extends y.${constructor(u,w,v){super(u,w),this.activeModal=u,this.route=w,this.router=v,this.objectType=g.W.COMMUNITY,this.selectorTypes=[g.W.COMMUNITY],this.action=y.u.EDIT,this.defaultSort=new f.z(c.c.comcolSelectionSort.sortField,c.c.comcolSelectionSort.sortDirection)}navigate(u){this.router.navigate([(0,e.pk)(u.uuid)])}static#e=this.\u0275fac=function(w){return new(w||T)(E.rXU(_.Lw),E.rXU(b.nX),E.rXU(b.Ix))};static#t=this.\u0275cmp=E.VBU({type:T,selectors:[["ds-base-edit-community-selector"]],standalone:!0,features:[E.Vt3,E.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(w,v){1&w&&(E.j41(0,"div")(1,"div",0),E.EFF(2),E.nI1(3,"translate"),E.j41(4,"button",1),E.bIt("click",function(){return v.close()}),E.j41(5,"span",2),E.EFF(6,"\xd7"),E.k0s()()(),E.j41(7,"div",3),E.DNE(8,O,3,3,"span",4),E.j41(9,"ds-dso-selector",5),E.bIt("onSelect",function(M){return v.selectObject(M)}),E.k0s()()()),2&w&&(E.R7$(2),E.SpI("",E.bMT(3,5,"dso-selector."+v.action+"."+v.objectType.toString().toLowerCase()+".head")," "),E.R7$(6),E.Y8G("ngIf",v.header),E.R7$(),E.Y8G("currentDSOId",null==v.dsoRD?null:v.dsoRD.payload.uuid)("types",v.selectorTypes)("sort",v.defaultSort))},dependencies:[i.bT,d.x,n.h,n.D9],encapsulation:2})}return T})()},7478:(B,D,t)=>{"use strict";t.r(D),t.d(D,{EditItemSelectorComponent:()=>b});var i=t(54460),n=t(69685),c=t(69509),e=t(15497),f=t(75949),g=t(2771),d=t(53107),y=t(2155),E=t(95968);function _(O,I){if(1&O&&(d.j41(0,"span",6),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&O){const T=d.XpG();d.R7$(),d.JRh(d.bMT(2,1,T.header))}}let b=(()=>{class O extends g.${constructor(T,R,u){super(T,R),this.activeModal=T,this.route=R,this.router=u,this.objectType=c.W.ITEM,this.selectorTypes=[c.W.ITEM],this.action=g.u.EDIT}navigate(T){this.router.navigate([(0,e.$r)(T)])}static#e=this.\u0275fac=function(R){return new(R||O)(d.rXU(y.Lw),d.rXU(E.nX),d.rXU(E.Ix))};static#t=this.\u0275cmp=d.VBU({type:O,selectors:[["ds-base-edit-item-selector"]],standalone:!0,features:[d.Vt3,d.aNF],decls:10,vars:6,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types"],[1,"h5","px-2"]],template:function(R,u){1&R&&(d.j41(0,"div")(1,"div",0),d.EFF(2),d.nI1(3,"translate"),d.j41(4,"button",1),d.bIt("click",function(){return u.close()}),d.j41(5,"span",2),d.EFF(6,"\xd7"),d.k0s()()(),d.j41(7,"div",3),d.DNE(8,_,3,3,"span",4),d.j41(9,"ds-dso-selector",5),d.bIt("onSelect",function(v){return u.selectObject(v)}),d.k0s()()()),2&R&&(d.R7$(2),d.SpI("",d.bMT(3,4,"dso-selector."+u.action+"."+u.objectType.toString().toLowerCase()+".head")," "),d.R7$(6),d.Y8G("ngIf",u.header),d.R7$(),d.Y8G("currentDSOId",null==u.dsoRD?null:u.dsoRD.payload.uuid)("types",u.selectorTypes))},dependencies:[i.bT,f.x,n.h,n.D9],encapsulation:2})}return O})()},72683:(B,D,t)=>{"use strict";t.d(D,{Az:()=>y,EA:()=>f,Im:()=>E,Pe:()=>c,Tn:()=>g,VT:()=>b,a4:()=>d,b0:()=>e,hj:()=>_,kZ:()=>n});var i=t(41483);function n(T){return null===T}function c(T){return null!==T}function e(T){return void 0===T}function f(T){return void 0!==T}function g(T){return e(T)||n(T)}function d(T){return f(T)&&c(T)}const y=()=>T=>T.pipe((0,i.p)(R=>d(R)));function E(T){if(g(T))return!0;if("number"==typeof T.size)return!T.size;const R=typeof T;if("object"===R){const u=T.size;if("number"==typeof u)return!u}if("number"==typeof T.length&&"function"!==R)return!T.length;if("object"===R){if(0===Object.keys(T).length)return!0;const u=T.length;if("number"==typeof u)return!u}return!1}function _(T){return!E(T)}const b=()=>T=>T.pipe((0,i.p)(R=>_(R)))},76938:(B,D,t)=>{"use strict";t.d(D,{Y:()=>u});var i=t(54460),n=t(53107),c=t(69685),e=t(59055),f=t(71217),g=t(22867),d=t(81215),y=t(30593),E=t(24119),_=t(12007),b=t(72683),O=t(21548);function I(w,v){1&w&&(n.j41(0,"li")(1,"button",3),n.EFF(2),n.nI1(3,"translate"),n.k0s()()),2&w&&(n.R7$(2),n.SpI(" ",n.bMT(3,1,"submission.sections.general.no-entity")," "))}function T(w,v){if(1&w){const S=n.RV6();n.j41(0,"li",4)(1,"button",5),n.bIt("click",function(){const L=n.eBV(S).$implicit,F=n.XpG();return n.Njj(F.onSelect(L))}),n.j41(2,"span",6),n.EFF(3),n.nI1(4,"translate"),n.k0s()()()}if(2&w){const S=v.$implicit;n.R7$(),n.FS9("title",S.label),n.R7$(2),n.JRh(n.bMT(4,2,S.label.toLowerCase()+".listelement.badge"))}}function R(w,v){1&w&&(n.j41(0,"li")(1,"button",3),n.nrm(2,"ds-loading",7),n.nI1(3,"translate"),n.k0s()()),2&w&&(n.R7$(2),n.FS9("message",n.bMT(3,1,"loading.default")))}let u=(()=>{class w{constructor(S,M,L){this.changeDetectorRef=S,this.entityTypeService=M,this.el=L,this.scrollableBottom=!1,this.scrollableTop=!1,this.searchListEntity=[],this.selectionChange=new n.bkB,this.isLoadingList=new f.t(!1),this.subs=[]}onMousewheel(S){S.wheelDelta>0&&this.scrollableTop&&S.preventDefault(),S.wheelDelta<0&&this.scrollableBottom&&S.preventDefault()}ngOnInit(){this.resetPagination(),this.populateEntityList(this.currentPage)}onScroll(S){this.scrollableBottom=S.target.scrollTop+S.target.clientHeight===S.target.scrollHeight,this.scrollableTop=0===S.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateEntityList(++this.currentPage)}onSelect(S){this.selectionChange.emit(S)}populateEntityList(S){this.isLoadingList.next(!0);const M={elementsPerPage:10,currentPage:S};let L;L=this.isSubmission?this.entityTypeService.getAllAuthorizedRelationshipType(M):this.entityTypeService.getAllAuthorizedRelationshipTypeImport(M),this.searchListEntity$=L.pipe((0,_.o5)(),(0,g.n)(F=>(this.searchListEntity.length+M.elementsPerPage>=F.payload.totalElements&&(this.hasNextPage=!1),F.payload.page)),(0,d.T)((F,$)=>[...F,$],[]),(0,y.Z)([])),this.subs.push(this.searchListEntity$.subscribe(F=>{this.searchListEntity.push(...F)},void 0,()=>{this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}resetPagination(){this.currentPage=1,this.hasNextPage=!0,this.searchListEntity=[]}hideShowLoader(S){this.isLoadingList.next(S)}ngOnDestroy(){this.subs.filter(S=>(0,b.a4)(S)).forEach(S=>S.unsubscribe())}static#e=this.\u0275fac=function(M){return new(M||w)(n.rXU(n.gRc),n.rXU(E.f),n.rXU(n.aKT))};static#t=this.\u0275cmp=n.VBU({type:w,selectors:[["ds-entity-dropdown"]],hostBindings:function(M,L){1&M&&n.bIt("mousewheel",function($){return L.onMousewheel($)})},inputs:{isSubmission:"isSubmission"},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[n.aNF],decls:6,vars:12,consts:[["role","menu","infiniteScroll","",1,"scrollable-menu","list-unstyled","mb-0",3,"scroll","scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow"],[4,"ngIf"],["class","entity-item text-primary",4,"ngFor","ngForOf"],["role","menuitem",1,"dropdown-item","disabled"],[1,"entity-item","text-primary"],["role","menuitem",1,"dropdown-item",3,"click","title"],[1,"text-truncate","font-weight-bold"],[3,"message"]],template:function(M,L){1&M&&(n.j41(0,"ul",0),n.bIt("scroll",function($){return L.onScroll($)})("scrolled",function(){return L.onScrollDown()}),n.DNE(1,I,4,3,"li",1),n.nI1(2,"async"),n.DNE(3,T,5,4,"li",2)(4,R,4,3,"li",1),n.nI1(5,"async"),n.k0s()),2&M&&(n.Y8G("infiniteScrollDistance",5)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),n.R7$(),n.Y8G("ngIf",0===(null==L.searchListEntity?null:L.searchListEntity.length)&&!0!==n.bMT(2,8,L.isLoadingList)),n.R7$(2),n.Y8G("ngForOf",L.searchListEntity),n.R7$(),n.Y8G("ngIf",n.bMT(5,10,L.isLoadingList)))},dependencies:[e.eO,e.DP,i.bT,i.pM,O.v,i.Jj,c.h,c.D9],styles:[".dropdown-item[_ngcontent-%COMP%]{padding:.35rem 1rem}.dropdown-item[_ngcontent-%COMP%]:active{color:#fff!important}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}li[_ngcontent-%COMP%]:not(:last-of-type)   .dropdown-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#entityControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;left:0!important;box-shadow:var(--bs-btn-focus-box-shadow)}"]})}return w})()},5653:(B,D,t)=>{"use strict";t.d(D,{T:()=>Y});var i=t(54460),n=t(53107),c=t(69685),e=t(84984),f=t.n(e),g=t(71217),d=t(47947),y=t(18062),E=t(83116),_=t(36705),b=t(5469),O=t(99736),I=t(53169),T=t(95438),R=t(12007),u=t(2566),w=t(72683),v=t(51661),S=t(67899),M=t(10936);let L=(()=>{class V{constructor(K){this.formBuilder=K,this.labelPrefix="admin.access-control.epeople.",this.subs=[],this.search=new n.bkB,this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}reset(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}submit(K){const ae={scope:(0,w.Pe)(K)?K.scope:"metadata",query:(0,w.Pe)(K)?K.query:""};this.search.emit(ae)}static#e=this.\u0275fac=function(ae){return new(ae||V)(n.rXU(M.ze))};static#t=this.\u0275cmp=n.VBU({type:V,selectors:[["ds-eperson-search-box"]],outputs:{search:"search"},standalone:!0,features:[n.aNF],decls:21,vars:13,consts:[[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-control"],["value","metadata"],["value","email"],[1,"flex-grow-1","mr-3","ml-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(ae,Q){1&ae&&(n.j41(0,"form",0),n.bIt("ngSubmit",function(z){return Q.submit(Q.searchForm.value),z.stopImmediatePropagation()}),n.j41(1,"div")(2,"select",1)(3,"option",2),n.EFF(4),n.nI1(5,"translate"),n.k0s(),n.j41(6,"option",3),n.EFF(7),n.nI1(8,"translate"),n.k0s()()(),n.j41(9,"div",4)(10,"div",5),n.nrm(11,"input",6),n.j41(12,"span",7)(13,"button",8),n.nrm(14,"i",9),n.EFF(15),n.nI1(16,"translate"),n.k0s()()()(),n.j41(17,"div")(18,"button",10),n.bIt("click",function(){return Q.submit(null),Q.reset()}),n.EFF(19),n.nI1(20,"translate"),n.k0s()()()),2&ae&&(n.Y8G("formGroup",Q.searchForm),n.R7$(4),n.JRh(n.bMT(5,5,Q.labelPrefix+"search.scope.metadata")),n.R7$(3),n.JRh(n.bMT(8,7,Q.labelPrefix+"search.scope.email")),n.R7$(8),n.SpI(" ",n.bMT(16,9,Q.labelPrefix+"search.button")," "),n.R7$(4),n.SpI(" ",n.bMT(20,11,Q.labelPrefix+"button.see-all")," "))},dependencies:[M.YN,M.qT,M.xH,M.y7,M.me,M.wz,M.BC,M.cb,M.X1,M.j4,M.JD,c.h,c.D9],encapsulation:2})}return V})(),F=(()=>{class V{constructor(K){this.formBuilder=K,this.labelPrefix="admin.access-control.groups.",this.subs=[],this.search=new n.bkB,this.searchForm=this.formBuilder.group({query:""})}reset(){this.searchForm=this.formBuilder.group({query:""})}submit(K){const ae={scope:"",query:(0,w.Pe)(K)?K.query:""};this.search.emit(ae)}static#e=this.\u0275fac=function(ae){return new(ae||V)(n.rXU(M.ze))};static#t=this.\u0275cmp=n.VBU({type:V,selectors:[["ds-group-search-box"]],outputs:{search:"search"},standalone:!0,features:[n.aNF],decls:13,vars:7,consts:[[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(ae,Q){1&ae&&(n.j41(0,"form",0),n.bIt("ngSubmit",function(z){return Q.submit(Q.searchForm.value),z.stopImmediatePropagation()}),n.j41(1,"div",1)(2,"div",2),n.nrm(3,"input",3),n.j41(4,"span",4)(5,"button",5),n.nrm(6,"i",6),n.EFF(7),n.nI1(8,"translate"),n.k0s()()()(),n.j41(9,"div")(10,"button",7),n.bIt("click",function(){return Q.submit(null),Q.reset()}),n.EFF(11),n.nI1(12,"translate"),n.k0s()()()),2&ae&&(n.Y8G("formGroup",Q.searchForm),n.R7$(7),n.SpI(" ",n.bMT(8,3,Q.labelPrefix+"search.button")," "),n.R7$(4),n.SpI(" ",n.bMT(12,5,Q.labelPrefix+"button.see-all")," "))},dependencies:[M.YN,M.qT,M.me,M.BC,M.cb,M.X1,M.j4,M.JD,c.h,c.D9],encapsulation:2})}return V})();function $(V,X){if(1&V){const K=n.RV6();n.j41(0,"ds-eperson-search-box",3),n.bIt("search",function(Q){n.eBV(K);const J=n.XpG();return n.Njj(J.onSearch(Q))}),n.k0s()}}function j(V,X){if(1&V){const K=n.RV6();n.j41(0,"ds-group-search-box",3),n.bIt("search",function(Q){n.eBV(K);const J=n.XpG();return n.Njj(J.onSearch(Q))}),n.k0s()}}function x(V,X){if(1&V){const K=n.RV6();n.j41(0,"tr"),n.nI1(1,"async"),n.j41(2,"td"),n.EFF(3),n.k0s(),n.j41(4,"td"),n.EFF(5),n.k0s(),n.j41(6,"td",7)(7,"button",9),n.bIt("click",function(){const Q=n.eBV(K).$implicit,J=n.XpG(2);return n.Njj(J.emitSelect(Q))}),n.EFF(8),n.nI1(9,"translate"),n.k0s()()()}if(2&V){const K=X.$implicit,ae=n.XpG(2);n.AVh("table-primary",n.bMT(1,5,ae.isSelected(K))),n.R7$(3),n.JRh(K.id),n.R7$(2),n.JRh(ae.dsoNameService.getName(K)),n.R7$(3),n.SpI(" ",n.bMT(9,7,"resource-policies.form.eperson-group-list.select.btn")," ")}}function G(V,X){if(1&V&&(n.j41(0,"ds-pagination",4),n.nI1(1,"async"),n.j41(2,"div",5)(3,"table",6)(4,"thead")(5,"tr",7)(6,"th"),n.EFF(7),n.nI1(8,"translate"),n.k0s(),n.j41(9,"th"),n.EFF(10),n.nI1(11,"translate"),n.k0s(),n.j41(12,"th"),n.EFF(13),n.nI1(14,"translate"),n.k0s()()(),n.j41(15,"tbody"),n.DNE(16,x,10,9,"tr",8),n.nI1(17,"async"),n.k0s()()()()),2&V){let K,ae;const Q=n.XpG();n.Y8G("paginationOptions",Q.paginationOptions)("collectionSize",null==(K=n.bMT(1,8,Q.getList()))||null==K.payload?null:K.payload.totalElements)("retainScrollPosition",!0)("hideGear",!0),n.R7$(7),n.JRh(n.bMT(8,10,"resource-policies.form.eperson-group-list.table.headers.id")),n.R7$(3),n.JRh(n.bMT(11,12,"resource-policies.form.eperson-group-list.table.headers.name")),n.R7$(3),n.JRh(n.bMT(14,14,"resource-policies.form.eperson-group-list.table.headers.action")),n.R7$(3),n.Y8G("ngForOf",null==(ae=n.bMT(17,16,Q.getList()))||null==ae.payload?null:ae.payload.page)}}let Y=(()=>{class V{constructor(K,ae,Q,J){this.dsoNameService=K,this.parentInjector=ae,this.paginationService=Q,this.dataServiceMap=J,this.isListOfEPerson=!0,this.select=new n.bkB,this.currentSearchQuery="",this.currentSearchScope="metadata",this.paginationOptions=new S.W,this.list$=new g.t({}),this.entrySelectedId=new g.t(""),this.subs=[]}ngOnInit(){(0,I.M)(this.dataServiceMap,(this.isListOfEPerson?b.N:O.U).value,this.parentInjector).subscribe(Q=>{this.dataService=Q,this.paginationOptions.id=f()("egl"),this.paginationOptions.pageSize=5,this.initSelected&&this.entrySelectedId.next(this.initSelected),this.updateList(this.currentSearchScope,this.currentSearchQuery)})}emitSelect(K){this.select.emit(K),this.entrySelectedId.next(K.id)}getList(){return this.list$.asObservable()}isSelected(K){return this.entrySelectedId.asObservable().pipe((0,d.T)(ae=>(0,w.hj)(ae)&&ae===K.id))}onSearch(K){this.currentSearchQuery=K.query,this.currentSearchScope=K.scope,this.paginationService.resetPage(this.paginationOptions.id),this.updateList(this.currentSearchScope,this.currentSearchQuery)}updateList(K,ae){(0,w.a4)(this.pageConfigSub)&&this.pageConfigSub.unsubscribe(),this.pageConfigSub=this.paginationService.getCurrentPagination(this.paginationOptions.id,this.paginationOptions).subscribe(Q=>{const J=Object.assign({},new _._,{elementsPerPage:Q.pageSize,currentPage:Q.currentPage}),z=this.isListOfEPerson?this.dataService.searchByScope(K,ae,J):this.dataService.searchGroups(ae,J);this.subs.push(z.pipe((0,R.qD)()).subscribe(q=>{(0,w.a4)(this.list$)&&this.list$.next(q)}))})}ngOnDestroy(){this.list$=null,this.subs.filter(K=>(0,w.a4)(K)).forEach(K=>K.unsubscribe()),this.paginationService.clearPagination(this.paginationOptions.id)}static#e=this.\u0275fac=function(ae){return new(ae||V)(n.rXU(E.f),n.rXU(n.zZn),n.rXU(T.m),n.rXU(y.l9))};static#t=this.\u0275cmp=n.VBU({type:V,selectors:[["ds-eperson-group-list"]],inputs:{isListOfEPerson:"isListOfEPerson",initSelected:"initSelected"},outputs:{select:"select"},standalone:!0,features:[n.aNF],decls:5,vars:6,consts:[[1,"mt-3"],[3,"search",4,"ngIf"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear",4,"ngIf"],[3,"search"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear"],[1,"table-responsive"],["id","groups",1,"table","table-sm","table-striped","table-hover","table-bordered"],[1,"text-center"],[3,"table-primary",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function(ae,Q){if(1&ae&&(n.j41(0,"div",0),n.DNE(1,$,1,0,"ds-eperson-search-box",1)(2,j,1,0,"ds-group-search-box",1)(3,G,18,18,"ds-pagination",2),n.nI1(4,"async"),n.k0s()),2&ae){let J;n.Y8G("@fadeInOut",void 0),n.R7$(),n.Y8G("ngIf",Q.isListOfEPerson),n.R7$(),n.Y8G("ngIf",!Q.isListOfEPerson),n.R7$(),n.Y8G("ngIf",(null==(J=n.bMT(4,4,Q.getList()))||null==J.payload?null:J.payload.totalElements)>0)}},dependencies:[i.bT,L,F,v.e,i.pM,i.Jj,c.h,c.D9],data:{animation:[u.Ws]}})}return V})()},96606:(B,D,t)=>{"use strict";t.d(D,{A:()=>f});var i=t(96858),n=t(16700),c=t(53107),e=t(69685);let f=(()=>{class g{constructor(y){this.translate=y,this.message="Error...",this.AlertTypeEnum=n.v}ngOnInit(){void 0===this.message&&(this.subscription=this.translate.get("error.default").subscribe(y=>{this.message=y}))}ngOnDestroy(){void 0!==this.subscription&&this.subscription.unsubscribe()}static#e=this.\u0275fac=function(E){return new(E||g)(c.rXU(e.c$))};static#t=this.\u0275cmp=c.VBU({type:g,selectors:[["ds-error"]],inputs:{message:"message"},standalone:!0,features:[c.aNF],decls:2,vars:3,consts:[[3,"type","dismissible"],[3,"innerHTML"]],template:function(E,_){1&E&&(c.j41(0,"ds-alert",0),c.nrm(1,"span",1),c.k0s()),2&E&&(c.Y8G("type",_.AlertTypeEnum.Error)("dismissible",!1),c.R7$(),c.Y8G("innerHTML",_.message,c.npT))},dependencies:[i.C]})}return g})()},96568:(B,D,t)=>{"use strict";t.r(D),t.d(D,{FileDownloadLinkComponent:()=>v});var i=t(54460),n=t(95968),c=t(69685),e=t(76627),f=t(63016),g=t(47947),d=t(31829),y=t(77304),E=t(36556),O=(t(56738),t(47376),t(72683)),I=t(53107);const T=["*"];function R(S,M){1&S&&(I.j41(0,"span",4),I.nI1(1,"translate"),I.nrm(2,"i",5),I.k0s()),2&S&&I.BMQ("aria-label",I.bMT(1,1,"file-download-link.restricted"))}function u(S,M){1&S&&I.eu8(0)}function w(S,M){1&S&&I.SdG(0)}let v=(()=>{class S{constructor(L){this.authorizationService=L,this.cssClasses="",this.isBlank=!1,this.enableRequestACopy=!0}ngOnInit(){if(this.enableRequestACopy){this.canDownload$=this.authorizationService.isAuthorized(E._.CanDownload,(0,O.hj)(this.bitstream)?this.bitstream.self:void 0);const L=this.authorizationService.isAuthorized(E._.CanRequestACopy,(0,O.hj)(this.bitstream)?this.bitstream.self:void 0);this.bitstreamPath$=(0,e.z)([this.canDownload$,L]).pipe((0,g.T)(([F,$])=>this.getBitstreamPath(F,$)))}else this.bitstreamPath$=(0,f.of)(this.getBitstreamDownloadPath()),this.canDownload$=(0,f.of)(!0)}getBitstreamPath(L,F){return!L&&F&&(0,O.a4)(this.item)?(0,d.ET)(this.item,this.bitstream):this.getBitstreamDownloadPath()}getBitstreamDownloadPath(){return{routerLink:(0,d.hV)(this.bitstream),queryParams:{}}}static#e=this.\u0275fac=function(F){return new(F||S)(I.rXU(y.AuthorizationDataService))};static#t=this.\u0275cmp=I.VBU({type:S,selectors:[["ds-base-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy"},standalone:!0,features:[I.aNF],ngContentSelectors:T,decls:8,vars:12,consts:[["content",""],[1,"dont-break-out",3,"routerLink","queryParams","target","ngClass"],["role","img","class","pr-1",4,"ngIf"],[4,"ngTemplateOutlet"],["role","img",1,"pr-1"],[1,"fas","fa-lock"]],template:function(F,$){if(1&F&&(I.NAR(),I.j41(0,"a",1),I.nI1(1,"async"),I.nI1(2,"async"),I.DNE(3,R,3,3,"span",2),I.nI1(4,"async"),I.DNE(5,u,1,0,"ng-container",3),I.k0s(),I.DNE(6,w,1,0,"ng-template",null,0,I.C5r)),2&F){let j,x;const G=I.sdS(7);I.Y8G("routerLink",null==(j=I.bMT(1,6,$.bitstreamPath$))?null:j.routerLink)("queryParams",null==(x=I.bMT(2,8,$.bitstreamPath$))?null:x.queryParams)("target",$.isBlank?"_blank":"_self")("ngClass",$.cssClasses),I.R7$(3),I.Y8G("ngIf",!0!==I.bMT(4,10,$.canDownload$)),I.R7$(2),I.Y8G("ngTemplateOutlet",G)}},dependencies:[n.Wk,i.YU,i.bT,i.T3,i.Jj,c.h,c.D9]})}return S})()},60902:(B,D,t)=>{"use strict";t.d(D,{z:()=>y}),t(56738),t(47376);var c=t(21124),f=(t(96568),t(53107));const g=["*"];function d(E,_){}let y=(()=>{class E extends c.J{constructor(){super(...arguments),this.inAndOutputNames=["bitstream","item","cssClasses","isBlank","enableRequestACopy"]}getComponentName(){return"FileDownloadLinkComponent"}importThemedComponent(b){return t(72834)(`./${b}/app/shared/file-download-link/file-download-link.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,96568))}static#e=this.\u0275fac=(()=>{let b;return function(I){return(b||(b=f.xGo(E)))(I||E)}})();static#t=this.\u0275cmp=f.VBU({type:E,selectors:[["ds-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy"},standalone:!0,features:[f.Vt3,f.aNF],ngContentSelectors:g,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,I){1&O&&(f.NAR(),f.DNE(0,d,0,0,"ng-template",null,0,f.C5r),f.j41(2,"div",null,1),f.SdG(4),f.k0s())},encapsulation:2})}return E})()},44541:(B,D,t)=>{"use strict";t.d(D,{N:()=>n,T:()=>i});const i="RELATION",n="#PLACEHOLDER_PARENT_METADATA_VALUE#"},47405:(B,D,t)=>{"use strict";t.d(D,{_:()=>xs});var i=t(54460),n=t(53107),c=t(10936),e=t(2155),f=t(89593),g=t(69685),d=t(76627),y=t(25814),E=t(22867),_=t(37610),b=t(47947),O=t(30593),I=t(18062),T=t(96459),R=t(20960),u=t(64953),w=t(12007),v=t(26589),S=t(3618),M=t(64340),L=t(72683),F=t(95364),$=t(82219),j=t(24106),x=t(11022),G=t(28022),Y=t(36302),V=t(76990),X=t(44541);let K=(()=>{class rn{constructor(Lt,zt,gt,Ke){this.dynamicMatchers=Lt,this.dynamicFormRelationService=zt,this.formBuilderService=gt,this.injector=Ke}getTypeBindValue(Lt){let zt;return zt=(0,L.Tn)(Lt)||"string"==typeof Lt?Lt:Lt instanceof Y.e&&Lt.hasAuthority()?Lt.authority:Lt.value,zt}getRelatedFormModel(Lt){const zt=[];return Lt.typeBindRelations.forEach(gt=>gt.when.forEach(Ke=>{if(Lt.id===Ke.id)throw new Error(`FormControl ${Lt.id} cannot depend on itself`);const Ze=this.formBuilderService.getTypeBindModel();Lt&&!zt.some(He=>He===Ze)&&zt.push(Ze)})),zt}matchesCondition(Lt,zt){const gt=Lt.operator||f.fXj;return Lt.when.reduce((Ke,Ze,He)=>{const We=this.formBuilderService.getTypeBindModel();let Ct,Qe=We.value;We.type===X.T&&(Qe=We.value.map(Dt=>Dt[We.mandatoryField])),Ct=Array.isArray(Qe)?[...Qe.map(Dt=>this.getTypeBindValue(Dt))]:[this.getTypeBindValue(Qe)];let Ot=!(We&&Lt.match===zt.match);for(const Dt of Ct){if(We&&Lt.match===zt.match){if(He>0&&gt===f.fcY&&!Ke)return!1;if(He>0&&gt===f.fXj&&Ke)return!0;if(Ot=Ze.value===Dt,Ot)break}if(We&&Lt.match===zt.opposingMatch){if(He>0&&gt===f.fcY&&Ke)return!0;if(He>0&&gt===f.fXj&&!Ke)return!1;if(Ot=Ze.value!==Dt,!Ot)break}}return Ot},!1)}subscribeRelations(Lt,zt){const gt=this.getRelatedFormModel(Lt),Ke=[];return Object.values(gt).forEach(Ze=>{if((0,L.a4)(Ze)){const He=(0,L.Tn)(Ze.value)||"string"==typeof Ze.value||Array.isArray(Ze.value)?Ze.value:Ze.value.value,Ct=("CHECKBOX_GROUP"===Ze.type?Ze.valueUpdates:Ze.valueChanges).pipe((0,O.Z)(He));Ke.push(Ct.subscribe(()=>{(0,L.a4)(this.dynamicMatchers)&&this.dynamicMatchers.forEach(Qe=>{const Ot=this.dynamicFormRelationService.findRelationByMatcher(Lt.typeBindRelations,Qe);if(void 0!==Ot){const Dt=this.matchesCondition(Ot,Qe);Qe.onChange(Dt,Lt,zt,this.injector)}})}))}}),Ke}getTypeBindRelations(Lt){const zt=[];return Lt.forEach(gt=>{zt.push({id:"dc.type",value:gt})}),[{match:f.zUr,operator:f.fXj,when:zt}]}static#e=this.\u0275fac=function(zt){return new(zt||rn)(n.KVO(f._sU,8),n.KVO(f.$eO),n.KVO(G.j),n.KVO(n.zZn))};static#t=this.\u0275prov=n.jDH({token:rn,factory:rn.\u0275fac,providedIn:"root"})}return rn})();var ae=t(71217),Q=t(41483),z=(t(47376),t(14320)),q=t(21548),ee=t(37706),de=t(29882),Ce=t(73958);function Z(rn,Dn){1&rn&&(n.qex(0),n.nrm(1,"ds-loading",5),n.bVm()),2&rn&&(n.R7$(),n.Y8G("showMessage",!1))}function le(rn,Dn){if(1&rn&&(n.qex(0),n.nrm(1,"ds-metadata-representation-loader",6),n.nI1(2,"async"),n.bVm()),2&rn){const Lt=n.XpG();n.R7$(),n.Y8G("mdRepresentation",n.bMT(2,1,Lt.metadataRepresentation$))}}class De{constructor(Dn,Lt){this.oldIndex=Dn,this.newIndex=Lt}update(){this.oldIndex=this.newIndex}get hasMoved(){return this.oldIndex!==this.newIndex}}class re extends De{constructor(Dn,Lt,zt,gt,Ke,Ze){super(Ke,Ze),this.relationship=Dn,this.useLeftItem=Lt,this.store=zt,this.submissionID=gt,this.relationship=Dn,this.useLeftItem=Lt}getId(){return this.relationship.id}getPlace(){return this.useLeftItem?this.relationship.rightPlace:this.relationship.leftPlace}}let ve=(()=>{class rn{constructor(Lt,zt,gt){this.selectableListService=Lt,this.store=zt,this.submissionService=gt,this.metadataRepresentation$=new ae.t(void 0),this.remove=new n.bkB,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,L.a4)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,w.v7)(),(0,w.Bo)(),(0,Q.p)(zt=>(0,L.a4)(zt)&&(0,L.hj)(zt.uuid))).subscribe(zt=>{this.relatedItem=zt;const gt=this.submissionItem.firstMetadata(this.relationshipOptions.metadataField,{value:this.relatedItem.uuid});if((0,L.a4)(gt)){const Ke=this.submissionItem.firstMetadata(this.metadataFields,{authority:gt.authority}),Ze=Object.assign(new z.y(Ke),this.relatedItem);this.metadataRepresentation$.next(Ze)}}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.submissionService.getSubmissionObject(this.submissionId).pipe((0,Q.p)(Lt=>!Lt.savePending&&!Lt.isLoading),(0,_.s)(1)).subscribe(()=>{this.selectableListService.deselectSingle(this.listId,Object.assign(new F.H,{indexableObject:this.relatedItem})),this.store.dispatch(new de.Fw(this.submissionItem,this.relatedItem,this.relationshipOptions.relationshipType,this.submissionId)),this.remove.emit()})}ngOnDestroy(){this.subs.filter(Lt=>(0,L.a4)(Lt)).forEach(Lt=>Lt.unsubscribe())}static#e=this.\u0275fac=function(zt){return new(zt||rn)(n.rXU($.K),n.rXU(Ce.il),n.rXU(M.E))};static#t=this.\u0275cmp=n.VBU({type:rn,selectors:[["ds-existing-metadata-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},standalone:!0,features:[n.OA$,n.aNF],decls:9,vars:9,consts:[[1,"d-flex"],[1,"mr-auto","text-contents"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click","title"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"mdRepresentation"]],template:function(zt,gt){1&zt&&(n.j41(0,"div",0)(1,"span",1),n.DNE(2,Z,2,1,"ng-container",2),n.nI1(3,"async"),n.DNE(4,le,3,3,"ng-container",2),n.nI1(5,"async"),n.k0s(),n.j41(6,"button",3),n.nI1(7,"translate"),n.bIt("click",function(){return gt.removeSelection()}),n.nrm(8,"i",4),n.k0s()()),2&zt&&(n.R7$(2),n.Y8G("ngIf",void 0===n.bMT(3,3,gt.metadataRepresentation$)),n.R7$(2),n.Y8G("ngIf",n.bMT(5,5,gt.metadataRepresentation$)),n.R7$(2),n.FS9("title",n.bMT(7,7,"form.remove")))},dependencies:[i.bT,q.v,i.Jj,ee.V,g.h,g.D9]})}return rn})();var fe=t(88842),Ie=t(47637);function Ne(rn,Dn){1&rn&&(n.qex(0),n.nrm(1,"ds-loading",5),n.bVm()),2&rn&&(n.R7$(),n.Y8G("showMessage",!1))}function qe(rn,Dn){if(1&rn&&(n.qex(0),n.nrm(1,"ds-listable-object-component-loader",6),n.nI1(2,"async"),n.bVm()),2&rn){const Lt=n.XpG();n.R7$(),n.Y8G("showLabel",!1)("viewMode",Lt.viewType)("object",n.bMT(2,3,Lt.relatedItem$))}}let Be=(()=>{class rn{constructor(Lt,zt,gt){this.selectableListService=Lt,this.submissionService=zt,this.store=gt,this.relatedItem$=new ae.t(void 0),this.viewType=fe.n.ListElement,this.remove=new n.bkB,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,L.a4)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,w.v7)(),(0,w.Bo)(),(0,Q.p)(zt=>(0,L.a4)(zt)&&(0,L.hj)(zt.uuid))).subscribe(zt=>{this.relatedItem$.next(zt)}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.selectableListService.deselectSingle(this.listId,Object.assign(new F.H,{indexableObject:this.relatedItem$.getValue()})),this.store.dispatch(new de.Fw(this.submissionItem,this.relatedItem$.getValue(),this.relationshipOptions.relationshipType,this.submissionId))}ngOnDestroy(){this.subs.filter(Lt=>(0,L.a4)(Lt)).forEach(Lt=>Lt.unsubscribe())}static#e=this.\u0275fac=function(zt){return new(zt||rn)(n.rXU($.K),n.rXU(M.E),n.rXU(Ce.il))};static#t=this.\u0275cmp=n.VBU({type:rn,selectors:[["ds-existing-relation-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},standalone:!0,features:[n.OA$,n.aNF],decls:8,vars:6,consts:[[1,"d-flex"],[1,"flex-grow-1","mr-auto"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"showLabel","viewMode","object"]],template:function(zt,gt){1&zt&&(n.j41(0,"div",0)(1,"div",1),n.DNE(2,Ne,2,1,"ng-container",2),n.nI1(3,"async"),n.DNE(4,qe,3,5,"ng-container",2),n.nI1(5,"async"),n.k0s(),n.j41(6,"button",3),n.bIt("click",function(){return gt.removeSelection()}),n.nrm(7,"i",4),n.k0s()()),2&zt&&(n.R7$(2),n.Y8G("ngIf",void 0===n.bMT(3,2,gt.relatedItem$)),n.R7$(2),n.Y8G("ngIf",n.bMT(5,4,gt.relatedItem$)))},dependencies:[q.v,i.Jj,Ie.v,i.bT],styles:["span.text-contents[_ngcontent-%COMP%]{padding:var(--bs-btn-padding-y) 0}"]})}return rn})();var Ve=t(11162),et=t(99179);const yt=["componentViewContainer"],it=["*"],at=(rn,Dn)=>[rn,Dn],Yt=rn=>({$implicit:rn}),nn=(rn,Dn)=>({"form-row":rn,"d-none":Dn}),je=()=>({standalone:!0}),Re=rn=>({"d-block pb-2 pt-2":rn});function ne(rn,Dn){if(1&rn&&(n.nrm(0,"label",12),n.nI1(1,"translate"),n.nI1(2,"translate")),2&rn){const Lt=n.XpG();n.Y8G("id","label_"+Lt.model.id)("for",Lt.id)("innerHTML",Lt.model.required&&Lt.model.label?n.bMT(1,4,Lt.model.label)+" *":n.bMT(2,6,Lt.model.label),n.npT)("ngClass",n.l_i(8,at,Lt.getClass("element","label"),Lt.getClass("grid","label")))}}function Ee(rn,Dn){1&rn&&n.eu8(0)}function ke(rn,Dn){if(1&rn&&(n.nrm(0,"small",13),n.nI1(1,"translate")),2&rn){const Lt=n.XpG();n.Y8G("innerHTML",n.bMT(1,2,Lt.model.hint),n.npT)("ngClass",Lt.getClass("element","hint"))}}function dt(rn,Dn){1&rn&&n.nrm(0,"div",14)}function Bt(rn,Dn){if(1&rn&&(n.j41(0,"small",17),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&rn){const Lt=Dn.$implicit,zt=n.XpG(2);n.R7$(),n.JRh(n.i5U(2,1,Lt,zt.model.validators))}}function wt(rn,Dn){if(1&rn&&(n.j41(0,"div",15),n.DNE(1,Bt,3,4,"small",16),n.k0s()),2&rn){const Lt=n.XpG();n.Y8G("id",Lt.id+"_errors")("ngClass",n.l_i(3,at,Lt.getClass("element","errors"),Lt.getClass("grid","errors"))),n.R7$(),n.Y8G("ngForOf",Lt.errorMessages)}}function tn(rn,Dn){if(1&rn&&(n.j41(0,"option",21),n.EFF(1),n.k0s()),2&rn){const Lt=Dn.$implicit;n.Y8G("value",Lt.code),n.R7$(),n.JRh(Lt.display)}}function It(rn,Dn){if(1&rn){const Lt=n.RV6();n.j41(0,"div",18)(1,"select",19,1),n.mxI("ngModelChange",function(gt){n.eBV(Lt);const Ke=n.XpG();return n.DH7(Ke.model.language,gt)||(Ke.model.language=gt),n.Njj(gt)}),n.bIt("blur",function(gt){n.eBV(Lt);const Ke=n.XpG();return n.Njj(Ke.onBlur(gt))})("change",function(gt){n.eBV(Lt);const Ke=n.XpG();return n.Njj(Ke.onChangeLanguage(gt))}),n.DNE(3,tn,2,2,"option",20),n.k0s()()}if(2&rn){const Lt=n.XpG();n.R7$(),n.Y8G("disabled",Lt.model.readOnly),n.R50("ngModel",Lt.model.language),n.Y8G("ngModelOptions",n.lJ4(4,je)),n.R7$(2),n.Y8G("ngForOf",Lt.model.languageCodes)}}function $t(rn,Dn){if(1&rn){const Lt=n.RV6();n.j41(0,"div",22)(1,"button",23),n.nI1(2,"translate"),n.nI1(3,"translate"),n.bIt("click",function(gt){return n.eBV(Lt),n.XpG().openLookup(),n.Njj(gt.stopPropagation())}),n.nrm(4,"i",24),n.k0s()()}2&rn&&(n.R7$(),n.FS9("ngbTooltip",n.bMT(2,2,"form.lookup-help")),n.BMQ("aria-label",n.bMT(3,4,"form.lookup-help")))}function Zt(rn,Dn){1&rn&&n.eu8(0)}function mn(rn,Dn){if(1&rn){const Lt=n.RV6();n.j41(0,"ds-existing-metadata-list-element",27),n.nI1(1,"async"),n.nI1(2,"async"),n.bIt("remove",function(){n.eBV(Lt);const gt=n.XpG(2);return n.Njj(gt.onRemove())}),n.k0s()}if(2&rn){const Lt=n.XpG(2);n.Y8G("reoRel",n.bMT(1,6,Lt.relationshipValue$))("submissionItem",n.bMT(2,8,Lt.item$))("listId",Lt.listId)("metadataFields",Lt.model.metadataFields)("submissionId",Lt.model.submissionId)("relationshipOptions",Lt.model.relationship)}}function Rn(rn,Dn){if(1&rn&&(n.nrm(0,"ds-existing-relation-list-element",28),n.nI1(1,"async"),n.nI1(2,"async")),2&rn){const Lt=n.XpG(2);n.Y8G("ngClass",n.eq3(11,Re,!(null!=Lt.context&&Lt.context.index)))("reoRel",n.bMT(1,7,Lt.relationshipValue$))("submissionItem",n.bMT(2,9,Lt.item$))("listId",Lt.listId)("metadataFields",Lt.model.metadataFields)("submissionId",Lt.model.submissionId)("relationshipOptions",Lt.model.relationship)}}function os(rn,Dn){if(1&rn&&(n.nrm(0,"small",13),n.nI1(1,"translate")),2&rn){const Lt=n.XpG(2);n.Y8G("innerHTML",n.bMT(1,2,Lt.model.hint),n.npT)("ngClass",Lt.getClass("element","hint"))}}function Mn(rn,Dn){if(1&rn&&(n.qex(0),n.DNE(1,mn,3,10,"ds-existing-metadata-list-element",25)(2,Rn,3,13,"ds-existing-relation-list-element",26)(3,os,2,4,"small",6),n.nrm(4,"div",14),n.bVm()),2&rn){const Lt=n.XpG();n.R7$(),n.Y8G("ngIf",Lt.model.hasSelectableMetadata),n.R7$(),n.Y8G("ngIf",!Lt.model.hasSelectableMetadata),n.R7$(),n.Y8G("ngIf",Lt.hasHint&&(!1===Lt.model.repeatable||(null==Lt.context?null:Lt.context.index)===(null==Lt.context||null==Lt.context.context||null==Lt.context.context.groups?null:Lt.context.context.groups.length)-1)&&(!Lt.showErrorMessages||0===Lt.errorMessages.length))}}let xs=(()=>{class rn extends f.R7k{get componentType(){return this.dynamicFormControlFn(this.model)}constructor(Lt,zt,gt,Ke,Ze,He,We,Ct,Qe,Ot,Dt,Wt,bn,Pn,ps,ks,Fs,vt){super(bn,Lt,gt,Ke,zt,We),this.componentFactoryResolver=Lt,this.dynamicFormComponentService=zt,this.layoutService=gt,this.validationService=Ke,this.typeBindRelationService=Ze,this.translateService=He,this.relationService=We,this.modalService=Ct,this.relationshipService=Qe,this.selectableListService=Ot,this.store=Dt,this.submissionObjectService=Wt,this.ref=bn,this.formBuilderService=Pn,this.submissionService=ps,this.metadataService=ks,this.appConfig=Fs,this.dynamicFormControlFn=vt,this.asBootstrapFormGroup=!1,this.bindId=!0,this.context=null,this.hasErrorMessaging=!1,this.layout=null,this.subs=[],this.blur=new n.bkB,this.change=new n.bkB,this.focus=new n.bkB,this.customEvent=new n.bkB,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}ngOnInit(){this.isRelationship=(0,L.a4)(this.model.relationship);const Lt=(0,L.a4)(this.model.relationshipConfig);if(this.isRelationship||Lt){const zt=this.model.relationshipConfig||this.model.relationship,gt=Object.assign(new V.j,zt);if(this.listId=`list-${this.model.submissionId}-${gt.relationshipType}`,this.setItem(),Lt||!this.model.repeatable){const Ke=this.selectableListService.getSelectableList(this.listId).pipe((0,y.I)(Ze=>(0,L.Tn)(Ze)),(0,E.n)(()=>this.item$.pipe((0,_.s)(1))),(0,E.n)(Ze=>{const He=this.relationshipService.getItemRelationshipsByLabel(Ze,gt.relationshipType,void 0,!0,!0,(0,j.s)("leftItem"),(0,j.s)("rightItem"),(0,j.s)("relationshipType"));return He.pipe((0,w.ak)(),(0,w.W8)()).subscribe(We=>{We.forEach(Ct=>{const Qe=Ze.firstMetadata(gt.metadataField,{authority:`${u.BY}${Ct.id}`}),Ot=Ze.firstMetadata(this.model.metadataFields,{authority:`${u.BY}${Ct.id}`});(0,L.a4)(Qe)&&(0,L.hj)(Qe.value)&&(0,L.a4)(Ot)&&(0,L.hj)(Ot.value)&&this.relationshipService.setNameVariant(this.listId,Qe.value,Ot.value)})}),He.pipe((0,S.EF)(Ze.uuid),(0,w.yd)(),(0,b.T)(We=>We.payload.page.map(Ct=>Object.assign(new F.H,{indexableObject:Ct}))))})).subscribe(Ze=>this.selectableListService.select(this.listId,Ze));this.subs.push(Ke)}if(this.value=(0,L.a4)(this.model.metadataValue)?Object.assign(new Y.e,this.model.metadataValue):Object.assign(new Y.e,this.model.value),(0,L.a4)(this.value)&&this.metadataService.isVirtual(this.value)){const Ke=this.relationshipService.findById(this.metadataService.virtualValue(this.value),!0,!0,...(0,x.nW)(this.fetchThumbnail)).pipe((0,w.v7)(),(0,w.Bo)());this.relationshipValue$=(0,d.z)([this.item$.pipe((0,_.s)(1)),Ke]).pipe((0,E.n)(([Ze,He])=>He.leftItem.pipe((0,w.v7)(),(0,w.Bo)(),(0,b.T)(We=>new re(He,We.uuid!==Ze.uuid,this.store,this.model.submissionId)))),(0,O.Z)(void 0))}}}get isCheckbox(){return this.model.type===f.eU4||this.model.type===Ve.L}ngOnChanges(Lt){Lt&&!this.isRelationship&&(0,L.a4)(this.group.get(this.model.id))&&(super.ngOnChanges(Lt),this.model&&this.model.placeholder&&(this.model.placeholder=this.translateService.instant(this.model.placeholder)),this.model.typeBindRelations&&this.model.typeBindRelations.length>0&&this.subscriptions.push(...this.typeBindRelationService.subscribeRelations(this.model,this.control)))}ngDoCheck(){(0,L.EA)(this.showErrorMessagesPreviousStage)&&this.showErrorMessagesPreviousStage!==this.showErrorMessages&&(this.showErrorMessagesPreviousStage=this.showErrorMessages,this.forceShowErrorDetection())}ngAfterViewInit(){this.showErrorMessagesPreviousStage=this.showErrorMessages}createFormControlComponent(){if(super.createFormControlComponent(),null!==this.componentType){let Lt;this.context&&this.context instanceof f.fHx&&(Lt=this.context.index);const zt=this.dynamicFormComponentService.getFormControlRef(this.model,Lt);zt&&(zt.formModel=this.formModel,zt.formGroup=this.formGroup)}}forceShowErrorDetection(){this.showErrorMessages&&(this.destroyFormControlComponent(),this.createFormControlComponent())}onChangeLanguage(Lt){(0,L.hj)(this.model.value)&&this.onChange(Lt)}hasRelationship(){return(0,L.hj)(this.model)&&this.model.hasOwnProperty("relationship")&&(0,L.hj)(this.model.relationship)}isVirtual(){const Lt=this.model.metadataValue;return(0,L.hj)(Lt)&&Lt.isVirtual}hasResultsSelected(){return this.model.value.pipe((0,b.T)(Lt=>(0,L.hj)(Lt)))}openLookup(){this.modalRef=this.modalService.open(et.d,{size:"lg"}),(0,L.a4)(this.model.value)&&(this.focus.emit({$event:new Event("focus"),context:this.context,control:this.control,model:this.model,type:f.HkG.Focus}),this.change.emit({$event:new Event("change"),context:this.context,control:this.control,model:this.model,type:f.HkG.Change})),this.submissionService.dispatchSave(this.model.submissionId);const Lt=this.modalRef.componentInstance;(0,L.a4)(this.model.value)&&!this.model.readOnly&&("string"==typeof this.model.value?Lt.query=this.model.value:"string"==typeof this.model.value.value&&(Lt.query=this.model.value.value)),Lt.repeatable=this.model.repeatable,Lt.listId=this.listId,Lt.relationshipOptions=this.model.relationship,Lt.label=this.model.relationship.relationshipType,Lt.metadataFields=this.model.metadataFields,Lt.item=this.item,Lt.collection=this.collection,Lt.submissionId=this.model.submissionId}onRemove(){const Lt=this.context.context,zt=this.formBuilderService.getPath(Lt),gt=this.group.root.get(zt);this.formBuilderService.removeFormArrayGroup(this.context.index,gt,Lt),0===this.model.parent.context.groups.length&&this.formBuilderService.addFormArrayGroup(gt,Lt)}ngOnDestroy(){this.subs.filter(Lt=>(0,L.a4)(Lt)).forEach(Lt=>Lt.unsubscribe())}get hasHint(){return(0,L.hj)(this.model.hint)&&"&nbsp;"!==this.model.hint}setItem(){const Lt=this.submissionObjectService.findById(this.model.submissionId,!0,!0,(0,j.s)("item"),(0,j.s)("collection")).pipe((0,w.v7)(),(0,w.Bo)());this.item$=Lt.pipe((0,E.n)(gt=>gt.item.pipe((0,w.v7)(),(0,w.Bo)())));const zt=Lt.pipe((0,E.n)(gt=>gt.collection.pipe((0,w.v7)(),(0,w.Bo)())));this.subs.push(this.item$.subscribe(gt=>this.item=gt)),this.subs.push(zt.subscribe(gt=>this.collection=gt))}static#e=this.\u0275fac=function(zt){return new(zt||rn)(n.rXU(n.OM3),n.rXU(f.cYz),n.rXU(f.fpj),n.rXU(f.STK),n.rXU(K),n.rXU(g.c$),n.rXU(f.$eO),n.rXU(e.Bq),n.rXU(T.RelationshipDataService),n.rXU($.K),n.rXU(Ce.il),n.rXU(v.$),n.rXU(n.gRc),n.rXU(G.j),n.rXU(M.E),n.rXU(R.T),n.rXU(I.vQ),n.rXU(f.Fdw))};static#t=this.\u0275cmp=n.VBU({type:rn,selectors:[["ds-dynamic-form-control-container"]],contentQueries:function(zt,gt,Ke){if(1&zt&&n.wni(Ke,f.vJF,4),2&zt){let Ze;n.mGM(Ze=n.lsd())&&(gt.contentTemplateList=Ze)}},viewQuery:function(zt,gt){if(1&zt&&n.GBs(yt,7,n.c1b),2&zt){let Ke;n.mGM(Ke=n.lsd())&&(gt.componentViewContainerRef=Ke.first)}},inputs:{inputTemplateList:[n.Mj6.None,"templates","inputTemplateList"],hasMetadataModel:"hasMetadataModel",formId:"formId",formGroup:"formGroup",formModel:"formModel",asBootstrapFormGroup:"asBootstrapFormGroup",bindId:"bindId",context:"context",group:"group",hostClass:"hostClass",hasErrorMessaging:"hasErrorMessaging",layout:"layout",model:"model"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[n.Vt3,n.OA$,n.aNF],ngContentSelectors:it,decls:16,vars:27,consts:[["componentViewContainer",""],["language","ngModel"],[3,"formGroup","ngClass"],[3,"id","for","innerHTML","ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["class","text-muted ds-hint",3,"innerHTML","ngClass",4,"ngIf"],["class","clearfix w-100 mb-2",4,"ngIf"],[3,"id","ngClass",4,"ngIf"],["class","col-xs-2",4,"ngIf"],["class","col-auto text-center",4,"ngIf"],[4,"ngIf"],[3,"id","for","innerHTML","ngClass"],[1,"text-muted","ds-hint",3,"innerHTML","ngClass"],[1,"clearfix","w-100","mb-2"],[3,"id","ngClass"],["class","invalid-feedback d-block",4,"ngFor","ngForOf"],[1,"invalid-feedback","d-block"],[1,"col-xs-2"],["required","",1,"form-control",3,"ngModelChange","blur","change","disabled","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-auto","text-center"],["type","button","placement","top","data-test","lookup-button",1,"btn","btn-secondary",3,"click","ngbTooltip"],[1,"fa","fa-search"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions","remove",4,"ngIf"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions",4,"ngIf"],[3,"remove","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"]],template:function(zt,gt){1&zt&&(n.NAR(),n.j41(0,"div",2),n.DNE(1,ne,3,11,"label",3)(2,Ee,1,0,"ng-container",4),n.j41(3,"div",5)(4,"div",5)(5,"div"),n.eu8(6,null,0),n.k0s(),n.DNE(8,ke,2,4,"small",6)(9,dt,1,0,"div",7)(10,wt,2,6,"div",8),n.k0s(),n.DNE(11,It,4,5,"div",9)(12,$t,5,6,"div",10),n.k0s(),n.DNE(13,Zt,1,0,"ng-container",4)(14,Mn,5,3,"ng-container",11),n.SdG(15),n.k0s()),2&zt&&(n.AVh("form-group","GROUP"!==gt.model.type&&gt.asBootstrapFormGroup||gt.getClass("element","container").includes("form-group"))("d-none",gt.model.hidden),n.Y8G("formGroup",gt.group)("ngClass",n.l_i(19,at,gt.getClass("element","container"),gt.getClass("grid","container"))),n.R7$(),n.Y8G("ngIf",!gt.isCheckbox&&gt.hasLabel),n.R7$(),n.Y8G("ngTemplateOutlet",null==gt.startTemplate?null:gt.startTemplate.templateRef)("ngTemplateOutletContext",n.eq3(22,Yt,gt.model)),n.R7$(),n.Y8G("ngClass",n.l_i(24,nn,gt.model.hasLanguages||gt.isRelationship,gt.metadataService.isVirtual(gt.value)&&(gt.model.hasSelectableMetadata||(null==gt.context?null:gt.context.index)>0))),n.R7$(),n.Y8G("ngClass",gt.getClass("grid","control")),n.R7$(4),n.Y8G("ngIf",gt.hasHint&&(gt.formBuilderService.hasArrayGroupValue(gt.model)||!gt.model.repeatable&&(!1===gt.isRelationship||null===(null==gt.value?null:gt.value.value))||!0===gt.model.repeatable&&(null==gt.context?null:gt.context.index)===(null==gt.context||null==gt.context.context||null==gt.context.context.groups?null:gt.context.context.groups.length)-1)&&(!gt.showErrorMessages||0===gt.errorMessages.length)),n.R7$(),n.Y8G("ngIf",null!==(null==gt.context?null:gt.context.index)&&(!gt.showErrorMessages||0===gt.errorMessages.length)),n.R7$(),n.Y8G("ngIf",!gt.model.hideErrorMessages&&gt.showErrorMessages),n.R7$(),n.Y8G("ngIf",gt.model.languageCodes&&gt.model.languageCodes.length>0),n.R7$(),n.Y8G("ngIf",gt.isRelationship),n.R7$(),n.Y8G("ngTemplateOutlet",null==gt.endTemplate?null:gt.endTemplate.templateRef)("ngTemplateOutletContext",gt.model),n.R7$(),n.Y8G("ngIf",gt.metadataService.isVirtual(gt.value)))},dependencies:[ve,i.bT,i.YU,i.Jj,g.h,g.D9,c.X1,c.xH,c.y7,c.wz,c.BC,c.cb,c.YS,c.j4,i.Sq,c.YN,c.vS,e.n8,e.md,i.T3,Be],styles:["[_nghost-%COMP%]     .ds-form-input-addon{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}[_nghost-%COMP%]     .ds-form-input-btn{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}[_nghost-%COMP%]     .ds-form-input-btn:focus{box-shadow:none!important}[_nghost-%COMP%]     button.ds-form-add-more:focus{outline:none;box-shadow:none!important}[_nghost-%COMP%]     .ds-form-input-value{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     .fa-spin{pointer-events:none}[_nghost-%COMP%]     .left-addon .far, [_nghost-%COMP%]     .left-addon .fas, [_nghost-%COMP%]     .left-addon i{left:0}[_nghost-%COMP%]     .right-addon .far, [_nghost-%COMP%]     .right-addon .fas, [_nghost-%COMP%]     .right-addon i{right:0}[_nghost-%COMP%]     .left-addon input{padding-left:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .right-addon input{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]     .custom-select{appearance:none}"]})}return rn})()},11162:(B,D,t)=>{"use strict";t.d(D,{L:()=>c,i:()=>e});var i=t(31635),n=t(89593);const c="CUSTOM_SWITCH";class e extends n.M7d{constructor(g,d){super(g,d),this.type=c}}(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],e.prototype,"type",void 0)},14518:(B,D,t)=>{"use strict";t.d(D,{q:()=>u,P:()=>w});var i=t(54460),n=t(53107),c=t(10936),e=t(89593),f=t(75884),g=t.n(f),d=t(72683),y=t(69685);const E=v=>({field:v}),_=v=>({"is-invalid":v});let b=(()=>{class v{constructor(M,L,F){this.fb=M,this.cd=L,this.translate=F,this.selected=new n.bkB,this.remove=new n.bkB,this.blur=new n.bkB,this.change=new n.bkB,this.focus=new n.bkB}ngOnInit(){this.step=this.step||1,this.min=this.min||0,this.max=this.max||100,this.size=this.size||1,this.disabled=this.disabled||!1,this.invalid=this.invalid||!1,this.cd.detectChanges()}ngOnChanges(M){this.value?M.max&&(this.value=this.value>this.max?this.max:this.value):M.value&&null===M.value.currentValue?this.value=null:M.invalid&&(this.invalid=M.invalid.currentValue)}changeValue(M=!1){if((0,d.Im)(this.value))this.value=this.startValue;else{this.startValue=this.value;let L=this.value;M?L-=this.step:L+=this.step,this.value=L>=this.min&&L<=this.max?L:L>this.max?this.min:this.max}this.emitChange()}toggleDown(){this.changeValue(!0)}toggleUp(){this.changeValue()}update(M){try{const L=Number.parseInt(M.target.value,10);this.value=L>=this.min&&L<=this.max?L:null===M.target.value||""===M.target.value?null:void 0,this.emitChange()}catch{this.value=void 0}}onBlur(M){this.blur.emit(M)}onFocus(M){this.value&&(this.startValue=this.value),this.focus.emit(M)}writeValue(M){this.startValue=M||this.min}registerOnChange(M){}registerOnTouched(M){}emitChange(){this.change.emit({field:this.name,value:this.value})}static#e=this.\u0275fac=function(L){return new(L||v)(n.rXU(c.ze),n.rXU(n.gRc),n.rXU(y.c$))};static#t=this.\u0275cmp=n.VBU({type:v,selectors:[["ds-number-picker"]],inputs:{id:"id",step:"step",min:"min",max:"max",size:"size",placeholder:"placeholder",name:"name",disabled:"disabled",invalid:"invalid",value:"value"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[n.Jv_([{provide:c.kq,useExisting:v,multi:!0}]),n.OA$,n.aNF],decls:12,vars:27,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-around","mr-3"],["type","button","tabindex","0",1,"btn","btn-link-focus",3,"click","disabled"],[1,"chevron"],[1,"sr-only"],["type","text",1,"form-control","d-inline-block","text-center",3,"ngModelChange","blur","change","focus","id","maxlength","size","placeholder","name","ngModel","readonly","disabled","ngClass","title"],[1,"chevron","bottom"]],template:function(L,F){1&L&&(n.j41(0,"div",0)(1,"button",1),n.bIt("click",function(){return F.toggleUp()}),n.nrm(2,"span",2),n.j41(3,"span",3),n.EFF(4),n.nI1(5,"translate"),n.k0s()(),n.j41(6,"input",4),n.mxI("ngModelChange",function(j){return n.DH7(F.value,j)||(F.value=j),j}),n.bIt("blur",function(j){return F.onBlur(j),j.stopPropagation()})("change",function(j){return F.update(j),j.stopPropagation()})("focus",function(j){return F.onFocus(j),j.stopPropagation()}),n.k0s(),n.j41(7,"button",1),n.bIt("click",function(){return F.toggleDown()}),n.nrm(8,"span",5),n.j41(9,"span",3),n.EFF(10),n.nI1(11,"translate"),n.k0s()()()),2&L&&(n.R7$(),n.Y8G("disabled",F.disabled),n.R7$(3),n.JRh(n.i5U(5,15,"form.number-picker.increment",n.eq3(21,E,F.name))),n.R7$(2),n.FS9("id",F.id),n.FS9("maxlength",F.size),n.FS9("size",F.size),n.FS9("placeholder",F.placeholder),n.FS9("title",F.placeholder),n.Y8G("name",F.name),n.R50("ngModel",F.value),n.Y8G("readonly",F.disabled)("disabled",F.disabled)("ngClass",n.eq3(23,_,F.invalid)),n.BMQ("aria-label",F.placeholder),n.R7$(),n.Y8G("disabled",F.disabled),n.R7$(3),n.JRh(n.i5U(11,18,"form.number-picker.decrement",n.eq3(25,E,F.name))))},dependencies:[i.YU,c.YN,c.me,c.BC,c.tU,c.vS,y.h,y.D9],styles:['[_nghost-%COMP%]{outline:none}.chevron[_ngcontent-%COMP%]:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.71em}.chevron.bottom[_ngcontent-%COMP%]:before{top:-.3em;transform:rotate(135deg)}input[_ngcontent-%COMP%]{max-width:80px!important}.btn-link-focus[_ngcontent-%COMP%]{font-weight:400;color:#1f7293;text-decoration:none}.btn-link-focus[_ngcontent-%COMP%]:hover{color:#124154;text-decoration:underline}.btn-link-focus[_ngcontent-%COMP%]:disabled, .btn-link-focus.disabled[_ngcontent-%COMP%]{color:#6c757d;pointer-events:none}.btn-link-focus[_ngcontent-%COMP%]:focus, .btn-link-focus.focus[_ngcontent-%COMP%]{text-decoration:underline}']})}return v})();t(87266);const I=(v,S)=>[v,S];function T(v,S){1&v&&(n.j41(0,"span"),n.EFF(1,"*"),n.k0s())}function R(v,S){if(1&v&&(n.j41(0,"legend",5),n.EFF(1),n.DNE(2,T,2,0,"span",6),n.k0s()),2&v){const M=n.XpG();n.Y8G("id","legend_"+M.model.id)("ngClass",n.l_i(4,I,M.getClass("element","label"),M.getClass("grid","label"))),n.R7$(),n.SpI(" ",M.model.placeholder," "),n.R7$(),n.Y8G("ngIf",M.model.required)}}const u="-";let w=(()=>{class v extends e.S6A{constructor(M,L,F,$){super(M,L),this.layoutService=M,this.validationService=L,this.renderer=F,this._document=$,this.bindId=!0,this.selected=new n.bkB,this.remove=new n.bkB,this.blur=new n.bkB,this.change=new n.bkB,this.focus=new n.bkB,this.minMonth=1,this.maxMonth=12,this.minDay=1,this.maxDay=31,this.yearPlaceholder="year",this.monthPlaceholder="month",this.dayPlaceholder="day",this.disabledMonth=!0,this.disabledDay=!0,this.fields=["_year","_month","_day"]}ngOnInit(){const M=new Date;if(this.initialYear=M.getUTCFullYear(),this.initialMonth=M.getUTCMonth()+1,this.initialDay=M.getUTCDate(),this.model&&null!==this.model.value){const L=this.model.value.toString().split(u);L.length>0&&(this.initialYear=parseInt(L[0],10),this.year=this.initialYear,this.disabledMonth=!1),L.length>1&&(this.initialMonth=parseInt(L[1],10),this.month=this.initialMonth,this.disabledDay=!1),L.length>2&&(this.initialDay=parseInt(L[2],10),this.day=this.initialDay)}this.maxYear=M.getUTCFullYear()+100}onBlur(M){this.blur.emit()}onChange(M){switch(M.field){case"year":null!==M.value?this.year=M.value:(this.year=void 0,this.month=void 0,this.day=void 0,this.disabledMonth=!0,this.disabledDay=!0);break;case"month":null!==M.value?this.month=M.value:(this.month=void 0,this.day=void 0,this.disabledDay=!0);break;case"day":this.day=null!==M.value?M.value:void 0}if(!this.disabledDay){const $=new Date(this.year,this.month?this.month-1:0,1);this.maxDay=this.getLastDay($),this.day>this.maxDay&&(this.day=this.maxDay)}(0,d.a4)(this.year)&&"year"===M.field?this.disabledMonth=!1:(0,d.a4)(this.month)&&"month"===M.field&&(this.disabledDay=!1);let L=null;if((0,d.a4)(this.year)){let F=this.year.toString();for(;F.length<4;)F="0"+F;L=F}if((0,d.a4)(this.month)){const F=1===this.month.toString().length?"0"+this.month.toString():this.month.toString();L+=u+F}if((0,d.a4)(this.day)){const F=1===this.day.toString().length?"0"+this.day.toString():this.day.toString();L+=u+F}this.model.value=L,this.change.emit(L)}onTabKeydown(M){M.preventDefault();const L=this._document.activeElement;L.blur();const F=this.selectedFieldIndex(L);if(F<0)return;const $=F+1;$<this.fields.length&&this.focusInput(this.fields[$])}onShiftTabKeyDown(M){M.preventDefault();const L=this._document.activeElement;L.blur();const $=this.selectedFieldIndex(L)-1;$>=0&&this.focusInput(this.fields[$])}selectedFieldIndex(M){return this.fields.findIndex(L=>g()(M.id,this.model.id.concat(L)))}focusInput(M){const L=this._document.getElementById(this.model.id.concat(M));L&&((0,d.a4)(this.year)&&g()(M,"_year")&&(this.disabledMonth=!0,this.disabledDay=!0),(0,d.a4)(this.year)&&g()(M,"_month")?this.disabledMonth=!1:(0,d.a4)(this.month)&&g()(M,"_day")&&(this.disabledDay=!1),setTimeout(()=>{this.renderer.selectRootElement(L).focus()},100))}onFocus(M){this.focus.emit(M)}getLastDay(M){return M.setMonth(M.getMonth()+1,0),M.getDate()}static#e=this.\u0275fac=function(L){return new(L||v)(n.rXU(e.fpj),n.rXU(e.STK),n.rXU(n.sFG),n.rXU(i.qQ))};static#t=this.\u0275cmp=n.VBU({type:v,selectors:[["ds-date-picker"]],hostBindings:function(L,F){1&L&&n.bIt("keydown.tab",function(j){return F.onTabKeydown(j)})("keydown.shift.tab",function(j){return F.onShiftTabKeyDown(j)})},inputs:{bindId:"bindId",group:"group",model:"model",legend:"legend"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[n.Vt3,n.aNF],decls:7,vars:29,consts:[[1,"d-flex"],[3,"id","ngClass",4,"ngIf"],["tabindex","0",3,"ngModelChange","blur","change","focus","id","disabled","min","max","name","size","ngModel","value","invalid","placeholder"],["tabindex","0",3,"ngModelChange","blur","change","focus","id","min","max","name","size","ngModel","value","placeholder","disabled"],[1,"clearfix"],[3,"id","ngClass"],[4,"ngIf"]],template:function(L,F){1&L&&(n.j41(0,"div")(1,"fieldset",0),n.DNE(2,R,3,7,"legend",1),n.j41(3,"ds-number-picker",2),n.mxI("ngModelChange",function(j){return n.DH7(F.initialYear,j)||(F.initialYear=j),j}),n.bIt("blur",function(j){return F.onBlur(j)})("change",function(j){return F.onChange(j)})("focus",function(j){return F.onFocus(j)}),n.k0s(),n.j41(4,"ds-number-picker",3),n.mxI("ngModelChange",function(j){return n.DH7(F.initialMonth,j)||(F.initialMonth=j),j}),n.bIt("blur",function(j){return F.onBlur(j)})("change",function(j){return F.onChange(j)})("focus",function(j){return F.onFocus(j)}),n.k0s(),n.j41(5,"ds-number-picker",3),n.mxI("ngModelChange",function(j){return n.DH7(F.initialDay,j)||(F.initialDay=j),j}),n.bIt("blur",function(j){return F.onBlur(j)})("change",function(j){return F.onChange(j)})("focus",function(j){return F.onFocus(j)}),n.k0s()()(),n.nrm(6,"div",4)),2&L&&(n.R7$(2),n.Y8G("ngIf",!F.model.repeatable),n.R7$(),n.Y8G("id",F.model.id+"_year")("disabled",F.model.disabled)("min",F.minYear)("max",F.maxYear)("name","year")("size",4),n.R50("ngModel",F.initialYear),n.Y8G("value",F.year)("invalid",F.showErrorMessages)("placeholder",F.yearPlaceholder),n.R7$(),n.Y8G("id",F.model.id+"_month")("min",F.minMonth)("max",F.maxMonth)("name","month")("size",6),n.R50("ngModel",F.initialMonth),n.Y8G("value",F.month)("placeholder",F.monthPlaceholder)("disabled",!F.year||F.model.disabled),n.R7$(),n.Y8G("id",F.model.id+"_day")("min",F.minDay)("max",F.maxDay)("name","day")("size",2),n.R50("ngModel",F.initialDay),n.Y8G("value",F.day)("placeholder",F.dayPlaceholder)("disabled",!F.month||F.model.disabled))},dependencies:[i.YU,i.bT,b,c.YN,c.BC,c.vS],styles:[".col-lg-1[_ngcontent-%COMP%]{width:auto}legend[_ngcontent-%COMP%]{font-size:initial}"]})}return v})()},87266:(B,D,t)=>{"use strict";t.d(D,{g:()=>y,s:()=>d});var i=t(31635),n=t(89593),c=t(71217),e=t(18447),f=t(64953),g=t(72683);const d="DATE";class y extends n.eGm{constructor(_,b){super(_,b),this.type=d,this.hasLanguages=!1,this.repeatable=!1,this.malformedDate=!1,this.legend=_.legend,this.metadataValue=_.metadataValue,this.typeBindRelations=_.typeBindRelations?_.typeBindRelations:[],this.hiddenUpdates=new c.t(this.hidden),this.repeatable=_.repeatable;const O=this.getRootParent(this);O&&(0,g.EA)(O.hidden)&&(O.hidden=this.hidden)}getRootParent(_){return(0,g.Im)(_)||(0,g.Im)(_.parent)?_:this.getRootParent(_.parent)}}(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",e.B)],y.prototype,"hiddenUpdates",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Array)],y.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],y.prototype,"type",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",f.vD)],y.prototype,"metadataValue",void 0)},71736:(B,D,t)=>{"use strict";t.d(D,{H:()=>f,v:()=>e});var i=t(31635),n=t(89593),c=t(12323);const e="EMPTY";class f extends c.C{constructor(d,y){super(d,y),this.type=e,this.readOnly=!0,this.disabled=!0,this.hasSelectableMetadata=d.hasSelectableMetadata,this.value=d.value}}(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"hasSelectableMetadata",void 0)},12323:(B,D,t)=>{"use strict";t.d(D,{C:()=>y});var i=t(31635),n=t(89593),c=t(18447),e=t(59531),f=t(72683),g=t(36302),d=t(76990);class y extends n.rA_{constructor(_,b){super(_,b),this.typeBindHidden=!1,this.repeatable=_.repeatable,this.metadataFields=_.metadataFields,this.hint=_.hint,this.readOnly=_.readOnly,this.disabled=_.readOnly,this.value=_.value,this.relationship=_.relationship,this.submissionId=_.submissionId,this.hasSelectableMetadata=_.hasSelectableMetadata,this.metadataValue=_.metadataValue,this.place=_.place,this.isModelOfInnerForm=!!(0,f.a4)(_.isModelOfInnerForm)&&_.isModelOfInnerForm,this.hideErrorMessages=_.hideErrorMessages,this.language=_.language,this.language||(_.value instanceof g.e?this.language=_.value.language:Array.isArray(_.value)&&_.value[0].language&&(this.language=_.value[0].language)),this.languageCodes=_.languageCodes,this.languageUpdates=new c.B,this.languageUpdates.subscribe(O=>{this.language=O}),this.typeBindRelations=_.typeBindRelations?_.typeBindRelations:[],this.vocabularyOptions=_.vocabularyOptions}get hasAuthority(){return this.vocabularyOptions&&(0,f.a4)(this.vocabularyOptions.name)}get hasLanguages(){return this.languageCodes&&this.languageCodes.length>1}get language(){return this._language}set language(_){this._language=_}get languageCodes(){return this._languageCodes}set languageCodes(_){this._languageCodes=_,(!this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",e.n)],y.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Array)],y.prototype,"_languageCodes",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],y.prototype,"_language",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",c.B)],y.prototype,"languageUpdates",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Number)],y.prototype,"place",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Array)],y.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Object)],y.prototype,"typeBindHidden",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",d.j)],y.prototype,"relationship",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Boolean)],y.prototype,"repeatable",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Array)],y.prototype,"metadataFields",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],y.prototype,"submissionId",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Boolean)],y.prototype,"hasSelectableMetadata",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",g.e)],y.prototype,"metadataValue",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Boolean)],y.prototype,"isModelOfInnerForm",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Boolean)],y.prototype,"hideErrorMessages",void 0)},56848:(B,D,t)=>{"use strict";t.d(D,{m:()=>f});var i=t(31635),n=t(89593),c=t(72683),e=t(76990);class f extends n.UqU{constructor(d,y){super(d,y),this.notRepeatable=!1,this.required=!1,this.showButtons=!0,this.isRowArray=!0,this.isInlineGroupArray=!1,(0,c.a4)(d.notRepeatable)&&(this.notRepeatable=d.notRepeatable),(0,c.a4)(d.required)&&(this.required=d.required),(0,c.a4)(d.showButtons)&&(this.showButtons=d.showButtons),this.submissionId=d.submissionId,this.relationshipConfig=d.relationshipConfig,this.metadataKey=d.metadataKey,this.metadataFields=d.metadataFields,this.hasSelectableMetadata=d.hasSelectableMetadata,this.isDraggable=d.isDraggable,this.typeBindRelations=d.typeBindRelations?d.typeBindRelations:[],this.isInlineGroupArray=!!d.isInlineGroupArray&&d.isInlineGroupArray}}(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Object)],f.prototype,"notRepeatable",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Object)],f.prototype,"required",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"submissionId",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",e.j)],f.prototype,"relationshipConfig",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"metadataKey",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Array)],f.prototype,"metadataFields",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"hasSelectableMetadata",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"isDraggable",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Object)],f.prototype,"showButtons",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Array)],f.prototype,"typeBindRelations",void 0)},59191:(B,D,t)=>{"use strict";t.d(D,{E:()=>e});var i=t(31635),n=t(89593),c=t(12323);class e extends c.C{constructor(g,d){super(g,d),this.type=n.TwG,this.cols=g.cols,this.rows=g.rows,this.wrap=g.wrap}}(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Number)],e.prototype,"cols",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Number)],e.prototype,"rows",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],e.prototype,"wrap",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Object)],e.prototype,"type",void 0)},55885:(B,D,t)=>{"use strict";t.d(D,{o:()=>b});var i=t(89593),n=t(63016),c=t(47947),e=t(36423),f=t(20857),g=t(59678),d=t(72683),y=t(36302),_=(t(12323),t(53107));let b=(()=>{class O extends i.S6A{constructor(T,R,u){super(R,u),this.vocabularyService=T,this.layoutService=R,this.validationService=u}getInitValueFromModel(T=!1){let R;if((0,d.hj)(this.model.value)&&this.model.value instanceof y.e&&!this.model.value.hasAuthorityToGenerate()){let u;u=this.model.value.hasAuthority()?this.vocabularyService.getVocabularyEntryByID(this.model.value.authority,this.model.vocabularyOptions):this.vocabularyService.getVocabularyEntryByValue(this.model.value.value,this.model.vocabularyOptions),R=u.pipe((0,c.T)(w=>{if((0,d.hj)(w)){const v=new y.e(w.value,null,w.authority,w.display,this.model.value.place,null,w.otherInformation||null);return T&&(v.confidence=this.model.value.confidence),v}return this.model.value}))}else R=(0,d.hj)(this.model.value)&&this.model.value instanceof f.b?(0,n.of)(new y.e(this.model.value.value,null,this.model.value.authority,this.model.value.display,0,null,this.model.value.otherInformation||null)):(0,n.of)(new y.e(this.model.value));return R}onBlur(T){this.blur.emit(T)}onFocus(T){this.focus.emit(T)}dispatchUpdate(T){this.model.value=T,this.change.emit(T)}updatePageInfo(T,R,u,w){this.pageInfo=Object.assign(new e.Q,{elementsPerPage:T,currentPage:R,totalElements:u,totalPages:w})}static#e=this.\u0275fac=function(R){return new(R||O)(_.rXU(g.g),_.rXU(i.fpj),_.rXU(i.STK))};static#t=this.\u0275cmp=_.VBU({type:O,selectors:[["ds-dynamic-vocabulary"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_.Vt3],decls:0,vars:0,template:function(R,u){},encapsulation:2})}return O})()},99636:(B,D,t)=>{"use strict";t.d(D,{R:()=>g});var i=t(31635),n=t(89593),c=t(18447),e=t(59531),f=t(72683);class g extends n.JVJ{constructor(y,E){super(y,E),this.isListGroup=!0,this.vocabularyOptions=y.vocabularyOptions,this.groupLength=y.groupLength||5,this._value=[],this.repeatable=y.repeatable,this.required=y.required,this.hint=y.hint,this.valueUpdates=new c.B,this.valueUpdates.subscribe(_=>this.value=_),this.valueUpdates.next(y.value),this.typeBindRelations=y.typeBindRelations?y.typeBindRelations:[]}get hasAuthority(){return this.vocabularyOptions&&(0,f.a4)(this.vocabularyOptions.name)}get value(){return this._value}set value(y){y&&(this._value=Array.isArray(y)?y:this.value.concat([y]))}}(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",e.n)],g.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Boolean)],g.prototype,"repeatable",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Number)],g.prototype,"groupLength",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Array)],g.prototype,"_value",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Array)],g.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Boolean)],g.prototype,"required",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],g.prototype,"hint",void 0)},4768:(B,D,t)=>{"use strict";t.d(D,{t:()=>f});var i=t(31635),n=t(89593),c=t(59531),e=t(72683);class f extends n.tK_{constructor(d,y){super(d,y),this.isListGroup=!0,this.vocabularyOptions=d.vocabularyOptions,this.groupLength=d.groupLength||5,this.repeatable=d.repeatable,this.required=d.required,this.hint=d.hint,this.value=d.value,this.typeBindRelations=d.typeBindRelations?d.typeBindRelations:[]}get hasAuthority(){return this.vocabularyOptions&&(0,e.a4)(this.vocabularyOptions.name)}}(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",c.n)],f.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"repeatable",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Array)],f.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"groupLength",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"required",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"hint",void 0)},89736:(B,D,t)=>{"use strict";t.d(D,{V:()=>e,_:()=>f});var i=t(31635),n=t(89593),c=t(60692);const e="LOOKUP_NAME";class f extends c.P{constructor(d,y){super(d,y),this.type=e,this.separator=d.separator||",",this.placeholder=d.firstPlaceholder||"form.last-name",this.secondPlaceholder=d.secondPlaceholder||"form.first-name"}}(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"separator",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"secondPlaceholder",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},60692:(B,D,t)=>{"use strict";t.d(D,{P:()=>f,d:()=>e});var i=t(31635),n=t(89593),c=t(12323);const e="LOOKUP";class f extends c.C{constructor(d,y){super(d,y),this.type=e,this.autoComplete=n.DAG,this.maxOptions=d.maxOptions||10,this.value=d.value}}(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"maxOptions",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},27076:(B,D,t)=>{"use strict";t.d(D,{d:()=>De});var i=t(54460),n=t(53107),c=t(10936),e=t(2155),f=t(69685),g=t(51698),d=t(18447),y=t(63016),E=t(88093),_=t(88627),b=t(66645),O=t(82040),I=t(22867),T=t(17178),R=t(47947),u=t(41483),w=t(37610),v=t(5338),S=t(12007),M=t(36423),L=t(59678),F=t(72683),$=t(76472),j=t(14143),x=t(37421),G=t(36302),Y=t(55885),X=(t(66642),t(89593));const K=["instance"],ae=pe=>({entry:pe});function Q(pe,re){if(1&pe&&n.eu8(0,5),2&pe){const ve=re.result;n.XpG();const fe=n.sdS(3),Ie=n.sdS(5);n.Y8G("ngTemplateOutlet",ve.hasOtherInformation()?fe:Ie)("ngTemplateOutletContext",n.eq3(2,ae,ve))}}function J(pe,re){if(1&pe&&(n.j41(0,"li",9),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&pe){const ve=re.$implicit;n.R7$(),n.Lme(" ",n.bMT(2,2,"form.other-information."+ve.key)," : ",ve.value," ")}}function z(pe,re){if(1&pe&&(n.j41(0,"ul",6)(1,"li",7),n.EFF(2),n.k0s(),n.DNE(3,J,3,4,"li",8),n.nI1(4,"dsObjNgFor"),n.k0s()),2&pe){const ve=re.entry;n.R7$(2),n.JRh(ve.value),n.R7$(),n.Y8G("ngForOf",n.bMT(4,2,ve.otherInformation))}}function q(pe,re){if(1&pe&&(n.j41(0,"ul",6)(1,"li",7),n.EFF(2),n.k0s()()),2&pe){const ve=re.entry;n.R7$(2),n.JRh(ve.value)}}function ee(pe,re){1&pe&&n.nrm(0,"i",15)}function de(pe,re){if(1&pe){const ve=n.RV6();n.j41(0,"i",16),n.bIt("whenClickOnConfidenceNotAccepted",function(Ie){n.eBV(ve);const Ne=n.XpG(2);return n.Njj(Ne.whenClickOnConfidenceNotAccepted(Ie))}),n.k0s()}if(2&pe){const ve=n.XpG(2);n.Y8G("authorityValue",ve.currentValue)}}function Ce(pe,re){1&pe&&(n.j41(0,"div",17),n.EFF(1,"Sorry, suggestions could not be loaded."),n.k0s())}function Z(pe,re){if(1&pe){const ve=n.RV6();n.j41(0,"div",10),n.DNE(1,ee,1,0,"i",11)(2,de,1,1,"i",12),n.j41(3,"input",13,3),n.nI1(5,"translate"),n.mxI("ngModelChange",function(Ie){n.eBV(ve);const Ne=n.XpG();return n.DH7(Ne.currentValue,Ie)||(Ne.currentValue=Ie),n.Njj(Ie)}),n.bIt("blur",function(Ie){n.eBV(ve);const Ne=n.XpG();return n.Njj(Ne.onBlur(Ie))})("focus",function(Ie){n.eBV(ve);const Ne=n.XpG();return n.Njj(Ne.onFocus(Ie))})("change",function(Ie){n.eBV(ve);const Ne=n.XpG();return n.Njj(Ne.onChange(Ie))})("input",function(Ie){n.eBV(ve);const Ne=n.XpG();return n.Njj(Ne.onInput(Ie))})("selectItem",function(Ie){n.eBV(ve);const Ne=n.XpG();return n.Njj(Ne.onSelectItem(Ie))}),n.k0s(),n.DNE(6,Ce,2,0,"div",14),n.k0s()}if(2&pe){const ve=n.XpG(),fe=n.sdS(1);n.R7$(),n.Y8G("ngIf",ve.searching||ve.loadingInitialValue),n.R7$(),n.Y8G("ngIf",!ve.searching&&!ve.loadingInitialValue),n.R7$(),n.AVh("is-invalid",ve.showErrorMessages),n.Y8G("id",ve.model.id)("inputFormatter",ve.formatter)("name",ve.model.name)("ngbTypeahead",ve.search)("placeholder",ve.model.placeholder)("readonly",ve.model.readOnly)("disabled",ve.model.readOnly)("resultTemplate",fe)("type",ve.model.inputType),n.R50("ngModel",ve.currentValue),n.BMQ("aria-labelledby","label_"+ve.model.id)("autoComplete",ve.model.autoComplete)("aria-label",n.bMT(5,18,ve.model.label)),n.R7$(3),n.Y8G("ngIf",ve.searchFailed)}}function le(pe,re){if(1&pe){const ve=n.RV6();n.j41(0,"div",10)(1,"i",18),n.bIt("click",function(Ie){n.eBV(ve);const Ne=n.XpG();return n.Njj(Ne.openTree(Ie))}),n.k0s(),n.j41(2,"input",19),n.nI1(3,"translate"),n.bIt("focus",function(Ie){n.eBV(ve);const Ne=n.XpG();return n.Njj(Ne.onFocus(Ie))})("change",function(Ie){n.eBV(ve);const Ne=n.XpG();return n.Njj(Ne.onChange(Ie))})("click",function(Ie){n.eBV(ve);const Ne=n.XpG();return n.Njj(Ne.openTree(Ie))})("keydown",function(Ie){return n.eBV(ve),n.Njj(Ie.preventDefault())})("keypress",function(Ie){return n.eBV(ve),n.Njj(Ie.preventDefault())})("keyup",function(Ie){return n.eBV(ve),n.Njj(Ie.preventDefault())}),n.k0s()()}if(2&pe){const ve=n.XpG();n.R7$(2),n.AVh("is-invalid",ve.showErrorMessages)("tree-input",!ve.model.readOnly),n.Y8G("id",ve.id)("name",ve.model.name)("placeholder",ve.model.placeholder)("readonly",!0)("disabled",ve.model.readOnly)("type",ve.model.inputType)("value",null==ve.currentValue?null:ve.currentValue.display),n.BMQ("aria-labelledby","label_"+ve.model.id)("autoComplete",ve.model.autoComplete)("aria-label",n.bMT(3,14,ve.model.label))}}let De=(()=>{class pe extends Y.o{constructor(ve,fe,Ie,Ne,qe){super(ve,Ie,qe),this.vocabularyService=ve,this.cdr=fe,this.layoutService=Ie,this.modalService=Ne,this.validationService=qe,this.blur=new n.bkB,this.change=new n.bkB,this.focus=new n.bkB,this.pageInfo=new M.Q,this.searching=!1,this.loadingInitialValue=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed$=new g.c(()=>()=>this.changeSearchingStatus(!1)),this.click$=new d.B,this.subs=[],this.formatter=we=>"object"==typeof we?we.display:we,this.search=we=>we.pipe((0,E.h)(this.click$),(0,_.B)(300),(0,b.F)(),(0,O.M)(()=>this.changeSearchingStatus(!0)),(0,I.n)(Be=>""===Be||Be.length<this.model.minChars?(0,y.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(Be,!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,S.ak)(),(0,O.M)(()=>this.searchFailed=!1),(0,T.W)(()=>(this.searchFailed=!0,(0,y.of)((0,v.g)(new M.Q,[])))))),(0,R.T)(Be=>Be.page),(0,O.M)(()=>this.changeSearchingStatus(!1)),(0,E.h)(this.hideSearchingWhenUnsubscribed$))}ngOnInit(){this.model.value&&this.setCurrentValue(this.model.value,!0),this.vocabulary$=this.vocabularyService.findVocabularyById(this.model.vocabularyOptions.name).pipe((0,S.ak)(),(0,b.F)()),this.isHierarchicalVocabulary$=this.vocabulary$.pipe((0,R.T)(ve=>ve.hierarchical)),this.subs.push(this.group.get(this.model.id).valueChanges.pipe((0,u.p)(ve=>this.currentValue!==ve)).subscribe(ve=>{this.setCurrentValue(this.model.value)}))}changeSearchingStatus(ve){this.searching=ve,this.cdr.detectChanges()}changeLoadingInitialValueStatus(ve){this.loadingInitialValue=ve,this.cdr.detectChanges()}isHierarchicalVocabulary(){return this.isHierarchicalVocabulary$}onInput(ve){!this.model.vocabularyOptions.closed&&(0,F.hj)(ve.target.value)&&(this.inputValue=new G.e(ve.target.value))}onBlur(ve){this.instance.isPopupOpen()?(ve.preventDefault(),ve.stopImmediatePropagation(),!this.model.vocabularyOptions.closed&&(0,F.hj)(this.inputValue)&&((0,F.Pe)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null)):(!this.model.vocabularyOptions.closed&&(0,F.hj)(this.inputValue)&&((0,F.Pe)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null),this.blur.emit(ve))}onChange(ve){ve.stopPropagation(),(0,F.Im)(this.currentValue)&&this.dispatchUpdate(null)}onSelectItem(ve){this.inputValue=null,this.setCurrentValue(ve.item),this.dispatchUpdate(ve.item)}openTree(ve){this.model.readOnly||(ve.preventDefault(),ve.stopImmediatePropagation(),this.subs.push(this.vocabulary$.pipe((0,R.T)(fe=>fe.preloadLevel),(0,w.s)(1)).subscribe(fe=>{const Ie=this.modalService.open(x._,{size:"lg",windowClass:"treeview"});Ie.componentInstance.vocabularyOptions=this.model.vocabularyOptions,Ie.componentInstance.preloadLevel=fe,Ie.componentInstance.selectedItems=this.currentValue?[this.currentValue]:[],Ie.result.then(Ne=>{Ne&&(this.currentValue=Ne,this.dispatchUpdate(Ne))},()=>{})})))}whenClickOnConfidenceNotAccepted(ve){this.model.readOnly||this.click$.next(this.formatter(this.currentValue))}setCurrentValue(ve,fe=!1){let Ie;fe?(this.changeLoadingInitialValueStatus(!0),this.getInitValueFromModel(!0).subscribe(Ne=>{this.changeLoadingInitialValueStatus(!1),this.currentValue=Ne,this.cdr.detectChanges()})):(Ie=(0,F.Im)(ve)?"":ve.value,this.currentValue=Ie,this.cdr.detectChanges())}ngOnDestroy(){this.subs.filter(ve=>(0,F.a4)(ve)).forEach(ve=>ve.unsubscribe())}static#e=this.\u0275fac=function(fe){return new(fe||pe)(n.rXU(L.g),n.rXU(n.gRc),n.rXU(X.fpj),n.rXU(e.Bq),n.rXU(X.STK))};static#t=this.\u0275cmp=n.VBU({type:pe,selectors:[["ds-dynamic-onebox"]],viewQuery:function(fe,Ie){if(1&fe&&n.GBs(K,5),2&fe){let Ne;n.mGM(Ne=n.lsd())&&(Ie.instance=Ne.first)}},inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[n.Vt3,n.aNF],decls:10,vars:6,consts:[["rt",""],["hasInfo",""],["noInfo",""],["instance","ngbTypeahead"],["class","position-relative right-addon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["dsAuthorityConfidenceState","","class","far fa-circle fa-2x fa-fw position-absolute mt-1 p-0","aria-hidden","true",3,"authorityValue","whenClickOnConfidenceNotAccepted",4,"ngIf"],[1,"form-control",3,"ngModelChange","blur","focus","change","input","selectItem","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","disabled","resultTemplate","type","ngModel"],["class","invalid-feedback",4,"ngIf"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0",3,"whenClickOnConfidenceNotAccepted","authorityValue"],[1,"invalid-feedback"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","tree-toggle",3,"click"],[1,"form-control",3,"focus","change","click","keydown","keypress","keyup","id","name","placeholder","readonly","disabled","type","value"]],template:function(fe,Ie){1&fe&&(n.DNE(0,Q,1,4,"ng-template",null,0,n.C5r)(2,z,5,4,"ng-template",null,1,n.C5r)(4,q,3,1,"ng-template",null,2,n.C5r)(6,Z,7,20,"div",4),n.nI1(7,"async"),n.DNE(8,le,4,16,"div",4),n.nI1(9,"async")),2&fe&&(n.R7$(6),n.Y8G("ngIf",!0!==n.bMT(7,2,Ie.isHierarchicalVocabulary())),n.R7$(2),n.Y8G("ngIf",n.bMT(9,4,Ie.isHierarchicalVocabulary())))},dependencies:[e.h_,e.$n,i.bT,i.Jj,j.K,i.T3,f.h,f.D9,$.U,i.Sq,c.YN,c.me,c.BC,c.vS],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.treeview[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:85vh!important;overflow-y:auto}.tree-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.tree-input[readonly][_ngcontent-%COMP%]{background-color:#fff}"]})}return pe})()},66642:(B,D,t)=>{"use strict";t.d(D,{K:()=>f,m:()=>e});var i=t(31635),n=t(89593),c=t(12323);const e="ONEBOX";class f extends c.C{constructor(d,y){super(d,y),this.type=e,this.autoComplete=n.DAG,this.minChars=d.minChars||3}}(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"minChars",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},90948:(B,D,t)=>{"use strict";t.d(D,{W:()=>g});var i=t(31635),n=t(89593),c=t(72683),e=t(44541),f=t(12323);class g extends f.C{constructor(y,E){super(y,E),this.type=e.T,this.submissionId=y.submissionId,this.formConfiguration=y.formConfiguration,this.mandatoryField=y.mandatoryField,this.relationFields=y.relationFields,this.scopeUUID=y.scopeUUID,this.submissionScope=y.submissionScope,this.value=y.value||[]}isEmpty(){const y=this.getGroupValue();return 1===y.length&&(0,c.kZ)(y[0][this.mandatoryField])}getGroupValue(){if((0,c.Im)(this.value)){const y=Object.create({});return y[this.mandatoryField]=null,this.relationFields.forEach(E=>{y[E]=null}),[y]}return this.value}}(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],g.prototype,"submissionId",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Array)],g.prototype,"formConfiguration",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],g.prototype,"mandatoryField",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Array)],g.prototype,"relationFields",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],g.prototype,"scopeUUID",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],g.prototype,"submissionScope",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],g.prototype,"type",void 0)},87180:(B,D,t)=>{"use strict";t.d(D,{s:()=>x});var i=t(54460),n=t(53107),c=t(2155),e=t(69685),f=t(59055),g=t(63016),d=t(66645),y=t(17178),E=t(82040),_=t(47947),b=t(5338),O=t(12007),I=t(36423),T=t(59678),R=t(72683),u=t(55885),v=(t(83418),t(89593));const S=["dropdownMenu"];function M(G,Y){1&G&&n.nrm(0,"i",13)}function L(G,Y){1&G&&n.nrm(0,"i",14)}function F(G,Y){1&G&&(n.j41(0,"button",15),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&G&&(n.R7$(),n.JRh(n.bMT(2,1,"form.no-results")))}function $(G,Y){if(1&G){const V=n.RV6();n.j41(0,"button",16),n.nI1(1,"async"),n.bIt("keydown.enter",function(){const K=n.eBV(V).$implicit,ae=n.XpG(),Q=n.sdS(1);return ae.onSelect(K),n.Njj(Q.close())})("mousedown",function(){const K=n.eBV(V).$implicit,ae=n.XpG(),Q=n.sdS(1);return ae.onSelect(K),n.Njj(Q.close())}),n.EFF(2),n.k0s()}if(2&G){const V=Y.$implicit,X=Y.index,K=n.XpG();n.AVh("active",X===K.selectedIndex),n.FS9("title",V.display),n.BMQ("id",V.display===n.bMT(1,5,K.currentValue)?"combobox_"+K.id+"_selected":null),n.R7$(2),n.SpI(" ",K.inputFormatter(V)," ")}}function j(G,Y){1&G&&(n.j41(0,"div",17)(1,"p"),n.EFF(2),n.nI1(3,"translate"),n.k0s()()),2&G&&(n.R7$(2),n.JRh(n.bMT(3,1,"form.loading")))}let x=(()=>{class G extends u.o{constructor(V,X,K,ae){super(V,K,ae),this.vocabularyService=V,this.cdr=X,this.layoutService=K,this.validationService=ae,this.bindId=!0,this.blur=new n.bkB,this.change=new n.bkB,this.focus=new n.bkB,this.loading=!1,this.inputText=null,this.selectedIndex=0,this.acceptableKeys=["Space","NumpadMultiply","NumpadAdd","NumpadSubtract","NumpadDecimal","Semicolon","Equal","Comma","Minus","Period","Quote","Backquote"],this.inputFormatter=Q=>Q.display||Q.value}ngOnInit(){this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!0),this.group.get(this.model.id).valueChanges.pipe((0,d.F)()).subscribe(V=>{this.setCurrentValue(V)})}loadOptions(V){this.loading=!0,this.vocabularyService.getVocabularyEntriesByValue(this.inputText,!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,O.ak)(),(0,y.W)(()=>(0,g.of)((0,b.g)(new I.Q,[]))),(0,E.M)(()=>this.loading=!1)).subscribe(X=>{this.optionsList=X.page,V&&this.model.value&&this.setCurrentValue(this.model.value,!0),this.updatePageInfo(X.pageInfo.elementsPerPage,X.pageInfo.currentPage,X.pageInfo.totalElements,X.pageInfo.totalPages),this.selectedIndex=0,this.cdr.detectChanges()})}openDropdown(V){this.model.readOnly||(this.group.markAsUntouched(),this.inputText=null,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!1),V.open())}navigateDropdown(V){"ArrowDown"===V.key?this.selectedIndex=Math.min(this.selectedIndex+1,this.optionsList.length-1):"ArrowUp"===V.key&&(this.selectedIndex=Math.max(this.selectedIndex-1,0)),this.scrollToSelected()}scrollToSelected(){const X=this.dropdownMenu.nativeElement.querySelectorAll(".dropdown-item")[this.selectedIndex];X&&X.scrollIntoView({block:"nearest"})}selectOnKeyDown(V,X){const K=V.key;"Enter"===K?(V.preventDefault(),V.stopPropagation(),X.isOpen()?(this.onSelect(this.optionsList[this.selectedIndex]),X.close()):X.open()):"ArrowDown"===K||"ArrowUp"===K?(V.preventDefault(),V.stopPropagation(),this.navigateDropdown(V)):"Backspace"===K?this.removeKeyFromInput():this.isAcceptableKey(K)&&this.addKeyToInput(K)}addKeyToInput(V){null===this.inputText&&(this.inputText=""),this.inputText+=V,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!1)}removeKeyFromInput(){null!==this.inputText&&(this.inputText=this.inputText.slice(0,-1),""===this.inputText&&(this.inputText=null),this.loadOptions(!1))}isAcceptableKey(V){return!(1!==V.length||!V.match(/^[a-zA-Z0-9]*$/))||this.acceptableKeys.includes(V)}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.loading=!0,this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.vocabularyService.getVocabularyEntriesByValue(this.inputText,!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,O.ak)(),(0,y.W)(()=>(0,g.of)((0,b.g)(new I.Q,[]))),(0,E.M)(()=>this.loading=!1)).subscribe(V=>{this.optionsList=this.optionsList.concat(V.page),this.updatePageInfo(V.pageInfo.elementsPerPage,V.pageInfo.currentPage,V.pageInfo.totalElements,V.pageInfo.totalPages),this.cdr.detectChanges()}))}onSelect(V){this.group.markAsDirty(),this.dispatchUpdate(V),this.setCurrentValue(V)}setCurrentValue(V,X=!1){let K;K=X?this.getInitValueFromModel().pipe((0,_.T)(ae=>ae.display)):(0,R.Im)(V)?(0,g.of)(""):(0,g.of)("string"==typeof V?V:V.display),this.currentValue=K}static#e=this.\u0275fac=function(X){return new(X||G)(n.rXU(T.g),n.rXU(n.gRc),n.rXU(v.fpj),n.rXU(v.STK))};static#t=this.\u0275cmp=n.VBU({type:G,selectors:[["ds-dynamic-scrollable-dropdown"]],viewQuery:function(X,K){if(1&X&&n.GBs(S,5,n.aKT),2&X){let ae;n.mGM(ae=n.lsd())&&(K.dropdownMenu=ae.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[n.Vt3,n.aNF],decls:19,vars:38,consts:[["sdRef","ngbDropdown"],["dropdownMenu",""],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"w-100"],["role","combobox",1,"position-relative","right-addon"],["ngbDropdownToggle","","class","position-absolute scrollable-dropdown-toggle","aria-hidden","true",4,"ngIf"],["class","dropdown-toggle position-absolute toggle-icon","aria-hidden","true",4,"ngIf"],[1,"form-control",3,"blur","click","focus","keydown","id","name","readonly","disabled","type","value"],["ngbDropdownMenu","",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["role","listbox","infiniteScroll","",1,"scrollable-menu",3,"scrolled","id","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],["class","dropdown-item disabled",4,"ngIf"],["role","option",1,"dropdown-item","collection-item","text-truncate",3,"click","mousedown","title"],["class","dropdown-item collection-item text-truncate","role","option",3,"active","title","keydown.enter","mousedown",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],["ngbDropdownToggle","","aria-hidden","true",1,"position-absolute","scrollable-dropdown-toggle"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","toggle-icon"],[1,"dropdown-item","disabled"],["role","option",1,"dropdown-item","collection-item","text-truncate",3,"keydown.enter","mousedown","title"],[1,"scrollable-dropdown-loading","text-center"]],template:function(X,K){if(1&X){const ae=n.RV6();n.j41(0,"div",2,0)(2,"div",3),n.nI1(3,"async"),n.DNE(4,M,1,0,"i",4)(5,L,1,0,"i",5),n.j41(6,"input",6),n.nI1(7,"async"),n.bIt("blur",function(J){return n.eBV(ae),n.Njj(K.onBlur(J))})("click",function(J){n.eBV(ae);const z=n.sdS(1);return J.stopPropagation(),n.Njj(K.openDropdown(z))})("focus",function(J){return n.eBV(ae),n.Njj(K.onFocus(J))})("keydown",function(J){n.eBV(ae);const z=n.sdS(1);return n.Njj(K.selectOnKeyDown(J,z))}),n.k0s()(),n.j41(8,"div",7,1)(10,"div",8),n.bIt("scrolled",function(){return n.eBV(ae),n.Njj(K.onScroll())}),n.DNE(11,F,3,3,"button",9),n.j41(12,"button",10),n.nI1(13,"translate"),n.bIt("click",function(){n.eBV(ae);const J=n.sdS(1);return K.onSelect(void 0),n.Njj(J.close())})("mousedown",function(){n.eBV(ae);const J=n.sdS(1);return K.onSelect(void 0),n.Njj(J.close())}),n.j41(14,"i"),n.EFF(15),n.nI1(16,"translate"),n.k0s()(),n.DNE(17,$,3,7,"button",11)(18,j,4,3,"div",12),n.k0s()()()}if(2&X){const ae=n.sdS(1);n.R7$(2),n.BMQ("aria-label",K.model.label)("aria-owns","combobox_"+K.id+"_listbox")("aria-expanded",ae.isOpen())("aria-activedescendant",n.bMT(3,30,K.currentValue)?"combobox_"+K.id+"_selected":null),n.R7$(2),n.Y8G("ngIf",!K.model.readOnly),n.R7$(),n.Y8G("ngIf",K.model.readOnly),n.R7$(),n.AVh("is-invalid",K.showErrorMessages)("scrollable-dropdown-input",!K.model.readOnly),n.Y8G("id",K.id)("name",K.model.name)("readonly",!0)("disabled",K.model.readOnly)("type",K.model.inputType)("value",n.bMT(7,32,K.currentValue)),n.BMQ("aria-controls","combobox_"+K.id+"_listbox")("aria-label",K.model.placeholder)("autoComplete",K.model.autoComplete),n.R7$(2),n.BMQ("aria-label",K.model.placeholder),n.R7$(2),n.Y8G("id","combobox_"+K.id+"_listbox")("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),n.BMQ("aria-label",K.model.placeholder),n.R7$(),n.Y8G("ngIf",K.optionsList&&0===K.optionsList.length),n.R7$(),n.FS9("title",n.bMT(13,34,"dropdown.clear.tooltip")),n.R7$(3),n.JRh(n.bMT(16,36,"dropdown.clear")),n.R7$(2),n.Y8G("ngForOf",K.optionsList),n.R7$(),n.Y8G("ngIf",K.loading)}},dependencies:[c.zH,c.tg,c.do,c.U0,i.bT,i.Jj,f.eO,f.DP,i.Sq,e.h,e.D9],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}.scrollable-dropdown-loading[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:#fff;height:calc(var(--bs-spacer) * 2)!important;line-height:calc(var(--bs-spacer) * 2);position:sticky;bottom:0}.scrollable-dropdown-menu[_ngcontent-%COMP%]{left:0!important;margin-bottom:var(--bs-spacer);z-index:1000}.scrollable-dropdown-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.scrollable-dropdown-input[readonly][_ngcontent-%COMP%]{background-color:#fff}.toggle-icon[_ngcontent-%COMP%]{padding:.7rem .7rem 0}"]})}return G})()},83418:(B,D,t)=>{"use strict";t.d(D,{W:()=>e,j:()=>f});var i=t(31635),n=t(89593),c=t(12323);const e="SCROLLABLE_DROPDOWN";class f extends c.C{constructor(d,y){super(d,y),this.type=e,this.autoComplete=n.DAG,this.vocabularyOptions=d.vocabularyOptions,this.maxOptions=d.maxOptions||10}}(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"maxOptions",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},12542:(B,D,t)=>{"use strict";t.d(D,{H:()=>f,v:()=>e});var i=t(31635),n=t(89593),c=t(12323);const e="TAG";class f extends c.C{constructor(d,y){super(d,y),this.type=e,this.autoComplete=n.DAG,this.minChars=d.minChars||3,this.value=d.value||[]}}(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"minChars",void 0),(0,i.Cg)([(0,n.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},99179:(B,D,t)=>{"use strict";t.d(D,{d:()=>Bt});var i=t(54460),n=t(53107),c=t(2155),e=t(69685),f=t(71217),g=t(76627),d=t(47947),y=t(37610),E=t(31866),_=t(22867),b=t(45122),O=t(99120),I=t(27752),T=t(36705),R=t(58813),u=t(96459),w=t(71526),v=t(12007),S=t(3631),M=t(82506),L=t(72683),F=t(21548),$=t(82219),j=t(24106),V=(t(58751),t(71046),t(47376),t(21124));t(88860);const K=["*"];function ae(wt,tn){}let Q=(()=>{class wt extends V.J{constructor(){super(...arguments),this.inAndOutputNames=["label","listId","item","collection","relationship","context","query","repeatable","importedObject","externalSource"],this.importedObject=new n.bkB}getComponentName(){return"DsDynamicLookupRelationExternalSourceTabComponent"}importThemedComponent(It){return t(90331)(`./${It}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,88860))}static#e=this.\u0275fac=(()=>{let It;return function(Zt){return(It||(It=n.xGo(wt)))(Zt||wt)}})();static#t=this.\u0275cmp=n.VBU({type:wt,selectors:[["ds-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},standalone:!0,features:[n.Vt3,n.aNF],ngContentSelectors:K,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function($t,Zt){1&$t&&(n.NAR(),n.DNE(0,ae,0,0,"ng-template",null,0,n.C5r),n.j41(2,"div",null,1),n.SdG(4),n.k0s())},encapsulation:2})}return wt})();var J=t(29882);t(98680),t(25297);const ee=["*"];function de(wt,tn){}let Ce=(()=>{class wt extends V.J{constructor(){super(...arguments),this.inAndOutputNames=["relationship","listId","query","hiddenQuery","repeatable","selection$","context","relationshipType","item","isLeft","toRemove","isEditRelationship","deselectObject","selectObject","resultFound"],this.deselectObject=new n.bkB,this.selectObject=new n.bkB,this.resultFound=new n.bkB}getComponentName(){return"DsDynamicLookupRelationSearchTabComponent"}importThemedComponent(It){return t(37919)(`./${It}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,25297))}static#e=this.\u0275fac=(()=>{let It;return function(Zt){return(It||(It=n.xGo(wt)))(Zt||wt)}})();static#t=this.\u0275cmp=n.VBU({type:wt,selectors:[["ds-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",hiddenQuery:"hiddenQuery",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},standalone:!0,features:[n.Vt3,n.aNF],ngContentSelectors:ee,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function($t,Zt){1&$t&&(n.NAR(),n.DNE(0,de,0,0,"ng-template",null,0,n.C5r),n.j41(2,"div",null,1),n.SdG(4),n.k0s())},encapsulation:2})}return wt})();var Z=t(5338),le=t(95438),De=t(36423),pe=t(13943),re=t(80378),ve=t(67899),fe=t(51206),Ie=t(95968);const Ne=(wt,tn)=>({repeatable:wt,listId:tn});function qe(wt,tn){1&wt&&(n.j41(0,"div"),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&wt&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"submission.sections.describe.relationship-lookup.selection-tab.no-selection")," "))}function we(wt,tn){if(1&wt){const It=n.RV6();n.j41(0,"div")(1,"h3"),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"ds-viewable-collection",4),n.nI1(5,"async"),n.nI1(6,"async"),n.bIt("deselectObject",function(Zt){n.eBV(It);const mn=n.XpG();return n.Njj(mn.deselectObject.emit(Zt))})("selectObject",function(Zt){n.eBV(It);const mn=n.XpG();return n.Njj(mn.selectObject.emit(Zt))}),n.k0s()()}if(2&wt){const It=n.XpG();n.R7$(2),n.JRh(n.bMT(3,7,"submission.sections.describe.relationship-lookup.selection-tab.title."+It.relationshipType)),n.R7$(2),n.Y8G("objects",n.bMT(5,9,It.selectionRD$))("selectable",!0)("selectionConfig",n.l_i(13,Ne,It.repeatable,It.listId))("config",n.bMT(6,11,It.currentPagination$))("hideGear",!0)("context",It.context)}}let Be=(()=>{class wt{constructor(It,$t,Zt){this.router=It,this.searchConfigService=$t,this.paginationService=Zt,this.deselectObject=new n.bkB,this.selectObject=new n.bkB,this.initialPagination=Object.assign(new ve.W,{id:"spc",pageSize:5})}ngOnInit(){this.resetRoute(),this.selectionRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,d.T)(It=>It.pagination),(0,_.n)(It=>this.selection$.pipe((0,y.s)(1),(0,d.T)($t=>{const Zt=(It.currentPage-1)*It.pageSize,Rn=$t.slice(Zt,Zt+It.pageSize>$t.length?$t.length:Zt+It.pageSize),os=new De.Q({elementsPerPage:It.pageSize,totalElements:$t.length,currentPage:It.currentPage,totalPages:Math.ceil($t.length/It.pageSize)});return(0,fe.SP)((0,Z.g)(os,Rn))})))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination)}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}static#e=this.\u0275fac=function($t){return new($t||wt)(n.rXU(Ie.Ix),n.rXU(S.g),n.rXU(le.m))};static#t=this.\u0275cmp=n.VBU({type:wt,selectors:[["ds-dynamic-lookup-relation-selection-tab"]],inputs:{relationshipType:"relationshipType",listId:"listId",repeatable:"repeatable",selection$:"selection$",selectionRD$:"selectionRD$",context:"context"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[n.Jv_([{provide:M.EN,useClass:S.g}]),n.aNF],decls:11,vars:9,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[4,"ngIf"],[3,"deselectObject","selectObject","objects","selectable","selectionConfig","config","hideGear","context"]],template:function($t,Zt){if(1&$t&&(n.j41(0,"div",0)(1,"div",1)(2,"h3"),n.EFF(3),n.nI1(4,"translate"),n.k0s(),n.nrm(5,"ds-page-size-selector"),n.k0s(),n.j41(6,"div",2),n.DNE(7,qe,3,3,"div",3),n.nI1(8,"async"),n.DNE(9,we,7,16,"div",3),n.nI1(10,"async"),n.k0s()()),2&$t){let mn,Rn;n.R7$(3),n.JRh(n.bMT(4,3,"submission.sections.describe.relationship-lookup.selection-tab.settings")),n.R7$(4),n.Y8G("ngIf",(null==(mn=n.bMT(8,5,Zt.selectionRD$))?null:mn.payload.page)<1),n.R7$(2),n.Y8G("ngIf",(null==(Rn=n.bMT(10,7,Zt.selectionRD$))?null:Rn.payload.page.length)>=1)}},dependencies:[re.b,pe.h,i.Jj,i.bT,e.h,e.D9]})}return wt})();var Ve=t(73958);const et=wt=>({size:wt}),yt=wt=>({count:wt});function it(wt,tn){1&wt&&n.nrm(0,"ds-loading")}function at(wt,tn){if(1&wt){const It=n.RV6();n.j41(0,"ds-dynamic-lookup-relation-search-tab",18),n.bIt("selectObject",function(Zt){n.eBV(It);const mn=n.XpG(2);return n.Njj(mn.select(Zt))})("deselectObject",function(Zt){n.eBV(It);const mn=n.XpG(2);return n.Njj(mn.deselect(Zt))})("resultFound",function(Zt){n.eBV(It);const mn=n.XpG(2);return n.Njj(mn.setTotalInternals(Zt.pageInfo.totalElements))}),n.k0s()}if(2&wt){const It=n.XpG(2);n.Y8G("selection$",It.selection$)("listId",It.listId)("relationship",It.relationshipOptions)("repeatable",It.repeatable)("context",It.context)("query",It.query)("hiddenQuery",It.hiddenQuery)("relationshipType",It.relationshipType)("isLeft",It.isLeft)("item",It.item)("isEditRelationship",It.isEditRelationship)("toRemove",It.toRemove)}}function Yt(wt,tn){if(1&wt){const It=n.RV6();n.j41(0,"ds-dynamic-lookup-relation-external-source-tab",19),n.bIt("importedObject",function(Zt){n.eBV(It);const mn=n.XpG(3);return n.Njj(mn.imported(Zt))}),n.k0s()}if(2&wt){const It=n.XpG().$implicit,$t=n.XpG(2);n.Y8G("label",$t.label)("listId",$t.listId)("repeatable",$t.repeatable)("item",$t.item)("collection",$t.collection)("relationship",$t.relationshipOptions)("context",$t.context)("query",$t.query)("externalSource",It)}}function nn(wt,tn){if(1&wt&&(n.j41(0,"li",12)(1,"a",13),n.EFF(2),n.nI1(3,"async"),n.nI1(4,"translate"),n.k0s(),n.DNE(5,Yt,1,9,"ng-template",14),n.k0s()),2&wt){let It;const $t=tn.$implicit,Zt=tn.index,mn=n.XpG(2);n.R7$(2),n.JRh(n.i5U(4,3,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+$t.id,n.eq3(6,yt,null==(It=n.bMT(3,1,mn.totalExternal$))?null:It[Zt])))}}function je(wt,tn){if(1&wt){const It=n.RV6();n.j41(0,"ds-dynamic-lookup-relation-selection-tab",20),n.bIt("selectObject",function(Zt){n.eBV(It);const mn=n.XpG(3);return n.Njj(mn.select(Zt))})("deselectObject",function(Zt){n.eBV(It);const mn=n.XpG(3);return n.Njj(mn.deselect(Zt))}),n.k0s()}if(2&wt){const It=n.XpG(3);n.Y8G("selection$",It.selection$)("listId",It.listId)("relationshipType",It.relationshipOptions.relationshipType)("repeatable",It.repeatable)("context",It.context)}}function Re(wt,tn){if(1&wt&&(n.j41(0,"li",12)(1,"a",13),n.EFF(2),n.nI1(3,"async"),n.nI1(4,"translate"),n.k0s(),n.DNE(5,je,1,5,"ng-template",14),n.k0s()),2&wt){let It;const $t=n.XpG(2);n.R7$(2),n.JRh(n.i5U(4,3,"submission.sections.describe.relationship-lookup.selection-tab.tab-title",n.eq3(6,yt,null==(It=n.bMT(3,1,$t.selection$))?null:It.length)))}}function ne(wt,tn){if(1&wt&&(n.qex(0),n.j41(1,"ul",11,0)(3,"li",12)(4,"a",13),n.EFF(5),n.nI1(6,"async"),n.nI1(7,"translate"),n.k0s(),n.DNE(8,at,1,12,"ng-template",14),n.k0s(),n.DNE(9,nn,6,8,"li",15),n.nI1(10,"async"),n.DNE(11,Re,6,8,"li",16),n.k0s(),n.nrm(12,"div",17),n.bVm()),2&wt){const It=n.sdS(2),$t=n.XpG();n.R7$(5),n.JRh(n.i5U(7,6,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+$t.relationshipOptions.relationshipType,n.eq3(11,yt,n.bMT(6,4,$t.totalInternal$)))),n.R7$(4),n.Y8G("ngForOf",n.bMT(10,9,$t.externalSourcesRD$)),n.R7$(2),n.Y8G("ngIf",!$t.isEditRelationship),n.R7$(),n.Y8G("ngbNavOutlet",It)}}function Ee(wt,tn){1&wt&&n.nrm(0,"span",27)}function ke(wt,tn){1&wt&&n.nrm(0,"i",28)}function dt(wt,tn){if(1&wt){const It=n.RV6();n.qex(0),n.j41(1,"button",21),n.bIt("click",function(){n.eBV(It);const Zt=n.XpG();return n.Njj(Zt.discardEv())}),n.nrm(2,"i",22),n.j41(3,"span",23),n.EFF(4),n.nI1(5,"translate"),n.k0s()(),n.j41(6,"button",24),n.bIt("click",function(){n.eBV(It);const Zt=n.XpG();return n.Njj(Zt.submitEv())}),n.DNE(7,Ee,1,0,"span",25)(8,ke,1,0,"i",26),n.j41(9,"span",23),n.EFF(10),n.nI1(11,"translate"),n.k0s()(),n.bVm()}if(2&wt){const It=n.XpG();n.R7$(),n.Y8G("disabled",0===It.toAdd.length&&0===It.toRemove.length||It.isPending),n.R7$(3),n.SpI("\xa0",n.bMT(5,6,"item.edit.metadata.discard-button"),""),n.R7$(2),n.Y8G("disabled",0===It.toAdd.length&&0===It.toRemove.length||It.isPending),n.R7$(),n.Y8G("ngIf",It.isPending),n.R7$(),n.Y8G("ngIf",!It.isPending),n.R7$(2),n.SpI("\xa0",n.bMT(11,8,"item.edit.metadata.save-button"),"")}}let Bt=(()=>{class wt{constructor(It,$t,Zt,mn,Rn,os,Mn,xs,rn,Dn){this.modal=It,this.selectableListService=$t,this.relationshipService=Zt,this.externalSourceService=mn,this.lookupRelationService=Rn,this.searchConfigService=os,this.rdbService=Mn,this.zone=xs,this.store=rn,this.router=Dn,this.selectEvent=new n.bkB,this.subMap={},this.totalInternal$=new f.t(0),this.isLeft=!1,this.isEditRelationship=!1,this.toAdd=[],this.toRemove=[],this.isPending=!1}ngOnInit(){if(this.currentItemIsLeftItem$&&this.currentItemIsLeftItem$.subscribe(It=>{this.isLeft=It,this.label=this.relationshipType.leftwardType}),this.selection$=this.selectableListService.getSelectableList(this.listId).pipe((0,d.T)(It=>(0,L.a4)(It)&&(0,L.a4)(It.selection)?It.selection:[])),this.selection$.pipe((0,y.s)(1)).subscribe(It=>It.map($t=>this.addNameVariantSubscription($t))),this.context="true"===this.relationshipOptions.nameVariants?w.o.EntitySearchModalWithNameVariants:w.o.EntitySearchModal,(0,L.hj)(this.relationshipOptions.externalSources))this.externalSourcesRD$=this.rdbService.aggregate(this.relationshipOptions.externalSources.map(It=>this.externalSourceService.findById(It,!0,!0,(0,j.s)("entityTypes")))).pipe((0,v.Hz)());else{const It=Object.assign({},new T._,{elementsPerPage:5,currentPage:1,searchParams:[new O.x("entityType",this.relationshipOptions.relationshipType)]});this.externalSourcesRD$=this.externalSourceService.searchBy("findByEntityType",It,!0,!0,(0,j.s)("entityTypes")).pipe((0,v.ak)(),(0,d.T)($t=>$t.page))}this.setTotals()}close(){this.toAdd=[],this.toRemove=[],this.modal.close(),this.closeEv()}select(...It){this.zone.runOutsideAngular(()=>{(0,g.z)([...It.map(Zt=>(this.addNameVariantSubscription(Zt),this.relationshipService.getNameVariant(this.listId,Zt.indexableObject.uuid).pipe((0,y.s)(1),(0,d.T)(mn=>({item:Zt.indexableObject,nameVariant:mn})))))]).subscribe(Zt=>Zt.forEach(mn=>{const Rn=new J.aS(this.item,mn.item,this.relationshipOptions.relationshipType,this.submissionId,mn.nameVariant);this.store.dispatch(Rn)}))})}addNameVariantSubscription(It){const $t=this.relationshipService.getNameVariant(this.listId,It.indexableObject.uuid);this.subMap[It.indexableObject.uuid]=$t.pipe((0,E.i)(1)).subscribe(Zt=>this.store.dispatch(new J._I(this.item,It.indexableObject,this.relationshipOptions.relationshipType,this.submissionId,Zt)))}deselect(...It){this.zone.runOutsideAngular(()=>It.forEach($t=>{this.subMap[$t.indexableObject.uuid].unsubscribe(),this.store.dispatch(new J.Fw(this.item,$t.indexableObject,this.relationshipOptions.relationshipType,this.submissionId))}))}imported(It){this.setTotals(),this.select(It)}setTotals(){const It=(0,g.z)([this.externalSourcesRD$,this.searchConfigService.paginatedSearchOptions]);this.totalExternal$=It.pipe((0,_.n)(([$t,Zt])=>(0,g.z)([...$t.map(mn=>this.lookupRelationService.getTotalExternalResults(mn,Zt))])))}setTotalInternals(It){this.totalInternal$.next(It)}ngOnDestroy(){this.router.navigate([],{}),Object.values(this.subMap).forEach(It=>It.unsubscribe())}closeEv(){}discardEv(){}submitEv(){}static#e=this.\u0275fac=function($t){return new($t||wt)(n.rXU(c.Lw),n.rXU($.K),n.rXU(u.RelationshipDataService),n.rXU(I.Q),n.rXU(R.c),n.rXU(S.g),n.rXU(b.o),n.rXU(n.SKi),n.rXU(Ve.il),n.rXU(Ie.Ix))};static#t=this.\u0275cmp=n.VBU({type:wt,selectors:[["ds-dynamic-lookup-relation-modal"]],outputs:{selectEvent:"selectEvent"},standalone:!0,features:[n.Jv_([{provide:M.EN,useClass:S.g}]),n.aNF],decls:21,vars:19,consts:[["nav","ngbNav"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click","disabled"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],[1,"d-flex","float-right","space-children-mr"],[1,"close-button"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["ngbNav","",1,"nav-tabs"],["ngbNavItem","","role","presentation"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","","role","presentation",4,"ngFor","ngForOf"],["ngbNavItem","","role","presentation",4,"ngIf"],[3,"ngbNavOutlet"],[1,"d-block","pt-3",3,"selectObject","deselectObject","resultFound","selection$","listId","relationship","repeatable","context","query","hiddenQuery","relationshipType","isLeft","item","isEditRelationship","toRemove"],[1,"d-block","pt-3",3,"importedObject","label","listId","repeatable","item","collection","relationship","context","query","externalSource"],[1,"d-block","pt-3",3,"selectObject","deselectObject","selection$","listId","relationshipType","repeatable","context"],[1,"btn","btn-danger","discard",3,"click","disabled"],[1,"fas","fa-times"],[1,"d-none","d-sm-inline"],[1,"btn","btn-primary","submit",3,"click","disabled"],["class","spinner-border spinner-border-sm mr-1","role","status","aria-hidden","true",4,"ngIf"],["class","fas fa-save",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","mr-1"],[1,"fas","fa-save"]],template:function($t,Zt){if(1&$t&&(n.j41(0,"div",1)(1,"h4",2),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"button",3),n.bIt("click",function(){return Zt.close()}),n.j41(5,"span",4),n.EFF(6,"\xd7"),n.k0s()()(),n.j41(7,"div",5),n.DNE(8,it,1,0,"ds-loading",6)(9,ne,13,13,"ng-container",6),n.k0s(),n.j41(10,"div",7)(11,"small"),n.EFF(12),n.nI1(13,"async"),n.nI1(14,"translate"),n.k0s(),n.j41(15,"div",8)(16,"div",9)(17,"button",10),n.bIt("click",function(){return Zt.close()}),n.EFF(18),n.nI1(19,"translate"),n.k0s()(),n.DNE(20,dt,12,10,"ng-container",6),n.k0s()()),2&$t){let mn;n.R7$(2),n.JRh(n.bMT(3,8,"submission.sections.describe.relationship-lookup.title."+Zt.relationshipOptions.relationshipType)),n.R7$(2),n.Y8G("disabled",Zt.isPending),n.R7$(4),n.Y8G("ngIf",!Zt.item||!Zt.collection),n.R7$(),n.Y8G("ngIf",Zt.item&&Zt.collection),n.R7$(3),n.JRh(n.i5U(14,12,"submission.sections.describe.relationship-lookup.selected",n.eq3(17,et,(null==(mn=n.bMT(13,10,Zt.selection$))?null:mn.length)||0))),n.R7$(5),n.Y8G("disabled",Zt.isPending),n.R7$(),n.SpI(" ",n.bMT(19,15,"submission.sections.describe.relationship-lookup.close"),""),n.R7$(2),n.Y8G("ngIf",Zt.isEditRelationship)}},dependencies:[Q,e.h,e.D9,F.v,i.bT,c.Pv,c.Um,c.X9,c.sy,c.Ri,c.m_,Ce,i.Jj,i.Sq,Be],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%]     .modal-content{width:90%;margin:5%}[_nghost-%COMP%]   .spinner-border[_ngcontent-%COMP%]{vertical-align:middle}"]})}return wt})()},88860:(B,D,t)=>{"use strict";t.r(D),t.d(D,{DsDynamicLookupRelationExternalSourceTabComponent:()=>Z});var i=t(54460),n=t(53107),c=t(69685),e=t(47947),f=t(22867),g=t(30593),d=t(27752),y=t(95438),I=(t(58751),t(71526),t(71046),t(47376),t(12007)),T=t(3631),R=t(82506),u=t(2566),w=t(72683),v=t(96606),S=t(21548),M=t(13943),L=t(82219),F=t(80378),$=t(67899),j=t(85941),x=t(63524),G=t(21124);t(80987);const V=["*"];function X(le,De){}let K=(()=>{class le extends G.J{getComponentName(){return"ExternalSourceEntryImportModalComponent"}importThemedComponent(pe){return t(14651)(`./${pe}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,80987))}static#e=this.\u0275fac=(()=>{let pe;return function(ve){return(pe||(pe=n.xGo(le)))(ve||le)}})();static#t=this.\u0275cmp=n.VBU({type:le,selectors:[["ds-external-source-entry-import-modal"]],standalone:!0,features:[n.Vt3,n.aNF],ngContentSelectors:V,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(re,ve){1&re&&(n.NAR(),n.DNE(0,X,0,0,"ng-template",null,0,n.C5r),n.j41(2,"div",null,1),n.SdG(4),n.k0s())},encapsulation:2})}return le})();var ae=t(95968),Q=t(2155);const J=(le,De)=>({repeatable:le,listId:De});function z(le,De){if(1&le){const pe=n.RV6();n.j41(0,"ds-viewable-collection",8),n.nI1(1,"async"),n.bIt("importObject",function(ve){n.eBV(pe);const fe=n.XpG(2);return n.Njj(fe.import(ve))}),n.k0s()}if(2&le){const pe=n.XpG().ngVar,re=n.XpG();n.Y8G("@fadeIn",void 0)("objects",pe)("selectionConfig",n.l_i(10,J,re.repeatable,re.listId))("config",n.bMT(1,8,re.currentPagination$))("hideGear",!0)("context",re.context)("importable",!0)("importConfig",re.importConfig)}}function q(le,De){1&le&&(n.nrm(0,"ds-loading",9),n.nI1(1,"translate")),2&le&&n.FS9("message",n.bMT(1,1,"loading.search-results"))}function ee(le,De){1&le&&(n.nrm(0,"ds-error",9),n.nI1(1,"translate")),2&le&&n.FS9("message",n.bMT(1,1,"error.search-results"))}function de(le,De){1&le&&(n.j41(0,"div",10),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&le&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"search.results.empty")," "))}function Ce(le,De){if(1&le&&(n.qex(0),n.DNE(1,z,2,13,"ds-viewable-collection",5)(2,q,2,3,"ds-loading",6)(3,ee,2,3,"ds-error",6)(4,de,3,3,"div",7),n.bVm()),2&le){const pe=De.ngVar;n.R7$(),n.Y8G("ngIf",(null==pe?null:pe.hasSucceeded)&&!(null!=pe&&pe.isLoading)&&(null==pe||null==pe.payload||null==pe.payload.page?null:pe.payload.page.length)>0),n.R7$(),n.Y8G("ngIf",!pe||(null==pe?null:pe.isLoading)),n.R7$(),n.Y8G("ngIf",(null==pe?null:pe.hasFailed)&&(!(null!=pe&&pe.errorMessage)||400!==(null==pe?null:pe.statusCode))),n.R7$(),n.Y8G("ngIf",0===(null==pe||null==pe.payload||null==pe.payload.page?null:pe.payload.page.length)||400===(null==pe?null:pe.statusCode))}}let Z=(()=>{class le{constructor(pe,re,ve,fe,Ie,Ne){this.router=pe,this.searchConfigService=re,this.externalSourceService=ve,this.modalService=fe,this.selectableListService=Ie,this.paginationService=Ne,this.importedObject=new n.bkB,this.initialPagination=Object.assign(new $.W,{id:"spc",pageSize:5}),this.subs=[]}ngOnInit(){this.externalSource.entityTypes.pipe((0,I.qD)(),(0,e.T)(pe=>pe.hasSucceeded&&pe.payload.totalElements>0?pe.payload.page[0]:null)).subscribe(pe=>{this.relatedEntityType=pe}),this.resetRoute(),this.entriesRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,f.n)(pe=>(""===pe.query&&(pe.query=this.query),this.externalSourceService.getExternalSourceEntries(this.externalSource.id,pe).pipe((0,g.Z)(void 0))))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination),this.importConfig={buttonLabel:"submission.sections.describe.relationship-lookup.external-source.import-button-title."+this.label}}import(pe){this.modalRef=this.modalService.open(K,{size:"lg",container:"ds-dynamic-lookup-relation-modal"});const re=this.modalRef.componentInstance.compRef$.pipe((0,w.Az)(),(0,e.T)(ve=>ve.instance));this.subs.push(re.subscribe(ve=>{ve.externalSourceEntry=pe,ve.item=this.item,ve.relationship=this.relationship,ve.label=this.label,ve.relatedEntityType=this.relatedEntityType})),this.subs.push(re.pipe((0,f.n)(ve=>ve.importedObject)).subscribe(ve=>{this.selectableListService.selectSingle(this.listId,ve),this.importedObject.emit(ve)}))}ngOnDestroy(){this.subs.filter(pe=>(0,w.a4)(pe)).forEach(pe=>pe.unsubscribe())}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}static#e=this.\u0275fac=function(re){return new(re||le)(n.rXU(ae.Ix),n.rXU(T.g),n.rXU(d.Q),n.rXU(Q.Bq),n.rXU(L.K),n.rXU(y.m))};static#t=this.\u0275cmp=n.VBU({type:le,selectors:[["ds-base-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},standalone:!0,features:[n.Jv_([{provide:R.EN,useClass:T.g}]),n.aNF],decls:16,vars:16,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[3,"query","inPlaceSearch","searchPlaceholder"],[4,"ngVar"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig","importObject",4,"ngIf"],[3,"message",4,"ngIf"],["id","empty-external-entry-list",4,"ngIf"],[3,"importObject","objects","selectionConfig","config","hideGear","context","importable","importConfig"],[3,"message"],["id","empty-external-entry-list"]],template:function(re,ve){if(1&re&&(n.j41(0,"div",0)(1,"div",1)(2,"h3"),n.EFF(3),n.nI1(4,"translate"),n.k0s(),n.nrm(5,"ds-page-size-selector"),n.k0s(),n.j41(6,"div",2),n.nrm(7,"ds-search-form",3),n.nI1(8,"async"),n.nI1(9,"translate"),n.j41(10,"div")(11,"h3"),n.EFF(12),n.nI1(13,"translate"),n.k0s(),n.DNE(14,Ce,5,4,"ng-container",4),n.nI1(15,"async"),n.k0s()()()),2&re){let fe;n.R7$(3),n.JRh(n.bMT(4,6,"submission.sections.describe.relationship-lookup.selection-tab.settings")),n.R7$(4),n.Y8G("query",null==(fe=n.bMT(8,8,ve.searchConfigService.paginatedSearchOptions))?null:fe.query)("inPlaceSearch",!0)("searchPlaceholder",n.bMT(9,10,"submission.sections.describe.relationship-lookup.selection-tab.search-form.placeholder")),n.R7$(5),n.JRh(n.bMT(13,12,"submission.sections.describe.relationship-lookup.selection-tab.title."+ve.externalSource.id)),n.R7$(2),n.Y8G("ngVar",n.bMT(15,14,ve.entriesRD$))}},dependencies:[j.d,F.b,M.h,x.r,i.Jj,c.h,c.D9,v.A,i.bT,S.v],data:{animation:[u.qG,u.Ws]}})}return le})()},80987:(B,D,t)=>{"use strict";t.r(D),t.d(D,{ExternalSourceEntryImportModalComponent:()=>x,ImportType:()=>j});var i=t(54460),n=t(53107),c=t(69685),e=t(22867),f=t(37610),g=t(17584),d=t(58813),y=t(71526),E=t(84562),_=t(12007),b=t(43360),O=t(79224),I=t(79599),T=t(95364),R=t(82219),u=t(67899),w=t(63496),v=t(21049),S=t(2155);const M=G=>({repeatable:!1,listId:G});function L(G,Y){if(1&G&&(n.j41(0,"div")(1,"a",17),n.EFF(2),n.k0s()()),2&G){const V=n.XpG();n.R7$(),n.FS9("href",V.uri.value,n.B4B),n.R7$(),n.JRh(V.uri.value)}}function F(G,Y){if(1&G){const V=n.RV6();n.j41(0,"ds-search-results",18),n.nI1(1,"async"),n.bIt("deselectObject",function(){n.eBV(V);const K=n.XpG();return n.Njj(K.deselectEntity())})("selectObject",function(K){n.eBV(V);const ae=n.XpG();return n.Njj(ae.selectEntity(K))}),n.k0s()}if(2&G){const V=n.XpG();n.Y8G("searchResults",n.bMT(1,9,V.localEntitiesRD$))("sortConfig",null==V.lookupRelationService.searchConfig?null:V.lookupRelationService.searchConfig.sort)("searchConfig",V.lookupRelationService.searchConfig)("selectable",!0)("disableHeader",!0)("hidePaginationDetail",!0)("selectionConfig",n.eq3(11,M,V.entityListId))("linkType",V.linkTypes.ExternalLink)("context",V.context)}}function $(G,Y){if(1&G){const V=n.RV6();n.j41(0,"div",19)(1,"h5",8),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"div",10)(5,"input",20),n.bIt("click",function(){n.eBV(V);const K=n.XpG();return n.Njj(K.selectNewAuthority())}),n.k0s(),n.j41(6,"label",21),n.EFF(7),n.nI1(8,"translate"),n.k0s()()()}if(2&G){const V=n.XpG();n.R7$(2),n.JRh(n.bMT(3,3,V.labelPrefix+"authority")),n.R7$(3),n.Y8G("checked",V.selectedImportType===V.importType.NewAuthority),n.R7$(2),n.JRh(n.bMT(8,5,V.labelPrefix+"authority.new"))}}var j=function(G){return G.None="None",G.LocalEntity="LocalEntity",G.LocalAuthority="LocalAuthority",G.NewEntity="NewEntity",G.NewAuthority="NewAuthority",G}(j||{});let x=(()=>{class G{constructor(V,X,K,ae,Q,J,z){this.modal=V,this.lookupRelationService=X,this.modalService=K,this.selectService=ae,this.itemService=Q,this.notificationsService=J,this.translateService=z,this.labelPrefix="submission.sections.describe.relationship-lookup.external-source.import-modal.",this.linkTypes=I.n,this.context=y.o.EntitySearchModalWithNameVariants,this.entityListId="external-source-import-entity",this.authorityListId="external-source-import-authority",this.importType=j,this.selectedImportType=j.None,this.importedObject=new n.bkB,this.authorityEnabled=!1}ngOnInit(){this.uri=E.O.first(this.externalSourceEntry.metadata,"dc.identifier.uri");const V=Object.assign(new u.W,{id:"external-entry-import",pageSize:5});this.searchOptions=Object.assign(new w.C({query:this.externalSourceEntry.value,pagination:V})),this.localEntitiesRD$=this.lookupRelationService.getLocalResults(this.relationship,this.searchOptions)}close(){this.modal.close()}import(){switch(this.selectedImportType){case j.LocalEntity:this.importLocalEntity();break;case j.NewEntity:this.importNewEntity();break;case j.LocalAuthority:this.importLocalAuthority();break;case j.NewAuthority:this.importNewAuthority()}this.selectedImportType=j.None,this.deselectAllLists(),this.close()}importLocalEntity(){void 0!==this.selectedEntity&&(this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.local-entity")),this.importedObject.emit(this.selectedEntity))}importNewEntity(){this.modalRef=this.modalService.open(b.m,{size:"lg"}),this.modalRef.componentInstance.entityType=this.relatedEntityType.label,this.modalRef.componentInstance.selectedEvent.pipe((0,e.n)(V=>this.itemService.importExternalSourceEntry(this.externalSourceEntry,V.collection.id).pipe((0,_.yd)(),(0,_.Bo)(),(0,f.s)(1)))).subscribe(V=>{this.lookupRelationService.removeLocalResultsCache();const X=Object.assign(new T.H,{indexableObject:V});this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.new-entity")),this.modalRef.close(),this.importedObject.emit(X)})}importLocalAuthority(){}importNewAuthority(){}deselectEntity(){this.selectedEntity=void 0,this.selectedImportType===j.LocalEntity&&(this.selectedImportType=j.None)}selectEntity(V){this.selectedEntity=V,this.selectedImportType=j.LocalEntity}selectNewEntity(){this.selectedImportType===j.NewEntity?this.selectedImportType=j.None:(this.selectedImportType=j.NewEntity,this.deselectAllLists())}deselectAuthority(){this.selectedAuthority=void 0,this.selectedImportType===j.LocalAuthority&&(this.selectedImportType=j.None)}selectAuthority(V){this.selectedAuthority=V,this.selectedImportType=j.LocalAuthority}selectNewAuthority(){this.selectedImportType===j.NewAuthority?this.selectedImportType=j.None:(this.selectedImportType=j.NewAuthority,this.deselectAllLists())}deselectAllLists(){this.selectService.deselectAll(this.entityListId),this.selectService.deselectAll(this.authorityListId)}static#e=this.\u0275fac=function(X){return new(X||G)(n.rXU(S.Lw),n.rXU(d.c),n.rXU(S.Bq),n.rXU(R.K),n.rXU(g.ItemDataService),n.rXU(O.I),n.rXU(c.c$))};static#t=this.\u0275cmp=n.VBU({type:G,selectors:[["ds-base-external-source-entry-import-modal"]],standalone:!0,features:[n.aNF],decls:40,vars:29,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","external-source-entry-information",1,"mb-3"],[4,"ngIf"],["id","external-source-entry-entities",1,"mb-3"],[1,"font-weight-bold"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context","deselectObject","selectObject",4,"ngIf"],[1,"ml-4"],["type","radio","name","new-entity","id","new-entity","value","new-entity",1,"form-check-input",3,"click","checked"],["for","new-entity",1,"form-check-label"],["id","external-source-entry-authority",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[3,"href"],[3,"deselectObject","selectObject","searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context"],["id","external-source-entry-authority"],["type","radio","name","new-authority","id","new-authority","value","new-authority",1,"form-check-input",3,"click","checked"],["for","new-authority",1,"form-check-label"]],template:function(X,K){if(1&X&&(n.j41(0,"div",0)(1,"h4",1),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"button",2),n.bIt("click",function(){return K.modal.dismiss()}),n.j41(5,"span",3),n.EFF(6,"\xd7"),n.k0s()()(),n.j41(7,"div",4)(8,"h4"),n.EFF(9),n.nI1(10,"translate"),n.k0s(),n.j41(11,"div",5)(12,"div")(13,"span"),n.EFF(14),n.k0s()(),n.DNE(15,L,3,2,"div",6),n.k0s(),n.j41(16,"h4"),n.EFF(17),n.nI1(18,"translate"),n.k0s(),n.j41(19,"div",7)(20,"h5",8),n.EFF(21),n.nI1(22,"translate"),n.k0s(),n.DNE(23,F,2,13,"ds-search-results",9),n.nI1(24,"async"),n.j41(25,"div",10)(26,"input",11),n.bIt("click",function(){return K.selectNewEntity()}),n.k0s(),n.j41(27,"label",12),n.EFF(28),n.nI1(29,"translate"),n.k0s()()(),n.DNE(30,$,9,7,"div",13),n.k0s(),n.j41(31,"div",14)(32,"div")(33,"button",15),n.bIt("click",function(){return K.close()}),n.EFF(34),n.nI1(35,"translate"),n.k0s()(),n.j41(36,"div")(37,"button",16),n.bIt("click",function(){return K.import()}),n.EFF(38),n.nI1(39,"translate"),n.k0s()()()),2&X){let ae;n.R7$(2),n.JRh(n.bMT(3,13,K.labelPrefix+K.label+".title")),n.R7$(7),n.JRh(n.bMT(10,15,K.labelPrefix+"head."+K.externalSourceEntry.externalSource)),n.R7$(5),n.JRh(K.externalSourceEntry.display),n.R7$(),n.Y8G("ngIf",K.uri),n.R7$(2),n.JRh(n.bMT(18,17,K.labelPrefix+"select")),n.R7$(4),n.JRh(n.bMT(22,19,K.labelPrefix+"entities")),n.R7$(2),n.Y8G("ngIf",(null==(ae=n.bMT(24,21,K.localEntitiesRD$))||null==ae.payload||null==ae.payload.page?null:ae.payload.page.length)>0),n.R7$(3),n.Y8G("checked",K.selectedImportType===K.importType.NewEntity),n.R7$(2),n.JRh(n.bMT(29,23,K.labelPrefix+"entities.new")),n.R7$(2),n.Y8G("ngIf",K.authorityEnabled),n.R7$(4),n.JRh(n.bMT(35,25,K.labelPrefix+"cancel")),n.R7$(3),n.Y8G("disabled",K.selectedImportType===K.importType.None),n.R7$(),n.JRh(n.bMT(39,27,K.labelPrefix+"import"))}},dependencies:[c.h,c.D9,v.N,i.bT,i.Jj],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}"]})}return G})()},611:(B,D,t)=>{"use strict";t.d(D,{SF:()=>n,dD:()=>e,zH:()=>f});var i=t(83770);const n={SET_NAME_VARIANT:(0,i.N)("dspace/name-variant/SET_NAME_VARIANT"),REMOVE_NAME_VARIANT:(0,i.N)("dspace/name-variant/REMOVE_NAME_VARIANT")};class c{constructor(d,y){this.payload={listID:d,itemID:y}}}class e extends c{constructor(d,y,E){super(d,y),this.type=n.SET_NAME_VARIANT,this.payload.nameVariant=E}}class f extends c{constructor(d,y){super(d,y),this.type=n.REMOVE_NAME_VARIANT}}},29882:(B,D,t)=>{"use strict";t.d(D,{Fw:()=>g,_I:()=>e,aS:()=>c,oE:()=>n});var i=t(83770);const n={ADD_RELATIONSHIP:(0,i.N)("dspace/relationship/ADD_RELATIONSHIP"),REMOVE_RELATIONSHIP:(0,i.N)("dspace/relationship/REMOVE_RELATIONSHIP"),UPDATE_NAME_VARIANT:(0,i.N)("dspace/relationship/UPDATE_NAME_VARIANT"),UPDATE_RELATIONSHIP:(0,i.N)("dspace/relationship/UPDATE_RELATIONSHIP")};class c{constructor(y,E,_,b,O){this.type=n.ADD_RELATIONSHIP,this.payload={item1:y,item2:E,relationshipType:_,submissionId:b,nameVariant:O}}}class e{constructor(y,E,_,b,O){this.type=n.UPDATE_NAME_VARIANT,this.payload={item1:y,item2:E,relationshipType:_,submissionId:b,nameVariant:O}}}class g{constructor(y,E,_,b){this.type=n.REMOVE_RELATIONSHIP,this.payload={item1:y,item2:E,relationshipType:_,submissionId:b}}}},25297:(B,D,t)=>{"use strict";t.r(D),t.d(D,{DsDynamicLookupRelationSearchTabComponent:()=>Q});var i=t(54460),n=t(53107),c=t(2155),e=t(69685),f=t(71217),g=t(37610),d=t(47947),y=t(82040),E=t(22867),_=t(66590),b=t(58813),O=t(96459),I=t(95438),w=(t(71526),t(47376),t(98680),t(12007)),v=t(67811),S=t(3631),M=t(82506),L=t(72683),F=t(79599),$=t(82219),j=t(67899),x=t(63226),G=t(63524);const Y=(J,z)=>({repeatable:J,listId:z});function V(J,z){1&J&&(n.j41(0,"button",10),n.nrm(1,"span",11),n.j41(2,"span",8),n.EFF(3),n.nI1(4,"translate"),n.k0s()()),2&J&&(n.R7$(3),n.JRh(n.bMT(4,1,"submission.sections.describe.relationship-lookup.search-tab.loading")))}function X(J,z){if(1&J){const q=n.RV6();n.j41(0,"div",12)(1,"button",13),n.bIt("click",function(){const de=n.eBV(q).ngVar,Ce=n.XpG(3);return n.Njj(Ce.selectPage(null==de?null:de.page))}),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"button",13),n.bIt("click",function(){const de=n.eBV(q).ngVar,Ce=n.XpG(3);return n.Njj(Ce.deselectPage(null==de?null:de.page))}),n.EFF(5),n.nI1(6,"translate"),n.k0s()()}2&J&&(n.R7$(2),n.JRh(n.bMT(3,2,"submission.sections.describe.relationship-lookup.search-tab.select-page")),n.R7$(3),n.JRh(n.bMT(6,4,"submission.sections.describe.relationship-lookup.search-tab.deselect-page")))}function K(J,z){if(1&J&&(n.j41(0,"div",3)(1,"div",4)(2,"div",5),n.DNE(3,V,5,3,"button",6),n.j41(4,"button",7)(5,"span",8),n.EFF(6),n.nI1(7,"translate"),n.k0s()(),n.DNE(8,X,7,6,"div",9),n.nI1(9,"async"),n.k0s()()()),2&J){const q=n.XpG(2);n.R7$(3),n.Y8G("ngIf",q.selectAllLoading),n.R7$(),n.Y8G("hidden",q.selectAllLoading),n.R7$(2),n.JRh(n.bMT(7,4,"submission.sections.describe.relationship-lookup.toggle-dropdown")),n.R7$(2),n.Y8G("ngVar",n.bMT(9,6,q.resultsRD$))}}function ae(J,z){if(1&J){const q=n.RV6();n.j41(0,"ds-search",1),n.bIt("resultFound",function(de){n.eBV(q);const Ce=n.XpG();return n.Njj(Ce.onResultFound(de))})("deselectObject",function(de){n.eBV(q);const Ce=n.XpG();return n.Njj(Ce.deselectObject.emit(de))})("selectObject",function(de){n.eBV(q);const Ce=n.XpG();return n.Njj(Ce.selectObject.emit(de))}),n.DNE(1,K,10,8,"div",2),n.k0s()}if(2&J){const q=n.XpG();n.Y8G("configuration",q.relationship.searchConfiguration)("context",q.context)("fixedFilterQuery",q.relationship.filter)("hiddenQuery",q.hiddenQuery)("inPlaceSearch",!0)("linkType",q.linkTypes.ExternalLink)("searchFormPlaceholder","submission.sections.describe.relationship-lookup.search-tab.search-form.placeholder")("selectable",!0)("selectionConfig",n.l_i(13,Y,q.repeatable,q.listId))("showScopeSelector",!1)("showViewModes",!1)("query",q.query),n.R7$(),n.Y8G("ngIf",q.repeatable)}}let Q=(()=>{class J{constructor(q,ee,de,Ce,Z,le){this.searchService=q,this.selectableListService=ee,this.searchConfigService=de,this.lookupRelationService=Ce,this.relationshipService=Z,this.paginationService=le,this.deselectObject=new n.bkB,this.selectObject=new n.bkB,this.resultsRD$=new f.t(null),this.initialPagination={page:1,pageSize:5},this.linkTypes=F.n,this.resultFound=new n.bkB}ngOnInit(){this.resetRoute()}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,this.initialPagination)}selectPage(q){this.selection$.pipe((0,g.s)(1)).subscribe(ee=>{const de=q.filter(Ce=>ee.findIndex(Z=>Z.equals(Ce))<0);this.selectObject.emit(...de)}),this.selectableListService.select(this.listId,q)}deselectPage(q){this.allSelected=!1,this.selection$.pipe((0,g.s)(1)).subscribe(ee=>{const de=q.filter(Ce=>ee.findIndex(Z=>Z.equals(Ce))>=0);this.deselectObject.emit(...de)}),this.selectableListService.deselect(this.listId,q)}selectAll(){this.allSelected=!0,this.selectAllLoading=!0;const q=Object.assign(new j.W,{currentPage:1,pageSize:9999}),ee=Object.assign(this.lookupRelationService.searchConfig,{pagination:q});this.searchService.search(ee).pipe((0,w.yd)(),(0,d.T)(Ce=>Ce.payload.page),(0,y.M)(()=>this.selectAllLoading=!1),(0,E.n)(Ce=>this.selection$.pipe((0,g.s)(1),(0,y.M)(Z=>{const le=Ce.filter(De=>Z.findIndex(pe=>pe.equals(De))<0);this.selectObject.emit(...le)}),(0,_.u)(Ce)))).subscribe(Ce=>{this.selectableListService.select(this.listId,Ce)})}setSelectedIds(q,ee){let de=this.relationshipType.rightwardType;this.isLeft&&(de=this.relationshipType.leftwardType),this.relationshipService.searchByItemsAndType(this.relationshipType.id,this.item.uuid,de,q).pipe((0,w.yd)(),(0,w.Bo)()).subscribe(Ce=>{let Z=Ce.page.map(le=>{let De=[];return De=this.isLeft?le._links.rightItem.href.split("/"):le._links.leftItem.href.split("/"),this.getRelatedItem(De[De.length-1],ee)});Z=Z.filter(le=>!this.getIfInRemove(le.indexableObject.uuid)),Z.length>0&&this.selectableListService.select(this.listId,Z)})}deselectAll(){this.allSelected=!1,this.selection$.pipe((0,g.s)(1)).subscribe(q=>this.deselectObject.emit(...q)),this.selectableListService.deselectAll(this.listId)}getRelatedItem(q,ee){return ee.find(de=>de.indexableObject.uuid===q)}getIfInRemove(q){return!!this.toRemove.find(ee=>ee.indexableObject.uuid===q)}ngOnDestroy(){(0,L.a4)(this.subscription)&&this.subscription.unsubscribe()}onResultFound(q){if(this.resultsRD$.next(q),this.resultFound.emit(q),this.isEditRelationship){const ee=q.page.map(de=>de.indexableObject.uuid);this.setSelectedIds(ee,q.page)}}static#e=this.\u0275fac=function(ee){return new(ee||J)(n.rXU(v.S),n.rXU($.K),n.rXU(S.g),n.rXU(b.c),n.rXU(O.RelationshipDataService),n.rXU(I.m))};static#t=this.\u0275cmp=n.VBU({type:J,selectors:[["ds-base-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship",hiddenQuery:"hiddenQuery"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},standalone:!0,features:[n.Jv_([{provide:M.EN,useClass:S.g}]),n.aNF],decls:1,vars:1,consts:[[3,"configuration","context","fixedFilterQuery","hiddenQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query","resultFound","deselectObject","selectObject",4,"ngIf"],[3,"resultFound","deselectObject","selectObject","configuration","context","fixedFilterQuery","hiddenQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query"],["additionalSearchOptions","","class","position-absolute",4,"ngIf"],["additionalSearchOptions","",1,"position-absolute"],[1,"input-group","mb-3"],["ngbDropdown","",1,"input-group","dropdown-button"],["type","button","class","btn btn-outline-secondary rounded-right",4,"ngIf"],["id","resultdropdown","type","button","ngbDropdownToggle","","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle-split",3,"hidden"],[1,"sr-only"],["ngbDropdownMenu","","aria-labelledby","resultdropdown",4,"ngVar"],["type","button",1,"btn","btn-outline-secondary","rounded-right"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["ngbDropdownMenu","","aria-labelledby","resultdropdown"],[1,"dropdown-item",3,"click"]],template:function(ee,de){1&ee&&n.DNE(0,ae,2,16,"ds-search",0),2&ee&&n.Y8G("ngIf",de.relationship.searchConfiguration&&de.context)},dependencies:[i.Jj,G.r,e.h,e.D9,c.zH,c.tg,c.do,c.U0,i.bT,x.N],styles:[".position-absolute[_ngcontent-%COMP%]{right:var(--bs-spacer)}.dropdown-button[_ngcontent-%COMP%]{z-index:3}"]})}return J})()},28022:(B,D,t)=>{"use strict";t.d(D,{j:()=>Lt});var i=t(89593),n=t(80773),c=t.n(n),e=t(92671),f=t.n(e),g=t(82884),d=t.n(g),y=t(84195),E=t(64953),_=t(12007),b=t(75988),O=t(72683),I=t(44541),T=t(31635),R=t(18447),u=t(36302),w=t(76990);const v="_CONCAT_GROUP";class L extends i.iO5{constructor(gt,Ke){super(gt,Ke),this.hasLanguages=!1,this.typeBindHidden=!1,this.isCustomGroup=!0,this.separator=gt.separator+" ",this.relationship=gt.relationship,this.repeatable=gt.repeatable,this.required=gt.required,this.hint=gt.hint,this.metadataFields=gt.metadataFields,this.submissionId=gt.submissionId,this.hasSelectableMetadata=gt.hasSelectableMetadata,this.metadataValue=gt.metadataValue,this.valueUpdates=new R.B,this.valueUpdates.subscribe(Ze=>this.value=Ze),this.typeBindRelations=gt.typeBindRelations?gt.typeBindRelations:[],this.readOnly=gt.disabled}get value(){const[gt,Ke]=this.group.map(Ze=>"string"==typeof Ze.value?Object.assign(new u.e,{value:Ze.value,display:Ze.value}):Ze.value);return(0,O.hj)(gt)&&(0,O.hj)(gt.value)&&(0,O.hj)(Ke)&&(0,O.hj)(Ke.value)?Object.assign(new u.e,gt,{value:gt.value+this.separator+Ke.value}):(0,O.hj)(gt)&&(0,O.hj)(gt.value)?Object.assign(new u.e,gt):(0,O.hj)(Ke)&&(0,O.hj)(Ke.value)?Object.assign(new u.e,Ke):null}set value(gt){let Ke;Ke="string"==typeof gt?gt:gt.value,(0,O.Tn)(Ke)&&(Ke="");const Ze=[...Ke.split(this.separator),null].map(He=>Object.assign(new u.e,gt,{display:He,value:He}));this.get(0).value=Ze[0].value?Ze[0]:void 0,this.get(1).value=Ze[1].value?Ze[1]:void 0}}(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],L.prototype,"separator",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Object)],L.prototype,"hasLanguages",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Array)],L.prototype,"typeBindRelations",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Object)],L.prototype,"typeBindHidden",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",w.j)],L.prototype,"relationship",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],L.prototype,"repeatable",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],L.prototype,"required",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],L.prototype,"hint",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Array)],L.prototype,"metadataFields",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],L.prototype,"submissionId",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],L.prototype,"hasSelectableMetadata",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",E.vD)],L.prototype,"metadataValue",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],L.prototype,"readOnly",void 0);var F=t(12542),$=t(53107),j=t(84984),x=t.n(j),G=t(95143);class Y extends i.iO5{constructor(){super(...arguments),this.isRowGroup=!0}}var V=function(zt){return zt.WorkspaceItem="SUBMISSION",zt.WorkflowItem="WORKFLOW",zt}(V||{}),X=t(69685),K=t(59531),ae=t(56848),Q=t(47817);class J{}(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"hints",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"label",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Array)],J.prototype,"languageCodes",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"mandatoryMessage",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"mandatory",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Boolean)],J.prototype,"repeatable",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Object)],J.prototype,"input",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Array)],J.prototype,"selectableMetadata",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",w.j)],J.prototype,"selectableRelationship",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Array)],J.prototype,"rows",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"scope",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"style",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Array)],J.prototype,"typeBind",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Object)],J.prototype,"value",void 0),(0,T.Cg)([Q.autoserialize,(0,T.Sn)("design:type",Object)],J.prototype,"visibility",void 0);var z=t(87349);function q(zt,gt,Ke,Ze){(0,O.kZ)(zt.layout)?(zt.layout={},zt.layout[gt]={},zt.layout[gt][Ke]=Ze):(0,O.b0)(zt.layout[gt])?(zt.layout[gt]={},zt.layout[gt][Ke]=Ze):zt.layout[gt][Ke]=(0,O.b0)(zt.layout[gt][Ke])?Ze:zt.layout[gt][Ke].concat(` ${Ze}`)}var ee=function(zt){return zt.Date="date",zt.Dropdown="dropdown",zt.RelationGroup="group",zt.List="list",zt.Lookup="lookup",zt.LookupName="lookup-name",zt.LookupRelation="lookup-relation",zt.Onebox="onebox",zt.Name="name",zt.Series="series",zt.Tag="tag",zt.Textarea="textarea",zt}(ee||{});const de=new $.nKC("submissionId"),Ce=new $.nKC("configData"),Z=new $.nKC("initFormValues"),le=new $.nKC("parserOptions"),De=new RegExp("(\\/?)(.+)\\1([gimsuy]*)","i");let pe=class{constructor(gt,Ke,Ze,He,We){this.submissionId=gt,this.configData=Ke,this.initFormValues=Ze,this.parserOptions=He,this.translate=We}parse(){if((this.getInitValueCount()>1&&!this.configData.repeatable||this.configData.repeatable)&&this.configData.input.type!==ee.List.valueOf()&&this.configData.input.type!==ee.Tag.valueOf()){let Ze,gt=0,Ke=0;Array.isArray(this.configData.selectableMetadata)&&1===this.configData.selectableMetadata.length&&(Ze=this.configData.selectableMetadata[0].metadata);let He=!0;this.configData.input.type===ee.Onebox.valueOf()&&this.configData?.selectableMetadata?.length>1&&(He=!1);const We={id:x()()+"_array",label:this.configData.label,initialCount:this.getInitArrayIndex(),notRepeatable:!this.configData.repeatable,relationshipConfig:this.configData.selectableRelationship,required:JSON.parse(this.configData.mandatory),submissionId:this.submissionId,metadataKey:Ze,metadataFields:this.getAllFieldIds(),hasSelectableMetadata:(0,O.hj)(this.configData.selectableMetadata),isDraggable:He,typeBindRelations:(0,O.hj)(this.configData.typeBind)?this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField):null,groupFactory:()=>{let Qe;if(0===gt)Qe=this.modelFactory(),gt++;else{const Ot=this.getInitValueCount(gt-1);let Dt=null;Ot>0&&(Dt=this.getInitFieldValue(gt-1,Ke++),Ke===Ot&&(Ke=0,gt++)),Qe=this.modelFactory(Dt,!1)}return q(Qe,"element","host","col"),(Qe.hasLanguages||(0,O.hj)(Qe.relationship))&&q(Qe,"grid","control","col"),[Qe]}};return new ae.m(We,{grid:{group:"form-row"}})}{const gt=this.modelFactory(this.getInitFieldValue());return gt.submissionId=this.submissionId,(gt.hasLanguages||(0,O.hj)(gt.relationship))&&q(gt,"grid","control","col"),gt}}setVocabularyOptions(gt){(0,O.hj)(this.configData.selectableMetadata)&&(0,O.hj)(this.configData.selectableMetadata[0].controlledVocabulary)&&(gt.vocabularyOptions=new K.n(this.configData.selectableMetadata[0].controlledVocabulary,this.configData.selectableMetadata[0].closed))}setValues(gt,Ke,Ze=!1,He){if((0,O.hj)(Ke)){if(He)return gt.value=this.getInitGroupValues(),void(Array.isArray(gt.value)&&gt.value.length>0&&gt.value[0].language&&(gt.language=gt.value[0].language));(0,b.z5)(Ke)?gt.value=Ke:"object"==typeof Ke?(gt.metadataValue=Ke,gt.language=Ke.language,gt.place=Ke.place,gt.value=Ze?Ke:Ke.value):Ze?gt.value=new u.e(Ke):"string"==typeof Ke&&(gt.value=Ke)}return gt}getInitValueCount(gt=0,Ke){const Ze=Ke||this.getAllFieldIds();if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(Ze)&&1===Ze.length&&this.initFormValues.hasOwnProperty(Ze[0]))return this.initFormValues[Ze[0]].length;if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(Ze)&&Ze.length>1){const He=[];return Ze.forEach(We=>{this.initFormValues.hasOwnProperty(We)&&He.push(this.initFormValues[We].length)}),He[gt]}return 0}getInitGroupValues(){const gt=this.getAllFieldIds();if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(gt)&&1===gt.length&&this.initFormValues.hasOwnProperty(gt[0]))return this.initFormValues[gt[0]]}getInitFieldValues(gt){if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(gt)&&this.initFormValues.hasOwnProperty(gt))return this.initFormValues[gt]}getInitFieldValue(gt=0,Ke=0,Ze){const He=Ze||this.getAllFieldIds();if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(He)&&1===He.length&&this.initFormValues.hasOwnProperty(He[gt])&&this.initFormValues[He[gt]].length>Ke)return this.initFormValues[He[gt]][Ke];if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(He)&&He.length>1){const We=[];return He.forEach(Ct=>{if(this.initFormValues.hasOwnProperty(Ct)){const Qe=Object.assign(new u.e,this.initFormValues[Ct][Ke]);Qe.metadata=Ct,We.push(Qe)}}),We[gt]}return null}getInitArrayIndex(){const gt=this.getAllFieldIds();if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(gt)&&1===gt.length&&this.initFormValues.hasOwnProperty(gt))return this.initFormValues[gt].length;if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(gt)&&gt.length>1){let Ke=0;return gt.forEach(Ze=>{this.initFormValues.hasOwnProperty(Ze)&&(Ke+=this.initFormValues[Ze].length)}),0===Ke?1:Ke}return 1}getFieldId(){const gt=this.getAllFieldIds();return(0,O.Pe)(gt)?gt[0]:null}getAllFieldIds(){if(Array.isArray(this.configData.selectableMetadata)){if(1===this.configData.selectableMetadata.length)return[this.configData.selectableMetadata[0].metadata];{const gt=[];return this.configData.selectableMetadata.forEach(Ke=>gt.push(Ke.metadata)),gt}}return["relation."+this.configData.selectableRelationship.relationshipType]}initModel(gt,Ke=!0,Ze=!1,He=!0,We=!0){const Ct=Object.create(null);return this.fieldId=gt||this.getFieldId(),Ct.name=this.fieldId,Ct.id=this.fieldId.replace(/\./g,"_"),Ct.readOnly=this.parserOptions.readOnly||this.isFieldReadOnly(this.configData.visibility,this.configData.scope,this.parserOptions.submissionScope),Ct.disabled=Ct.readOnly,(0,O.a4)(this.configData.selectableRelationship)&&(Ct.relationship=Object.assign(new w.j,this.configData.selectableRelationship)),Ct.repeatable=this.configData.repeatable,Ct.metadataFields=this.getAllFieldIds()||[],Ct.hasSelectableMetadata=(0,O.hj)(this.configData.selectableMetadata),Ct.submissionId=this.submissionId,this.setLabel(Ct,Ke),We&&(Ct.hint=this.configData.hints||"&nbsp;"),Ct.placeholder=this.configData.label,this.configData.mandatory&&He&&this.markAsRequired(Ct),this.hasRegex()&&this.addPatternValidator(Ct),this.configData.languageCodes&&this.configData.languageCodes.length>0&&(Ct.languageCodes=this.configData.languageCodes),(0,O.hj)(this.configData.typeBind)&&(Ct.typeBindRelations=this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField)),Ct}isFieldReadOnly(gt,Ke,Ze){return(0,O.hj)(Ze)&&(0,O.hj)(Ke)&&(0,O.hj)(gt)&&(Ze===G.L.WorkspaceItem.valueOf()&&gt.main===z.x.READONLY||gt.other===z.x.READONLY&&Ze===G.L.WorkflowItem.valueOf())}getTypeBindRelations(gt,Ke){const Ze=[];return gt.forEach(He=>{Ze.push({id:Ke,value:He})}),[{match:i.zUr,operator:i.fXj,when:Ze}]}hasRegex(){return(0,O.a4)(this.configData.input.regex)}addPatternValidator(gt){const Ke=this.configData.input.regex.match(De);let Ze;Ze=null!=Ke&&Ke.length>3?new RegExp(Ke[2],Ke[3]):new RegExp(this.configData.input.regex);const He="error.validation.pattern",We=`${He}.${gt.id}`,Ct=this.translate.instant(We)!==We;gt.validators=Object.assign({},gt.validators,{pattern:Ze}),gt.errorMessages=Object.assign({},gt.errorMessages,{pattern:Ct?We:He})}markAsRequired(gt){gt.required=!0,gt.validators=Object.assign({},gt.validators,{required:null}),gt.errorMessages=Object.assign({},gt.errorMessages,{required:this.configData.mandatoryMessage})}setLabel(gt,Ke=!0,Ze=!1){Ke&&(gt.label=Ze?"&nbsp;":this.configData.label)}setOptions(gt){(0,O.EA)(this.configData.selectableMetadata)&&this.configData.selectableMetadata.length>1&&(gt.options=[],this.configData.selectableMetadata.forEach((Ke,Ze)=>{0===Ze&&(gt.value=Ke.metadata),gt.options.push({label:Ke.label,value:Ke.metadata})}))}};pe=(0,T.Cg)([(0,T.Qj)(0,(0,$.y_5)(de)),(0,T.Qj)(1,(0,$.y_5)(Ce)),(0,T.Qj)(2,(0,$.y_5)(Z)),(0,T.Qj)(3,(0,$.y_5)(le)),(0,T.Sn)("design:paramtypes",[String,J,Object,Object,X.c$])],pe);var re=t(14518),ve=t(87266);class fe extends pe{modelFactory(gt,Ke){let Ze=!1;const He=this.initModel(null,!1,!0);if(He.legend=this.configData.label,He.disabled=He.readOnly,He.toggleIcon="fas fa-calendar",this.setValues(He,gt),(0,O.hj)(He.value)){const Ct=He.value.toString();if(Ct.length>=4){const Qe=Ct.split(re.q);if(Qe.length<4)for(let Ot=0;Ot<Qe.length;Ot++)Qe[Ot].length!==(0===Ot?4:2)&&(Ze=!0)}}const We=new ve.g(He);return We.malformedDate=Ze,We}}var Ie=t(71736);class Ne extends pe{modelFactory(gt,Ke){const Ze=this.initModel(null,Ke);return this.setValues(Ze,gt,!0),new Ie.H(Ze)}}var qe=t(83418);let we=class extends pe{constructor(gt,Ke,Ze,He,We){super(gt,Ke,Ze,He,We)}modelFactory(gt,Ke){const Ze=this.initModel(null,Ke);let He;if((0,O.hj)(this.configData.selectableMetadata[0].controlledVocabulary))return this.setVocabularyOptions(Ze),(0,O.hj)(gt)&&(Ze.value=gt),He={element:{control:"col"},grid:{host:"col"}},new qe.j(Ze,He);throw Error("Controlled Vocabulary name is not available. Please check the form configuration file.")}};we=(0,T.Cg)([(0,T.Qj)(0,(0,$.y_5)(de)),(0,T.Qj)(1,(0,$.y_5)(Ce)),(0,T.Qj)(2,(0,$.y_5)(Z)),(0,T.Qj)(3,(0,$.y_5)(le)),(0,T.Sn)("design:paramtypes",[String,J,Object,Object,X.c$])],we);var Be=t(99636),Ve=t(4768);class et extends pe{modelFactory(gt,Ke){const Ze=this.initModel(null,Ke);let He;return Ze.repeatable=this.configData.repeatable,this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&((0,O.hj)(this.getInitGroupValues())&&(Ze.value=[],this.getInitGroupValues().forEach(We=>{if(We instanceof u.e)Ze.value.push(We);else{const Ct=new u.e(We);Ze.value.push(Ct)}})),this.setVocabularyOptions(Ze)),Ze.repeatable?(Ze.group=[],He=new Be.R(Ze)):(Ze.options=[],He=new Ve.t(Ze)),He}}var yt=t(60692);class it extends pe{modelFactory(gt,Ke){if(this.configData.selectableMetadata[0].controlledVocabulary){const Ze=this.initModel(null,Ke);return this.setVocabularyOptions(Ze),this.setValues(Ze,gt,!0),new yt.P(Ze)}}}var at=t(89736);class Yt extends pe{modelFactory(gt,Ke){if(this.configData.selectableMetadata[0].controlledVocabulary){const Ze=this.initModel(null,Ke);return this.setVocabularyOptions(Ze),this.setValues(Ze,gt,!0),new at._(Ze)}}}var nn=t(12323);let je=class extends pe{constructor(gt,Ke,Ze,He,We,Ct,Qe=null,Ot=null){super(gt,Ke,Ze,He,We),this.separator=Ct,this.firstPlaceholder=Qe,this.secondPlaceholder=Ot,this.separator=Ct,this.firstPlaceholder=Qe,this.secondPlaceholder=Ot}modelFactory(gt,Ke){const Ze=this.configData.selectableMetadata[0].metadata,He={grid:{host:"col-sm-6"}},We=Ze.replace(/\./g,"_")+v,Ct=this.initModel(We,Ke,!1,!0);Ct.group=[],Ct.separator=this.separator;const Qe=this.initModel(Ze+"_CONCAT_FIRST_INPUT",!1,!0,!0,!1),Ot=this.initModel(Ze+"_CONCAT_SECOND_INPUT",!1,!0,!0,!1);Qe.hideErrorMessages=!0,Ot.hideErrorMessages=!0,(0,O.Tn)(Ct.hint)&&(0,O.a4)(Qe.hint)&&(0,O.Tn)(Ot.hint)&&(Ct.hint=Qe.hint,Qe.hint=void 0),this.configData.mandatory&&(Ct.required=!0,Qe.required=!0),Ct.disabled=Qe.readOnly,(0,O.hj)(this.firstPlaceholder)&&(Qe.placeholder=this.firstPlaceholder),(0,O.hj)(this.secondPlaceholder)&&(Ot.placeholder=this.secondPlaceholder);const Dt=this.configData.label.split("/");2===Dt.length&&(Qe.placeholder=Dt[0],Ot.placeholder=Dt[1]);const Wt=new nn.C(Qe,He),bn=new nn.C(Ot,He);Ct.group.push(Wt),Ct.group.push(bn);const ps=new L(Ct,{element:{control:"form-row"}});return ps.name=this.getFieldId(),(0,O.hj)(gt)&&(ps.value=gt),ps}};je=(0,T.Cg)([(0,T.Qj)(0,(0,$.y_5)(de)),(0,T.Qj)(1,(0,$.y_5)(Ce)),(0,T.Qj)(2,(0,$.y_5)(Z)),(0,T.Qj)(3,(0,$.y_5)(le)),(0,T.Sn)("design:paramtypes",[String,J,Object,Object,X.c$,String,String,String])],je);let Re=class extends je{constructor(gt,Ke,Ze,He,We){super(gt,Ke,Ze,He,We,",","form.last-name","form.first-name")}};Re=(0,T.Cg)([(0,T.Qj)(0,(0,$.y_5)(de)),(0,T.Qj)(1,(0,$.y_5)(Ce)),(0,T.Qj)(2,(0,$.y_5)(Z)),(0,T.Qj)(3,(0,$.y_5)(le)),(0,T.Sn)("design:paramtypes",[String,J,Object,Object,X.c$])],Re);class dt extends i.iO5{constructor(gt,Ke){super(gt,Ke),this.hasLanguages=!1,this.isCustomGroup=!0,this.readOnly=gt.readOnly,this.required=gt.required,this.language=gt.language,this.languageCodes=gt.languageCodes,this.languageUpdates=new R.B,this.languageUpdates.subscribe(Ze=>{this.language=Ze}),this.hint=gt.hint}get value(){return this.get(1).value}get qualdropId(){return this.get(0).value.toString()}get language(){return this._language}set language(gt){this._language=gt}get languageCodes(){return this._languageCodes}set languageCodes(gt){this._languageCodes=gt,(!this.language||null===this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],dt.prototype,"_language",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Array)],dt.prototype,"_languageCodes",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",R.B)],dt.prototype,"languageUpdates",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Object)],dt.prototype,"hasLanguages",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],dt.prototype,"readOnly",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],dt.prototype,"hint",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],dt.prototype,"required",void 0);var Bt=t(66642);class wt extends pe{modelFactory(gt,Ke){if(this.configData.selectableMetadata.length>1){const Ze={element:{control:"form-row",hint:"ds-form-qualdrop-hint"}},He={element:{control:"ds-form-input-addon custom-select"},grid:{host:"col-sm-4 pr-0"}},We={element:{control:"ds-form-input-value"},grid:{host:"col-sm-8 pl-0"}},Ct=this.configData.selectableMetadata[0].metadata.split(".").slice(0,this.configData.selectableMetadata[0].metadata.split(".").length-1).join("."),Qe=Object.create(null);Qe.id=Ct.replace(/\./g,"_")+"_QUALDROP_GROUP",Qe.group=[],Qe.legend=this.configData.label,Qe.hint=this.configData.hints,this.setLabel(Qe,Ke),Qe.required=(0,O.hj)(this.configData.mandatory);const Ot=this.initModel(Ct+"_QUALDROP_VALUE",Ke,!1,!1);Ot.hint=null,this.setValues(Ot,gt);const Dt=this.initModel(Ct+"_QUALDROP_METADATA",Ke,!1,!1);return Dt.hint=null,this.setOptions(Dt),(0,O.hj)(gt)&&(Dt.value=gt.metadata),Dt.disabled=Ot.readOnly,Qe.readOnly=Dt.disabled&&Ot.readOnly,Qe.group.push(new i.z4z(Dt,He)),Qe.group.push(new nn.C(Ot,We)),new dt(Qe,Ze)}if(this.configData.selectableMetadata[0].controlledVocabulary){const Ze=this.initModel(null,Ke);return this.setVocabularyOptions(Ze),this.setValues(Ze,gt,!0),new Bt.K(Ze)}{const Ze=this.initModel(null,Ke);return this.setValues(Ze,gt),new nn.C(Ze)}}}var tn=t(90948);class It extends pe{modelFactory(gt,Ke){const Ze=this.initModel(null,Ke);if(Ze.submissionId=this.submissionId,Ze.scopeUUID=this.parserOptions.collectionUUID,Ze.submissionScope=this.parserOptions.submissionScope,!(this.configData&&this.configData.rows&&this.configData.rows.length>0))throw new Error(`Configuration not valid: ${Ze.name}`);Ze.formConfiguration=this.configData.rows,Ze.relationFields=[],this.configData.rows.forEach(Ct=>{Ct.fields.forEach(Qe=>{Qe.selectableMetadata[0].metadata===this.configData.selectableMetadata[0].metadata?Ze.mandatoryField=this.configData.selectableMetadata[0].metadata:Ze.relationFields.push(Qe.selectableMetadata[0].metadata)})}),(0,O.hj)(this.getInitGroupValues())&&(Ze.value=[],this.getInitFieldValues(Ze.mandatoryField).forEach((Qe,Ot)=>{const Dt=Object.create(null);[Ze.mandatoryField].concat(Ze.relationFields).forEach(bn=>{const Pn=this.getInitFieldValue(0,Ot,[bn]);Dt[bn]=(0,O.hj)(Pn)?Pn:I.N}),Ze.value.push(Dt)}));const We=new tn.W(Ze,{element:{container:"mb-3"}});return We.name=this.getFieldId(),We}}let $t=class extends je{constructor(gt,Ke,Ze,He,We){super(gt,Ke,Ze,He,We,";")}};$t=(0,T.Cg)([(0,T.Qj)(0,(0,$.y_5)(de)),(0,T.Qj)(1,(0,$.y_5)(Ce)),(0,T.Qj)(2,(0,$.y_5)(Z)),(0,T.Qj)(3,(0,$.y_5)(le)),(0,T.Sn)("design:paramtypes",[String,J,Object,Object,X.c$])],$t);class Zt extends pe{modelFactory(gt,Ke){const Ze=this.initModel(null,Ke);return this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&this.setVocabularyOptions(Ze),this.setValues(Ze,gt,null,!0),new F.H(Ze)}}var mn=t(86722),Rn=t(59191);class os extends pe{modelFactory(gt,Ke){const Ze=this.initModel(null,Ke);return Ze.rows=10,Ze.spellCheck=mn.c.form.spellCheck,this.setValues(Ze,gt),new Rn.E(Ze,{element:{label:"col-form-label"}})}}const Mn=[de,Ce,Z,le,X.c$];class xs{static getProvider(gt){switch(gt){case ee.Date:return{provide:pe,useClass:fe,deps:[...Mn]};case ee.Dropdown:return{provide:pe,useClass:we,deps:[...Mn]};case ee.RelationGroup:return{provide:pe,useClass:It,deps:[...Mn]};case ee.List:return{provide:pe,useClass:et,deps:[...Mn]};case ee.Lookup:return{provide:pe,useClass:it,deps:[...Mn]};case ee.LookupName:return{provide:pe,useClass:Yt,deps:[...Mn]};case ee.Onebox:return{provide:pe,useClass:wt,deps:[...Mn]};case ee.Name:return{provide:pe,useClass:Re,deps:[...Mn]};case ee.Series:return{provide:pe,useClass:$t,deps:[...Mn]};case ee.Tag:return{provide:pe,useClass:Zt,deps:[...Mn]};case ee.Textarea:return{provide:pe,useClass:os,deps:[...Mn]};case void 0:return{provide:pe,useClass:Ne,deps:[...Mn]};default:return}}}let Dn=(()=>{class zt{constructor(Ke){this.parentInjector=Ke}parse(Ke,Ze,He,We,Ct,Qe,Ot){let Dt=null,Wt=null;const bn={id:x()("df-row-group-config-"),group:[]},Pn=this.filterScopedFields(Ze.fields,Ct),ps=" col-sm-"+Math.trunc(12/Pn.length),Fs={readOnly:Qe,submissionScope:Ct,collectionUUID:He,typeField:Ot};if(Pn.forEach(vt=>{const ht=(vt.style||ps)+" d-flex flex-column justify-content-start",lt=xs.getProvider(vt.input.type);if(!lt)throw new Error(`unknown form control model type "${vt.input.type}" defined for Input field with label "${vt.label}".`);if(Dt=$.zZn.create({providers:[lt,{provide:de,useValue:Ke},{provide:Ce,useValue:vt},{provide:Z,useValue:We},{provide:le,useValue:Fs}],parent:this.parentInjector}).get(pe).parse(),Dt){if(Dt.type===i.WlY||Dt.type===I.T)return void(Ze.fields.length>1?(q(Dt,"grid","host",ht),bn.group.push(Dt)):Wt=Dt);Array.isArray(Dt)?Dt.forEach(jt=>{Wt=jt}):(q(Dt,"grid","host",ht),bn.group.push(Dt)),Dt=null}}),bn&&!(0,O.Im)(bn.group)){const ht=new Y(bn,{element:{control:"form-row"}});Array.isArray(Wt)?Wt.push(ht):Wt=ht}return Wt}checksFieldScope(Ke,Ze,He){return(0,O.Im)(Ke)||!this.isHidden(He,Ke,Ze)}isHidden(Ke,Ze,He){return(0,O.hj)(Ze)&&(0,O.Im)(Ke)&&(He===G.L.WorkspaceItem.valueOf()&&Ze!==V.WorkspaceItem.valueOf()||He===G.L.WorkflowItem.valueOf()&&Ze!==V.WorkflowItem.valueOf())}filterScopedFields(Ke,Ze){const He=[];return Ke.forEach(We=>{this.checksFieldScope(We.scope,Ze,We.visibility)&&He.push(We)}),He}static#e=this.\u0275fac=function(Ze){return new(Ze||zt)($.KVO($.zZn))};static#t=this.\u0275prov=$.jDH({token:zt,factory:zt.\u0275fac,providedIn:"root"})}return zt})(),Lt=(()=>{class zt extends i.J9r{constructor(Ke,Ze,He,We){super(Ke,Ze),this.rowParser=He,this.configService=We,this.formModels=new Map,this.formGroups=new Map,(0,O.a4)(this.configService)&&this.setTypeBindFieldFromConfig()}createDynamicFormControlEvent(Ke,Ze,He,We){return{$event:{value:He.value,autoSave:!1},context:He?.parent instanceof i.fHx?He?.parent:null,control:Ke,group:Ze,model:He,type:We}}getTypeBindModel(){return this.typeBindModel}setTypeBindModel(Ke){this.typeBindModel=Ke}findById(Ke,Ze,He=null){let We=null;const Ct=(Qe,Ot,Dt)=>{for(const Wt of Ot){if(Wt.id===Qe){We=this.isArrayGroup(Wt)&&(0,O.Pe)(Dt)?Wt.get(Dt):Wt;break}if(this.isConcatGroup(Wt)&&Wt.id.match(new RegExp(Qe+v))){We=Wt;break}if(this.isGroup(Wt)&&Ct(Qe,Wt.group,Dt),this.isArrayGroup(Wt)&&((0,O.kZ)(Dt)||Wt.size>Dt)){const bn=(0,O.kZ)(Dt)?0:Dt;Ct(Qe,Wt.get(bn).group,bn)}}};return Ct(Ke,Ze,He),We}clearAllModelsValue(Ke){const Ze=He=>{for(const We of He)this.isGroup(We)?Ze(We.group):this.isArrayGroup(We)?Ze(We.groupFactory()):We.hasOwnProperty("valueChanges")&&(We.value=void 0)};Ze(Ke)}getValueFromModel(Ke){let Ze=Object.create({});const He=(Qe,Ot)=>{if(Array.isArray(Qe))return Qe.concat(Ot)},We=(Qe,Ot,Dt)=>{const Wt=Qe.hasLanguages?Qe.language:null;if(Qe?.metadataValue?.authority?.includes(E.BY))return Qe.metadataValue;if(f()(Ot))return new u.e(Ot,Wt,null,null,Dt);if((0,b.z5)(Ot))return new u.e((0,b.$T)(Ot));if(c()(Ot)){const bn=Ot.authority||Ot.id||null,Pn=Dt||Ot.place;return(0,b.z5)(Ot)?new u.e(Ot,Wt,bn,Ot,Pn):new u.e(Ot.value,Wt,bn,Ot.display,Pn,Ot.confidence)}return Ot},Ct=(Qe,Ot=0)=>{let Dt=Object.create({});for(const Wt of Qe){if(this.isRowGroup(Wt)&&!this.isCustomOrListGroup(Wt)){Dt=d()(Dt,Ct(Wt.group),He);continue}if(this.isGroup(Wt)&&!this.isCustomOrListGroup(Wt)){Dt[Wt.name]=Ct(Wt.group);continue}if(this.isRowArrayGroup(Wt)){for(const Pn of Wt.groups)Dt=d()(Dt,Ct(Pn.group,Pn.index),He);continue}if(this.isArrayGroup(Wt)){Dt[Wt.name]=[];for(const Pn of Wt.groups)Dt[Wt.name].push(Ct(Pn.group,Pn.index));continue}let bn;if(bn=this.isQualdropGroup(Wt)?Wt.qualdropId:Wt.name,this.isRelationGroup(Wt))Wt.getGroupValue().forEach((ps,ks)=>{Object.keys(ps).forEach(vt=>{const ht=We(Wt,ps[vt],ks);(0,O.hj)(ht)&&ht.hasValue()&&(Dt.hasOwnProperty(vt)?Dt[vt].push(ht):Dt[vt]=[ht])})});else if((0,O.EA)(Wt.value)&&(0,O.hj)(Wt.value)){const Pn=[];(Array.isArray(Wt.value)?Wt.value:[Wt.value]).forEach(ks=>{Pn.push(We(Wt,ks,Ot))}),Dt[bn]=bn&&Dt.hasOwnProperty(bn)&&(0,O.Pe)(Dt[bn])?Dt[bn].concat(Pn):(0,O.hj)(Pn)?Pn:null}}return Dt};return Ze=Ct(Ke),Ze}modelFromConfiguration(Ke,Ze,He,We={},Ct,Qe=!1,Ot=null,Dt=!1){let Wt=[];const bn="string"==typeof Ze?JSON.parse(Ze,i.zno):Ze;return bn.rows&&!(0,O.Im)(bn.rows)&&bn.rows.forEach(Pn=>{const ps=this.rowParser.parse(Ke,Pn,He,We,Ct,Qe,this.getTypeField());(0,O.Pe)(ps)&&(Array.isArray(ps)?Wt=Wt.concat(ps):Wt.push(ps))}),(0,O.Tn)(Ot)&&(Ot=this.findById(this.typeField,Wt)),(0,O.a4)(Ot)&&this.setTypeBindModel(Ot),Wt}isModelInCustomGroup(Ke){return this.isCustomGroup(Ke.parent)}hasArrayGroupValue(Ke){return Ke&&(this.isListGroup(Ke)||Ke.type===F.v)}hasMappedGroupValue(Ke){return this.isQualdropGroup(Ke.parent)||this.isRelationGroup(Ke.parent)}isGroup(Ke){return Ke&&(Ke.type===i.wnr||Ke.type===i.W25)}isQualdropGroup(Ke){return Ke&&Ke.type===i.wnr&&(0,O.a4)(Ke.qualdropId)}isCustomGroup(Ke){return Ke&&Ke.type===i.wnr&&!0===Ke.isCustomGroup}isConcatGroup(Ke){return this.isCustomGroup(Ke)&&-1!==Ke.id.indexOf(v)}isRowGroup(Ke){return Ke&&Ke.type===i.wnr&&!0===Ke.isRowGroup}isCustomOrListGroup(Ke){return Ke&&(this.isCustomGroup(Ke)||this.isListGroup(Ke))}isListGroup(Ke){return Ke&&(Ke.type===i.W25&&!0===Ke.isListGroup||Ke.type===i.KMD&&!0===Ke.isListGroup)}isRelationGroup(Ke){return Ke&&Ke.type===I.T}isRowArrayGroup(Ke){return Ke.type===i.WlY&&!0===Ke.isRowArray}isArrayGroup(Ke){return Ke.type===i.WlY}isInputModel(Ke){return Ke.type===i.FlA}getFormControlById(Ke,Ze,He,We=0){const Ct=this.findById(Ke,He,We);return(0,O.hj)(Ct)?Ze.get(this.getPath(Ct)):null}getFormControlByModel(Ke,Ze){return(0,O.hj)(Ze)?Ke.get(this.getPath(Ze)):null}getId(Ke){let Ze;return this.isArrayGroup(Ke)?Ke.index.toString():(Ze=this.isModelInCustomGroup(Ke)?Ke.parent:Ke,Ze.id!==Ze.name?Ze.name:Ze.id)}removeFormModel(Ke){this.formModels.has(Ke)&&this.formModels.delete(Ke)}addFormGroups(Ke,Ze){this.formGroups.set(Ke,Ze)}removeFormGroup(Ke){this.formGroups.has(Ke)&&this.formGroups.delete(Ke)}getMetadataIdsFromEvent(Ke){let Ze=Ke.model;for(;Ze.parent;)Ze=Ze.parent;const He=(Ct,Qe=0)=>{let Ot=Object.create({});for(const Dt of Ct){if(this.isRowGroup(Dt)&&!this.isCustomOrListGroup(Dt)){Ot=d()(Ot,He(Dt.group));continue}if(this.isGroup(Dt)&&!this.isCustomOrListGroup(Dt)){Ot[Dt.name]=He(Dt.group);continue}if(this.isRowArrayGroup(Dt)){for(const bn of Dt.groups)Ot=d()(Ot,He(bn.group,bn.index));continue}if(this.isArrayGroup(Dt)){Ot[Dt.name]=[];for(const bn of Dt.groups)Ot[Dt.name].push(He(bn.group,bn.index));continue}let Wt;Wt=this.isQualdropGroup(Dt)?Dt.qualdropId:Dt.name,this.isRelationGroup(Dt)?Dt.getGroupValue().forEach((Pn,ps)=>{Object.keys(Pn).forEach(ks=>{Ot[ks]=!0})}):Ot[Wt]=!0}return Ot},We=He([Ze]);return Object.keys(We)}setTypeBindFieldFromConfig(){this.configService.findByPropertyName("submit.type-bind.field").pipe((0,_.qD)()).subscribe(Ke=>{if(!Ke.hasSucceeded)return void(this.typeField="dc_type");const Ze=Ke.payload.values[0];this.typeField=(0,O.Im)(Ze)?"dc_type":Ze.replace(/\./g,"_")})}getTypeField(){return(0,O.a4)(this.configService)&&(0,O.Tn)(this.typeField)?this.setTypeBindFieldFromConfig():(0,O.Tn)(this.typeField)&&(this.typeField="dc_type"),this.typeField}static#e=this.\u0275fac=function(Ze){return new(Ze||zt)($.KVO(i.cYz),$.KVO(i.STK),$.KVO(Dn),$.KVO(y.ConfigurationDataService,8))};static#t=this.\u0275prov=$.jDH({token:zt,factory:zt.\u0275fac,providedIn:"root"})}return zt})()},36302:(B,D,t)=>{"use strict";t.d(D,{e:()=>f});var i=t(977),n=t(64953),c=t(72683),e=t(44541);class f{static#e=this.AUTHORITY_SPLIT="::";static#t=this.AUTHORITY_GENERATE="will be generated"+f.AUTHORITY_SPLIT;constructor(d=null,y=null,E=null,_=null,b=0,O=null,I=null,T=null){this.value=(0,c.Pe)(d)?"string"==typeof d?d.trim():d:null,this.language=y,this.authority=E,this.display=_||d,this.confidence=O,this.confidence=null==E||!(0,c.Im)(O)&&-1!==O?(0,c.hj)(O)?O:i.l.CF_UNSET:i.l.CF_ACCEPTED,this.place=b,(0,c.hj)(T)&&(this.metadata=T),this.otherInformation=I}hasAuthority(){return(0,c.hj)(this.authority)}hasAuthorityToGenerate(){return(0,c.hj)(this.authority)&&this.authority.startsWith(f.AUTHORITY_GENERATE)}hasValue(){return(0,c.hj)(this.value)}hasOtherInformation(){return(0,c.hj)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===e.N}get isVirtual(){return(0,c.a4)(this.authority)&&this.authority.startsWith(n.BY)}get virtualValue(){if(this.isVirtual)return this.authority.substring(this.authority.indexOf(n.BY)+n.BY.length)}toString(){return this.display||this.value}}},76990:(B,D,t)=>{"use strict";t.d(D,{j:()=>n});class n{get metadataField(){return"relation."+this.relationshipType}}},14143:(B,D,t)=>{"use strict";t.d(D,{K:()=>O});var i=t(53107),n=t(83649),c=t.n(n),e=t(86722),f=t(977),g=t(64953),d=t(20857),y=t(35873),E=t(72683),_=t(36302),b=t(69685);let O=(()=>{class I{onClick(){(0,E.hj)(this.authorityValue)&&this.getConfidenceByValue(this.authorityValue)!==f.l.CF_ACCEPTED&&this.whenClickOnConfidenceNotAccepted.emit(this.getConfidenceByValue(this.authorityValue))}constructor(R,u,w){this.elem=R,this.renderer=u,this.translate=w,this.visibleWhenAuthorityEmpty=!0,this.iconMode=!1,this.previousClass=null,this.whenClickOnConfidenceNotAccepted=new i.bkB}ngOnChanges(R){R.authorityValue.firstChange||(this.previousClass=this.getClassByConfidence(this.getConfidenceByValue(R.authorityValue.previousValue))),this.newClass=this.getClassByConfidence(this.getConfidenceByValue(R.authorityValue.currentValue));const u=this.getNameByConfidence(this.getConfidenceByValue(R.authorityValue.currentValue));(0,E.kZ)(this.previousClass)?(this.renderer.addClass(this.elem.nativeElement,this.newClass),this.iconMode&&this.renderer.setAttribute(this.elem.nativeElement,"title",this.translate.instant(`confidence.indicator.help-text.${u}`))):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass),this.iconMode&&this.renderer.setAttribute(this.elem.nativeElement,"title",this.translate.instant(`confidence.indicator.help-text.${u}`)))}ngAfterViewInit(){(0,E.kZ)(this.previousClass)?this.renderer.addClass(this.elem.nativeElement,this.newClass):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass))}getConfidenceByValue(R){let u=f.l.CF_UNSET;return(0,E.hj)(R)&&(R instanceof d.b||R instanceof y.M)&&R.hasAuthority()&&(u=f.l.CF_ACCEPTED),(0,E.hj)(R)&&R instanceof _.e&&(u=R.confidence),(0,E.hj)(R)&&R instanceof g.vD&&(u=R.confidence),(0,E.hj)(R)&&Object.values(f.l).includes(R)&&(u=R),u}getClassByConfidence(R){if(!this.visibleWhenAuthorityEmpty&&R===f.l.CF_UNSET)return"d-none";const u=e.c.submission.icons.authority.confidence,w=c()(u,{value:R}),v=c()(u,{value:"default"});return this.iconMode?-1!==w?u[w].icon:-1!==v?u[v].icon:"":-1!==w?u[w].style:-1!==v?u[v].style:""}getNameByConfidence(R){const u=f.l[R];return(0,E.hj)(u)?u.replace("CF_","").toLowerCase():"unknown"}static#e=this.\u0275fac=function(u){return new(u||I)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(b.c$))};static#t=this.\u0275dir=i.FsC({type:I,selectors:[["","dsAuthorityConfidenceState",""]],hostBindings:function(u,w){1&u&&i.bIt("click",function(){return w.onClick()})},inputs:{authorityValue:"authorityValue",visibleWhenAuthorityEmpty:"visibleWhenAuthorityEmpty",iconMode:"iconMode"},outputs:{whenClickOnConfidenceNotAccepted:"whenClickOnConfidenceNotAccepted"},standalone:!0,features:[i.OA$]})}return I})()},75232:(B,D,t)=>{"use strict";t.d(D,{AI:()=>n,Dn:()=>g,Dp:()=>_,PW:()=>d,SD:()=>f,Tr:()=>E,V2:()=>e,bS:()=>c,yo:()=>y});var i=t(83770);const n={FORM_INIT:(0,i.N)("dspace/form/FORM_INIT"),FORM_CHANGE:(0,i.N)("dspace/form/FORM_CHANGE"),FORM_ADD_TOUCHED:(0,i.N)("dspace/form/FORM_ADD_TOUCHED"),FORM_REMOVE:(0,i.N)("dspace/form/FORM_REMOVE"),FORM_STATUS_CHANGE:(0,i.N)("dspace/form/FORM_STATUS_CHANGE"),FORM_ADD_ERROR:(0,i.N)("dspace/form/FORM_ADD_ERROR"),FORM_REMOVE_ERROR:(0,i.N)("dspace/form/FORM_REMOVE_ERROR"),FORM_CLEAR_ERRORS:(0,i.N)("dspace/form/FORM_CLEAR_ERRORS")};class c{constructor(O,I,T){this.type=n.FORM_INIT,this.payload={formId:O,formData:I,valid:T}}}class e{constructor(O,I){this.type=n.FORM_CHANGE,this.payload={formId:O,formData:I}}}class f{constructor(O,I){this.type=n.FORM_ADD_TOUCHED,this.payload={formId:O,touched:I}}}class g{constructor(O){this.type=n.FORM_REMOVE,this.payload={formId:O}}}class d{constructor(O,I){this.type=n.FORM_STATUS_CHANGE,this.payload={formId:O,valid:I}}}class y{constructor(O,I,T,R){this.type=n.FORM_ADD_ERROR,this.payload={formId:O,fieldId:I,fieldIndex:T,errorMessage:R}}}class E{constructor(O,I,T){this.type=n.FORM_REMOVE_ERROR,this.payload={formId:O,fieldId:I,fieldIndex:T}}}class _{constructor(O){this.type=n.FORM_CLEAR_ERRORS,this.payload={formId:O}}}},36590:(B,D,t)=>{"use strict";t.d(D,{s:()=>Y});var i=t(54460),n=t(53107),c=t(10936),e=t(89593),f=t(69685),g=t(83649),d=t.n(g),y=t(41483),E=t(47947),_=t(66645),b=t(72683),O=t(47405);function I(V,X){if(1&V){const K=n.RV6();n.j41(0,"ds-dynamic-form-control-container",1),n.bIt("dfBlur",function(Q){n.eBV(K);const J=n.XpG();return n.Njj(J.onCustomEvent(Q,J.blur))})("dfChange",function(Q){n.eBV(K);const J=n.XpG();return n.Njj(J.onCustomEvent(Q,J.change))})("dfFocus",function(Q){n.eBV(K);const J=n.XpG();return n.Njj(J.onCustomEvent(Q,J.focus))})("ngbEvent",function(Q){n.eBV(K);const J=n.XpG();return n.Njj(J.onCustomEvent(Q,J.ngbEvent))}),n.k0s()}if(2&V){const K=X.$implicit,ae=n.XpG();n.AVh("d-none",K.hidden),n.Y8G("formId",ae.formId)("group",ae.formGroup)("hasErrorMessaging",K.hasErrorMessages)("hidden",K.hidden)("layout",ae.formLayout)("model",K)("templates",ae.templates)("asBootstrapFormGroup",!0)}}let T=(()=>{class V extends e.f4U{constructor(K,ae){super(K,ae),this.blur=new n.bkB,this.change=new n.bkB,this.focus=new n.bkB,this.ngbEvent=new n.bkB}static#e=this.\u0275fac=function(ae){return new(ae||V)(n.rXU(n.gRc),n.rXU(e.cYz))};static#t=this.\u0275cmp=n.VBU({type:V,selectors:[["ds-dynamic-form"]],contentQueries:function(ae,Q,J){if(1&ae&&n.wni(J,e.vJF,4),2&ae){let z;n.mGM(z=n.lsd())&&(Q.templates=z)}},viewQuery:function(ae,Q){if(1&ae&&n.GBs(O._,5),2&ae){let J;n.mGM(J=n.lsd())&&(Q.components=J)}},inputs:{formId:"formId",formGroup:"formGroup",formModel:"formModel",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",ngbEvent:"ngbEvent"},standalone:!0,features:[n.Vt3,n.aNF],decls:1,vars:2,consts:[[3,"formId","group","hasErrorMessaging","hidden","d-none","layout","model","templates","asBootstrapFormGroup","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf","ngForTrackBy"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","formId","group","hasErrorMessaging","hidden","layout","model","templates","asBootstrapFormGroup"]],template:function(ae,Q){1&ae&&n.DNE(0,I,1,10,"ds-dynamic-form-control-container",0),2&ae&&n.Y8G("ngForOf",Q.formModel)("ngForTrackBy",Q.trackByFn)},dependencies:()=>[O._,i.Sq],encapsulation:2})}return V})();var R=t(28022),u=t(50120);const w=[[["","additional",""]],"*",[["","before",""]],[["","between",""]],[["","after",""]]],v=["[additional]","*","[before]","[between]","[after]"];function S(V,X){if(1&V){const K=n.RV6();n.j41(0,"div",7)(1,"button",8),n.nI1(2,"translate"),n.nI1(3,"translate"),n.bIt("click",function(Q){n.eBV(K);const J=n.XpG(),z=J.index,q=J.context,ee=n.XpG();return n.Njj(ee.removeItem(Q,q,z))}),n.j41(4,"span"),n.nrm(5,"i",9),n.k0s()()()}2&V&&(n.R7$(),n.FS9("title",n.bMT(2,2,"form.remove")),n.BMQ("aria-label",n.bMT(3,4,"form.remove")))}function M(V,X){if(1&V){const K=n.RV6();n.j41(0,"div",10)(1,"div",11)(2,"button",12),n.nI1(3,"translate"),n.nI1(4,"translate"),n.bIt("click",function(Q){n.eBV(K);const J=n.XpG().$implicit,z=n.XpG();return n.Njj(z.insertItem(Q,J.context,J.context.groups.length))}),n.j41(5,"span"),n.nrm(6,"i",13),n.EFF(7),n.nI1(8,"translate"),n.k0s()()()()}2&V&&(n.R7$(2),n.FS9("title",n.bMT(3,3,"form.add")),n.BMQ("aria-label",n.bMT(4,5,"form.add")),n.R7$(5),n.SpI(" ",n.bMT(8,7,"form.add"),""))}function L(V,X){if(1&V){const K=n.RV6();n.j41(0,"div",7)(1,"div",14)(2,"button",15),n.nI1(3,"translate"),n.nI1(4,"translate"),n.bIt("click",function(Q){n.eBV(K);const J=n.XpG(),z=J.index,q=J.context,ee=n.XpG();return n.Njj(ee.removeItem(Q,q,z))}),n.j41(5,"span"),n.EFF(6),n.nI1(7,"translate"),n.k0s()()()()}if(2&V){const K=n.XpG(),ae=K.$implicit,Q=K.index,J=K.context,z=n.XpG();n.R7$(2),n.FS9("title",n.bMT(3,4,"form.discard")),n.Y8G("disabled",1===ae.context.groups.length||z.isItemReadOnly(J,Q)),n.BMQ("aria-label",n.bMT(4,6,"form.discard")),n.R7$(4),n.JRh(n.bMT(7,8,"form.discard"))}}function F(V,X){if(1&V&&n.DNE(0,S,6,6,"div",5)(1,M,9,9,"div",6)(2,L,8,10,"div",5),2&V){const K=X.$implicit,ae=X.index,Q=X.context,J=n.XpG();n.Y8G("ngIf",!Q.notRepeatable&&!J.isVirtual(Q,ae)&&1!==K.context.groups.length&&!J.isItemReadOnly(Q,ae)),n.R7$(),n.Y8G("ngIf",!Q.notRepeatable&&ae===K.context.groups.length-1&&!J.isItemReadOnly(Q,ae)),n.R7$(),n.Y8G("ngIf",Q.notRepeatable&&Q.showButtons&&K.context.groups.length>1)}}function $(V,X){1&V&&n.SdG(0,1,["*ngIf","!displaySubmit && !displayCancel"])}function j(V,X){if(1&V){const K=n.RV6();n.j41(0,"button",20),n.bIt("click",function(){n.eBV(K);const Q=n.XpG(2);return n.Njj(Q.reset())}),n.nrm(1,"i",21),n.EFF(2),n.nI1(3,"translate"),n.k0s()}if(2&V){const K=n.XpG(2);n.R7$(2),n.SpI(" ",n.bMT(3,1,K.cancelLabel)," ")}}function x(V,X){if(1&V){const K=n.RV6();n.j41(0,"button",22),n.nI1(1,"async"),n.bIt("click",function(){n.eBV(K);const Q=n.XpG(2);return n.Njj(Q.onSubmit())}),n.nrm(2,"i",23),n.EFF(3),n.nI1(4,"translate"),n.k0s()}if(2&V){const K=n.XpG(2);n.Y8G("disabled",!0!==n.bMT(1,2,K.isValid())),n.R7$(3),n.SpI(" ",n.bMT(4,4,K.submitLabel)," ")}}function G(V,X){if(1&V&&(n.j41(0,"div"),n.nrm(1,"hr"),n.j41(2,"div",16)(3,"div",17),n.SdG(4,2),n.DNE(5,j,4,3,"button",18),n.SdG(6,3),n.DNE(7,x,5,6,"button",19),n.SdG(8,4),n.k0s()()()),2&V){const K=n.XpG();n.R7$(5),n.Y8G("ngIf",K.displayCancel),n.R7$(2),n.Y8G("ngIf",K.displaySubmit)}}let Y=(()=>{class V{constructor(K,ae,Q){this.formService=K,this.changeDetectorRef=ae,this.formBuilderService=Q,this.formErrors=[],this.displaySubmit=!0,this.displayCancel=!0,this.emitChange=!0,this.submitLabel="form.submit",this.cancelLabel="form.cancel",this.formLayout=null,this.blur=new n.bkB,this.change=new n.bkB,this.focus=new n.bkB,this.customEvent=new n.bkB,this.addArrayItem=new n.bkB,this.removeArrayItem=new n.bkB,this.cancel=new n.bkB,this.submitForm=new n.bkB,this.subs=[]}getFormGroup(){return this.parentFormModel?this.formGroup.parent:this.formGroup}getFormGroupValue(){return this.getFormGroup().value}getFormGroupValidStatus(){return this.getFormGroup().valid}ngOnInit(){this.formGroup?this.formModel.forEach(K=>{this.parentFormModel&&this.formBuilderService.addFormGroupControl(this.formGroup,this.parentFormModel,K)}):this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.formService.initForm(this.formId,this.formModel,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus(),this.subs.push(this.formGroup.statusChanges.pipe((0,y.p)(()=>this.formValid!==this.getFormGroupValidStatus())).subscribe(()=>{this.formService.setStatusChanged(this.formId,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus()})),this.subs.push(this.formService.getForm(this.formId).pipe((0,y.p)(K=>!!K&&((0,b.hj)(K.errors)||(0,b.hj)(this.formErrors))),(0,E.T)(K=>K.errors),(0,_.F)()).subscribe(K=>{const{formGroup:ae,formModel:Q}=this;K.filter(J=>-1===d()(this.formErrors,{fieldId:J.fieldId,fieldIndex:J.fieldIndex})).forEach(J=>{const{fieldId:z}=J,{fieldIndex:q}=J;let ee;if(ee=this.formBuilderService.getFormControlById(z,this.parentFormModel?ae.parent:ae,Q,q),ee){const de=this.formBuilderService.findById(z,Q);this.formService.addErrorToField(ee,de,J.message),this.changeDetectorRef.detectChanges()}}),this.formErrors.filter(J=>-1===d()(K,{fieldId:J.fieldId,fieldIndex:J.fieldIndex})).forEach(J=>{const{fieldId:z}=J,{fieldIndex:q}=J;let ee;if(ee=this.formBuilderService.getFormControlById(z,this.parentFormModel?ae.parent:ae,Q,q),ee){const de=this.formBuilderService.findById(z,Q);this.formService.removeErrorFromField(ee,de,J.message)}}),this.formErrors=K,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(K=>(0,b.a4)(K)).forEach(K=>K.unsubscribe()),this.formService.removeForm(this.formId)}isValid(){return this.formService.isValid(this.formId)}keepSync(){this.subs.push(this.formService.getFormData(this.formId).subscribe(K=>{!Object.is(K,this.formGroup.value)&&this.formGroup&&this.formGroup.setValue(K)}))}onBlur(K){this.blur.emit(K);const ae=K.control,Q=K.context&&K.context.index?K.context.index:0;ae.valid?this.formService.removeError(this.formId,K.model.name,Q):this.formService.addControlErrors(ae,this.formId,K.model.name,Q)}onCustomEvent(K){this.customEvent.emit(K)}onFocus(K){this.formService.setTouched(this.formId,this.formModel,K),this.focus.emit(K)}onChange(K){this.formService.changeForm(this.formId,this.formModel),this.formGroup.markAsPristine(),this.emitChange&&this.change.emit(K),K.control.valid&&this.formService.removeError(this.formId,K.model.id,K.context&&K.context.index?K.context.index:0)}onSubmit(){this.getFormGroupValidStatus()?this.submitForm.emit(this.formService.getFormData(this.formId)):this.formService.validateAllFormFields(this.formGroup)}reset(){this.formGroup.reset(),this.cancel.emit()}isItemReadOnly(K,ae){return K.groups[ae].group[0].readOnly}removeItem(K,ae,Q){const J=this.formGroup.get(this.formBuilderService.getPath(ae)),z=this.getEvent(K,ae,Q,"remove");this.formBuilderService.isQualdropGroup(z.model)&&this.removeArrayItem.emit(z),this.formBuilderService.removeFormArrayGroup(Q,J,ae),this.formService.changeForm(this.formId,this.formModel),this.formBuilderService.isQualdropGroup(z.model)||this.removeArrayItem.emit(z)}insertItem(K,ae,Q){const J=this.formGroup.get(this.formBuilderService.getPath(ae));this.formBuilderService.insertFormArrayGroup(Q,J,ae),this.addArrayItem.emit(this.getEvent(K,ae,Q,"add")),this.formService.changeForm(this.formId,this.formModel)}isVirtual(K,ae){const J=K.groups[ae].group[0].metadataValue;return(0,b.hj)(J)&&J.isVirtual}getEvent(K,ae,Q,J){const z=ae.groups[Q],q=z.context;let ee=this.formGroup.get(q.id);if((0,b.kZ)(ee))for(const Z of Object.keys(this.formGroup.controls))if(ee=this.formGroup.controls[Z].get(q.id),(0,b.Pe)(ee))break;return{$event:K,context:z,control:ee.controls[Q],group:ee,model:z.group[0],type:J}}static#e=this.\u0275fac=function(ae){return new(ae||V)(n.rXU(u.u),n.rXU(n.gRc),n.rXU(R.j))};static#t=this.\u0275cmp=n.VBU({type:V,selectors:[["ds-form"]],inputs:{displaySubmit:"displaySubmit",displayCancel:"displayCancel",emitChange:"emitChange",formId:"formId",submitLabel:"submitLabel",cancelLabel:"cancelLabel",formModel:"formModel",parentFormModel:"parentFormModel",formGroup:"formGroup",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent",addArrayItem:"addArrayItem",removeArrayItem:"removeArrayItem",cancel:"cancel",submitForm:"submitForm"},exportAs:["formComponent"],standalone:!0,features:[n.aNF],ngContentSelectors:v,decls:7,vars:7,consts:[[1,"container-fluid"],[1,"form-horizontal",3,"formGroup"],[3,"change","dfBlur","dfChange","dfFocus","ngbEvent","formId","formGroup","formModel","formLayout"],["modelType","ARRAY"],[4,"ngIf"],["class","col-xs-2 d-flex flex-column justify-content-sm-start align-items-end",4,"ngIf"],["class","clearfix pl-4 w-100",4,"ngIf"],[1,"col-xs-2","d-flex","flex-column","justify-content-sm-start","align-items-end"],["type","button","role","button",1,"btn","btn-secondary",3,"click","title"],["aria-hidden","true",1,"fas","fa-trash"],[1,"clearfix","pl-4","w-100"],["role","group",1,"btn-group"],["type","button","role","button",1,"ds-form-add-more","btn","btn-link",3,"click","title"],[1,"fas","fa-plus"],["role","button",1,"btn-group"],["type","button",1,"btn","btn-secondary",3,"click","title","disabled"],[1,"form-group","row"],[1,"col","text-right","space-children-mr"],["type","reset","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","reset",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-times"],["type","submit",1,"btn","btn-primary",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-save"]],template:function(ae,Q){1&ae&&(n.NAR(w),n.j41(0,"div",0)(1,"form",1)(2,"ds-dynamic-form",2),n.bIt("change",function(z){return z.stopPropagation()})("dfBlur",function(z){return Q.onBlur(z)})("dfChange",function(z){return Q.onChange(z)})("dfFocus",function(z){return Q.onFocus(z)})("ngbEvent",function(z){return Q.onCustomEvent(z)}),n.DNE(3,F,3,3,"ng-template",3),n.k0s(),n.SdG(4),n.DNE(5,$,1,0,"ng-content",4)(6,G,9,2,"div",4),n.k0s()()),2&ae&&(n.R7$(),n.Y8G("formGroup",Q.formGroup),n.R7$(),n.Y8G("formId",Q.formId)("formGroup",Q.formGroup)("formModel",Q.formModel)("formLayout",Q.formLayout),n.R7$(3),n.Y8G("ngIf",!Q.displaySubmit&&!Q.displayCancel),n.R7$(),n.Y8G("ngIf",Q.displaySubmit||Q.displayCancel))},dependencies:[T,c.X1,c.qT,c.cb,c.j4,f.h,f.D9,e.EET,e.vJF,i.bT,i.Jj],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}"]})}return V})()},50120:(B,D,t)=>{"use strict";t.d(D,{u:()=>u});var i=t(10936),n=t(89593),c=t(73958),e=t(84984),f=t.n(e),g=t(41483),d=t(47947),y=t(66645),E=t(86722),_=t(72683),b=t(28022),O=t(75232);const I=w=>w.forms;function T(w){return(0,c.Mz)(I,v=>v[w])}var R=t(53107);let u=(()=>{class w{constructor(S,M){this.formBuilderService=S,this.store=M}isValid(S){return this.store.pipe((0,c.Lt)(T(S)),(0,g.p)(M=>(0,_.EA)(M)),(0,d.T)(M=>M.valid),(0,y.F)())}getFormData(S){return this.store.pipe((0,c.Lt)(T(S)),(0,g.p)(M=>(0,_.EA)(M)),(0,d.T)(M=>M.data),(0,y.F)())}getFormTouchedState(S){return this.store.pipe((0,c.Lt)(T(S)),(0,g.p)(M=>(0,_.EA)(M)),(0,d.T)(M=>M.touched),(0,y.F)())}getFormErrors(S){return this.store.pipe((0,c.Lt)(T(S)),(0,g.p)(M=>(0,_.EA)(M)),(0,d.T)(M=>M.errors),(0,y.F)())}isFormInitialized(S){return this.store.pipe((0,c.Lt)(T(S)),(0,y.F)(),(0,d.T)(M=>(0,_.EA)(M)))}getUniqueId(S){return f()()+"_"+S}validateAllFormFields(S){Object.keys(S.controls).forEach(M=>{const L=S.get(M);L instanceof i.hs?(L.markAsTouched({onlySelf:!0}),L.markAsDirty({onlySelf:!0})):(L instanceof i.J3||L instanceof i.Bm)&&this.validateAllFormFields(L)})}hasValidationErrors(S){let M=!1;const L=Object.keys(S.controls);for(const F of L){const $=S.get(F);if($ instanceof i.hs?M=!$.valid&&$.touched:($ instanceof i.J3||$ instanceof i.Bm)&&(M=this.hasValidationErrors($)),M)break}return M}addControlErrors(S,M,L,F){Object.keys(S.errors).filter(j=>!0===S.errors[j]).map(j=>`error.validation.${j}`).forEach(j=>this.addError(M,L,F,j))}addErrorToField(S,M,L){const F={},$=this.getValidatorNameFromMap(L);let j=L;M.errorMessages||(M.errorMessages={}),(0,_.Im)(M.errorMessages[$])?M.errorMessages[$]=L:j=M.errorMessages[$],S.hasError($)||(F[$]=!0,S.setErrors(F)),S instanceof i.J3&&M instanceof n.iO5&&this.formBuilderService.isConcatGroup(M)&&M.group.forEach(x=>{this.addErrorToField(S.controls[x.id],x,L)}),S.markAsTouched()}removeErrorFromField(S,M,L){const F={},$=this.getValidatorNameFromMap(L);S.hasError($)&&(F[$]=null,S.setErrors(F)),S instanceof i.J3&&M instanceof n.iO5&&this.formBuilderService.isConcatGroup(M)&&M.group.forEach(j=>{this.removeErrorFromField(S.controls[j.id],j,L)}),S.markAsUntouched()}resetForm(S,M,L){this.formBuilderService.clearAllModelsValue(M),S.reset(),this.store.dispatch(new O.V2(L,S.value))}getValidatorNameFromMap(S){if(S.includes(".")){const M=S.split(".");M&&M.length>0&&(S=this.getValidatorNameFromMap(M[M.length-1]))}return E.c.form.validatorMap.hasOwnProperty(S)?E.c.form.validatorMap[S]:S}initForm(S,M,L){this.store.dispatch(new O.bS(S,this.formBuilderService.getValueFromModel(M),L))}setStatusChanged(S,M){this.store.dispatch(new O.PW(S,M))}getForm(S){return this.store.pipe((0,c.Lt)(T(S)))}removeForm(S){this.store.dispatch(new O.Dn(S))}changeForm(S,M){this.store.dispatch(new O.V2(S,this.formBuilderService.getValueFromModel(M)))}setTouched(S,M,L){const F=this.formBuilderService.getMetadataIdsFromEvent(L);this.store.dispatch(new O.SD(S,F))}addError(S,M,L,F){const $=M.replace(/\./g,"_");this.store.dispatch(new O.yo(S,$,L,F))}removeError(S,M,L){const F=M.replace(/\./g,"_");this.store.dispatch(new O.Tr(S,F,L))}static#e=this.\u0275fac=function(M){return new(M||w)(R.KVO(b.j),R.KVO(c.il))};static#t=this.\u0275prov=R.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})()},37421:(B,D,t)=>{"use strict";t.d(D,{_:()=>f});var i=t(53107),n=t(69685),c=t(51040),e=t(2155);let f=(()=>{class g{constructor(y,E){this.activeModal=y,this.translate=E,this.preloadLevel=2,this.selectedItems=[],this.multiSelect=!1,this.showAdd=!0,this.select=new i.bkB(null)}ngOnInit(){this.setDescription()}onSelect(y){this.select.emit(y),this.activeModal.close(y)}setDescription(){this.description=this.translate.instant("vocabulary-treeview.tree.description."+this.vocabularyOptions.name)}static#e=this.\u0275fac=function(E){return new(E||g)(i.rXU(e.Lw),i.rXU(n.c$))};static#t=this.\u0275cmp=i.VBU({type:g,selectors:[["ds-vocabulary-treeview-modal"]],inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",selectedItems:"selectedItems",multiSelect:"multiSelect",showAdd:"showAdd"},outputs:{select:"select"},standalone:!0,features:[i.aNF],decls:10,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"p-3"],[3,"select","vocabularyOptions","description","preloadLevel","selectedItems","multiSelect","showAdd"]],template:function(E,_){1&E&&(i.j41(0,"div",0)(1,"h4",1),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.j41(4,"button",2),i.bIt("click",function(){return _.activeModal.dismiss("Cross click")}),i.j41(5,"span",3),i.EFF(6,"\xd7"),i.k0s()()(),i.j41(7,"div",4)(8,"div",5)(9,"ds-vocabulary-treeview",6),i.bIt("select",function(O){return _.onSelect(O)}),i.k0s()()()),2&E&&(i.R7$(2),i.JRh(i.bMT(3,7,"vocabulary-treeview.header")),i.R7$(7),i.Y8G("vocabularyOptions",_.vocabularyOptions)("description",_.description)("preloadLevel",_.preloadLevel)("selectedItems",_.selectedItems)("multiSelect",_.multiSelect)("showAdd",_.showAdd))},dependencies:[c.P,n.h,n.D9]})}return g})()},51040:(B,D,t)=>{"use strict";t.d(D,{P:()=>Ne});var i=t(50282),n=t(54460),c=t(53107),e=t(10936),f=t(2155),g=t(69685),d=t(36423),y=t(96858),E=t(16700),_=t(72683),b=t(21548),O=t(1349),I=t(71217),T=t(17509),R=t(47947);class u extends O.qS{get data(){return this._data.value}set data(we){this._data.next(we),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(we,Be,Ve=[]){super(),this._treeControl=we,this._treeFlattener=Be,this._flattenedData=new I.t([]),this._expandedData=new I.t([]),this._data=new I.t(Ve)}connect(we){return(0,T.h)(we.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,R.T)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}var w=t(37610);class v{constructor(we,Be,Ve,et){this.transformFunction=we,this.getLevel=Be,this.isExpandable=Ve,this.getChildren=et}_flattenNode(we,Be,Ve,et){const yt=this.transformFunction(we,Be);if(Ve.push(yt),this.isExpandable(yt)){const it=this.getChildren(we);it&&(Array.isArray(it)?this._flattenChildren(it,Be,Ve,et):it.pipe((0,w.s)(1)).subscribe(at=>{this._flattenChildren(at,Be,Ve,et)}))}return Ve}_flattenChildren(we,Be,Ve,et){we.forEach((yt,it)=>{const at=et.slice();at.push(it!==we.length-1),this._flattenNode(yt,Be+1,Ve,at)})}flattenNodes(we){const Be=[];return we.forEach(Ve=>this._flattenNode(Ve,0,Be,[])),Be}expandFlattenedNodes(we,Be){const Ve=[],et=[];return et[0]=!0,we.forEach(yt=>{let it=!0;for(let at=0;at<=this.getLevel(yt);at++)it=it&&et[at];it&&Ve.push(yt),this.isExpandable(yt)&&(et[this.getLevel(yt)+1]=Be.isExpanded(yt))}),Ve}}var S=t(83649),M=t.n(S),L=t(51698),F=t(63016),$=t(27035),j=t(44660),x=t(88093),G=t(12007),Y=t(59678);const V="LOAD_MORE",X="LOAD_MORE_ROOT",K={id:V},ae={id:X};class Q{get children(){return this.childrenChange.value}constructor(we,Be=!1,Ve=new d.Q,et=null,yt=!1,it=!1,at=!1){this.item=we,this.hasChildren=Be,this.pageInfo=Ve,this.loadMoreParentItem=et,this.isSearchNode=yt,this.isInInitValueHierarchy=it,this.isSelected=at,this.childrenChange=new I.t([])}updatePageInfo(we){this.pageInfo=we}}class J{constructor(we,Be=1,Ve=!1,et=!1,yt=new d.Q,it=null,at=!1,Yt=!1,nn=!1){this.item=we,this.level=Be,this.expandable=Ve,this.childrenLoaded=et,this.pageInfo=yt,this.loadMoreParentItem=it,this.isSearchNode=at,this.isInInitValueHierarchy=Yt,this.isSelected=nn}}let z=(()=>{class qe{constructor(Be){this.vocabularyService=Be,this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.vocabularyName="",this.dataChange=new I.t([]),this.initValueHierarchy=[],this.loading=new I.t(!1),this.hideSearchingWhenUnsubscribed$=new L.c(()=>()=>this.loading.next(!1))}cleanTree(){this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.initValueHierarchy=[],this.dataChange.next([])}initialize(Be,Ve,et,yt){this.loading.next(!0),this.vocabularyOptions=Be,this.vocabularyName=Be.name,this.pageInfo=Ve,(0,_.hj)(yt)?this.getNodeHierarchyById(yt,et).subscribe(it=>{this.initValueHierarchy=it,this.retrieveTopNodes(Ve,[],et)}):this.retrieveTopNodes(Ve,[],et)}getData(){return this.dataChange}loadMoreRoot(Be,Ve){const et=this.dataChange.value;et.pop(),this.retrieveTopNodes(Be.pageInfo,et,Ve)}loadMore(Be,Ve,et=!1){if(!this.nodeMap.has(Be.otherInformation.id))return;const yt=this.nodeMap.get(Be.otherInformation.id),it=this.nodeMap.get(Be.otherInformation.id).children||[];it.pop(),this.getChildrenNodesByParent(Be.otherInformation.id,yt.pageInfo).subscribe(at=>{if(et&&yt.children.length>0)return;const Yt=at.page.map(nn=>this._generateNode(nn,Ve));if(it.push(...Yt),at.pageInfo.currentPage+1<=at.pageInfo.totalPages){const nn=Object.assign(new d.Q,at.pageInfo,{currentPage:at.pageInfo.currentPage+1});yt.updatePageInfo(nn),it.push(new Q(K,!1,nn,Be))}yt.childrenChange.next(it),this.dataChange.next(this.dataChange.value)})}isLoading(){return this.loading}searchByQuery(Be,Ve){this.loading.next(!0),(0,_.Im)(this.storedNodes)&&(this.storedNodes=this.dataChange.value,this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.dataChange.next([]),this.vocabularyService.getVocabularyEntriesByValue(Be,!1,this.vocabularyOptions,new d.Q).pipe((0,G.Ar)(),(0,$.Z)(et=>et.length>0?et:(0,F.of)(null)),(0,$.Z)(et=>this.vocabularyService.findEntryDetailById(et.otherInformation.id,this.vocabularyName).pipe((0,G.ak)())),(0,$.Z)(et=>this.getNodeHierarchy(et,Ve)),(0,j.S)((et,yt)=>(0,_.Im)(yt)||-1!==M()(et,it=>it.item.otherInformation.id===yt.item.otherInformation.id)?et:[...et,yt],[]),(0,x.h)(this.hideSearchingWhenUnsubscribed$)).subscribe(et=>{this.dataChange.next(et),this.loading.next(!1)})}restoreNodes(){this.loading.next(!1),this.dataChange.next(this.storedNodes),this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.storedNodes=[]}_generateNode(Be,Ve,et=!1,yt=!0){const it=Be.otherInformation.id;if(this.nodeMap.has(it))return this.nodeMap.get(it);const at=Be.hasOtherInformation()&&"true"===Be.otherInformation.hasChildren,Yt=this.pageInfo,nn=this.initValueHierarchy.includes(it),je=Ve.some(()=>Ve.includes(it)),Re=new Q(Be,at,Yt,null,et,nn,je);return yt&&this.nodeMap.set(it,Re),Re}getNodeHierarchyById(Be,Ve){return this.getById(Be).pipe((0,$.Z)(et=>this.getNodeHierarchy(et,Ve,[],!1)),(0,R.T)(et=>this.getNodeHierarchyIds(et,Ve)))}getChildrenNodesByParent(Be,Ve){return this.vocabularyService.getEntryDetailChildren(Be,this.vocabularyName,Ve).pipe((0,G.ak)())}getParentNode(Be){return this.vocabularyService.getEntryDetailParent(Be,this.vocabularyName).pipe((0,G.ak)())}getById(Be){return this.vocabularyService.findEntryDetailById(Be,this.vocabularyName).pipe((0,G.ak)())}retrieveTopNodes(Be,Ve,et){this.vocabularyService.searchTopEntries(this.vocabularyName,Be).pipe((0,G.ak)()).subscribe(yt=>{this.vocabularyService.clearSearchTopRequests();const it=yt.page.map(at=>this._generateNode(at,et));if(Ve.push(...it),yt.pageInfo.currentPage+1<=yt.pageInfo.totalPages){const at=Object.assign(new d.Q,yt.pageInfo,{currentPage:yt.pageInfo.currentPage+1}),Yt=new Q(ae,!1,at);Yt.updatePageInfo(at),Ve.push(Yt)}this.loading.next(!1),this.dataChange.next(Ve)})}getNodeHierarchy(Be,Ve,et,yt=!0){if((0,_.Im)(Be))return(0,F.of)(null);const it=this._generateNode(Be,Ve,yt,yt);if((0,_.hj)(et)){const at=et.filter(Yt=>-1===M()(it.children,nn=>nn.item.otherInformation.id===Yt.item.otherInformation.id));at.forEach(Yt=>{Yt.loadMoreParentItem=it.item}),it.children.push(...at)}return it.item.hasOtherInformation()&&(0,_.hj)(it.item.otherInformation.parent)?this.getParentNode(it.item.otherInformation.id).pipe((0,$.Z)(at=>this.getNodeHierarchy(at,Ve,[it],yt))):(0,F.of)(it)}getNodeHierarchyIds(Be,Ve,et=[]){return et.includes(Be.item.otherInformation.id)||et.push(Be.item.otherInformation.id),(0,_.hj)(Be.children)?this.getNodeHierarchyIds(Be.children[0],Ve,et):et}static#e=this.\u0275fac=function(Ve){return new(Ve||qe)(c.KVO(Y.g))};static#t=this.\u0275prov=c.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})();function q(qe,we){if(1&qe&&c.nrm(0,"ds-alert",17),2&qe){const Be=c.XpG();c.Y8G("content",Be.description)("type",Be.AlertType.Info)}}function ee(qe,we){if(1&qe){const Be=c.RV6();c.j41(0,"button",18),c.bIt("click",function(){c.eBV(Be);const et=c.XpG();return c.Njj(et.add())}),c.EFF(1),c.nI1(2,"translate"),c.k0s()}2&qe&&(c.R7$(),c.SpI(" ",c.bMT(2,1,"vocabulary-treeview.search.form.add")," "))}function de(qe,we){1&qe&&c.nrm(0,"ds-loading",19),2&qe&&c.Y8G("showMessage",!1)}function Ce(qe,we){1&qe&&(c.j41(0,"h2",20)(1,"span"),c.EFF(2),c.nI1(3,"translate"),c.k0s()()),2&qe&&(c.R7$(2),c.JRh(c.bMT(3,1,"vocabulary-treeview.search.no-result")))}function Z(qe,we){if(1&qe){const Be=c.RV6();c.j41(0,"label",26)(1,"input",27),c.mxI("ngModelChange",function(et){c.eBV(Be);const yt=c.XpG().$implicit;return c.DH7(yt.isSelected,et)||(yt.isSelected=et),c.Njj(et)}),c.bIt("change",function(){c.eBV(Be);const et=c.XpG().$implicit,yt=c.XpG();return c.Njj(yt.onSelect(et.item))}),c.k0s(),c.j41(2,"span"),c.EFF(3),c.k0s()()}if(2&qe){const Be=c.XpG().$implicit;c.AVh("text-success",Be.isSelected),c.Y8G("ngbTooltip",null==Be.item||null==Be.item.otherInformation?null:Be.item.otherInformation.note)("openDelay",500),c.R7$(),c.Y8G("disabled",!(null!=Be.item&&Be.item.selectable)),c.R50("ngModel",Be.isSelected),c.Y8G("checked",Be.isSelected),c.R7$(2),c.JRh(Be.item.display)}}function le(qe,we){if(1&qe){const Be=c.RV6();c.j41(0,"button",28),c.bIt("click",function(){c.eBV(Be);const et=c.XpG().$implicit,yt=c.XpG();return c.Njj(yt.onSelect(et.item))}),c.j41(1,"span"),c.EFF(2),c.k0s()()}if(2&qe){const Be=c.XpG().$implicit;c.AVh("text-success",Be.isSelected),c.Y8G("disabled",!(null!=Be.item&&Be.item.selectable))("ngbTooltip",null==Be.item||null==Be.item.otherInformation?null:Be.item.otherInformation.note)("openDelay",500),c.R7$(2),c.JRh(Be.item.display)}}function De(qe,we){if(1&qe&&(c.j41(0,"cdk-tree-node",21)(1,"span",22),c.nrm(2,"i",23),c.k0s(),c.DNE(3,Z,4,8,"label",24)(4,le,3,6,"button",25),c.k0s()),2&qe){const Be=c.XpG();c.R7$(3),c.Y8G("ngIf",Be.multiSelect),c.R7$(),c.Y8G("ngIf",!Be.multiSelect)}}function pe(qe,we){if(1&qe){const Be=c.RV6();c.j41(0,"label",26)(1,"input",27),c.mxI("ngModelChange",function(et){c.eBV(Be);const yt=c.XpG().$implicit;return c.DH7(yt.isSelected,et)||(yt.isSelected=et),c.Njj(et)}),c.bIt("change",function(){c.eBV(Be);const et=c.XpG().$implicit,yt=c.XpG();return c.Njj(yt.onSelect(et.item))}),c.k0s(),c.j41(2,"span"),c.EFF(3),c.k0s()()}if(2&qe){const Be=c.XpG().$implicit;c.AVh("text-success",Be.isSelected),c.Y8G("ngbTooltip",null==Be.item||null==Be.item.otherInformation?null:Be.item.otherInformation.note)("openDelay",500),c.R7$(),c.Y8G("disabled",!(null!=Be.item&&Be.item.selectable)),c.R50("ngModel",Be.isSelected),c.Y8G("checked",Be.isSelected),c.R7$(2),c.JRh(Be.item.display)}}function re(qe,we){if(1&qe){const Be=c.RV6();c.j41(0,"button",28),c.bIt("click",function(){c.eBV(Be);const et=c.XpG().$implicit,yt=c.XpG();return c.Njj(yt.onSelect(et.item))}),c.j41(1,"span"),c.EFF(2),c.k0s()()}if(2&qe){const Be=c.XpG().$implicit;c.AVh("text-success",Be.isSelected),c.Y8G("disabled",!(null!=Be.item&&Be.item.selectable))("ngbTooltip",null==Be.item||null==Be.item.otherInformation?null:Be.item.otherInformation.note)("openDelay",500),c.R7$(2),c.JRh(Be.item.display)}}function ve(qe,we){if(1&qe){const Be=c.RV6();c.j41(0,"cdk-tree-node",21)(1,"button",29),c.bIt("click",function(){const et=c.eBV(Be).$implicit,yt=c.XpG();return c.Njj(yt.loadChildren(et))}),c.nrm(2,"i"),c.k0s(),c.DNE(3,pe,4,8,"label",24)(4,re,3,6,"button",25),c.k0s()}if(2&qe){const Be=we.$implicit,Ve=c.XpG();c.R7$(),c.BMQ("aria-label","toggle "+Be.name),c.R7$(),c.ZvI("fas fa-fw ",Ve.treeControl.isExpanded(Be)?"fa-angle-down":"fa-angle-right",""),c.R7$(),c.Y8G("ngIf",Ve.multiSelect),c.R7$(),c.Y8G("ngIf",!Ve.multiSelect)}}function fe(qe,we){if(1&qe){const Be=c.RV6();c.j41(0,"cdk-tree-node",30)(1,"button",31),c.bIt("click",function(){const et=c.eBV(Be).$implicit,yt=c.XpG();return c.Njj(yt.loadMore(et.loadMoreParentItem))}),c.EFF(2),c.nI1(3,"translate"),c.k0s()()}2&qe&&(c.R7$(2),c.SpI(" ",c.bMT(3,1,"vocabulary-treeview.load-more"),"... "))}function Ie(qe,we){if(1&qe){const Be=c.RV6();c.j41(0,"cdk-tree-node")(1,"button",31),c.bIt("click",function(){const et=c.eBV(Be).$implicit,yt=c.XpG();return c.Njj(yt.loadMoreRoot(et))}),c.EFF(2),c.nI1(3,"translate"),c.k0s()()}2&qe&&(c.R7$(2),c.SpI(" ",c.bMT(3,1,"vocabulary-treeview.load-more"),"... "))}let Ne=(()=>{class qe{constructor(Be){this.vocabularyTreeviewService=Be,this.preloadLevel=2,this.description="",this.multiSelect=!1,this.showAdd=!0,this.selectedItems=[],this.nodeMap=new Map,this.storedNodeMap=new Map,this.select=new c.bkB(null),this.deselect=new c.bkB(null),this.subs=[],this.AlertType=E.v,this.getChildren=Ve=>Ve.childrenChange,this.transformer=(Ve,et)=>{const yt=this.getEntryId(Ve.item),it=this.nodeMap.get(yt);if(it&&it.item.id!==V&&it.item.id!==X)return it;const at=new J(Ve.item,et,Ve.hasChildren,Ve.hasChildren&&(0,_.hj)(Ve.children),Ve.pageInfo,Ve.loadMoreParentItem,Ve.isSearchNode,Ve.isInInitValueHierarchy,Ve.isSelected);return this.nodeMap.set(yt,at),(et+1<this.preloadLevel&&at.childrenLoaded||at.isSearchNode&&at.childrenLoaded||at.isInInitValueHierarchy)&&(at.isSearchNode||this.loadChildren(at),this.treeControl.expand(at)),at},this.getLevel=Ve=>Ve.level,this.isExpandable=Ve=>Ve.expandable,this.hasChildren=(Ve,et)=>et.expandable,this.isLoadMore=(Ve,et)=>et.item.id===V,this.isLoadMoreRoot=(Ve,et)=>et.item.id===X,this.treeFlattener=new v(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new i.XW(this.getLevel,this.isExpandable),this.dataSource=new u(this.treeControl,this.treeFlattener)}ngOnInit(){this.subs.push(this.vocabularyTreeviewService.getData().subscribe(Ve=>{this.dataSource.data=Ve})),this.loading=this.vocabularyTreeviewService.isLoading();const Be=this.selectedItems?.length>0?this.getEntryId(this.selectedItems[0]):null;this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new d.Q,this.getSelectedEntryIds(),Be)}loadMore(Be){this.vocabularyTreeviewService.loadMore(Be,this.getSelectedEntryIds())}loadMoreRoot(Be){this.vocabularyTreeviewService.loadMoreRoot(Be,this.getSelectedEntryIds())}loadChildren(Be){this.vocabularyTreeviewService.loadMore(Be.item,this.getSelectedEntryIds(),!0)}onSelect(Be){this.getSelectedEntryIds().includes(this.getEntryId(Be))?(this.selectedItems=this.selectedItems.filter(Ve=>this.getEntryId(Ve)!==this.getEntryId(Be)),this.deselect.emit(Be)):(this.selectedItems.push(Be),this.select.emit(Be))}search(){(0,_.hj)(this.searchText)&&((0,_.Im)(this.storedNodeMap)&&(this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.vocabularyTreeviewService.searchByQuery(this.searchText,this.getSelectedEntryIds()))}isSearchEnabled(){return(0,_.hj)(this.searchText)}reset(){this.searchText="";for(const Be of this.selectedItems)this.deselect.emit(Be),this.nodeMap.get(this.getEntryId(Be)).isSelected=!1;this.selectedItems=[],(0,_.hj)(this.storedNodeMap)&&(this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.vocabularyTreeviewService.restoreNodes())}add(){this.select.emit({value:this.searchText,display:this.searchText})}ngOnDestroy(){this.vocabularyTreeviewService.cleanTree(),this.subs.filter(Be=>(0,_.a4)(Be)).forEach(Be=>Be.unsubscribe())}getEntryId(Be){return Be?.authority||Be?.otherInformation?.id||Be?.id||void 0}getSelectedEntryIds(){return this.selectedItems.map(Be=>this.getEntryId(Be)).filter(Be=>(0,_.hj)(Be))}ngOnChanges(Be){!Be.vocabularyOptions.isFirstChange()&&Be.vocabularyOptions.currentValue!==Be.vocabularyOptions.previousValue&&(this.selectedItems=[],this.searchText="",this.vocabularyTreeviewService.cleanTree(),this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new d.Q,this.getSelectedEntryIds(),null))}static#e=this.\u0275fac=function(Ve){return new(Ve||qe)(c.rXU(z))};static#t=this.\u0275cmp=c.VBU({type:qe,selectors:[["ds-vocabulary-treeview"]],inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",description:"description",multiSelect:"multiSelect",showAdd:"showAdd",selectedItems:"selectedItems"},outputs:{select:"select",deselect:"deselect"},standalone:!0,features:[c.OA$,c.aNF],decls:27,vars:28,consts:[[3,"content","type",4,"ngIf"],[1,"treeview-header","row","mb-1"],[1,"col-12"],[1,"input-group"],["type","text",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],["id","button-addon4",1,"input-group-append"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["class","btn btn-outline-primary","type","button",3,"click",4,"ngIf"],[1,"treeview-container"],[3,"showMessage",4,"ngIf"],["class","h4 text-center text-muted mt-4",4,"ngIf"],[3,"dataSource","treeControl"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkTreeNodePadding","",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[3,"content","type"],["type","button",1,"btn","btn-outline-primary",3,"click"],[3,"showMessage"],[1,"h4","text-center","text-muted","mt-4"],["cdkTreeNodePadding","",1,"d-flex"],["aria-hidden","true","type","button","cdkTreeNodeToggle","",1,"btn","btn-default","px-2","mr-1"],[1,"fas","fa-fw","fa-angle-right","invisible"],["class","d-flex align-items-center m-0 p-0 form-check","container","body",3,"text-success","ngbTooltip","openDelay",4,"ngIf"],["class","btn btn-outline-link btn-sm text-left","container","body",3,"text-success","disabled","ngbTooltip","openDelay","click",4,"ngIf"],["container","body",1,"d-flex","align-items-center","m-0","p-0","form-check",3,"ngbTooltip","openDelay"],["type","checkbox",1,"mr-2",3,"ngModelChange","change","disabled","ngModel","checked"],["container","body",1,"btn","btn-outline-link","btn-sm","text-left",3,"click","disabled","ngbTooltip","openDelay"],["type","button","cdkTreeNodeToggle","",1,"btn","btn-default","px-2","mr-1",3,"click"],["cdkTreeNodePadding",""],[1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(Ve,et){1&Ve&&(c.DNE(0,q,1,2,"ds-alert",0),c.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),c.nI1(5,"translate"),c.mxI("ngModelChange",function(it){return c.DH7(et.searchText,it)||(et.searchText=it),it}),c.bIt("keyup.enter",function(){return et.search()}),c.k0s(),c.j41(6,"div",5)(7,"button",6),c.bIt("click",function(){return et.search()}),c.EFF(8),c.nI1(9,"translate"),c.k0s(),c.j41(10,"button",7),c.bIt("click",function(){return et.reset()}),c.EFF(11),c.nI1(12,"translate"),c.k0s(),c.DNE(13,ee,3,3,"button",8),c.j41(14,"button",6),c.bIt("click",function(){return et.add()}),c.EFF(15),c.nI1(16,"translate"),c.k0s()()()()(),c.j41(17,"div",9),c.DNE(18,de,1,1,"ds-loading",10),c.nI1(19,"async"),c.DNE(20,Ce,4,3,"h2",11),c.nI1(21,"async"),c.j41(22,"cdk-tree",12),c.DNE(23,De,5,2,"cdk-tree-node",13)(24,ve,5,6,"cdk-tree-node",14)(25,fe,4,3,"cdk-tree-node",15)(26,Ie,4,3,"cdk-tree-node",16),c.k0s()()),2&Ve&&(c.Y8G("ngIf",et.description),c.R7$(4),c.R50("ngModel",et.searchText),c.Y8G("placeholder",c.bMT(5,16,"vocabulary-treeview.search.form.search-placeholder")),c.R7$(3),c.Y8G("disabled",!et.isSearchEnabled()),c.R7$(),c.SpI(" ",c.bMT(9,18,"vocabulary-treeview.search.form.search")," "),c.R7$(3),c.SpI(" ",c.bMT(12,20,"vocabulary-treeview.search.form.reset")," "),c.R7$(2),c.Y8G("ngIf",et.showAdd&&et.vocabularyOptions.closed),c.R7$(),c.Y8G("disabled",et.vocabularyOptions.closed),c.R7$(),c.SpI(" ",c.bMT(16,22,"vocabulary-treeview.search.form.add")," "),c.R7$(3),c.Y8G("ngIf",c.bMT(19,24,et.loading)),c.R7$(2),c.Y8G("ngIf",!0!==c.bMT(21,26,et.loading)&&0===et.dataSource.data.length),c.R7$(2),c.Y8G("dataSource",et.dataSource)("treeControl",et.treeControl),c.R7$(2),c.Y8G("cdkTreeNodeDefWhen",et.hasChildren),c.R7$(),c.Y8G("cdkTreeNodeDefWhen",et.isLoadMore),c.R7$(),c.Y8G("cdkTreeNodeDefWhen",et.isLoadMoreRoot))},dependencies:[e.YN,e.me,e.Zm,e.BC,e.vS,f.n8,f.md,n.bT,i.Dc,i.Sz,i.aI,i.Hy,i.NL,i.xn,g.h,g.D9,n.Jj,b.v,y.C],styles:[".tooltip-inner{text-align:left}label[_ngcontent-%COMP%]{cursor:pointer}"]})}return qe})()},42237:(B,D,t)=>{"use strict";t.d(D,{e:()=>b});var i=t(63016),n=t(47947),c=t(37610),e=t(84195),f=t(12007),g=t(72683),d=t(53107);const _=/^([^\/]+\/[^\/]+)$/;let b=(()=>{class O{constructor(T){this.configurationService=T}normalizeHandle(T){return(0,g.Tn)(T)?(0,i.of)(null):this.configurationService.findByPropertyName("handle.canonical.prefix").pipe((0,f.qD)(),(0,n.T)(R=>{if(R.hasSucceeded)return R.payload.values.length>=1?R.payload.values[0]:void 0}),(0,n.T)(R=>{let u;return u=T.match((O=>{const I=O?.replace(/\/$/,"");return new RegExp(`(${I?I+"|":""}handle)/([^/]+/[^/]+)$`)})(R)),((0,g.Im)(u)||u.length<3)&&(u=T.match(_)),(0,g.Im)(u)||u.length<2?null:u[u.length-1]}),(0,c.s)(1))}static#e=this.\u0275fac=function(R){return new(R||O)(d.KVO(e.ConfigurationDataService))};static#t=this.\u0275prov=d.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},48408:(B,D,t)=>{"use strict";t.d(D,{O:()=>n,l:()=>c});const n={RESIZE:(0,t(83770).N)("dspace/host-window/RESIZE")};class c{constructor(f,g){this.type=n.RESIZE,this.payload={width:f,height:g}}}},744:(B,D,t)=>{"use strict";t.d(D,{CV:()=>I,tP:()=>E});var i=t(73958),n=t(76627),c=t(41483),e=t(47947),f=t(66645),g=t(72683),d=t(33851),y=t(53107),E=function(T){return T[T.XS=0]="XS",T[T.SM=1]="SM",T[T.MD=2]="MD",T[T.LG=3]="LG",T[T.XL=4]="XL",T}(E||{});const _=E.SM,O=(0,i.Mz)(T=>T.hostWindow,T=>T.width);let I=(()=>{class T{constructor(u,w){this.store=u,this.variableService=w,this.breakPoints={},w.getAllVariables().subscribe(v=>{this.breakPoints.XL_MIN=parseInt(v["--bs-xl-min"],10),this.breakPoints.LG_MIN=parseInt(v["--bs-lg-min"],10),this.breakPoints.MD_MIN=parseInt(v["--bs-md-min"],10),this.breakPoints.SM_MIN=parseInt(v["--bs-sm-min"],10)})}getWidthObs(){return this.store.pipe((0,i.Lt)(O),(0,c.p)(u=>(0,g.a4)(u)))}get widthCategory(){return this.getWidthObs().pipe((0,e.T)(u=>u<this.breakPoints.SM_MIN?E.XS:u>=this.breakPoints.SM_MIN&&u<this.breakPoints.MD_MIN?E.SM:u>=this.breakPoints.MD_MIN&&u<this.breakPoints.LG_MIN?E.MD:u>=this.breakPoints.LG_MIN&&u<this.breakPoints.XL_MIN?E.LG:E.XL),(0,f.F)())}isXs(){return this.widthCategory.pipe((0,e.T)(u=>u===E.XS),(0,f.F)())}isSm(){return this.widthCategory.pipe((0,e.T)(u=>u===E.SM),(0,f.F)())}isMd(){return this.widthCategory.pipe((0,e.T)(u=>u===E.MD),(0,f.F)())}isLg(){return this.widthCategory.pipe((0,e.T)(u=>u===E.LG),(0,f.F)())}isXl(){return this.widthCategory.pipe((0,e.T)(u=>u===E.XL),(0,f.F)())}is(u){return this.widthCategory.pipe((0,e.T)(w=>w===u),(0,f.F)())}isIn(u){return this.widthCategory.pipe((0,e.T)(w=>u.includes(w)),(0,f.F)())}isUpTo(u){return this.widthCategory.pipe((0,e.T)(w=>w<=u),(0,f.F)())}isMobile(){return this.widthCategory.pipe((0,e.T)(u=>u<=_),(0,f.F)())}isDesktop(){return this.widthCategory.pipe((0,e.T)(u=>u>_),(0,f.F)())}isXsOrSm(){return(0,n.z)(this.isXs(),this.isSm()).pipe((0,e.T)(([u,w])=>u||w),(0,f.F)())}static#e=this.\u0275fac=function(w){return new(w||T)(y.KVO(i.il),y.KVO(d.J))};static#t=this.\u0275prov=y.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})()},64556:(B,D,t)=>{"use strict";t.d(D,{k:()=>n});var i=t(53107);let n=(()=>{class c{constructor(f){this.elementRef=f}onMouseEnter(){this.elementRef.nativeElement.classList.add(this.hoverClass)}onMouseLeave(){this.elementRef.nativeElement.classList.remove(this.hoverClass)}static#e=this.\u0275fac=function(g){return new(g||c)(i.rXU(i.aKT))};static#t=this.\u0275dir=i.FsC({type:c,selectors:[["","dsHoverClass",""]],hostBindings:function(g,d){1&g&&i.bIt("mouseenter",function(){return d.onMouseEnter()})("mouseleave",function(){return d.onMouseLeave()})},inputs:{hoverClass:[i.Mj6.None,"dsHoverClass","hoverClass"]},standalone:!0})}return c})()},52651:(B,D,t)=>{"use strict";t.d(D,{d:()=>_});var i=t(54460),n=t(2155),c=t(73958),e=t(69685),f=t(47947),g=t(21706),d=t(46187),y=t(53107);function E(b,O){if(1&b){const I=y.RV6();y.j41(0,"ul",1)(1,"li",2)(2,"button",3),y.nI1(3,"translate"),y.bIt("click",function(){y.eBV(I);const R=y.XpG();return y.Njj(R.stopImpersonating())}),y.nrm(4,"i",4),y.k0s()()()}2&b&&(y.R7$(2),y.FS9("ngbTooltip",y.bMT(3,1,"nav.stop-impersonating")))}let _=(()=>{class b{constructor(I,T,R){this.elRef=I,this.store=T,this.authService=R,this.subscriptions=[]}ngOnInit(){this.isImpersonating$=this.store.pipe((0,c.Lt)(d.wR)).pipe((0,f.T)(I=>I&&this.authService.isImpersonating())),this.subscriptions.push(this.isImpersonating$.subscribe(I=>{I?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}stopImpersonating(){this.authService.stopImpersonatingAndRefresh()}static#e=this.\u0275fac=function(T){return new(T||b)(y.rXU(y.aKT),y.rXU(c.il),y.rXU(g.uR))};static#t=this.\u0275cmp=y.VBU({type:b,selectors:[["ds-impersonate-navbar"]],standalone:!0,features:[y.aNF],decls:2,vars:3,consts:[["class","navbar-nav",4,"ngIf"],[1,"navbar-nav"],[1,"nav-item"],[1,"btn","btn-sm","btn-dark",3,"click","ngbTooltip"],[1,"fa","fa-user-secret"]],template:function(T,R){1&T&&(y.DNE(0,E,5,3,"ul",0),y.nI1(1,"async")),2&T&&y.Y8G("ngIf",y.bMT(1,1,R.isImpersonating$))},dependencies:[i.bT,n.n8,n.md,i.Jj,e.h,e.D9],encapsulation:2})}return b})()},4150:(B,D,t)=>{"use strict";t.d(D,{H:()=>R});var i=t(54460),n=t(53107),c=t(10936),e=t(69685),f=t(47331),g=t(54872),d=t(75706);const y=u=>({show:u}),E=u=>({"is-invalid":u}),_=()=>({standalone:!0});function b(u,w){1&u&&n.eu8(0)}function O(u,w){if(1&u&&(n.j41(0,"label",11)(1,"span",12),n.EFF(2),n.k0s(),n.DNE(3,b,1,0,"ng-container",13),n.k0s()),2&u){const v=n.XpG(),S=n.sdS(5);n.R7$(2),n.SpI(" ",v.label," "),n.R7$(),n.Y8G("ngTemplateOutlet",S)}}function I(u,w){if(1&u){const v=n.RV6();n.j41(0,"input",14,2),n.mxI("ngModelChange",function(M){n.eBV(v);const L=n.XpG();return n.DH7(L.value,M)||(L.value=M),n.Njj(M)}),n.bIt("onDebounce",function(M){n.eBV(v);const L=n.XpG();return n.Njj(L.find(M))}),n.k0s()}if(2&u){const v=n.XpG();n.R50("ngModel",v.value),n.Y8G("name",v.name)("ngClass",n.eq3(6,E,!v.valid))("dsDebounce",v.debounceTime)("placeholder",v.placeholder)("ngModelOptions",n.lJ4(8,_))}}function T(u,w){if(1&u){const v=n.RV6();n.j41(0,"div")(1,"a",15,3),n.bIt("click",function(){const M=n.eBV(v).$implicit,L=n.XpG();return n.Njj(L.onClickSuggestion(M))}),n.nrm(3,"span",16),n.k0s()()}if(2&u){const v=w.$implicit;n.R7$(3),n.Y8G("innerHTML",v.displayValue,n.npT)}}let R=(()=>{class u extends d.t{constructor(){super(...arguments),this.suggestions=[]}onSubmit(v){this.value=v,this.submitSuggestion.emit(v)}onClickSuggestion(v){return this.value=v.value,this.clickSuggestion.emit(v),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static#e=this.\u0275fac=(()=>{let v;return function(M){return(v||(v=n.xGo(u)))(M||u)}})();static#t=this.\u0275cmp=n.VBU({type:u,selectors:[["ds-filter-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[n.Jv_([{provide:c.kq,useExisting:(0,n.Rfq)(()=>u),multi:!0}]),n.Vt3,n.aNF],decls:13,vars:12,consts:[["form","ngForm"],["searchInput",""],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],[1,"form-group","mb-0"],["class","mb-0 w-100",4,"ngIf","ngIfElse"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],[1,"mb-0","w-100"],[1,"font-weight-bold"],[4,"ngTemplateOutlet"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(S,M){if(1&S){const L=n.RV6();n.j41(0,"form",4,0),n.bIt("ngSubmit",function(){return n.eBV(L),n.Njj(M.onSubmit(M.value))})("keydown",function($){return n.eBV(L),n.Njj(M.onKeydown($))})("keydown.arrowdown",function($){return n.eBV(L),n.Njj(M.shiftFocusDown($))})("keydown.arrowup",function($){return n.eBV(L),n.Njj(M.shiftFocusUp($))})("keydown.esc",function(){return n.eBV(L),n.Njj(M.close())})("dsClickOutside",function(){return n.eBV(L),n.Njj(M.close())}),n.j41(2,"div",5),n.DNE(3,O,4,2,"label",6),n.k0s(),n.DNE(4,I,2,9,"ng-template",null,1,n.C5r),n.j41(6,"button",7),n.EFF(7),n.nI1(8,"translate"),n.k0s(),n.j41(9,"div",8),n.nI1(10,"async"),n.j41(11,"div",9),n.DNE(12,T,4,1,"div",10),n.k0s()()()}if(2&S){const L=n.sdS(5);n.Y8G("action",M.action,n.B4B),n.R7$(3),n.Y8G("ngIf",M.label)("ngIfElse",L),n.R7$(4),n.SpI(" ",n.bMT(8,6,"search.filters.search.submit")," "),n.R7$(2),n.Y8G("ngClass",n.eq3(10,y,n.bMT(10,8,M.show)&&M.isNotEmpty(M.suggestions))),n.R7$(3),n.Y8G("ngForOf",M.suggestions)}},dependencies:[c.YN,c.qT,c.me,c.BC,c.cb,c.vS,c.cV,f.z,i.bT,i.T3,g.R,i.YU,i.pM,i.Jj,e.h,e.D9],styles:[".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}return u})()},75706:(B,D,t)=>{"use strict";t.d(D,{t:()=>R});var i=t(54460),n=t(53107),c=t(10936),e=t(69685),f=t(71217),g=t(72683),d=t(47331),y=t(54872);const E=["inputField"],_=["suggestion"],b=u=>({"is-invalid":u}),O=()=>({standalone:!0}),I=u=>({show:u});function T(u,w){if(1&u){const v=n.RV6();n.j41(0,"div")(1,"a",9,2),n.bIt("click",function(){const M=n.eBV(v).$implicit,L=n.XpG();return n.Njj(L.onClickSuggestion(M.value))}),n.nrm(3,"span",10),n.k0s()()}if(2&u){const v=w.$implicit;n.R7$(3),n.Y8G("innerHTML",v.displayValue,n.npT)}}let R=(()=>{class u{constructor(){this.suggestions=[],this.debounceTime=500,this.placeholder="",this.valid=!0,this.label="",this.submitSuggestion=new n.bkB,this.clickSuggestion=new n.bkB,this.typeSuggestion=new n.bkB,this.findSuggestions=new n.bkB,this.show=new f.t(!1),this.selectedIndex=-1,this.blockReopen=!1,this.disabled=!1,this.propagateChange=v=>{},this.propagateTouch=v=>{}}ngOnChanges(v){(0,g.a4)(v.suggestions)&&this.show.next((0,g.hj)(v.suggestions.currentValue)&&!v.suggestions.firstChange)}shiftFocusUp(v){v.preventDefault(),this.selectedIndex>0?(this.selectedIndex--,this.selectedIndex=(this.selectedIndex+this.resultViews.length)%this.resultViews.length):this.selectedIndex=this.resultViews.length-1,this.changeFocus()}shiftFocusDown(v){v.preventDefault(),this.selectedIndex>=0?(this.selectedIndex++,this.selectedIndex%=this.resultViews.length):this.selectedIndex=0,this.changeFocus()}changeFocus(){this.resultViews.length>0&&this.resultViews.toArray()[this.selectedIndex].nativeElement.focus()}onKeydown(v){"Enter"!==v.key&&this.queryInput.nativeElement.focus()}close(){this.show.next(!1)}open(){this.blockReopen||this.show.next(!0)}isNotEmpty(v){return(0,g.hj)(v)}onSubmit(v){}onClickSuggestion(v){}find(v){this.blockReopen||(this.findSuggestions.emit(v),this.typeSuggestion.emit(v)),this.blockReopen=!1}registerOnChange(v){this.propagateChange=v}registerOnTouched(v){this.propagateTouch=v}setDisabledState(v){this.disabled=v}writeValue(v){this.value=v}get value(){return this._value}set value(v){this._value=v,this.propagateChange(this._value)}static#e=this.\u0275fac=function(S){return new(S||u)};static#t=this.\u0275cmp=n.VBU({type:u,selectors:[["ds-input-suggestions"]],viewQuery:function(S,M){if(1&S&&(n.GBs(E,5),n.GBs(_,5)),2&S){let L;n.mGM(L=n.lsd())&&(M.queryInput=L.first),n.mGM(L=n.lsd())&&(M.resultViews=L)}},inputs:{suggestions:"suggestions",debounceTime:"debounceTime",placeholder:"placeholder",action:"action",name:"name",valid:"valid",label:"label",disabled:"disabled"},outputs:{submitSuggestion:"submitSuggestion",clickSuggestion:"clickSuggestion",typeSuggestion:"typeSuggestion",findSuggestions:"findSuggestions"},standalone:!0,features:[n.OA$,n.aNF],decls:11,vars:19,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(S,M){if(1&S){const L=n.RV6();n.j41(0,"form",3,0),n.bIt("ngSubmit",function(){return n.eBV(L),n.Njj(M.onSubmit(M.value))})("keydown",function($){return n.eBV(L),n.Njj(M.onKeydown($))})("keydown.arrowdown",function($){return n.eBV(L),n.Njj(M.shiftFocusDown($))})("keydown.arrowup",function($){return n.eBV(L),n.Njj(M.shiftFocusUp($))})("keydown.esc",function(){return n.eBV(L),n.Njj(M.close())})("dsClickOutside",function(){return n.eBV(L),n.Njj(M.close())}),n.j41(2,"input",4,1),n.mxI("ngModelChange",function($){return n.eBV(L),n.DH7(M.value,$)||(M.value=$),n.Njj($)}),n.bIt("onDebounce",function($){return n.eBV(L),n.Njj(M.find($))}),n.k0s(),n.j41(4,"button",5),n.EFF(5),n.nI1(6,"translate"),n.k0s(),n.j41(7,"div",6),n.nI1(8,"async"),n.j41(9,"div",7),n.DNE(10,T,4,1,"div",8),n.k0s()()()}2&S&&(n.Y8G("action",M.action,n.B4B),n.R7$(2),n.R50("ngModel",M.value),n.Y8G("name",M.name)("ngClass",n.eq3(14,b,!M.valid))("dsDebounce",M.debounceTime)("placeholder",M.placeholder)("ngModelOptions",n.lJ4(16,O)),n.R7$(3),n.SpI(" ",n.bMT(6,10,"search.filters.search.submit")," "),n.R7$(2),n.Y8G("ngClass",n.eq3(17,I,n.bMT(8,12,M.show)&&M.isNotEmpty(M.suggestions))),n.R7$(3),n.Y8G("ngForOf",M.suggestions))},dependencies:[c.YN,c.qT,c.me,c.BC,c.cb,c.vS,c.cV,d.z,y.R,i.YU,i.pM,i.Jj,e.h,e.D9],encapsulation:2})}return u})()},74194:(B,D,t)=>{"use strict";t.r(D),t.d(D,{LangSwitchComponent:()=>E});var i=t(54460),n=t(2155),c=t(69685),e=t(86722),f=t(9518),g=t(53107);function d(_,b){if(1&_){const O=g.RV6();g.j41(0,"li",7,0),g.bIt("keyup.enter",function(){const T=g.eBV(O).$implicit,R=g.XpG(2);return g.Njj(R.useLang(T))})("click",function(){const T=g.eBV(O).$implicit,R=g.XpG(2);return g.Njj(R.useLang(T))}),g.EFF(2),g.k0s()}if(2&_){const O=b.$implicit,I=g.XpG(2);g.AVh("active",O===I.translate.currentLang),g.R7$(2),g.SpI(" ",I.langLabel(O)," ")}}function y(_,b){if(1&_){const O=g.RV6();g.j41(0,"div",2)(1,"a",3),g.nI1(2,"translate"),g.nI1(3,"translate"),g.bIt("click",function(T){return g.eBV(O),g.Njj(T.preventDefault())}),g.nrm(4,"i",4),g.k0s(),g.j41(5,"ul",5),g.nI1(6,"translate"),g.DNE(7,d,3,3,"li",6),g.k0s()()}if(2&_){const O=g.XpG();g.R7$(),g.Y8G("title",g.bMT(2,4,"nav.language")),g.BMQ("aria-label",g.bMT(3,6,"nav.language")),g.R7$(4),g.BMQ("aria-label",g.bMT(6,8,"nav.language")),g.R7$(2),g.Y8G("ngForOf",O.translate.getLangs())}}let E=(()=>{class _{constructor(O,I,T){this.el=O,this.translate=I,this.localeService=T}ngOnInit(){this.activeLangs=e.c.languages.filter(O=>!0===O.active),this.moreThanOneLanguage=this.activeLangs.length>1,this.moreThanOneLanguage||this.el.nativeElement.parentElement.classList.add("d-none")}currentLangLabel(){return this.activeLangs.find(O=>O.code===this.translate.currentLang).label}langLabel(O){return this.activeLangs.find(I=>I.code===O).label}useLang(O){this.localeService.setCurrentLanguageCode(O),this.localeService.refreshAfterChangeLanguage()}static#e=this.\u0275fac=function(I){return new(I||_)(g.rXU(g.aKT),g.rXU(c.c$),g.rXU(f.iH))};static#t=this.\u0275cmp=g.VBU({type:_,selectors:[["ds-base-lang-switch"]],standalone:!0,features:[g.aNF],decls:1,vars:1,consts:[["langSelect",""],["ngbDropdown","","class","navbar-nav","display","dynamic","placement","bottom-right",4,"ngIf"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"navbar-nav"],["href","javascript:void(0);","role","menuitem","aria-controls","language-menu-list","aria-haspopup","menu","data-toggle","dropdown","ngbDropdownToggle","","tabindex","0",3,"click","title"],[1,"fas","fa-globe-asia","fa-lg","fa-fw"],["ngbDropdownMenu","","id","language-menu-list","role","menu",1,"dropdown-menu"],["class","dropdown-item","tabindex","0","role","menuitem",3,"active","keyup.enter","click",4,"ngFor","ngForOf"],["tabindex","0","role","menuitem",1,"dropdown-item",3,"keyup.enter","click"]],template:function(I,T){1&I&&g.DNE(0,y,8,10,"div",1),2&I&&g.Y8G("ngIf",T.moreThanOneLanguage)},dependencies:[i.bT,n.zH,n.tg,n.do,n.U0,i.pM,c.h,c.D9],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.dropdown-toggle[_ngcontent-%COMP%]:hover, .dropdown-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer}"]})}return _})()},23014:(B,D,t)=>{"use strict";t.d(D,{n:()=>g});var i=t(21124),c=(t(74194),t(53107));const e=["*"];function f(d,y){}let g=(()=>{class d extends i.J{getComponentName(){return"LangSwitchComponent"}importThemedComponent(E){return t(97394)(`./${E}/app/shared/lang-switch/lang-switch.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,74194))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=c.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-lang-switch"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},21548:(B,D,t)=>{"use strict";t.d(D,{v:()=>g});var i=t(16182),n=t(21124),c=t(53107);const e=["*"];function f(d,y){}let g=(()=>{class d extends n.J{constructor(E,_){super(E,_),this.cdr=E,this.themeService=_,this.inAndOutputNames=["message","showMessage","spinner"]}getComponentName(){return"LoadingComponent"}importThemedComponent(E){return t(54512)(`./${E}/app/shared/loading/loading.component`)}importUnthemedComponent(){return t.e(2076).then(t.bind(t,2662))}static#e=this.\u0275fac=function(_){return new(_||d)(c.rXU(c.gRc),c.rXU(i.Fs))};static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-loading"]],inputs:{message:"message",showMessage:"showMessage",spinner:"spinner"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},46662:(B,D,t)=>{"use strict";t.d(D,{u:()=>g});var i=t(54460),n=t(53107),e=(t(86881),t(78335));function f(d,y){1&d&&n.eu8(0)}let g=(()=>{class d{constructor(E){this.injector=E}ngOnInit(){this.objectInjector=n.zZn.create({providers:[{provide:"authMethodProvider",useFactory:()=>this.authMethod,deps:[]},{provide:"isStandalonePage",useFactory:()=>this.isStandalonePage,deps:[]}],parent:this.injector})}getAuthMethodContent(){return(0,e.HF)(this.authMethod.authMethodType)}static#e=this.\u0275fac=function(_){return new(_||d)(n.rXU(n.zZn))};static#t=this.\u0275cmp=n.VBU({type:d,selectors:[["ds-log-in-container"]],inputs:{authMethod:"authMethod",isStandalonePage:"isStandalonePage"},standalone:!0,features:[n.aNF],decls:1,vars:2,consts:[[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(_,b){1&_&&n.DNE(0,f,1,0,"ng-container",0),2&_&&n.Y8G("ngComponentOutlet",b.getAuthMethodContent())("ngComponentOutletInjector",b.objectInjector)},dependencies:[i.OI],styles:["[_nghost-%COMP%]     .card{margin-bottom:var(--ds-submission-sections-margin-bottom);overflow:unset}.section-focus[_ngcontent-%COMP%]{border-radius:var(--bs-border-radius);box-shadow:var(--bs-btn-focus-box-shadow)}[_nghost-%COMP%]     .card:first-of-type{border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)!important;border-bottom-left-radius:var(--bs-card-border-radius)!important;border-bottom-right-radius:var(--bs-card-border-radius)!important}[_nghost-%COMP%]     .card-header button{box-shadow:none!important;width:100%}"]})}return d})()},15396:(B,D,t)=>{"use strict";t.r(D),t.d(D,{LogInComponent:()=>R});var i=t(54460),n=t(73958),c=t(47947),e=t(21706),f=t(46187),g=t(72683),d=t(21548),y=t(46662),E=t(78335),_=t(53107);function b(u,w){1&u&&_.nrm(0,"ds-loading",2)}function O(u,w){1&u&&_.nrm(0,"div",7)}function I(u,w){if(1&u&&(_.qex(0),_.nrm(1,"ds-log-in-container",5),_.DNE(2,O,1,0,"div",6),_.bVm()),2&u){const v=w.$implicit,S=w.last,M=_.XpG(2);_.R7$(),_.Y8G("authMethod",v)("isStandalonePage",M.isStandalonePage),_.R7$(),_.Y8G("ngIf",!S)}}function T(u,w){if(1&u&&(_.j41(0,"div",3),_.DNE(1,I,3,3,"ng-container",4),_.nI1(2,"async"),_.k0s()),2&u){const v=_.XpG();_.R7$(),_.Y8G("ngForOf",_.bMT(2,1,v.authMethods))}}let R=(()=>{class u{constructor(v,S){this.store=v,this.authService=S}ngOnInit(){this.authMethods=this.store.pipe((0,n.Lt)(f.hx),(0,c.T)(v=>v.filter(S=>void 0!==(0,E.HF)(S.authMethodType)).sort((S,M)=>S.position-M.position))),this.loading=this.store.pipe((0,n.Lt)(f.VV)),this.isAuthenticated=this.store.pipe((0,n.Lt)(f.wR)),this.store.pipe((0,n.Lt)(f.H8)).subscribe(v=>{(0,g.a4)(v)&&!this.isStandalonePage&&this.authService.clearRedirectUrl()})}static#e=this.\u0275fac=function(S){return new(S||u)(_.rXU(n.il),_.rXU(e.uR))};static#t=this.\u0275cmp=_.VBU({type:u,selectors:[["ds-base-log-in"]],inputs:{isStandalonePage:"isStandalonePage"},standalone:!0,features:[_.aNF],decls:6,vars:10,consts:[["class","m-5",4,"ngIf"],["class","px-4 py-3 mx-auto login-container",4,"ngIf"],[1,"m-5"],[1,"px-4","py-3","mx-auto","login-container"],[4,"ngFor","ngForOf"],[3,"authMethod","isStandalonePage"],["class","dropdown-divider my-2",4,"ngIf"],[1,"dropdown-divider","my-2"]],template:function(S,M){1&S&&(_.DNE(0,b,1,0,"ds-loading",0),_.nI1(1,"async"),_.nI1(2,"async"),_.DNE(3,T,3,3,"div",1),_.nI1(4,"async"),_.nI1(5,"async")),2&S&&(_.Y8G("ngIf",_.bMT(1,2,M.loading)||_.bMT(2,4,M.isAuthenticated)),_.R7$(3),_.Y8G("ngIf",!0!==_.bMT(4,6,M.loading)&&!0!==_.bMT(5,8,M.isAuthenticated)))},dependencies:[i.bT,d.v,i.pM,y.u,i.Jj],styles:[".login-container[_ngcontent-%COMP%]{max-width:350px}a[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],changeDetection:0})}return u})()},78335:(B,D,t)=>{"use strict";t.d(D,{HF:()=>ee});var i=t(62806),n=t(73958),c=t(69685),e=t(37610),f=t(21706),d=(t(86881),t(46187)),y=t(66190),E=t(87913),_=t(72683),b=t(53107),O=t(37846);let I=(()=>{class de{constructor(Z,le,De,pe,re,ve){this.injectedAuthMethodModel=Z,this.isStandalonePage=le,this._window=De,this.authService=pe,this.hardRedirectService=re,this.store=ve,this.authMethod=Z}ngOnInit(){this.isAuthenticated=this.store.pipe((0,n.Lt)(d.wR)),this.loading=this.store.pipe((0,n.Lt)(d.VV)),this.location=decodeURIComponent(this.injectedAuthMethodModel.location)}redirectToExternalProvider(){this.authService.getRedirectUrl().pipe((0,e.s)(1)).subscribe(Z=>{this.isStandalonePage?(0,_.Im)(Z)&&(Z="/"):Z=this.hardRedirectService.getCurrentRoute();const le=new E.t(this._window.nativeWindow.origin,Z).toString();let De=this.location;const re=/\?redirectUrl=(.*)/g.exec(this.location),ve=re&&re[1]?re[1]:null;(0,_.Pe)(ve)&&ve!==le&&(De=this.location.replace(/\?redirectUrl=(.*)/g,`?redirectUrl=${le}`)),this.hardRedirectService.redirect(De)})}getButtonLabel(){return`login.form.${this.authMethod.authMethodType}`}static#e=this.\u0275fac=function(le){return new(le||de)(b.rXU("authMethodProvider"),b.rXU("isStandalonePage"),b.rXU(y.lc),b.rXU(f.uR),b.rXU(O.$),b.rXU(n.il))};static#t=this.\u0275cmp=b.VBU({type:de,selectors:[["ds-log-in-external-provider"]],standalone:!0,features:[b.aNF],decls:4,vars:3,consts:[[1,"btn","btn-lg","btn-primary","btn-block","text-white",3,"click"],[1,"fas","fa-sign-in-alt"]],template:function(le,De){1&le&&(b.j41(0,"button",0),b.bIt("click",function(){return De.redirectToExternalProvider()}),b.nrm(1,"i",1),b.EFF(2),b.nI1(3,"translate"),b.k0s()),2&le&&(b.R7$(2),b.SpI(" ",b.bMT(3,1,De.getButtonLabel()),"\n"))},dependencies:[c.h,c.D9]})}return de})();var T=t(54460),R=t(10936),u=t(95968),w=t(88249),v=t(76627),S=t(47947),M=t(41483),L=t(31829),F=t(7186),$=t(77304),j=t(36556),x=t(2566),G=t(75911);const Y=de=>[de];function V(de,Ce){if(1&de&&(b.j41(0,"div",8),b.EFF(1),b.nI1(2,"async"),b.nI1(3,"translate"),b.k0s()),2&de){const Z=b.XpG();b.Y8G("@fadeOut",void 0),b.R7$(),b.JRh(b.bMT(3,4,b.bMT(2,2,Z.error)))}}function X(de,Ce){if(1&de&&(b.j41(0,"div",9),b.EFF(1),b.nI1(2,"async"),b.nI1(3,"translate"),b.k0s()),2&de){const Z=b.XpG();b.Y8G("@fadeOut",void 0),b.R7$(),b.JRh(b.bMT(3,4,b.bMT(2,2,Z.message)))}}function K(de,Ce){if(1&de&&(b.j41(0,"a",12),b.nI1(1,"dsBrowserOnly"),b.EFF(2),b.nI1(3,"translate"),b.k0s()),2&de){const Z=b.XpG(2);b.Y8G("routerLink",b.eq3(7,Y,Z.getRegisterRoute())),b.BMQ("data-test",b.bMT(1,3,"register")),b.R7$(2),b.JRh(b.bMT(3,5,"login.form.new-user"))}}function ae(de,Ce){if(1&de&&(b.j41(0,"a",12),b.nI1(1,"dsBrowserOnly"),b.EFF(2),b.nI1(3,"translate"),b.k0s()),2&de){const Z=b.XpG(2);b.Y8G("routerLink",b.eq3(7,Y,Z.getForgotRoute())),b.BMQ("data-test",b.bMT(1,3,"forgot")),b.R7$(2),b.JRh(b.bMT(3,5,"login.form.forgot-password"))}}function Q(de,Ce){if(1&de&&(b.qex(0),b.j41(1,"div",10),b.DNE(2,K,4,9,"a",11),b.nI1(3,"async"),b.DNE(4,ae,4,9,"a",11),b.nI1(5,"async"),b.k0s(),b.bVm()),2&de){const Z=b.XpG();b.R7$(2),b.Y8G("ngIf",b.bMT(3,2,Z.canRegister$)),b.R7$(2),b.Y8G("ngIf",b.bMT(5,4,Z.canForgot$))}}const z=new Map([[i.Q.Password,(()=>{class de{constructor(Z,le,De,pe,re,ve,fe){this.injectedAuthMethodModel=Z,this.isStandalonePage=le,this.authService=De,this.hardRedirectService=pe,this.formBuilder=re,this.store=ve,this.authorizationService=fe,this.hasError=!1,this.hasMessage=!1,this.authMethod=Z}ngOnInit(){this.form=this.formBuilder.group({email:["",R.k0.required],password:["",R.k0.required]}),this.error=this.store.pipe((0,n.Lt)(d.H8),(0,S.T)(Z=>(this.hasError=(0,_.hj)(Z),Z))),this.message=this.store.pipe((0,n.Lt)(d.dx),(0,S.T)(Z=>(this.hasMessage=(0,_.hj)(Z),Z))),this.canRegister$=this.authorizationService.isAuthorized(j._.EPersonRegistration).pipe((0,w.t)({refCount:!1,bufferSize:1})),this.canForgot$=this.authorizationService.isAuthorized(j._.EPersonForgotPassword).pipe((0,w.t)({refCount:!1,bufferSize:1})),this.canShowDivider$=(0,v.z)([this.canRegister$,this.canForgot$]).pipe((0,S.T)(([Z,le])=>Z||le),(0,M.p)(Boolean))}getRegisterRoute(){return(0,L.Do)()}getForgotRoute(){return(0,L.al)()}resetErrorOrMessage(){(this.hasError||this.hasMessage)&&(this.store.dispatch(new F.eh),this.hasError=!1,this.hasMessage=!1)}submit(){this.resetErrorOrMessage();const Z=this.form.get("email").value,le=this.form.get("password").value;Z.trim(),le.trim(),this.isStandalonePage?this.authService.setRedirectUrlIfNotSet("/"):this.authService.setRedirectUrl(this.hardRedirectService.getCurrentRoute()),this.store.dispatch(new F.Sn(Z,le)),this.form.reset()}static#e=this.\u0275fac=function(le){return new(le||de)(b.rXU("authMethodProvider"),b.rXU("isStandalonePage"),b.rXU(f.uR),b.rXU(O.$),b.rXU(R.ze),b.rXU(n.il),b.rXU($.AuthorizationDataService))};static#t=this.\u0275cmp=b.VBU({type:de,selectors:[["ds-log-in-password"]],standalone:!0,features:[b.aNF],decls:20,vars:35,consts:[["novalidate","",1,"form-login",3,"ngSubmit","formGroup"],["autocomplete","username","autofocus","","formControlName","email","required","","type","email",1,"form-control","form-control-lg","position-relative",3,"placeholder"],["autocomplete","current-password","formControlName","password","required","","type","password",1,"form-control","form-control-lg","position-relative","mb-3",3,"placeholder"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block","mt-3",3,"disabled"],[1,"fas","fa-sign-in-alt"],[4,"ngIf"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-info"],[1,"mt-2"],["class","dropdown-item","role","menuitem",3,"routerLink",4,"ngIf"],["role","menuitem",1,"dropdown-item",3,"routerLink"]],template:function(le,De){1&le&&(b.j41(0,"form",0),b.bIt("ngSubmit",function(){return De.submit()}),b.nrm(1,"input",1),b.nI1(2,"translate"),b.nI1(3,"translate"),b.nI1(4,"dsBrowserOnly"),b.nrm(5,"input",2),b.nI1(6,"translate"),b.nI1(7,"translate"),b.nI1(8,"dsBrowserOnly"),b.DNE(9,V,4,6,"div",3),b.nI1(10,"async"),b.DNE(11,X,4,6,"div",4),b.nI1(12,"async"),b.j41(13,"button",5),b.nI1(14,"dsBrowserOnly"),b.nrm(15,"i",6),b.EFF(16),b.nI1(17,"translate"),b.k0s()(),b.DNE(18,Q,6,6,"ng-container",7),b.nI1(19,"async")),2&le&&(b.Y8G("formGroup",De.form),b.R7$(),b.FS9("placeholder",b.bMT(2,13,"login.form.email")),b.BMQ("aria-label",b.bMT(3,15,"login.form.email"))("data-test",b.bMT(4,17,"email")),b.R7$(4),b.FS9("placeholder",b.bMT(6,19,"login.form.password")),b.BMQ("aria-label",b.bMT(7,21,"login.form.password"))("data-test",b.bMT(8,23,"password")),b.R7$(4),b.Y8G("ngIf",b.bMT(10,25,De.error)&&De.hasError),b.R7$(2),b.Y8G("ngIf",b.bMT(12,27,De.message)&&De.hasMessage),b.R7$(2),b.Y8G("disabled",!De.form.valid),b.BMQ("data-test",b.bMT(14,29,"login-button")),b.R7$(3),b.SpI(" ",b.bMT(17,31,"login.form.submit"),""),b.R7$(2),b.Y8G("ngIf",b.bMT(19,33,De.canShowDivider$)))},dependencies:[R.YN,R.qT,R.me,R.BC,R.cb,R.YS,R.X1,R.j4,R.JD,T.bT,u.Wk,T.Jj,c.h,c.D9,G.L],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[x.Xn]}})}return de})()],[i.Q.Shibboleth,I],[i.Q.Oidc,I],[i.Q.Orcid,I]]);function ee(de){return z.get(de)}},67814:(B,D,t)=>{"use strict";t.d(D,{W:()=>g});var i=t(21124),c=(t(15396),t(53107));const e=["*"];function f(d,y){}let g=(()=>{class d extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["isStandalonePage"]}getComponentName(){return"LogInComponent"}importThemedComponent(E){return t(43800)(`./${E}/app/shared/log-in/log-in.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,15396))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=c.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-log-in"]],inputs:{isStandalonePage:"isStandalonePage"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},49314:(B,D,t)=>{"use strict";t.d(D,{y:()=>b});var i=t(54460),n=t(73958),c=t(69685),e=t(7186),f=t(46187),g=t(2566),d=t(75911),y=t(53107),E=t(95968);function _(O,I){if(1&O&&(y.j41(0,"div",4),y.EFF(1),y.nI1(2,"async"),y.k0s()),2&O){const T=y.XpG();y.Y8G("@fadeOut",void 0),y.R7$(),y.JRh(y.bMT(2,2,T.error))}}let b=(()=>{class O{constructor(T,R){this.router=T,this.store=R}ngOnInit(){this.error=this.store.pipe((0,n.Lt)(f.F8))}home(){this.router.navigate(["/home"])}logOut(){this.store.dispatch(new e.du)}static#e=this.\u0275fac=function(R){return new(R||O)(y.rXU(E.Ix),y.rXU(n.il))};static#t=this.\u0275cmp=y.VBU({type:O,selectors:[["ds-log-out"]],standalone:!0,features:[y.aNF],decls:8,vars:9,consts:[[1,"form-login","px-4"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","menuitem",1,"btn","btn-lg","btn-primary","btn-block","mt-3",3,"click"],[1,"fas","fa-sign-out-alt"],["role","alert",1,"alert","alert-danger"]],template:function(R,u){1&R&&(y.j41(0,"div",0),y.DNE(1,_,3,4,"div",1),y.nI1(2,"async"),y.j41(3,"button",2),y.nI1(4,"dsBrowserOnly"),y.bIt("click",function(){return u.logOut()}),y.nrm(5,"i",3),y.EFF(6),y.nI1(7,"translate"),y.k0s()()),2&R&&(y.R7$(),y.Y8G("ngIf",y.bMT(2,3,u.error)),y.R7$(2),y.BMQ("data-test",y.bMT(4,5,"logout-button")),y.R7$(3),y.SpI(" ",y.bMT(7,7,"logout.form.submit"),""))},dependencies:[i.bT,i.Jj,c.h,c.D9,d.L],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[g.Xn]}})}return O})()},78198:(B,D,t)=>{"use strict";t.d(D,{D:()=>i});var i=function(n){return n.ADMIN="admin-sidebar",n.PUBLIC="public",n.DSO_EDIT="dso-edit",n}(i||{})},43515:(B,D,t)=>{"use strict";t.d(D,{x:()=>i});var i=function(n){return n[n.TEXT=0]="TEXT",n[n.LINK=1]="LINK",n[n.ALTMETRIC=2]="ALTMETRIC",n[n.SEARCH=3]="SEARCH",n[n.ONCLICK=4]="ONCLICK",n[n.EXTERNAL=5]="EXTERNAL",n}(i||{})},29155:(B,D,t)=>{"use strict";t.d(D,{a:()=>Y});var i=t(53107),n=t(71217),c=t(66645),e=t(22867),f=t(72683),g=t(62990),d=t(54460),y=t(95968),E=t(69685),_=t(43515);const O=V=>({disabled:V});let I=(()=>{class V{constructor(K){this.item=K}ngOnInit(){this.hasLink=(0,f.hj)(this.item.href)}get href(){if(this.hasLink)return this.item.href}static#e=this.\u0275fac=function(ae){return new(ae||V)(i.rXU("itemModelProvider"))};static#t=this.\u0275cmp=i.VBU({type:V,selectors:[["ds-external-link-menu-item"]],standalone:!0,features:[i.aNF],decls:4,vars:11,consts:[["role","menuitem","routerLinkActive","active",1,"ds-menu-item",3,"click","ngClass","href","title"]],template:function(ae,Q){1&ae&&(i.j41(0,"a",0),i.nI1(1,"translate"),i.bIt("click",function(z){return z.stopPropagation()}),i.EFF(2),i.nI1(3,"translate"),i.k0s()),2&ae&&(i.Y8G("ngClass",i.eq3(9,O,!Q.hasLink))("href",Q.href,i.B4B)("title",i.bMT(1,5,Q.item.text)),i.BMQ("aria-disabled",!Q.hasLink),i.R7$(2),i.JRh(i.bMT(3,7,Q.item.text)))},dependencies:[d.YU,E.h,E.D9,y.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}return V})();const R=V=>({disabled:V});let u=(()=>{class V{constructor(K,ae){this.router=ae,this.item=K}ngOnInit(){this.hasLink=(0,f.hj)(this.item.link)}getRouterLink(){if(this.hasLink)return this.item.link}navigate(K){K.preventDefault(),!this.item.disabled&&this.getRouterLink()&&this.router.navigate([this.getRouterLink()]),K.stopPropagation()}static#e=this.\u0275fac=function(ae){return new(ae||V)(i.rXU("itemModelProvider"),i.rXU(y.Ix))};static#t=this.\u0275cmp=i.VBU({type:V,selectors:[["ds-link-menu-item"]],standalone:!0,features:[i.aNF],decls:3,vars:10,consts:[["role","menuitem","href","javascript:void(0);",1,"ds-menu-item",3,"click","keyup.space","keydown.enter","ngClass","routerLink","queryParams"]],template:function(ae,Q){1&ae&&(i.j41(0,"a",0),i.bIt("click",function(z){return z.stopPropagation()})("keyup.space",function(z){return Q.navigate(z)})("keydown.enter",function(z){return Q.navigate(z)}),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&ae&&(i.Y8G("ngClass",i.eq3(8,R,!Q.hasLink||Q.item.disabled))("routerLink",Q.getRouterLink())("queryParams",Q.item.queryParams),i.BMQ("aria-disabled",!Q.hasLink||Q.item.disabled)("data-test","link-menu-item."+Q.item.text),i.R7$(),i.JRh(i.bMT(2,6,Q.item.text)))},dependencies:[d.YU,y.Wk,E.h,E.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}return V})();function v(V,X){if(1&V){const K=i.RV6();i.j41(0,"a",2),i.nI1(1,"translate"),i.bIt("click",function(Q){i.eBV(K);const J=i.XpG();return i.Njj(J.activate(Q))})("keyup.space",function(Q){i.eBV(K);const J=i.XpG();return i.Njj(J.activate(Q))})("keyup.enter",function(Q){i.eBV(K);const J=i.XpG();return i.Njj(J.activate(Q))}),i.EFF(2),i.nI1(3,"translate"),i.k0s()}if(2&V){const K=i.XpG();i.Y8G("title",i.bMT(1,2,K.item.text)),i.R7$(2),i.JRh(i.bMT(3,4,K.item.text))}}function S(V,X){if(1&V&&(i.j41(0,"span",3),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&V){const K=i.XpG();i.R7$(),i.JRh(i.bMT(2,1,K.item.text))}}let M=(()=>{class V{constructor(K){this.item=K}activate(K){this.item.disabled||(K.preventDefault(),this.item.function(),K.stopPropagation())}static#e=this.\u0275fac=function(ae){return new(ae||V)(i.rXU("itemModelProvider"))};static#t=this.\u0275cmp=i.VBU({type:V,selectors:[["ds-onclick-menu-item"]],standalone:!0,features:[i.aNF],decls:2,vars:2,consts:[["class","ds-menu-item","role","menuitem","routerLinkActive","active","href","javascript:void(0);",3,"title","click","keyup.space","keyup.enter",4,"ngIf"],["class","nav-item nav-link disabled",4,"ngIf"],["role","menuitem","routerLinkActive","active","href","javascript:void(0);",1,"ds-menu-item",3,"click","keyup.space","keyup.enter","title"],[1,"nav-item","nav-link","disabled"]],template:function(ae,Q){1&ae&&i.DNE(0,v,4,6,"a",0)(1,S,3,3,"span",1),2&ae&&(i.Y8G("ngIf",!Q.item.disabled),i.R7$(),i.Y8G("ngIf",Q.item.disabled))},dependencies:[d.bT,E.h,E.D9,y.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}","a[_ngcontent-%COMP%]{cursor:pointer}"]})}return V})(),F=(()=>{class V{constructor(K){this.item=K}static#e=this.\u0275fac=function(ae){return new(ae||V)(i.rXU("itemModelProvider"))};static#t=this.\u0275cmp=i.VBU({type:V,selectors:[["ds-text-menu-item"]],standalone:!0,features:[i.aNF],decls:3,vars:5,consts:[[1,"ds-menu-item"]],template:function(ae,Q){1&ae&&(i.j41(0,"span",0),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&ae&&(i.AVh("disabled",Q.item.disabled),i.R7$(),i.JRh(i.bMT(2,3,Q.item.text)))},dependencies:[E.h,E.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}return V})();const $=new Map;$.set(_.x.EXTERNAL,I),$.set(_.x.LINK,u),$.set(_.x.ONCLICK,M),$.set(_.x.TEXT,F);class G{constructor(){this.shouldPersistOnRouteChange=!1}}let Y=(()=>{class V{constructor(K,ae,Q){this.section=K,this.menuService=ae,this.injector=Q,this.sectionMap$=new n.t(new Map),this.subs=[]}ngOnInit(){this.active=this.menuService.isSectionActive(this.menuID,this.section.id).pipe((0,c.F)()),this.initializeInjectorData()}toggleSection(K){K.preventDefault(),this.section.model?.disabled||this.menuService.toggleActiveSection(this.menuID,this.section.id)}activateSection(K){K.preventDefault(),this.section.model?.disabled||this.menuService.activateSection(this.menuID,this.section.id)}deactivateSection(K){K.preventDefault(),this.menuService.deactivateSection(this.menuID,this.section.id)}initializeInjectorData(){this.updateSectionMap(this.section.id,this.getItemModelInjector(this.section.model),this.getMenuItemComponent(this.section.model)),this.subSections$=this.menuService.getSubSectionsByParentID(this.menuID,this.section.id),this.subs.push(this.subSections$.pipe((0,e.n)(K=>K)).subscribe(K=>{this.updateSectionMap(K.id,this.getItemModelInjector(K.model),this.getMenuItemComponent(K.model))}))}updateSectionMap(K,ae,Q){const J=this.sectionMap$.getValue();J.set(K,{injector:ae,component:Q}),this.sectionMap$.next(J)}getMenuItemComponent(K){return(0,f.Tn)(K)&&(K=this.section.model),function x(V){return $.get(V)}(K.type)}getItemModelInjector(K){return(0,f.Tn)(K)&&(K=this.section.model),i.zZn.create({providers:[{provide:"itemModelProvider",useFactory:()=>K,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(K=>(0,f.a4)(K)).forEach(K=>K.unsubscribe())}static#e=this.\u0275fac=function(ae){return new(ae||V)(i.rXU(G),i.rXU(g.$),i.rXU(i.zZn))};static#t=this.\u0275cmp=i.VBU({type:V,selectors:[["ds-menu-section"]],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(ae,Q){},encapsulation:2})}return V})()},53782:(B,D,t)=>{"use strict";t.d(D,{C0:()=>R,F$:()=>c,FH:()=>T,Hw:()=>I,JG:()=>g,JK:()=>y,PM:()=>_,YN:()=>O,cf:()=>u,eq:()=>e,ie:()=>d,j$:()=>w,jZ:()=>n,oh:()=>E,sP:()=>f,tU:()=>v});var i=t(83770);const n={COLLAPSE_MENU:(0,i.N)("dspace/menu/COLLAPSE_MENU"),TOGGLE_MENU:(0,i.N)("dspace/menu/TOGGLE_MENU"),EXPAND_MENU:(0,i.N)("dspace/menu/EXPAND_MENU"),SHOW_MENU:(0,i.N)("dspace/menu/SHOW_MENU"),HIDE_MENU:(0,i.N)("dspace/menu/HIDE_MENU"),REINIT_MENUS:(0,i.N)("dspace/menu/REINIT_MENUS"),COLLAPSE_MENU_PREVIEW:(0,i.N)("dspace/menu/COLLAPSE_MENU_PREVIEW"),EXPAND_MENU_PREVIEW:(0,i.N)("dspace/menu/EXPAND_MENU_PREVIEW"),ADD_SECTION:(0,i.N)("dspace/menu-section/ADD_SECTION"),REMOVE_SECTION:(0,i.N)("dspace/menu-section/REMOVE_SECTION"),SHOW_SECTION:(0,i.N)("dspace/menu-section/SHOW_SECTION"),HIDE_SECTION:(0,i.N)("dspace/menu-section/HIDE_SECTION"),ACTIVATE_SECTION:(0,i.N)("dspace/menu-section/ACTIVATE_SECTION"),DEACTIVATE_SECTION:(0,i.N)("dspace/menu-section/DEACTIVATE_SECTION"),TOGGLE_ACTIVE_SECTION:(0,i.N)("dspace/menu-section/TOGGLE_ACTIVE_SECTION")};class c{constructor(M){this.type=n.COLLAPSE_MENU,this.menuID=M}}class e{constructor(M){this.type=n.EXPAND_MENU,this.menuID=M}}class f{constructor(M){this.type=n.TOGGLE_MENU,this.menuID=M}}class g{constructor(M){this.type=n.SHOW_MENU,this.menuID=M}}class d{constructor(M){this.type=n.HIDE_MENU,this.menuID=M}}class y{constructor(M){this.type=n.COLLAPSE_MENU_PREVIEW,this.menuID=M}}class E{constructor(M){this.type=n.EXPAND_MENU_PREVIEW,this.menuID=M}}class _{constructor(){this.type=n.REINIT_MENUS}}class b{constructor(M,L){this.menuID=M,this.id=L}}class O extends b{constructor(M,L){super(M,L.id),this.type=n.ADD_SECTION,this.section=L}}class I extends b{constructor(M,L){super(M,L),this.type=n.REMOVE_SECTION}}class T extends b{constructor(M,L){super(M,L),this.type=n.HIDE_SECTION}}class R extends b{constructor(M,L){super(M,L),this.type=n.SHOW_SECTION}}class u extends b{constructor(M,L){super(M,L),this.type=n.ACTIVATE_SECTION}}class w extends b{constructor(M,L){super(M,L),this.type=n.DEACTIVATE_SECTION}}class v extends b{constructor(M,L){super(M,L),this.type=n.TOGGLE_ACTIVE_SECTION}}},36051:(B,D,t)=>{"use strict";t.d(D,{Z:()=>pe});var i=t(53107),n=t(71217),c=t(63016),e=t(22867),f=t(27035),g=t(47947),d=t(66645),y=t(77304),E=t(36556),_=t(72683),b=t(16182),O=t(62990),I=t(82191),T=t(20780),R=t(21124);t(5161);const w=["*"];function v(re,ve){}let S=(()=>{class re extends R.J{getComponentName(){return"ExpandableNavbarSectionComponent"}importThemedComponent(fe){return t(88289)(`./${fe}/app/navbar/expandable-navbar-section/expandable-navbar-section.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,5161))}static#e=this.\u0275fac=(()=>{let fe;return function(Ne){return(fe||(fe=i.xGo(re)))(Ne||re)}})();static#t=this.\u0275cmp=i.VBU({type:re,selectors:[["ds-expandable-navbar-section"]],standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:w,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(Ie,Ne){1&Ie&&(i.NAR(),i.DNE(0,v,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}return re})();var M=t(39763),L=t(54460),F=t(2155),$=t(69685),j=t(78198),x=t(29155),G=t(95968);function Y(re,ve){if(1&re&&i.nrm(0,"i"),2&re){const fe=i.XpG(2).$implicit;i.ZvI("fas fa-",fe.icon," fa-fw")}}function V(re,ve){1&re&&i.nrm(0,"i",11)}function X(re,ve){if(1&re&&(i.j41(0,"div",9),i.DNE(1,Y,1,3,"i",10)(2,V,1,0,"ng-template",null,0,i.C5r),i.k0s()),2&re){const fe=i.sdS(3),Ie=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",Ie.icon)("ngIfElse",fe)}}function K(re,ve){1&re&&i.eu8(0)}function ae(re,ve){if(1&re&&(i.j41(0,"li",6),i.DNE(1,X,4,2,"div",7),i.nI1(2,"async"),i.DNE(3,K,1,0,"ng-container",8),i.nI1(4,"async"),i.nI1(5,"async"),i.k0s()),2&re){const fe=ve.$implicit,Ie=i.XpG();i.R7$(),i.Y8G("ngIf",i.bMT(2,3,Ie.renderIcons$)),i.R7$(2),i.Y8G("ngComponentOutlet",i.bMT(4,5,Ie.sectionMap$).get(fe.id).component)("ngComponentOutletInjector",i.bMT(5,7,Ie.sectionMap$).get(fe.id).injector)}}let Q=(()=>{class re extends x.a{constructor(fe,Ie,Ne,qe){super(fe,Ie,Ne),this.menuService=Ie,this.injector=Ne,this.router=qe,this.menuID=j.D.DSO_EDIT,this.itemModel=fe.model}ngOnInit(){this.menuService.activateSection(this.menuID,this.section.id),super.ngOnInit(),this.renderIcons$=this.subSections$.pipe((0,g.T)(fe=>fe.some(Ie=>(0,_.a4)(Ie.icon))))}static#e=this.\u0275fac=function(Ie){return new(Ie||re)(i.rXU("sectionDataProvider"),i.rXU(O.$),i.rXU(i.zZn),i.rXU(G.Ix))};static#t=this.\u0275cmp=i.VBU({type:re,selectors:[["ds-dso-edit-menu-expandable-section"]],standalone:!0,features:[i.Vt3,i.aNF],decls:10,vars:16,consts:[["spacer",""],["ngbDropdown","","container","body","placement","bottom-right",1,"dso-button-menu","mb-1"],["container","body",1,"d-flex","flex-row","flex-nowrap",3,"ngbTooltip"],["ngbDropdownToggle","",1,"btn","btn-dark","btn-sm",3,"title","disabled"],["ngbDropdownMenu","",1,"dso-edit-menu-dropdown"],["class","nav-item nav-link d-flex flex-row",4,"ngFor","ngForOf"],[1,"nav-item","nav-link","d-flex","flex-row"],["class","mr-2",4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[1,"mr-2"],[3,"class",4,"ngIf","ngIfElse"],[1,"fas","fa-fw"]],template:function(Ie,Ne){1&Ie&&(i.j41(0,"div",1)(1,"div",2),i.nI1(2,"translate"),i.j41(3,"button",3),i.nI1(4,"translate"),i.nI1(5,"translate"),i.nrm(6,"i"),i.k0s(),i.j41(7,"ul",4),i.DNE(8,ae,6,9,"li",5),i.nI1(9,"async"),i.k0s()()()),2&Ie&&(i.R7$(),i.Y8G("ngbTooltip",i.bMT(2,8,Ne.itemModel.text)),i.R7$(2),i.Y8G("title",i.bMT(4,10,Ne.itemModel.text))("disabled",null==Ne.section.model?null:Ne.section.model.disabled),i.BMQ("aria-label",i.bMT(5,12,Ne.itemModel.text)),i.R7$(3),i.ZvI("fas fa-",Ne.section.icon," fa-fw"),i.R7$(2),i.Y8G("ngForOf",i.bMT(9,14,Ne.subSections$)))},dependencies:[F.zH,F.tg,F.do,F.U0,F.n8,F.md,L.pM,L.bT,L.OI,$.h,$.D9,L.Jj],styles:[".btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}.dso-button-menu[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg);color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a{color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a.disabled{color:var(--bs-btn-link-disabled-color)}ul.dropdown-menu[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{color:var(--bs-btn-link-disabled-color)}.dso-edit-menu-dropdown[_ngcontent-%COMP%]{max-width:min(600px,75vw)}"]})}return re})();function J(re,ve){if(1&re&&(i.j41(0,"a",4),i.nrm(1,"i",5),i.j41(2,"span",6),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&re){const fe=i.XpG(2);i.Y8G("routerLink",fe.itemModel.link),i.R7$(),i.ZvI("fas fa-",fe.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(4,5,fe.itemModel.text))}}function z(re,ve){if(1&re&&(i.j41(0,"button",7),i.nrm(1,"i",5),i.j41(2,"span",6),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&re){const fe=i.XpG(2);i.Y8G("disabled",!0),i.R7$(),i.ZvI("fas fa-",fe.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(4,5,fe.itemModel.text))}}function q(re,ve){if(1&re&&(i.j41(0,"div",1),i.nI1(1,"translate"),i.DNE(2,J,5,7,"a",2)(3,z,5,7,"button",3),i.k0s()),2&re){const fe=i.XpG();i.Y8G("ngbTooltip",i.bMT(1,3,fe.itemModel.text)),i.R7$(2),i.Y8G("ngIf",!fe.section.model.disabled),i.R7$(),i.Y8G("ngIf",fe.section.model.disabled)}}function ee(re,ve){if(1&re){const fe=i.RV6();i.j41(0,"div",1),i.nI1(1,"translate"),i.j41(2,"button",8),i.bIt("click",function(Ne){i.eBV(fe);const qe=i.XpG();return i.Njj(qe.activate(Ne))}),i.nrm(3,"i",5),i.j41(4,"span",6),i.EFF(5),i.nI1(6,"translate"),i.k0s()()()}if(2&re){const fe=i.XpG();i.Y8G("ngbTooltip",i.bMT(1,6,fe.itemModel.text)),i.R7$(2),i.Y8G("disabled",fe.section.model.disabled),i.R7$(),i.ZvI("fas fa-",fe.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(6,8,fe.itemModel.text))}}let de=(()=>{class re extends x.a{constructor(fe,Ie,Ne){super(fe,Ie,Ne),this.menuService=Ie,this.injector=Ne,this.menuID=j.D.DSO_EDIT,this.itemModel=fe.model}ngOnInit(){this.hasLink=(0,_.hj)(this.itemModel?.link),this.canActivate=(0,_.hj)(this.itemModel?.function),super.ngOnInit()}activate(fe){fe.preventDefault(),this.itemModel.disabled||this.itemModel.function(),fe.stopPropagation()}static#e=this.\u0275fac=function(Ie){return new(Ie||re)(i.rXU("sectionDataProvider"),i.rXU(O.$),i.rXU(i.zZn))};static#t=this.\u0275cmp=i.VBU({type:re,selectors:[["ds-dso-edit-menu-section"]],standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:2,consts:[["class","dso-button-menu mb-1",3,"ngbTooltip",4,"ngIf"],[1,"dso-button-menu","mb-1",3,"ngbTooltip"],["class","btn btn-dark btn-sm",3,"routerLink",4,"ngIf"],["class","btn btn-dark btn-sm",3,"disabled",4,"ngIf"],[1,"btn","btn-dark","btn-sm",3,"routerLink"],["aria-hidden","true"],[1,"sr-only"],[1,"btn","btn-dark","btn-sm",3,"disabled"],[1,"btn","btn-dark","btn-sm",3,"click","disabled"]],template:function(Ie,Ne){1&Ie&&i.DNE(0,q,4,5,"div",0)(1,ee,7,10,"div",0),2&Ie&&(i.Y8G("ngIf",!Ne.canActivate),i.R7$(),i.Y8G("ngIf",Ne.canActivate))},dependencies:[L.bT,F.n8,F.md,G.Wk,$.h,$.D9],styles:[".btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}"]})}return re})();var Ce=t(50999);const Z=new Map;Z.set(j.D.ADMIN,new Map),Z.get(j.D.ADMIN).set(!1,new Map),Z.get(j.D.ADMIN).get(!1).set(Ce.SS,I.g),Z.get(j.D.ADMIN).set(!0,new Map),Z.get(j.D.ADMIN).get(!0).set(Ce.SS,T.W),Z.set(j.D.PUBLIC,new Map),Z.get(j.D.PUBLIC).set(!1,new Map),Z.get(j.D.PUBLIC).get(!1).set(Ce.SS,M.X),Z.get(j.D.PUBLIC).set(!0,new Map),Z.get(j.D.PUBLIC).get(!0).set(Ce.SS,S),Z.set(j.D.DSO_EDIT,new Map),Z.get(j.D.DSO_EDIT).set(!1,new Map),Z.get(j.D.DSO_EDIT).get(!1).set(Ce.SS,de),Z.get(j.D.DSO_EDIT).set(!0,new Map),Z.get(j.D.DSO_EDIT).get(!0).set(Ce.SS,Q);let pe=(()=>{class re{constructor(fe,Ie,Ne,qe,we){this.menuService=fe,this.injector=Ie,this.authorizationService=Ne,this.route=qe,this.themeService=we,this.sectionMap$=new n.t(new Map),this.subs=[]}ngOnInit(){this.activatedRouteLastChild=this.getActivatedRoute(this.route),this.menuCollapsed=this.menuService.isMenuCollapsed(this.menuID),this.menuPreviewCollapsed=this.menuService.isMenuPreviewCollapsed(this.menuID),this.menuVisible=this.menuService.isMenuVisible(this.menuID),this.sections=this.menuService.getMenuTopSections(this.menuID),this.subs.push(this.sections.pipe((0,e.n)(fe=>fe),(0,f.Z)(fe=>fe.id.includes("statistics")?this.getAuthorizedStatistics(fe):(0,c.of)(fe)),(0,_.VT)(),(0,e.n)(fe=>this.getSectionComponent(fe).pipe((0,g.T)(Ie=>({section:fe,component:Ie})))),(0,d.F)((fe,Ie)=>fe.section.id===Ie.section.id&&fe.component.prototype===Ie.component.prototype)).subscribe(({section:fe,component:Ie})=>{const Ne=this.sectionMap$.getValue();Ne.set(fe.id,{injector:this.getSectionDataInjector(fe),component:Ie}),this.sectionMap$.next(Ne)}))}getActivatedRoute(fe){return fe.children.length>0?this.getActivatedRoute(fe.firstChild):fe}getAuthorizedStatistics(fe){return this.activatedRouteLastChild.data.pipe((0,e.n)(Ie=>this.authorizationService.isAuthorized(E._.CanViewUsageStatistics,this.getObjectUrl(Ie)).pipe((0,g.T)(Ne=>Ne?fe:{}))))}getObjectUrl(fe){return(fe.site?fe.site:fe.dso?.payload)?._links?.self?.href}toggle(fe){fe.preventDefault(),this.menuService.toggleMenu(this.menuID)}expand(fe){fe.preventDefault(),this.menuService.expandMenu(this.menuID)}collapse(fe){fe.preventDefault(),this.menuService.collapseMenu(this.menuID)}expandPreview(fe){fe.preventDefault(),this.previewToggleDebounce(()=>this.menuService.expandMenuPreview(this.menuID),100)}collapsePreview(fe){fe.preventDefault(),this.previewToggleDebounce(()=>this.menuService.collapseMenuPreview(this.menuID),400)}previewToggleDebounce(fe,Ie){(0,_.a4)(this.previewTimer)&&clearTimeout(this.previewTimer),this.previewTimer=setTimeout(fe,Ie)}getSectionComponent(fe){return this.menuService.hasSubSections(this.menuID,fe.id).pipe((0,g.T)(Ie=>function De(re,ve,fe){const Ie=Z.get(re).get(ve).get(fe);return(0,_.a4)(Ie)?Ie:Z.get(re).get(ve).get(Ce.SS)}(this.menuID,Ie,this.themeService.getThemeName())))}getSectionDataInjector(fe){return i.zZn.create({providers:[{provide:"sectionDataProvider",useFactory:()=>fe,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(fe=>(0,_.a4)(fe)).forEach(fe=>fe.unsubscribe())}static#e=this.\u0275fac=function(Ie){return new(Ie||re)(i.rXU(O.$),i.rXU(i.zZn),i.rXU(y.AuthorizationDataService),i.rXU(G.nX),i.rXU(b.Fs))};static#t=this.\u0275cmp=i.VBU({type:re,selectors:[["ds-menu"]],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(Ie,Ne){},encapsulation:2})}return re})()},62990:(B,D,t)=>{"use strict";t.d(D,{$:()=>F});var i=t(95968),n=t(73958),c=t(76627),e=t(47947),f=t(66645),g=t(22867),d=t(41483),y=t(37610),E=t(44363),_=t(3618),b=t(72683),O=t(53782),I=t(78198),T=t(53107);function R($,j){return(0,n.Mz)(j,x=>{if((0,b.a4)(x))return x[$]})}const u=$=>$.menus,w=$=>(0,E.pc)($,u),v=$=>(0,b.a4)($)?$.sections:{},M=$=>$.sectionToSubsectionIndex,L=$=>R($,M);let F=(()=>{class ${constructor(x,G,Y){this.store=x,this.route=G,this.router=Y}getMenu(x){return this.store.pipe((0,n.Lt)(w(x)))}getMenuTopSections(x,G=!0){return this.store.pipe((0,n.Lt)(w(x)),(0,n.Lt)(v),(0,e.T)(Y=>Object.values(Y)),(0,f.F)((0,_.W2)()),(0,e.T)(Y=>Y.filter(V=>(0,b.Tn)(V.parentID)).filter(V=>!G||V.visible)))}getSubSectionsByParentID(x,G,Y=!0){return this.store.pipe((0,n.Lt)(w(x)),(0,n.Lt)(L(G)),(0,e.T)(V=>(0,b.hj)(V)?V:[]),(0,g.n)(V=>(0,c.z)(V.map(X=>this.getMenuSection(x,X)))),(0,e.T)(V=>V.filter(X=>(0,b.a4)(X)&&(!Y||X.visible))))}hasSubSections(x,G){return this.store.pipe((0,n.Lt)(w(x)),(0,n.Lt)(L(G)),(0,e.T)(Y=>(0,b.hj)(Y)))}getMenuSection(x,G){return this.store.pipe((0,n.Lt)(w(x)),(0,n.Lt)(($=>R($,v))(G)))}getNonPersistentMenuSections(x){return this.getMenu(x).pipe((0,e.T)(G=>Object.values(G.sections).filter(Y=>!Y.shouldPersistOnRouteChange)))}addSection(x,G){this.store.dispatch(new O.YN(x,G))}removeSection(x,G){this.store.dispatch(new O.Hw(x,G))}isMenuCollapsed(x){return this.getMenu(x).pipe((0,e.T)(G=>(0,b.a4)(G)?G.collapsed:void 0))}isMenuPreviewCollapsed(x){return this.getMenu(x).pipe((0,e.T)(G=>(0,b.a4)(G)?G.previewCollapsed:void 0))}isMenuVisibleWithVisibleSections(x){return(0,c.z)([this.isMenuVisible(x),this.menuHasVisibleSections(x)]).pipe((0,e.T)(([G,Y])=>G&&Y))}isMenuVisible(x){return this.getMenu(x).pipe((0,e.T)(G=>(0,b.a4)(G)?G.visible:void 0))}menuHasVisibleSections(x){return this.getMenu(x).pipe((0,e.T)(G=>(0,b.a4)(G)?Object.values(G.sections).some(Y=>Y.visible&&void 0===Y.parentID):void 0))}expandMenu(x){this.store.dispatch(new O.eq(x))}collapseMenu(x){this.store.dispatch(new O.F$(x))}expandMenuPreview(x){this.store.dispatch(new O.oh(x))}collapseMenuPreview(x){this.store.dispatch(new O.JK(x))}toggleMenu(x){this.store.dispatch(new O.sP(x))}showMenu(x){this.store.dispatch(new O.JG(x))}showMenuSection(x,G){this.store.dispatch(new O.C0(x,G))}hideMenu(x){this.store.dispatch(new O.ie(x))}hideMenuSection(x,G){this.store.dispatch(new O.FH(x,G))}toggleActiveSection(x,G){this.store.dispatch(new O.tU(x,G))}activateSection(x,G){this.store.dispatch(new O.cf(x,G))}deactivateSection(x,G){this.store.dispatch(new O.j$(x,G))}isSectionActive(x,G){return this.getMenuSection(x,G).pipe((0,b.Az)(),(0,e.T)(Y=>Y.active))}isSectionVisible(x,G){return this.getMenuSection(x,G).pipe((0,e.T)(Y=>Y.visible))}listenForRouteChanges(){this.router.events.pipe((0,d.p)(x=>x instanceof i.wF)).subscribe(()=>{Object.values(I.D).forEach(x=>{this.buildRouteMenuSections(x)})})}buildRouteMenuSections(x){this.getNonPersistentMenuSections(x).pipe((0,e.T)(G=>G.map(Y=>Y.id)),(0,y.s)(1)).subscribe(G=>{this.resolveRouteMenuSections(this.route.root,x).forEach(V=>{const X=G.indexOf(V.id);X>-1?G.splice(X,1):this.addSection(x,V)}),G.forEach(V=>{this.removeSection(x,V)})})}resolveRouteMenuSections(x,G){const Y=x.snapshot.data,V=x.snapshot.params,X=(0,b.Tn)(x.firstChild);if((0,b.a4)(Y)&&(0,b.a4)(Y.menu)&&(0,b.a4)(Y.menu[G])){let K=Y.menu[G];if(K=this.resolveSubstitutions(K,V),Array.isArray(K)||(K=[K]),X)return[...K];{const ae=this.resolveRouteMenuSections(x.firstChild,G);return[...K.filter(Q=>!ae.map(J=>J.id).includes(Q.id)),...ae]}}return X?[]:this.resolveRouteMenuSections(x.firstChild,G)}resolveSubstitutions(x,G){let Y;return(0,b.Im)(G)?Y=x:"string"==typeof x?(Y=x,Object.entries(G).forEach(([V,X])=>Y=Y.replaceAll(`:${V}`,X))):Array.isArray(x)?(Y=[],x.forEach((V,X)=>{Y[X]=this.resolveSubstitutions(x[X],G)})):"object"==typeof x?(Y={},Object.keys(x).forEach(V=>{Y[V]=this.resolveSubstitutions(x[V],G)})):Y=x,Y}static#e=this.\u0275fac=function(G){return new(G||$)(T.KVO(n.il),T.KVO(i.nX),T.KVO(i.Ix))};static#t=this.\u0275prov=T.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})()},8460:(B,D,t)=>{"use strict";t.d(D,{Q:()=>f});var i=t(54460),n=t(53107);const c=["*"];function e(g,d){if(1&g&&(n.j41(0,"h2",4),n.EFF(1),n.k0s()),2&g){const y=n.XpG();n.R7$(),n.JRh(y.label)}}let f=(()=>{class g{constructor(){this.hideIfNoTextContent=!0}static#e=this.\u0275fac=function(E){return new(E||g)};static#t=this.\u0275cmp=n.VBU({type:g,selectors:[["ds-metadata-field-wrapper"]],inputs:{label:"label",hideIfNoTextContent:"hideIfNoTextContent"},standalone:!0,features:[n.aNF],ngContentSelectors:c,decls:5,vars:3,consts:[["content",""],[1,"simple-view-element"],["class","simple-view-element-header",4,"ngIf"],[1,"simple-view-element-body"],[1,"simple-view-element-header"]],template:function(E,_){if(1&E&&(n.NAR(),n.j41(0,"div",1),n.DNE(1,e,2,1,"h2",2),n.j41(2,"div",3,0),n.SdG(4),n.k0s()()),2&E){const b=n.sdS(3);n.AVh("d-none",_.hideIfNoTextContent&&0===b.textContent.trim().length),n.R7$(),n.Y8G("ngIf",_.label)}},dependencies:[i.bT],styles:["[_nghost-%COMP%]   .simple-view-element[_ngcontent-%COMP%]{margin-bottom:15px}[_nghost-%COMP%]   .simple-view-element-header[_ngcontent-%COMP%]{font-size:1.25rem}"]})}return g})()},37706:(B,D,t)=>{"use strict";t.d(D,{V:()=>d}),t(71526);var n=t(76794),c=t(16182),e=t(74669),f=t(53107);function g(y,E){}let d=(()=>{class y extends n.e{constructor(_,b){super(_),this.themeService=_,this.getMetadataRepresentationComponent=b,this.inputNamesDependentForComponent=["context","mdRepresentation"],this.inputNames=["context","mdRepresentation"]}getComponent(){return this.getMetadataRepresentationComponent(this.mdRepresentation.itemType,this.mdRepresentation.representationType,this.context,this.themeService.getThemeName())}static#e=this.\u0275fac=function(b){return new(b||y)(f.rXU(c.Fs),f.rXU(e.RM))};static#t=this.\u0275cmp=f.VBU({type:y,selectors:[["ds-metadata-representation-loader"]],inputs:{context:"context",mdRepresentation:"mdRepresentation"},standalone:!0,features:[f.Vt3,f.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(b,O){1&b&&f.DNE(0,g,0,0,"ng-template",1,0,f.C5r)},encapsulation:2})}return y})()},74669:(B,D,t)=>{"use strict";t.d(D,{RM:()=>De});var i=t(53107),n=t(38706),c=t(95968),e=t(2155),g=(t(14320),t(15497));t(71526);let y=(()=>{class Ne{isLink(){return new RegExp(/^https?:\/\/.*/).test(this.mdRepresentation.getValue())}static#e=this.\u0275fac=function(Be){return new(Be||Ne)};static#t=this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-metadata-representation-list-element"]],inputs:{context:"context",mdRepresentation:"mdRepresentation"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(Be,Ve){},encapsulation:2})}return Ne})(),E=(()=>{class Ne extends y{ngOnInit(){this.itemPageRoute=(0,g._o)(this.mdRepresentation)}static#e=this.\u0275fac=(()=>{let we;return function(Ve){return(we||(we=i.xGo(Ne)))(Ve||Ne)}})();static#t=this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-item-metadata-representation-list-element"]],inputs:{mdRepresentation:"mdRepresentation"},standalone:!0,features:[i.Vt3,i.aNF],decls:0,vars:0,template:function(Be,Ve){},encapsulation:2})}return Ne})();var _=t(37362);const b=Ne=>[Ne],O=()=>["dc.description"];function I(Ne,qe){if(1&Ne&&(i.j41(0,"span",3)(1,"span",4),i.nrm(2,"span",5),i.k0s()()),2&Ne){const we=i.XpG();i.R7$(2),i.Y8G("innerHTML",we.mdRepresentation.firstMetadataValue(i.lJ4(1,O)),i.npT)}}let T=(()=>{class Ne extends E{static#e=this.\u0275fac=(()=>{let we;return function(Ve){return(we||(we=i.xGo(Ne)))(Ve||Ne)}})();static#t=this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-org-unit-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:7,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-job-title"],[3,"innerHTML"]],template:function(Be,Ve){if(1&Be&&(i.DNE(0,I,3,2,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.k0s()),2&Be){const et=i.sdS(1);i.R7$(2),i.Y8G("id",Ve.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(4,b,Ve.itemPageRoute))("innerHTML",Ve.mdRepresentation.getValue(),i.npT)("ngbTooltip",Ve.mdRepresentation.allMetadata(i.lJ4(6,O)).length>0?et:null)}},dependencies:[_.d,c.Wk,e.n8,e.md],encapsulation:2})}return Ne})();var R=t(54460);const u=Ne=>[Ne],w=()=>["person.jobTitle"];function v(Ne,qe){if(1&Ne&&(i.j41(0,"span")(1,"span",7),i.nrm(2,"span",7),i.k0s()()),2&Ne){const we=qe.$implicit;i.R7$(),i.Y8G("innerHTML",we,i.npT),i.R7$(),i.Y8G("innerHTML",we,i.npT)}}function S(Ne,qe){if(1&Ne&&(i.j41(0,"span",5),i.DNE(1,v,3,2,"span",6),i.k0s()),2&Ne){const we=i.XpG(2);i.R7$(),i.Y8G("ngForOf",we.mdRepresentation.allMetadataValues(i.lJ4(1,w)))}}function M(Ne,qe){if(1&Ne&&(i.j41(0,"span",3),i.DNE(1,S,2,2,"span",4),i.k0s()),2&Ne){const we=i.XpG();i.R7$(),i.Y8G("ngIf",we.mdRepresentation.allMetadata(i.lJ4(1,w)).length>0)}}let L=(()=>{class Ne extends E{static#e=this.\u0275fac=(()=>{let we;return function(Ve){return(we||(we=i.xGo(Ne)))(Ve||Ne)}})();static#t=this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-person-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:7,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(Be,Ve){if(1&Be&&(i.DNE(0,M,2,2,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.k0s()),2&Be){const et=i.sdS(1);i.R7$(2),i.Y8G("id",Ve.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(4,u,Ve.itemPageRoute))("innerHTML",Ve.mdRepresentation.getValue(),i.npT)("ngbTooltip",Ve.mdRepresentation.allMetadata(i.lJ4(6,w)).length>0?et:null)}},dependencies:[R.bT,R.pM,_.d,c.Wk,e.n8,e.md],encapsulation:2})}return Ne})();var F=t(83116);const $=Ne=>[Ne];function j(Ne,qe){if(1&Ne&&(i.j41(0,"span",3)(1,"span",4),i.nrm(2,"span",5),i.k0s()()),2&Ne){const we=i.XpG();i.R7$(2),i.Y8G("innerHTML",we.dsoNameService.getName(we.mdRepresentation),i.npT)}}let x=(()=>{class Ne extends E{constructor(we){super(),this.dsoNameService=we}static#e=this.\u0275fac=function(Be){return new(Be||Ne)(i.rXU(F.f))};static#t=this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-project-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:6,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-project-title"],[3,"innerHTML"]],template:function(Be,Ve){if(1&Be&&(i.DNE(0,j,3,1,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.k0s()),2&Be){const et=i.sdS(1);i.R7$(2),i.Y8G("id",Ve.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(4,$,Ve.itemPageRoute))("innerHTML",Ve.dsoNameService.getName(Ve.mdRepresentation),i.npT)("ngbTooltip",Ve.dsoNameService.getName(Ve.mdRepresentation).length>0?et:null)}},dependencies:[_.d,c.Wk,e.n8,e.md],encapsulation:2})}return Ne})();var G=t(72683),Y=t(50999),V=t(25172);const X=Ne=>["/browse/",Ne];function K(Ne,qe){if(1&Ne&&(i.j41(0,"a",1),i.EFF(1),i.k0s()),2&Ne){const we=i.XpG();i.Y8G("routerLink",i.eq3(3,X,we.mdRepresentation.browseDefinition.id))("queryParams",we.getQueryParams()),i.R7$(),i.SpI(" ",we.mdRepresentation.getValue()," ")}}let ae=(()=>{class Ne extends y{getQueryParams(){const we={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===V.o.value?{value:this.mdRepresentation.getValue()}:we}static#e=this.\u0275fac=(()=>{let we;return function(Ve){return(we||(we=i.xGo(Ne)))(Ve||Ne)}})();static#t=this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-browse-link-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:1,consts:[["target","_blank","class","dont-break-out",3,"routerLink","queryParams",4,"ngIf"],["target","_blank",1,"dont-break-out",3,"routerLink","queryParams"]],template:function(Be,Ve){1&Be&&(i.j41(0,"div"),i.DNE(1,K,2,5,"a",0),i.j41(2,"b"),i.EFF(3,"(new browse link page)"),i.k0s()()),2&Be&&(i.R7$(),i.Y8G("ngIf","browse_link"===Ve.mdRepresentation.representationType))},dependencies:[R.bT,c.Wk],encapsulation:2})}return Ne})();var Q=t(88842),J=t(47637);let z=(()=>{class Ne extends y{constructor(){super(...arguments),this.viewMode=Q.n.ListElement}static#e=this.\u0275fac=(()=>{let we;return function(Ve){return(we||(we=i.xGo(Ne)))(Ve||Ne)}})();static#t=this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:1,vars:2,consts:[[3,"object","viewMode"]],template:function(Be,Ve){1&Be&&i.nrm(0,"ds-listable-object-component-loader",0),2&Be&&i.Y8G("object",Ve.mdRepresentation)("viewMode",Ve.viewMode)},dependencies:[J.v],encapsulation:2})}return Ne})();const q=Ne=>["/browse/",Ne];function ee(Ne,qe){if(1&Ne&&(i.j41(0,"span",3),i.EFF(1),i.k0s()),2&Ne){const we=i.XpG();i.R7$(),i.SpI(" ",we.mdRepresentation.getValue()," ")}}function de(Ne,qe){if(1&Ne&&(i.j41(0,"a",4),i.EFF(1),i.k0s()),2&Ne){const we=i.XpG();i.Y8G("href",we.mdRepresentation.getValue(),i.B4B),i.R7$(),i.SpI(" ",we.mdRepresentation.getValue()," ")}}function Ce(Ne,qe){if(1&Ne&&(i.j41(0,"span",3),i.EFF(1),i.k0s()),2&Ne){const we=i.XpG();i.R7$(),i.JRh(we.mdRepresentation.getValue())}}function Z(Ne,qe){if(1&Ne&&(i.j41(0,"a",5),i.EFF(1),i.k0s()),2&Ne){const we=i.XpG();i.Y8G("routerLink",i.eq3(3,q,we.mdRepresentation.browseDefinition.id))("queryParams",we.getQueryParams()),i.R7$(),i.SpI(" ",we.mdRepresentation.getValue()," ")}}let le=(()=>{class Ne extends y{getQueryParams(){const we={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===V.o.value?{value:this.mdRepresentation.getValue()}:we}static#e=this.\u0275fac=(()=>{let we;return function(Ve){return(we||(we=i.xGo(Ne)))(Ve||Ne)}})();static#t=this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-plain-text-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:5,vars:4,consts:[["class","dont-break-out",4,"ngIf"],["class","dont-break-out","target","_blank",3,"href",4,"ngIf"],["class","dont-break-out ds-browse-link",3,"routerLink","queryParams",4,"ngIf"],[1,"dont-break-out"],["target","_blank",1,"dont-break-out",3,"href"],[1,"dont-break-out","ds-browse-link",3,"routerLink","queryParams"]],template:function(Be,Ve){1&Be&&(i.j41(0,"div"),i.DNE(1,ee,2,1,"span",0)(2,de,2,2,"a",1)(3,Ce,2,1,"span",0)(4,Z,2,5,"a",2),i.k0s()),2&Be&&(i.R7$(),i.Y8G("ngIf","plain_text"===Ve.mdRepresentation.representationType&&!Ve.isLink()),i.R7$(),i.Y8G("ngIf","plain_text"===Ve.mdRepresentation.representationType&&Ve.isLink()),i.R7$(),i.Y8G("ngIf","authority_controlled"===Ve.mdRepresentation.representationType),i.R7$(),i.Y8G("ngIf","browse_link"===Ve.mdRepresentation.representationType))},dependencies:[R.bT,c.Wk],encapsulation:2})}return Ne})();const De=new i.nKC("getMetadataRepresentationComponent",{providedIn:"root",factory:()=>Ie}),pe="Publication",re=n.d.PlainText,ve=new Map([["Publication",new Map([[n.d.PlainText,new Map([[Y.A2,new Map([[Y.SS,le]])]])],[n.d.AuthorityControlled,new Map([[Y.A2,new Map([[Y.SS,le]])]])],[n.d.BrowseLink,new Map([[Y.A2,new Map([[Y.SS,ae]])]])],[n.d.Item,new Map([[Y.A2,new Map([[Y.SS,z]])]])]])],["Person",new Map([[n.d.Item,new Map([[Y.A2,new Map([[Y.SS,L]])]])]])],["OrgUnit",new Map([[n.d.Item,new Map([[Y.A2,new Map([[Y.SS,T]])]])]])],["Project",new Map([[n.d.Item,new Map([[Y.A2,new Map([[Y.SS,x]])]])]])]]);function Ie(Ne,qe,we=Y.A2,Be=Y.SS){const Ve=ve.get(Ne);if((0,G.a4)(Ve)){const et=Ve.get(qe);if((0,G.a4)(et)){const yt=et.get(we);if((0,G.a4)(yt)){const it=(0,Y.eW)(yt,Be);if((0,G.a4)(it))return it;if((0,G.a4)(yt.get(Y.SS)))return yt.get(Y.SS)}if((0,G.a4)(et.get(Y.A2))&&(0,G.a4)(et.get(Y.A2).get(Y.SS)))return et.get(Y.A2).get(Y.SS)}if((0,G.a4)(Ve.get(re))&&(0,G.a4)(Ve.get(re).get(Y.A2))&&(0,G.a4)(Ve.get(re).get(Y.A2).get(Y.SS)))return Ve.get(re).get(Y.A2).get(Y.SS)}return ve.get(pe).get(re).get(Y.A2).get(Y.SS)}},52619:(B,D,t)=>{"use strict";t.d(D,{SU:()=>ft,u3:()=>Ds});var i=t(54460),n=t(10936),c=t(2155),e=t(69685),f=t(34199),g=t(63524),d=t(47947),y=t(9843),E=t(63963),_=t(98985),b=t(12007),O=t(91427),I=t(77490),T=t(79224),R=t(16572),u=t(53107),w=t(95968);let v=(()=>{class Ye extends R.${constructor(ut,mt,xt,sn,jn,An,ds,Ks,Cs,yi){super(ut,mt,xt,sn,jn,An,Cs,yi),this.route=ut,this.workflowItemService=mt,this.router=xt,this.routeService=sn,this.notificationsService=jn,this.translationService=An,this.workflowActionService=ds,this.claimedTaskDataService=Ks,this.requestService=Cs,this.location=yi}ngOnInit(){super.ngOnInit(),this.workflowAction$=this.workflowActionService.findById(this.route.snapshot.queryParams.workflow).pipe((0,b.ak)())}performAction(){this.sendRequest(this.route.snapshot.queryParams.claimedTask).subscribe(ut=>{if(ut){const mt=this.translationService.get("workflow-item."+this.type+".notification.success.title"),xt=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(mt,xt),this.previousPage()}else{const mt=this.translationService.get("workflow-item."+this.type+".notification.error.title"),xt=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(mt,xt)}})}sendRequest(ut){return this.claimedTaskDataService.submitTask(ut,this.createBody()).pipe((0,d.T)(mt=>mt.hasSucceeded))}static#e=this.\u0275fac=function(mt){return new(mt||Ye)(u.rXU(w.nX),u.rXU(O.WorkflowItemDataService),u.rXU(w.Ix),u.rXU(_.v$),u.rXU(T.I),u.rXU(e.c$),u.rXU(E.WorkflowActionDataService),u.rXU(I.ClaimedTaskDataService),u.rXU(y.B),u.rXU(i.aZ))};static#t=this.\u0275cmp=u.VBU({type:Ye,selectors:[["ds-advanced-workflow-action"]],features:[u.Vt3],decls:0,vars:0,template:function(mt,xt){},encapsulation:2})}return Ye})();const S=Ye=>({"is-invalid":Ye}),M=Ye=>({"text-danger":Ye});function L(Ye,Et){1&Ye&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ye&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"advanced-workflow-action.rating.description-requiredDescription")," "))}function F(Ye,Et){1&Ye&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ye&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"advanced-workflow-action.rating.description")," "))}function $(Ye,Et){1&Ye&&(u.j41(0,"span"),u.EFF(1,"*"),u.k0s())}function j(Ye,Et){1&Ye&&(u.j41(0,"small",15),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ye&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"advanced-workflow-action.rating.form.review.error")," "))}function x(Ye,Et){1&Ye&&(u.j41(0,"small",15),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ye&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"advanced-workflow-action.rating.form.rating.error")," "))}function G(Ye,Et){if(1&Ye){const ut=u.RV6();u.j41(0,"form",7),u.bIt("ngSubmit",function(){u.eBV(ut);const xt=u.XpG(2);return u.Njj(xt.performAction())}),u.j41(1,"div",8)(2,"label",9)(3,"span"),u.EFF(4),u.nI1(5,"translate"),u.k0s(),u.DNE(6,$,2,0,"span",1),u.k0s(),u.j41(7,"textarea",10),u.EFF(8,"      "),u.k0s(),u.DNE(9,j,3,3,"small",11),u.k0s(),u.j41(10,"div",8)(11,"label",12),u.EFF(12),u.nI1(13,"translate"),u.k0s(),u.j41(14,"div",13),u.nrm(15,"ngb-rating",14),u.k0s(),u.DNE(16,x,3,3,"small",11),u.k0s()()}if(2&Ye){const ut=u.XpG().ngVar,mt=u.XpG();u.Y8G("formGroup",mt.ratingForm),u.R7$(4),u.JRh(u.bMT(5,10,"advanced-workflow-action.rating.form.review.label")),u.R7$(2),u.Y8G("ngIf",null==ut?null:ut.descriptionRequired),u.R7$(),u.Y8G("ngClass",u.eq3(14,S,mt.isInvalid("review")))("required",null==ut?null:ut.descriptionRequired),u.R7$(2),u.Y8G("ngIf",mt.isInvalid("review")),u.R7$(3),u.SpI(" ",u.bMT(13,12,"advanced-workflow-action.rating.form.rating.label"),"* "),u.R7$(3),u.Y8G("max",null==ut?null:ut.maxValue)("ngClass",u.eq3(16,M,mt.isInvalid("rating"))),u.R7$(),u.Y8G("ngIf",mt.isInvalid("rating"))}}function Y(Ye,Et){if(1&Ye&&(u.nrm(0,"ds-modify-item-overview",16),u.nI1(1,"async")),2&Ye){const ut=u.XpG(2);u.Y8G("item",u.bMT(1,1,ut.item$))}}function V(Ye,Et){if(1&Ye){const ut=u.RV6();u.j41(0,"div"),u.DNE(1,L,3,3,"p",1)(2,F,3,3,"p",1)(3,G,17,18,"form",2)(4,Y,2,3,"ds-modify-item-overview",3),u.nI1(5,"async"),u.j41(6,"div",4)(7,"button",5),u.bIt("click",function(){u.eBV(ut);const xt=u.XpG();return u.Njj(xt.previousPage())}),u.EFF(8),u.nI1(9,"translate"),u.k0s(),u.j41(10,"button",6),u.bIt("click",function(){u.eBV(ut);const xt=u.XpG();return u.Njj(xt.performAction())}),u.EFF(11),u.nI1(12,"translate"),u.k0s()()()}if(2&Ye){const ut=Et.ngVar,mt=u.XpG();u.R7$(),u.Y8G("ngIf",null==ut?null:ut.descriptionRequired),u.R7$(),u.Y8G("ngIf",!(null!=ut&&ut.descriptionRequired)),u.R7$(),u.Y8G("ngIf",mt.ratingForm),u.R7$(),u.Y8G("ngIf",u.bMT(5,6,mt.item$)),u.R7$(4),u.SpI(" ",u.bMT(9,8,"workflow-item."+mt.getType()+".button.cancel")," "),u.R7$(3),u.SpI(" ",u.bMT(12,10,"workflow-item."+mt.getType()+".button.confirm")," ")}}const X="submit_score",K="scorereviewaction";let ae=(()=>{class Ye extends v{ngOnInit(){super.ngOnInit(),this.ratingForm=new n.J3({review:new n.hs(""),rating:new n.hs(0,n.k0.min(1))})}performAction(){this.ratingForm.updateValueAndValidity(),this.ratingForm.valid?super.performAction():this.ratingForm.markAllAsTouched()}createBody(){const ut={[X]:!0,score:this.ratingForm.get("rating").value};if(""!==this.ratingForm.get("review").value){const mt=this.ratingForm.get("review").value;Object.assign(ut,{review:mt})}return ut}getType(){return K}getAdvancedInfo(ut){return ut?ut.advancedInfo[0]:null}isInvalid(ut){return this.ratingForm.get(ut).touched&&!this.ratingForm.get(ut).valid}static#e=this.\u0275fac=(()=>{let ut;return function(xt){return(ut||(ut=u.xGo(Ye)))(xt||Ye)}})();static#t=this.\u0275cmp=u.VBU({type:Ye,selectors:[["ds-advanced-workflow-action-rating-reviewer"]],standalone:!0,features:[u.Vt3,u.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"item",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],[3,"ngSubmit","formGroup"],[1,"form-group"],[1,"control-label"],["formControlName","review",1,"form-control",3,"ngClass","required"],["class","invalid-feedback d-block",4,"ngIf"],[1,"control-label","mb-1"],[1,"d-block"],["formControlName","rating",3,"max","ngClass"],[1,"invalid-feedback","d-block"],[3,"item"]],template:function(mt,xt){1&mt&&(u.DNE(0,V,13,12,"div",0),u.nI1(1,"async")),2&mt&&u.Y8G("ngVar",xt.getAdvancedInfo(u.bMT(1,1,xt.workflowAction$)))},dependencies:[f.W,i.bT,i.Jj,e.h,e.D9,c.Ny,c.hC,i.YU,n.X1,n.qT,n.me,n.BC,n.cb,n.YS,n.j4,n.JD,g.r]})}return Ye})();var Q=t(72683),J=t(63016),z=t(33370),q=t(83116),ee=t(5338),de=t(31363),Ce=t(7172),Z=t(83383),le=t(95438),De=t(81727),pe=t(51661);const re=()=>["top","right","bottom"],ve=Ye=>({content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:Ye}),fe=Ye=>({name:Ye}),Ie=Ye=>["btn btn-sm",Ye];function Ne(Ye,Et){if(1&Ye){const ut=u.RV6();u.j41(0,"button",22),u.nI1(1,"translate"),u.bIt("click",function(){u.eBV(ut);const xt=u.XpG().$implicit,sn=u.XpG(2);return u.Njj(sn.deleteMemberFromGroup(xt.eperson))}),u.nrm(2,"i",23),u.k0s()}if(2&Ye){const ut=u.XpG().$implicit,mt=u.XpG(2);u.FS9("title",u.i5U(1,4,mt.messagePrefix+".table.edit.buttons.remove",u.eq3(7,fe,mt.dsoNameService.getName(ut.eperson)))),u.Y8G("disabled",mt.actionConfig.remove.disabled)("ngClass",u.eq3(9,Ie,mt.actionConfig.remove.css)),u.R7$(2),u.Y8G("ngClass",mt.actionConfig.remove.icon)}}function qe(Ye,Et){if(1&Ye){const ut=u.RV6();u.j41(0,"button",22),u.nI1(1,"translate"),u.bIt("click",function(){u.eBV(ut);const xt=u.XpG().$implicit,sn=u.XpG(2);return u.Njj(sn.addMemberToGroup(xt.eperson))}),u.nrm(2,"i",23),u.k0s()}if(2&Ye){const ut=u.XpG().$implicit,mt=u.XpG(2);u.FS9("title",u.i5U(1,4,mt.messagePrefix+".table.edit.buttons.add",u.eq3(7,fe,mt.dsoNameService.getName(ut.eperson)))),u.Y8G("disabled",mt.actionConfig.add.disabled)("ngClass",u.eq3(9,Ie,mt.actionConfig.add.css)),u.R7$(2),u.Y8G("ngClass",mt.actionConfig.add.icon)}}function we(Ye,Et){if(1&Ye&&(u.j41(0,"tr")(1,"td",17),u.EFF(2),u.k0s(),u.j41(3,"td",17)(4,"a",19),u.EFF(5),u.k0s()(),u.j41(6,"td",17),u.EFF(7),u.nI1(8,"translate"),u.nrm(9,"br"),u.EFF(10),u.nI1(11,"translate"),u.k0s(),u.j41(12,"td",17)(13,"div",20),u.DNE(14,Ne,3,11,"button",21)(15,qe,3,11,"button",21),u.k0s()()()),2&Ye){const ut=Et.$implicit,mt=u.XpG(2);u.R7$(2),u.JRh(ut.eperson.id),u.R7$(2),u.Y8G("routerLink",mt.getEPersonEditRoute(ut.eperson.id)),u.R7$(),u.SpI(" ",mt.dsoNameService.getName(ut.eperson)," "),u.R7$(2),u.Lme(" ",u.bMT(8,9,mt.messagePrefix+".table.email"),": ",ut.eperson.email?ut.eperson.email:"-",""),u.R7$(3),u.Lme(" ",u.bMT(11,11,mt.messagePrefix+".table.netid"),": ",ut.eperson.netid?ut.eperson.netid:"-"," "),u.R7$(4),u.Y8G("ngIf",ut.ableToDelete),u.R7$(),u.Y8G("ngIf",!ut.ableToDelete)}}function Be(Ye,Et){if(1&Ye&&(u.j41(0,"ds-pagination",13),u.nI1(1,"async"),u.j41(2,"div",14)(3,"table",15)(4,"thead")(5,"tr")(6,"th",16),u.EFF(7),u.nI1(8,"translate"),u.k0s(),u.j41(9,"th",16),u.EFF(10),u.nI1(11,"translate"),u.k0s(),u.j41(12,"th",16),u.EFF(13),u.nI1(14,"translate"),u.k0s(),u.j41(15,"th",17),u.EFF(16),u.nI1(17,"translate"),u.k0s()()(),u.j41(18,"tbody"),u.DNE(19,we,16,13,"tr",18),u.nI1(20,"async"),u.k0s()()()()),2&Ye){let ut,mt;const xt=u.XpG();u.Y8G("paginationOptions",xt.config)("collectionSize",null==(ut=u.bMT(1,9,xt.ePeopleMembersOfGroup))?null:ut.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),u.R7$(7),u.JRh(u.bMT(8,11,xt.messagePrefix+".table.id")),u.R7$(3),u.JRh(u.bMT(11,13,xt.messagePrefix+".table.name")),u.R7$(3),u.JRh(u.bMT(14,15,xt.messagePrefix+".table.identity")),u.R7$(3),u.JRh(u.bMT(17,17,xt.messagePrefix+".table.edit")),u.R7$(3),u.Y8G("ngForOf",null==(mt=u.bMT(20,19,xt.ePeopleMembersOfGroup))?null:mt.page)}}function Ve(Ye,Et){if(1&Ye&&(u.j41(0,"div",24),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ye){const ut=u.XpG();u.R7$(),u.SpI(" ",u.bMT(2,1,ut.messagePrefix+".no-members-yet")," ")}}function et(Ye,Et){if(1&Ye&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ye){const ut=u.XpG();u.R7$(),u.SpI(" ",u.bMT(2,1,ut.messagePrefix+".search.head")," ")}}function yt(Ye,Et){if(1&Ye){const ut=u.RV6();u.j41(0,"tr")(1,"td",17),u.EFF(2),u.k0s(),u.j41(3,"td",17)(4,"a",19),u.EFF(5),u.k0s()(),u.j41(6,"td",17),u.EFF(7),u.nI1(8,"translate"),u.nrm(9,"br"),u.EFF(10),u.nI1(11,"translate"),u.k0s(),u.j41(12,"td",17)(13,"div",20)(14,"button",22),u.nI1(15,"translate"),u.bIt("click",function(){const xt=u.eBV(ut).$implicit,sn=u.XpG(2);return u.Njj(sn.addMemberToGroup(xt))}),u.nrm(16,"i",23),u.k0s()()()()}if(2&Ye){const ut=Et.$implicit,mt=u.XpG(2);u.R7$(2),u.JRh(ut.id),u.R7$(2),u.Y8G("routerLink",mt.getEPersonEditRoute(ut.id)),u.R7$(),u.SpI(" ",mt.dsoNameService.getName(ut)," "),u.R7$(2),u.Lme(" ",u.bMT(8,11,mt.messagePrefix+".table.email"),": ",ut.email?ut.email:"-",""),u.R7$(3),u.Lme(" ",u.bMT(11,13,mt.messagePrefix+".table.netid"),": ",ut.netid?ut.netid:"-"," "),u.R7$(4),u.FS9("title",u.i5U(15,15,mt.messagePrefix+".table.edit.buttons.add",u.eq3(18,fe,mt.dsoNameService.getName(ut)))),u.Y8G("disabled",mt.actionConfig.add.disabled)("ngClass",u.eq3(20,Ie,mt.actionConfig.add.css)),u.R7$(2),u.Y8G("ngClass",mt.actionConfig.add.icon)}}function it(Ye,Et){if(1&Ye&&(u.j41(0,"ds-pagination",13),u.nI1(1,"async"),u.j41(2,"div",14)(3,"table",25)(4,"thead")(5,"tr")(6,"th",16),u.EFF(7),u.nI1(8,"translate"),u.k0s(),u.j41(9,"th",16),u.EFF(10),u.nI1(11,"translate"),u.k0s(),u.j41(12,"th",16),u.EFF(13),u.nI1(14,"translate"),u.k0s(),u.j41(15,"th",17),u.EFF(16),u.nI1(17,"translate"),u.k0s()()(),u.j41(18,"tbody"),u.DNE(19,yt,17,22,"tr",18),u.nI1(20,"async"),u.k0s()()()()),2&Ye){let ut,mt;const xt=u.XpG();u.Y8G("paginationOptions",xt.configSearch)("collectionSize",null==(ut=u.bMT(1,9,xt.ePeopleSearch))?null:ut.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),u.R7$(7),u.JRh(u.bMT(8,11,xt.messagePrefix+".table.id")),u.R7$(3),u.JRh(u.bMT(11,13,xt.messagePrefix+".table.name")),u.R7$(3),u.JRh(u.bMT(14,15,xt.messagePrefix+".table.identity")),u.R7$(3),u.JRh(u.bMT(17,17,xt.messagePrefix+".table.edit")),u.R7$(3),u.Y8G("ngForOf",null==(mt=u.bMT(20,19,xt.ePeopleSearch))?null:mt.page)}}function at(Ye,Et){if(1&Ye&&(u.j41(0,"div",24),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ye){const ut=u.XpG();u.R7$(),u.SpI(" ",u.bMT(2,1,ut.messagePrefix+".no-items")," ")}}var Yt=function(Ye){return Ye[Ye.ActiveGroup=0]="ActiveGroup",Ye[Ye.Members=1]="Members",Ye[Ye.SearchResults=2]="SearchResults",Ye}(Yt||{});let nn=(()=>{class Ye extends z.v{constructor(ut,mt,xt,sn,jn,An,ds,Ks){super(ut,mt,xt,sn,jn,An,ds,Ks),this.groupService=ut,this.ePersonDataService=mt,this.translateService=xt,this.notificationsService=sn,this.formBuilder=jn,this.paginationService=An,this.router=ds,this.dsoNameService=Ks,this.selectedReviewersUpdated=new u.bkB,this.selectedReviewers=[]}ngOnInit(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}ngOnChanges(ut){this.groupId=ut.groupId.currentValue,ut.groupId.currentValue!==ut.groupId.previousValue&&(null===this.groupId?this.retrieveMembers(this.config.currentPage):(this.unsubFrom(Yt.ActiveGroup),this.subs.set(Yt.ActiveGroup,this.groupService.findById(this.groupId).pipe((0,b.ak)()).subscribe(mt=>{null!=mt&&(this.groupDataService.editGroup(mt),this.groupBeingEdited=mt,this.retrieveMembers(this.config.currentPage))}))))}retrieveMembers(ut){if(this.config.currentPage=ut,null===this.groupId){const mt=new ee.O;mt.page=this.selectedReviewers.map(xt=>Object.assign(new Z.h,{eperson:xt,ableToDelete:this.isMemberOfGroup(xt)})),this.ePeopleMembersOfGroup.next(mt)}else super.retrieveMembers(ut)}isMemberOfGroup(ut){return(0,J.of)((0,Q.a4)(this.selectedReviewers.find(mt=>mt.id===ut.id)))}deleteMemberFromGroup(ut){const mt=this.selectedReviewers.findIndex(xt=>xt.id===ut.id);-1!==mt&&this.selectedReviewers.splice(mt,1),this.retrieveMembers(this.config.currentPage),this.selectedReviewersUpdated.emit(this.selectedReviewers)}addMemberToGroup(ut){this.multipleReviewers||(this.selectedReviewers=[]),this.selectedReviewers.push(ut),this.retrieveMembers(this.config.currentPage),this.selectedReviewersUpdated.emit(this.selectedReviewers)}static#e=this.\u0275fac=function(mt){return new(mt||Ye)(u.rXU(Ce.GroupDataService),u.rXU(de.EPersonDataService),u.rXU(e.c$),u.rXU(T.I),u.rXU(n.ze),u.rXU(le.m),u.rXU(w.Ix),u.rXU(q.f))};static#t=this.\u0275cmp=u.VBU({type:Ye,selectors:[["ds-reviewers-list"]],inputs:{groupId:"groupId",actionConfig:"actionConfig",multipleReviewers:"multipleReviewers"},outputs:{selectedReviewersUpdated:"selectedReviewersUpdated"},standalone:!0,features:[u.Vt3,u.OA$,u.aNF],decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group","mr-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"btn-group","edit-field"],[3,"disabled","ngClass","title","click",4,"ngIf"],[3,"click","disabled","ngClass","title"],[3,"ngClass"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(mt,xt){if(1&mt&&(u.qex(0),u.j41(1,"h2",0),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.j41(4,"h3"),u.EFF(5),u.nI1(6,"translate"),u.k0s(),u.DNE(7,Be,21,21,"ds-pagination",1),u.nI1(8,"async"),u.DNE(9,Ve,3,3,"div",2),u.nI1(10,"async"),u.nI1(11,"async"),u.j41(12,"h3",3),u.DNE(13,et,3,3,"span",4),u.k0s(),u.j41(14,"form",5),u.bIt("ngSubmit",function(){return xt.search(xt.searchForm.value)}),u.j41(15,"div",6)(16,"div",7),u.nrm(17,"input",8),u.j41(18,"span",9)(19,"button",10),u.nrm(20,"i",11),u.EFF(21),u.nI1(22,"translate"),u.k0s()()()(),u.j41(23,"div")(24,"button",12),u.bIt("click",function(){return xt.clearFormAndResetResult()}),u.EFF(25),u.nI1(26,"translate"),u.k0s()()(),u.DNE(27,it,21,21,"ds-pagination",1),u.nI1(28,"async"),u.DNE(29,at,3,3,"div",2),u.nI1(30,"async"),u.bVm()),2&mt){let sn,jn,An,ds;u.R7$(2),u.JRh(u.bMT(3,10,xt.messagePrefix+".head")),u.R7$(3),u.JRh(u.bMT(6,12,xt.messagePrefix+".headMembers")),u.R7$(2),u.Y8G("ngIf",(null==(sn=u.bMT(8,14,xt.ePeopleMembersOfGroup))?null:sn.totalElements)>0),u.R7$(2),u.Y8G("ngIf",void 0===u.bMT(10,16,xt.ePeopleMembersOfGroup)||0===(null==(jn=u.bMT(11,18,xt.ePeopleMembersOfGroup))?null:jn.totalElements)),u.R7$(4),u.Y8G("dsContextHelp",u.eq3(29,ve,u.lJ4(28,re))),u.R7$(),u.Y8G("formGroup",xt.searchForm),u.R7$(7),u.SpI(" ",u.bMT(22,20,xt.messagePrefix+".search.button"),""),u.R7$(4),u.JRh(u.bMT(26,22,xt.messagePrefix+".button.see-all")),u.R7$(2),u.Y8G("ngIf",(null==(An=u.bMT(28,24,xt.ePeopleSearch))?null:An.totalElements)>0),u.R7$(2),u.Y8G("ngIf",0===(null==(ds=u.bMT(30,26,xt.ePeopleSearch))?null:ds.totalElements)&&xt.searchDone)}},dependencies:[e.h,e.D9,De.G,n.X1,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,pe.e,i.bT,i.Jj,w.Wk,i.YU,i.Sq],encapsulation:2})}return Ye})();function je(Ye,Et){1&Ye&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ye&&(u.R7$(),u.JRh(u.bMT(2,1,"advanced-workflow-action.select-reviewer.description-multiple")))}function Re(Ye,Et){1&Ye&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ye&&(u.R7$(),u.JRh(u.bMT(2,1,"advanced-workflow-action.select-reviewer.description-single")))}function ne(Ye,Et){if(1&Ye){const ut=u.RV6();u.j41(0,"ds-reviewers-list",7),u.bIt("selectedReviewersUpdated",function(xt){u.eBV(ut);const sn=u.XpG();return sn.selectedReviewers=xt,u.Njj(sn.displayError=!1)}),u.k0s()}if(2&Ye){const ut=u.XpG();u.Y8G("actionConfig",ut.reviewersListActionConfig)("groupId",ut.groupId)("ngClass",ut.groupId?"reviewersListWithGroup":"")("multipleReviewers",ut.multipleReviewers)}}function Ee(Ye,Et){1&Ye&&(u.j41(0,"small",8),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ye&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"advanced-workflow-action.select-reviewer.no-reviewer-selected.error")," "))}function ke(Ye,Et){if(1&Ye&&(u.nrm(0,"ds-modify-item-overview",9),u.nI1(1,"async")),2&Ye){const ut=u.XpG();u.Y8G("item",u.bMT(1,1,ut.item$))}}const dt="submit_select_reviewer",Bt="selectrevieweraction";let wt=(()=>{class Ye extends v{constructor(ut,mt,xt,sn,jn,An,ds,Ks,Cs,yi){super(ut,mt,xt,sn,jn,An,ds,Ks,Cs,yi),this.route=ut,this.workflowItemService=mt,this.router=xt,this.routeService=sn,this.notificationsService=jn,this.translationService=An,this.workflowActionService=ds,this.claimedTaskDataService=Ks,this.requestService=Cs,this.location=yi,this.multipleReviewers=!0,this.selectedReviewers=[],this.subs=[],this.displayError=!1}ngOnDestroy(){this.subs.forEach(ut=>ut.unsubscribe())}ngOnInit(){super.ngOnInit(),this.reviewersListActionConfig=this.multipleReviewers?{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-minus"}}:{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-check"},remove:{css:"btn-primary",disabled:!0,icon:"fas fa-check"}},this.subs.push(this.workflowAction$.subscribe(ut=>{this.groupId=ut?ut.advancedInfo[0].group:null}))}getType(){return Bt}performAction(){this.selectedReviewers.length>0?super.performAction():this.displayError=!0}createBody(){return{[dt]:!0,eperson:this.selectedReviewers.map(ut=>ut.id)}}previousPage(){let ut=this.previousQueryParameters;(0,Q.a4)(ut)||(ut={configuration:"workflow"}),this.router.navigate(["/mydspace"],{queryParams:ut})}static#e=this.\u0275fac=function(mt){return new(mt||Ye)(u.rXU(w.nX),u.rXU(O.WorkflowItemDataService),u.rXU(w.Ix),u.rXU(_.v$),u.rXU(T.I),u.rXU(e.c$),u.rXU(E.WorkflowActionDataService),u.rXU(I.ClaimedTaskDataService),u.rXU(y.B),u.rXU(i.aZ))};static#t=this.\u0275cmp=u.VBU({type:Ye,selectors:[["ds-advanced-workflow-action-select-reviewer"]],standalone:!0,features:[u.Vt3,u.aNF],decls:14,vars:13,consts:[[4,"ngIf"],["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"actionConfig","groupId","ngClass","multipleReviewers","selectedReviewersUpdated",4,"ngIf"],["class","invalid-feedback d-block mb-3",4,"ngIf"],[3,"item",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"selectedReviewersUpdated","actionConfig","groupId","ngClass","multipleReviewers"],[1,"invalid-feedback","d-block","mb-3"],[3,"item"]],template:function(mt,xt){1&mt&&(u.j41(0,"div"),u.DNE(1,je,3,3,"p",0)(2,Re,3,3,"p",0)(3,ne,1,4,"ds-reviewers-list",1)(4,Ee,3,3,"small",2)(5,ke,2,3,"ds-modify-item-overview",3),u.nI1(6,"async"),u.j41(7,"div",4)(8,"button",5),u.bIt("click",function(){return xt.previousPage()}),u.EFF(9),u.nI1(10,"translate"),u.k0s(),u.j41(11,"button",6),u.bIt("click",function(){return xt.performAction()}),u.EFF(12),u.nI1(13,"translate"),u.k0s()()()),2&mt&&(u.R7$(),u.Y8G("ngIf",xt.multipleReviewers),u.R7$(),u.Y8G("ngIf",!xt.multipleReviewers),u.R7$(),u.Y8G("ngIf",void 0!==xt.groupId),u.R7$(),u.Y8G("ngIf",xt.displayError),u.R7$(),u.Y8G("ngIf",u.bMT(6,7,xt.item$)),u.R7$(4),u.SpI(" ",u.bMT(10,9,"workflow-item."+xt.getType()+".button.cancel")," "),u.R7$(3),u.SpI(" ",u.bMT(13,11,"workflow-item."+xt.getType()+".button.confirm")," "))},dependencies:[i.MD,i.YU,i.bT,i.Jj,f.W,e.h,e.D9,nn],styles:["[_nghost-%COMP%]     .reviewersListWithGroup #search, [_nghost-%COMP%]     .reviewersListWithGroup #search+form, [_nghost-%COMP%]     .reviewersListWithGroup #search+form+ds-pagination{display:none!important}"]})}return Ye})();var tn=t(67811),It=t(24460),$t=t(37610),Rn=(t(47376),t(88829),t(12304)),os=t(54703);let Mn=(()=>{class Ye extends os.i{constructor(ut,mt,xt,sn,jn,An){super(Rn.a,ut,mt,xt,sn,jn,An),this.injector=ut,this.router=mt,this.notificationsService=xt,this.translate=sn,this.searchService=jn,this.requestService=An,this.subs=[]}submitTask(){this.subs.push(this.startActionExecution().pipe((0,$t.s)(1)).subscribe())}createbody(){return{[this.option]:"true"}}reloadObjectExecution(){return this.objectDataService.findByItem(this.itemUuid)}actionExecution(){return this.objectDataService.submitTask(this.object.id,this.createbody())}initObjects(ut){this.object=ut}initReloadAnchor(){(0,Q.Im)(this.item)||(this.itemUuid=this.item.uuid)}ngOnDestroy(){this.subs.forEach(ut=>ut.unsubscribe())}static#e=this.\u0275fac=function(mt){return new(mt||Ye)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(tn.S),u.rXU(y.B))};static#t=this.\u0275cmp=u.VBU({type:Ye,selectors:[["ds-claimed-task-action-abstract"]],inputs:{option:"option",item:"item",workflowitem:"workflowitem"},features:[u.Vt3],decls:0,vars:0,template:function(mt,xt){},encapsulation:2})}return Ye})();function xs(Ye,Et){1&Ye&&(u.j41(0,"span"),u.nrm(1,"i",2),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ye&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function rn(Ye,Et){1&Ye&&(u.j41(0,"span"),u.nrm(1,"i",3),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ye&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.claimed.approve"),""))}let Lt=(()=>{class Ye extends Mn{constructor(ut,mt,xt,sn,jn,An,ds){super(ut,mt,xt,sn,jn,An),this.injector=ut,this.router=mt,this.notificationsService=xt,this.translate=sn,this.searchService=jn,this.requestService=An,this.workflowItemDataService=ds}reloadObjectExecution(){return(0,J.of)(this.object)}convertReloadedObject(ut){return Object.assign(new It.t,ut,{indexableObject:ut})}handleReloadableActionResponse(ut,mt){super.handleReloadableActionResponse(ut,mt),this.workflowItemDataService.invalidateByHref(this.object?._links.workflowitem?.href)}static#e=this.\u0275fac=function(mt){return new(mt||Ye)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(tn.S),u.rXU(y.B),u.rXU(O.WorkflowItemDataService))};static#t=this.\u0275cmp=u.VBU({type:Ye,selectors:[["ds-claimed-task-actions-approve"]],standalone:!0,features:[u.Vt3,u.aNF],decls:7,vars:13,consts:[["type","button",3,"click","className","ngbTooltip","disabled"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-thumbs-up"]],template:function(mt,xt){1&mt&&(u.j41(0,"button",0),u.nI1(1,"translate"),u.nI1(2,"async"),u.bIt("click",function(){return xt.submitTask()}),u.DNE(3,xs,4,3,"span",1),u.nI1(4,"async"),u.DNE(5,rn,4,3,"span",1),u.nI1(6,"async"),u.k0s()),2&mt&&(u.FS9("ngbTooltip",u.bMT(1,5,"submission.workflow.tasks.claimed.approve_help")),u.Y8G("className","btn btn-success")("disabled",u.bMT(2,7,xt.processing$)),u.R7$(3),u.Y8G("ngIf",u.bMT(4,9,xt.processing$)),u.R7$(2),u.Y8G("ngIf",!0!==u.bMT(6,11,xt.processing$)))},dependencies:[c.n8,c.md,i.bT,i.Jj,e.h,e.D9]})}return Ye})();var zt=t(78977);function gt(Ye,Et){1&Ye&&(u.j41(0,"span"),u.nrm(1,"i",2),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ye&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.generic.processing")," "))}function Ke(Ye,Et){1&Ye&&(u.j41(0,"span"),u.nrm(1,"i",3),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ye&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.claimed.decline")," "))}let He=(()=>{class Ye extends Mn{constructor(ut,mt,xt,sn,jn,An){super(ut,mt,xt,sn,jn,An),this.injector=ut,this.router=mt,this.notificationsService=xt,this.translate=sn,this.searchService=jn,this.requestService=An}reloadObjectExecution(){return(0,J.of)(this.object)}convertReloadedObject(ut){return Object.assign(new zt.H,ut,{indexableObject:ut})}static#e=this.\u0275fac=function(mt){return new(mt||Ye)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(tn.S),u.rXU(y.B))};static#t=this.\u0275cmp=u.VBU({type:Ye,selectors:[["ds-claimed-task-actions-decline-task"]],standalone:!0,features:[u.Vt3,u.aNF],decls:7,vars:12,consts:[["type","button",1,"declineTaskAction","btn","btn-warning",3,"click","disabled","ngbTooltip"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-ban"]],template:function(mt,xt){1&mt&&(u.j41(0,"button",0),u.nI1(1,"translate"),u.nI1(2,"async"),u.bIt("click",function(){return xt.submitTask()}),u.DNE(3,gt,4,3,"span",1),u.nI1(4,"async"),u.DNE(5,Ke,4,3,"span",1),u.nI1(6,"async"),u.k0s()),2&mt&&(u.FS9("ngbTooltip",u.bMT(1,4,"submission.workflow.tasks.claimed.decline_help")),u.Y8G("disabled",u.bMT(2,6,xt.processing$)),u.R7$(3),u.Y8G("ngIf",u.bMT(4,8,xt.processing$)),u.R7$(2),u.Y8G("ngIf",!0!==u.bMT(6,10,xt.processing$)))},dependencies:[c.n8,c.md,i.bT,i.Jj,e.h,e.D9]})}return Ye})();const We=Ye=>[Ye];function Ct(Ye,Et){if(1&Ye&&(u.j41(0,"a",1),u.nI1(1,"translate"),u.nI1(2,"async"),u.nrm(3,"i",2),u.EFF(4),u.nI1(5,"translate"),u.k0s()),2&Ye){let ut;const mt=u.XpG();u.FS9("ngbTooltip",u.bMT(1,3,"submission.workflow.tasks.claimed.edit_help")),u.Y8G("routerLink",u.eq3(9,We,"/workflowitems/"+(null==(ut=u.bMT(2,5,mt.object.workflowitem))||null==ut.payload?null:ut.payload.id)+"/edit")),u.R7$(4),u.SpI(" ",u.bMT(5,7,"submission.workflow.tasks.claimed.edit"),"\n")}}let Ot=(()=>{class Ye extends Mn{constructor(ut,mt,xt,sn,jn,An){super(ut,mt,xt,sn,jn,An),this.injector=ut,this.router=mt,this.notificationsService=xt,this.translate=sn,this.searchService=jn,this.requestService=An}static#e=this.\u0275fac=function(mt){return new(mt||Ye)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(tn.S),u.rXU(y.B))};static#t=this.\u0275cmp=u.VBU({type:Ye,selectors:[["ds-claimed-task-actions-edit-metadata"]],standalone:!0,features:[u.Vt3,u.aNF],decls:1,vars:1,consts:[["class","btn btn-primary","role","button",3,"ngbTooltip","routerLink",4,"ngIf"],["role","button",1,"btn","btn-primary",3,"ngbTooltip","routerLink"],[1,"fa","fa-edit"]],template:function(mt,xt){1&mt&&u.DNE(0,Ct,6,11,"a",0),2&mt&&u.Y8G("ngIf",xt.object)},dependencies:[i.bT,c.n8,c.md,w.Wk,i.Jj,e.h,e.D9]})}return Ye})();var Dt=t(55817);let Wt=(()=>{class Ye extends Mn{constructor(ut,mt,xt,sn,jn,An,ds){super(ut,mt,xt,sn,jn,An),this.injector=ut,this.router=mt,this.notificationsService=xt,this.translate=sn,this.searchService=jn,this.requestService=An,this.route=ds}ngOnInit(){super.ngOnInit(),this.initPageRoute()}initPageRoute(){this.subs.push(this.object.workflowitem.pipe((0,b.ak)()).subscribe(ut=>{this.workflowTaskPageRoute=(0,Dt.HJ)(ut.id)}))}openAdvancedClaimedTaskTab(){const ut={queryParams:this.getQueryParams()};Object.keys(this.route.snapshot.queryParams).length>0&&(ut.state={},ut.state.previousQueryParams=this.route.snapshot.queryParams),this.router.navigate([this.workflowTaskPageRoute],ut)}getQueryParams(){return{workflow:this.workflowType,claimedTask:this.object.id}}static#e=this.\u0275fac=function(mt){return new(mt||Ye)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(tn.S),u.rXU(y.B),u.rXU(w.nX))};static#t=this.\u0275cmp=u.VBU({type:Ye,selectors:[["ds-advanced-claimed-task-action-abstract"]],features:[u.Vt3],decls:0,vars:0,template:function(mt,xt){},encapsulation:2})}return Ye})(),bn=(()=>{class Ye extends Wt{constructor(ut,mt,xt,sn,jn,An,ds){super(ut,mt,xt,sn,jn,An,ds),this.injector=ut,this.router=mt,this.notificationsService=xt,this.translate=sn,this.searchService=jn,this.requestService=An,this.route=ds,this.workflowType=K}static#e=this.\u0275fac=function(mt){return new(mt||Ye)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(tn.S),u.rXU(y.B),u.rXU(w.nX))};static#t=this.\u0275cmp=u.VBU({type:Ye,selectors:[["ds-advanced-claimed-task-action-rating-reviewer"]],standalone:!0,features:[u.Vt3,u.aNF],decls:5,vars:6,consts:[[1,"ratingReviewerAction","btn","btn-primary",3,"click","ngbTooltip"],[1,"fa","fa-star-half-alt"]],template:function(mt,xt){1&mt&&(u.j41(0,"button",0),u.nI1(1,"translate"),u.bIt("click",function(){return xt.openAdvancedClaimedTaskTab()}),u.nrm(2,"i",1),u.EFF(3),u.nI1(4,"translate"),u.k0s()),2&mt&&(u.FS9("ngbTooltip",u.bMT(1,2,"submission.workflow.generic."+xt.option+"-help")),u.R7$(3),u.SpI(" ",u.bMT(4,4,"submission.workflow.generic."+xt.option),"\n"))},dependencies:[c.n8,c.md,e.h,e.D9]})}return Ye})();var Pn=t(18107);function ps(Ye,Et){1&Ye&&(u.nrm(0,"p",4),u.nI1(1,"translate")),2&Ye&&u.Y8G("innerHTML",u.bMT(1,1,"submission.workflow.tasks.claimed.reject_help"),u.npT)}function ks(Ye,Et){1&Ye&&(u.j41(0,"span"),u.nrm(1,"i",5),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ye&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function Fs(Ye,Et){1&Ye&&(u.j41(0,"span"),u.nrm(1,"i",6),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ye&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.claimed.reject.submit"),""))}function vt(Ye,Et){1&Ye&&(u.j41(0,"span"),u.nrm(1,"i",5),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ye&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function ht(Ye,Et){1&Ye&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&Ye&&(u.R7$(),u.JRh(u.bMT(2,1,"submission.workflow.tasks.claimed.reject.reason.submit")))}function lt(Ye,Et){if(1&Ye){const ut=u.RV6();u.j41(0,"div",7)(1,"h4",8),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.j41(4,"button",9),u.bIt("click",function(){const xt=u.eBV(ut).dismiss;return u.Njj(xt("Cross click"))}),u.j41(5,"span",10),u.EFF(6,"\xd7"),u.k0s()()(),u.j41(7,"div",11)(8,"div",12),u.EFF(9),u.nI1(10,"translate"),u.k0s(),u.j41(11,"form",13),u.bIt("ngSubmit",function(){u.eBV(ut);const xt=u.XpG();return u.Njj(xt.submitTask())}),u.nrm(12,"textarea",14),u.nI1(13,"translate"),u.j41(14,"button",15),u.nI1(15,"async"),u.DNE(16,vt,4,3,"span",3),u.nI1(17,"async"),u.DNE(18,ht,3,3,"span",3),u.nI1(19,"async"),u.k0s()()()}if(2&Ye){const ut=u.XpG();u.R7$(2),u.JRh(u.bMT(3,7,"submission.workflow.tasks.claimed.reject.reason.title")),u.R7$(7),u.SpI(" ",u.bMT(10,9,"submission.workflow.tasks.claimed.reject.reason.info")," "),u.R7$(2),u.Y8G("formGroup",ut.rejectForm),u.R7$(),u.FS9("placeholder",u.bMT(13,11,"submission.workflow.tasks.claimed.reject.reason.placeholder")),u.R7$(2),u.Y8G("disabled",!ut.rejectForm.valid||u.bMT(15,13,ut.processing$)),u.R7$(2),u.Y8G("ngIf",u.bMT(17,15,ut.processing$)),u.R7$(2),u.Y8G("ngIf",!0!==u.bMT(19,17,ut.processing$))}}let Ln=(()=>{class Ye extends Mn{constructor(ut,mt,xt,sn,jn,An,ds,Ks){super(ut,mt,xt,sn,jn,An),this.injector=ut,this.router=mt,this.notificationsService=xt,this.translate=sn,this.searchService=jn,this.requestService=An,this.formBuilder=ds,this.modalService=Ks}ngOnInit(){this.rejectForm=this.formBuilder.group({reason:["",n.k0.required]})}submitTask(){this.modalRef.close("Send Button"),super.submitTask()}createbody(){const ut=this.rejectForm.get("reason").value;return Object.assign(super.createbody(),{reason:ut})}openRejectModal(ut){this.rejectForm.reset(),this.modalRef=this.modalService.open(ut)}reloadObjectExecution(){return(0,J.of)(this.object)}convertReloadedObject(ut){return Object.assign(new Pn.q,ut,{indexableObject:ut})}static#e=this.\u0275fac=function(mt){return new(mt||Ye)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(tn.S),u.rXU(y.B),u.rXU(n.ze),u.rXU(c.Bq))};static#t=this.\u0275cmp=u.VBU({type:Ye,selectors:[["ds-claimed-task-actions-reject"]],standalone:!0,features:[u.Vt3,u.aNF],decls:10,vars:11,consts:[["rejectTipContent",""],["rejectModal",""],[3,"click","className","ngbTooltip","disabled"],[4,"ngIf"],[3,"innerHTML"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","alert",1,"alert","alert-info"],[3,"ngSubmit","formGroup"],["formControlName","reason","rows","4",2,"width","100%",3,"placeholder"],["id","btn-chat","type","submit",1,"btn","btn-danger","btn-lg","btn-block","mt-3",3,"disabled"]],template:function(mt,xt){if(1&mt){const sn=u.RV6();u.DNE(0,ps,2,3,"ng-template",null,0,u.C5r),u.j41(2,"button",2),u.nI1(3,"async"),u.bIt("click",function(){u.eBV(sn);const An=u.sdS(9);return u.Njj(xt.openRejectModal(An))}),u.DNE(4,ks,4,3,"span",3),u.nI1(5,"async"),u.DNE(6,Fs,4,3,"span",3),u.nI1(7,"async"),u.k0s(),u.DNE(8,lt,20,19,"ng-template",null,1,u.C5r)}if(2&mt){const sn=u.sdS(1);u.R7$(2),u.Y8G("className","btn btn-danger")("ngbTooltip",sn)("disabled",u.bMT(3,5,xt.processing$)),u.R7$(2),u.Y8G("ngIf",u.bMT(5,7,xt.processing$)),u.R7$(2),u.Y8G("ngIf",!0!==u.bMT(7,9,xt.processing$))}},dependencies:[c.n8,c.md,i.bT,n.YN,n.qT,n.me,n.BC,n.cb,n.X1,n.j4,n.JD,i.Jj,e.h,e.D9]})}return Ye})();var ls=t(21993);function As(Ye,Et){1&Ye&&(u.j41(0,"span"),u.nrm(1,"i",2),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ye&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function In(Ye,Et){1&Ye&&(u.j41(0,"span"),u.nrm(1,"i",3),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&Ye&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"submission.workflow.tasks.claimed.return"),""))}const ns=new Map([["submit_approve",Lt],["submit_decline_task",He],["submit_edit_metadata",Ot],[X,bn],["submit_reject",Ln],["return_to_pool",(()=>{class Ye extends Mn{constructor(ut,mt,xt,sn,jn,An,ds){super(ut,mt,xt,sn,jn,An),this.injector=ut,this.router=mt,this.notificationsService=xt,this.translate=sn,this.searchService=jn,this.requestService=An,this.poolTaskService=ds}reloadObjectExecution(){return this.poolTaskService.findByItem(this.itemUuid).pipe((0,$t.s)(1))}actionExecution(){return this.objectDataService.returnToPoolTask(this.object.id)}static#e=this.\u0275fac=function(mt){return new(mt||Ye)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(tn.S),u.rXU(y.B),u.rXU(ls.PoolTaskDataService))};static#t=this.\u0275cmp=u.VBU({type:Ye,selectors:[["ds-claimed-task-actions-return-to-pool"]],standalone:!0,features:[u.Vt3,u.aNF],decls:7,vars:13,consts:[["type","button",3,"click","className","ngbTooltip","disabled"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-undo"]],template:function(mt,xt){1&mt&&(u.j41(0,"button",0),u.nI1(1,"translate"),u.nI1(2,"async"),u.bIt("click",function(){return xt.submitTask()}),u.DNE(3,As,4,3,"span",1),u.nI1(4,"async"),u.DNE(5,In,4,3,"span",1),u.nI1(6,"async"),u.k0s()),2&mt&&(u.FS9("ngbTooltip",u.bMT(1,5,"submission.workflow.tasks.claimed.return_help")),u.Y8G("className","btn btn-secondary")("disabled",u.bMT(2,7,xt.processing$)),u.R7$(3),u.Y8G("ngIf",u.bMT(4,9,xt.processing$)),u.R7$(2),u.Y8G("ngIf",!0!==u.bMT(6,11,xt.processing$)))},dependencies:[c.n8,c.md,i.bT,i.Jj,e.h,e.D9]})}return Ye})()],[dt,(()=>{class Ye extends Wt{constructor(ut,mt,xt,sn,jn,An,ds){super(ut,mt,xt,sn,jn,An,ds),this.injector=ut,this.router=mt,this.notificationsService=xt,this.translate=sn,this.searchService=jn,this.requestService=An,this.route=ds,this.workflowType=Bt}static#e=this.\u0275fac=function(mt){return new(mt||Ye)(u.rXU(u.zZn),u.rXU(w.Ix),u.rXU(T.I),u.rXU(e.c$),u.rXU(tn.S),u.rXU(y.B),u.rXU(w.nX))};static#t=this.\u0275cmp=u.VBU({type:Ye,selectors:[["ds-advanced-claimed-task-action-select-reviewer"]],standalone:!0,features:[u.Vt3,u.aNF],decls:5,vars:6,consts:[[1,"selectReviewerAction","btn","btn-primary",3,"click","ngbTooltip"],[1,"fa","fa-user"]],template:function(mt,xt){1&mt&&(u.j41(0,"button",0),u.nI1(1,"translate"),u.bIt("click",function(){return xt.openAdvancedClaimedTaskTab()}),u.nrm(2,"i",1),u.EFF(3),u.nI1(4,"translate"),u.k0s()),2&mt&&(u.FS9("ngbTooltip",u.bMT(1,2,"submission.workflow.generic."+xt.option+"-help")),u.R7$(3),u.SpI(" ",u.bMT(4,4,"submission.workflow.generic."+xt.option),"\n"))},dependencies:[c.n8,c.md,e.h,e.D9]})}return Ye})()]]),fs=new Map([[K,ae],[Bt,wt]]);function Ds(Ye){return ns.get(Ye)}function ft(Ye){return fs.get(Ye)}},77641:(B,D,t)=>{"use strict";t.d(D,{p:()=>j});var i=t(53107),n=t(71217),c=t(37610),e=t(82040),f=t(9843),g=t(12007),d=t(67811),y=t(69535),E=t(79224),_=t(17584),b=t(47376),O=t(88829),I=t(21139),T=t(91427),R=t(71779),u=t(77490),w=t(5442),v=t(97311),S=t(21993);class M{getConstructor(G){switch(G){case b.q.type:return _.ItemDataService;case I.F.type:return R.WorkspaceitemDataService;case O.t.type:return T.WorkflowItemDataService;case w.T.type:return u.ClaimedTaskDataService;case v.k.type:return S.PoolTaskDataService;default:return}}}var L=t(98573),F=t(95968),$=t(69685);let j=(()=>{class x{constructor(Y,V,X,K,ae,Q,J){this.objectType=Y,this.injector=V,this.router=X,this.notificationsService=K,this.translate=ae,this.searchService=Q,this.requestService=J,this.processCompleted=new i.bkB,this.processing$=new n.t(!1);const z=new M;this.objectDataService=V.get(z.getConstructor(Y))}reload(){this.router.navigated=!1;const Y=decodeURIComponent(this.router.url);this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.searchService.getEndpoint().pipe((0,c.s)(1),(0,e.M)(V=>this.requestService.removeByHrefSubstring(V))).subscribe(()=>this.router.navigateByUrl(Y))}refresh(){this.objectDataService.findById(this.object.id,!1).pipe((0,g.yd)()).subscribe(Y=>{this.initObjects(Y.payload)})}handleActionResponse(Y){Y?(this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new y.y(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new y.y(2e4,!0))}static#e=this.\u0275fac=function(V){return new(V||x)(i.rXU(L.v),i.rXU(i.zZn),i.rXU(F.Ix),i.rXU(E.I),i.rXU($.c$),i.rXU(d.S),i.rXU(f.B))};static#t=this.\u0275cmp=i.VBU({type:x,selectors:[["ds-mydspace-actions-abstract"]],inputs:{object:"object"},outputs:{processCompleted:"processCompleted"},decls:0,vars:0,template:function(V,X){},encapsulation:2})}return x})()},54703:(B,D,t)=>{"use strict";t.d(D,{i:()=>v});var i=t(63016),n=t(37610),c=t(22867),e=t(82040),f=t(47947),g=t(21314),d=t(9843),y=t(12007),E=t(67811),_=t(69535),b=t(79224),O=t(88698),I=t(77641),T=t(53107),R=t(98573),u=t(95968),w=t(69685);let v=(()=>{class S extends I.p{constructor(L,F,$,j,x,G,Y){super(L,F,$,j,x,G,Y),this.objectType=L,this.injector=F,this.router=$,this.notificationsService=j,this.translate=x,this.searchService=G,this.requestService=Y}ngOnInit(){this.initReloadAnchor(),this.initObjects(this.object)}startActionExecution(){return this.processing$.next(!0),this.actionExecution().pipe((0,n.s)(1),(0,c.n)(L=>L.hasSucceeded?this._reloadObject().pipe((0,e.M)(F=>{this.processing$.next(!1),this.handleReloadableActionResponse(L.hasSucceeded,F)})):(this.processing$.next(!1),this.handleReloadableActionResponse(L.hasSucceeded,null),(0,i.of)(null))))}handleReloadableActionResponse(L,F){L?(F?this.processCompleted.emit({result:L,reloadedObject:F}):this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new _.y(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new _.y(2e4,!0))}initReloadAnchor(){}convertReloadedObject(L){const F=(0,O.L)(L.constructor);return Object.assign(new F,L,{indexableObject:L})}_reloadObject(){return this.reloadObjectExecution().pipe((0,c.n)(L=>L instanceof g.j?(0,i.of)(L).pipe((0,y.qD)(),(0,f.T)(F=>F.payload)):(0,i.of)(L))).pipe((0,f.T)(L=>L&&this.convertReloadedObject(L)))}static#e=this.\u0275fac=function(F){return new(F||S)(T.rXU(R.v),T.rXU(T.zZn),T.rXU(u.Ix),T.rXU(b.I),T.rXU(w.c$),T.rXU(E.S),T.rXU(d.B))};static#t=this.\u0275cmp=T.VBU({type:S,selectors:[["ds-mydspace-reloadable-actions"]],features:[T.Vt3],decls:0,vars:0,template:function(F,$){},encapsulation:2})}return S})()},76977:(B,D,t)=>{"use strict";t.d(D,{L:()=>c,o:()=>n});const n=(0,t(83770).N)("dspace/ngrx/NO_OP_ACTION");class c{constructor(){this.type=n}}},83770:(B,D,t)=>{"use strict";t.d(D,{N:()=>c});const i={};function c(e){if(i[e])throw new Error(`Action type "${e}" is not unique"`);return i[e]=!0,e}},51572:(B,D,t)=>{"use strict";t.d(D,{n:()=>i,p:()=>n});var i=function(c){return c.Fade="fade",c.FromTop="fromTop",c.FromRight="fromRight",c.FromBottom="fromBottom",c.FromLeft="fromLeft",c.Rotate="rotate",c.Scale="scale",c}(i||{}),n=function(c){return c.In="In",c.Out="Out",c}(n||{})},69535:(B,D,t)=>{"use strict";t.d(D,{y:()=>n});var i=t(51572);class n{constructor(e=5e3,f=!0,g=i.n.Scale){this.timeOut=e,this.clickToClose=f,this.animate=g}}},80788:(B,D,t)=>{"use strict";t.d(D,{_:()=>i});var i=function(n){return n.Success="alert-success",n.Error="alert-danger",n.Info="alert-info",n.Warning="alert-warning",n}(i||{})},40380:(B,D,t)=>{"use strict";t.d(D,{z:()=>Re});var i=t(71204),n=t(54460),c=t(53107),e=t(63016),f=t(51698),g=t(41483),d=t(1703),y=t(2566);const E=(0,i.wk)("fromBottomIn",(0,i.iF)({opacity:1,transform:"translateY(0)"})),_=(0,i.kY)("* => fromBottomIn",[(0,i.iF)({opacity:0,transform:"translateY(5%)"}),(0,i.i0)("400ms ease-in-out")]),b=(0,i.wk)("fromBottomOut",(0,i.iF)({opacity:0,transform:"translateY(-5%)"})),O=(0,i.kY)("fromBottomIn => fromBottomOut",[(0,i.iF)({opacity:1,transform:"translateY(0)"}),(0,i.i0)("300ms ease-in-out")]),u=((0,i.hZ)("fromBottomIn",[_]),(0,i.hZ)("fromBottomOut",[O]),(0,i.hZ)("fromBottomInOut",[_,O]),(0,i.wk)("fromLeftIn",(0,i.iF)({opacity:1,transform:"translateX(0)"}))),w=(0,i.kY)("* => fromLeftIn",[(0,i.iF)({opacity:0,transform:"translateX(-5%)"}),(0,i.i0)("400ms ease-in-out")]),v=(0,i.wk)("fromLeftOut",(0,i.iF)({opacity:0,transform:"translateX(5%)"})),S=(0,i.kY)("fromLeftIn => fromLeftOut",[(0,i.iF)({opacity:1,transform:"translateX(0)"}),(0,i.i0)("300ms ease-in-out")]),$=((0,i.hZ)("fromLeftIn",[w]),(0,i.hZ)("fromLeftOut",[S]),(0,i.hZ)("fromLeftInOut",[w,S]),(0,i.wk)("fromRightIn",(0,i.iF)({opacity:1,transform:"translateX(0)"}))),j=(0,i.kY)("* => fromRightIn",[(0,i.iF)({opacity:0,transform:"translateX(5%)"}),(0,i.i0)("400ms ease-in-out")]),x=(0,i.wk)("fromRightOut",(0,i.iF)({opacity:0,transform:"translateX(-5%)"})),G=(0,i.kY)("fromRightIn => fromRightOut",[(0,i.iF)({opacity:1,transform:"translateX(0)"}),(0,i.i0)("300ms ease-in-out")]);(0,i.hZ)("fromRightIn",[j]),(0,i.hZ)("fromRightOut",[G]),(0,i.hZ)("fromRightInOut",[j,G]);var K=t(5985),ae=t(7575);const Q=(0,i.wk)("scaleIn",(0,i.iF)({opacity:1,transform:"scale(1)"})),J=(0,i.kY)("* => scaleIn",[(0,i.iF)({opacity:0,transform:"scale(0)"}),(0,i.i0)("400ms ease-in-out")]),z=(0,i.wk)("scaleOut",(0,i.iF)({opacity:0,transform:"scale(0)"})),q=(0,i.kY)("scaleIn => scaleOut",[(0,i.iF)({opacity:1,transform:"scale(1)"}),(0,i.i0)("400ms ease-in-out")]);(0,i.hZ)("scaleIn",[J]),(0,i.hZ)("scaleOut",[q]),(0,i.hZ)("scaleInOut",[J,q]);var Z=t(72683),le=t(51572),De=t(79224),pe=t(86388);const re=(ne,Ee,ke,dt)=>({"fas fa-2x":!0,"fa-check-circle":ne,"fa-times-circle":Ee,"fa-exclamation-triangle":ke,"fa-info-circle":dt}),ve=ne=>({width:ne});function fe(ne,Ee){if(1&ne&&(c.j41(0,"div",12),c.nrm(1,"span",13),c.k0s()),2&ne){const ke=c.XpG();c.R7$(),c.Y8G("ngStyle",c.eq3(1,ve,ke.progressWidth+"%"))}}function Ie(ne,Ee){if(1&ne){const ke=c.RV6();c.j41(0,"button",14),c.bIt("click",function(){c.eBV(ke);const Bt=c.XpG();return c.Njj(Bt.remove())}),c.j41(1,"span",15),c.EFF(2,"\xd7"),c.k0s()()}}function Ne(ne,Ee){1&ne&&c.eu8(0)}function qe(ne,Ee){if(1&ne&&(c.j41(0,"div",18),c.DNE(1,Ne,1,0,"ng-container",19),c.k0s()),2&ne){const ke=c.XpG(2);c.R7$(),c.Y8G("ngTemplateOutlet",ke.title)}}function we(ne,Ee){if(1&ne&&(c.j41(0,"div",18),c.EFF(1),c.nI1(2,"async"),c.k0s()),2&ne){const ke=c.XpG(2);c.R7$(),c.JRh(c.bMT(2,1,ke.title))}}function Be(ne,Ee){if(1&ne&&(c.j41(0,"div",16)(1,"strong"),c.DNE(2,qe,2,1,"div",17)(3,we,3,3,"ng-template",null,0,c.C5r),c.k0s()()),2&ne){const ke=c.sdS(4),dt=c.XpG();c.R7$(2),c.Y8G("ngIf",dt.titleIsTemplate)("ngIfElse",ke)}}function Ve(ne,Ee){1&ne&&c.eu8(0)}function et(ne,Ee){if(1&ne&&(c.j41(0,"div",21),c.DNE(1,Ve,1,0,"ng-container",19),c.k0s()),2&ne){const ke=c.XpG(2);c.R7$(),c.Y8G("ngTemplateOutlet",ke.content)}}function yt(ne,Ee){if(1&ne&&(c.j41(0,"div",21),c.EFF(1),c.nI1(2,"async"),c.k0s()),2&ne){const ke=c.XpG(2);c.R7$(),c.JRh(c.bMT(2,1,ke.content))}}function it(ne,Ee){if(1&ne&&(c.j41(0,"div",16),c.DNE(1,et,2,1,"div",20)(2,yt,3,3,"ng-template",null,1,c.C5r),c.k0s()),2&ne){const ke=c.sdS(3),dt=c.XpG();c.R7$(),c.Y8G("ngIf",dt.contentIsTemplate)("ngIfElse",ke)}}function at(ne,Ee){1&ne&&c.eu8(0)}function Yt(ne,Ee){if(1&ne&&(c.j41(0,"div",23),c.DNE(1,at,1,0,"ng-container",19),c.k0s()),2&ne){const ke=c.XpG(2);c.R7$(),c.Y8G("ngTemplateOutlet",ke.content)}}function nn(ne,Ee){if(1&ne&&c.nrm(0,"div",24),2&ne){const ke=c.XpG(2);c.Y8G("innerHTML",ke.content,c.npT)}}function je(ne,Ee){if(1&ne&&(c.j41(0,"div",16),c.DNE(1,Yt,2,1,"div",22)(2,nn,1,1,"ng-template",null,2,c.C5r),c.k0s()),2&ne){const ke=c.sdS(3),dt=c.XpG();c.R7$(),c.Y8G("ngIf",dt.contentIsTemplate)("ngIfElse",ke)}}let Re=(()=>{class ne{constructor(ke,dt,Bt,wt){this.notificationService=ke,this.domSanitizer=dt,this.cdr=Bt,this.zone=wt,this.notification=null,this.isPaused$=(0,e.of)(!1),this.showProgressBar=!1,this.titleIsTemplate=!1,this.contentIsTemplate=!1,this.htmlIsTemplate=!1,this.progressWidth=0,this.stopTime=!1,this.count=0,this.instance=()=>{this.diff=(new Date).getTime()-this.start-this.count*this.speed,this.isPaused$.pipe((0,g.p)(tn=>!tn),(0,d.$)()).subscribe(()=>{this.count++===this.steps?this.remove():this.stopTime||(this.showProgressBar&&(this.progressWidth+=100/this.steps),this.timer=setTimeout(this.instance,this.speed-this.diff)),this.zone.run(()=>this.cdr.detectChanges())})}}ngOnInit(){this.animate=this.notification.options.animate+le.p.In,0!==this.notification.options.timeOut&&(this.startTimeOut(),this.showProgressBar=!0),this.html=this.notification.html,this.contentType(this.notification.title,"title"),this.contentType(this.notification.content,"content")}startTimeOut(){this.steps=this.notification.options.timeOut/10,this.speed=this.notification.options.timeOut/this.steps,this.start=(new Date).getTime(),this.zone.runOutsideAngular(()=>this.timer=setTimeout(this.instance,this.speed))}ngOnDestroy(){clearTimeout(this.timer)}remove(){this.animate?(this.setAnimationOut(),setTimeout(()=>{this.notificationService.remove(this.notification)},1e3)):this.notificationService.remove(this.notification)}contentType(ke,dt){if(ke instanceof c.C4Q)this[dt]=ke;else if("title"===dt||"content"===dt&&!this.html){let Bt=null;(0,Z.hj)(ke)&&("string"==typeof ke?Bt=(0,e.of)(ke):ke instanceof f.c?Bt=ke:"object"==typeof ke&&(0,Z.hj)(ke.value)&&(Bt=(0,e.of)(ke.value))),this[dt]=Bt}else this[dt]=this.domSanitizer.bypassSecurityTrustHtml(ke);this[dt+"IsTemplate"]=ke instanceof c.C4Q}setAnimationOut(){this.animate=this.notification.options.animate+le.p.Out,this.cdr.detectChanges()}static#e=this.\u0275fac=function(dt){return new(dt||ne)(c.rXU(De.I),c.rXU(pe.up),c.rXU(c.gRc),c.rXU(c.SKi))};static#t=this.\u0275cmp=c.VBU({type:ne,selectors:[["ds-notification"]],inputs:{notification:"notification",isPaused$:"isPaused$"},standalone:!0,features:[c.aNF],decls:11,vars:15,consts:[["regularTitle",""],["regularContent",""],["regularHtml",""],["role","alert"],["class","notification-progress-loader position-absolute w-100",4,"ngIf"],["type","button","class","close pt-0 pr-1 pl-0 pb-0","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"notification-icon","d-flex","justify-content-center"],[3,"ngClass"],[1,"d-flex","flex-column","justify-content-center","align-content-stretch"],["class","p-2 mr-3",4,"ngIf"],[1,"notification-progress-loader","position-absolute","w-100"],[1,"h-100","float-left",3,"ngStyle"],["type","button","data-dismiss","alert","aria-label","Close",1,"close","pt-0","pr-1","pl-0","pb-0",3,"click"],["aria-hidden","true"],[1,"p-2","mr-3"],["class","notification-title pl-1",4,"ngIf","ngIfElse"],[1,"notification-title","pl-1"],[4,"ngTemplateOutlet"],["class","notification-content pl-1",4,"ngIf","ngIfElse"],[1,"notification-content","pl-1"],["class","notification-html pl-1",4,"ngIf","ngIfElse"],[1,"notification-html","pl-1"],[1,"notification-html","pl-1",3,"innerHTML"]],template:function(dt,Bt){1&dt&&(c.j41(0,"div",3),c.DNE(1,fe,2,3,"div",4)(2,Ie,3,0,"button",5),c.j41(3,"div",6)(4,"div",7)(5,"div",8),c.nrm(6,"i",9),c.k0s()(),c.j41(7,"div",10),c.DNE(8,Be,5,2,"div",11)(9,it,4,2,"div",11)(10,je,4,2,"div",11),c.k0s()()()),2&dt&&(c.ZvI("notification alert ",Bt.notification.type," alert-dismissible m-3 shadow"),c.Y8G("@enterLeave",Bt.animate),c.R7$(),c.Y8G("ngIf",Bt.showProgressBar),c.R7$(),c.Y8G("ngIf",Bt.notification.options.clickToClose),c.R7$(4),c.Y8G("ngClass",c.ziG(10,re,"alert-success"===Bt.notification.type,"alert-danger"===Bt.notification.type,"alert-warning"===Bt.notification.type,"alert-info"===Bt.notification.type)),c.R7$(2),c.Y8G("ngIf",Bt.title),c.R7$(),c.Y8G("ngIf",Bt.content&&!Bt.html),c.R7$(),c.Y8G("ngIf",Bt.content&&Bt.html))},dependencies:[n.bT,n.B3,n.YU,n.T3,n.Jj],styles:[".notification{display:inline-block;min-width:var(--bs-modal-sm);text-align:left}.close{outline:none!important;opacity:.8}.notification-icon{min-width:3rem}.notification-progress-loader{top:-1px;left:0;height:1px}.alert-success .notification-progress-loader span{background:var(--ds-notification-bg-success)}.alert-danger .notification-progress-loader span{background:var(--ds-notification-bg-danger)}.alert-info .notification-progress-loader span{background:var(--ds-notification-bg-info)}.alert-warning .notification-progress-loader span{background:var(--ds-notification-bg-warning)}\n"],encapsulation:2,data:{animation:[(0,i.hZ)("enterLeave",[y.e9,y.HT,y.ai,y.wA,_,E,O,b,j,$,G,x,w,u,S,v,K.iP,K.Wk,K.Py,K.B_,ae.UE,ae.CC,ae.L2,ae.Ru,Q,J,z,q])]},changeDetection:0})}return ne})()},15519:(B,D,t)=>{"use strict";t.d(D,{s:()=>b});var i=t(54460),n=t(73958),c=t(53085),e=t.n(c),f=t(71217),g=t(40380),d=t(79224);const y=O=>O.notifications;var E=t(53107);function _(O,I){if(1&O&&E.nrm(0,"ds-notification",2),2&O){const T=I.$implicit,R=E.XpG();E.Y8G("notification",T)("isPaused$",R.isPaused$)}}let b=(()=>{class O{set options(T){this.attachChanges(T)}constructor(T,R,u){this.service=T,this.store=R,this.cdr=u,this.notifications=[],this.position=["bottom","right"],this.maxStack=8,this.rtl=!1,this.animate="fromRight",this.isPaused$=new f.t(!1)}ngOnInit(){this.sub=this.store.pipe((0,n.Lt)(y)).subscribe(T=>{0===T.length?this.notifications=[]:T.length>this.notifications.length?e()(T,this.notifications).forEach(u=>{this.add(u)}):e()(this.notifications,T).forEach(u=>{this.notifications=this.notifications.filter(w=>w.id!==u.id)}),this.cdr.detectChanges()})}add(T){this.block(T)?this.service.remove(T):(this.notifications.length>=this.maxStack&&this.notifications.splice(this.notifications.length-1,1),this.notifications.splice(0,0,T))}block(T){const R=T.html?this.checkHtml:this.checkStandard;let u;return this.notifications.forEach(w=>{if(R(w,T))return!0}),this.notifications.length>0&&this.notifications.forEach(w=>{if(R(w,T))return!0}),this.notifications.length>0&&(u=this.notifications[0],R(u,T))}checkStandard(T,R){return T.type===R.type&&T.title===R.title&&T.content===R.content}checkHtml(T,R){return!!T.html&&T.type===R.type&&T.title===R.title&&T.content===R.content&&T.html===R.html}attachChanges(T){Object.keys(T).forEach(R=>{this.hasOwnProperty(R)&&(this[R]=T[R])})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static#e=this.\u0275fac=function(R){return new(R||O)(E.rXU(d.I),E.rXU(n.il),E.rXU(E.gRc))};static#t=this.\u0275cmp=E.VBU({type:O,selectors:[["ds-notifications-board"]],inputs:{options:"options"},standalone:!0,features:[E.aNF],decls:2,vars:2,consts:[[1,"notifications-wrapper","position-fixed",3,"mouseenter","mouseleave","ngClass"],["class","notification",3,"notification","isPaused$",4,"ngFor","ngForOf"],[1,"notification",3,"notification","isPaused$"]],template:function(R,u){1&R&&(E.j41(0,"div",0),E.bIt("mouseenter",function(){return u.isPaused$.next(!0)})("mouseleave",function(){return u.isPaused$.next(!1)}),E.DNE(1,_,1,2,"ds-notification",1),E.k0s()),2&R&&(E.Y8G("ngClass",u.position),E.R7$(),E.Y8G("ngForOf",u.notifications))},dependencies:[i.YU,i.pM,g.z],styles:[".notifications-wrapper{z-index:var(--bs-zindex-popover);text-align:right;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.notifications-wrapper .notification{display:block}.notifications-wrapper.left{left:0}.notifications-wrapper.top{top:0}.notifications-wrapper.right{right:0}.notifications-wrapper.bottom{bottom:0}.notifications-wrapper.center{left:50%;transform:translate(-50%)}.notifications-wrapper.middle{top:50%;transform:translateY(-50%)}.notifications-wrapper.middle.center{transform:translate(-50%,-50%)}@media screen and (max-width: 576px){.notifications-wrapper{width:auto;left:0;right:0}}\n"],encapsulation:2,changeDetection:0})}return O})()},3690:(B,D,t)=>{"use strict";t.d(D,{Is:()=>n,Sc:()=>c,e0:()=>f,o4:()=>e});var i=t(83770);const n={NEW_NOTIFICATION:(0,i.N)("dspace/notifications/NEW_NOTIFICATION"),REMOVE_ALL_NOTIFICATIONS:(0,i.N)("dspace/notifications/REMOVE_ALL_NOTIFICATIONS"),REMOVE_NOTIFICATION:(0,i.N)("dspace/notifications/REMOVE_NOTIFICATION")};class c{constructor(d){this.type=n.NEW_NOTIFICATION,this.payload=d}}class e{constructor(d){this.payload=d,this.type=n.REMOVE_ALL_NOTIFICATIONS}}class f{constructor(d){this.type=n.REMOVE_NOTIFICATION,this.payload=d}}},79224:(B,D,t)=>{"use strict";t.d(D,{I:()=>T});var i=t(84984),n=t.n(i),c=t(63016),e=t(1703),f=t(86722),g=t(72683),d=t(69535);class y{constructor(u,w,v,S,M,L){this.id=u,this.type=w,this.title=v,this.content=S,this.options=(0,g.Im)(M)?new d.y:M,this.html=L}}var E=t(80788),_=t(3690),b=t(53107),O=t(73958),I=t(69685);let T=(()=>{class R{constructor(w,v){this.store=w,this.translate=v}add(w){const v=new _.Sc(w);this.store.dispatch(v)}success(w=(0,c.of)(""),v=(0,c.of)(""),S={},M=!1){const L={...this.getDefaultOptions(),...S},F=new y(n()(),E._.Success,w,v,L,M);return this.add(F),F}error(w=(0,c.of)(""),v=(0,c.of)(""),S={},M=!1){const L={...this.getDefaultOptions(),...S},F=new y(n()(),E._.Error,w,v,L,M);return this.add(F),F}info(w=(0,c.of)(""),v=(0,c.of)(""),S={},M=!1){const L={...this.getDefaultOptions(),...S},F=new y(n()(),E._.Info,w,v,L,M);return this.add(F),F}warning(w=(0,c.of)(""),v=(0,c.of)(""),S=this.getDefaultOptions(),M=!1){const L={...this.getDefaultOptions(),...S},F=new y(n()(),E._.Warning,w,v,L,M);return this.add(F),F}notificationWithAnchor(w,v,S,M,L,F){this.translate.get(M).pipe((0,e.$)()).subscribe($=>{const j=`<a class="align-baseline btn btn-link p-0 m-0" href="${S}" >\n                        <strong>${$}</strong>\n                      </a>`,x=Object.create({});x[F]=j,this.translate.get(L,x).pipe((0,e.$)()).subscribe(G=>{switch(w){case E._.Success:this.success(null,G,v,!0);break;case E._.Error:this.error(null,G,v,!0);break;case E._.Info:this.info(null,G,v,!0);break;case E._.Warning:this.warning(null,G,v,!0)}})})}remove(w){const v=new _.e0(w.id);this.store.dispatch(v)}removeAll(){const w=new _.o4;this.store.dispatch(w)}getDefaultOptions(){return new d.y(f.c.notifications.timeOut,f.c.notifications.clickToClose,f.c.notifications.animate)}static#e=this.\u0275fac=function(v){return new(v||R)(b.KVO(O.il),b.KVO(I.c$))};static#t=this.\u0275prov=b.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},79599:(B,D,t)=>{"use strict";t.d(D,{n:()=>i});var i=function(n){return n[n.None=0]="None",n[n.Link=1]="Link",n[n.ExternalLink=2]="ExternalLink",n}(i||{})},13943:(B,D,t)=>{"use strict";t.d(D,{h:()=>He});var i=t(54460),n=t(53107),c=t(47947),e=t(66645),d=(t(89632),t(21314),t(71526)),y=t(88842),E=t(72683),_=t(69685),b=t(2566),O=t(96606),I=t(21548),T=t(79599),R=t(47637),u=t(51661);function w(We,Ct){if(1&We){const Qe=n.RV6();n.j41(0,"div",5)(1,"ds-listable-object-component-loader",6),n.bIt("contentChange",function(Dt){n.eBV(Qe);const Wt=n.XpG(2);return n.Njj(Wt.contentChange.emit(Dt))}),n.k0s()()}if(2&We){const Qe=Ct.$implicit,Ot=n.XpG(2);n.R7$(),n.Y8G("object",Qe)("viewMode",Ot.viewMode)("context",Ot.context)("showThumbnails",Ot.showThumbnails)}}function v(We,Ct){if(1&We&&(n.j41(0,"div",3),n.DNE(1,w,2,4,"div",4),n.k0s()),2&We){const Qe=n.XpG();n.Y8G("@fadeIn",void 0),n.R7$(),n.Y8G("ngForOf",null==Qe.objects||null==Qe.objects.payload?null:Qe.objects.payload.page)}}function S(We,Ct){1&We&&(n.nrm(0,"ds-error",7),n.nI1(1,"translate")),2&We&&n.FS9("message",n.bMT(1,1,"error.objects"))}function M(We,Ct){1&We&&(n.nrm(0,"ds-loading",7),n.nI1(1,"translate")),2&We&&n.FS9("message",n.bMT(1,1,"loading.objects"))}let L=(()=>{class We{constructor(){this.viewMode=y.n.DetailedListElement,this.hideGear=!0,this.hidePagerWhenSinglePage=!0,this.showPaginator=!0,this.contentChange=new n.bkB,this.prev=new n.bkB,this.next=new n.bkB,this.hidePaginationDetail=!0,this.change=new n.bkB,this.pageChange=new n.bkB,this.pageSizeChange=new n.bkB,this.sortDirectionChange=new n.bkB,this.paginationChange=new n.bkB,this.sortFieldChange=new n.bkB}set objects(Qe){this._objects=Qe}get objects(){return this._objects}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static#e=this.\u0275fac=function(Ot){return new(Ot||We)};static#t=this.\u0275cmp=n.VBU({type:We,selectors:[["ds-object-detail"]],inputs:{config:"config",sortConfig:"sortConfig",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects",hidePaginationDetail:"hidePaginationDetail"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange"},standalone:!0,features:[n.aNF],decls:4,vars:11,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","objects","hideGear","hidePaginationDetail","hidePagerWhenSinglePage","showPaginator"],["class","row mt-2",4,"ngIf"],[3,"message",4,"ngIf"],[1,"row","mt-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[3,"contentChange","object","viewMode","context","showThumbnails"],[3,"message"]],template:function(Ot,Dt){1&Ot&&(n.j41(0,"ds-pagination",0),n.bIt("pageChange",function(bn){return Dt.onPageChange(bn)})("pageSizeChange",function(bn){return Dt.onPageSizeChange(bn)})("sortDirectionChange",function(bn){return Dt.onSortDirectionChange(bn)})("sortFieldChange",function(bn){return Dt.onSortFieldChange(bn)})("paginationChange",function(bn){return Dt.onPaginationChange(bn)})("prev",function(){return Dt.goPrev()})("next",function(){return Dt.goNext()}),n.DNE(1,v,2,2,"div",1)(2,S,2,3,"ds-error",2)(3,M,2,3,"ds-loading",2),n.k0s()),2&Ot&&(n.Y8G("paginationOptions",Dt.config)("collectionSize",null==Dt.objects||null==Dt.objects.payload?null:Dt.objects.payload.totalElements)("sortOptions",Dt.sortConfig)("objects",Dt.objects)("hideGear",Dt.hideGear)("hidePaginationDetail",Dt.hidePaginationDetail)("hidePagerWhenSinglePage",Dt.hidePagerWhenSinglePage)("showPaginator",Dt.showPaginator),n.R7$(),n.Y8G("ngIf",null==Dt.objects?null:Dt.objects.hasSucceeded),n.R7$(),n.Y8G("ngIf",Dt.objects.hasFailed),n.R7$(),n.Y8G("ngIf",Dt.objects.isLoading))},dependencies:[u.e,i.bT,i.pM,R.v,O.A,I.v,_.h,_.D9],styles:["[_nghost-%COMP%]  div.thumbnail>img{height:var(--ds-card-thumbnail-height);width:100%}"],data:{animation:[b.qG]}})}return We})();var F=t(71217),$=t(76627),j=t(30593),x=t(744),G=t(75911);function Y(We,Ct){if(1&We&&(n.j41(0,"div",7),n.nI1(1,"dsBrowserOnly"),n.nrm(2,"ds-listable-object-component-loader",8),n.k0s()),2&We){const Qe=Ct.$implicit,Ot=n.XpG(3);n.BMQ("data-test",n.bMT(1,6,"grid-object")),n.R7$(2),n.Y8G("object",Qe)("viewMode",Ot.viewMode)("context",Ot.context)("showThumbnails",Ot.showThumbnails)("linkType",Ot.linkType)}}function V(We,Ct){if(1&We&&(n.j41(0,"div",5),n.DNE(1,Y,3,8,"div",6),n.k0s()),2&We){const Qe=Ct.$implicit;n.Y8G("@fadeIn",void 0),n.R7$(),n.Y8G("ngForOf",Qe)}}function X(We,Ct){if(1&We&&(n.j41(0,"div",3),n.DNE(1,V,2,2,"div",4),n.nI1(2,"async"),n.k0s()),2&We){const Qe=n.XpG();n.R7$(),n.Y8G("ngForOf",n.bMT(2,1,Qe.columns$))}}function K(We,Ct){1&We&&(n.nrm(0,"ds-error",9),n.nI1(1,"translate")),2&We&&n.FS9("message",n.bMT(1,1,"error.objects"))}function ae(We,Ct){1&We&&(n.nrm(0,"ds-loading",9),n.nI1(1,"translate")),2&We&&n.FS9("message",n.bMT(1,1,"loading.objects"))}let Q=(()=>{class We{set objects(Qe){this._objects$.next(Qe)}get objects(){return this._objects$.getValue()}constructor(Qe){this.hostWindow=Qe,this.viewMode=y.n.GridElement,this.showPaginator=!0,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.hidePaginationDetail=!1,this.change=new n.bkB,this.pageChange=new n.bkB,this.pageSizeChange=new n.bkB,this.sortDirectionChange=new n.bkB,this.paginationChange=new n.bkB,this.sortFieldChange=new n.bkB,this.prev=new n.bkB,this.next=new n.bkB,this.data={},this._objects$=new F.t(void 0)}ngOnInit(){const Qe=this.hostWindow.widthCategory.pipe((0,c.T)(Ot=>{switch(Ot){case x.tP.XL:case x.tP.LG:return 3;case x.tP.MD:case x.tP.SM:return 2;default:return 1}}),(0,e.F)()).pipe((0,j.Z)(3));this.columns$=(0,$.z)(Qe,this._objects$).pipe((0,c.T)(([Ot,Dt])=>{if((0,E.a4)(Dt)&&(0,E.a4)(Dt.payload)&&(0,E.a4)(Dt.payload.page)){const bn=[];return Dt.payload.page.forEach((Pn,ps)=>{const ks=ps%Ot;let Fs=bn[ks];(0,E.Tn)(Fs)&&(Fs=[]),bn[ks]=[...Fs,Pn]}),bn}return[]}))}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static#e=this.\u0275fac=function(Ot){return new(Ot||We)(n.rXU(x.CV))};static#t=this.\u0275cmp=n.VBU({type:We,selectors:[["ds-object-grid"]],inputs:{config:"config",sortConfig:"sortConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",objects:"objects"},outputs:{change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[n.aNF],decls:4,vars:11,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","hideGear","objects","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator"],["class","card-columns row",4,"ngIf"],[3,"message",4,"ngIf"],[1,"card-columns","row"],["class","card-column col col-sm-6 col-lg-4",4,"ngFor","ngForOf"],[1,"card-column","col","col-sm-6","col-lg-4"],["class","card-element",4,"ngFor","ngForOf"],[1,"card-element"],[3,"object","viewMode","context","showThumbnails","linkType"],[3,"message"]],template:function(Ot,Dt){1&Ot&&(n.j41(0,"ds-pagination",0),n.bIt("pageChange",function(bn){return Dt.onPageChange(bn)})("pageSizeChange",function(bn){return Dt.onPageSizeChange(bn)})("sortDirectionChange",function(bn){return Dt.onSortDirectionChange(bn)})("sortFieldChange",function(bn){return Dt.onSortFieldChange(bn)})("paginationChange",function(bn){return Dt.onPaginationChange(bn)})("prev",function(){return Dt.goPrev()})("next",function(){return Dt.goNext()}),n.DNE(1,X,3,3,"div",1)(2,K,2,3,"ds-error",2)(3,ae,2,3,"ds-loading",2),n.k0s()),2&Ot&&(n.Y8G("paginationOptions",Dt.config)("collectionSize",null==Dt.objects||null==Dt.objects.payload?null:Dt.objects.payload.totalElements)("sortOptions",Dt.sortConfig)("hideGear",Dt.hideGear)("objects",Dt.objects)("hidePagerWhenSinglePage",Dt.hidePagerWhenSinglePage)("hidePaginationDetail",Dt.hidePaginationDetail)("showPaginator",Dt.showPaginator),n.R7$(),n.Y8G("ngIf",null==Dt.objects?null:Dt.objects.hasSucceeded),n.R7$(),n.Y8G("ngIf",Dt.objects.hasFailed),n.R7$(),n.Y8G("ngIf",Dt.objects.isLoading))},dependencies:[u.e,i.bT,i.pM,R.v,O.A,I.v,i.Jj,_.h,_.D9,G.L],styles:["[_nghost-%COMP%]    {--ds-wrapper-grid-spacing: calc(var(--bs-spacer) / 2)}[_nghost-%COMP%]     div.card{margin-top:var(--ds-wrapper-grid-spacing);margin-bottom:var(--ds-wrapper-grid-spacing)}[_nghost-%COMP%]     div.card div.thumbnail>.thumbnail-content{height:var(--ds-card-thumbnail-height);width:100%;display:block;min-width:100%;min-height:100%;object-fit:cover;object-position:50% 15%}.card-columns[_ngcontent-%COMP%]{margin-left:calc(-1 * var(--ds-wrapper-grid-spacing));margin-right:calc(-1 * var(--ds-wrapper-grid-spacing));column-gap:0}.card-columns[_ngcontent-%COMP%]   .card-column[_ngcontent-%COMP%]{padding-left:var(--ds-wrapper-grid-spacing);padding-right:var(--ds-wrapper-grid-spacing)}"],data:{animation:[b.qG]}})}return We})();var J=t(21124);t(32486);const q=["*"];function ee(We,Ct){}let de=(()=>{class We extends J.J{constructor(){super(...arguments),this.contentChange=new n.bkB,this.prev=new n.bkB,this.next=new n.bkB,this.change=new n.bkB,this.pageChange=new n.bkB,this.pageSizeChange=new n.bkB,this.sortDirectionChange=new n.bkB,this.paginationChange=new n.bkB,this.deselectObject=new n.bkB,this.selectObject=new n.bkB,this.importObject=new n.bkB,this.sortFieldChange=new n.bkB,this.inAndOutputNames=["config","sortConfig","hasBorder","hideGear","hidePagerWhenSinglePage","selectable","selectionConfig","linkType","context","hidePaginationDetail","importable","importConfig","showPaginator","showThumbnails","contentChange","prev","next","objects","change","pageChange","pageSizeChange","sortDirectionChange","paginationChange","deselectObject","selectObject","importObject","sortFieldChange"]}getComponentName(){return"ObjectListComponent"}importThemedComponent(Qe){return t(8894)(`./${Qe}/app/shared/object-list/object-list.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,32486))}static#e=this.\u0275fac=(()=>{let Qe;return function(Dt){return(Qe||(Qe=n.xGo(We)))(Dt||We)}})();static#t=this.\u0275cmp=n.VBU({type:We,selectors:[["ds-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},standalone:!0,features:[n.Vt3,n.aNF],ngContentSelectors:q,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(Ot,Dt){1&Ot&&(n.NAR(),n.DNE(0,ee,0,0,"ng-template",null,0,n.C5r),n.j41(2,"div",null,1),n.SdG(4),n.k0s())},encapsulation:2})}return We})();var Ce=t(63016),Z=t(37610),De=(t(5338),t(16182)),pe=t(95968),re=t(3631),ve=t(82506);let fe=(()=>{class We{constructor(){this.showLabel=!0,this.reloadedObject=new n.bkB,this.linkTypes=T.n,this.viewModes=y.n,this.contexts=d.o}static#e=this.\u0275fac=function(Ot){return new(Ot||We)};static#t=this.\u0275cmp=n.VBU({type:We,selectors:[["ds-objects-collection-tabulatable"]],inputs:{objects:"objects",linkType:"linkType",listID:"listID",value:"value",showLabel:"showLabel",showThumbnails:"showThumbnails",context:"context",viewMode:"viewMode"},outputs:{reloadedObject:"reloadedObject"},standalone:!0,features:[n.aNF],decls:0,vars:0,template:function(Ot,Dt){},encapsulation:2})}return We})(),Ie=(()=>{class We extends fe{static#e=this.\u0275fac=(()=>{let Qe;return function(Dt){return(Qe||(Qe=n.xGo(We)))(Dt||We)}})();static#t=this.\u0275cmp=n.VBU({type:We,selectors:[["ds-search-result-table-element"]],standalone:!0,features:[n.Vt3,n.aNF],decls:0,vars:0,template:function(Ot,Dt){},encapsulation:2})}return We})();var Ne=t(37362),qe=t(93527),we=t(59665),Ve=(t(52970),t(2155));const et=We=>({default:We});function yt(We,Ct){if(1&We&&(n.j41(0,"div")(1,"div",9)(2,"div",10),n.EFF(3),n.nI1(4,"translate"),n.k0s(),n.j41(5,"div",11),n.EFF(6),n.nI1(7,"translate"),n.k0s()()()),2&We){let Qe;const Ot=Ct.$implicit,Dt=n.XpG();n.R7$(3),n.JRh(n.bMT(4,2,Ot+".notify-detail-modal")),n.R7$(3),n.JRh(n.i5U(7,4,"notify-detail-modal."+Dt.notifyMessage[Ot],n.eq3(7,et,null!==(Qe=Dt.notifyMessage[Ot])&&void 0!==Qe?Qe:"n/a")))}}function it(We,Ct){if(1&We&&n.nrm(0,"pre",12),2&We){const Qe=n.XpG();n.Y8G("@fadeIn",void 0)("innerHTML",Qe.notifyMessage.message,n.npT)}}let at=(()=>{class We{constructor(Qe,Ot){this.activeModal=Qe,this.translationsService=Ot,this.response=new n.bkB,this.isCoarMessageVisible=!1,this.translationsService.missingTranslationHandler=new we.M}closeModal(){this.activeModal.close(),this.response.emit(!0)}toggleCoarMessage(){this.isCoarMessageVisible=!this.isCoarMessageVisible}static#e=this.\u0275fac=function(Ot){return new(Ot||We)(n.rXU(Ve.Lw),n.rXU(_.c$))};static#t=this.\u0275cmp=n.VBU({type:We,selectors:[["ds-admin-notify-detail-modal"]],inputs:{notifyMessage:"notifyMessage",notifyMessageKeys:"notifyMessageKeys"},outputs:{response:"response"},standalone:!0,features:[n.aNF],decls:14,vars:8,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-4"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[1,"btn-primary",3,"click"],["class","bg-secondary text-white mt-2 p-2",3,"innerHTML",4,"ngIf"],[1,"row","mb-4"],[1,"font-weight-bold","col"],[1,"col","text-right"],[1,"bg-secondary","text-white","mt-2","p-2",3,"innerHTML"]],template:function(Ot,Dt){1&Ot&&(n.j41(0,"div",0)(1,"h4",1),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"button",2),n.bIt("click",function(){return Dt.activeModal.dismiss("Cross click")}),n.j41(5,"span",3),n.EFF(6,"\xd7"),n.k0s()()(),n.j41(7,"div",4),n.DNE(8,yt,8,9,"div",5),n.j41(9,"div",6)(10,"button",7),n.bIt("click",function(){return Dt.toggleCoarMessage()}),n.EFF(11),n.nI1(12,"translate"),n.k0s()(),n.DNE(13,it,1,2,"pre",8),n.k0s()),2&Ot&&(n.R7$(2),n.JRh(n.bMT(3,4,"notify-message-modal.title")),n.R7$(6),n.Y8G("ngForOf",Dt.notifyMessageKeys),n.R7$(3),n.SpI(" ",n.bMT(12,6,"notify-message-modal.show-message")," "),n.R7$(2),n.Y8G("ngIf",Dt.isCoarMessageVisible))},dependencies:[i.Sq,_.h,_.D9,i.bT],encapsulation:2,data:{animation:[b.qG]}})}return We})();var Yt=t(72051);function nn(We,Ct){if(1&We&&(n.j41(0,"div"),n.EFF(1),n.nI1(2,"date"),n.k0s()),2&We){const Qe=n.XpG().$implicit;n.R7$(),n.JRh(n.i5U(2,1,Qe.queueLastStartTime,"YYYY/MM/d hh:mm:ss"))}}function je(We,Ct){1&We&&(n.j41(0,"div"),n.EFF(1,"n/a"),n.k0s())}function Re(We,Ct){if(1&We&&(n.j41(0,"a",12),n.EFF(1),n.k0s()),2&We){const Qe=n.XpG().$implicit;n.Y8G("routerLink","/items/"+(Qe.context||Qe.object)),n.R7$(),n.JRh(Qe.relatedItem)}}function ne(We,Ct){1&We&&(n.j41(0,"div"),n.EFF(1,"n/a"),n.k0s())}function Ee(We,Ct){if(1&We&&(n.j41(0,"div"),n.EFF(1),n.k0s()),2&We){const Qe=n.XpG().$implicit;n.R7$(),n.JRh(Qe.ldnService)}}function ke(We,Ct){1&We&&(n.j41(0,"div"),n.EFF(1,"n/a"),n.k0s())}function dt(We,Ct){if(1&We){const Qe=n.RV6();n.j41(0,"button",13),n.bIt("click",function(){n.eBV(Qe);const Dt=n.XpG().$implicit,Wt=n.XpG();return n.Njj(Wt.reprocessMessage(Dt))}),n.EFF(1),n.nI1(2,"translate"),n.k0s()}2&We&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"notify-message-result.reprocess")," "))}function Bt(We,Ct){if(1&We){const Qe=n.RV6();n.j41(0,"tr")(1,"td",2),n.DNE(2,nn,3,4,"div",5)(3,je,2,0,"div",5),n.k0s(),n.j41(4,"td")(5,"ds-truncatable",6)(6,"ds-truncatable-part",7),n.DNE(7,Re,2,2,"a",8),n.k0s()(),n.DNE(8,ne,2,0,"div",5),n.k0s(),n.j41(9,"td"),n.DNE(10,Ee,2,1,"div",5)(11,ke,2,0,"div",5),n.k0s(),n.j41(12,"td")(13,"div"),n.EFF(14),n.k0s()(),n.j41(15,"td")(16,"div",2),n.EFF(17),n.nI1(18,"translate"),n.k0s()(),n.j41(19,"td")(20,"div",9)(21,"button",10),n.bIt("click",function(){const Dt=n.eBV(Qe).$implicit,Wt=n.XpG();return n.Njj(Wt.openDetailModal(Dt))}),n.EFF(22),n.nI1(23,"translate"),n.k0s(),n.DNE(24,dt,3,3,"button",11),n.k0s()()()}if(2&We){const Qe=Ct.$implicit,Ot=n.XpG();n.R7$(2),n.Y8G("ngIf",Qe.queueLastStartTime),n.R7$(),n.Y8G("ngIf",!Qe.queueLastStartTime),n.R7$(2),n.Y8G("id",Qe.id),n.R7$(),n.Y8G("id",Qe.id)("minLines",2),n.R7$(),n.Y8G("ngIf",Qe.relatedItem),n.R7$(),n.Y8G("ngIf",!Qe.relatedItem),n.R7$(2),n.Y8G("ngIf",Qe.ldnService),n.R7$(),n.Y8G("ngIf",!Qe.ldnService),n.R7$(3),n.JRh(Qe.activityStreamType),n.R7$(3),n.JRh(n.bMT(18,13,"notify-detail-modal."+Qe.queueStatusLabel)),n.R7$(5),n.JRh(n.bMT(23,15,"notify-message-result.detail")),n.R7$(2),n.Y8G("ngIf",Qe.queueStatusLabel!==Ot.reprocessStatus&&Ot.validStatusesForReprocess.includes(Qe.queueStatusLabel))}}let wt=(()=>{class We extends Ie{constructor(Qe,Ot,Dt,Wt){super(),this.modalService=Qe,this.adminNotifyMessagesService=Ot,this.datePipe=Dt,this.searchConfigService=Wt,this.messagesSubject$=new F.t([]),this.reprocessStatus="QUEUE_STATUS_QUEUED_FOR_RETRY",this.validStatusesForReprocess=["QUEUE_STATUS_UNTRUSTED","QUEUE_STATUS_UNTRUSTED_IP","QUEUE_STATUS_FAILED","QUEUE_STATUS_UNMAPPED_ACTION"],this.subs=[],this.dateTypeKeys=["queueLastStartTime","queueTimeout"],this.messageKeys=["type","id","coarNotifyType","activityStreamType","inReplyTo","queueAttempts","queueLastStartTime","queueStatusLabel","queueTimeout"],this.dateFormat="YYYY/MM/d hh:mm:ss"}ngOnInit(){this.mapDetailsToMessages(),this.subs.push(this.searchConfigService.getCurrentConfiguration("").subscribe(Qe=>{this.isInbound=Qe.startsWith("NOTIFY.incoming")}))}ngOnDestroy(){this.subs.forEach(Qe=>Qe.unsubscribe())}openDetailModal(Qe){const Ot=this.modalService.open(at),Dt={...Qe};this.messageKeys.forEach(Wt=>{this.dateTypeKeys.includes(Wt)&&(Dt[Wt]=this.datePipe.transform(Dt[Wt],this.dateFormat))}),Dt.message=JSON.stringify(JSON.parse(Qe.message),null,2),Ot.componentInstance.notifyMessage=Dt,Ot.componentInstance.notifyMessageKeys=this.messageKeys}reprocessMessage(Qe){this.subs.push(this.adminNotifyMessagesService.reprocessMessage(Qe,this.messagesSubject$).subscribe(Ot=>{this.messagesSubject$.next(Ot)}))}mapDetailsToMessages(){this.subs.push(this.adminNotifyMessagesService.getDetailedMessages(this.objects?.page.map(Qe=>Qe.indexableObject)).subscribe(Qe=>{this.messagesSubject$.next(Qe)}))}static#e=this.\u0275fac=function(Ot){return new(Ot||We)(n.rXU(Ve.Bq),n.rXU(Yt.AdminNotifyMessagesService),n.rXU(i.vh),n.rXU(ve.EN))};static#t=this.\u0275cmp=n.VBU({type:We,selectors:[["ds-admin-notify-search-result"]],standalone:!0,features:[n.Jv_([i.vh,{provide:ve.EN,useClass:re.g}]),n.Vt3,n.aNF],decls:25,vars:21,consts:[[1,"table-responsive","mt-2"],[1,"table","table-striped","table-hover"],[1,"text-nowrap"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"id"],[3,"id","minLines"],[3,"routerLink",4,"ngIf"],[1,"d-flex","flex-column"],[1,"btn","mb-2","btn-dark",3,"click"],["class","btn btn-warning",3,"click",4,"ngIf"],[3,"routerLink"],[1,"btn","btn-warning",3,"click"]],template:function(Ot,Dt){1&Ot&&(n.j41(0,"div",0)(1,"table",1)(2,"thead")(3,"tr",2)(4,"th",3),n.EFF(5),n.nI1(6,"translate"),n.k0s(),n.j41(7,"th",3),n.EFF(8),n.nI1(9,"translate"),n.k0s(),n.j41(10,"th",3),n.EFF(11),n.nI1(12,"translate"),n.k0s(),n.j41(13,"th",3),n.EFF(14),n.nI1(15,"translate"),n.k0s(),n.j41(16,"th",3),n.EFF(17),n.nI1(18,"translate"),n.k0s(),n.j41(19,"th",3),n.EFF(20),n.nI1(21,"translate"),n.k0s()()(),n.j41(22,"tbody"),n.DNE(23,Bt,25,17,"tr",4),n.nI1(24,"async"),n.k0s()()()),2&Ot&&(n.R7$(5),n.JRh(n.bMT(6,7,"notify-message-result.timestamp")),n.R7$(3),n.JRh(n.bMT(9,9,"notify-message-result.repositoryItem")),n.R7$(3),n.JRh(n.bMT(12,11,"notify-message-result.ldnService")),n.R7$(3),n.JRh(n.bMT(15,13,"notify-message-result.type")),n.R7$(3),n.JRh(n.bMT(18,15,"notify-message-result.status")),n.R7$(3),n.JRh(n.bMT(21,17,"notify-message-result.action")),n.R7$(3),n.Y8G("ngForOf",n.bMT(24,19,Dt.messagesSubject$)))},dependencies:[_.h,_.D9,i.Sq,i.bT,i.vh,i.Jj,Ne.d,qe.W,pe.Wk],encapsulation:2})}return We})();var tn=t(77789),It=t(50999);const $t=new Map([[tn.o,new Map([[y.n.Table,new Map([[d.o.CoarNotify,new Map([[It.SS,wt]])]])]])]]);let mn=(()=>{class We{constructor(Qe){this.viewContainerRef=Qe}static#e=this.\u0275fac=function(Ot){return new(Ot||We)(n.rXU(n.c1b))};static#t=this.\u0275dir=n.FsC({type:We,selectors:[["","dsTabulatableObjects",""]],standalone:!0})}return We})();function Rn(We,Ct){}let os=(()=>{class We{constructor(Qe,Ot){this.cdr=Qe,this.themeService=Ot,this.showLabel=!0,this.contentChange=new n.bkB,this.subs=[],this.viewMode=y.n.Table,this.inAndOutputNames=["objects","linkType","listID","showLabel","showThumbnails","context","viewMode","value","hideBadges","contentChange"]}ngOnInit(){this.instantiateComponent(this.objects)}ngOnChanges(Qe){(0,E.Tn)(this.compRef)?this.instantiateComponent(this.objects,Qe):this.inAndOutputNames.some(Ot=>(0,E.a4)(Qe[Ot]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(Qe))}ngOnDestroy(){this.subs.filter(Qe=>(0,E.a4)(Qe)).forEach(Qe=>Qe.unsubscribe())}instantiateComponent(Qe,Ot){const Dt=this.getComponent(Qe?.page[0]?.getRenderTypes(),this.viewMode,this.context),Wt=this.tabulatableObjectsDirective.viewContainerRef;Wt.clear(),this.compRef=Wt.createComponent(Dt,{index:0,injector:void 0}),(0,E.a4)(Ot)?this.ngOnChanges(Ot):this.connectInputsAndOutputs(),this.compRef.instance.reloadedObject&&(0,$.z)([(0,Ce.of)(Ot),this.compRef.instance.reloadedObject.pipe((0,Z.s)(1))]).subscribe(([bn,Pn])=>{Pn&&(this.compRef.destroy(),this.objects=Pn,this.instantiateComponent(Pn,bn),this.cdr.detectChanges(),this.contentChange.emit(Pn))})}getComponent(Qe,Ot,Dt){return function Zt(We,Ct,Qe=It.A2,Ot=It.SS){let Dt=null;for(const Wt of We){const bn=$t.get(Wt);if((0,E.a4)(bn)){const Pn=(0,It.mo)(bn,[Ct,Qe,Ot],[It.e8,It.A2,It.SS]);((0,E.Tn)(Dt)||Dt.isLessRelevantThan(Pn))&&(Dt=Pn)}}return(0,E.a4)(Dt)?Dt.match:null}(Qe,Ot,Dt,this.themeService.getThemeName())}connectInputsAndOutputs(){(0,E.hj)(this.inAndOutputNames)&&(0,E.a4)(this.compRef)&&(0,E.a4)(this.compRef.instance)&&this.inAndOutputNames.filter(Qe=>void 0!==this[Qe]).forEach(Qe=>{this.compRef.instance[Qe]=this[Qe]})}static#e=this.\u0275fac=function(Ot){return new(Ot||We)(n.rXU(n.gRc),n.rXU(De.Fs))};static#t=this.\u0275cmp=n.VBU({type:We,selectors:[["ds-tabulatable-objects-loader"]],viewQuery:function(Ot,Dt){if(1&Ot&&n.GBs(mn,7),2&Ot){let Wt;n.mGM(Wt=n.lsd())&&(Dt.tabulatableObjectsDirective=Wt.first)}},inputs:{objects:"objects",context:"context",linkType:"linkType",listID:"listID",showLabel:"showLabel",showThumbnails:"showThumbnails",value:"value"},outputs:{contentChange:"contentChange"},standalone:!0,features:[n.OA$,n.aNF],decls:1,vars:0,consts:[["dsTabulatableObjects",""]],template:function(Ot,Dt){1&Ot&&n.DNE(0,Rn,0,0,"ng-template",0)},dependencies:[mn],encapsulation:2})}return We})();function Mn(We,Ct){if(1&We&&(n.j41(0,"div")(1,"div"),n.nrm(2,"ds-tabulatable-objects-loader",3),n.k0s()()),2&We){const Qe=n.XpG();n.R7$(),n.Y8G("@fadeIn",void 0),n.R7$(),n.Y8G("objects",Qe.objects.payload)("context",Qe.context)("showThumbnails",Qe.showThumbnails)("linkType",Qe.linkType)}}function xs(We,Ct){1&We&&(n.nrm(0,"ds-error",4),n.nI1(1,"translate")),2&We&&n.FS9("message",n.bMT(1,1,"error.objects"))}function rn(We,Ct){1&We&&(n.nrm(0,"ds-loading",4),n.nI1(1,"translate")),2&We&&n.FS9("message",n.bMT(1,1,"loading.objects"))}let Dn=(()=>{class We{set objects(Qe){this._objects$.next(Qe)}get objects(){return this._objects$.getValue()}constructor(){this.viewMode=y.n.Table,this.showPaginator=!0,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.hidePaginationDetail=!1,this.change=new n.bkB,this.pageChange=new n.bkB,this.pageSizeChange=new n.bkB,this.sortDirectionChange=new n.bkB,this.paginationChange=new n.bkB,this.sortFieldChange=new n.bkB,this.prev=new n.bkB,this.next=new n.bkB,this.data={},this._objects$=new F.t(void 0)}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static#e=this.\u0275fac=function(Ot){return new(Ot||We)};static#t=this.\u0275cmp=n.VBU({type:We,selectors:[["ds-object-table"]],inputs:{config:"config",sortConfig:"sortConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",objects:"objects"},outputs:{change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[n.aNF],decls:4,vars:12,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","hideGear","objects","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator","retainScrollPosition"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"objects","context","showThumbnails","linkType"],[3,"message"]],template:function(Ot,Dt){1&Ot&&(n.j41(0,"ds-pagination",0),n.bIt("pageChange",function(bn){return Dt.onPageChange(bn)})("pageSizeChange",function(bn){return Dt.onPageSizeChange(bn)})("sortDirectionChange",function(bn){return Dt.onSortDirectionChange(bn)})("sortFieldChange",function(bn){return Dt.onSortFieldChange(bn)})("paginationChange",function(bn){return Dt.onPaginationChange(bn)})("prev",function(){return Dt.goPrev()})("next",function(){return Dt.goNext()}),n.DNE(1,Mn,3,5,"div",1)(2,xs,2,3,"ds-error",2)(3,rn,2,3,"ds-loading",2),n.k0s()),2&Ot&&(n.Y8G("paginationOptions",Dt.config)("collectionSize",null==Dt.objects||null==Dt.objects.payload?null:Dt.objects.payload.totalElements)("sortOptions",Dt.sortConfig)("hideGear",Dt.hideGear)("objects",Dt.objects)("hidePagerWhenSinglePage",Dt.hidePagerWhenSinglePage)("hidePaginationDetail",Dt.hidePaginationDetail)("showPaginator",Dt.showPaginator)("retainScrollPosition",!0),n.R7$(),n.Y8G("ngIf",null==Dt.objects?null:Dt.objects.hasSucceeded),n.R7$(),n.Y8G("ngIf",null==Dt.objects?null:Dt.objects.hasFailed),n.R7$(),n.Y8G("ngIf",null==Dt.objects?null:Dt.objects.isLoading))},dependencies:[u.e,i.bT,I.v,O.A,_.h,_.D9,os],data:{animation:[b.qG]}})}return We})();var Lt=t(8040);function zt(We,Ct){if(1&We){const Qe=n.RV6();n.j41(0,"ds-object-list",3),n.bIt("paginationChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.onPaginationChange(Dt))})("pageChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.onPageChange(Dt))})("pageSizeChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.onPageSizeChange(Dt))})("sortDirectionChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.onSortDirectionChange(Dt))})("deselectObject",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.deselectObject.emit(Dt))})("selectObject",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.selectObject.emit(Dt))})("sortFieldChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.onSortFieldChange(Dt))})("importObject",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.importObject.emit(Dt))})("contentChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.contentChange.emit(Dt))})("prev",function(){n.eBV(Qe);const Dt=n.XpG();return n.Njj(Dt.goPrev())})("next",function(){n.eBV(Qe);const Dt=n.XpG();return n.Njj(Dt.goNext())}),n.k0s()}if(2&We){const Qe=n.XpG();n.Y8G("ngClass",Qe.placeholderFontClass)("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hasBorder",Qe.hasBorder)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)("selectable",Qe.selectable)("selectionConfig",Qe.selectionConfig)("importable",Qe.importable)("importConfig",Qe.importConfig)}}function gt(We,Ct){if(1&We){const Qe=n.RV6();n.j41(0,"ds-object-grid",4),n.bIt("paginationChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.onPaginationChange(Dt))})("pageChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.onPageChange(Dt))})("pageSizeChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.onPageSizeChange(Dt))})("sortDirectionChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.onSortDirectionChange(Dt))})("sortFieldChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.onSortFieldChange(Dt))}),n.k0s()}if(2&We){const Qe=n.XpG();n.Y8G("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)}}function Ke(We,Ct){if(1&We){const Qe=n.RV6();n.j41(0,"ds-object-detail",5),n.bIt("contentChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.contentChange.emit(Dt))}),n.k0s()}if(2&We){const Qe=n.XpG();n.Y8G("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)}}function Ze(We,Ct){if(1&We){const Qe=n.RV6();n.j41(0,"ds-object-table",4),n.bIt("paginationChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.onPaginationChange(Dt))})("pageChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.onPageChange(Dt))})("pageSizeChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.onPageSizeChange(Dt))})("sortDirectionChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.onSortDirectionChange(Dt))})("sortFieldChange",function(Dt){n.eBV(Qe);const Wt=n.XpG();return n.Njj(Wt.onSortFieldChange(Dt))}),n.k0s()}if(2&We){const Qe=n.XpG();n.Y8G("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)}}let He=(()=>{class We{constructor(Qe,Ot,Dt,Wt,bn){this.cdRef=Qe,this.route=Ot,this.router=Dt,this.elementRef=Wt,this.platformId=bn,this.hasBorder=!1,this.hideGear=!1,this.selectable=!1,this.customEvent=new n.bkB,this.deselectObject=new n.bkB,this.selectObject=new n.bkB,this.contentChange=new n.bkB,this.importable=!1,this.importObject=new n.bkB,this.hidePaginationDetail=!1,this.showPaginator=!0,this.pageChange=new n.bkB,this.pageSizeChange=new n.bkB,this.sortDirectionChange=new n.bkB,this.paginationChange=new n.bkB,this.sortFieldChange=new n.bkB,this.prev=new n.bkB,this.next=new n.bkB,this.viewModeEnum=y.n}ngOnInit(){this.currentMode$=this.route.queryParams.pipe((0,c.T)(Qe=>(0,E.Im)(Qe?.view)?y.n.ListElement:Qe.view),(0,e.F)()),this.placeholderFontClass=(0,i.UE)(this.platformId)?(0,Lt.F)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text"}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static#e=this.\u0275fac=function(Ot){return new(Ot||We)(n.rXU(n.gRc),n.rXU(pe.nX),n.rXU(pe.Ix),n.rXU(n.aKT),n.rXU(n.Agw))};static#t=this.\u0275cmp=n.VBU({type:We,selectors:[["ds-viewable-collection"]],inputs:{objects:"objects",config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",selectable:"selectable",selectionConfig:"selectionConfig",importable:"importable",importConfig:"importConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",showPaginator:"showPaginator",showThumbnails:"showThumbnails"},outputs:{customEvent:"customEvent",deselectObject:"deselectObject",selectObject:"selectObject",contentChange:"contentChange",importObject:"importObject",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[n.aNF],decls:8,vars:12,consts:[[3,"ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig","paginationChange","pageChange","pageSizeChange","sortDirectionChange","deselectObject","selectObject","sortFieldChange","importObject","contentChange","prev","next",4,"ngIf"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","paginationChange","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange",4,"ngIf"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","contentChange",4,"ngIf"],[3,"paginationChange","pageChange","pageSizeChange","sortDirectionChange","deselectObject","selectObject","sortFieldChange","importObject","contentChange","prev","next","ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig"],[3,"paginationChange","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"],[3,"contentChange","config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"]],template:function(Ot,Dt){1&Ot&&(n.DNE(0,zt,1,15,"ds-object-list",0),n.nI1(1,"async"),n.DNE(2,gt,1,9,"ds-object-grid",1),n.nI1(3,"async"),n.DNE(4,Ke,1,9,"ds-object-detail",2),n.nI1(5,"async"),n.DNE(6,Ze,1,9,"ds-object-table",1),n.nI1(7,"async")),2&Ot&&(n.Y8G("ngIf",n.bMT(1,4,Dt.currentMode$)===Dt.viewModeEnum.ListElement),n.R7$(2),n.Y8G("ngIf",n.bMT(3,6,Dt.currentMode$)===Dt.viewModeEnum.GridElement),n.R7$(2),n.Y8G("ngIf",n.bMT(5,8,Dt.currentMode$)===Dt.viewModeEnum.DetailedListElement),n.R7$(2),n.Y8G("ngIf",n.bMT(7,10,Dt.currentMode$)===Dt.viewModeEnum.Table))},dependencies:[i.bT,de,i.YU,Q,L,i.Jj,Dn],styles:["[_nghost-%COMP%]{display:block}"]})}return We})()},38950:(B,D,t)=>{"use strict";t.r(D),t.d(D,{AccessStatusBadgeComponent:()=>T});var i=t(54460),n=t(69685),c=t(63016),e=t(47947),f=t(17178),g=t(66095),d=t(86722),E=(t(47587),t(4198)),_=t(72683),b=t(53107);function O(R,u){if(1&R&&(b.j41(0,"span")(1,"span"),b.EFF(2),b.nI1(3,"translate"),b.k0s()()),2&R){const w=u.ngIf,v=b.XpG(2);b.R7$(),b.HbH("badge badge-secondary access-status-list-element-badge "+v.accessStatusClass),b.R7$(),b.JRh(b.bMT(3,3,w))}}function I(R,u){if(1&R&&(b.qex(0),b.DNE(1,O,4,5,"span",0),b.nI1(2,"async"),b.bVm()),2&R){const w=b.XpG();b.R7$(),b.Y8G("ngIf",b.bMT(2,1,w.accessStatus$))}}let T=(()=>{class R{constructor(w){this.accessStatusDataService=w,this.subs=[]}ngOnInit(){if(this.showAccessStatus=d.c.item.showAccessStatuses,this.object.type.toString()!==E.U.value||!this.showAccessStatus||null==this.object)return;const w=this.object;null==w.accessStatus&&(w.accessStatus=this.accessStatusDataService.findAccessStatusFor(w)),this.accessStatus$=w.accessStatus.pipe((0,e.T)(v=>401!==v.statusCode&&(0,_.a4)(v.payload)?v.payload:[]),(0,e.T)(v=>(0,_.a4)(v.status)?v.status:"unknown"),(0,e.T)(v=>`access-status.${v.toLowerCase()}.listelement.badge`),(0,f.W)(()=>(0,c.of)("access-status.unknown.listelement.badge"))),this.subs.push(this.accessStatus$.pipe((0,e.T)(v=>v.replace(/\./g,"-"))).subscribe(v=>{this.accessStatusClass=v}))}ngOnDestroy(){this.subs.filter(w=>(0,_.a4)(w)).forEach(w=>w.unsubscribe())}static#e=this.\u0275fac=function(v){return new(v||R)(b.rXU(g.AccessStatusDataService))};static#t=this.\u0275cmp=b.VBU({type:R,selectors:[["ds-base-access-status-badge"]],inputs:{object:"object"},standalone:!0,features:[b.aNF],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(v,S){1&v&&b.DNE(0,I,3,3,"ng-container",0),2&v&&b.Y8G("ngIf",S.showAccessStatus)},dependencies:[i.bT,i.Jj,n.h,n.D9]})}return R})()},24308:(B,D,t)=>{"use strict";t.d(D,{E:()=>n});const n=new(t(98573).v)("accessStatus")},17382:(B,D,t)=>{"use strict";t.d(D,{I:()=>d}),t(47587);var n=t(21124),e=(t(38950),t(53107));const f=["*"];function g(y,E){}let d=(()=>{class y extends n.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"AccessStatusBadgeComponent"}importThemedComponent(_){return t(50822)(`./${_}/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,38950))}static#e=this.\u0275fac=(()=>{let _;return function(O){return(_||(_=e.xGo(y)))(O||y)}})();static#t=this.\u0275cmp=e.VBU({type:y,selectors:[["ds-access-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(b,O){1&b&&(e.NAR(),e.DNE(0,g,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return y})()},10667:(B,D,t)=>{"use strict";t.r(D),t.d(D,{BadgesComponent:()=>O});var i=t(54460),n=t(71526),e=(t(47587),t(17382)),f=t(65486),g=t(51174),d=t(15614),y=t(53107);function E(I,T){if(1&I&&(y.qex(0),y.nrm(1,"ds-my-dspace-status-badge",3),y.bVm()),2&I){const R=y.XpG();y.R7$(),y.Y8G("context",R.context)}}function _(I,T){if(1&I&&(y.qex(0),y.nrm(1,"ds-access-status-badge",0),y.bVm()),2&I){const R=y.XpG();y.R7$(),y.Y8G("object",R.object)}}const b=[n.o.MyDSpaceArchived,n.o.MyDSpaceWorkspace,n.o.MyDSpaceWorkflow,n.o.MyDSpaceDeclined,n.o.MyDSpaceApproved,n.o.MyDSpaceWaitingController,n.o.MyDSpaceValidation];let O=(()=>{class I{constructor(){this.showAccessStatus=!1}get isMyDSpaceStatus(){return b.includes(this.context)}static#e=this.\u0275fac=function(u){return new(u||I)};static#t=this.\u0275cmp=y.VBU({type:I,selectors:[["ds-base-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},standalone:!0,features:[y.aNF],decls:5,vars:4,consts:[[3,"object"],[4,"ngIf"],[1,"pr-1",3,"object"],[3,"context"]],template:function(u,w){1&u&&(y.nrm(0,"ds-status-badge",0),y.DNE(1,E,2,1,"ng-container",1),y.j41(2,"div"),y.nrm(3,"ds-type-badge",2),y.DNE(4,_,2,1,"ng-container",1),y.k0s()),2&u&&(y.Y8G("object",w.object),y.R7$(),y.Y8G("ngIf",w.isMyDSpaceStatus),y.R7$(2),y.Y8G("object",w.object),y.R7$(),y.Y8G("ngIf",w.showAccessStatus))},dependencies:[g.o,i.bT,f.Q,d.C,e.I]})}return I})()},28136:(B,D,t)=>{"use strict";t.r(D),t.d(D,{MyDSpaceStatusBadgeComponent:()=>e});var i=t(69685),n=t(71526),c=t(53107);let e=(()=>{class f{ngOnInit(){switch(this.badgeContent=this.context,this.badgeClass="text-light badge ",this.context){case n.o.MyDSpaceValidation:this.badgeClass+="badge-validation";break;case n.o.MyDSpaceWaitingController:this.badgeClass+="badge-waiting-controller";break;case n.o.MyDSpaceWorkspace:this.badgeClass+="badge-workspace";break;case n.o.MyDSpaceArchived:this.badgeClass+="badge-archived";break;case n.o.MyDSpaceWorkflow:this.badgeClass+="badge-workflow"}}static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275cmp=c.VBU({type:f,selectors:[["ds-base-my-dspace-status-badge"]],inputs:{context:"context"},standalone:!0,features:[c.aNF],decls:4,vars:4,consts:[[3,"className"]],template:function(y,E){1&y&&(c.j41(0,"div")(1,"span",0),c.EFF(2),c.nI1(3,"translate"),c.k0s()()),2&y&&(c.R7$(),c.Y8G("className",E.badgeClass),c.R7$(),c.SpI(" ",c.bMT(3,2,"mydspace.status."+E.badgeContent)," "))},dependencies:[i.h,i.D9]})}return f})()},65486:(B,D,t)=>{"use strict";t.d(D,{Q:()=>d}),t(71526);var n=t(21124),e=(t(28136),t(53107));const f=["*"];function g(y,E){}let d=(()=>{class y extends n.J{constructor(){super(...arguments),this.inAndOutputNames=["context"]}getComponentName(){return"MyDSpaceStatusBadgeComponent"}importThemedComponent(_){return t(87596)(`./${_}/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,28136))}static#e=this.\u0275fac=(()=>{let _;return function(O){return(_||(_=e.xGo(y)))(O||y)}})();static#t=this.\u0275cmp=e.VBU({type:y,selectors:[["ds-my-dspace-status-badge"]],inputs:{context:"context"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(b,O){1&b&&(e.NAR(),e.DNE(0,g,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return y})()},95756:(B,D,t)=>{"use strict";t.r(D),t.d(D,{StatusBadgeComponent:()=>y});var i=t(54460),n=t(69685),e=(t(47587),t(72683)),f=t(53107);function g(E,_){1&E&&(f.j41(0,"div",2)(1,"span",3),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&E&&(f.R7$(2),f.JRh(f.bMT(3,1,"item.badge.private")))}function d(E,_){1&E&&(f.j41(0,"div",4)(1,"span",5),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&E&&(f.R7$(2),f.JRh(f.bMT(3,1,"item.badge.withdrawn")))}let y=(()=>{class E{constructor(){this.privateBadge=!1,this.withdrawnBadge=!1}ngOnInit(){let b=this.object;(0,e.a4)(b.indexableObject)&&(b=b.indexableObject);const O=(0,e.a4)(b);this.privateBadge=O&&(0,e.a4)(b.isDiscoverable)&&!b.isDiscoverable,this.withdrawnBadge=O&&(0,e.a4)(b.isWithdrawn)&&b.isWithdrawn}static#e=this.\u0275fac=function(O){return new(O||E)};static#t=this.\u0275cmp=f.VBU({type:E,selectors:[["ds-base-status-badge"]],inputs:{object:"object"},standalone:!0,features:[f.aNF],decls:2,vars:2,consts:[["class","private-badge",4,"ngIf"],["class","withdrawn-badge",4,"ngIf"],[1,"private-badge"],[1,"badge","badge-danger"],[1,"withdrawn-badge"],[1,"badge","badge-warning"]],template:function(O,I){1&O&&f.DNE(0,g,4,3,"div",0)(1,d,4,3,"div",1),2&O&&(f.Y8G("ngIf",I.privateBadge),f.R7$(),f.Y8G("ngIf",I.withdrawnBadge))},dependencies:[i.bT,n.h,n.D9],encapsulation:2})}return E})()},51174:(B,D,t)=>{"use strict";t.d(D,{o:()=>d}),t(47587);var n=t(21124),e=(t(95756),t(53107));const f=["*"];function g(y,E){}let d=(()=>{class y extends n.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"StatusBadgeComponent"}importThemedComponent(_){return t(52504)(`./${_}/app/shared/object-collection/shared/badges/status-badge/status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,95756))}static#e=this.\u0275fac=(()=>{let _;return function(O){return(_||(_=e.xGo(y)))(O||y)}})();static#t=this.\u0275cmp=e.VBU({type:y,selectors:[["ds-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(b,O){1&b&&(e.NAR(),e.DNE(0,g,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return y})()},767:(B,D,t)=>{"use strict";t.d(D,{F:()=>y}),t(71526),t(47587);var c=t(21124),f=(t(10667),t(53107));const g=["*"];function d(E,_){}let y=(()=>{class E extends c.J{constructor(){super(...arguments),this.showAccessStatus=!1,this.inAndOutputNames=["object","context","showAccessStatus"]}getComponentName(){return"BadgesComponent"}importThemedComponent(b){return t(70295)(`./${b}/app/shared/object-collection/shared/badges/badges.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,10667))}static#e=this.\u0275fac=(()=>{let b;return function(I){return(b||(b=f.xGo(E)))(I||E)}})();static#t=this.\u0275cmp=f.VBU({type:E,selectors:[["ds-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},standalone:!0,features:[f.Vt3,f.aNF],ngContentSelectors:g,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,I){1&O&&(f.NAR(),f.DNE(0,d,0,0,"ng-template",null,0,f.C5r),f.j41(2,"div",null,1),f.SdG(4),f.k0s())},encapsulation:2})}return E})()},15614:(B,D,t)=>{"use strict";t.d(D,{C:()=>d}),t(47587);var n=t(21124),e=(t(13696),t(53107));const f=["*"];function g(y,E){}let d=(()=>{class y extends n.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"TypeBadgeComponent"}importThemedComponent(_){return t(45796)(`./${_}/app/shared/object-collection/shared/badges/type-badge/type-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,13696))}static#e=this.\u0275fac=(()=>{let _;return function(O){return(_||(_=e.xGo(y)))(O||y)}})();static#t=this.\u0275cmp=e.VBU({type:y,selectors:[["ds-type-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(b,O){1&b&&(e.NAR(),e.DNE(0,g,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return y})()},13696:(B,D,t)=>{"use strict";t.r(D),t.d(D,{TypeBadgeComponent:()=>y});var i=t(54460),n=t(69685),c=t(44537),f=(t(47587),t(72683)),g=t(53107);function d(E,_){if(1&E&&(g.j41(0,"span")(1,"span",1),g.EFF(2),g.nI1(3,"translate"),g.k0s()()),2&E){const b=g.XpG();g.R7$(2),g.JRh(g.bMT(3,1,b.typeMessage))}}let y=(()=>{class E{set object(b){this._object=b;const O=this._object.getRenderTypes();if(!(0,f.Im)(O.length)){const I=O[0];if(I instanceof Function){const T=(0,c.zA)(b.type);this._typeMessage=(0,f.a4)(T)?`${T.toLowerCase()}.listelement.badge`:`${I.name.toLowerCase()}.listelement.badge`}else this._typeMessage=`${I.toLowerCase()}.listelement.badge`}}get object(){return this._object}get typeMessage(){return this._typeMessage}static#e=this.\u0275fac=function(O){return new(O||E)};static#t=this.\u0275cmp=g.VBU({type:E,selectors:[["ds-base-type-badge"]],inputs:{object:"object"},standalone:!0,features:[g.aNF],decls:1,vars:1,consts:[[4,"ngIf"],[1,"badge","badge-info"]],template:function(O,I){1&O&&g.DNE(0,d,4,3,"span",0),2&O&&g.Y8G("ngIf",I.typeMessage)},dependencies:[i.bT,n.h,n.D9],encapsulation:2})}return E})()},24460:(B,D,t)=>{"use strict";t.d(D,{t:()=>n});var i=t(5926);class n extends i.q{}},18107:(B,D,t)=>{"use strict";t.d(D,{q:()=>n});var i=t(5926);class n extends i.q{}},78977:(B,D,t)=>{"use strict";t.d(D,{H:()=>n});var i=t(5926);class n extends i.q{}},73074:(B,D,t)=>{"use strict";t.d(D,{y:()=>n});var i=t(5926);class n extends i.q{}},2167:(B,D,t)=>{"use strict";t.d(D,{A:()=>n});var i=t(5926);class n extends i.q{}},77590:(B,D,t)=>{"use strict";t.d(D,{L:()=>n});var i=t(5926);class n extends i.q{}},40291:(B,D,t)=>{"use strict";t.d(D,{$:()=>e});var i=t(53107),n=t(69685);t(59400);let e=(()=>{class f{constructor(){this.importObject=new i.bkB}static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275cmp=i.VBU({type:f,selectors:[["ds-importable-list-item-control"]],inputs:{object:"object",importConfig:"importConfig"},outputs:{importObject:"importObject"},standalone:!0,features:[i.aNF],decls:4,vars:3,consts:[[1,"mr-2"],[1,"btn","btn-outline-primary","btn-sm","float-left",3,"click","title"],[1,"fas","fa-cloud-download-alt","fa-fw"]],template:function(y,E){1&y&&(i.j41(0,"div",0)(1,"button",1),i.nI1(2,"translate"),i.bIt("click",function(){return E.importObject.emit(E.object)}),i.nrm(3,"i",2),i.k0s()()),2&y&&(i.R7$(),i.FS9("title",i.bMT(2,1,null==E.importConfig?null:E.importConfig.buttonLabel)))},dependencies:[n.h,n.D9],encapsulation:2})}return f})()},95364:(B,D,t)=>{"use strict";t.d(D,{H:()=>e});var i=t(31635),n=t(2494),c=t(5926);let e=class extends c.q{getRenderTypes(){return this.indexableObject.getRenderTypes().map(g=>"string"==typeof g?g+"SearchResult":this.constructor)}};e=(0,i.Cg)([(0,n.ug)(c.q)],e)},59400:(B,D,t)=>{"use strict";t.d(D,{u:()=>n});var i=t(2494);class n extends i._U{}},47637:(B,D,t)=>{"use strict";t.d(D,{v:()=>b});var i=t(53107),n=t(37610),f=(t(71526),t(88842),t(76794)),g=t(16182),E=(t(79599),t(59400),t(50999));function _(O,I){}let b=(()=>{class O extends f.e{constructor(T,R){super(T),this.themeService=T,this.cdr=R,this.showLabel=!0,this.contentChange=new i.bkB,this.inputNamesDependentForComponent=["object","viewMode","context"],this.inputNames=["object","index","context","linkType","listID","showLabel","showThumbnails","viewMode","value"],this.outputNames=["contentChange"]}instantiateComponent(){super.instantiateComponent(),this.compRef.instance.reloadedObject&&this.compRef.instance.reloadedObject.pipe((0,n.s)(1)).subscribe(T=>{T&&(this.destroyComponentInstance(),this.object=T,this.instantiateComponent(),this.cdr.detectChanges(),this.contentChange.emit(T))})}getComponent(){return(0,E.Zx)(this.object.getRenderTypes(),this.viewMode,this.context,this.themeService.getThemeName())}static#e=this.\u0275fac=function(R){return new(R||O)(i.rXU(g.Fs),i.rXU(i.gRc))};static#t=this.\u0275cmp=i.VBU({type:O,selectors:[["ds-listable-object-component-loader"]],inputs:{object:"object",index:"index",viewMode:"viewMode",context:"context",linkType:"linkType",listID:"listID",showLabel:"showLabel",showThumbnails:"showThumbnails",value:"value"},outputs:{contentChange:"contentChange"},standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(R,u){1&R&&i.DNE(0,_,0,0,"ng-template",1,0,i.C5r)},styles:["[_nghost-%COMP%]{width:100%}"]})}return O})()},50999:(B,D,t)=>{"use strict";t.d(D,{A2:()=>d,SS:()=>y,VK:()=>O,Zx:()=>I,e8:()=>g,eW:()=>u,mo:()=>T,zD:()=>_});var i=t(53107),n=t(86722),c=t(71526),e=t(88842),f=t(72683);const g=e.n.ListElement,d=c.o.Any,y="*";class E{constructor(v,S,M){this.match=v,this.level=S,this.relevancy=M}isMoreRelevantThan(v){return!!(0,f.Tn)(v)||!(v.level>this.level||v.level===this.level&&v.relevancy>this.relevancy)}isLessRelevantThan(v){return!this.isMoreRelevantThan(v)}}const _=new i.nKC("getThemeConfigFor",{providedIn:"root",factory:()=>R}),b=new Map;function O(w,v,S=d,M=y){return function(F){(0,f.Tn)(w)||((0,f.Tn)(b.get(w))&&b.set(w,new Map),(0,f.Tn)(b.get(w).get(v))&&b.get(w).set(v,new Map),(0,f.Tn)(b.get(w).get(v).get(S))&&b.get(w).get(v).set(S,new Map),b.get(w).get(v).get(S).set(M,F))}}function I(w,v,S=d,M=y){let L=null;for(const F of w){const $=b.get(F);if((0,f.a4)($)){const j=T($,[v,S,M],[g,d,y]);((0,f.Tn)(L)||L.isLessRelevantThan(j))&&(L=j)}}return(0,f.a4)(L)?L.match:null}function T(w,v,S){let M=w,L=-1,F=0;for(let $=0;$<v.length;$++){let j=S[$]===y?u(M,v[$]):M.get(v[$]);if((0,f.Tn)(j)?(j=M.get(S[$]),-1===L&&(L=$)):F++,!(0,f.a4)(j))return null;if(!(j instanceof Map))return new E(j,L>-1?L:$+1,F);M=j}return null}const R=w=>n.c.themes.find(v=>v.name===w),u=(w,v,S=[])=>{const M=w.get(v);if((0,f.a4)(M))return M;{const L=R(v);if((0,f.a4)(L)&&(0,f.hj)(L.extends)){const F=L.extends,$=[...S,v];if(S.includes(F))throw new Error("Theme extension cycle detected: "+[...$,F].join(" -> "));return u(w,F,$)}}}},42880:(B,D,t)=>{"use strict";t.d(D,{b:()=>R});var i=t(54460),n=t(95968),c=t(69685),e=t(76564),f=t(27035),g=t(47947),d=t(83116),y=t(66559),E=t(12007),_=t(72683),b=t(24106),O=t(53107);const I=u=>["/collections",u];function T(u,w){if(1&u&&(O.j41(0,"div",1)(1,"span",2),O.EFF(2),O.nI1(3,"translate"),O.j41(4,"a",3),O.nI1(5,"async"),O.EFF(6),O.nI1(7,"async"),O.k0s()()()),2&u){let v;const S=O.XpG();O.R7$(2),O.SpI("",O.bMT(3,3,"collection.listelement.badge"),": "),O.R7$(2),O.Y8G("routerLink",O.eq3(9,I,null==(v=O.bMT(5,5,S.collection$))?null:v.id)),O.R7$(2),O.SpI(" ",S.dsoNameService.getName(O.bMT(7,7,S.collection$))," ")}}let R=(()=>{class u{constructor(v,S){this.linkService=v,this.dsoNameService=S}ngOnInit(){this.linkService.resolveLinks(this.object,(0,b.s)("workflowitem",{isOptional:!0},(0,b.s)("collection",{}))),this.collection$=this.object.workflowitem.pipe((0,E.qD)(),(0,f.Z)(v=>v.hasSucceeded&&(0,_.hj)(v.payload)?v.payload.collection.pipe((0,E.qD)(),(0,g.T)(S=>S.hasSucceeded&&(0,_.hj)(S.payload)?S.payload:null)):e.w))}static#e=this.\u0275fac=function(S){return new(S||u)(O.rXU(y._),O.rXU(d.f))};static#t=this.\u0275cmp=O.VBU({type:u,selectors:[["ds-item-collection"]],inputs:{object:"object"},standalone:!0,features:[O.aNF],decls:2,vars:3,consts:[["class","mt-2 mb-2",4,"ngIf"],[1,"mt-2","mb-2"],[1,"text-muted"],[3,"routerLink"]],template:function(S,M){1&S&&(O.DNE(0,T,8,11,"div",0),O.nI1(1,"async")),2&S&&O.Y8G("ngIf",O.bMT(1,1,M.collection$))},dependencies:[i.bT,n.Wk,i.Jj,c.h,c.D9]})}return u})()},93580:(B,D,t)=>{"use strict";t.d(D,{s:()=>T});var i=t(54460),n=t(69685),c=t(76564),e=t(27035),f=t(47947),g=t(83116),d=t(66559),y=t(12007),E=t(72683),_=t(24106),b=t(53107);function O(R,u){if(1&R&&(b.qex(0),b.EFF(1),b.bVm()),2&R){const w=u.ngIf,v=b.XpG();b.R7$(),b.SpI(" ",v.dsoNameService.getName(w)," ")}}function I(R,u){1&R&&(b.EFF(0),b.nI1(1,"translate")),2&R&&b.SpI(" ",b.bMT(1,1,"submitter.empty")," ")}let T=(()=>{class R{constructor(w,v){this.dsoNameService=w,this.linkService=v}ngOnInit(){this.linkService.resolveLinks(this.object,(0,_.s)("workflowitem",{},(0,_.s)("submitter",{}))),this.submitter$=this.object.workflowitem.pipe((0,y.qD)(),(0,e.Z)(w=>w.hasSucceeded&&(0,E.hj)(w.payload)?w.payload.submitter.pipe((0,y.qD)(),(0,f.T)(v=>v.hasSucceeded&&(0,E.hj)(v.payload)?v.payload:null)):c.w))}static#e=this.\u0275fac=function(v){return new(v||R)(b.rXU(g.f),b.rXU(d._))};static#t=this.\u0275cmp=b.VBU({type:R,selectors:[["ds-item-submitter"]],inputs:{object:"object"},standalone:!0,features:[b.aNF],decls:9,vars:7,consts:[["noSubmitter",""],[1,"mt-2","mb-2"],[1,"text-muted"],[1,"badge","badge-info"],[4,"ngIf","ngIfElse"]],template:function(v,S){if(1&v&&(b.j41(0,"div",1)(1,"span",2),b.EFF(2),b.nI1(3,"translate"),b.j41(4,"span",3),b.DNE(5,O,2,1,"ng-container",4),b.nI1(6,"async"),b.DNE(7,I,2,3,"ng-template",null,0,b.C5r),b.k0s()()()),2&v){const M=b.sdS(8);b.R7$(2),b.SpI(" ",b.bMT(3,3,"submission.workflow.tasks.generic.submitter"),": "),b.R7$(3),b.Y8G("ngIf",b.bMT(6,5,S.submitter$))("ngIfElse",M)}},dependencies:[i.bT,i.Jj,n.h,n.D9]})}return R})()},48058:(B,D,t)=>{"use strict";t.d(D,{C:()=>g});var i=t(53107),n=t(83116),c=t(71526),e=t(88842),f=t(79599);let g=(()=>{class d{constructor(E){this.dsoNameService=E,this.showLabel=!0,this.reloadedObject=new i.bkB,this.linkTypes=f.n,this.viewModes=e.n,this.contexts=c.o}static#e=this.\u0275fac=function(_){return new(_||d)(i.rXU(n.f))};static#t=this.\u0275cmp=i.VBU({type:d,selectors:[["ds-abstract-object-element"]],inputs:{object:"object",linkType:"linkType",listID:"listID",value:"value",index:"index",showLabel:"showLabel",showThumbnails:"showThumbnails",context:"context",viewMode:"viewMode"},outputs:{reloadedObject:"reloadedObject"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(_,b){},encapsulation:2})}return d})()},97771:(B,D,t)=>{"use strict";t.d(D,{d:()=>n});var i=t(5926);class n extends i.q{}},62705:(B,D,t)=>{"use strict";t.d(D,{Y:()=>T});var i=t(54460),n=t(53107),c=t(10936),e=t(69685),f=t(31866),g=t(37610),d=t(47947),y=t(82219),E=t(63524);function b(R,u){if(1&R){const w=n.RV6();n.j41(0,"input",4,0),n.nI1(2,"async"),n.nI1(3,"translate"),n.bIt("ngModelChange",function(S){n.eBV(w);const M=n.XpG(2);return n.Njj(M.selectCheckbox(S))}),n.k0s()}if(2&R){const w=n.sdS(1),v=n.XpG(2);n.Y8G("name","checkbox"+v.index)("id","object"+v.index)("ngModel",n.bMT(2,4,v.selected$)),n.BMQ("aria-label",n.bMT(3,6,w.checked?"selectable-list-item-control.deselect":"selectable-list-item-control.select"))}}function O(R,u){if(1&R){const w=n.RV6();n.j41(0,"input",5),n.nI1(1,"async"),n.nI1(2,"translate"),n.bIt("click",function(){n.eBV(w);const S=n.XpG().ngVar,M=n.XpG();return n.Njj(M.selectRadio(!S))}),n.k0s()}if(2&R){const w=n.XpG(2);n.Y8G("name","radio"+w.index)("id","object"+w.index)("checked",n.bMT(1,4,w.selected$)),n.BMQ("aria-label",n.bMT(2,6,"selectable-list-item-control.select"))}}function I(R,u){if(1&R&&(n.qex(0),n.DNE(1,b,4,8,"input",2)(2,O,3,8,"input",3),n.bVm()),2&R){const w=n.XpG();n.R7$(),n.Y8G("ngIf",w.selectionConfig.repeatable),n.R7$(),n.Y8G("ngIf",!w.selectionConfig.repeatable)}}t(59400);let T=(()=>{class R{constructor(w){this.selectionService=w,this.deselectObject=new n.bkB,this.selectObject=new n.bkB}ngOnInit(){this.selected$=this.selectionService.isObjectSelected(this.selectionConfig.listId,this.object),this.selected$.pipe((0,f.i)(1)).subscribe(w=>{w?this.selectObject.emit(this.object):this.deselectObject.emit(this.object)})}selectCheckbox(w){w?this.selectionService.selectSingle(this.selectionConfig.listId,this.object):this.selectionService.deselectSingle(this.selectionConfig.listId,this.object)}selectRadio(w){w&&this.selectionService.getSelectableList(this.selectionConfig.listId).pipe((0,g.s)(1),(0,d.T)(S=>S?S.selection:[])).subscribe(S=>{S.forEach(M=>{this.selectionService.deselectSingle(this.selectionConfig.listId,M),this.deselectObject.emit(M)}),this.selectionService.selectSingle(this.selectionConfig.listId,this.object),this.selectObject.emit(this.object)})}static#e=this.\u0275fac=function(v){return new(v||R)(n.rXU(y.K))};static#t=this.\u0275cmp=n.VBU({type:R,selectors:[["ds-selectable-list-item-control"]],inputs:{object:"object",selectionConfig:"selectionConfig",index:"index"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[n.aNF],decls:2,vars:3,consts:[["selectListItemCheckbox",""],[4,"ngVar"],["class","form-check-input","type","checkbox",3,"name","id","ngModel","ngModelChange",4,"ngIf"],["class","form-check-input mt-2","type","radio",3,"name","id","checked","click",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"ngModelChange","name","id","ngModel"],["type","radio",1,"form-check-input","mt-2",3,"click","name","id","checked"]],template:function(v,S){1&v&&(n.DNE(0,I,3,2,"ng-container",1),n.nI1(1,"async")),2&v&&n.Y8G("ngVar",n.bMT(1,1,null==S.selectionService?null:S.selectionService.isObjectSelected(null==S.selectionConfig?null:S.selectionConfig.listId,S.object)))},dependencies:[E.r,i.bT,c.YN,c.Zm,c.BC,c.vS,i.Jj,e.h,e.D9],encapsulation:2})}return R})()},17116:(B,D,t)=>{"use strict";t.d(D,{q:()=>n});var i=t(5926);class n extends i.q{}},45820:(B,D,t)=>{"use strict";t.d(D,{I:()=>n});var i=t(5926);class n extends i.q{}},71538:(B,D,t)=>{"use strict";t.r(D),t.d(D,{ItemDetailPreviewFieldComponent:()=>O});var i=t(54460),n=t(69685),e=(t(47376),t(84562)),f=t(8460),d=(t(5926),t(53107));function y(I,T){if(1&I&&d.nrm(0,"span",4),2&I){const R=d.XpG(3);d.Y8G("innerHTML",R.separator,d.npT)}}function E(I,T){if(1&I&&(d.j41(0,"span"),d.EFF(1),d.DNE(2,y,1,1,"span",3),d.k0s()),2&I){const R=T.$implicit,u=T.last;d.R7$(),d.SpI(" ",R,""),d.R7$(),d.Y8G("ngIf",!u)}}function _(I,T){if(1&I&&(d.qex(0),d.DNE(1,E,3,2,"span",2),d.bVm()),2&I){const R=d.XpG();d.R7$(),d.Y8G("ngForOf",R.allMetadataValues(R.metadata))}}function b(I,T){if(1&I&&(d.qex(0),d.j41(1,"span",5),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.bVm()),2&I){const R=d.XpG();d.R7$(2),d.JRh(d.bMT(3,1,R.placeholder))}}let O=(()=>{class I{allMetadataValues(R){return e.O.allValues([this.object.hitHighlights,this.item.metadata],R)}static#e=this.\u0275fac=function(u){return new(u||I)};static#t=this.\u0275cmp=d.VBU({type:I,selectors:[["ds-base-item-detail-preview-field"]],inputs:{item:"item",object:"object",label:"label",metadata:"metadata",placeholder:"placeholder",separator:"separator"},standalone:!0,features:[d.aNF],decls:4,vars:5,consts:[[3,"label"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"text-muted"]],template:function(u,w){1&u&&(d.j41(0,"ds-metadata-field-wrapper",0),d.nI1(1,"translate"),d.DNE(2,_,2,1,"ng-container",1)(3,b,4,3,"ng-container",1),d.k0s()),2&u&&(d.Y8G("label",d.bMT(1,3,w.label)),d.R7$(2),d.Y8G("ngIf",w.item.hasMetadata(w.metadata)),d.R7$(),d.Y8G("ngIf",!w.item.hasMetadata(w.metadata)))},dependencies:[f.Q,i.pM,i.bT,n.h,n.D9],encapsulation:2})}return I})()},35551:(B,D,t)=>{"use strict";t.d(D,{f:()=>n});const n=new(t(98573).v)("identifiers")},81923:(B,D,t)=>{"use strict";t.d(D,{t:()=>g});var i=t(31635),n=t(52727),c=t(80788),e=t(59400),f=t(36721);let g=class extends e.u{static#e=this.type=f.t;constructor(y=c._.Error,E="listable-notification-object.default-message",..._){super(),this.notificationType=y,this.message=E,this.type=f.t,this.renderTypes=_}getRenderTypes(){return[...this.renderTypes,this.constructor]}};g=(0,i.Cg)([n.gV,(0,i.Sn)("design:paramtypes",[String,String,String])],g)},36721:(B,D,t)=>{"use strict";t.d(D,{t:()=>n});const n=new(t(98573).v)("listable-notification-object")},20715:(B,D,t)=>{"use strict";t.r(D),t.d(D,{ItemListPreviewComponent:()=>V});var i=t(54460),n=t(69685),f=(t(71526),t(88829),t(18062)),g=t(83116),y=(t(47376),t(7044)),E=t(2566),_=t(767),b=t(42880),O=t(93580),T=(t(5926),t(37362)),R=t(93527),u=t(53107);const w=X=>({lead:!0,"text-muted":X}),v=()=>["dc.contributor.author","dc.creator","dc.contributor.*"],S=X=>({"text-muted":X});function M(X,K){if(1&X&&(u.j41(0,"div",4),u.nrm(1,"ds-thumbnail",5),u.nI1(2,"async"),u.k0s()),2&X){const ae=u.XpG();u.R7$(),u.Y8G("thumbnail",u.bMT(2,2,null==ae.item?null:ae.item.thumbnail))("limitWidth",!0)}}function L(X,K){if(1&X&&u.nrm(0,"span",19),2&X){const ae=u.XpG(2);u.Y8G("innerHTML",ae.item.firstMetadataValue("dc.publisher")+", ",u.npT)}}function F(X,K){1&X&&(u.j41(0,"span"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&X&&(u.R7$(),u.JRh(u.bMT(2,1,"mydspace.results.no-authors")))}function $(X,K){1&X&&(u.j41(0,"span"),u.EFF(1,"; "),u.k0s())}function j(X,K){if(1&X&&(u.j41(0,"span")(1,"span",22),u.nrm(2,"span",22),u.k0s(),u.DNE(3,$,2,0,"span",3),u.k0s()),2&X){const ae=K.$implicit,Q=K.last;u.R7$(),u.Y8G("innerHTML",ae,u.npT),u.R7$(),u.Y8G("innerHTML",ae,u.npT),u.R7$(),u.Y8G("ngIf",!Q)}}function x(X,K){if(1&X&&(u.j41(0,"span",20),u.DNE(1,F,3,3,"span",3)(2,j,4,3,"span",21),u.k0s()),2&X){const ae=u.XpG(2);u.R7$(),u.Y8G("ngIf",0===ae.item.allMetadataValues(u.lJ4(2,v)).length),u.R7$(),u.Y8G("ngForOf",ae.item.allMetadataValues(u.lJ4(3,v)))}}function G(X,K){if(1&X&&u.nrm(0,"ds-item-submitter",18),2&X){const ae=u.XpG(2);u.Y8G("object",ae.object.indexableObject)}}function Y(X,K){if(1&X&&(u.j41(0,"div")(1,"div",6),u.nrm(2,"ds-badges",7),u.k0s(),u.j41(3,"ds-truncatable",8),u.nrm(4,"h3",9),u.j41(5,"div")(6,"span",10)(7,"ds-truncatable-part",11),u.EFF(8," ("),u.DNE(9,L,1,1,"span",12),u.nrm(10,"span",13),u.nI1(11,"translate"),u.EFF(12,") "),u.DNE(13,x,3,4,"span",14),u.k0s()(),u.j41(14,"ds-truncatable-part",15),u.nrm(15,"span",16),u.nI1(16,"translate"),u.k0s()()(),u.DNE(17,G,1,1,"ds-item-submitter",17),u.nrm(18,"ds-item-collection",18),u.k0s()),2&X){const ae=u.XpG();u.Y8G("@fadeInOut",void 0),u.R7$(2),u.Y8G("object",ae.item)("context",ae.badgeContext)("showAccessStatus",!0),u.R7$(),u.Y8G("id",ae.item.id),u.R7$(),u.Y8G("innerHTML",ae.dsoTitle,u.npT)("ngClass",u.eq3(22,w,!ae.item.firstMetadataValue("dc.title"))),u.R7$(3),u.Y8G("id",ae.item.id)("minLines",1),u.R7$(2),u.Y8G("ngIf",ae.item.hasMetadata("dc.publisher")),u.R7$(),u.Y8G("innerHTML",ae.item.firstMetadataValue("dc.date.issued")||u.bMT(11,18,"mydspace.results.no-date"),u.npT),u.R7$(3),u.Y8G("ngIf",ae.item.hasMetadata(u.lJ4(24,v))),u.R7$(),u.Y8G("id",ae.item.id)("minLines",1),u.R7$(),u.Y8G("ngClass",u.eq3(25,S,!ae.item.firstMetadataValue("dc.description.abstract")))("innerHTML",ae.item.firstMetadataValue("dc.description.abstract")||u.bMT(16,20,"mydspace.results.no-abstract"),u.npT),u.R7$(2),u.Y8G("ngIf",ae.showSubmitter),u.R7$(),u.Y8G("object",ae.object.indexableObject)}}let V=(()=>{class X{constructor(ae,Q){this.appConfig=ae,this.dsoNameService=Q,this.showSubmitter=!1}ngOnInit(){this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.item)}static#e=this.\u0275fac=function(Q){return new(Q||X)(u.rXU(f.vQ),u.rXU(g.f))};static#t=this.\u0275cmp=u.VBU({type:X,selectors:[["ds-base-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},standalone:!0,features:[u.aNF],decls:4,vars:3,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],[1,"col-3","col-md-2"],[3,"thumbnail","limitWidth"],[1,"d-flex"],[3,"object","context","showAccessStatus"],[3,"id"],[3,"innerHTML","ngClass"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-publisher",3,"innerHTML",4,"ngIf"],[1,"item-list-date",3,"innerHTML"],["class","item-list-authors",4,"ngIf"],[1,"item-list-abstract",3,"id","minLines"],[3,"ngClass","innerHTML"],[3,"object",4,"ngIf"],[3,"object"],[1,"item-list-publisher",3,"innerHTML"],[1,"item-list-authors"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(Q,J){1&Q&&(u.j41(0,"div",0),u.DNE(1,M,3,4,"div",1),u.j41(2,"div",2),u.DNE(3,Y,19,27,"div",3),u.k0s()()),2&Q&&(u.R7$(),u.Y8G("ngIf",J.showThumbnails),u.R7$(),u.Y8G("ngClass",J.showThumbnails?"col-9":"col-md-12"),u.R7$(),u.Y8G("ngIf",J.item))},dependencies:[i.Jj,b.b,O.s,i.YU,i.pM,i.bT,_.F,y.T,n.h,n.D9,T.d,R.W],data:{animation:[E.Ws]}})}return X})()},32486:(B,D,t)=>{"use strict";t.r(D),t.d(D,{ObjectListComponent:()=>M});var i=t(54460),n=t(53107),g=(t(89632),t(21314),t(71526),t(88842)),d=t(2566),E=(t(79599),t(40291)),_=t(47637),b=t(62705),O=t(51661),I=t(75911),T=t(82219);const R=L=>({"ml-4":L});function u(L,F){if(1&L){const $=n.RV6();n.j41(0,"ds-selectable-list-item-control",8),n.bIt("deselectObject",function(x){n.eBV($);const G=n.XpG(3);return n.Njj(G.deselectObject.emit(x))})("selectObject",function(x){n.eBV($);const G=n.XpG(3);return n.Njj(G.selectObject.emit(x))}),n.k0s()}if(2&L){const $=n.XpG(),j=$.$implicit,x=$.index,G=n.XpG(2);n.Y8G("index",x)("object",j)("selectionConfig",G.selectionConfig)}}function w(L,F){if(1&L){const $=n.RV6();n.j41(0,"ds-importable-list-item-control",9),n.bIt("importObject",function(x){n.eBV($);const G=n.XpG(3);return n.Njj(G.importObject.emit(x))}),n.k0s()}if(2&L){const $=n.XpG().$implicit,j=n.XpG(2);n.Y8G("object",$)("importConfig",j.importConfig)}}function v(L,F){if(1&L){const $=n.RV6();n.j41(0,"li",4),n.nI1(1,"dsBrowserOnly"),n.DNE(2,u,1,3,"ds-selectable-list-item-control",5)(3,w,1,2,"ds-importable-list-item-control",6),n.j41(4,"ds-listable-object-component-loader",7),n.bIt("contentChange",function(x){n.eBV($);const G=n.XpG(2);return n.Njj(G.contentChange.emit(x))}),n.k0s()()}if(2&L){const $=F.$implicit,j=F.index,x=F.last,G=n.XpG(2);n.AVh("border-bottom",G.hasBorder&&!x),n.BMQ("data-test",n.bMT(1,11,"list-object")),n.R7$(2),n.Y8G("ngIf",G.selectable),n.R7$(),n.Y8G("ngIf",G.importable),n.R7$(),n.Y8G("object",$)("viewMode",G.viewMode)("index",j)("context",G.context)("linkType",G.linkType)("listID",null==G.selectionConfig?null:G.selectionConfig.listId)}}function S(L,F){if(1&L&&(n.j41(0,"ul",2),n.DNE(1,v,5,13,"li",3),n.k0s()),2&L){const $=n.XpG();n.Y8G("ngClass",n.eq3(2,R,$.selectable)),n.R7$(),n.Y8G("ngForOf",null==$.objects||null==$.objects.payload?null:$.objects.payload.page)}}let M=(()=>{class L{set objects($){this._objects=$}get objects(){return this._objects}constructor($){this.selectionService=$,this.viewMode=g.n.ListElement,this.hasBorder=!1,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.selectable=!1,this.hidePaginationDetail=!1,this.importable=!1,this.showPaginator=!0,this.contentChange=new n.bkB,this.prev=new n.bkB,this.next=new n.bkB,this.change=new n.bkB,this.pageChange=new n.bkB,this.pageSizeChange=new n.bkB,this.sortDirectionChange=new n.bkB,this.paginationChange=new n.bkB,this.deselectObject=new n.bkB,this.selectObject=new n.bkB,this.importObject=new n.bkB,this.sortFieldChange=new n.bkB}onPageChange($){this.pageChange.emit($)}onPageSizeChange($){this.pageSizeChange.emit($)}onSortDirectionChange($){this.sortDirectionChange.emit($)}onSortFieldChange($){this.sortFieldChange.emit($)}onPaginationChange($){this.paginationChange.emit($)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static#e=this.\u0275fac=function(j){return new(j||L)(n.rXU(T.K))};static#t=this.\u0275cmp=n.VBU({type:L,selectors:[["ds-base-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},standalone:!0,features:[n.aNF],decls:2,vars:9,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","objects","sortOptions","hideGear","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator"],["class","list-unstyled","data-test","objects",3,"ngClass",4,"ngIf"],["data-test","objects",1,"list-unstyled",3,"ngClass"],["class","mt-4 mb-4 d-flex",3,"border-bottom",4,"ngFor","ngForOf"],[1,"mt-4","mb-4","d-flex"],[3,"index","object","selectionConfig","deselectObject","selectObject",4,"ngIf"],[3,"object","importConfig","importObject",4,"ngIf"],[3,"contentChange","object","viewMode","index","context","linkType","listID"],[3,"deselectObject","selectObject","index","object","selectionConfig"],[3,"importObject","object","importConfig"]],template:function(j,x){1&j&&(n.j41(0,"ds-pagination",0),n.bIt("pageChange",function(Y){return x.onPageChange(Y)})("pageSizeChange",function(Y){return x.onPageSizeChange(Y)})("sortDirectionChange",function(Y){return x.onSortDirectionChange(Y)})("sortFieldChange",function(Y){return x.onSortFieldChange(Y)})("paginationChange",function(Y){return x.onPaginationChange(Y)})("prev",function(){return x.goPrev()})("next",function(){return x.goNext()}),n.DNE(1,S,2,4,"ul",1),n.k0s()),2&j&&(n.Y8G("paginationOptions",x.config)("collectionSize",null==x.objects||null==x.objects.payload?null:x.objects.payload.totalElements)("objects",x.objects)("sortOptions",x.sortConfig)("hideGear",x.hideGear)("hidePagerWhenSinglePage",x.hidePagerWhenSinglePage)("hidePaginationDetail",x.hidePaginationDetail)("showPaginator",x.showPaginator),n.R7$(),n.Y8G("ngIf",null==x.objects?null:x.objects.hasSucceeded))},dependencies:[O.e,i.bT,i.YU,i.pM,b.Y,E.$,_.v,I.L],styles:["ds-selectable-list-item-control[_ngcontent-%COMP%]{z-index:1}"],data:{animation:[d.qG]}})}return L})()},70876:(B,D,t)=>{"use strict";t.d(D,{k:()=>ae});var i=t(31635),n=t(54460),c=t(95968),e=t(88842),f=t(15497),g=t(7044),d=t(767),y=t(95364),E=t(50999),_=t(37362),b=t(93527),O=t(505),I=t(53107);const T=Q=>[Q],R=()=>["dc.contributor.author","dc.creator","dc.contributor.*"];function u(Q,J){if(1&Q&&(I.j41(0,"a",9),I.nrm(1,"ds-thumbnail",10),I.nI1(2,"async"),I.k0s()),2&Q){const z=I.XpG(2);I.Y8G("target",z.linkType===z.linkTypes.ExternalLink?"_blank":"_self")("routerLink",I.eq3(7,T,z.itemPageRoute)),I.BMQ("rel",z.linkType===z.linkTypes.ExternalLink?"noopener noreferrer":null),I.R7$(),I.Y8G("thumbnail",I.bMT(2,5,null==z.dso?null:z.dso.thumbnail))("limitWidth",!0)}}function w(Q,J){if(1&Q&&(I.j41(0,"span",11),I.nrm(1,"ds-thumbnail",10),I.nI1(2,"async"),I.k0s()),2&Q){const z=I.XpG(2);I.R7$(),I.Y8G("thumbnail",I.bMT(2,2,null==z.dso?null:z.dso.thumbnail))("limitWidth",!0)}}function v(Q,J){if(1&Q&&(I.j41(0,"div",6),I.DNE(1,u,3,9,"a",7)(2,w,3,4,"span",8),I.k0s()),2&Q){const z=I.XpG();I.R7$(),I.Y8G("ngIf",z.linkType!==z.linkTypes.None),I.R7$(),I.Y8G("ngIf",z.linkType===z.linkTypes.None)}}function S(Q,J){if(1&Q&&I.nrm(0,"ds-badges",12),2&Q){const z=I.XpG();I.Y8G("object",z.dso)("context",z.context)("showAccessStatus",!0)}}function M(Q,J){if(1&Q&&I.nrm(0,"a",21),2&Q){const z=I.XpG(2);I.Y8G("target",z.linkType===z.linkTypes.ExternalLink?"_blank":"_self")("routerLink",I.eq3(4,T,z.itemPageRoute))("innerHTML",z.dsoTitle,I.npT),I.BMQ("rel",z.linkType===z.linkTypes.ExternalLink?"noopener noreferrer":null)}}function L(Q,J){if(1&Q&&I.nrm(0,"span",22),2&Q){const z=I.XpG(2);I.Y8G("innerHTML",z.dsoTitle,I.npT)}}function F(Q,J){if(1&Q&&I.nrm(0,"span",25),2&Q){const z=I.XpG(3);I.Y8G("innerHTML",z.firstMetadataValue("dc.publisher"),I.npT)}}function $(Q,J){1&Q&&(I.j41(0,"span"),I.EFF(1,", "),I.k0s())}function j(Q,J){if(1&Q&&I.nrm(0,"span",26),2&Q){const z=I.XpG(3);I.Y8G("innerHTML",z.firstMetadataValue("dc.date.issued"),I.npT)}}function x(Q,J){if(1&Q&&(I.qex(0),I.EFF(1," ("),I.DNE(2,F,1,1,"span",23)(3,$,2,0,"span",18)(4,j,1,1,"span",24),I.EFF(5,") "),I.bVm()),2&Q){const z=I.XpG(2);I.R7$(2),I.Y8G("ngIf",z.dso.firstMetadataValue("dc.publisher")),I.R7$(),I.Y8G("ngIf",z.dso.firstMetadataValue("dc.publisher")&&z.dso.firstMetadataValue("dc.date.issued")),I.R7$(),I.Y8G("ngIf",z.dso.firstMetadataValue("dc.date.issued"))}}function G(Q,J){1&Q&&(I.j41(0,"span"),I.EFF(1,"; "),I.k0s())}function Y(Q,J){if(1&Q&&(I.j41(0,"span")(1,"span",29),I.nrm(2,"span",29),I.k0s(),I.DNE(3,G,2,0,"span",18),I.k0s()),2&Q){const z=J.$implicit,q=J.last;I.R7$(),I.Y8G("innerHTML",z,I.npT),I.R7$(),I.Y8G("innerHTML",z,I.npT),I.R7$(),I.Y8G("ngIf",!q)}}function V(Q,J){if(1&Q&&(I.j41(0,"span",27),I.DNE(1,Y,4,3,"span",28),I.k0s()),2&Q){const z=I.XpG(2);I.R7$(),I.Y8G("ngForOf",z.allMetadataValues(I.lJ4(1,R)))}}function X(Q,J){if(1&Q&&(I.j41(0,"div",30)(1,"ds-truncatable-part",17),I.nrm(2,"span",29),I.k0s()()),2&Q){const z=I.XpG(2);I.R7$(),I.Y8G("id",z.dso.id)("minLines",3),I.R7$(),I.Y8G("innerHTML",z.firstMetadataValue("dc.description.abstract"),I.npT)}}function K(Q,J){if(1&Q&&(I.j41(0,"ds-truncatable",13),I.DNE(1,M,1,6,"a",14)(2,L,1,1,"span",15),I.j41(3,"span",16)(4,"ds-truncatable-part",17),I.DNE(5,x,6,3,"ng-container",18)(6,V,2,2,"span",19),I.k0s()(),I.DNE(7,X,3,3,"div",20),I.k0s()),2&Q){const z=I.XpG();I.Y8G("id",z.dso.id),I.R7$(),I.Y8G("ngIf",z.linkType!==z.linkTypes.None),I.R7$(),I.Y8G("ngIf",z.linkType===z.linkTypes.None),I.R7$(2),I.Y8G("id",z.dso.id)("minLines",1),I.R7$(),I.Y8G("ngIf",z.dso.firstMetadataValue("dc.publisher")||z.dso.firstMetadataValue("dc.date.issued")),I.R7$(),I.Y8G("ngIf",z.dso.allMetadata(I.lJ4(8,R)).length>0),I.R7$(),I.Y8G("ngIf",z.dso.firstMetadataValue("dc.description.abstract"))}}let ae=class mb extends O.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails,this.itemPageRoute=(0,f._o)(this.dso)}static#e=this.\u0275fac=(()=>{let J;return function(q){return(J||(J=I.xGo(mb)))(q||mb)}})();static#t=this.\u0275cmp=I.VBU({type:mb,selectors:[["ds-item-search-result-list-element"]],standalone:!0,features:[I.Vt3,I.aNF],decls:6,vars:4,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[1,"d-flex"],[3,"object","context","showAccessStatus",4,"ngIf"],[3,"id",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"dont-break-out"],[3,"object","context","showAccessStatus"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],[4,"ngIf"],["class","item-list-authors",4,"ngIf"],["class","item-list-abstract",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],["class","item-list-publisher",3,"innerHTML",4,"ngIf"],["class","item-list-date",3,"innerHTML",4,"ngIf"],[1,"item-list-publisher",3,"innerHTML"],[1,"item-list-date",3,"innerHTML"],[1,"item-list-authors"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"item-list-abstract"]],template:function(z,q){1&z&&(I.j41(0,"div",0),I.DNE(1,v,3,2,"div",1),I.j41(2,"div",2)(3,"div",3),I.DNE(4,S,1,3,"ds-badges",4),I.k0s(),I.DNE(5,K,8,9,"ds-truncatable",5),I.k0s()()),2&z&&(I.R7$(),I.Y8G("ngIf",q.showThumbnails),I.R7$(),I.Y8G("ngClass",q.showThumbnails?"col-9":"col-md-12"),I.R7$(2),I.Y8G("ngIf",q.showLabel),I.R7$(),I.Y8G("ngIf",null!=q.object))},dependencies:[n.bT,c.Wk,g.T,n.YU,d.F,_.d,b.W,n.pM,n.Jj],styles:[".item-list-supervision[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}"]})};ae=(0,i.Cg)([(0,E.VK)("PublicationSearchResult",e.n.ListElement),(0,E.VK)(y.H,e.n.ListElement)],ae)},505:(B,D,t)=>{"use strict";t.d(D,{P:()=>y});var i=t(18062),n=t(83116),c=t(84562),e=t(72683),f=t(48058),g=t(38614),d=t(53107);let y=(()=>{class E extends f.C{constructor(b,O,I){super(O),this.truncatableService=b,this.dsoNameService=O,this.appConfig=I}ngOnInit(){(0,e.a4)(this.object)&&(this.dso=this.object.indexableObject,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso))}allMetadataValues(b){const O=c.O.allValues([this.dso.metadata],b),I=c.O.allValues([this.object.hitHighlights],b),T=I.map(R=>R.replace(/<\/?em>/g,""));for(let R=0;R<T.length;R++){const u=O.indexOf(T[R]);-1!==u&&(O[u]=I[R])}return O}firstMetadataValue(b){return c.O.firstValue([this.object.hitHighlights,this.dso.metadata],b)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}static#e=this.\u0275fac=function(O){return new(O||E)(d.rXU(g.F),d.rXU(n.f),d.rXU(i.vQ))};static#t=this.\u0275cmp=d.VBU({type:E,selectors:[["ds-search-result-list-element"]],standalone:!0,features:[d.Vt3,d.aNF],decls:0,vars:0,template:function(O,I){},encapsulation:2})}return E})()},47467:(B,D,t)=>{"use strict";t.d(D,{Gk:()=>d,Sg:()=>n,Yd:()=>g,ZH:()=>e,hf:()=>E,t3:()=>f});var i=t(83770);const n={SELECT:(0,i.N)("dspace/selectable-lists/SELECT"),SELECT_SINGLE:(0,i.N)("dspace/selectable-lists/SELECT_SINGLE"),DESELECT:(0,i.N)("dspace/selectable-lists/DESELECT"),DESELECT_SINGLE:(0,i.N)("dspace/selectable-lists/DESELECT_SINGLE"),SET_SELECTION:(0,i.N)("dspace/selectable-lists/SET_SELECTION"),DESELECT_ALL:(0,i.N)("dspace/selectable-lists/DESELECT_ALL")};class c{constructor(b,O){this.type=b,this.id=O}}class e extends c{constructor(b,O){super(n.SELECT,b),this.payload=O}}class f extends c{constructor(b,O){super(n.SELECT_SINGLE,b),this.payload={object:O}}}class g extends c{constructor(b,O){super(n.DESELECT_SINGLE,b),this.payload=O}}class d extends c{constructor(b,O){super(n.DESELECT,b),this.payload=O}}class E extends c{constructor(b){super(n.DESELECT_ALL,b)}}},82219:(B,D,t)=>{"use strict";t.d(D,{K:()=>_});var i=t(73958),n=t(47947),c=t(66645),e=t(44363),f=t(72683),g=t(47467),d=t(53107);const y=b=>b.selectableLists;let _=(()=>{class b{constructor(I){this.store=I}getSelectableList(I){return this.store.pipe((0,i.Lt)((b=>(0,e.pc)(b,y))(I)))}selectSingle(I,T){this.store.dispatch(new g.t3(I,T))}select(I,T){this.store.dispatch(new g.ZH(I,T))}deselectSingle(I,T){this.store.dispatch(new g.Yd(I,T))}deselect(I,T){this.store.dispatch(new g.Gk(I,T))}deselectAll(I){this.store.dispatch(new g.hf(I))}isObjectSelected(I,T){return this.getSelectableList(I).pipe((0,n.T)(R=>(0,f.a4)(R)&&(0,f.hj)(R.selection)&&(0,f.a4)(R.selection.find(u=>u.equals(T)))),(0,c.F)())}findSelectedByCondition(I,T){return this.getSelectableList(I).pipe((0,n.T)(R=>(0,f.a4)(R)&&(0,f.hj)(R.selection)?R.selection.find(u=>T(u)):void 0))}static#e=this.\u0275fac=function(T){return new(T||b)(d.KVO(i.il))};static#t=this.\u0275prov=d.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},71302:(B,D,t)=>{"use strict";t.d(D,{AS:()=>g,NE:()=>e,T8:()=>n,Vu:()=>d,YE:()=>y,bx:()=>E,u7:()=>f});var i=t(83770);const n={INITIAL_DESELECT:(0,i.N)("dspace/object-select/INITIAL_DESELECT"),INITIAL_SELECT:(0,i.N)("dspace/object-select/INITIAL_SELECT"),SELECT:(0,i.N)("dspace/object-select/SELECT"),DESELECT:(0,i.N)("dspace/object-select/DESELECT"),SWITCH:(0,i.N)("dspace/object-select/SWITCH"),RESET:(0,i.N)("dspace/object-select/RESET")};class c{constructor(b,O){this.key=b,this.id=O}}class e extends c{constructor(){super(...arguments),this.type=n.INITIAL_DESELECT}}class f extends c{constructor(){super(...arguments),this.type=n.INITIAL_SELECT}}class g extends c{constructor(){super(...arguments),this.type=n.SELECT}}class d extends c{constructor(){super(...arguments),this.type=n.DESELECT}}class y extends c{constructor(){super(...arguments),this.type=n.SWITCH}}class E extends c{constructor(){super(...arguments),this.type=n.RESET}}},65131:(B,D,t)=>{"use strict";t.d(D,{Zb:()=>E,iv:()=>_});var i=t(75884),n=t.n(i),c=t(80773),e=t.n(c),f=t(79824),g=t.n(f),d=t(72683);function E(b){if("object"==typeof b){if(0===Object.keys(b).length)return!0;{let I=!0;for(const T in b)if((0,d.hj)(b[T])){I=!1;break}return I}}}function _(b,O){const I=(T,R)=>g()(T,(u,w,v)=>{if(!n()(w,R[v])&&(0,d.hj)(w)){const S=e()(w)&&e()(R[v])?I(w,R[v]):w;E(S)||(u[v]=S)}});return I(b,O)}},80378:(B,D,t)=>{"use strict";t.d(D,{b:()=>O});var i=t(54460),n=t(10936),c=t(47947),e=t(37610),f=t(95438),d=(t(3631),t(82506)),y=t(1876),E=t(53107),_=t(95968);function b(I,T){if(1&I&&(E.j41(0,"option",3),E.nI1(1,"async"),E.EFF(2),E.k0s()),2&I){const R=T.$implicit,u=E.XpG();E.Y8G("value",R)("selected",R===+E.bMT(1,3,u.paginationOptions$).pageSize?"selected":null),E.R7$(2),E.SpI(" ",R," ")}}let O=(()=>{class I{constructor(R,u,w,v){this.route=R,this.router=u,this.paginationService=w,this.searchConfigurationService=v}ngOnInit(){this.paginationOptions$=this.searchConfigurationService.paginatedSearchOptions.pipe((0,c.T)(R=>R.pagination))}reloadRPP(R){const u=R.target.value;this.paginationOptions$.pipe((0,e.s)(1)).subscribe(w=>{this.paginationService.updateRoute(w.id,{page:1,pageSize:+u})})}static#e=this.\u0275fac=function(u){return new(u||I)(E.rXU(_.nX),E.rXU(_.Ix),E.rXU(f.m),E.rXU(d.EN))};static#t=this.\u0275cmp=E.VBU({type:I,selectors:[["ds-page-size-selector"]],standalone:!0,features:[E.aNF],decls:4,vars:5,consts:[[1,"page-size-settings"],[3,"changed","id","label"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(u,w){1&u&&(E.j41(0,"div",0)(1,"ds-sidebar-dropdown",1),E.bIt("changed",function(S){return w.reloadRPP(S)}),E.DNE(2,b,3,5,"option",2),E.nI1(3,"async"),E.k0s()()),2&u&&(E.R7$(),E.Y8G("id","search-sidebar-rpp")("label","search.sidebar.settings.rpp"),E.R7$(),E.Y8G("ngForOf",E.bMT(3,3,w.paginationOptions$).pageSizeOptions))},dependencies:[y.v,i.pM,n.YN,n.xH,n.y7,i.Jj],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}return I})()},67899:(B,D,t)=>{"use strict";t.d(D,{W:()=>c});var i=t(2155),n=t(53107);let c=(()=>{class e extends i.MI{constructor(){super(...arguments),this.currentPage=1,this.maxSize=10,this.pageSizeOptions=[1,5,10,20,40,60,80,100]}static#e=this.\u0275fac=(()=>{let g;return function(y){return(g||(g=n.xGo(e)))(y||e)}})();static#t=this.\u0275prov=n.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},51661:(B,D,t)=>{"use strict";t.d(D,{e:()=>Z});var i=t(54460),n=t(53107),c=t(2155),e=t(69685),f=t(63016),g=t(47947),d=t(37610),y=t(89632),_=(t(21314),t(95438)),b=t(88842),O=t(72683),I=t(744),T=t(71217),R=t(22867),u=t(86722),w=t(84195),v=t(7172),S=t(12007),M=t(3631),L=t(81455),F=t(95968);function $(le,De){if(1&le&&(n.j41(0,"div",2)(1,"a",3),n.nI1(2,"translate"),n.nI1(3,"translate"),n.nrm(4,"i",4),n.k0s()()),2&le){const pe=De.ngIf;n.R7$(),n.Y8G("href",pe,n.B4B)("title",n.bMT(2,3,"feed.description")),n.BMQ("aria-label",n.bMT(3,5,"feed.description"))}}function j(le,De){if(1&le&&(n.qex(0),n.DNE(1,$,5,7,"div",1),n.nI1(2,"async"),n.bVm()),2&le){const pe=n.XpG();n.R7$(),n.Y8G("ngIf",n.bMT(2,1,pe.route$))}}let x=(()=>{class le{constructor(pe,re,ve,fe,Ie,Ne){this.groupDataService=pe,this.linkHeadService=re,this.configurationService=ve,this.searchConfigurationService=fe,this.router=Ie,this.paginationService=Ne,this.route$=new T.t(""),this.isEnabled$=new T.t(null),this.subs=[]}ngOnDestroy(){this.linkHeadService.removeTag("rel='alternate'"),this.subs.forEach(pe=>{pe.unsubscribe()})}ngOnInit(){this.configuration$=this.searchConfigurationService.getCurrentConfiguration("default"),this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.enable").pipe((0,S.qD)()).subscribe(pe=>{pe.hasSucceeded&&this.isEnabled$.next("true"===pe.payload.values[0])})),this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.svccontext").pipe((0,S.qD)(),(0,g.T)(pe=>pe.hasSucceeded?pe.payload.values[0]:null),(0,R.n)(pe=>this.searchConfigurationService.paginatedSearchOptions.pipe((0,g.T)(re=>({openSearchUri:pe,searchOptions:re}))))).subscribe(({openSearchUri:pe,searchOptions:re})=>{if(!pe)return null;this.uuid=this.groupDataService.getUUIDFromString(this.router.url);const ve=u.c.rest.baseUrl+this.formulateRoute(this.uuid,pe,re.query);this.addLinks(ve),this.linkHeadService.addTag({href:u.c.rest.baseUrl+"/"+pe+"/service",type:"application/atom+xml",rel:"search",title:"Dspace"}),this.route$.next(ve)}))}formulateRoute(pe,re,ve){let fe="?format=atom";return pe&&(fe+=`&scope=${pe}`),fe+=ve?`&query=${ve}`:"&query=*",fe="/"+re+fe,fe}hasRoute(pe){return this.router.url.includes(pe)}addLinks(pe){this.linkHeadService.addTag({href:pe,type:"application/atom+xml",rel:"alternate",title:"Sitewide Atom feed"}),pe=pe.replace("format=atom","format=rss"),this.linkHeadService.addTag({href:pe,type:"application/rss+xml",rel:"alternate",title:"Sitewide RSS feed"})}static#e=this.\u0275fac=function(re){return new(re||le)(n.rXU(v.GroupDataService),n.rXU(L.m),n.rXU(w.ConfigurationDataService),n.rXU(M.g),n.rXU(F.Ix),n.rXU(_.m))};static#t=this.\u0275cmp=n.VBU({type:le,selectors:[["ds-rss"]],exportAs:["rssComponent"],standalone:!0,features:[n.aNF],decls:2,vars:3,consts:[[4,"ngIf"],["class","d-inline-block float-right margin-right",4,"ngIf"],[1,"d-inline-block","float-right","margin-right"],[1,"btn","btn-secondary",3,"href","title"],[1,"fas","fa-rss-square"]],template:function(re,ve){1&re&&(n.DNE(0,j,3,3,"ng-container",0),n.nI1(1,"async")),2&re&&n.Y8G("ngIf",n.bMT(1,1,ve.isEnabled$)&&(ve.hasRoute("home")||ve.hasRoute("collections")||ve.hasRoute("communities")))},dependencies:[i.bT,i.Jj,e.h,e.D9],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}.margin-right[_ngcontent-%COMP%]{margin-right:.5em}"]})}return le})(),G=(()=>{class le{transform(pe){const re=[];for(const ve in pe)isNaN(parseInt(ve,10))?re.push({key:ve,value:pe[ve]}):re.push({key:+ve,value:pe[ve]});return re}static#e=this.\u0275fac=function(re){return new(re||le)};static#t=this.\u0275pipe=n.EJ8({name:"dsKeys",type:le,pure:!0,standalone:!0})}return le})();const Y=["*"],V=le=>({invisible:le});function X(le,De){if(1&le&&(n.j41(0,"div",10)(1,"span",11),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"span",12),n.EFF(5),n.nI1(6,"async"),n.nI1(7,"translate"),n.k0s()()),2&le){const pe=n.XpG(3);n.R7$(2),n.JRh(n.bMT(3,2,"pagination.showing.label")),n.R7$(3),n.JRh(n.i5U(7,6,"pagination.showing.detail",n.bMT(6,4,pe.getShowingDetails(pe.collectionSize))))}}function K(le,De){if(1&le){const pe=n.RV6();n.j41(0,"li",22),n.nI1(1,"async"),n.j41(2,"button",23),n.bIt("click",function(){const ve=n.eBV(pe).$implicit,fe=n.XpG(4);return n.Njj(fe.doPageSizeChange(ve))}),n.nrm(3,"i",24),n.nI1(4,"async"),n.EFF(5),n.k0s()()}if(2&le){const pe=De.$implicit,re=n.XpG(4);n.BMQ("aria-selected",pe===n.bMT(1,3,re.pageSize$)),n.R7$(3),n.Y8G("ngClass",n.eq3(7,V,pe!==n.bMT(4,5,re.pageSize$))),n.R7$(2),n.SpI(" ",pe," ")}}function ae(le,De){if(1&le){const pe=n.RV6();n.j41(0,"li",22),n.nI1(1,"async"),n.j41(2,"button",23),n.bIt("click",function(){const ve=n.eBV(pe).$implicit,fe=n.XpG(5);return n.Njj(fe.doSortDirectionChange(ve.value))}),n.nrm(3,"i",24),n.nI1(4,"async"),n.EFF(5),n.nI1(6,"translate"),n.k0s()()}if(2&le){const pe=De.$implicit,re=n.XpG(5);n.BMQ("aria-selected",pe.value===n.bMT(1,3,re.sortDirection$)),n.R7$(3),n.Y8G("ngClass",n.eq3(9,V,pe.value!==n.bMT(4,5,re.sortDirection$))),n.R7$(2),n.SpI(" ",n.bMT(6,7,"sorting."+pe.key)," ")}}function Q(le,De){if(1&le&&(n.j41(0,"li",17)(1,"span",25),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"ul",26),n.DNE(5,ae,7,11,"li",20),n.nI1(6,"dsKeys"),n.k0s()()),2&le){const pe=n.XpG(4);n.R7$(2),n.JRh(n.bMT(3,2,"pagination.sort-direction")),n.R7$(3),n.Y8G("ngForOf",n.bMT(6,4,pe.sortDirections))}}function J(le,De){if(1&le&&(n.j41(0,"div",13,0)(2,"button",14),n.nI1(3,"translate"),n.nI1(4,"translate"),n.nrm(5,"i",15),n.k0s(),n.j41(6,"ul",16)(7,"li",17)(8,"span",18),n.EFF(9),n.nI1(10,"translate"),n.k0s(),n.j41(11,"ul",19),n.DNE(12,K,6,9,"li",20),n.k0s()(),n.DNE(13,Q,7,6,"li",21),n.k0s()()),2&le){const pe=n.XpG(3);n.R7$(2),n.Y8G("title",n.bMT(3,5,"pagination.options.description")),n.BMQ("aria-label",n.bMT(4,7,"pagination.options.description")),n.R7$(7),n.JRh(n.bMT(10,9,"pagination.results-per-page")),n.R7$(3),n.Y8G("ngForOf",pe.pageSizeOptions),n.R7$(),n.Y8G("ngIf",!1===pe.hideSortOptions)}}function z(le,De){if(1&le&&(n.j41(0,"div",5)(1,"div",6),n.DNE(2,X,8,9,"div",7),n.j41(3,"div",8),n.DNE(4,J,14,11,"div",9),n.nrm(5,"ds-rss"),n.k0s()()()),2&le){const pe=n.XpG(2);n.R7$(2),n.Y8G("ngIf",!pe.hidePaginationDetail&&pe.collectionSize>0),n.R7$(2),n.Y8G("ngIf",!pe.hideGear)}}function q(le,De){if(1&le){const pe=n.RV6();n.j41(0,"div",29)(1,"ngb-pagination",30),n.nI1(2,"async"),n.nI1(3,"async"),n.bIt("pageChange",function(ve){n.eBV(pe);const fe=n.XpG(3);return n.Njj(fe.doPageChange(ve))}),n.k0s()()}if(2&le){const pe=n.XpG(3);n.R7$(),n.Y8G("boundaryLinks",pe.paginationOptions.boundaryLinks)("collectionSize",pe.collectionSize)("disabled",pe.paginationOptions.disabled)("ellipses",pe.paginationOptions.ellipses)("maxSize",pe.isXs?5:pe.paginationOptions.maxSize)("page",n.bMT(2,9,pe.currentPage$))("pageSize",n.bMT(3,11,pe.pageSize$))("rotate",pe.paginationOptions.rotate)("size",pe.isXs?"sm":pe.paginationOptions.size)}}function ee(le,De){if(1&le){const pe=n.RV6();n.j41(0,"div",31)(1,"button",32),n.bIt("click",function(){n.eBV(pe);const ve=n.XpG(3);return n.Njj(ve.goPrev())}),n.nrm(2,"i",33),n.EFF(3),n.nI1(4,"translate"),n.k0s(),n.j41(5,"button",34),n.bIt("click",function(){n.eBV(pe);const ve=n.XpG(3);return n.Njj(ve.goNext())}),n.j41(6,"span",35),n.nI1(7,"translate"),n.nrm(8,"i",36),n.EFF(9),n.nI1(10,"translate"),n.k0s()()()}if(2&le){const pe=n.XpG(3);n.R7$(),n.Y8G("disabled",(null==pe.objects||null==pe.objects.payload?null:pe.objects.payload.currentPage)<=1&&(null==pe.paginationOptions?null:pe.paginationOptions.currentPage)<=1),n.R7$(2),n.SpI(" ",n.bMT(4,5,"pagination.previous.button")," "),n.R7$(2),n.Y8G("disabled",(null==pe.objects||null==pe.objects.payload?null:pe.objects.payload.currentPage)>=(null==pe.objects||null==pe.objects.payload?null:pe.objects.payload.totalPages)||(null==pe.paginationOptions?null:pe.paginationOptions.currentPage)>=(null==pe.objects||null==pe.objects.payload?null:pe.objects.payload.totalPages)),n.R7$(),n.Y8G("ngbTooltip",(null==pe.objects||null==pe.objects.payload?null:pe.objects.payload.currentPage)>=(null==pe.objects||null==pe.objects.payload?null:pe.objects.payload.totalPages)?n.bMT(7,7,"pagination.next.button.disabled.tooltip"):null),n.R7$(3),n.SpI(" ",n.bMT(10,9,"pagination.next.button")," ")}}function de(le,De){if(1&le&&(n.j41(0,"div"),n.DNE(1,q,4,13,"div",27)(2,ee,11,11,"div",28),n.k0s()),2&le){const pe=n.XpG(2);n.R7$(),n.Y8G("ngIf",pe.showPaginator),n.R7$(),n.Y8G("ngIf",!pe.showPaginator)}}function Ce(le,De){if(1&le&&(n.j41(0,"div",2),n.DNE(1,z,6,2,"div",3),n.SdG(2),n.DNE(3,de,3,2,"div",4),n.nI1(4,"async"),n.k0s()),2&le){const pe=n.XpG();n.Y8G("id","p-"+pe.id),n.R7$(),n.Y8G("ngIf",!pe.hidePaginationDetail&&pe.collectionSize>0||!pe.hideGear),n.R7$(2),n.Y8G("ngIf",n.bMT(4,3,pe.shouldShowBottomPager))}}let Z=(()=>{class le{ngOnInit(){this.subs.push(this.hostWindowService.isXs().subscribe(pe=>{this.isXs=pe,this.cdRef.markForCheck()})),this.checkConfig(this.paginationOptions),this.initializeConfig()}ngOnDestroy(){this.subs.filter(pe=>(0,O.a4)(pe)).forEach(pe=>pe.unsubscribe())}initializeConfig(){let pe;this.id=this.paginationOptions.id||null,this.pageSizeOptions=this.paginationOptions.pageSizeOptions,this.currentPage$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,g.T)(re=>re.currentPage)),this.pageSize$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,g.T)(re=>re.pageSize)),pe=this.sortOptions?this.sortOptions:new y.z(this.defaultSortField,this.defaultsortDirection),this.sortDirection$=this.paginationService.getCurrentSort(this.id,pe).pipe((0,g.T)(re=>re.direction)),this.sortField$=this.paginationService.getCurrentSort(this.id,pe).pipe((0,g.T)(re=>re.field))}constructor(pe,re,ve){this.cdRef=pe,this.paginationService=re,this.hostWindowService=ve,this.viewMode=b.n.ListElement,this.showPaginator=!0,this.pageChange=new n.bkB,this.pageSizeChange=new n.bkB,this.sortDirectionChange=new n.bkB,this.sortFieldChange=new n.bkB,this.paginationChange=new n.bkB,this.hidePaginationDetail=!1,this.hideGear=!1,this.hideSortOptions=!1,this.hidePagerWhenSinglePage=!0,this.retainScrollPosition=!1,this.currentPageState=void 0,this.sortDirections=y.U,this.defaultsortDirection=y.U.ASC,this.defaultSortField="name",this.subs=[],this.prev=new n.bkB,this.next=new n.bkB}doPageChange(pe){this.updateParams({page:pe}),this.emitPaginationChange()}doPageSizeChange(pe){this.updateParams({page:1,pageSize:pe}),this.emitPaginationChange()}doSortDirectionChange(pe){this.updateParams({page:1,sortDirection:pe}),this.emitPaginationChange()}emitPaginationChange(){this.paginationChange.emit()}updateParams(pe){this.paginationService.updateRoute(this.id,pe,{},this.retainScrollPosition)}getShowingDetails(pe){let re=(0,f.of)({range:"null - null",total:null});return pe&&(re=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,g.T)(ve=>{let fe;const Ie=ve.pageSize*ve.currentPage;return fe=pe>Ie?Ie:pe,{range:ve.pageSize*(ve.currentPage-1)+1+" - "+fe,total:pe}}))),re}checkConfig(pe){const ve=["id","currentPage","pageSize","pageSizeOptions"].filter(fe=>!(fe in pe));if(0<ve.length)throw new Error("Paginate: Argument is missing the following required properties: "+ve.join(", "))}get hasMultiplePages(){return this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,g.T)(pe=>this.collectionSize>pe.pageSize))}get shouldShowBottomPager(){return this.hasMultiplePages.pipe((0,g.T)(pe=>pe||!this.hidePagerWhenSinglePage))}goPrev(){this.prev.emit(!0),this.updatePagination(-1)}goNext(){this.next.emit(!0),this.updatePagination(1)}updatePagination(pe){this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,d.s)(1)).subscribe(re=>{this.updateParams({page:re.currentPage+pe})})}static#e=this.\u0275fac=function(re){return new(re||le)(n.rXU(n.gRc),n.rXU(_.m),n.rXU(I.CV))};static#t=this.\u0275cmp=n.VBU({type:le,selectors:[["ds-pagination"]],inputs:{collectionSize:"collectionSize",paginationOptions:"paginationOptions",sortOptions:"sortOptions",showPaginator:"showPaginator",config:"config",objects:"objects",sortConfig:"sortConfig",hidePaginationDetail:"hidePaginationDetail",hideGear:"hideGear",hideSortOptions:"hideSortOptions",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",retainScrollPosition:"retainScrollPosition"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",sortFieldChange:"sortFieldChange",paginationChange:"paginationChange",prev:"prev",next:"next"},exportAs:["paginationComponent"],standalone:!0,features:[n.aNF],ngContentSelectors:Y,decls:2,vars:3,consts:[["paginationControls","ngbDropdown"],[3,"id",4,"ngIf"],[3,"id"],["class","pagination-masked clearfix top",4,"ngIf"],[4,"ngIf"],[1,"pagination-masked","clearfix","top"],[1,"row"],["class","col-auto pagination-info",4,"ngIf"],[1,"col"],["ngbDropdown","","placement","bottom-right","class","d-inline-block float-right",4,"ngIf"],[1,"col-auto","pagination-info"],[1,"align-middle","hidden-xs-down"],[1,"align-middle"],["ngbDropdown","","placement","bottom-right",1,"d-inline-block","float-right"],["id","paginationControls","ngbDropdownToggle","","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary",3,"title"],["aria-hidden","true",1,"fas","fa-cog"],["id","paginationControlsDropdownMenu","aria-labelledby","paginationControls","role","menu","ngbDropdownMenu",""],["role","menuitem"],["id","pagination-control_results-per-page","role","heading",1,"dropdown-header"],["aria-labelledby","pagination-control_results-per-page","role","listbox",1,"list-unstyled"],["role","option",4,"ngFor","ngForOf"],["role","menuitem",4,"ngIf"],["role","option"],[1,"dropdown-item",3,"click"],["aria-hidden","true",1,"fas","fa-check",3,"ngClass"],["id","pagination-control_sort-direction","role","heading",1,"dropdown-header"],["aria-labelledby","pagination-control_sort-direction","role","listbox",1,"list-unstyled"],["class","pagination justify-content-center clearfix bottom",4,"ngIf"],["class","d-flex justify-content-between",4,"ngIf"],[1,"pagination","justify-content-center","clearfix","bottom"],[3,"pageChange","boundaryLinks","collectionSize","disabled","ellipses","maxSize","page","pageSize","rotate","size"],[1,"d-flex","justify-content-between"],["id","nav-prev","type","button",1,"btn","btn-outline-primary","float-left",3,"click","disabled"],[1,"fas","fa-angle-left"],["id","nav-next","type","button",1,"btn","btn-outline-primary","float-right",3,"click","disabled"],[3,"ngbTooltip"],[1,"fas","fa-angle-right"]],template:function(re,ve){1&re&&(n.NAR(),n.DNE(0,Ce,5,5,"div",1),n.nI1(1,"async")),2&re&&n.Y8G("ngIf",void 0===ve.currentPageState||ve.currentPageState===n.bMT(1,1,ve.currentPage$))},dependencies:[i.bT,c.zH,c.tg,c.do,c.U0,i.pM,i.YU,x,c.c9,c.s5,c.n8,c.md,i.Jj,e.h,e.D9,G],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"]})}return le})()},51206:(B,D,t)=>{"use strict";t.d(D,{CX:()=>d,PM:()=>E,SP:()=>g,Wh:()=>O});var i=t(63016),n=t(86722),c=t(21314),e=t(64868);const f=(new Date).getTime();function g(T,R=f){return new c.j(R,n.c.cache.msToLive.default,R,e.zE.Success,void 0,T,200)}function d(T,R){return(0,i.of)(g(T,R))}function E(T,R,u){return(0,i.of)(function y(T,R,u=15778368e5){return new c.j(u,n.c.cache.msToLive.default,u,e.zE.Error,T,void 0,R)}(T,R,u))}function O(T){return g(void 0,T)}},15998:(B,D,t)=>{"use strict";t.d(D,{U:()=>f});var i=t(21124),n=t(53107);const c=["*"];function e(g,d){}let f=(()=>{class g extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["back","buttonLabel"]}getComponentName(){return"ResultsBackButtonComponent"}importThemedComponent(y){return t(79086)(`./${y}/app/shared/results-back-button/results-back-button.component`)}importUnthemedComponent(){return t.e(2076).then(t.bind(t,24734))}static#e=this.\u0275fac=(()=>{let y;return function(_){return(y||(y=n.xGo(g)))(_||g)}})();static#t=this.\u0275cmp=n.VBU({type:g,selectors:[["ds-results-back-button"]],inputs:{buttonLabel:"buttonLabel",back:"back"},standalone:!0,features:[n.Vt3,n.aNF],ngContentSelectors:c,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(E,_){1&E&&(n.NAR(),n.DNE(0,e,0,0,"ng-template",null,0,n.C5r),n.j41(2,"div",null,1),n.SdG(4),n.k0s())},encapsulation:2})}return g})()},63011:(B,D,t)=>{"use strict";t.d(D,{q:()=>y});var i=t(76627),n=t(41483),c=t(47947),e=t(1703),f=t(15687),g=t(72683),d=t(53107);let y=(()=>{class E{constructor(b,O,I,T){this.roleService=b,this.viewContainer=O,this.changeDetector=I,this.templateRef=T,this.subs=[]}ngOnChanges(b){this.hasRoles(this.dsShowOnlyForRole),b.dsShowOnlyForRole?this.validateOnly():b.dsShowExceptForRole&&this.validateExcept()}ngOnDestroy(){this.subs.filter(b=>(0,g.a4)(b)).forEach(b=>b.unsubscribe())}showTemplateBlockInView(){this.viewContainer.clear(),this.templateRef&&(this.viewContainer.createEmbeddedView(this.templateRef),this.changeDetector.markForCheck())}validateOnly(){this.subs.push(this.hasRoles(this.dsShowOnlyForRole).pipe((0,n.p)(b=>b)).subscribe(b=>{this.showTemplateBlockInView()}))}validateExcept(){this.subs.push(this.hasRoles(this.dsShowExceptForRole).pipe((0,n.p)(b=>!b)).subscribe(b=>{this.showTemplateBlockInView()}))}hasRoles(b){const I=(Array.isArray(b)?b:[b]).map(T=>this.roleService.checkRole(T));return(0,i.z)(I).pipe((0,c.T)(T=>T.includes(!0)),(0,e.$)())}static#e=this.\u0275fac=function(O){return new(O||E)(d.rXU(f.W),d.rXU(d.c1b),d.rXU(d.gRc),d.rXU(d.C4Q))};static#t=this.\u0275dir=d.FsC({type:E,selectors:[["","dsShowOnlyForRole",""],["","dsShowExceptForRole",""]],inputs:{dsShowOnlyForRole:"dsShowOnlyForRole",dsShowExceptForRole:"dsShowExceptForRole"},standalone:!0,features:[d.OA$]})}return E})()},15003:(B,D,t)=>{"use strict";t.d(D,{$s:()=>n,Jc:()=>c,aE:()=>f,zX:()=>e});var i=t(83770);const n={ADD:(0,i.N)("dspace/css-variables/ADD"),ADD_ALL:(0,i.N)("dspace/css-variables/ADD_ALL"),CLEAR:(0,i.N)("dspace/css-variables/CLEAR")};class c{constructor(d,y){this.type=n.ADD,this.payload={name:d,value:y}}}class e{constructor(d){this.type=n.ADD_ALL,this.payload=d}}class f{constructor(){this.type=n.CLEAR}}},33851:(B,D,t)=>{"use strict";t.d(D,{J:()=>y});var i=t(73958),n=t(44363),c=t(5338),e=t(36423),f=t(72683),g=t(15003),d=t(53107);let y=(()=>{class I{constructor(R){this.store=R,this.isSameDomain=u=>!u.href||0===u.href.indexOf(window.location.origin),this.hasCssRules=u=>{try{return u.cssRules}catch{return!1}},this.isStyleRule=u=>1===u.type}addCSSVariable(R,u){this.store.dispatch(new g.Jc(R,u))}addCSSVariables(R){this.store.dispatch(new g.zX(R))}clearCSSVariables(){this.store.dispatch(new g.aE)}getVariable(R){return this.store.pipe((0,i.Lt)(_(R)))}getAllVariables(){return this.store.pipe((0,i.Lt)(E))}searchVariable(R,u){return this.store.pipe((0,i.Lt)(b(R,u)))}getCSSVariablesFromStylesheets(R){return(0,f.hj)(R.styleSheets)?[...R.styleSheets].filter(this.isSameDomain).filter(this.hasCssRules).reduce((u,w)=>u.concat([...w.cssRules].filter(this.isStyleRule).reduce((v,S)=>[...v,...[...S.style].map(L=>({key:L.trim(),value:S.style.getPropertyValue(L).trim()})).filter(({key:L})=>0===L.indexOf("--"))],[])),[]):[]}static#e=this.\u0275fac=function(u){return new(u||I)(d.KVO(i.il))};static#t=this.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();const E=I=>I.cssVariables,_=I=>(0,n.pc)(I,E),b=(I,T)=>(0,i.Mz)(O(I),R=>{if((0,f.a4)(R)){const{currentPage:u,pageSize:w}=T,v=(u-1)*w,M=R.slice(v,v+w),L=Math.ceil(R.length/w),F=new e.Q({currentPage:u,elementsPerPage:w,totalElements:R.length,totalPages:L});return(0,c.g)(F,M)}}),O=I=>(0,i.Mz)(E,T=>{if((0,f.a4)(T))return Object.keys(T).filter(R=>R.includes(I)).map(R=>({key:R,value:T[R]}))})},48883:(B,D,t)=>{"use strict";t.r(D),t.d(D,{SearchFormComponent:()=>G});var i=t(54460),n=t(53107),c=t(10936),e=t(2155),f=t(69685),g=t(71217),d=t(37610),y=t(83116),E=t(60875),_=t(95438),b=t(12007),O=t(67811),I=t(3631),T=t(85751),R=t(72683),u=t(75911),w=t(67044),v=t(86722),S=t(89632),M=t(69509),L=t(75949),F=t(2771),$=t(95968);let j=(()=>{class Y extends F.${constructor(X,K){super(X,K),this.activeModal=X,this.route=K,this.objectType=M.W.COMMUNITY,this.selectorTypes=[M.W.COMMUNITY,M.W.COLLECTION],this.action=F.u.SET_SCOPE,this.scopeChange=new n.bkB,this.defaultSort=new S.z(v.c.comcolSelectionSort.sortField,v.c.comcolSelectionSort.sortDirection)}navigate(X){this.scopeChange.emit(X)}static#e=this.\u0275fac=function(K){return new(K||Y)(n.rXU(e.Lw),n.rXU($.nX))};static#t=this.\u0275cmp=n.VBU({type:Y,selectors:[["ds-scope-selector-modal"]],standalone:!0,features:[n.Vt3,n.aNF],decls:21,vars:15,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"btn","btn-outline-primary","btn-lg","btn-block",3,"click"],[1,"position-relative","py-1","my-3","font-weight-normal"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"],[1,"px-2"],[3,"onSelect","currentDSOId","types","sort"]],template:function(K,ae){1&K&&(n.j41(0,"div")(1,"div",0),n.EFF(2),n.nI1(3,"translate"),n.j41(4,"button",1),n.bIt("click",function(){return ae.selectObject(void 0)}),n.j41(5,"span",2),n.EFF(6,"\xd7"),n.k0s()()(),n.j41(7,"div",3)(8,"button",4),n.bIt("click",function(){return ae.selectObject(void 0)}),n.EFF(9),n.nI1(10,"translate"),n.k0s(),n.j41(11,"h3",5),n.nrm(12,"hr"),n.j41(13,"div",6)(14,"span",7),n.EFF(15),n.nI1(16,"translate"),n.k0s()()(),n.j41(17,"h5",8),n.EFF(18),n.nI1(19,"translate"),n.k0s(),n.j41(20,"ds-dso-selector",9),n.bIt("onSelect",function(J){return ae.selectObject(J)}),n.k0s()()()),2&K&&(n.R7$(2),n.SpI("",n.bMT(3,7,"dso-selector."+ae.action+"."+ae.objectType.toString().toLowerCase()+".head")," "),n.R7$(7),n.JRh(n.bMT(10,9,"dso-selector."+ae.action+"."+ae.objectType.toString().toLowerCase()+".button")),n.R7$(6),n.JRh(n.bMT(16,11,"dso-selector."+ae.action+"."+ae.objectType.toString().toLowerCase()+".or-divider")),n.R7$(3),n.JRh(n.bMT(19,13,"dso-selector."+ae.action+"."+ae.objectType.toString().toLowerCase()+".input-header")),n.R7$(2),n.Y8G("currentDSOId",null==ae.dsoRD?null:ae.dsoRD.payload.uuid)("types",ae.selectorTypes)("sort",ae.defaultSort))},dependencies:[L.x,f.h,f.D9],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]})}return Y})();function x(Y,V){if(1&Y){const X=n.RV6();n.j41(0,"div",8)(1,"button",9),n.nI1(2,"async"),n.bIt("click",function(){n.eBV(X);const ae=n.XpG();return n.Njj(ae.openScopeModal())}),n.EFF(3),n.nI1(4,"async"),n.nI1(5,"translate"),n.k0s()()}if(2&Y){const X=n.XpG();n.R7$(),n.Y8G("ngbTooltip",X.dsoNameService.getName(n.bMT(2,2,X.selectedScope))),n.R7$(2),n.SpI(" ",X.dsoNameService.getName(n.bMT(4,4,X.selectedScope))||n.bMT(5,6,"search.form.scope.all")," ")}}let G=(()=>{class Y{constructor(X,K,ae,Q,J,z,q,ee){this.router=X,this.searchService=K,this.searchFilterService=ae,this.paginationService=Q,this.searchConfig=J,this.modalService=z,this.dsoService=q,this.dsoNameService=ee,this.scope="",this.hideScopeInUrl=!1,this.selectedScope=new g.t(void 0),this.large=!1,this.brandColor="primary",this.showScopeSelector=!1,this.submitSearch=new n.bkB}ngOnChanges(){(0,R.hj)(this.scope)&&this.dsoService.findById(this.scope).pipe((0,b.ak)()).subscribe(X=>this.selectedScope.next(X))}onSubmit(X){(0,R.hj)(this.scope)&&(X=Object.assign(X,{scope:this.scope})),this.updateSearch(X),this.submitSearch.emit(X)}onScopeChange(X){this.updateSearch({scope:X?X.uuid:void 0}),this.searchFilterService.minimizeAll()}updateSearch(X){const ae=Object.assign({"spc.page":1},X);(0,R.a4)(X.scope)&&this.hideScopeInUrl&&delete ae.scope,this.router.navigate(this.getSearchLinkParts(),{queryParams:ae,queryParamsHandling:"merge"})}getSearchLink(){return this.inPlaceSearch?(0,w.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}openScopeModal(){this.modalService.open(j).componentInstance.scopeChange.pipe((0,d.s)(1)).subscribe(K=>{this.selectedScope.next(K),this.onScopeChange(K)})}static#e=this.\u0275fac=function(K){return new(K||Y)(n.rXU($.Ix),n.rXU(O.S),n.rXU(T.U),n.rXU(_.m),n.rXU(I.g),n.rXU(e.Bq),n.rXU(E.DSpaceObjectDataService),n.rXU(y.f))};static#t=this.\u0275cmp=n.VBU({type:Y,selectors:[["ds-base-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",hideScopeInUrl:"hideScopeInUrl",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},standalone:!0,features:[n.OA$,n.aNF],decls:13,vars:16,consts:[["form","ngForm"],["action","/search",3,"ngSubmit"],[1,"form-group","input-group"],["class","input-group-prepend",4,"ngIf"],["type","text","name","query",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"input-group-append"],["type","submit"],[1,"fas","fa-search"],[1,"input-group-prepend"],["type","button",1,"scope-button","btn","btn-outline-secondary","text-truncate",3,"click","ngbTooltip"]],template:function(K,ae){if(1&K){const Q=n.RV6();n.j41(0,"form",1,0),n.bIt("ngSubmit",function(){n.eBV(Q);const z=n.sdS(1);return n.Njj(ae.onSubmit(z.value))}),n.j41(2,"div")(3,"div",2),n.DNE(4,x,6,8,"div",3),n.j41(5,"input",4),n.nI1(6,"dsBrowserOnly"),n.mxI("ngModelChange",function(z){return n.eBV(Q),n.DH7(ae.query,z)||(ae.query=z),n.Njj(z)}),n.k0s(),n.j41(7,"span",5)(8,"button",6),n.nI1(9,"dsBrowserOnly"),n.nrm(10,"i",7),n.EFF(11),n.nI1(12,"translate"),n.k0s()()()()()}2&K&&(n.R7$(4),n.Y8G("ngIf",ae.showScopeSelector),n.R7$(),n.R50("ngModel",ae.query),n.Y8G("placeholder",ae.searchPlaceholder),n.BMQ("aria-label",ae.searchPlaceholder)("data-test",n.bMT(6,10,"search-box")),n.R7$(3),n.ZvI("search-button btn btn-",ae.brandColor,""),n.BMQ("data-test",n.bMT(9,12,"search-button")),n.R7$(3),n.SpI(" ",n.bMT(12,14,"search.form.search"),""))},dependencies:[c.YN,c.qT,c.me,c.BC,c.cb,c.vS,c.cV,i.bT,e.n8,e.md,i.Jj,f.h,f.D9,u.L],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}.scope-button[_ngcontent-%COMP%]{max-width:var(--ds-search-form-scope-max-width)}"]})}return Y})()},85941:(B,D,t)=>{"use strict";t.d(D,{d:()=>g});var i=t(53107),n=t(21124);t(48883);const e=["*"];function f(d,y){}let g=(()=>{class d extends n.J{constructor(){super(...arguments),this.submitSearch=new i.bkB,this.inAndOutputNames=["query","inPlaceSearch","scope","hideScopeInUrl","currentUrl","large","brandColor","searchPlaceholder","showScopeSelector","submitSearch"]}getComponentName(){return"SearchFormComponent"}importThemedComponent(E){return t(76142)(`./${E}/app/shared/search-form/search-form.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,48883))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=i.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=i.VBU({type:d,selectors:[["ds-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",hideScopeInUrl:"hideScopeInUrl",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}return d})()},8783:(B,D,t)=>{"use strict";t.d(D,{Q:()=>w});var i=t(54460),n=t(10936),c=t(69685),e=t(63016),f=t(37610),g=t(18062),d=t(67811),y=t(3631),E=t(85751),_=t(72683),b=t(4150),O=t(26594),I=t(53107),T=t(95968);function R(v,S){if(1&v&&(I.j41(0,"option",8),I.EFF(1),I.nI1(2,"translate"),I.k0s()),2&v){const M=S.$implicit;I.Y8G("value",M.value.filter),I.R7$(),I.SpI(" ",I.bMT(2,2,"search.filters.filter."+M.value.filter+".head")," ")}}function u(v,S){if(1&v&&(I.j41(0,"option",8),I.EFF(1),I.nI1(2,"translate"),I.k0s()),2&v){const M=S.$implicit;I.Y8G("value",M.operator),I.R7$(),I.SpI(" ",I.bMT(2,2,"search.filters.operator."+M.operator+".text")," ")}}let w=(()=>{class v{constructor(M,L,F,$,j){this.router=M,this.searchService=L,this.searchConfigurationService=F,this.searchFilterService=$,this.appConfig=j,this.advancedFilterMap=new Map,this.currentValue="",this.filterSearchResults$=(0,e.of)([]),this.subs=[]}ngOnInit(){this.advancedFilters$=this.searchConfigurationService.getConfigurationAdvancedSearchFilters(this.configuration,this.scope),this.subs.push(this.advancedFilters$.subscribe(M=>{const L=new Map;if(M.length>0){this.currentFilter=M[0].filter,this.currentOperator=M[0].operators[0].operator;for(const F of M)F.type!==O.R.range&&L.set(F.filter,F)}this.advancedFilterMap=L}))}ngOnDestroy(){this.subs.forEach(M=>M.unsubscribe())}findSuggestions(M){if((0,_.a4)(this.filtersConfig))for(const L of this.filtersConfig)L.name===this.currentFilter&&(this.filterSearchResults$=this.searchFilterService.findSuggestions(L,this.searchConfigurationService.searchOptions.value,M))}applyFilter(){(0,_.hj)(this.currentValue)&&(this.searchFilterService.minimizeAll(),this.subs.push(this.searchConfigurationService.selectNewAppliedFilterParams(this.currentFilter,this.currentValue.trim(),this.currentOperator).pipe((0,f.s)(1)).subscribe(M=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:M}),this.currentValue=""})))}static#e=this.\u0275fac=function(L){return new(L||v)(I.rXU(T.Ix),I.rXU(d.S),I.rXU(y.g),I.rXU(E.U),I.rXU(g.vQ))};static#t=this.\u0275cmp=I.VBU({type:v,selectors:[["ds-advanced-search"]],inputs:{configuration:"configuration",filtersConfig:"filtersConfig",scope:"scope"},standalone:!0,features:[I.aNF],decls:26,vars:36,consts:[[1,"advanced-search","b-3","p-3"],["for","advanced-search-filters",1,"sr-only"],["id","advanced-search-filters",1,"form-control","mb-2",3,"ngModelChange","keyup.enter","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","advanced-search-operators",1,"sr-only"],["id","advanced-search-operators",1,"form-control","mb-2",3,"ngModelChange","keyup.enter","ngModel"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"],[1,"btn","btn-primary","mt-2",3,"click","disabled"],[3,"value"]],template:function(L,F){if(1&L&&(I.j41(0,"h3"),I.EFF(1),I.nI1(2,"translate"),I.k0s(),I.j41(3,"div",0)(4,"h4"),I.EFF(5),I.nI1(6,"translate"),I.k0s(),I.j41(7,"label",1),I.EFF(8),I.nI1(9,"translate"),I.k0s(),I.j41(10,"select",2),I.mxI("ngModelChange",function(j){return I.DH7(F.currentFilter,j)||(F.currentFilter=j),j}),I.bIt("keyup.enter",function(){return F.applyFilter()})("ngModelChange",function(){return F.currentOperator=F.advancedFilterMap.get(F.currentFilter).operators[0].operator}),I.DNE(11,R,3,4,"option",3),I.nI1(12,"async"),I.nI1(13,"keyvalue"),I.k0s(),I.j41(14,"label",4),I.EFF(15),I.nI1(16,"translate"),I.k0s(),I.j41(17,"select",5),I.mxI("ngModelChange",function(j){return I.DH7(F.currentOperator,j)||(F.currentOperator=j),j}),I.bIt("keyup.enter",function(){return F.applyFilter()}),I.DNE(18,u,3,4,"option",3),I.k0s(),I.j41(19,"ds-filter-input-suggestions",6),I.nI1(20,"async"),I.nI1(21,"translate"),I.nI1(22,"translate"),I.mxI("ngModelChange",function(j){return I.DH7(F.currentValue,j)||(F.currentValue=j),j}),I.bIt("submitSuggestion",function(){return F.applyFilter()})("findSuggestions",function(j){return F.findSuggestions(j)}),I.k0s(),I.j41(23,"button",7),I.bIt("click",function(){return F.applyFilter()}),I.EFF(24),I.nI1(25,"translate"),I.k0s()()),2&L){let $;I.R7$(),I.JRh(I.bMT(2,16,"search.sidebar.advanced-search.title")),I.R7$(4),I.JRh(I.bMT(6,18,"search.sidebar.advanced-search.filter-by")),I.R7$(3),I.SpI(" ",I.bMT(9,20,"search.sidebar.advanced-search.filters")," "),I.R7$(2),I.R50("ngModel",F.currentFilter),I.R7$(),I.Y8G("ngForOf",I.bMT(13,24,I.bMT(12,22,F.advancedFilters$))),I.R7$(4),I.SpI(" ",I.bMT(16,26,"search.sidebar.advanced-search.operators")," "),I.R7$(2),I.R50("ngModel",F.currentOperator),I.R7$(),I.Y8G("ngForOf",null==($=F.advancedFilterMap.get(F.currentFilter))?null:$.operators),I.R7$(),I.Y8G("suggestions",I.bMT(20,28,F.filterSearchResults$))("placeholder",I.bMT(21,30,"search.filters.filter."+F.currentFilter+".placeholder"))("label",I.bMT(22,32,"search.filters.filter."+F.currentFilter+".label"))("action",F.router.url)("name","f."+F.currentFilter),I.R50("ngModel",F.currentValue),I.R7$(4),I.Y8G("disabled",""===F.currentValue),I.R7$(),I.SpI(" ",I.bMT(25,34,"search.sidebar.advanced-search.add")," ")}},dependencies:[i.Jj,b.H,n.YN,n.xH,n.y7,n.me,n.wz,n.BC,n.vS,i.lG,i.Sq,c.h,c.D9],styles:["[_nghost-%COMP%]     ds-filter-input-suggestions label span{display:none}.advanced-search[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}return v})()},96835:(B,D,t)=>{"use strict";t.d(D,{S:()=>c});var i=t(31635),n=t(47817);class c{}(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"filter",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"operator",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"value",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"label",void 0)},96916:(B,D,t)=>{"use strict";t.d(D,{L:()=>c});var i=t(31635),n=t(47817);class c{}(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"label",void 0),(0,i.Cg)([(0,n.autoserializeAs)(String,"label"),(0,i.Sn)("design:type",String)],c.prototype,"value",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Number)],c.prototype,"count",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"authorityKey",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],c.prototype,"_links",void 0)},26594:(B,D,t)=>{"use strict";t.d(D,{R:()=>i});var i=function(n){return n.authority="authority",n.text="text",n.range="date",n.hierarchy="hierarchical",n.boolean="standard",n}(i||{})},63496:(B,D,t)=>{"use strict";t.d(D,{C:()=>f});var i=t(72683),n=t(88842),c=t(87913);class e{constructor(d){this.view=n.n.ListElement,this.configuration=d.configuration,this.scope=d.scope,this.query=d.query,this.dsoTypes=d.dsoTypes,this.filters=d.filters,this.fixedFilter=d.fixedFilter}toRestUrl(d,y=[]){return(0,i.hj)(this.configuration)&&y.push(`configuration=${encodeURIComponent(this.configuration)}`),(0,i.hj)(this.fixedFilter)&&y.push(this.encodedFixedFilter),(0,i.hj)(this.query)&&y.push(`query=${encodeURIComponent(this.query)}`),(0,i.hj)(this.scope)&&y.push(`scope=${encodeURIComponent(this.scope)}`),(0,i.hj)(this.dsoTypes)&&this.dsoTypes.forEach(E=>{y.push(`dsoType=${encodeURIComponent(E)}`)}),(0,i.hj)(this.filters)&&this.filters.forEach(E=>{E.values.forEach(_=>{const b=_.includes(",")?`${_}`:_+(E.operator?","+E.operator:"");y.push(`${E.key}=${this.encodeFilterQueryValue(b)}`)})}),(0,i.hj)(y)&&(d=new c.t(d,`?${y.join("&")}`).toString()),d}get encodedFixedFilter(){const d=this.fixedFilter.match(/^([^=]+=)(.+)$/);return(0,i.a4)(d)?d[1]+this.encodeFilterQueryValue(d[2]):this.encodeFilterQueryValue(this.fixedFilter)}encodeFilterQueryValue(d){const y=d.match(/^(.*)(,\w+)$/);return(0,i.a4)(y)?encodeURIComponent(y[1])+y[2]:encodeURIComponent(d)}}class f extends e{constructor(d){super(d),this.pagination=d.pagination,this.sort=d.sort,this.view=d.view}toRestUrl(d,y=[]){return(0,i.hj)(this.sort)&&y.push(`sort=${this.sort.field},${this.sort.direction}`),(0,i.hj)(this.pagination)&&(y.push("page="+(this.pagination.currentPage-1)),y.push(`size=${this.pagination.pageSize}`)),super.toRestUrl(d,y)}}},40632:(B,D,t)=>{"use strict";t.d(D,{F:()=>y});var i=t(31635),n=t(47817),c=t(52727),e=t(2494);t(26594);const d=new(t(98573).v)("discovery-filter");let y=class{constructor(){this.type=d,this.pageSize=5}static#e=this.type=d;get paramName(){return"f."+this.name}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",Object)],y.prototype,"type",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"name",void 0),(0,i.Cg)([(0,n.autoserializeAs)(String,"facetType"),(0,i.Sn)("design:type",String)],y.prototype,"filterType",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"hasFacets",void 0),(0,i.Cg)([(0,n.autoserializeAs)(String,"facetLimit"),(0,i.Sn)("design:type",Object)],y.prototype,"pageSize",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"isOpenByDefault",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"maxValue",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"minValue",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([c.gV],y)},93462:(B,D,t)=>{"use strict";t.d(D,{n:()=>_});var i=t(31635),n=t(47817),c=t(52727),e=t(5338),f=t(2494),g=t(10571),d=t(5926);const E=new(t(98573).v)("discovery-objects");let _=class extends g.a{constructor(){super(...arguments),this.type=E}static#e=this.type=E};(0,i.Cg)([f.aK,(0,i.Sn)("design:type",Object)],_.prototype,"type",void 0),(0,i.Cg)([(0,n.autoserializeAs)(d.q,"objects"),(0,i.Sn)("design:type",Array)],_.prototype,"page",void 0),_=(0,i.Cg)([c.gV,(0,n.inheritSerialization)(e.O),(0,n.inheritSerialization)(g.a)],_)},10571:(B,D,t)=>{"use strict";t.d(D,{a:()=>d});var i=t(31635),n=t(47817),c=t(5338),e=t(36423),f=t(96835);class g{}(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],g.prototype,"by",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],g.prototype,"order",void 0);class d extends c.O{}(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],d.prototype,"scope",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],d.prototype,"query",void 0),(0,i.Cg)([(0,n.autoserializeAs)(f.S),(0,i.Sn)("design:type",Array)],d.prototype,"appliedFilters",void 0),(0,i.Cg)([(0,n.autoserializeAs)(g),(0,i.Sn)("design:type",g)],d.prototype,"sort",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],d.prototype,"configuration",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",e.Q)],d.prototype,"pageInfo",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Array)],d.prototype,"page",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Object)],d.prototype,"facets",void 0)},5926:(B,D,t)=>{"use strict";t.d(D,{q:()=>E});var i=t(31635),n=t(47817),c=t(52727),e=t(64953),f=t(2494),g=t(59400);const y=new(t(98573).v)("searchresult");let E=class extends g.u{constructor(){super(...arguments),this.type=y}static#e=this.type=y;getRenderTypes(){return[this.constructor]}};(0,i.Cg)([f.aK,n.autoserialize,(0,i.Sn)("design:type",e.Cr)],E.prototype,"hitHighlights",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,f.gM)("uuid"),(0,i.Sn)("design:type",Object)],E.prototype,"indexableObject",void 0),E=(0,i.Cg)([c.gV],E)},70067:(B,D,t)=>{"use strict";t.d(D,{w:()=>w});var i=t(54460),n=t(2155),c=t(69685),e=t(76627),f=t(47947),g=t(77304),d=t(36556),y=t(72578),E=t(12007),_=t(39942),b=t(72683),O=t(79224),T=(t(63496),t(53107)),R=t(95968);function u(v,S){if(1&v){const M=T.RV6();T.j41(0,"button",1),T.nI1(1,"translate"),T.nI1(2,"translate"),T.nI1(3,"translate"),T.bIt("click",function(){T.eBV(M);const F=T.XpG();return T.Njj(F.export())}),T.nrm(4,"i",2),T.k0s()}if(2&v){const M=T.XpG();T.Y8G("ngbTooltip",T.bMT(1,3,M.tooltipMsg))("title",T.bMT(2,5,M.tooltipMsg)),T.BMQ("aria-label",T.bMT(3,7,M.tooltipMsg))}}let w=(()=>{class v{constructor(M,L,F,$,j){this.scriptDataService=M,this.authorizationDataService=L,this.notificationsService=F,this.translateService=$,this.router=j,this.tooltipMsg="metadata-export-search.tooltip"}ngOnInit(){const M=this.scriptDataService.findById("metadata-export-search").pipe((0,E.qD)(),(0,f.T)(F=>F.isSuccess&&(0,b.a4)(F.payload))),L=this.authorizationDataService.isAuthorized(d._.AdministratorOf);this.shouldShowButton$=(0,e.z)([M,L]).pipe((0,f.T)(([F,$])=>F&&$))}export(){const M=[];if((0,b.a4)(this.searchConfig)&&((0,b.hj)(this.searchConfig.query)&&M.push({name:"-q",value:this.searchConfig.query}),(0,b.hj)(this.searchConfig.scope)&&M.push({name:"-s",value:this.searchConfig.scope}),(0,b.hj)(this.searchConfig.configuration)&&M.push({name:"-c",value:this.searchConfig.configuration}),(0,b.hj)(this.searchConfig.filters)&&this.searchConfig.filters.forEach(L=>{(0,b.a4)(L.values)&&L.values.forEach(F=>{let $,j;(0,b.a4)(L.operator)?($=L.operator,j=F):($=F.substring(F.lastIndexOf(",")+1),j=F.substring(0,F.lastIndexOf(",")));const x=`${L.key.substring(2)},${$}=${j}`;M.push({name:"-f",value:x})})}),(0,b.hj)(this.searchConfig.fixedFilter))){const F=this.searchConfig.fixedFilter.substring(2).split("=");if(F.length>1){const $=F[0],j=F[1].split(",");j.length>1&&M.push({name:"-f",value:`${$},${j[1]}=${j[0]}`})}}this.scriptDataService.invoke("metadata-export-search",M,[]).pipe((0,E.qD)()).subscribe(L=>{L.hasSucceeded?(this.notificationsService.success(this.translateService.get("metadata-export-search.submit.success")),this.router.navigateByUrl((0,_.yJ)(L.payload.processId))):this.notificationsService.error(this.translateService.get("metadata-export-search.submit.error"))})}static#e=this.\u0275fac=function(L){return new(L||v)(T.rXU(y.ScriptDataService),T.rXU(g.AuthorizationDataService),T.rXU(O.I),T.rXU(c.c$),T.rXU(R.Ix))};static#t=this.\u0275cmp=T.VBU({type:v,selectors:[["ds-search-export-csv"]],inputs:{searchConfig:"searchConfig"},standalone:!0,features:[T.aNF],decls:2,vars:3,consts:[["class","export-button btn btn-dark btn-sm",3,"ngbTooltip","title","click",4,"ngIf"],[1,"export-button","btn","btn-dark","btn-sm",3,"click","ngbTooltip","title"],[1,"fas","fa-file-export","fa-fw"]],template:function(L,F){1&L&&(T.DNE(0,u,5,9,"button",0),T.nI1(1,"async")),2&L&&T.Y8G("ngIf",T.bMT(1,1,F.shouldShowButton$))},dependencies:[i.bT,n.n8,n.md,i.Jj,c.h,c.D9],styles:[".export-button[_ngcontent-%COMP%]{background:var(--ds-admin-sidebar-bg);border-color:var(--ds-admin-sidebar-bg)}"]})}return v})()},41162:(B,D,t)=>{"use strict";t.d(D,{Bf:()=>_,Fi:()=>g,L2:()=>d,Po:()=>b,R0:()=>y,ge:()=>e,nj:()=>f,tq:()=>E,y$:()=>n});var i=t(83770);const n={COLLAPSE:(0,i.N)("dspace/search-filter/COLLAPSE"),INITIALIZE:(0,i.N)("dspace/search-filter/INITIALIZE"),EXPAND:(0,i.N)("dspace/search-filter/EXPAND"),TOGGLE:(0,i.N)("dspace/search-filter/TOGGLE"),DECREMENT_PAGE:(0,i.N)("dspace/search-filter/DECREMENT_PAGE"),INCREMENT_PAGE:(0,i.N)("dspace/search-filter/INCREMENT_PAGE"),RESET_PAGE:(0,i.N)("dspace/search-filter/RESET_PAGE"),MINIMIZE_ALL:(0,i.N)("dspace/search-filters/MINIMIZE_ALL")};class c{constructor(I){this.filterName=I}}class e extends c{constructor(){super(...arguments),this.type=n.COLLAPSE}}class f extends c{constructor(){super(...arguments),this.type=n.EXPAND}}class g extends c{constructor(){super(...arguments),this.type=n.TOGGLE}}class d extends c{constructor(I){super(I.name),this.type=n.INITIALIZE,this.initiallyExpanded=I.isOpenByDefault}}class y extends c{constructor(){super(...arguments),this.type=n.DECREMENT_PAGE}}class E extends c{constructor(){super(...arguments),this.type=n.INCREMENT_PAGE}}class _ extends c{constructor(){super(...arguments),this.type=n.RESET_PAGE}}class b extends c{constructor(){super(...arguments),this.type=n.MINIMIZE_ALL}}},20330:(B,D,t)=>{"use strict";t.d(D,{a:()=>Co});var i=t(54460),n=t(69685),c=t(71217),e=t(76627),f=t(22867),g=t(63016),d=t(41483),y=t(47947),E=t(30593),_=t(37610),b=t(67811),O=t(3631),I=t(85751),T=t(82506),R=t(74531),u=t(72683),w=t(75911),S=(t(40632),t(71204)),M=t(66645),L=t(82040),F=t(45122),$=t(12007),j=t(67044),x=t(53107),G=t(95968);const Y=["equals","authority","range"];let V=(()=>{class st{constructor(ct,Rt,At,gn,Jn){this.searchService=ct,this.filterService=Rt,this.rdbs=At,this.router=gn,this.searchConfigService=Jn,this.facetValues$=new c.t([]),this.isLastPage$=new c.t(!1),this.isAvailableForShowSearchText=new c.t(!1),this.subs=[],this.filterSearchResults$=(0,g.of)([]),this.collapseNextUpdate=!0,this.animationState="loading"}ngOnInit(){this.currentUrl=this.router.url,this.currentPage=this.getCurrentPage().pipe((0,M.F)()),this.searchOptions$=this.searchConfigService.searchOptions.pipe((0,y.T)(ct=>(0,u.Tn)(this.scope)?ct:Object.assign({},ct,{scope:this.scope}))),this.subs.push(this.searchOptions$.subscribe(()=>this.updateFilterValueList()),this.retrieveFilterValues().subscribe()),this.selectedAppliedFilters$=this.searchService.getSelectedValuesForFilter(this.filterConfig.name).pipe((0,y.T)(ct=>ct.filter(Rt=>Y.includes(Rt.operator))),(0,M.F)((ct,Rt)=>JSON.stringify(ct)===JSON.stringify(Rt)))}updateFilterValueList(){this.animationState="loading",this.collapseNextUpdate=!0,this.filter=""}getSearchLink(){return this.inPlaceSearch?(0,j.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}showMore(){this.filterService.incrementPage(this.filterConfig.name)}showFirstPageOnly(){this.filterService.resetPage(this.filterConfig.name)}getCurrentPage(){return this.filterService.getPage(this.filterConfig.name)}onSubmit(ct){this.applyFilterValue(ct)}onClick(ct){this.applyFilterValue(ct.query)}hasValue(ct){return(0,u.a4)(ct)}ngOnDestroy(){this.subs.filter(ct=>(0,u.a4)(ct)).forEach(ct=>ct.unsubscribe())}findSuggestions(ct){this.subs.push(this.searchOptions$.pipe((0,_.s)(1)).subscribe(Rt=>{this.filterSearchResults$=this.filterService.findSuggestions(this.filterConfig,Rt,ct)}))}applyFilterValue(ct){if(ct.match(new RegExp("^.+,(equals|query|authority)$"))){this.filterService.minimizeAll();const Rt=ct.split(",");this.subs.push(this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,Rt.slice(0,Rt.length-1).join(),Rt[Rt.length-1]).pipe((0,_.s)(1)).subscribe(At=>{this.router.navigate(this.getSearchLinkParts(),{queryParams:At}),this.filter="",this.filterSearchResults$=(0,g.of)([])}))}}retrieveFilterValues(){return(0,e.z)([this.searchOptions$,this.currentPage]).pipe((0,f.n)(([ct,Rt])=>this.searchService.getFacetValuesFor(this.filterConfig,Rt,ct).pipe((0,$.ak)(),(0,L.M)(At=>{this.isLastPage$.next((0,u.Tn)(At?.next)),this.isAvailableForShowSearchText.next(At?.page?.length<At?.facetLimit&&(0,u.Tn)(At?.next))}))),(0,y.T)(ct=>{let Rt=this.facetValues$.value;return this.collapseNextUpdate&&(this.showFirstPageOnly(),Rt=[],this.collapseNextUpdate=!1),1===ct.pageInfo.currentPage&&(Rt=[]),Rt=[...Rt,ct],Rt}),(0,L.M)(ct=>{this.animationState="ready",this.facetValues$.next(ct)}))}trackUpdate(ct,Rt){return Rt?Rt._links.search.href:void 0}static#e=this.\u0275fac=function(Rt){return new(Rt||st)(x.rXU(b.S),x.rXU(I.U),x.rXU(F.o),x.rXU(G.Ix),x.rXU(T.EN))};static#t=this.\u0275cmp=x.VBU({type:st,selectors:[["ds-search-facet-filter"]],inputs:{filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},standalone:!0,features:[x.aNF],decls:0,vars:0,template:function(Rt,At){},encapsulation:2})}return st})();const X=(0,S.hZ)("facetLoad",[(0,S.wk)("ready",(0,S.iF)({opacity:1})),(0,S.wk)("loading",(0,S.iF)({opacity:0})),(0,S.kY)("loading <=> ready",(0,S.i0)(100))]);var K=t(76794),ae=t(8181),Q=t(26594),J=t(10936),z=t(4150),q=t(95438);let ee=(()=>{class st{transform(ct,Rt){if(isNaN(ct)||(0,u.Im)(ct)||0===ct)return ct;let At=Math.abs(ct);const gn=Math.pow(10,1),Jn=ct<0;let bs="";const us=[{key:"Q",value:Math.pow(10,15)},{key:"T",value:Math.pow(10,12)},{key:"B",value:Math.pow(10,9)},{key:"M",value:Math.pow(10,6)},{key:"K",value:1e3}];for(let Is=0;Is<us.length;Is++){let di=At/us[Is].value;if(di=Math.round(di*gn)/gn,di>=1){At=di,bs=us[Is].key;break}}return(Jn?"-":"")+At+bs}static#e=this.\u0275fac=function(Rt){return new(Rt||st)};static#t=this.\u0275pipe=x.EJ8({name:"dsShortNumber",type:st,pure:!0,standalone:!0})}return st})();t(96916);var Ce=t(50826);const Z=st=>[st],le=st=>({default:st});function De(st,ot){if(1&st){const ct=x.RV6();x.j41(0,"a",1),x.nI1(1,"async"),x.bIt("click",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.filterService.minimizeAll())}),x.j41(2,"label",2),x.nrm(3,"input",3),x.j41(4,"span",4)(5,"span",5),x.EFF(6),x.nI1(7,"dsShortNumber"),x.k0s(),x.EFF(8),x.nI1(9,"translate"),x.k0s()()()}if(2&st){const ct=x.XpG();x.Y8G("tabIndex",-1)("routerLink",x.eq3(13,Z,ct.searchLink))("queryParams",x.bMT(1,6,ct.addQueryParams$)),x.R7$(3),x.Y8G("checked",!1),x.R7$(3),x.JRh(x.bMT(7,8,ct.filterValue.count)),x.R7$(2),x.SpI(" ",x.i5U(9,10,"search.filters."+ct.filterConfig.name+"."+ct.filterValue.value,x.eq3(15,le,ct.filterValue.value))," ")}}let pe=(()=>{class st{constructor(ct,Rt,At,gn,Jn){this.searchService=ct,this.filterService=Rt,this.searchConfigService=At,this.router=gn,this.paginationService=Jn}ngOnInit(){this.paginationId=this.searchConfigService.paginationID,this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,y.T)(ct=>!ct)),this.addQueryParams$=this.updateAddParams()}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.getFacetValue())}getSearchLink(){return this.inPlaceSearch?(0,j.N)(this.router):this.searchService.getSearchLink()}updateAddParams(){return this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,this.getFacetValue())}getFacetValue(){return(0,Ce.SB)(this.filterValue,this.filterConfig)}static#e=this.\u0275fac=function(Rt){return new(Rt||st)(x.rXU(b.S),x.rXU(I.U),x.rXU(O.g),x.rXU(G.Ix),x.rXU(q.m))};static#t=this.\u0275cmp=x.VBU({type:st,selectors:[["ds-search-facet-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[x.aNF],decls:2,vars:3,consts:[["class","d-flex flex-row",3,"tabIndex","routerLink","queryParams","click",4,"ngIf"],[1,"d-flex","flex-row",3,"click","tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"w-100","pl-1","break-facet"],[1,"float-right","badge","badge-secondary","badge-pill","mt-1","ml-1"]],template:function(Rt,At){1&Rt&&(x.DNE(0,De,10,17,"a",0),x.nI1(1,"async")),2&Rt&&x.Y8G("ngIf",x.bMT(1,1,At.isVisible))},dependencies:[i.bT,G.Wk,i.Jj,n.h,n.D9,ee],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}return st})();t(96835);const ve=st=>[st],fe=st=>({default:st});let Ie=(()=>{class st{constructor(ct,Rt,At,gn,Jn){this.paginationService=ct,this.router=Rt,this.searchFilterService=At,this.searchService=gn,this.searchConfigService=Jn}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeQueryParams=this.updateRemoveParams()}updateRemoveParams(){return this.searchConfigService.unselectAppliedFilterParams(this.selectedValue.filter,this.selectedValue.value,this.selectedValue.operator)}getSearchLink(){return this.inPlaceSearch?(0,j.N)(this.router):this.searchService.getSearchLink()}static#e=this.\u0275fac=function(Rt){return new(Rt||st)(x.rXU(q.m),x.rXU(G.Ix),x.rXU(I.U),x.rXU(b.S),x.rXU(O.g))};static#t=this.\u0275cmp=x.VBU({type:st,selectors:[["ds-search-facet-selected-option"]],inputs:{selectedValue:"selectedValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[x.aNF],decls:7,vars:14,consts:[[1,"d-flex","flex-row",3,"click","tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"filter-value","pl-1","break-facet"]],template:function(Rt,At){1&Rt&&(x.j41(0,"a",0),x.nI1(1,"async"),x.bIt("click",function(){return At.searchFilterService.minimizeAll()}),x.j41(2,"label",1),x.nrm(3,"input",2),x.j41(4,"span",3),x.EFF(5),x.nI1(6,"translate"),x.k0s()()()),2&Rt&&(x.Y8G("tabIndex",-1)("routerLink",x.eq3(10,ve,At.searchLink))("queryParams",x.bMT(1,5,At.removeQueryParams)),x.R7$(3),x.Y8G("checked",!0),x.R7$(2),x.SpI(" ",x.i5U(6,7,"search.filters."+At.filterConfig.name+"."+At.selectedValue.value,x.eq3(12,fe,At.selectedValue.label))," "))},dependencies:[i.Jj,G.Wk,n.h,n.D9],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}return st})();function Ne(st,ot){if(1&st&&x.nrm(0,"ds-search-facet-selected-option",7),2&st){const ct=ot.$implicit,Rt=x.XpG();x.Y8G("selectedValue",ct)("filterConfig",Rt.filterConfig)("inPlaceSearch",Rt.inPlaceSearch)}}function qe(st,ot){if(1&st&&x.nrm(0,"ds-search-facet-option",9),2&st){const ct=ot.$implicit,Rt=x.XpG(2);x.Y8G("filterConfig",Rt.filterConfig)("filterValue",ct)("inPlaceSearch",Rt.inPlaceSearch)}}function we(st,ot){if(1&st&&(x.qex(0),x.j41(1,"div"),x.DNE(2,qe,1,3,"ds-search-facet-option",8),x.k0s(),x.bVm()),2&st){const ct=ot.$implicit,Rt=x.XpG();x.R7$(),x.Y8G("@facetLoad",Rt.animationState),x.R7$(),x.Y8G("ngForOf",ct.page)("ngForTrackBy",Rt.trackUpdate)}}function Be(st,ot){if(1&st){const ct=x.RV6();x.j41(0,"a",10),x.bIt("click",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.showMore())}),x.EFF(1),x.nI1(2,"translate"),x.k0s()}2&st&&(x.R7$(),x.SpI(" ",x.bMT(2,1,"search.filters.filter.show-more")," "))}function Ve(st,ot){if(1&st){const ct=x.RV6();x.j41(0,"a",11),x.bIt("click",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.showFirstPageOnly())}),x.EFF(1),x.nI1(2,"translate"),x.k0s()}2&st&&(x.R7$(),x.SpI(" ",x.bMT(2,1,"search.filters.filter.show-less")," "))}function et(st,ot){if(1&st){const ct=x.RV6();x.j41(0,"ds-filter-input-suggestions",12),x.nI1(1,"async"),x.nI1(2,"translate"),x.nI1(3,"translate"),x.mxI("ngModelChange",function(At){x.eBV(ct);const gn=x.XpG();return x.DH7(gn.filter,At)||(gn.filter=At),x.Njj(At)}),x.bIt("submitSuggestion",function(At){x.eBV(ct);const gn=x.XpG();return x.Njj(gn.onSubmit(At))})("clickSuggestion",function(At){x.eBV(ct);const gn=x.XpG();return x.Njj(gn.onClick(At))})("findSuggestions",function(At){x.eBV(ct);const gn=x.XpG();return x.Njj(gn.findSuggestions(At))}),x.k0s()}if(2&st){const ct=x.XpG();x.Y8G("suggestions",x.bMT(1,6,ct.filterSearchResults$))("placeholder",x.bMT(2,8,"search.filters.filter."+ct.filterConfig.name+".placeholder"))("label",x.bMT(3,10,"search.filters.filter."+ct.filterConfig.name+".label"))("action",ct.currentUrl)("name",ct.filterConfig.paramName),x.R50("ngModel",ct.filter)}}let yt=(()=>{class st extends V{static#e=this.\u0275fac=(()=>{let ct;return function(At){return(ct||(ct=x.xGo(st)))(At||st)}})();static#t=this.\u0275cmp=x.VBU({type:st,selectors:[["ds-search-authority-filter"]],standalone:!0,features:[x.Vt3,x.aNF],decls:13,vars:15,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"]],template:function(Rt,At){1&Rt&&(x.j41(0,"div")(1,"div",0),x.DNE(2,Ne,1,3,"ds-search-facet-selected-option",1),x.nI1(3,"async"),x.DNE(4,we,3,3,"ng-container",2),x.nI1(5,"async"),x.j41(6,"div",3),x.DNE(7,Be,3,3,"a",4),x.nI1(8,"async"),x.DNE(9,Ve,3,3,"a",5),x.nI1(10,"async"),x.k0s()(),x.DNE(11,et,4,12,"ds-filter-input-suggestions",6),x.nI1(12,"async"),x.k0s()),2&Rt&&(x.R7$(2),x.Y8G("ngForOf",x.bMT(3,5,At.selectedAppliedFilters$)),x.R7$(2),x.Y8G("ngForOf",x.bMT(5,7,At.facetValues$)),x.R7$(3),x.Y8G("ngIf",!0!==x.bMT(8,9,At.isLastPage$)),x.R7$(2),x.Y8G("ngIf",x.bMT(10,11,At.currentPage)>1),x.R7$(2),x.Y8G("ngIf",!1===x.bMT(12,13,At.isAvailableForShowSearchText)))},dependencies:[i.pM,Ie,pe,i.bT,z.H,J.YN,J.me,J.BC,J.vS,i.Jj,n.h,n.D9],styles:[".filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-body-color)}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{text-decoration:none}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[X]}})}return st})();function it(st,ot){if(1&st&&x.nrm(0,"ds-search-facet-selected-option",6),2&st){const ct=ot.$implicit,Rt=x.XpG();x.Y8G("selectedValue",ct)("filterConfig",Rt.filterConfig)("inPlaceSearch",Rt.inPlaceSearch)}}function at(st,ot){if(1&st&&x.nrm(0,"ds-search-facet-option",8),2&st){const ct=ot.$implicit,Rt=x.XpG(2);x.Y8G("filterConfig",Rt.filterConfig)("filterValue",ct)("inPlaceSearch",Rt.inPlaceSearch)}}function Yt(st,ot){if(1&st&&(x.qex(0),x.j41(1,"div"),x.DNE(2,at,1,3,"ds-search-facet-option",7),x.k0s(),x.bVm()),2&st){const ct=ot.$implicit,Rt=x.XpG();x.R7$(),x.Y8G("@facetLoad",Rt.animationState),x.R7$(),x.Y8G("ngForOf",ct.page)("ngForTrackBy",Rt.trackUpdate)}}function nn(st,ot){if(1&st){const ct=x.RV6();x.j41(0,"a",9),x.bIt("click",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.showMore())}),x.EFF(1),x.nI1(2,"translate"),x.k0s()}2&st&&(x.R7$(),x.SpI(" ",x.bMT(2,1,"search.filters.filter.show-more")," "))}function je(st,ot){if(1&st){const ct=x.RV6();x.j41(0,"a",10),x.bIt("click",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.showFirstPageOnly())}),x.EFF(1),x.nI1(2,"translate"),x.k0s()}2&st&&(x.R7$(),x.SpI(" ",x.bMT(2,1,"search.filters.filter.show-less")," "))}let Re=(()=>{class st extends V{static#e=this.\u0275fac=(()=>{let ct;return function(At){return(ct||(ct=x.xGo(st)))(At||st)}})();static#t=this.\u0275cmp=x.VBU({type:st,selectors:[["ds-search-boolean-filter"]],standalone:!0,features:[x.Vt3,x.aNF],decls:11,vars:12,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"]],template:function(Rt,At){1&Rt&&(x.j41(0,"div")(1,"div",0),x.DNE(2,it,1,3,"ds-search-facet-selected-option",1),x.nI1(3,"async"),x.DNE(4,Yt,3,3,"ng-container",2),x.nI1(5,"async"),x.j41(6,"div",3),x.DNE(7,nn,3,3,"a",4),x.nI1(8,"async"),x.DNE(9,je,3,3,"a",5),x.nI1(10,"async"),x.k0s()()()),2&Rt&&(x.R7$(2),x.Y8G("ngForOf",x.bMT(3,4,At.selectedAppliedFilters$)),x.R7$(2),x.Y8G("ngForOf",x.bMT(5,6,At.facetValues$)),x.R7$(3),x.Y8G("ngIf",!0!==x.bMT(8,8,At.isLastPage$)),x.R7$(2),x.Y8G("ngIf",x.bMT(10,10,At.currentPage)>1))},dependencies:[i.pM,Ie,pe,i.bT,i.Jj,n.h,n.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[X]}})}return st})();var ne=t(33325),Ee=t(18062),ke=t(36423),dt=t(59678),Bt=t(37421),wt=t(2155);const tn=st=>({name:st});function It(st,ot){if(1&st&&x.nrm(0,"ds-search-facet-selected-option",8),2&st){const ct=ot.$implicit,Rt=x.XpG();x.Y8G("selectedValue",ct)("filterConfig",Rt.filterConfig)("inPlaceSearch",Rt.inPlaceSearch)}}function $t(st,ot){if(1&st&&x.nrm(0,"ds-search-facet-option",10),2&st){const ct=ot.$implicit,Rt=x.XpG(2);x.Y8G("filterConfig",Rt.filterConfig)("filterValue",ct)("inPlaceSearch",Rt.inPlaceSearch)}}function Zt(st,ot){if(1&st&&(x.qex(0),x.j41(1,"div"),x.DNE(2,$t,1,3,"ds-search-facet-option",9),x.k0s(),x.bVm()),2&st){const ct=ot.$implicit,Rt=x.XpG();x.R7$(),x.Y8G("@facetLoad",Rt.animationState),x.R7$(),x.Y8G("ngForOf",ct.page)("ngForTrackBy",Rt.trackUpdate)}}function mn(st,ot){if(1&st){const ct=x.RV6();x.j41(0,"a",11),x.bIt("click",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.showMore())}),x.EFF(1),x.nI1(2,"translate"),x.k0s()}2&st&&(x.R7$(),x.SpI(" ",x.bMT(2,1,"search.filters.filter.show-more")," "))}function Rn(st,ot){if(1&st){const ct=x.RV6();x.j41(0,"a",12),x.bIt("click",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.showFirstPageOnly())}),x.EFF(1),x.nI1(2,"translate"),x.k0s()}2&st&&(x.R7$(),x.SpI(" ",x.bMT(2,1,"search.filters.filter.show-less")," "))}function os(st,ot){if(1&st){const ct=x.RV6();x.j41(0,"ds-filter-input-suggestions",13),x.nI1(1,"async"),x.nI1(2,"translate"),x.nI1(3,"translate"),x.mxI("ngModelChange",function(At){x.eBV(ct);const gn=x.XpG();return x.DH7(gn.filter,At)||(gn.filter=At),x.Njj(At)}),x.bIt("submitSuggestion",function(At){x.eBV(ct);const gn=x.XpG();return x.Njj(gn.onSubmit(At))})("clickSuggestion",function(At){x.eBV(ct);const gn=x.XpG();return x.Njj(gn.onClick(At))})("findSuggestions",function(At){x.eBV(ct);const gn=x.XpG();return x.Njj(gn.findSuggestions(At))}),x.k0s()}if(2&st){const ct=x.XpG();x.Y8G("suggestions",x.bMT(1,6,ct.filterSearchResults$))("placeholder",x.bMT(2,8,"search.filters.filter."+ct.filterConfig.name+".placeholder"))("label",x.bMT(3,10,"search.filters.filter."+ct.filterConfig.name+".label"))("action",ct.currentUrl)("name",ct.filterConfig.paramName),x.R50("ngModel",ct.filter)}}function Mn(st,ot){if(1&st){const ct=x.RV6();x.j41(0,"a",14),x.bIt("click",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.showVocabularyTree())}),x.EFF(1),x.nI1(2,"translate"),x.nI1(3,"lowercase"),x.nI1(4,"translate"),x.k0s()}if(2&st){const ct=x.XpG();x.Mz_("id","show-",ct.filterConfig.name,"-tree"),x.R7$(),x.SpI(" ",x.i5U(4,7,"search.filters.filter.show-tree",x.eq3(10,tn,x.bMT(3,5,x.bMT(2,3,"search.filters.filter."+ct.filterConfig.name+".head")))),"\n")}}let xs=(()=>{class st extends V{constructor(ct,Rt,At,gn,Jn,bs,us,Is){super(ct,Rt,At,gn,Is),this.searchService=ct,this.filterService=Rt,this.rdbs=At,this.router=gn,this.modalService=Jn,this.vocabularyService=bs,this.appConfig=us,this.searchConfigService=Is}onSubmit(ct){super.onSubmit((0,Ce.mq)(ct,"query"))}ngOnInit(){super.ngOnInit();const ct=this.getVocabularyEntry();(0,u.a4)(ct)&&(this.vocabularyExists$=this.vocabularyService.searchTopEntries(ct,new ke.Q,!0,!1).pipe((0,d.p)(Rt=>Rt.hasCompleted),(0,_.s)(1),(0,y.T)(Rt=>Rt.hasSucceeded)))}showVocabularyTree(){const ct=this.modalService.open(Bt._,{size:"lg",windowClass:"treeview"});ct.componentInstance.vocabularyOptions={name:this.getVocabularyEntry(),closed:!0},ct.componentInstance.showAdd=!1,this.subs.push((0,ne.H)(ct.result).pipe((0,f.n)(Rt=>this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,Rt.value,"equals")),(0,_.s)(1)).subscribe(Rt=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:Rt})}))}getVocabularyEntry(){const ct=this.appConfig.vocabularies.filter(Rt=>Rt.filter===this.filterConfig.name);if(ct.length>0&&!0===ct[0].enabled)return ct[0].vocabulary}static#e=this.\u0275fac=function(Rt){return new(Rt||st)(x.rXU(b.S),x.rXU(I.U),x.rXU(F.o),x.rXU(G.Ix),x.rXU(wt.Bq),x.rXU(dt.g),x.rXU(Ee.vQ),x.rXU(T.EN))};static#t=this.\u0275cmp=x.VBU({type:st,selectors:[["ds-search-hierarchy-filter"]],standalone:!0,features:[x.Vt3,x.aNF],decls:15,vars:18,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions",4,"ngIf"],["href","javascript:void(0);",3,"id","click",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"],["href","javascript:void(0);",3,"click","id"]],template:function(Rt,At){1&Rt&&(x.j41(0,"div")(1,"div",0),x.DNE(2,It,1,3,"ds-search-facet-selected-option",1),x.nI1(3,"async"),x.DNE(4,Zt,3,3,"ng-container",2),x.nI1(5,"async"),x.j41(6,"div",3),x.DNE(7,mn,3,3,"a",4),x.nI1(8,"async"),x.DNE(9,Rn,3,3,"a",5),x.nI1(10,"async"),x.k0s()(),x.DNE(11,os,4,12,"ds-filter-input-suggestions",6),x.nI1(12,"async"),x.k0s(),x.DNE(13,Mn,5,12,"a",7),x.nI1(14,"async")),2&Rt&&(x.R7$(2),x.Y8G("ngForOf",x.bMT(3,6,At.selectedAppliedFilters$)),x.R7$(2),x.Y8G("ngForOf",x.bMT(5,8,At.facetValues$)),x.R7$(3),x.Y8G("ngIf",!0!==x.bMT(8,10,At.isLastPage$)),x.R7$(2),x.Y8G("ngIf",x.bMT(10,12,At.currentPage)>1),x.R7$(2),x.Y8G("ngIf",!1===x.bMT(12,14,At.isAvailableForShowSearchText)),x.R7$(2),x.Y8G("ngIf",x.bMT(14,16,At.vocabularyExists$)))},dependencies:[i.pM,Ie,pe,i.bT,z.H,J.YN,J.me,J.BC,J.vS,i.Jj,i.GH,n.h,n.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[X]}})}return st})();var rn=function(st){return st.Range="range",st.Steps="steps",st.Positions="positions",st.Count="count",st.Values="values",st}(rn||{}),Dn=function(st){return st[st.None=-1]="None",st[st.NoValue=0]="NoValue",st[st.LargeValue=1]="LargeValue",st[st.SmallValue=2]="SmallValue",st}(Dn||{});function zt(st){return"object"==typeof st&&"function"==typeof st.to}function gt(st){st.parentElement.removeChild(st)}function Ke(st){return null!=st}function Ze(st){st.preventDefault()}function Qe(st){return"number"==typeof st&&!isNaN(st)&&isFinite(st)}function Ot(st,ot,ct){ct>0&&(Pn(st,ot),setTimeout(function(){ps(st,ot)},ct))}function Dt(st){return Math.max(Math.min(st,100),0)}function Wt(st){return Array.isArray(st)?st:[st]}function bn(st){var ot=(st=String(st)).split(".");return ot.length>1?ot[1].length:0}function Pn(st,ot){st.classList&&!/\s/.test(ot)?st.classList.add(ot):st.className+=" "+ot}function ps(st,ot){st.classList&&!/\s/.test(ot)?st.classList.remove(ot):st.className=st.className.replace(new RegExp("(^|\\b)"+ot.split(" ").join("|")+"(\\b|$)","gi")," ")}function Fs(st){var ot=void 0!==window.pageXOffset,ct="CSS1Compat"===(st.compatMode||"");return{x:ot?window.pageXOffset:ct?st.documentElement.scrollLeft:st.body.scrollLeft,y:ot?window.pageYOffset:ct?st.documentElement.scrollTop:st.body.scrollTop}}function jt(st,ot){return 100/(ot-st)}function Ln(st,ot,ct){return 100*ot/(st[ct+1]-st[ct])}function In(st,ot){for(var ct=1;st>=ot[ct];)ct+=1;return ct}var ns=function(){function st(ot,ct,Rt){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[Rt||!1],this.xNumSteps=[!1],this.snap=ct;var At,gn=[];for(Object.keys(ot).forEach(function(Jn){gn.push([Wt(ot[Jn]),Jn])}),gn.sort(function(Jn,bs){return Jn[0][0]-bs[0][0]}),At=0;At<gn.length;At++)this.handleEntryPoint(gn[At][1],gn[At][0]);for(this.xNumSteps=this.xSteps.slice(0),At=0;At<this.xNumSteps.length;At++)this.handleStepPoint(At,this.xNumSteps[At])}return st.prototype.getDistance=function(ot){for(var ct=[],Rt=0;Rt<this.xNumSteps.length-1;Rt++)ct[Rt]=Ln(this.xVal,ot,Rt);return ct},st.prototype.getAbsoluteDistance=function(ot,ct,Rt){var At=0;if(ot<this.xPct[this.xPct.length-1])for(;ot>this.xPct[At+1];)At++;else ot===this.xPct[this.xPct.length-1]&&(At=this.xPct.length-2);!Rt&&ot===this.xPct[At+1]&&At++,null===ct&&(ct=[]);var gn,Jn=1,bs=ct[At],us=0,Is=0,di=0,Ai=0;for(gn=Rt?(ot-this.xPct[At])/(this.xPct[At+1]-this.xPct[At]):(this.xPct[At+1]-ot)/(this.xPct[At+1]-this.xPct[At]);bs>0;)us=this.xPct[At+1+Ai]-this.xPct[At+Ai],ct[At+Ai]*Jn+100-100*gn>100?(Is=us*gn,Jn=(bs-100*gn)/ct[At+Ai],gn=1):(Is=ct[At+Ai]*us/100*Jn,Jn=0),Rt?(di-=Is,this.xPct.length+Ai>=1&&Ai--):(di+=Is,this.xPct.length-Ai>=1&&Ai++),bs=ct[At+Ai]*Jn;return ot+di},st.prototype.toStepping=function(ot){return function yn(st,ot,ct){if(ct>=st.slice(-1)[0])return 100;var Rt=In(ct,st),Jn=ot[Rt-1],bs=ot[Rt];return Jn+function ls(st,ot){return Ln(st,st[0]<0?ot+Math.abs(st[0]):ot-st[0],0)}([st[Rt-1],st[Rt]],ct)/jt(Jn,bs)}(this.xVal,this.xPct,ot)},st.prototype.fromStepping=function(ot){return function hn(st,ot,ct){if(ct>=100)return st.slice(-1)[0];var Rt=In(ct,ot),Jn=ot[Rt-1];return function As(st,ot){return ot*(st[1]-st[0])/100+st[0]}([st[Rt-1],st[Rt]],(ct-Jn)*jt(Jn,ot[Rt]))}(this.xVal,this.xPct,ot)},st.prototype.getStep=function(ot){return function Un(st,ot,ct,Rt){if(100===Rt)return Rt;var At=In(Rt,st),gn=st[At-1],Jn=st[At];return ct?Rt-gn>(Jn-gn)/2?Jn:gn:ot[At-1]?st[At-1]+function We(st,ot){return Math.round(st/ot)*ot}(Rt-st[At-1],ot[At-1]):Rt}(this.xPct,this.xSteps,this.snap,ot)},st.prototype.getDefaultStep=function(ot,ct,Rt){var At=In(ot,this.xPct);return(100===ot||ct&&ot===this.xPct[At-1])&&(At=Math.max(At-1,1)),(this.xVal[At]-this.xVal[At-1])/Rt},st.prototype.getNearbySteps=function(ot){var ct=In(ot,this.xPct);return{stepBefore:{startValue:this.xVal[ct-2],step:this.xNumSteps[ct-2],highestStep:this.xHighestCompleteStep[ct-2]},thisStep:{startValue:this.xVal[ct-1],step:this.xNumSteps[ct-1],highestStep:this.xHighestCompleteStep[ct-1]},stepAfter:{startValue:this.xVal[ct],step:this.xNumSteps[ct],highestStep:this.xHighestCompleteStep[ct]}}},st.prototype.countStepDecimals=function(){var ot=this.xNumSteps.map(bn);return Math.max.apply(null,ot)},st.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},st.prototype.convert=function(ot){return this.getStep(this.toStepping(ot))},st.prototype.handleEntryPoint=function(ot,ct){var Rt;if(!Qe(Rt="min"===ot?0:"max"===ot?100:parseFloat(ot))||!Qe(ct[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(Rt),this.xVal.push(ct[0]);var At=Number(ct[1]);Rt?this.xSteps.push(!isNaN(At)&&At):isNaN(At)||(this.xSteps[0]=At),this.xHighestCompleteStep.push(0)},st.prototype.handleStepPoint=function(ot,ct){if(ct){if(this.xVal[ot]===this.xVal[ot+1])return void(this.xSteps[ot]=this.xHighestCompleteStep[ot]=this.xVal[ot]);this.xSteps[ot]=Ln([this.xVal[ot],this.xVal[ot+1]],ct,0)/jt(this.xPct[ot],this.xPct[ot+1]);var At=Math.ceil(Number(((this.xVal[ot+1]-this.xVal[ot])/this.xNumSteps[ot]).toFixed(3))-1);this.xHighestCompleteStep[ot]=this.xVal[ot]+this.xNumSteps[ot]*At}},st}(),fs={to:function(st){return void 0===st?"":st.toFixed(2)},from:Number},Zn={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},_s={tooltips:".__tooltips",aria:".__aria"};function Ds(st,ot){if(!Qe(ot))throw new Error("noUiSlider: 'step' is not numeric.");st.singleStep=ot}function ft(st,ot){if(!Qe(ot))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");st.keyboardPageMultiplier=ot}function Ye(st,ot){if(!Qe(ot))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");st.keyboardMultiplier=ot}function Et(st,ot){if(!Qe(ot))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");st.keyboardDefaultStep=ot}function ut(st,ot){if("object"!=typeof ot||Array.isArray(ot))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===ot.min||void 0===ot.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");st.spectrum=new ns(ot,st.snap||!1,st.singleStep)}function mt(st,ot){if(ot=Wt(ot),!Array.isArray(ot)||!ot.length)throw new Error("noUiSlider: 'start' option is incorrect.");st.handles=ot.length,st.start=ot}function xt(st,ot){if("boolean"!=typeof ot)throw new Error("noUiSlider: 'snap' option must be a boolean.");st.snap=ot}function sn(st,ot){if("boolean"!=typeof ot)throw new Error("noUiSlider: 'animate' option must be a boolean.");st.animate=ot}function jn(st,ot){if("number"!=typeof ot)throw new Error("noUiSlider: 'animationDuration' option must be a number.");st.animationDuration=ot}function An(st,ot){var Rt,ct=[!1];if("lower"===ot?ot=[!0,!1]:"upper"===ot&&(ot=[!1,!0]),!0===ot||!1===ot){for(Rt=1;Rt<st.handles;Rt++)ct.push(ot);ct.push(!1)}else{if(!Array.isArray(ot)||!ot.length||ot.length!==st.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");ct=ot}st.connect=ct}function ds(st,ot){switch(ot){case"horizontal":st.ort=0;break;case"vertical":st.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Ks(st,ot){if(!Qe(ot))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==ot&&(st.margin=st.spectrum.getDistance(ot))}function Cs(st,ot){if(!Qe(ot))throw new Error("noUiSlider: 'limit' option must be numeric.");if(st.limit=st.spectrum.getDistance(ot),!st.limit||st.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function yi(st,ot){var ct;if(!Qe(ot)&&!Array.isArray(ot))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(ot)&&2!==ot.length&&!Qe(ot[0])&&!Qe(ot[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==ot){for(Array.isArray(ot)||(ot=[ot,ot]),st.padding=[st.spectrum.getDistance(ot[0]),st.spectrum.getDistance(ot[1])],ct=0;ct<st.spectrum.xNumSteps.length-1;ct++)if(st.padding[0][ct]<0||st.padding[1][ct]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");if((ot[0]+ot[1])/(st.spectrum.xVal[st.spectrum.xVal.length-1]-st.spectrum.xVal[0])>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Yi(st,ot){switch(ot){case"ltr":st.dir=0;break;case"rtl":st.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Mi(st,ot){if("string"!=typeof ot)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var ct=ot.indexOf("tap")>=0,Rt=ot.indexOf("drag")>=0,At=ot.indexOf("fixed")>=0,gn=ot.indexOf("snap")>=0,Jn=ot.indexOf("hover")>=0,bs=ot.indexOf("unconstrained")>=0,us=ot.indexOf("drag-all")>=0,Is=ot.indexOf("smooth-steps")>=0;if(At){if(2!==st.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Ks(st,st.start[1]-st.start[0])}if(bs&&(st.margin||st.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");st.events={tap:ct||gn,drag:Rt,dragAll:us,smoothSteps:Is,fixed:At,snap:gn,hover:Jn,unconstrained:bs}}function Ss(st,ot){if(!1!==ot)if(!0===ot||zt(ot)){st.tooltips=[];for(var ct=0;ct<st.handles;ct++)st.tooltips.push(ot)}else{if((ot=Wt(ot)).length!==st.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");ot.forEach(function(Rt){if("boolean"!=typeof Rt&&!zt(Rt))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),st.tooltips=ot}}function Hs(st,ot){if(ot.length!==st.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");st.handleAttributes=ot}function gi(st,ot){if(!zt(ot))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");st.ariaFormat=ot}function Xi(st,ot){if(!function Lt(st){return zt(st)&&"function"==typeof st.from}(ot))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");st.format=ot}function sr(st,ot){if("boolean"!=typeof ot)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");st.keyboardSupport=ot}function Ji(st,ot){st.documentElement=ot}function Hr(st,ot){if("string"!=typeof ot&&!1!==ot)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");st.cssPrefix=ot}function cr(st,ot){if("object"!=typeof ot)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof st.cssPrefix?(st.cssClasses={},Object.keys(ot).forEach(function(ct){st.cssClasses[ct]=st.cssPrefix+ot[ct]})):st.cssClasses=ot}function gs(st){var ot={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:fs,format:fs},ct={step:{r:!1,t:Ds},keyboardPageMultiplier:{r:!1,t:ft},keyboardMultiplier:{r:!1,t:Ye},keyboardDefaultStep:{r:!1,t:Et},start:{r:!0,t:mt},connect:{r:!0,t:An},direction:{r:!0,t:Yi},snap:{r:!1,t:xt},animate:{r:!1,t:sn},animationDuration:{r:!1,t:jn},range:{r:!0,t:ut},orientation:{r:!1,t:ds},margin:{r:!1,t:Ks},limit:{r:!1,t:Cs},padding:{r:!1,t:yi},behaviour:{r:!0,t:Mi},ariaFormat:{r:!1,t:gi},format:{r:!1,t:Xi},tooltips:{r:!1,t:Ss},keyboardSupport:{r:!0,t:sr},documentElement:{r:!1,t:Ji},cssPrefix:{r:!0,t:Hr},cssClasses:{r:!0,t:cr},handleAttributes:{r:!1,t:Hs}},Rt={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Zn,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};st.format&&!st.ariaFormat&&(st.ariaFormat=st.format),Object.keys(ct).forEach(function(us){if(Ke(st[us])||void 0!==Rt[us])ct[us].t(ot,Ke(st[us])?st[us]:Rt[us]);else if(ct[us].r)throw new Error("noUiSlider: '"+us+"' is required.")}),ot.pips=st.pips;var At=document.createElement("div");return ot.transformRule=void 0!==At.style.transform?"transform":void 0!==At.style.msTransform?"msTransform":"webkitTransform",ot.style=[["left","top"],["right","bottom"]][ot.dir][ot.ort],ot}function Zs(st,ot,ct){var bs,us,Is,di,Ai,Rt=function vt(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}(),gn=function lt(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}()&&function ht(){var st=!1;try{var ot=Object.defineProperty({},"passive",{get:function(){st=!0}});window.addEventListener("test",null,ot)}catch{}return st}(),Jn=st,Gs=ot.spectrum,Yr=[],$s=[],Gi=[],Cr=0,qr={},ho=st.ownerDocument,$i=ot.documentElement||ho.documentElement,Js=ho.body,mr="rtl"===ho.dir||1===ot.ort?0:100;function br(Nt,Jt){var ln=ho.createElement("div");return Jt&&Pn(ln,Jt),Nt.appendChild(ln),ln}function gr(Nt,Jt){var ln=br(Nt,ot.cssClasses.origin),Sn=br(ln,ot.cssClasses.handle);if(br(Sn,ot.cssClasses.touchArea),Sn.setAttribute("data-handle",String(Jt)),ot.keyboardSupport&&(Sn.setAttribute("tabindex","0"),Sn.addEventListener("keydown",function(Ht){return function fa(Nt,Jt){if(pa()||Ge(Jt))return!1;var ln=["Left","Right"],Sn=["Down","Up"],qn=["PageDown","PageUp"],Ht=["Home","End"];ot.dir&&!ot.ort?ln.reverse():ot.ort&&!ot.dir&&(Sn.reverse(),qn.reverse());var Zi,ts=Nt.key.replace("Arrow",""),Gn=ts===qn[0],ci=ts===qn[1],bi=ts===Sn[0]||ts===ln[0]||Gn,zs=ts===Sn[1]||ts===ln[1]||ci,Di=ts===Ht[1];if(!(bi||zs||ts===Ht[0]||Di))return!0;if(Nt.preventDefault(),zs||bi){var Ki=bi?0:1,Or=aa(Jt)[Ki];if(null===Or)return!1;!1===Or&&(Or=Gs.getDefaultStep($s[Jt],bi,ot.keyboardDefaultStep)),Or*=ci||Gn?ot.keyboardPageMultiplier:ot.keyboardMultiplier,Or=Math.max(Or,1e-7),Zi=Yr[Jt]+(Or*=bi?-1:1)}else Zi=Di?ot.spectrum.xVal[ot.spectrum.xVal.length-1]:ot.spectrum.xVal[0];return po(Jt,Gs.toStepping(Zi),!0,!0),vs("slide",Jt),vs("update",Jt),vs("change",Jt),vs("set",Jt),!1}(Ht,Jt)})),void 0!==ot.handleAttributes){var qn=ot.handleAttributes[Jt];Object.keys(qn).forEach(function(Ht){Sn.setAttribute(Ht,qn[Ht])})}return Sn.setAttribute("role","slider"),Sn.setAttribute("aria-orientation",ot.ort?"vertical":"horizontal"),0===Jt?Pn(Sn,ot.cssClasses.handleLower):Jt===ot.handles-1&&Pn(Sn,ot.cssClasses.handleUpper),ln.handle=Sn,ln}function Dr(Nt,Jt){return!!Jt&&br(Nt,ot.cssClasses.connect)}function kr(Nt,Jt){return!(!ot.tooltips||!ot.tooltips[Jt])&&br(Nt.firstChild,ot.cssClasses.tooltip)}function pa(){return Jn.hasAttribute("disabled")}function Ge(Nt){return us[Nt].hasAttribute("disabled")}function $e(){Ai&&(Po("update"+_s.tooltips),Ai.forEach(function(Nt){Nt&&gt(Nt)}),Ai=null)}function me(){$e(),Ai=us.map(kr),Uo("update"+_s.tooltips,function(Nt,Jt,ln){if(Ai&&ot.tooltips&&!1!==Ai[Jt]){var Sn=Nt[Jt];!0!==ot.tooltips[Jt]&&(Sn=ot.tooltips[Jt].to(ln[Jt])),Ai[Jt].innerHTML=Sn}})}function pn(Nt,Jt){return Nt.map(function(ln){return Gs.fromStepping(Jt?Gs.getStep(ln):ln)})}function ys(){di&&(gt(di),di=null)}function ji(Nt){ys();var Jt=function Hn(Nt){function Jt(bi,zs){return Number((bi+zs).toFixed(7))}var ln=function kt(Nt){if(Nt.mode===rn.Range||Nt.mode===rn.Steps)return Gs.xVal;if(Nt.mode===rn.Count){if(Nt.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var Jt=Nt.values-1,ln=100/Jt,Sn=[];Jt--;)Sn[Jt]=Jt*ln;return Sn.push(100),pn(Sn,Nt.stepped)}return Nt.mode===rn.Positions?pn(Nt.values,Nt.stepped):Nt.mode===rn.Values?Nt.stepped?Nt.values.map(function(qn){return Gs.fromStepping(Gs.getStep(Gs.toStepping(qn)))}):Nt.values:[]}(Nt),Sn={},qn=Gs.xVal[0],Ht=Gs.xVal[Gs.xVal.length-1],ts=!1,Gn=!1,ci=0;return ln=function He(st){return st.filter(function(ot){return!this[ot]&&(this[ot]=!0)},{})}(ln.slice().sort(function(bi,zs){return bi-zs})),ln[0]!==qn&&(ln.unshift(qn),ts=!0),ln[ln.length-1]!==Ht&&(ln.push(Ht),Gn=!0),ln.forEach(function(bi,zs){var Fi,Di,Zi,Or,Ka,Mr,Jo,_e,nt,Ki=bi,Kn=ln[zs+1],Pe=Nt.mode===rn.Steps;for(Pe&&(Fi=Gs.xNumSteps[zs]),Fi||(Fi=Kn-Ki),void 0===Kn&&(Kn=Ki),Fi=Math.max(Fi,1e-7),Di=Ki;Di<=Kn;Di=Jt(Di,Fi)){for(nt=(Ka=(Or=Gs.toStepping(Di))-ci)/(_e=Math.round(Ka/(Nt.density||1))),Zi=1;Zi<=_e;Zi+=1)Sn[(Mr=ci+Zi*nt).toFixed(5)]=[Gs.fromStepping(Mr),0];Jo=ln.indexOf(Di)>-1?Dn.LargeValue:Pe?Dn.SmallValue:Dn.NoValue,!zs&&ts&&Di!==Kn&&(Jo=0),Di===Kn&&Gn||(Sn[Or.toFixed(5)]=[Di,Jo]),ci=Or}}),Sn}(Nt);return di=Jn.appendChild(function ss(Nt,Jt,ln){var Sn,qn,Ht=ho.createElement("div"),ts=((Sn={})[Dn.None]="",Sn[Dn.NoValue]=ot.cssClasses.valueNormal,Sn[Dn.LargeValue]=ot.cssClasses.valueLarge,Sn[Dn.SmallValue]=ot.cssClasses.valueSub,Sn),Gn=((qn={})[Dn.None]="",qn[Dn.NoValue]=ot.cssClasses.markerNormal,qn[Dn.LargeValue]=ot.cssClasses.markerLarge,qn[Dn.SmallValue]=ot.cssClasses.markerSub,qn),ci=[ot.cssClasses.valueHorizontal,ot.cssClasses.valueVertical],bi=[ot.cssClasses.markerHorizontal,ot.cssClasses.markerVertical];function zs(Di,Zi){var Ki=Zi===ot.cssClasses.value;return Zi+" "+(Ki?ci:bi)[ot.ort]+" "+(Ki?ts:Gn)[Di]}return Pn(Ht,ot.cssClasses.pips),Pn(Ht,0===ot.ort?ot.cssClasses.pipsHorizontal:ot.cssClasses.pipsVertical),Object.keys(Nt).forEach(function(Di){!function Fi(Di,Zi,Ki){if((Ki=Jt?Jt(Zi,Ki):Ki)!==Dn.None){var Kn=br(Ht,!1);Kn.className=zs(Ki,ot.cssClasses.marker),Kn.style[ot.style]=Di+"%",Ki>Dn.NoValue&&((Kn=br(Ht,!1)).className=zs(Ki,ot.cssClasses.value),Kn.setAttribute("data-value",String(Zi)),Kn.style[ot.style]=Di+"%",Kn.innerHTML=String(ln.to(Zi)))}}(Di,Nt[Di][0],Nt[Di][1])}),Ht}(Jt,Nt.filter,Nt.format||{to:function(qn){return String(Math.round(qn))}}))}function Ni(){var Nt=bs.getBoundingClientRect(),Jt="offset"+["Width","Height"][ot.ort];return 0===ot.ort?Nt.width||bs[Jt]:Nt.height||bs[Jt]}function or(Nt,Jt,ln,Sn){var qn=function(ts){var Gn=function Ci(Nt,Jt,ln){var Sn=0===Nt.type.indexOf("touch"),qn=0===Nt.type.indexOf("mouse"),Ht=0===Nt.type.indexOf("pointer"),ts=0,Gn=0;if(0===Nt.type.indexOf("MSPointer")&&(Ht=!0),"mousedown"===Nt.type&&!Nt.buttons&&!Nt.touches)return!1;if(Sn){var ci=function(Fi){var Di=Fi.target;return Di===ln||ln.contains(Di)||Nt.composed&&Nt.composedPath().shift()===ln};if("touchstart"===Nt.type){var bi=Array.prototype.filter.call(Nt.touches,ci);if(bi.length>1)return!1;ts=bi[0].pageX,Gn=bi[0].pageY}else{var zs=Array.prototype.find.call(Nt.changedTouches,ci);if(!zs)return!1;ts=zs.pageX,Gn=zs.pageY}}return Jt=Jt||Fs(ho),(qn||Ht)&&(ts=Nt.clientX+Jt.x,Gn=Nt.clientY+Jt.y),Nt.pageOffset=Jt,Nt.points=[ts,Gn],Nt.cursor=qn||Ht,Nt}(ts,Sn.pageOffset,Sn.target||Jt);if(!Gn||pa()&&!Sn.doNotReject||function ks(st,ot){return st.classList?st.classList.contains(ot):new RegExp("\\b"+ot+"\\b").test(st.className)}(Jn,ot.cssClasses.tap)&&!Sn.doNotReject||Nt===Rt.start&&void 0!==Gn.buttons&&Gn.buttons>1||Sn.hover&&Gn.buttons)return!1;gn||Gn.preventDefault(),Gn.calcPoint=Gn.points[ot.ort],ln(Gn,Sn)},Ht=[];return Nt.split(" ").forEach(function(ts){Jt.addEventListener(ts,qn,!!gn&&{passive:!0}),Ht.push([ts,qn])}),Ht}function ia(Nt){var Jt=Nt-function Ct(st,ot){var ct=st.getBoundingClientRect(),Rt=st.ownerDocument,At=Rt.documentElement,gn=Fs(Rt);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(gn.x=0),ot?ct.top+gn.y-At.clientTop:ct.left+gn.x-At.clientLeft}(bs,ot.ort),ln=100*Jt/Ni();return ln=Dt(ln),ot.dir?100-ln:ln}function Pa(Nt,Jt){"mouseout"===Nt.type&&"HTML"===Nt.target.nodeName&&null===Nt.relatedTarget&&Ga(Nt,Jt)}function bo(Nt,Jt){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===Nt.buttons&&0!==Jt.buttonsProperty)return Ga(Nt,Jt);var ln=(ot.dir?-1:1)*(Nt.calcPoint-Jt.startCalcPoint);jo(ln>0,100*ln/Jt.baseSize,Jt.locations,Jt.handleNumbers,Jt.connect)}function Ga(Nt,Jt){Jt.handle&&(ps(Jt.handle,ot.cssClasses.active),Cr-=1),Jt.listeners.forEach(function(ln){$i.removeEventListener(ln[0],ln[1])}),0===Cr&&(ps(Jn,ot.cssClasses.drag),oa(),Nt.cursor&&(Js.style.cursor="",Js.removeEventListener("selectstart",Ze))),ot.events.smoothSteps&&(Jt.handleNumbers.forEach(function(ln){po(ln,$s[ln],!0,!0,!1,!1)}),Jt.handleNumbers.forEach(function(ln){vs("update",ln)})),Jt.handleNumbers.forEach(function(ln){vs("change",ln),vs("set",ln),vs("end",ln)})}function ul(Nt,Jt){if(!Jt.handleNumbers.some(Ge)){var ln;1===Jt.handleNumbers.length&&(Cr+=1,Pn(ln=us[Jt.handleNumbers[0]].children[0],ot.cssClasses.active)),Nt.stopPropagation();var qn=[],Ht=or(Rt.move,$i,bo,{target:Nt.target,handle:ln,connect:Jt.connect,listeners:qn,startCalcPoint:Nt.calcPoint,baseSize:Ni(),pageOffset:Nt.pageOffset,handleNumbers:Jt.handleNumbers,buttonsProperty:Nt.buttons,locations:$s.slice()}),ts=or(Rt.end,$i,Ga,{target:Nt.target,handle:ln,listeners:qn,doNotReject:!0,handleNumbers:Jt.handleNumbers}),Gn=or("mouseout",$i,Pa,{target:Nt.target,handle:ln,listeners:qn,doNotReject:!0,handleNumbers:Jt.handleNumbers});qn.push.apply(qn,Ht.concat(ts,Gn)),Nt.cursor&&(Js.style.cursor=getComputedStyle(Nt.target).cursor,us.length>1&&Pn(Jn,ot.cssClasses.drag),Js.addEventListener("selectstart",Ze,!1)),Jt.handleNumbers.forEach(function(ci){vs("start",ci)})}}function Bo(Nt){Nt.stopPropagation();var Jt=ia(Nt.calcPoint),ln=function Fo(Nt){var Jt=100,ln=!1;return us.forEach(function(Sn,qn){if(!Ge(qn)){var Ht=$s[qn],ts=Math.abs(Ht-Nt);(ts<Jt||ts<=Jt&&Nt>Ht||100===ts&&100===Jt)&&(ln=qn,Jt=ts)}}),ln}(Jt);!1!==ln&&(ot.events.snap||Ot(Jn,ot.cssClasses.tap,ot.animationDuration),po(ln,Jt,!0,!0),oa(),vs("slide",ln,!0),vs("update",ln,!0),ot.events.snap?ul(Nt,{handleNumbers:[ln]}):(vs("change",ln,!0),vs("set",ln,!0)))}function Ra(Nt){var Jt=ia(Nt.calcPoint),ln=Gs.getStep(Jt),Sn=Gs.fromStepping(ln);Object.keys(qr).forEach(function(qn){"hover"===qn.split(".")[0]&&qr[qn].forEach(function(Ht){Ht.call(Xo,Sn)})})}function Uo(Nt,Jt){qr[Nt]=qr[Nt]||[],qr[Nt].push(Jt),"update"===Nt.split(".")[0]&&us.forEach(function(ln,Sn){vs("update",Sn)})}function Po(Nt){var Jt=Nt&&Nt.split(".")[0],ln=Jt?Nt.substring(Jt.length):Nt;Object.keys(qr).forEach(function(Sn){var qn=Sn.split(".")[0],Ht=Sn.substring(qn.length);Jt&&Jt!==qn||ln&&ln!==Ht||function Aa(Nt){return Nt===_s.aria||Nt===_s.tooltips}(Ht)&&ln!==Ht||delete qr[Sn]})}function vs(Nt,Jt,ln){Object.keys(qr).forEach(function(Sn){var qn=Sn.split(".")[0];Nt===qn&&qr[Sn].forEach(function(Ht){Ht.call(Xo,Yr.map(ot.format.to),Jt,Yr.slice(),ln||!1,$s.slice(),Xo)})})}function Wi(Nt,Jt,ln,Sn,qn,Ht,ts){var Gn;return us.length>1&&!ot.events.unconstrained&&(Sn&&Jt>0&&(Gn=Gs.getAbsoluteDistance(Nt[Jt-1],ot.margin,!1),ln=Math.max(ln,Gn)),qn&&Jt<us.length-1&&(Gn=Gs.getAbsoluteDistance(Nt[Jt+1],ot.margin,!0),ln=Math.min(ln,Gn))),us.length>1&&ot.limit&&(Sn&&Jt>0&&(Gn=Gs.getAbsoluteDistance(Nt[Jt-1],ot.limit,!1),ln=Math.min(ln,Gn)),qn&&Jt<us.length-1&&(Gn=Gs.getAbsoluteDistance(Nt[Jt+1],ot.limit,!0),ln=Math.max(ln,Gn))),ot.padding&&(0===Jt&&(Gn=Gs.getAbsoluteDistance(0,ot.padding[0],!1),ln=Math.max(ln,Gn)),Jt===us.length-1&&(Gn=Gs.getAbsoluteDistance(100,ot.padding[1],!0),ln=Math.min(ln,Gn))),ts||(ln=Gs.getStep(ln)),!((ln=Dt(ln))===Nt[Jt]&&!Ht)&&ln}function Qi(Nt,Jt){var ln=ot.ort;return(ln?Jt:Nt)+", "+(ln?Nt:Jt)}function jo(Nt,Jt,ln,Sn,qn){var Ht=ln.slice(),ts=Sn[0],Gn=ot.events.smoothSteps,ci=[!Nt,Nt],bi=[Nt,!Nt];Sn=Sn.slice(),Nt&&Sn.reverse(),Sn.length>1?Sn.forEach(function(Fi,Di){var Zi=Wi(Ht,Fi,Ht[Fi]+Jt,ci[Di],bi[Di],!1,Gn);!1===Zi?Jt=0:(Jt=Zi-Ht[Fi],Ht[Fi]=Zi)}):ci=bi=[!0];var zs=!1;Sn.forEach(function(Fi,Di){zs=po(Fi,ln[Fi]+Jt,ci[Di],bi[Di],!1,Gn)||zs}),zs&&(Sn.forEach(function(Fi){vs("update",Fi),vs("slide",Fi)}),null!=qn&&vs("drag",ts))}function Ts(Nt,Jt){return ot.dir?100-Nt-Jt:Nt}function oa(){Gi.forEach(function(Nt){us[Nt].style.zIndex=String(3+(us.length+($s[Nt]>50?-1:1)*Nt))})}function po(Nt,Jt,ln,Sn,qn,Ht){return qn||(Jt=Wi($s,Nt,Jt,ln,Sn,!1,Ht)),!1!==Jt&&(function $a(Nt,Jt){$s[Nt]=Jt,Yr[Nt]=Gs.fromStepping(Jt);var Sn="translate("+Qi(Ts(Jt,0)-mr+"%","0")+")";us[Nt].style[ot.transformRule]=Sn,Al(Nt),Al(Nt+1)}(Nt,Jt),!0)}function Al(Nt){if(Is[Nt]){var Jt=0,ln=100;0!==Nt&&(Jt=$s[Nt-1]),Nt!==Is.length-1&&(ln=$s[Nt]);var Sn=ln-Jt,qn="translate("+Qi(Ts(Jt,Sn)+"%","0")+")",Ht="scale("+Qi(Sn/100,"1")+")";Is[Nt].style[ot.transformRule]=qn+" "+Ht}}function Wa(Nt,Jt){return null===Nt||!1===Nt||void 0===Nt||("number"==typeof Nt&&(Nt=String(Nt)),!1!==(Nt=ot.format.from(Nt))&&(Nt=Gs.toStepping(Nt)),!1===Nt||isNaN(Nt))?$s[Jt]:Nt}function Ro(Nt,Jt,ln){var Sn=Wt(Nt),qn=void 0===$s[0];Jt=void 0===Jt||Jt,ot.animate&&!qn&&Ot(Jn,ot.cssClasses.tap,ot.animationDuration),Gi.forEach(function(Gn){po(Gn,Wa(Sn[Gn],Gn),!0,!1,ln)});var Ht=1===Gi.length?0:1;if(qn&&Gs.hasNoSize()&&(ln=!0,$s[0]=0,Gi.length>1)){var ts=100/(Gi.length-1);Gi.forEach(function(Gn){$s[Gn]=Gn*ts})}for(;Ht<Gi.length;++Ht)Gi.forEach(function(Gn){po(Gn,$s[Gn],!0,!0,ln)});oa(),Gi.forEach(function(Gn){vs("update",Gn),null!==Sn[Gn]&&Jt&&vs("set",Gn)})}function eo(Nt){if(void 0===Nt&&(Nt=!1),Nt)return 1===Yr.length?Yr[0]:Yr.slice(0);var Jt=Yr.map(ot.format.to);return 1===Jt.length?Jt[0]:Jt}function aa(Nt){var Jt=$s[Nt],ln=Gs.getNearbySteps(Jt),Sn=Yr[Nt],qn=ln.thisStep.step,Ht=null;if(ot.snap)return[Sn-ln.stepBefore.startValue||null,ln.stepAfter.startValue-Sn||null];!1!==qn&&Sn+qn>ln.stepAfter.startValue&&(qn=ln.stepAfter.startValue-Sn),Ht=Sn>ln.thisStep.startValue?ln.thisStep.step:!1!==ln.stepBefore.step&&Sn-ln.stepBefore.highestStep,100===Jt?qn=null:0===Jt&&(Ht=null);var ts=Gs.countStepDecimals();return null!==qn&&!1!==qn&&(qn=Number(qn.toFixed(ts))),null!==Ht&&!1!==Ht&&(Ht=Number(Ht.toFixed(ts))),[Ht,qn]}!function pl(){bs=function Xr(Nt){return Pn(Nt,ot.cssClasses.target),Pn(Nt,0===ot.dir?ot.cssClasses.ltr:ot.cssClasses.rtl),Pn(Nt,0===ot.ort?ot.cssClasses.horizontal:ot.cssClasses.vertical),Pn(Nt,"rtl"===getComputedStyle(Nt).direction?ot.cssClasses.textDirectionRtl:ot.cssClasses.textDirectionLtr),br(Nt,ot.cssClasses.base)}(Jn),function Yo(Nt,Jt){var ln=br(Jt,ot.cssClasses.connects);us=[],(Is=[]).push(Dr(ln,Nt[0]));for(var Sn=0;Sn<ot.handles;Sn++)us.push(gr(Jt,Sn)),Gi[Sn]=Sn,Is.push(Dr(ln,Nt[Sn+1]))}(ot.connect,bs),function ra(Nt){Nt.fixed||us.forEach(function(Jt,ln){or(Rt.start,Jt.children[0],ul,{handleNumbers:[ln]})}),Nt.tap&&or(Rt.start,bs,Bo,{}),Nt.hover&&or(Rt.move,bs,Ra,{hover:!0}),Nt.drag&&Is.forEach(function(Jt,ln){if(!1!==Jt&&0!==ln&&ln!==Is.length-1){var Sn=us[ln-1],qn=us[ln],Ht=[Jt],ts=[Sn,qn],Gn=[ln-1,ln];Pn(Jt,ot.cssClasses.draggable),Nt.fixed&&(Ht.push(Sn.children[0]),Ht.push(qn.children[0])),Nt.dragAll&&(ts=us,Gn=Gi),Ht.forEach(function(ci){or(Rt.start,ci,ul,{handles:ts,handleNumbers:Gn,connect:Jt})})}})}(ot.events),Ro(ot.start),ot.pips&&ji(ot.pips),ot.tooltips&&me(),function bt(){Po("update"+_s.aria),Uo("update"+_s.aria,function(Nt,Jt,ln,Sn,qn){Gi.forEach(function(Ht){var ts=us[Ht],Gn=Wi($s,Ht,0,!0,!0,!0),ci=Wi($s,Ht,100,!0,!0,!0),bi=qn[Ht],zs=String(ot.ariaFormat.to(ln[Ht]));Gn=Gs.fromStepping(Gn).toFixed(1),ci=Gs.fromStepping(ci).toFixed(1),bi=Gs.fromStepping(bi).toFixed(1),ts.children[0].setAttribute("aria-valuemin",Gn),ts.children[0].setAttribute("aria-valuemax",ci),ts.children[0].setAttribute("aria-valuenow",bi),ts.children[0].setAttribute("aria-valuetext",zs)})})}()}();var Xo={destroy:function La(){for(Po(_s.aria),Po(_s.tooltips),Object.keys(ot.cssClasses).forEach(function(Nt){ps(Jn,ot.cssClasses[Nt])});Jn.firstChild;)Jn.removeChild(Jn.firstChild);delete Jn.noUiSlider},steps:function Rs(){return Gi.map(aa)},on:Uo,off:Po,get:eo,set:Ro,setHandle:function Lr(Nt,Jt,ln,Sn){if(!((Nt=Number(Nt))>=0&&Nt<Gi.length))throw new Error("noUiSlider: invalid handle number, got: "+Nt);po(Nt,Wa(Jt,Nt),!0,!0,Sn),vs("update",Nt),ln&&vs("set",Nt)},reset:function wa(Nt){Ro(ot.start,Nt)},disable:function Xe(Nt){null!=Nt?(us[Nt].setAttribute("disabled",""),us[Nt].handle.removeAttribute("tabindex")):(Jn.setAttribute("disabled",""),us.forEach(function(Jt){Jt.handle.removeAttribute("tabindex")}))},enable:function se(Nt){null!=Nt?(us[Nt].removeAttribute("disabled"),us[Nt].handle.setAttribute("tabindex","0")):(Jn.removeAttribute("disabled"),us.forEach(function(Jt){Jt.removeAttribute("disabled"),Jt.handle.setAttribute("tabindex","0")}))},__moveHandles:function(Nt,Jt,ln){jo(Nt,Jt,$s,ln)},options:ct,updateOptions:function hl(Nt,Jt){var ln=eo(),Sn=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];Sn.forEach(function(Ht){void 0!==Nt[Ht]&&(ct[Ht]=Nt[Ht])});var qn=gs(ct);Sn.forEach(function(Ht){void 0!==Nt[Ht]&&(ot[Ht]=qn[Ht])}),Gs=qn.spectrum,ot.margin=qn.margin,ot.limit=qn.limit,ot.padding=qn.padding,ot.pips?ji(ot.pips):ys(),ot.tooltips?me():$e(),$s=[],Ro(Ke(Nt.start)?Nt.start:ln,Jt)},target:Jn,removePips:ys,removeTooltips:$e,getPositions:function(){return $s.slice()},getTooltips:function(){return Ai},getOrigins:function(){return us},pips:ji};return Xo}class Bi{to(ot){return String(parseFloat(parseFloat(String(ot)).toFixed(2)))}from(ot){return parseFloat(ot)}}let Pt=(()=>{class st{constructor(ct,Rt,At){this.ngZone=ct,this.el=Rt,this.renderer=At,this.handles=[],this.config={},this.change=new x.bkB(!0),this.update=new x.bkB(!0),this.slide=new x.bkB(!0),this.set=new x.bkB(!0),this.start=new x.bkB(!0),this.end=new x.bkB(!0),this.onChange=Function.prototype,this.cleanups=[],this.eventHandler=(gn,Jn,bs,us)=>{let Is=this.toValues(Jn),di=!1;void 0!==this.value?(Array.isArray(Is)&&this.value[bs]!=Is[bs]&&(di=!0),!Array.isArray(Is)&&this.value!=Is&&(di=!0),di&&this.ngZone.run(()=>{gn.observers.length>0&&gn.emit(Is),this.onChange(Is)}),Array.isArray(Is)?this.value[bs]=Is[bs]:this.value=Is):this.value=Is},this.defaultKeyHandler=gn=>{let Gs,Jn=this.slider.steps(),bs=parseInt(gn.target.getAttribute("data-handle")),us=1,Is=1,di=0,Ai=0;switch(gn.which){case 34:case 33:Is=this.config.pageSteps;break;case 40:case 37:us=-1,di=Jn[bs][0],gn.preventDefault();break;case 38:case 39:di=Jn[bs][1],gn.preventDefault()}Ai=us*Is*di,Array.isArray(this.value)?(Gs=[...this.value],Gs[bs]=Gs[bs]+Ai):Gs=this.value+Ai,this.slider.set(Gs)}}ngOnChanges(ct){this.slider&&(ct.min||ct.max||ct.step||ct.range)&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.updateOptions({range:Object.assign({},{min:this.min,max:this.max},this.range||{}),step:this.step})})})}ngOnDestroy(){for(this.slider.destroy();this.cleanups.length;)this.cleanups.pop()?.()}toValues(ct){let Rt=ct.map(this.config.format.from);return 1==Rt.length?Rt[0]:Rt}writeValue(ct){this.slider?this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.set(ct)})}):null!==ct&&(this.value=ct,this.createSlider(ct))}registerOnChange(ct){this.onChange=ct}registerOnTouched(ct){}setDisabledState(ct){ct?this.renderer.setAttribute(this.el.nativeElement.childNodes[0],"disabled","true"):this.renderer.removeAttribute(this.el.nativeElement.childNodes[0],"disabled")}createSlider(ct){let Rt=JSON.parse(JSON.stringify({behaviour:this.behaviour,connect:this.connect,limit:this.limit,start:ct,step:this.step,pageSteps:this.pageSteps,keyboard:this.keyboard,onKeydown:this.onKeydown,range:this.range||this.config.range||{min:this.min,max:this.max},tooltips:this.tooltips,snap:this.snap,animate:this.animate}));if(Rt.tooltips=this.tooltips||this.config.tooltips,Rt.format=this.format||this.config.format||new Bi,this.ngZone.runOutsideAngular(()=>{this.slider=function yr(st,ot){if(!st||!st.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+st);if(st.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var Rt=Zs(st,gs(ot),ot);return st.noUiSlider=Rt,Rt}(this.el.nativeElement.querySelector("div"),Object.assign(this.config,Rt))}),this.handles=[].slice.call(this.el.nativeElement.querySelectorAll(".noUi-handle")),this.config.keyboard){void 0===this.config.pageSteps&&(this.config.pageSteps=10);for(const At of this.handles){At.setAttribute("tabindex",0);const gn=this.config.onKeydown||this.defaultKeyHandler;this.ngZone.runOutsideAngular(()=>{this.cleanups.push(this.renderer.listen(At,"keydown",gn),this.renderer.listen(At,"click",()=>{At.focus()}))})}}this.slider.on("set",(At,gn,Jn)=>{this.eventHandler(this.set,At,gn,Jn)}),this.slider.on("update",(At,gn,Jn)=>{this.update.observers.length>0&&this.ngZone.run(()=>{this.update.emit(this.toValues(At))})}),this.slider.on("change",(At,gn,Jn)=>{this.change.observers.length>0&&this.ngZone.run(()=>{this.change.emit(this.toValues(At))})}),this.slider.on("slide",(At,gn,Jn)=>{this.eventHandler(this.slide,At,gn,Jn)}),this.slider.on("start",(At,gn,Jn)=>{this.start.observers.length>0&&this.ngZone.run(()=>{this.start.emit(this.toValues(At))})}),this.slider.on("end",(At,gn,Jn)=>{this.end.observers.length>0&&this.ngZone.run(()=>{this.end.emit(this.toValues(At))})})}}return st.\u0275fac=function(ct){return new(ct||st)(x.rXU(x.SKi),x.rXU(x.aKT),x.rXU(x.sFG))},st.\u0275cmp=x.VBU({type:st,selectors:[["nouislider"]],hostVars:2,hostBindings:function(ct,Rt){2&ct&&x.AVh("ng2-nouislider",!0)},inputs:{disabled:"disabled",behaviour:"behaviour",connect:"connect",limit:"limit",min:"min",max:"max",snap:"snap",animate:"animate",range:"range",step:"step",format:"format",pageSteps:"pageSteps",config:"config",keyboard:"keyboard",onKeydown:"onKeydown",tooltips:"tooltips"},outputs:{change:"change",update:"update",slide:"slide",set:"set",start:"start",end:"end"},standalone:!0,features:[x.Jv_([{provide:J.kq,useExisting:(0,x.Rfq)(()=>st),multi:!0}]),x.OA$,x.aNF],decls:1,vars:1,template:function(ct,Rt){1&ct&&x.nrm(0,"div"),2&ct&&x.BMQ("disabled",!!Rt.disabled||void 0)},styles:["[_nghost-%COMP%]{display:block;margin-top:1rem;margin-bottom:1rem}"]}),st})();var Kt=t(75988),Ut=t(98985),Cn=t(54872);const kn=".min",cs=".max",ai=st=>[st];function Ei(st,ot){if(1&st){const ct=x.RV6();x.j41(0,"a",1),x.bIt("click",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.filterService.minimizeAll())}),x.j41(1,"span",2),x.EFF(2),x.k0s(),x.j41(3,"span",3)(4,"span",4),x.EFF(5),x.nI1(6,"dsShortNumber"),x.k0s()()()}if(2&st){const ct=x.XpG();x.Y8G("routerLink",x.eq3(6,ai,ct.searchLink))("queryParams",ct.changeQueryParams),x.R7$(2),x.JRh(ct.filterValue.label),x.R7$(3),x.JRh(x.bMT(6,4,ct.filterValue.count))}}let li=(()=>{class st{constructor(ct,Rt,At,gn,Jn){this.searchService=ct,this.filterService=Rt,this.searchConfigService=At,this.router=gn,this.paginationService=Jn}ngOnInit(){this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,y.T)(ct=>!ct)),this.sub=this.searchConfigService.searchOptions.subscribe(()=>{this.updateChangeParams()})}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.filterValue.value)}getSearchLink(){return this.inPlaceSearch?(0,j.N)(this.router):this.searchService.getSearchLink()}updateChangeParams(){const ct=this.filterValue.value.split("-"),Rt=ct.length>1?Number(ct[0].trim()):this.filterValue.value,At=ct.length>1?Number(ct[1].trim()):this.filterValue.value,gn=this.paginationService.getPageParam(this.searchConfigService.paginationID);this.changeQueryParams={[this.filterConfig.paramName+kn]:[Rt],[this.filterConfig.paramName+cs]:At===(new Date).getUTCFullYear()?null:[At],[gn]:1}}ngOnDestroy(){(0,u.a4)(this.sub)&&this.sub.unsubscribe()}static#e=this.\u0275fac=function(Rt){return new(Rt||st)(x.rXU(b.S),x.rXU(I.U),x.rXU(O.g),x.rXU(G.Ix),x.rXU(q.m))};static#t=this.\u0275cmp=x.VBU({type:st,selectors:[["ds-search-facet-range-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[x.aNF],decls:2,vars:3,consts:[["class","d-flex flex-row","queryParamsHandling","merge",3,"routerLink","queryParams","click",4,"ngIf"],["queryParamsHandling","merge",1,"d-flex","flex-row",3,"click","routerLink","queryParams"],[1,"filter-value","px-1"],[1,"float-right","filter-value-count","ml-auto"],[1,"badge","badge-secondary","badge-pill"]],template:function(Rt,At){1&Rt&&(x.DNE(0,Ei,7,8,"a",0),x.nI1(1,"async")),2&Rt&&x.Y8G("ngIf",x.bMT(1,1,At.isVisible))},dependencies:[i.bT,G.Wk,i.Jj,ee],styles:["a[_ngcontent-%COMP%]{color:var(--bs-link-color)}a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--bs-link-hover-color)}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}"]})}return st})();function xi(st,ot){if(1&st){const ct=x.RV6();x.qex(0),x.j41(1,"nouislider",10),x.bIt("onDebounce",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.onSubmit())})("keydown",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.startKeyboardControl())})("keyup",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.stopKeyboardControl())}),x.mxI("ngModelChange",function(At){x.eBV(ct);const gn=x.XpG();return x.DH7(gn.range,At)||(gn.range=At),x.Njj(At)}),x.k0s(),x.bVm()}if(2&st){const ct=x.XpG();x.R7$(),x.Y8G("connect",!0)("config",ct.config)("min",ct.min)("max",ct.max)("step",1)("dsDebounce",250),x.R50("ngModel",ct.range)}}function ao(st,ot){if(1&st&&x.nrm(0,"ds-search-facet-range-option",12),2&st){const ct=ot.$implicit,Rt=x.XpG(2);x.Y8G("filterConfig",Rt.filterConfig)("filterValue",ct)("inPlaceSearch",Rt.inPlaceSearch)}}function Zr(st,ot){if(1&st&&(x.qex(0),x.j41(1,"div"),x.DNE(2,ao,1,3,"ds-search-facet-range-option",11),x.k0s(),x.bVm()),2&st){const ct=ot.$implicit,Rt=x.XpG();x.R7$(),x.Y8G("@facetLoad",Rt.animationState),x.R7$(),x.Y8G("ngForOf",ct.page)("ngForTrackBy",Rt.trackUpdate)}}let wr=(()=>{class st extends V{constructor(ct,Rt,At,gn,Jn,bs,us,Is){super(ct,Rt,Jn,At,us),this.searchService=ct,this.filterService=Rt,this.router=At,this.route=gn,this.rdbs=Jn,this.translateService=bs,this.searchConfigService=us,this.platformId=Is,this.min=1950,this.max=(new Date).getUTCFullYear(),this.config={}}ngOnInit(){super.ngOnInit(),this.min=(0,Kt.zX)(this.filterConfig.minValue)||this.min,this.max=(0,Kt.zX)(this.filterConfig.maxValue)||this.max,this.minLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".min.placeholder"),this.maxLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".max.placeholder");const ct=this.route.getQueryParameterValue(this.filterConfig.paramName+kn).pipe((0,E.Z)(void 0)),Rt=this.route.getQueryParameterValue(this.filterConfig.paramName+cs).pipe((0,E.Z)(void 0));this.subs.push((0,e.z)([ct,Rt]).pipe((0,y.T)(([At,gn])=>[(0,u.a4)(At)?Number(At):this.min,(0,u.a4)(gn)?Number(gn):this.max])).subscribe(At=>this.range=At)),this.config={handleAttributes:[{"aria-label":this.minLabel},{"aria-label":this.maxLabel}]}}onSubmit(){if(this.keyboardControl)return;const ct=this.range[0]!==this.min?[this.range[0]]:null,Rt=this.range[1]!==this.max?[this.range[1]]:null;this.router.navigate(this.getSearchLinkParts(),{queryParams:{[this.filterConfig.paramName+kn]:ct,[this.filterConfig.paramName+cs]:Rt},queryParamsHandling:"merge"}),this.filter=""}startKeyboardControl(){this.keyboardControl=!0}stopKeyboardControl(){this.keyboardControl=!1}shouldShowSlider(){return(0,i.UE)(this.platformId)}static#e=this.\u0275fac=function(Rt){return new(Rt||st)(x.rXU(b.S),x.rXU(I.U),x.rXU(G.Ix),x.rXU(Ut.v$),x.rXU(F.o),x.rXU(n.c$),x.rXU(T.EN),x.rXU(x.Agw))};static#t=this.\u0275cmp=x.VBU({type:st,selectors:[["ds-search-range-filter"]],standalone:!0,features:[x.Vt3,x.aNF],decls:22,vars:22,consts:[["form","ngForm"],[1,"filters","py-2"],[1,"add-filter","row",3,"ngSubmit","action"],[1,"col-6","form-group","mb-0"],[1,"font-weight-bold"],["type","text",1,"form-control",3,"ngModelChange","blur","ngModel","name","placeholder"],[1,"col-6"],["type","submit",1,"sr-only"],[4,"ngIf"],[4,"ngFor","ngForOf"],["ngDefaultControl","",3,"onDebounce","keydown","keyup","ngModelChange","connect","config","min","max","step","dsDebounce","ngModel"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"]],template:function(Rt,At){if(1&Rt){const gn=x.RV6();x.j41(0,"div")(1,"div",1)(2,"form",2,0),x.bIt("ngSubmit",function(){return x.eBV(gn),x.Njj(At.onSubmit())}),x.j41(4,"div",3)(5,"label")(6,"span",4),x.EFF(7),x.nI1(8,"translate"),x.k0s(),x.j41(9,"input",5),x.mxI("ngModelChange",function(bs){return x.eBV(gn),x.DH7(At.range[0],bs)||(At.range[0]=bs),x.Njj(bs)}),x.bIt("blur",function(){return x.eBV(gn),x.Njj(At.onSubmit())}),x.k0s()()(),x.j41(10,"div",6)(11,"label")(12,"span",4),x.EFF(13),x.nI1(14,"translate"),x.k0s(),x.j41(15,"input",5),x.mxI("ngModelChange",function(bs){return x.eBV(gn),x.DH7(At.range[1],bs)||(At.range[1]=bs),x.Njj(bs)}),x.bIt("blur",function(){return x.eBV(gn),x.Njj(At.onSubmit())}),x.k0s()()(),x.j41(16,"button",7),x.EFF(17),x.nI1(18,"translate"),x.k0s()(),x.DNE(19,xi,2,7,"ng-container",8)(20,Zr,3,3,"ng-container",9),x.nI1(21,"async"),x.k0s()()}2&Rt&&(x.R7$(2),x.Y8G("action",At.currentUrl,x.B4B),x.R7$(5),x.SpI(" ",x.bMT(8,14,"search.filters.filter."+At.filterConfig.name+".min.label")," "),x.R7$(2),x.R50("ngModel",At.range[0]),x.Y8G("name",At.filterConfig.paramName+".min")("placeholder",At.minLabel),x.BMQ("aria-label",At.minLabel),x.R7$(4),x.SpI(" ",x.bMT(14,16,"search.filters.filter."+At.filterConfig.name+".max.label")," "),x.R7$(2),x.R50("ngModel",At.range[1]),x.Y8G("name",At.filterConfig.paramName+".max")("placeholder",At.maxLabel),x.BMQ("aria-label",At.maxLabel),x.R7$(2),x.SpI(" ",x.bMT(18,18,"search.filters.search.submit")," "),x.R7$(2),x.Y8G("ngIf",At.shouldShowSlider()),x.R7$(),x.Y8G("ngForOf",x.bMT(21,20,At.facetValues$)))},dependencies:[J.YN,J.qT,J.me,J.BC,J.cb,J.vS,J.cV,i.bT,Pt,Cn.R,i.pM,li,i.Jj,n.h,n.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  html:not([dir=rtl]) .noUi-horizontal .noUi-handle{right:calc(var(--ds-slider-handle-width) / -2)}  .noUi-horizontal .noUi-handle{width:var(--ds-slider-handle-width)}  .noUi-horizontal .noUi-handle:before{left:calc((var(--ds-slider-handle-width) - 2px) / 2 - 2px)}  .noUi-horizontal .noUi-handle:after{left:calc((var(--ds-slider-handle-width) - 2px) / 2 + 2px)}  .noUi-horizontal .noUi-handle:focus{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}  .noUi-connect{background:var(--ds-slider-color)}  .noUi-target{padding:0 calc(var(--ds-slider-handle-width) / 2 - 1.5px);margin:0 1px}  .noUi-connect{margin:0 calc(-1 * var(--ds-slider-handle-width) / 2);width:calc(100% + var(--ds-slider-handle-width))}  .noUi-handle{border-color:var(--ds-slider-handle-color)}  .noUi-handle:before,   .noUi-handle:after{background-color:var(--ds-slider-handle-color)}"],data:{animation:[X]}})}return st})();function Io(st,ot){if(1&st&&x.nrm(0,"ds-search-facet-selected-option",7),2&st){const ct=ot.$implicit,Rt=x.XpG();x.Y8G("selectedValue",ct)("filterConfig",Rt.filterConfig)("inPlaceSearch",Rt.inPlaceSearch)}}function lo(st,ot){if(1&st&&x.nrm(0,"ds-search-facet-option",9),2&st){const ct=ot.$implicit,Rt=x.XpG(2);x.Y8G("filterConfig",Rt.filterConfig)("filterValue",ct)("inPlaceSearch",Rt.inPlaceSearch)}}function jr(st,ot){if(1&st&&(x.qex(0),x.j41(1,"div"),x.DNE(2,lo,1,3,"ds-search-facet-option",8),x.k0s(),x.bVm()),2&st){const ct=ot.$implicit,Rt=x.XpG();x.R7$(),x.Y8G("@facetLoad",Rt.animationState),x.R7$(),x.Y8G("ngForOf",ct.page)("ngForTrackBy",Rt.trackUpdate)}}function co(st,ot){if(1&st){const ct=x.RV6();x.j41(0,"a",10),x.bIt("click",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.showMore())}),x.EFF(1),x.nI1(2,"translate"),x.k0s()}2&st&&(x.R7$(),x.SpI(" ",x.bMT(2,1,"search.filters.filter.show-more")," "))}function Ri(st,ot){if(1&st){const ct=x.RV6();x.j41(0,"a",11),x.bIt("click",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.showFirstPageOnly())}),x.EFF(1),x.nI1(2,"translate"),x.k0s()}2&st&&(x.R7$(),x.SpI(" ",x.bMT(2,1,"search.filters.filter.show-less")," "))}function No(st,ot){if(1&st){const ct=x.RV6();x.j41(0,"ds-filter-input-suggestions",12),x.nI1(1,"async"),x.nI1(2,"translate"),x.nI1(3,"translate"),x.mxI("ngModelChange",function(At){x.eBV(ct);const gn=x.XpG();return x.DH7(gn.filter,At)||(gn.filter=At),x.Njj(At)}),x.bIt("submitSuggestion",function(At){x.eBV(ct);const gn=x.XpG();return x.Njj(gn.onSubmit(At))})("clickSuggestion",function(At){x.eBV(ct);const gn=x.XpG();return x.Njj(gn.onClick(At))})("findSuggestions",function(At){x.eBV(ct);const gn=x.XpG();return x.Njj(gn.findSuggestions(At))}),x.k0s()}if(2&st){const ct=x.XpG();x.Y8G("suggestions",x.bMT(1,6,ct.filterSearchResults$))("placeholder",x.bMT(2,8,"search.filters.filter."+ct.filterConfig.name+".placeholder"))("label",x.bMT(3,10,"search.filters.filter."+ct.filterConfig.name+".label"))("action",ct.currentUrl)("name",ct.filterConfig.paramName),x.R50("ngModel",ct.filter)}}let rr=(()=>{class st extends V{onSubmit(ct){super.onSubmit((0,Ce.mq)(ct,"query"))}static#e=this.\u0275fac=(()=>{let ct;return function(At){return(ct||(ct=x.xGo(st)))(At||st)}})();static#t=this.\u0275cmp=x.VBU({type:st,selectors:[["ds-search-text-filter"]],standalone:!0,features:[x.Vt3,x.aNF],decls:13,vars:15,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"]],template:function(Rt,At){1&Rt&&(x.j41(0,"div")(1,"div",0),x.DNE(2,Io,1,3,"ds-search-facet-selected-option",1),x.nI1(3,"async"),x.DNE(4,jr,3,3,"ng-container",2),x.nI1(5,"async"),x.j41(6,"div",3),x.DNE(7,co,3,3,"a",4),x.nI1(8,"async"),x.DNE(9,Ri,3,3,"a",5),x.nI1(10,"async"),x.k0s()(),x.DNE(11,No,4,12,"ds-filter-input-suggestions",6),x.nI1(12,"async"),x.k0s()),2&Rt&&(x.R7$(2),x.Y8G("ngForOf",x.bMT(3,5,At.selectedAppliedFilters$)),x.R7$(2),x.Y8G("ngForOf",x.bMT(5,7,At.facetValues$)),x.R7$(3),x.Y8G("ngIf",!0!==x.bMT(8,9,At.isLastPage$)),x.R7$(2),x.Y8G("ngIf",x.bMT(10,11,At.currentPage)>1),x.R7$(2),x.Y8G("ngIf",!1===x.bMT(12,13,At.isAvailableForShowSearchText)))},dependencies:[i.pM,Ie,pe,i.bT,z.H,J.YN,J.me,J.BC,J.vS,i.Jj,n.h,n.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[X]}})}return st})();const fr=new Map;function So(st,ot){}fr.set(Q.R.text,rr),fr.set(Q.R.authority,yt),fr.set(Q.R.boolean,Re),fr.set(Q.R.hierarchy,xs),fr.set(Q.R.range,wr);let Er=(()=>{class st extends K.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["filterConfig"],this.inputNames=["filterConfig","inPlaceSearch","refreshFilters","scope"]}getComponent(){return function sa(st){return fr.get(st)}(this.filterConfig.filterType)}static#e=this.\u0275fac=(()=>{let ct;return function(At){return(ct||(ct=x.xGo(st)))(At||st)}})();static#t=this.\u0275cmp=x.VBU({type:st,selectors:[["ds-search-facet-filter-wrapper"]],inputs:{filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},standalone:!0,features:[x.Vt3,x.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(Rt,At){1&Rt&&x.DNE(0,So,0,0,"ng-template",1,0,x.C5r)},dependencies:[ae.z],encapsulation:2})}return st})(),uo=(()=>{class st{constructor(){this.value=0}next(){return++this.value}static#e=this.\u0275fac=function(Rt){return new(Rt||st)};static#t=this.\u0275prov=x.jDH({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})();const zo=st=>({focus:st}),Eo=(st,ot)=>({closed:st,notab:ot});function zr(st,ot){if(1&st){const ct=x.RV6();x.j41(0,"div",1)(1,"button",2),x.nI1(2,"async"),x.nI1(3,"async"),x.nI1(4,"translate"),x.nI1(5,"translate"),x.nI1(6,"lowercase"),x.nI1(7,"dsBrowserOnly"),x.bIt("click",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.toggle())})("focusin",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.focusBox=!0)})("focusout",function(){x.eBV(ct);const At=x.XpG();return x.Njj(At.focusBox=!1)}),x.j41(8,"span",3),x.EFF(9),x.nI1(10,"translate"),x.k0s(),x.nrm(11,"i",4),x.nI1(12,"async"),x.nI1(13,"async"),x.nI1(14,"translate"),x.k0s(),x.j41(15,"div",5),x.nI1(16,"async"),x.bIt("@slide.start",function(At){x.eBV(ct);const gn=x.XpG();return x.Njj(gn.startSlide(At))})("@slide.done",function(At){x.eBV(ct);const gn=x.XpG();return x.Njj(gn.finishSlide(At))}),x.nrm(17,"ds-search-facet-filter-wrapper",6),x.k0s()()}if(2&st){const ct=x.XpG();x.Y8G("id",ct.regionId)("ngClass",x.eq3(39,zo,ct.focusBox)),x.BMQ("aria-labelledby",ct.toggleId),x.R7$(),x.Y8G("id",ct.toggleId),x.BMQ("aria-controls",ct.regionId)("aria-expanded",!0!==x.bMT(2,17,ct.collapsed$))("aria-label",x.bMT(4,21,x.bMT(3,19,ct.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")+" "+x.bMT(6,25,x.bMT(5,23,"search.filters.filter."+ct.filter.name+".head")))("data-test",x.bMT(7,27,"filter-toggle")),x.R7$(8),x.SpI(" ",x.bMT(10,29,"search.filters.filter."+ct.filter.name+".head")," "),x.R7$(2),x.Y8G("ngClass",x.bMT(12,31,ct.collapsed$)?"fa-plus":"fa-minus")("title",x.bMT(14,35,x.bMT(13,33,ct.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")),x.R7$(4),x.Y8G("@slide",x.bMT(16,37,ct.collapsed$)?"collapsed":"expanded")("ngClass",x.l_i(41,Eo,ct.closed,ct.notab)),x.R7$(2),x.Y8G("scope",ct.scope)("filterConfig",ct.filter)("inPlaceSearch",ct.inPlaceSearch)("refreshFilters",ct.refreshFilters)}}let Co=(()=>{class st{constructor(ct,Rt,At,gn){this.filterService=ct,this.searchService=Rt,this.searchConfigService=At,this.sequenceService=gn,this.focusBox=!1,this.scope$=new c.t(void 0),this.subs=[],this.sequenceId=this.sequenceService.next()}ngOnInit(){this.appliedFilters$=this.searchService.getSelectedValuesForFilter(this.filter.name),this.active$=this.isActive(),this.collapsed$=this.isCollapsed(),this.initializeFilter(),this.subs.push(this.appliedFilters$.pipe((0,_.s)(1)).subscribe(ct=>{(0,u.hj)(ct)&&this.filterService.expand(this.filter.name)}))}ngOnChanges(){this.scope$.value!==this.scope&&this.scope$.next(this.scope)}ngOnDestroy(){this.subs.forEach(ct=>ct.unsubscribe())}toggle(){this.filterService.toggle(this.filter.name)}isCollapsed(){return this.filterService.isCollapsed(this.filter.name)}initializeFilter(){this.filterService.initializeFilter(this.filter)}finishSlide(ct){"collapsed"===ct.fromState&&(this.closed=!1),"collapsed"===ct.toState&&(this.notab=!0)}startSlide(ct){"collapsed"===ct.toState&&(this.closed=!0),"collapsed"===ct.fromState&&(this.notab=!1)}get regionId(){return this.inPlaceSearch?`search-filter-region-${this.sequenceId}`:`search-filter-region-home-${this.sequenceId}`}get toggleId(){return this.inPlaceSearch?`search-filter-toggle-${this.sequenceId}`:`search-filter-toggle-home-${this.sequenceId}`}isActive(){return(0,e.z)([this.appliedFilters$,this.searchConfigService.searchOptions,this.scope$]).pipe((0,f.n)(([ct,Rt,At])=>(0,u.hj)(ct.filter(gn=>Y.includes(gn.operator)))?(0,g.of)(!0):((0,u.a4)(At)&&(Rt.scope=At),this.searchService.getFacetValuesFor(this.filter,1,Rt).pipe((0,d.p)(gn=>!gn.isLoading),(0,y.T)(gn=>gn.payload?.totalElements>0)))),(0,E.Z)(!0))}static#e=this.\u0275fac=function(Rt){return new(Rt||st)(x.rXU(I.U),x.rXU(b.S),x.rXU(T.EN),x.rXU(uo))};static#t=this.\u0275cmp=x.VBU({type:st,selectors:[["ds-search-filter"]],inputs:{filter:"filter",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},standalone:!0,features:[x.OA$,x.aNF],decls:2,vars:3,consts:[["class","facet-filter d-block mb-3 p-3","role","region",3,"id","ngClass",4,"ngIf"],["role","region",1,"facet-filter","d-block","mb-3","p-3",3,"id","ngClass"],[1,"filter-name","d-flex",3,"click","focusin","focusout","id"],[1,"h4","d-inline-block","text-left","mt-auto","mb-auto"],["aria-hidden","true",1,"filter-toggle","flex-grow-1","fas","p-auto",3,"ngClass","title"],[1,"search-filter-wrapper",3,"ngClass"],[3,"scope","filterConfig","inPlaceSearch","refreshFilters"]],template:function(Rt,At){1&Rt&&(x.DNE(0,zr,18,44,"div",0),x.nI1(1,"async")),2&Rt&&x.Y8G("ngIf",x.bMT(1,1,At.active$))},dependencies:[i.bT,i.YU,Er,i.Jj,i.GH,n.h,n.D9,w.L],styles:["[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]{border:1px solid var(--bs-light);cursor:pointer;line-height:0}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base)}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.closed[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.notab[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .filter-toggle[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base);text-align:right;position:relative}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{appearance:none;border:0;padding:0;background:#0000;width:100%;outline:none!important}[_nghost-%COMP%]   .facet-filter.focus[_ngcontent-%COMP%]{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}"],data:{animation:[R.M6]}})}return st})()},89585:(B,D,t)=>{"use strict";t.r(D),t.d(D,{SearchFiltersComponent:()=>v});var i=t(54460),n=t(95968),c=t(69685),e=t(47947),f=t(67811),d=(t(3631),t(85751)),y=t(82506),E=t(67044),_=t(20330),b=t(53107);const O=S=>[S];function I(S,M){if(1&S&&(b.j41(0,"h3"),b.EFF(1),b.nI1(2,"translate"),b.k0s()),2&S){const L=b.XpG();b.R7$(),b.JRh(b.bMT(2,1,L.filterLabel+".filters.head"))}}function T(S,M){if(1&S&&(b.j41(0,"h2"),b.EFF(1),b.nI1(2,"translate"),b.k0s()),2&S){const L=b.XpG();b.R7$(),b.JRh(b.bMT(2,1,L.filterLabel+".filters.head"))}}function R(S,M){if(1&S&&(b.j41(0,"div"),b.nrm(1,"ds-search-filter",3),b.k0s()),2&S){const L=M.$implicit,F=b.XpG(2);b.R7$(),b.Y8G("scope",F.currentScope)("filter",L)("inPlaceSearch",F.inPlaceSearch)("refreshFilters",F.refreshFilters)}}function u(S,M){if(1&S&&(b.j41(0,"div"),b.DNE(1,R,2,4,"div",2),b.nI1(2,"async"),b.k0s()),2&S){let L;const F=b.XpG();b.R7$(),b.Y8G("ngForOf",null==(L=b.bMT(2,2,F.filters))?null:L.payload)("ngForTrackBy",F.trackUpdate)}}function w(S,M){if(1&S){const L=b.RV6();b.j41(0,"button",4),b.nI1(1,"async"),b.bIt("click",function(){b.eBV(L);const $=b.XpG();return b.Njj($.minimizeFilters())}),b.nrm(2,"i",5),b.EFF(3),b.nI1(4,"translate"),b.k0s()}if(2&S){const L=b.XpG();b.Y8G("routerLink",b.eq3(7,O,L.searchLink))("queryParams",b.bMT(1,3,L.clearParams)),b.R7$(3),b.SpI(" ",b.bMT(4,5,"search.filters.reset"),"\n")}}let v=(()=>{class S{constructor(L,F,$,j){this.searchService=L,this.searchFilterService=F,this.router=$,this.searchConfigService=j,this.appliedFilters=new Map,this.subs=[],this.filterLabel="search"}ngOnInit(){this.inPlaceSearch||(this.filterLabel="discover"),this.clearParams=this.searchConfigService.getCurrentFrontendFilters().pipe((0,e.T)(L=>(Object.keys(L).forEach(F=>L[F]=null),L))),this.searchLink=this.getSearchLink()}getSearchLink(){return this.inPlaceSearch?(0,E.N)(this.router):this.searchService.getSearchLink()}trackUpdate(L,F){return F?F.name:void 0}minimizeFilters(){this.searchService.appliedFilters$.value.length>0&&this.searchFilterService.minimizeAll()}static#e=this.\u0275fac=function(F){return new(F||S)(b.rXU(f.S),b.rXU(d.U),b.rXU(n.Ix),b.rXU(y.EN))};static#t=this.\u0275cmp=b.VBU({type:S,selectors:[["ds-base-search-filters"]],inputs:{filters:"filters",currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters"},standalone:!0,features:[b.aNF],decls:5,vars:6,consts:[[4,"ngIf"],["class","btn btn-primary","queryParamsHandling","merge","role","button",3,"routerLink","queryParams","click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"scope","filter","inPlaceSearch","refreshFilters"],["queryParamsHandling","merge","role","button",1,"btn","btn-primary",3,"click","routerLink","queryParams"],[1,"fas","fa-undo"]],template:function(F,$){if(1&F&&(b.DNE(0,I,3,3,"h3",0)(1,T,3,3,"h2",0)(2,u,3,4,"div",0),b.nI1(3,"async"),b.DNE(4,w,5,9,"button",1)),2&F){let j;b.Y8G("ngIf",$.inPlaceSearch),b.R7$(),b.Y8G("ngIf",!$.inPlaceSearch),b.R7$(),b.Y8G("ngIf",null==(j=b.bMT(3,4,$.filters))?null:j.hasSucceeded),b.R7$(2),b.Y8G("ngIf",$.inPlaceSearch)}},dependencies:[i.bT,i.pM,_.a,n.Wk,i.Jj,c.h,c.D9]})}return S})()},23285:(B,D,t)=>{"use strict";t.d(D,{k:()=>g});var i=t(21124),c=(t(89585),t(53107));const e=["*"];function f(d,y){}let g=(()=>{class d extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["filters","currentConfiguration","currentScope","inPlaceSearch","refreshFilters"]}getComponentName(){return"SearchFiltersComponent"}importThemedComponent(E){return t(64565)(`./${E}/app/shared/search/search-filters/search-filters.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,89585))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=c.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-search-filters"]],inputs:{currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",filters:"filters"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},77822:(B,D,t)=>{"use strict";t.d(D,{L:()=>V});var i=t(54460),n=t(67811),c=t(76794),e=t(8181),g=(t(96835),t(72683)),d=t(50999),y=t(95968),E=t(69685),_=t(95438),b=t(3631),O=t(85751),I=t(67044),T=t(53107);const R=(X,K)=>({type:X,value:K}),u=X=>({default:X});let w=(()=>{class X{constructor(ae,Q,J,z,q){this.paginationService=ae,this.router=Q,this.searchConfigurationService=J,this.searchService=z,this.searchFilterService=q}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeParameters$=this.updateRemoveParams()}updateRemoveParams(){return this.searchConfigurationService.unselectAppliedFilterParams(this.appliedFilter.filter,this.appliedFilter.value,this.appliedFilter.operator)}getSearchLink(){return this.inPlaceSearch?(0,I.N)(this.router):this.searchService.getSearchLink()}static#e=this.\u0275fac=function(Q){return new(Q||X)(T.rXU(_.m),T.rXU(y.Ix),T.rXU(b.g),T.rXU(n.S),T.rXU(O.U))};static#t=this.\u0275cmp=T.VBU({type:X,selectors:[["ds-search-label"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[T.aNF],decls:12,vars:25,consts:[[1,"badge","badge-primary",3,"click","routerLink","queryParams"],[1,"d-flex"],[1,"flex-grow-1","text-left"],["aria-hidden","true",1,"pl-1"]],template:function(Q,J){1&Q&&(T.j41(0,"a",0),T.nI1(1,"async"),T.nI1(2,"translate"),T.nI1(3,"translate"),T.bIt("click",function(){return J.searchFilterService.minimizeAll()}),T.j41(4,"span",1)(5,"span",2),T.EFF(6),T.nI1(7,"translate"),T.nI1(8,"translate"),T.nI1(9,"translate"),T.k0s(),T.j41(10,"span",3),T.EFF(11,"\xd7"),T.k0s()()()),2&Q&&(T.Y8G("routerLink",J.searchLink)("queryParams",T.bMT(1,6,J.removeParameters$)),T.BMQ("aria-label",T.i5U(3,10,"search.filters.remove",T.l_i(20,R,T.bMT(2,8,"search.filters.applied.f."+J.appliedFilter.filter),J.appliedFilter.label))),T.R7$(6),T.E5c("",T.bMT(7,13,"search.filters.applied.f."+J.appliedFilter.filter),"",T.bMT(8,15,"search.filters.applied.operator."+J.appliedFilter.operator),": ",T.i5U(9,17,"search.filters."+J.appliedFilter.filter+"."+J.appliedFilter.label,T.eq3(23,u,J.appliedFilter.label)),""))},dependencies:[y.Wk,i.Jj,E.h,E.D9],styles:[".badge[_ngcontent-%COMP%]{white-space:inherit}"]})}return X})();const v=(X,K)=>({type:X,value:K});function S(X,K){if(1&X){const ae=T.RV6();T.j41(0,"a",1),T.nI1(1,"async"),T.nI1(2,"translate"),T.nI1(3,"translate"),T.bIt("click",function(){T.eBV(ae);const J=T.XpG();return T.Njj(J.searchFilterService.minimizeAll())}),T.j41(4,"span",2)(5,"span",3),T.EFF(6),T.nI1(7,"translate"),T.k0s(),T.j41(8,"span",4),T.EFF(9,"\xd7"),T.k0s()()()}if(2&X){const ae=T.XpG();T.Y8G("routerLink",ae.searchLink)("queryParams",T.bMT(1,5,ae.removeParametersMin$)),T.BMQ("aria-label",T.i5U(3,9,"search.filters.remove",T.l_i(14,v,T.bMT(2,7,"search.filters.applied.f."+ae.appliedFilter.filter+".min"),ae.min))),T.R7$(6),T.Lme("",T.bMT(7,12,"search.filters.applied.f."+ae.appliedFilter.filter+".min"),": ",ae.min,"")}}function M(X,K){if(1&X){const ae=T.RV6();T.j41(0,"a",1),T.nI1(1,"async"),T.nI1(2,"translate"),T.nI1(3,"translate"),T.bIt("click",function(){T.eBV(ae);const J=T.XpG();return T.Njj(J.searchFilterService.minimizeAll())}),T.j41(4,"span",2)(5,"span",3),T.EFF(6),T.nI1(7,"translate"),T.k0s(),T.j41(8,"span",4),T.EFF(9,"\xd7"),T.k0s()()()}if(2&X){const ae=T.XpG();T.Y8G("routerLink",ae.searchLink)("queryParams",T.bMT(1,5,ae.removeParametersMax$)),T.BMQ("aria-label",T.i5U(3,9,"search.filters.remove",T.l_i(14,v,T.bMT(2,7,"search.filters.applied.f."+ae.appliedFilter.filter+".max"),ae.max))),T.R7$(6),T.Lme("",T.bMT(7,12,"search.filters.applied.f."+ae.appliedFilter.filter+".max"),": ",ae.max,"")}}let L=(()=>{class X{constructor(ae,Q,J,z,q){this.paginationService=ae,this.router=Q,this.searchConfigurationService=J,this.searchService=z,this.searchFilterService=q}ngOnInit(){this.searchLink=this.getSearchLink(),this.min=this.appliedFilter.value.substring(1,this.appliedFilter.value.indexOf("TO")-1),this.max=this.appliedFilter.value.substring(this.appliedFilter.value.indexOf("TO")+3,this.appliedFilter.value.length-1),this.removeParametersMin$=this.updateRemoveParams(`${this.appliedFilter.filter}.min`,this.min),this.removeParametersMax$=this.updateRemoveParams(`${this.appliedFilter.filter}.max`,this.max)}updateRemoveParams(ae,Q,J){return this.searchConfigurationService.unselectAppliedFilterParams(ae,Q,J)}getSearchLink(){return this.inPlaceSearch?(0,I.N)(this.router):this.searchService.getSearchLink()}static#e=this.\u0275fac=function(Q){return new(Q||X)(T.rXU(_.m),T.rXU(y.Ix),T.rXU(b.g),T.rXU(n.S),T.rXU(O.U))};static#t=this.\u0275cmp=T.VBU({type:X,selectors:[["ds-search-label-range"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[T.aNF],decls:2,vars:2,consts:[["class","badge badge-primary",3,"routerLink","queryParams","click",4,"ngIf"],[1,"badge","badge-primary",3,"click","routerLink","queryParams"],[1,"d-flex"],[1,"flex-grow-1","text-left"],["aria-hidden","true",1,"pl-1"]],template:function(Q,J){1&Q&&T.DNE(0,S,10,17,"a",0)(1,M,10,17,"a",0),2&Q&&(T.Y8G("ngIf","*"!==J.min),T.R7$(),T.Y8G("ngIf","*"!==J.max))},dependencies:[i.Jj,i.bT,y.Wk,E.h,E.D9],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap;gap:calc(var(--bs-spacer) / 4)}.badge[_ngcontent-%COMP%]{white-space:inherit}"]})}return X})();const F=void 0,$=new Map([[F,new Map([[d.SS,w]])],["range",new Map([[d.SS,L]])]]);function x(X,K){}let G=(()=>{class X extends c.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["appliedFilter"],this.inputNames=["inPlaceSearch","appliedFilter"]}getComponent(){return function j(X,K){let ae=$.get(X);(0,g.Tn)(ae)&&(ae=$.get(F));const Q=ae.get(K);return(0,g.Tn)(Q)?ae.get(d.SS):Q}(this.appliedFilter.operator,this.themeService.getThemeName())}static#e=this.\u0275fac=(()=>{let ae;return function(J){return(ae||(ae=T.xGo(X)))(J||X)}})();static#t=this.\u0275cmp=T.VBU({type:X,selectors:[["ds-search-label-loader"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[T.Vt3,T.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(Q,J){1&Q&&T.DNE(0,x,0,0,"ng-template",1,0,T.C5r)},dependencies:[e.z],encapsulation:2})}return X})();function Y(X,K){if(1&X&&T.nrm(0,"ds-search-label-loader",2),2&X){const ae=K.$implicit,Q=T.XpG();T.Y8G("appliedFilter",ae)("inPlaceSearch",Q.inPlaceSearch)}}let V=(()=>{class X{constructor(ae){this.searchService=ae}ngOnInit(){this.appliedFilters$=this.searchService.appliedFilters$}static#e=this.\u0275fac=function(Q){return new(Q||X)(T.rXU(n.S))};static#t=this.\u0275cmp=T.VBU({type:X,selectors:[["ds-search-labels"]],inputs:{inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[T.aNF],decls:3,vars:3,consts:[[1,"labels"],[3,"appliedFilter","inPlaceSearch",4,"ngFor","ngForOf"],[3,"appliedFilter","inPlaceSearch"]],template:function(Q,J){1&Q&&(T.j41(0,"div",0),T.DNE(1,Y,1,2,"ds-search-label-loader",1),T.nI1(2,"async"),T.k0s()),2&Q&&(T.R7$(),T.Y8G("ngForOf",T.bMT(2,1,J.appliedFilters$)))},dependencies:[i.pM,i.Jj,G],styles:["[_nghost-%COMP%]{line-height:1}[_nghost-%COMP%]   .labels[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:calc(var(--bs-spacer) / 4)}"]})}return X})()},88698:(B,D,t)=>{"use strict";t.d(D,{L:()=>v});var i=t(52970),n=t(77789),c=t(58751),e=t(82376),f=t(47376),g=t(88829),d=t(21139),y=t(5442),E=t(97311),_=t(73074),b=t(2167),O=t(77590),I=t(95364),T=t(97771),R=t(17116),u=t(45820);const w=new Map([[i.a,n.o],[y.T,_.y],[E.k,T.d],[c.p,b.A],[e.E,O.L],[f.q,I.H],[g.t,R.q],[d.F,u.I]]);function v(S){return w.get(S)}},33183:(B,D,t)=>{"use strict";t.r(D),t.d(D,{SearchResultsComponent:()=>x});var i=t(54460),n=t(53107),c=t(95968),e=t(69685),E=(t(89632),t(21314),t(71526),t(88842),t(2566)),_=t(72683),b=t(96606),O=t(21548),T=(t(79599),t(13943)),u=(t(63496),t(70067));const w=()=>["/search"],v=G=>({query:G});function S(G,Y){if(1&G&&(n.j41(0,"h2"),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&G){const V=n.XpG();n.R7$(),n.JRh(n.bMT(2,1,V.configuration?V.configuration+".search.results.head":"search.results.head"))}}function M(G,Y){if(1&G&&n.nrm(0,"ds-search-export-csv",4),2&G){const V=n.XpG();n.Y8G("searchConfig",V.searchConfig)}}function L(G,Y){if(1&G){const V=n.RV6();n.j41(0,"div")(1,"ds-viewable-collection",5),n.bIt("contentChange",function(K){n.eBV(V);const ae=n.XpG();return n.Njj(ae.contentChange.emit(K))})("deselectObject",function(K){n.eBV(V);const ae=n.XpG();return n.Njj(ae.deselectObject.emit(K))})("selectObject",function(K){n.eBV(V);const ae=n.XpG();return n.Njj(ae.selectObject.emit(K))}),n.k0s()()}if(2&G){const V=n.XpG();n.Y8G("@fadeIn",void 0),n.R7$(),n.Y8G("config",V.searchConfig.pagination)("sortConfig",V.searchConfig.sort)("objects",V.searchResults)("hideGear",!0)("selectable",V.selectable)("selectionConfig",V.selectionConfig)("linkType",V.linkType)("context",V.context)("hidePaginationDetail",V.hidePaginationDetail)("showThumbnails",V.showThumbnails)}}function F(G,Y){1&G&&(n.nrm(0,"ds-loading",6),n.nI1(1,"translate")),2&G&&n.FS9("message",n.bMT(1,1,"loading.search-results"))}function $(G,Y){if(1&G&&(n.nrm(0,"ds-error",6),n.nI1(1,"translate")),2&G){const V=n.XpG();n.FS9("message",n.bMT(1,1,V.errorMessageLabel()))}}function j(G,Y){if(1&G&&(n.j41(0,"div"),n.EFF(1),n.nI1(2,"translate"),n.j41(3,"a",7),n.EFF(4),n.nI1(5,"translate"),n.k0s()()),2&G){const V=n.XpG();n.R7$(),n.SpI(" ",n.bMT(2,4,"search.results.no-results")," "),n.R7$(2),n.Y8G("routerLink",n.lJ4(8,w))("queryParams",n.eq3(9,v,V.surroundStringWithQuotes(null==V.searchConfig?null:V.searchConfig.query))),n.R7$(),n.SpI(" ",n.bMT(5,6,"search.results.no-results-link")," ")}}let x=(()=>{class G{constructor(){this.hasNoValue=_.Tn,this.showCsvExport=!1,this.disableHeader=!1,this.selectable=!1,this.hidePaginationDetail=!1,this.selectionConfig=null,this.contentChange=new n.bkB,this.deselectObject=new n.bkB,this.selectObject=new n.bkB}isLoading(){return!this.showError()&&((0,_.Tn)(this.searchResults)||(0,_.Tn)(this.searchResults.payload)||this.searchResults.isLoading)}showError(){return this.searchResults?.hasFailed&&(!this.searchResults?.errorMessage||400!==this.searchResults?.statusCode)}errorMessageLabel(){return 422===this.searchResults?.statusCode?"error.invalid-search-query":"error.search-results"}surroundStringWithQuotes(V){let X=V;return(0,_.hj)(X)&&!(X.startsWith('"')&&X.endsWith('"'))&&(X=`"${X}"`),X}static#e=this.\u0275fac=function(X){return new(X||G)};static#t=this.\u0275cmp=n.VBU({type:G,selectors:[["ds-base-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[n.aNF],decls:7,vars:6,consts:[[1,"d-flex","justify-content-between"],[4,"ngIf"],[3,"searchConfig",4,"ngIf"],[3,"message",4,"ngIf"],[3,"searchConfig"],[3,"contentChange","deselectObject","selectObject","config","sortConfig","objects","hideGear","selectable","selectionConfig","linkType","context","hidePaginationDetail","showThumbnails"],[3,"message"],["queryParamsHandling","merge",3,"routerLink","queryParams"]],template:function(X,K){1&X&&(n.j41(0,"div",0),n.DNE(1,S,3,3,"h2",1)(2,M,1,1,"ds-search-export-csv",2),n.k0s(),n.DNE(3,L,2,11,"div",1)(4,F,2,3,"ds-loading",3)(5,$,2,3,"ds-error",3)(6,j,6,11,"div",1)),2&X&&(n.R7$(),n.Y8G("ngIf",!K.disableHeader),n.R7$(),n.Y8G("ngIf",K.showCsvExport),n.R7$(),n.Y8G("ngIf",K.searchResults&&(null==K.searchResults?null:K.searchResults.hasSucceeded)&&!(null!=K.searchResults&&K.searchResults.isLoading)&&(null==K.searchResults||null==K.searchResults.payload?null:K.searchResults.payload.page.length)>0),n.R7$(),n.Y8G("ngIf",K.isLoading()),n.R7$(),n.Y8G("ngIf",K.showError()),n.R7$(),n.Y8G("ngIf",0===(null==K.searchResults||null==K.searchResults.payload?null:K.searchResults.payload.page.length)||400===(null==K.searchResults?null:K.searchResults.statusCode)))},dependencies:[i.bT,u.w,T.h,O.v,b.A,c.Wk,e.h,e.D9],encapsulation:2,data:{animation:[E.qG,E.Ws]}})}return G})()},21049:(B,D,t)=>{"use strict";t.d(D,{N:()=>O});var i=t(53107),d=(t(89632),t(21314),t(71526),t(88842),t(79599),t(21124));t(63496),t(33183);const _=["*"];function b(I,T){}let O=(()=>{class I extends d.J{constructor(){super(...arguments),this.inAndOutputNames=["linkType","searchResults","searchConfig","showCsvExport","showThumbnails","sortConfig","viewMode","configuration","disableHeader","selectable","context","hidePaginationDetail","selectionConfig","contentChange","deselectObject","selectObject"],this.contentChange=new i.bkB,this.deselectObject=new i.bkB,this.selectObject=new i.bkB}getComponentName(){return"SearchResultsComponent"}importThemedComponent(R){return t(18527)(`./${R}/app/shared/search/search-results/search-results.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,33183))}static#e=this.\u0275fac=(()=>{let R;return function(w){return(R||(R=i.xGo(I)))(w||I)}})();static#t=this.\u0275cmp=i.VBU({type:I,selectors:[["ds-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:_,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(i.NAR(),i.DNE(0,b,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}return I})()},25871:(B,D,t)=>{"use strict";t.r(D),t.d(D,{SearchSettingsComponent:()=>I});var i=t(54460),n=t(10936),c=t(69685),f=(t(89632),t(95438)),d=(t(3631),t(82506)),y=t(80378),E=t(1876),_=t(53107);function b(T,R){if(1&T&&(_.j41(0,"option",4),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&T){const u=R.$implicit,w=_.XpG(2);_.Y8G("value",u.field+","+u.direction.toString())("selected",u.field===(null==w.currentSortOption?null:w.currentSortOption.field)&&u.direction===(null==w.currentSortOption?null:w.currentSortOption.direction)?"selected":null),_.R7$(),_.SpI(" ",_.bMT(2,3,"sorting."+u.field+"."+u.direction)," ")}}function O(T,R){if(1&T){const u=_.RV6();_.j41(0,"ds-sidebar-dropdown",2),_.bIt("changed",function(v){_.eBV(u);const S=_.XpG();return _.Njj(S.reloadOrder(v))}),_.DNE(1,b,3,5,"option",3),_.k0s()}if(2&T){const u=_.XpG();_.Y8G("id","search-sidebar-sort")("label","search.sidebar.settings.sort-by"),_.R7$(),_.Y8G("ngForOf",u.sortOptionsList)}}let I=(()=>{class T{constructor(u,w){this.paginationService=u,this.searchConfigurationService=w}reloadOrder(u){const w=u.target.value.split(",");this.paginationService.updateRoute(this.searchConfigurationService.paginationID,{sortField:w[0],sortDirection:w[1],page:1})}static#e=this.\u0275fac=function(w){return new(w||T)(_.rXU(f.m),_.rXU(d.EN))};static#t=this.\u0275cmp=_.VBU({type:T,selectors:[["ds-base-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},standalone:!0,features:[_.aNF],decls:7,vars:4,consts:[[1,"result-order-settings"],[3,"id","label","changed",4,"ngIf"],[3,"changed","id","label"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(w,v){1&w&&(_.qex(0),_.j41(1,"h3"),_.EFF(2),_.nI1(3,"translate"),_.k0s(),_.j41(4,"div",0),_.DNE(5,O,2,3,"ds-sidebar-dropdown",1),_.k0s(),_.nrm(6,"ds-page-size-selector"),_.bVm()),2&w&&(_.R7$(2),_.JRh(_.bMT(3,2,"search.sidebar.settings.title")),_.R7$(3),_.Y8G("ngIf",v.sortOptionsList))},dependencies:[i.bT,E.v,i.pM,n.YN,n.xH,n.y7,y.b,c.h,c.D9],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}return T})()},66875:(B,D,t)=>{"use strict";t.d(D,{_:()=>d}),t(89632);var n=t(21124),e=(t(25871),t(53107));const f=["*"];function g(y,E){}let d=(()=>{class y extends n.J{constructor(){super(...arguments),this.inAndOutputNames=["currentSortOption","sortOptionsList"]}getComponentName(){return"SearchSettingsComponent"}importThemedComponent(_){return t(60911)(`./${_}/app/shared/search/search-settings/search-settings.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,25871))}static#e=this.\u0275fac=(()=>{let _;return function(O){return(_||(_=e.xGo(y)))(O||y)}})();static#t=this.\u0275cmp=e.VBU({type:y,selectors:[["ds-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(b,O){1&b&&(e.NAR(),e.DNE(0,g,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return y})()},88211:(B,D,t)=>{"use strict";t.r(D),t.d(D,{SearchSidebarComponent:()=>v});var i=t(54460),n=t(53107),c=t(69685),e=t(47947),f=t(18062),d=(t(89632),t(3631)),y=t(45400),E=t(8783),b=(t(63496),t(23285)),O=t(66875),I=t(22007);function T(S,M){if(1&S){const L=n.RV6();n.j41(0,"ds-view-mode-switch",11),n.bIt("changeViewMode",function($){n.eBV(L);const j=n.XpG();return n.Njj(j.changeViewMode.emit($))}),n.k0s()}if(2&S){const L=n.XpG();n.Y8G("viewModeList",L.viewModeList)}}function R(S,M){if(1&S){const L=n.RV6();n.j41(0,"ds-search-switch-configuration",12),n.bIt("changeConfiguration",function($){n.eBV(L);const j=n.XpG();return n.Njj(j.changeConfiguration.emit($))}),n.k0s()}if(2&S){const L=n.XpG();n.Y8G("configurationList",L.configurationList)("defaultConfiguration",L.configuration)("inPlaceSearch",L.inPlaceSearch)}}function u(S,M){if(1&S&&(n.nrm(0,"ds-advanced-search",13),n.nI1(1,"async")),2&S){let L;const F=n.XpG();n.Y8G("configuration",F.configuration)("filtersConfig",null==(L=n.bMT(1,3,F.filters))?null:L.payload)("scope",F.currentScope)}}function w(S,M){if(1&S&&n.nrm(0,"ds-search-settings",14),2&S){const L=n.XpG();n.Y8G("currentSortOption",L.currentSortOption)("sortOptionsList",L.sortOptionsList)}}let v=(()=>{class S{constructor(L,F){this.appConfig=L,this.searchConfigurationService=F,this.showViewModes=!0,this.inPlaceSearch=!0,this.toggleSidebar=new n.bkB,this.changeConfiguration=new n.bkB,this.changeViewMode=new n.bkB}ngOnInit(){this.showAdvancedSearch$=this.searchConfigurationService.getConfigurationAdvancedSearchFilters(this.configuration,this.currentScope).pipe((0,e.T)(L=>this.appConfig.search.advancedFilters.enabled&&L.length>0))}static#e=this.\u0275fac=function(F){return new(F||S)(n.rXU(f.vQ),n.rXU(d.g))};static#t=this.\u0275cmp=n.VBU({type:S,selectors:[["ds-base-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},standalone:!0,features:[n.aNF],decls:18,vars:21,consts:[["id","sidebar-options",1,"d-block","d-md-none","search-controls","clearfix"],[1,"results"],["aria-controls","search-content",1,"btn","btn-outline-primary","float-right","close-sidebar",3,"click"],[1,"fas","fa-arrow-right"],["id","search-sidebar-content"],["class","d-none d-md-block",3,"viewModeList","changeViewMode",4,"ngIf"],[1,"sidebar-content"],[3,"configurationList","defaultConfiguration","inPlaceSearch","changeConfiguration",4,"ngIf"],[3,"currentScope","currentConfiguration","filters","refreshFilters","inPlaceSearch"],[3,"configuration","filtersConfig","scope",4,"ngIf"],[3,"currentSortOption","sortOptionsList",4,"ngIf"],[1,"d-none","d-md-block",3,"changeViewMode","viewModeList"],[3,"changeConfiguration","configurationList","defaultConfiguration","inPlaceSearch"],[3,"configuration","filtersConfig","scope"],[3,"currentSortOption","sortOptionsList"]],template:function(F,$){1&F&&(n.j41(0,"div")(1,"div",0)(2,"small",1),n.EFF(3),n.nI1(4,"translate"),n.k0s(),n.j41(5,"button",2),n.nI1(6,"translate"),n.bIt("click",function(){return $.toggleSidebar.emit()}),n.nrm(7,"i",3),n.EFF(8),n.nI1(9,"translate"),n.k0s()(),n.j41(10,"div",4),n.DNE(11,T,1,1,"ds-view-mode-switch",5),n.j41(12,"div",6),n.DNE(13,R,1,3,"ds-search-switch-configuration",7),n.nrm(14,"ds-search-filters",8),n.DNE(15,u,2,5,"ds-advanced-search",9),n.nI1(16,"async"),n.DNE(17,w,1,2,"ds-search-settings",10),n.k0s()()()),2&F&&(n.R7$(3),n.Lme("",$.resultCount," ",n.bMT(4,13,"search.sidebar.results"),""),n.R7$(2),n.BMQ("aria-label",n.bMT(6,15,"search.sidebar.close")),n.R7$(3),n.SpI(" ",n.bMT(9,17,"search.sidebar.close")," "),n.R7$(3),n.Y8G("ngIf",$.showViewModes),n.R7$(2),n.Y8G("ngIf",$.configurationList),n.R7$(),n.Y8G("currentScope",$.currentScope)("currentConfiguration",$.configuration)("filters",$.filters)("refreshFilters",$.refreshFilters)("inPlaceSearch",$.inPlaceSearch),n.R7$(),n.Y8G("ngIf",$.inPlaceSearch&&!0===n.bMT(16,19,$.showAdvancedSearch$)),n.R7$(2),n.Y8G("ngIf",$.inPlaceSearch))},dependencies:[i.bT,y.g,I.o,b.k,O._,c.h,c.D9,E.Q,i.Jj],styles:["[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{line-height:var(--ds-button-height)}[_nghost-%COMP%]   ds-view-mode-switch[_ngcontent-%COMP%]{margin-bottom:var(--bs-spacer)}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child):not(ds-search-switch-configuration){margin-bottom:calc(4 * var(--bs-spacer));display:block}[_nghost-%COMP%]   ds-search-switch-configuration[_ngcontent-%COMP%]{margin-bottom:calc(2 * var(--bs-spacer));display:block}"]})}return S})()},59849:(B,D,t)=>{"use strict";t.d(D,{p:()=>y});var i=t(53107),c=(t(89632),t(21124));t(63496),t(88211);const g=["*"];function d(E,_){}let y=(()=>{class E extends c.J{constructor(){super(...arguments),this.toggleSidebar=new i.bkB,this.changeConfiguration=new i.bkB,this.changeViewMode=new i.bkB,this.inAndOutputNames=["configuration","configurationList","currentScope","currentSortOption","resultCount","filters","viewModeList","showViewModes","inPlaceSearch","searchOptions","sortOptionsList","refreshFilters","toggleSidebar","changeConfiguration","changeViewMode"]}getComponentName(){return"SearchSidebarComponent"}importThemedComponent(b){return t(98587)(`./${b}/app/shared/search/search-sidebar/search-sidebar.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,88211))}static#e=this.\u0275fac=(()=>{let b;return function(I){return(b||(b=i.xGo(E)))(I||E)}})();static#t=this.\u0275cmp=i.VBU({type:E,selectors:[["ds-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:g,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,I){1&O&&(i.NAR(),i.DNE(0,d,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}return E})()},22007:(B,D,t)=>{"use strict";t.d(D,{o:()=>R});var i=t(54460),n=t(53107),c=t(10936),e=t(69685),f=t(83649),g=t.n(f),d=t(67811),E=(t(3631),t(82506)),_=t(72683),b=t(67044),O=t(95968);function I(u,w){if(1&u&&(n.j41(0,"option",5),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&u){const v=w.$implicit;n.Y8G("ngValue",v),n.R7$(),n.SpI(" ",n.bMT(2,2,v.label)," ")}}function T(u,w){if(1&u){const v=n.RV6();n.j41(0,"div",1)(1,"h3",2),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"select",3),n.mxI("ngModelChange",function(M){n.eBV(v);const L=n.XpG();return n.DH7(L.selectedOption,M)||(L.selectedOption=M),n.Njj(M)}),n.bIt("change",function(){n.eBV(v);const M=n.XpG();return n.Njj(M.onSelect())}),n.DNE(5,I,3,4,"option",4),n.k0s()()}if(2&u){const v=n.XpG();n.R7$(2),n.JRh(n.bMT(3,4,"search.switch-configuration.title")),n.R7$(2),n.Y8G("compareWith",v.compare),n.R50("ngModel",v.selectedOption),n.R7$(),n.Y8G("ngForOf",v.configurationList)}}let R=(()=>{class u{constructor(v,S,M){this.router=v,this.searchService=S,this.searchConfigService=M,this.configurationList=[],this.changeConfiguration=new n.bkB}ngOnInit(){this.searchConfigService.getCurrentConfiguration(this.defaultConfiguration).subscribe(v=>{const S=g()(this.configurationList,{value:v});this.selectedOption=this.configurationList[S]})}onSelect(){const v={queryParams:{configuration:this.selectedOption.value}};this.changeConfiguration.emit(this.selectedOption),this.router.navigate(this.getSearchLinkParts(),v)}compare(v,S){return v===S}ngOnDestroy(){(0,_.a4)(this.sub)&&this.sub.unsubscribe()}getSearchLink(){return this.inPlaceSearch?(0,b.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}static#e=this.\u0275fac=function(S){return new(S||u)(n.rXU(O.Ix),n.rXU(d.S),n.rXU(E.EN))};static#t=this.\u0275cmp=n.VBU({type:u,selectors:[["ds-search-switch-configuration"]],inputs:{inPlaceSearch:"inPlaceSearch",configurationList:"configurationList",defaultConfiguration:"defaultConfiguration"},outputs:{changeConfiguration:"changeConfiguration"},standalone:!0,features:[n.aNF],decls:1,vars:1,consts:[["class","search-switch-configuration",4,"ngIf"],[1,"search-switch-configuration"],["id","configuration-switch"],["aria-labelledby","configuration-switch",1,"form-control",3,"ngModelChange","change","compareWith","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(S,M){1&S&&n.DNE(0,T,6,6,"div",0),2&S&&n.Y8G("ngIf",(null==M.configurationList?null:M.configurationList.length)>1)},dependencies:[i.bT,c.YN,c.xH,c.y7,c.wz,c.BC,c.vS,i.pM,e.h,e.D9]})}return u})()},51740:(B,D,t)=>{"use strict";t.r(D),t.d(D,{SearchComponent:()=>ne});var i=t(54460),n=t(53107),c=t(95968),e=t(69685),f=t(84984),g=t.n(f),d=t(71217),y=t(76627),E=t(47947),_=t(66645),b=t(22867),O=t(41483),I=t(88627),T=t(18062),R=t(68605),u=t(67873),w=t(98985),v=t(71526),S=t(12007),M=t(67811),F=(t(3631),t(15497)),$=t(82506),j=t(13264),x=t(72683),G=t(744),V=(t(79599),t(85941)),X=t(14581),K=t(62850),ae=t(24106),Q=t(67044),J=t(45400),z=t(63496),q=t(77822),ee=t(21049),de=t(59849);const Ce=[[["","searchContentTop",""]],[["","additionalSearchOptions",""]]],Z=["[searchContentTop]","[additionalSearchOptions]"];function le(Ee,ke){}function De(Ee,ke){1&Ee&&n.DNE(0,le,0,0,"ng-template")}function pe(Ee,ke){if(1&Ee&&(n.j41(0,"div",6)(1,"div",7)(2,"div",8),n.DNE(3,De,1,0,null,9),n.k0s()()()),2&Ee){n.XpG();const dt=n.sdS(11);n.R7$(3),n.Y8G("ngTemplateOutlet",dt)}}function re(Ee,ke){}function ve(Ee,ke){1&Ee&&n.DNE(0,re,0,0,"ng-template")}function fe(Ee,ke){if(1&Ee&&(n.j41(0,"div"),n.DNE(1,ve,1,0,null,9),n.k0s()),2&Ee){n.XpG();const dt=n.sdS(7);n.R7$(),n.Y8G("ngTemplateOutlet",dt)}}function Ie(Ee,ke){}function Ne(Ee,ke){1&Ee&&n.DNE(0,Ie,0,0,"ng-template")}function qe(Ee,ke){if(1&Ee&&(n.j41(0,"ds-page-with-sidebar",10),n.DNE(1,Ne,1,0,null,9),n.k0s()),2&Ee){const dt=n.XpG(),Bt=n.sdS(7),wt=n.sdS(9);n.Y8G("id","search-page")("sideBarWidth",dt.sideBarWidth)("sidebarContent",wt),n.R7$(),n.Y8G("ngTemplateOutlet",Bt)}}function we(Ee,ke){}function Be(Ee,ke){1&Ee&&n.DNE(0,we,0,0,"ng-template")}function Ve(Ee,ke){if(1&Ee&&(n.qex(0),n.DNE(1,Be,1,0,null,9),n.bVm()),2&Ee){n.XpG(3);const dt=n.sdS(11);n.R7$(),n.Y8G("ngTemplateOutlet",dt)}}function et(Ee,ke){if(1&Ee&&(n.j41(0,"div",8),n.DNE(1,Ve,2,1,"ng-container",4),n.SdG(2,1),n.k0s()),2&Ee){const dt=n.XpG(2);n.R7$(),n.Y8G("ngIf",dt.searchEnabled)}}function yt(Ee,ke){if(1&Ee&&n.nrm(0,"ds-view-mode-switch",18),2&Ee){const dt=n.XpG(2);n.Y8G("viewModeList",dt.viewModeList)("inPlaceSearch",dt.inPlaceSearch)}}function it(Ee,ke){if(1&Ee){const dt=n.RV6();n.j41(0,"ds-search-results",19),n.nI1(1,"async"),n.nI1(2,"async"),n.nI1(3,"async"),n.nI1(4,"async"),n.bIt("contentChange",function(wt){n.eBV(dt);const tn=n.XpG(2);return n.Njj(tn.onContentChange(wt))})("deselectObject",function(wt){n.eBV(dt);const tn=n.XpG(2);return n.Njj(tn.deselectObject.emit(wt))})("selectObject",function(wt){n.eBV(dt);const tn=n.XpG(2);return n.Njj(tn.selectObject.emit(wt))}),n.k0s()}if(2&Ee){const dt=n.XpG(2);n.Y8G("searchResults",n.bMT(1,10,dt.resultsRD$))("searchConfig",n.bMT(2,12,dt.searchOptions$))("configuration",n.bMT(3,14,dt.currentConfiguration$))("disableHeader",!dt.searchEnabled)("linkType",dt.linkType)("context",n.bMT(4,16,dt.currentContext$))("selectable",dt.selectable)("selectionConfig",dt.selectionConfig)("showCsvExport",dt.showCsvExport)("showThumbnails",dt.showThumbnails)}}function at(Ee,ke){if(1&Ee){const dt=n.RV6();n.j41(0,"div",7),n.DNE(1,et,3,1,"div",11),n.nI1(2,"async"),n.j41(3,"div",12)(4,"div",13),n.DNE(5,yt,1,2,"ds-view-mode-switch",14),n.j41(6,"button",15),n.bIt("click",function(){n.eBV(dt);const wt=n.XpG();return n.Njj(wt.openSidebar())}),n.nrm(7,"i",16),n.EFF(8),n.nI1(9,"translate"),n.k0s()(),n.SdG(10),n.DNE(11,it,5,18,"ds-search-results",17),n.k0s()()}if(2&Ee){const dt=n.XpG();n.R7$(),n.Y8G("ngIf",!0!==n.bMT(2,4,dt.isXsOrSm$)),n.R7$(4),n.Y8G("ngIf",dt.inPlaceSearch&&dt.showViewModes),n.R7$(3),n.SpI(" ",n.bMT(9,6,"search.sidebar.open")," "),n.R7$(3),n.Y8G("ngIf",dt.inPlaceSearch)}}function Yt(Ee,ke){if(1&Ee){const dt=n.RV6();n.j41(0,"ds-search-sidebar",22),n.nI1(1,"async"),n.nI1(2,"async"),n.nI1(3,"async"),n.nI1(4,"async"),n.nI1(5,"async"),n.nI1(6,"async"),n.bIt("changeConfiguration",function(wt){n.eBV(dt);const tn=n.XpG(2);return n.Njj(tn.changeContext(wt.context))})("changeViewMode",function(){n.eBV(dt);const wt=n.XpG(2);return n.Njj(wt.changeViewMode())}),n.k0s()}if(2&Ee){let dt;const Bt=n.XpG(2);n.Y8G("configurationList",Bt.configurationList)("configuration",n.bMT(1,12,Bt.currentConfiguration$))("currentScope",n.bMT(2,14,Bt.currentScope$))("filters",Bt.filtersRD$.asObservable())("refreshFilters",Bt.refreshFilters)("resultCount",null==(dt=n.bMT(3,16,Bt.resultsRD$))||null==dt.payload?null:dt.payload.totalElements)("searchOptions",n.bMT(4,18,Bt.searchOptions$))("sortOptionsList",n.bMT(5,20,Bt.sortOptionsList$))("currentSortOption",n.bMT(6,22,Bt.currentSortOptions$))("inPlaceSearch",Bt.inPlaceSearch)("viewModeList",Bt.viewModeList)("showViewModes",Bt.showViewModes)}}function nn(Ee,ke){if(1&Ee){const dt=n.RV6();n.j41(0,"ds-search-sidebar",23),n.nI1(1,"async"),n.nI1(2,"async"),n.nI1(3,"async"),n.nI1(4,"async"),n.nI1(5,"async"),n.nI1(6,"async"),n.bIt("toggleSidebar",function(){n.eBV(dt);const wt=n.XpG(2);return n.Njj(wt.closeSidebar())})("changeConfiguration",function(wt){n.eBV(dt);const tn=n.XpG(2);return n.Njj(tn.changeContext(wt.context))})("changeViewMode",function(){n.eBV(dt);const wt=n.XpG(2);return n.Njj(wt.changeViewMode())}),n.k0s()}if(2&Ee){let dt;const Bt=n.XpG(2);n.Y8G("configurationList",Bt.configurationList)("configuration",n.bMT(1,12,Bt.currentConfiguration$))("currentScope",n.bMT(2,14,Bt.currentScope$))("filters",Bt.filtersRD$.asObservable())("refreshFilters",Bt.refreshFilters)("resultCount",null==(dt=n.bMT(3,16,Bt.resultsRD$))||null==dt.payload?null:dt.payload.totalElements)("searchOptions",n.bMT(4,18,Bt.searchOptions$))("sortOptionsList",n.bMT(5,20,Bt.sortOptionsList$))("currentSortOption",n.bMT(6,22,Bt.currentSortOptions$))("inPlaceSearch",Bt.inPlaceSearch)("viewModeList",Bt.viewModeList)("showViewModes",Bt.showViewModes)}}function je(Ee,ke){if(1&Ee&&(n.DNE(0,Yt,7,24,"ds-search-sidebar",20),n.nI1(1,"async"),n.DNE(2,nn,7,24,"ds-search-sidebar",21),n.nI1(3,"async")),2&Ee){const dt=n.XpG();n.Y8G("ngIf",!0!==n.bMT(1,2,dt.isXsOrSm$)),n.R7$(2),n.Y8G("ngIf",n.bMT(3,4,dt.isXsOrSm$))}}function Re(Ee,ke){if(1&Ee&&(n.nrm(0,"ds-search-form",24),n.nI1(1,"async"),n.nI1(2,"async"),n.nI1(3,"translate"),n.j41(4,"div",25)(5,"div",26),n.nrm(6,"ds-search-labels",27),n.k0s()()),2&Ee){let dt,Bt;const wt=n.XpG();n.Y8G("query",null==(dt=n.bMT(1,8,wt.searchOptions$))?null:dt.query)("scope",null==(Bt=n.bMT(2,10,wt.searchOptions$))?null:Bt.scope)("hideScopeInUrl",wt.hideScopeInUrl)("currentUrl",wt.searchLink)("showScopeSelector",wt.showScopeSelector)("inPlaceSearch",wt.inPlaceSearch)("searchPlaceholder",n.bMT(3,12,wt.searchFormPlaceholder)),n.R7$(6),n.Y8G("inPlaceSearch",wt.inPlaceSearch)}}let ne=(()=>{class Ee{constructor(dt,Bt,wt,tn,It,$t,Zt){this.service=dt,this.sidebarService=Bt,this.windowService=wt,this.searchConfigService=tn,this.routeService=It,this.router=$t,this.appConfig=Zt,this.configurationList=[],this.context=v.o.Search,this.useCachedVersionIfAvailable=!0,this.inPlaceSearch=!0,this.paginationId="spc",this.searchEnabled=!0,this.sideBarWidth=3,this.searchFormPlaceholder="search.search-form.placeholder",this.selectable=!1,this.showCsvExport=!1,this.showSidebar=!0,this.showViewModes=!0,this.showScopeSelector=!0,this.trackStatistics=!1,this.currentConfiguration$=new d.t(""),this.currentContext$=new d.t(null),this.currentSortOptions$=new d.t(null),this.filtersRD$=new d.t(null),this.resultsRD$=new d.t(null),this.searchOptions$=new d.t(null),this.sortOptionsList$=new d.t([]),this.initialized$=new d.t(!1),this.refreshFilters=new d.t(!1),this.uuidRegex=/\b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b/g,this.allowedObjectPaths=["entities",F.xb,R.CC,u.b2],this.subs=[],this.resultFound=new n.bkB,this.deselectObject=new n.bkB,this.selectObject=new n.bkB,this.isXsOrSm$=this.windowService.isXsOrSm()}ngOnInit(){this.useUniquePageId&&(this.paginationId=g()(this.paginationId)),this.searchConfigService.setPaginationId(this.paginationId),(0,x.a4)(this.configuration)&&this.routeService.setParameter("configuration",this.configuration),(0,x.a4)(this.fixedFilterQuery)&&this.routeService.setParameter("fixedFilterQuery",this.fixedFilterQuery),this.currentScope$=this.routeService.getQueryParameterValue("scope").pipe((0,E.T)(It=>(0,x.a4)(It)?It:this.scope??"")),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.searchLink=this.getSearchLink(),this.currentContext$.next(this.context);const dt=this.searchConfigService.getCurrentConfiguration(this.configuration).pipe((0,_.F)()),Bt=(0,y.z)([dt,this.currentScope$]).pipe((0,b.n)(([It,$t])=>this.searchConfigService.getConfigurationSearchConfig(It,$t)),(0,E.T)(It=>this.searchConfigService.getConfigurationSortOptions(It)),(0,_.F)()),wt=Bt.pipe((0,b.n)(It=>this.searchConfigService.getCurrentSort(this.paginationId,It[0])),(0,_.F)()),tn=this.getSearchOptions().pipe((0,_.F)());this.subs.push((0,y.z)([dt,Bt,tn,wt,this.currentScope$]).pipe((0,O.p)(([It,$t,Zt,mn,Rn])=>Zt.pagination.id===this.paginationId),(0,I.B)(100)).subscribe(([It,$t,Zt,mn,Rn])=>{const os=Object.assign({},Zt,{configuration:Zt.configuration||It,sort:mn||Zt.sort});""===os.query&&(os.query=this.query),(0,x.Im)(os.scope)&&(os.scope=Rn);const Mn=new z.C(os);JSON.stringify(Mn)!==JSON.stringify(this.searchOptions$.value)&&(this.currentConfiguration$.next(It),this.currentSortOptions$.next(Mn.sort),this.sortOptionsList$.next($t),this.searchOptions$.next(Mn),this.initialized$.next(!0),this.retrieveSearchResults(Mn),this.retrieveFilters(Mn))})),this.subscribeToRoutingEvents()}changeContext(dt){this.currentContext$.next(dt)}closeSidebar(){this.sidebarService.collapse()}changeViewMode(){this.resultsRD$.next(null)}openSidebar(){this.sidebarService.expand()}onContentChange(dt){this.retrieveFilters(this.lastSearchOptions),this.refreshFilters.next(!0)}ngOnDestroy(){this.subs.filter(dt=>(0,x.a4)(dt)).forEach(dt=>dt.unsubscribe())}getSearchOptions(){return this.searchConfigService.paginatedSearchOptions}retrieveFilters(dt){this.searchConfigService.getConfig(dt.scope,dt.configuration).pipe((0,S.qD)()).subscribe(Bt=>{this.filtersRD$.next(Bt)})}retrieveSearchResults(dt){this.resultsRD$.next(null),this.lastSearchOptions=dt;const Bt=[(0,ae.s)("thumbnail",{isOptional:!0}),(0,ae.s)("item",{isOptional:!0},(0,ae.s)("thumbnail",{isOptional:!0}))];this.appConfig.item.showAccessStatuses&&Bt.push((0,ae.s)("accessStatus",{isOptional:!0})),"supervision"===this.configuration&&Bt.push((0,ae.s)("supervisionOrders",{isOptional:!0}));const wt=Object.assign(new z.C({}),dt);(0,x.hj)(this.hiddenQuery)&&(wt.query=(0,x.hj)(wt.query)?wt.query+" AND "+this.hiddenQuery:this.hiddenQuery),this.service.search(wt,void 0,this.useCachedVersionIfAvailable,!0,...Bt).pipe((0,S.qD)()).subscribe(tn=>{tn.hasSucceeded&&(this.trackStatistics&&this.service.trackSearch(wt,tn.payload),tn.payload?.page?.length>0&&this.resultFound.emit(tn.payload)),this.resultsRD$.next(tn)})}subscribeToRoutingEvents(){this.trackStatistics&&this.subs.push(this.router.events.pipe((0,O.p)(dt=>dt instanceof c.Z),(0,E.T)(dt=>this.getDsoUUIDFromUrl(dt.url)),(0,x.Az)()).subscribe(dt=>{this.resultsRD$.value.hasSucceeded&&this.service.trackSearch(this.searchOptions$.value,this.resultsRD$.value.payload,dt)}))}getDsoUUIDFromUrl(dt){if((0,x.hj)(dt)&&this.allowedObjectPaths.some(Bt=>dt.startsWith(`/${Bt}`))){const Bt=dt.substring(dt.lastIndexOf("/")+1);if(Bt.match(this.uuidRegex))return Bt}return null}isSidebarCollapsed(){return this.sidebarService.isCollapsed}getSearchLink(){return this.inPlaceSearch?(0,Q.N)(this.router):this.service.getSearchLink()}static#e=this.\u0275fac=function(Bt){return new(Bt||Ee)(n.rXU(M.S),n.rXU(K.o),n.rXU(G.CV),n.rXU($.EN),n.rXU(w.v$),n.rXU(c.Ix),n.rXU(T.vQ))};static#t=this.\u0275cmp=n.VBU({type:Ee,selectors:[["ds-base-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",hiddenQuery:"hiddenQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[n.aNF],ngContentSelectors:Z,decls:12,vars:9,consts:[["searchContent",""],["sidebarContent",""],["searchForm",""],["class","container",4,"ngIf"],[4,"ngIf"],[3,"id","sideBarWidth","sidebarContent",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],[3,"id","sideBarWidth","sidebarContent"],["class","col-12",4,"ngIf"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch",4,"ngIf"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-right","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails","contentChange","deselectObject","selectObject",4,"ngIf"],[3,"viewModeList","inPlaceSearch"],[3,"contentChange","deselectObject","selectObject","searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar",3,"changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"toggleSidebar","changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-form",3,"query","scope","hideScopeInUrl","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-12"],[3,"inPlaceSearch"]],template:function(Bt,wt){1&Bt&&(n.NAR(Ce),n.DNE(0,pe,4,1,"div",3),n.nI1(1,"async"),n.DNE(2,fe,2,1,"div",4),n.nI1(3,"async"),n.DNE(4,qe,2,4,"ds-page-with-sidebar",5),n.nI1(5,"async"),n.DNE(6,at,12,8,"ng-template",null,0,n.C5r)(8,je,4,6,"ng-template",null,1,n.C5r)(10,Re,7,14,"ng-template",null,2,n.C5r)),2&Bt&&(n.Y8G("ngIf",wt.searchEnabled&&n.bMT(1,3,wt.isXsOrSm$)),n.R7$(2),n.Y8G("ngIf",!wt.showSidebar&&n.bMT(3,5,wt.initialized$)),n.R7$(2),n.Y8G("ngIf",wt.showSidebar&&n.bMT(5,7,wt.initialized$)))},dependencies:[i.Jj,i.bT,i.T3,X.f,V.d,ee.N,de.p,e.h,e.D9,q.L,J.g],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[j.W]},changeDetection:0})}return Ee})()},50826:(B,D,t)=>{"use strict";t.d(D,{SB:()=>n,gp:()=>e,mq:()=>f});var i=t(72683);function n(g,d){const y=new RegExp(`[?|&]${c(encodeURIComponent(d.paramName))}=(${c(encodeURIComponent(g.value))}[^&]*)`,"g");if((0,i.hj)(g._links)){const E=y.exec(g._links.search.href);if((0,i.hj)(E))return decodeURIComponent(E[1])}return g.authorityKey?f(g.authorityKey,"authority"):f(g.value,"equals")}function c(g){return g.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function e(g){return g.match(new RegExp(".+,(equals|query|authority)$"))?g.substring(0,g.lastIndexOf(",")):g}function f(g,d){return g.match(new RegExp("^.+,(equals|query|authority|contains|notcontains|notequals)$"))?g:`${g},${d}`}},63226:(B,D,t)=>{"use strict";t.d(D,{N:()=>y});var i=t(53107),e=(t(71526),t(79599),t(21124));t(51740);const g=["*"];function d(E,_){}let y=(()=>{class E extends e.J{constructor(){super(...arguments),this.inAndOutputNames=["configurationList","context","configuration","fixedFilterQuery","hiddenQuery","useCachedVersionIfAvailable","inPlaceSearch","linkType","paginationId","searchEnabled","sideBarWidth","searchFormPlaceholder","selectable","selectionConfig","showCsvExport","showSidebar","showThumbnails","showViewModes","useUniquePageId","viewModeList","showScopeSelector","trackStatistics","query","scope","hideScopeInUrl","resultFound","deselectObject","selectObject"],this.resultFound=new i.bkB,this.deselectObject=new i.bkB,this.selectObject=new i.bkB}getComponentName(){return"SearchComponent"}importThemedComponent(b){return t(13390)(`./${b}/app/shared/search/search.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,51740))}static#e=this.\u0275fac=(()=>{let b;return function(I){return(b||(b=i.xGo(E)))(I||E)}})();static#t=this.\u0275cmp=i.VBU({type:E,selectors:[["ds-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",hiddenQuery:"hiddenQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:g,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,I){1&O&&(i.NAR(),i.DNE(0,d,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}return E})()},14581:(B,D,t)=>{"use strict";t.d(D,{f:()=>_});var i=t(54460),n=t(47947),c=t(13264),e=t(744),f=t(62850),g=t(53107);const d=["*"];function y(b,O){1&b&&g.eu8(0)}function E(b,O){if(1&b&&(g.j41(0,"div",4),g.nI1(1,"async"),g.nI1(2,"async"),g.nI1(3,"async"),g.DNE(4,y,1,0,"ng-container",5),g.k0s()),2&b){const I=g.XpG();g.STu("col-12 col-md-",I.sideBarWidth," sidebar-content ",g.bMT(1,9,I.sidebarClasses),""),g.AVh("invisible",!0===g.bMT(2,11,I.isSidebarCollapsed$)&&!0===g.bMT(3,13,I.isXsOrSm$)),g.Mz_("id","",I.id,"-sidebar-content"),g.R7$(4),g.Y8G("ngTemplateOutlet",I.sidebarContent)}}let _=(()=>{class b{constructor(I,T){this.sidebarService=I,this.windowService=T,this.sideBarWidth=3}ngOnInit(){this.isXsOrSm$=this.windowService.isXsOrSm(),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.sidebarClasses=this.isSidebarCollapsed$.pipe((0,n.T)(I=>I?"":"active"))}isSidebarCollapsed(){return this.sidebarService.isCollapsed}closeSidebar(){this.sidebarService.collapse()}openSidebar(){this.sidebarService.expand()}static#e=this.\u0275fac=function(T){return new(T||b)(g.rXU(f.o),g.rXU(e.CV))};static#t=this.\u0275cmp=g.VBU({type:b,selectors:[["ds-page-with-sidebar"]],inputs:{id:"id",sidebarContent:"sidebarContent",sideBarWidth:"sideBarWidth"},standalone:!0,features:[g.aNF],ngContentSelectors:d,decls:9,vars:15,consts:[[1,"container"],[1,"row"],[1,"row-with-sidebar","row-offcanvas","row-offcanvas-left"],[3,"id","invisible","class",4,"ngIf"],[3,"id"],[4,"ngTemplateOutlet"]],template:function(T,R){1&T&&(g.NAR(),g.j41(0,"div",0)(1,"div",1)(2,"div",2),g.nI1(3,"async"),g.DNE(4,E,5,15,"div",3),g.j41(5,"div"),g.nI1(6,"async"),g.nI1(7,"async"),g.SdG(8),g.k0s()()()()),2&T&&(g.R7$(2),g.Y8G("@pushInOut",g.bMT(3,9,R.isSidebarCollapsed$)?"collapsed":"expanded"),g.R7$(2),g.Y8G("ngIf",R.sideBarWidth>0),g.R7$(),g.ZvI("col-12 col-md-",12-R.sideBarWidth,""),g.AVh("px-0",0===R.sideBarWidth)("invisible",!0!==g.bMT(6,11,R.isSidebarCollapsed$)&&!0===g.bMT(7,13,R.isXsOrSm$)))},dependencies:[i.Jj,i.T3,i.bT],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}.row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{width:100%}@media (min-width: 768px){.row-with-sidebar[_ngcontent-%COMP%]{display:flex}}@media (max-width: 767.98px){.row-with-sidebar[_ngcontent-%COMP%], .row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{position:relative}.row-with-sidebar.row-offcanvas-right[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{right:-100%}.row-with-sidebar.row-offcanvas-left[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{left:-100%}.row-with-sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{position:absolute;top:0;width:100%}}@media (min-width: 768px){.sidebar-content[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:0;z-index:var(--bs-zindex-sticky);padding-top:var(--ds-content-spacing);margin-top:calc(-1 * var(--ds-content-spacing));align-self:flex-start;display:block}}"],data:{animation:[c.W]}})}return b})()},1876:(B,D,t)=>{"use strict";t.d(D,{v:()=>e});var i=t(53107),n=t(69685);const c=["*"];let e=(()=>{class f{constructor(){this.changed=new i.bkB}static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275cmp=i.VBU({type:f,selectors:[["ds-sidebar-dropdown"]],inputs:{id:"id",label:"label"},outputs:{changed:"changed"},standalone:!0,features:[i.aNF],ngContentSelectors:c,decls:7,vars:5,consts:[[1,"setting-option","mb-3","p-3"],[3,"for"],[1,"form-control",3,"change","id"]],template:function(y,E){1&y&&(i.NAR(),i.j41(0,"div",0)(1,"h4")(2,"label",1),i.EFF(3),i.nI1(4,"translate"),i.k0s()(),i.j41(5,"select",2),i.bIt("change",function(b){return E.changed.emit(b)}),i.SdG(6),i.k0s()()),2&y&&(i.R7$(2),i.FS9("for",E.id),i.R7$(),i.JRh(i.bMT(4,3,E.label)),i.R7$(2),i.FS9("id",E.id))},dependencies:[n.h,n.D9],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}return f})()},89994:(B,D,t)=>{"use strict";t.d(D,{EI:()=>c,Kd:()=>n,pm:()=>e});var i=t(83770);const n={COLLAPSE:(0,i.N)("dspace/sidebar/COLLAPSE"),EXPAND:(0,i.N)("dspace/sidebar/EXPAND"),TOGGLE:(0,i.N)("dspace/sidebar/TOGGLE")};class c{constructor(){this.type=n.COLLAPSE}}class e{constructor(){this.type=n.EXPAND}}},62850:(B,D,t)=>{"use strict";t.d(D,{o:()=>E});var i=t(73958),n=t(76627),c=t(47947),e=t(744),f=t(89994),g=t(53107);const y=(0,i.Mz)(_=>_.sidebar,_=>_.sidebarCollapsed);let E=(()=>{class _{constructor(O,I){this.store=O,this.windowService=I,this.isXsOrSm$=this.windowService.isXsOrSm(),this.isCollapsedInStore=this.store.pipe((0,i.Lt)(y))}get isCollapsed(){return(0,n.z)(this.isXsOrSm$,this.isCollapsedInStore).pipe((0,c.T)(([O,I])=>!O||I))}collapse(){this.store.dispatch(new f.EI)}expand(){this.store.dispatch(new f.pm)}static#e=this.\u0275fac=function(I){return new(I||_)(g.KVO(i.il),g.KVO(e.CV))};static#t=this.\u0275prov=g.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},54234:(B,D,t)=>{"use strict";t.d(D,{P5:()=>u});var i=t(54460),n=t(10936),c=t(69685),e=t(72683),f=t(95438),g=t(19904),d=t(53107),y=t(95968);let E=(()=>{class w{constructor(S,M,L){this.paginationService=S,this.route=M,this.router=L,this.subs=[]}ngOnInit(){this.subs.push(this.route.queryParams.subscribe(S=>{(0,e.a4)(S.startsWith)&&this.setStartsWith(S.startsWith)})),this.formData=new n.J3({startsWith:new n.hs})}getStartsWith(){return this.startsWith}setStartsWith(S){this.startsWith=S}setStartsWithParam(S=!0){"-1"===this.startsWith&&(this.startsWith=void 0),S?this.paginationService.updateRoute(this.paginationId,{page:1},{startsWith:this.startsWith}):this.router.navigate([],{queryParams:Object.assign({startsWith:this.startsWith}),queryParamsHandling:"merge"})}submitForm(S){this.startsWith=S.startsWith,this.setStartsWithParam()}ngOnDestroy(){this.subs.filter(S=>(0,e.a4)(S)).forEach(S=>S.unsubscribe())}static#e=this.\u0275fac=function(M){return new(M||w)(d.rXU(f.m),d.rXU(y.nX),d.rXU(y.Ix))};static#t=this.\u0275cmp=d.VBU({type:w,selectors:[["ds-start-with-abstract"]],inputs:{paginationId:"paginationId",startsWithOptions:"startsWithOptions",type:"type"},decls:0,vars:0,template:function(M,L){},encapsulation:2})}return w})();function _(w,v){if(1&w&&(d.j41(0,"option",5),d.EFF(1),d.k0s()),2&w){const S=v.$implicit,M=d.XpG();d.Y8G("value",S)("selected",S===M.startsWithYear?"selected":null),d.R7$(),d.SpI(" ",S," ")}}function b(w,v){if(1&w&&(d.j41(0,"option",5),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&w){const S=v.$implicit,M=d.XpG();d.Y8G("value",S)("selected",S===M.startsWithMonth?"selected":null),d.R7$(),d.SpI(" ",d.bMT(2,3,"browse.startsWith.months."+S)," ")}}let O=(()=>{class w extends E{constructor(){super(...arguments),this.startsWithMonth="none"}ngOnInit(){this.monthOptions=["none","january","february","march","april","may","june","july","august","september","october","november","december"],super.ngOnInit()}setStartsWithYearEvent(S){this.startsWithYear=+S.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}setStartsWithMonthEvent(S){this.startsWithMonth=S.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}getStartsWith(){const S=this.getStartsWithMonth();if(S>0&&(0,e.a4)(this.startsWithYear)&&-1!==this.startsWithYear){let M=""+S;return S<10&&(M=`0${S}`),`${this.startsWithYear}-${M}`}return(0,e.a4)(this.startsWithYear)&&this.startsWithYear>0?""+this.startsWithYear:void 0}setStartsWithYearMonth(){this.startsWith=this.getStartsWith()}setStartsWith(S){if(this.startsWith=S,(0,e.a4)(S)&&S.indexOf("-")>-1){const M=S.split("-");this.startsWithYear=+M[0];const L=+M[1];this.startsWithMonth=L<this.monthOptions.length?this.monthOptions[L]:this.monthOptions[0]}else this.startsWithYear=+S}getStartsWithMonth(){return this.monthOptions.indexOf(this.startsWithMonth)}static#e=this.\u0275fac=(()=>{let S;return function(L){return(S||(S=d.xGo(w)))(L||w)}})();static#t=this.\u0275cmp=d.VBU({type:w,selectors:[["ds-starts-with-date"]],standalone:!0,features:[d.Vt3,d.aNF],decls:25,vars:27,consts:[[1,"w-100",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12","font-weight-bold","mb-1"],[1,"col-6","col-md-2"],["id","year-select",1,"form-control",3,"change"],[3,"value","selected"],[3,"value","selected",4,"ngFor","ngForOf"],["id","month-select",1,"form-control",3,"change"],[1,"form-group","input-group","col-12","col-md-6","pt-1","pt-md-0"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],[1,"input-group-append"],["type","submit",1,"btn","btn-primary"],[1,"fas","fa-book-open"]],template:function(M,L){1&M&&(d.j41(0,"form",0),d.bIt("ngSubmit",function(){return L.submitForm(L.formData.value)}),d.j41(1,"div",1)(2,"span",2),d.EFF(3),d.nI1(4,"translate"),d.k0s(),d.j41(5,"div",3)(6,"select",4),d.nI1(7,"translate"),d.bIt("change",function($){return L.setStartsWithYearEvent($)}),d.j41(8,"option",5),d.EFF(9),d.nI1(10,"translate"),d.k0s(),d.DNE(11,_,2,3,"option",6),d.k0s()(),d.j41(12,"div",3)(13,"select",7),d.nI1(14,"translate"),d.bIt("change",function($){return L.setStartsWithMonthEvent($)}),d.DNE(15,b,3,5,"option",6),d.k0s()(),d.j41(16,"div",8),d.nrm(17,"input",9),d.nI1(18,"translate"),d.nI1(19,"translate"),d.j41(20,"span",10)(21,"button",11),d.nrm(22,"i",12),d.EFF(23),d.nI1(24,"translate"),d.k0s()()()()()),2&M&&(d.Y8G("formGroup",L.formData),d.R7$(3),d.SpI(" ",d.bMT(4,13,"browse.startsWith.jump")," "),d.R7$(3),d.BMQ("aria-label",d.bMT(7,15,"browse.startsWith.choose_year.label")),d.R7$(2),d.Y8G("value",-1)("selected",!L.startsWithYear),d.R7$(),d.SpI(" ",d.bMT(10,17,"browse.startsWith.choose_year")," "),d.R7$(2),d.Y8G("ngForOf",L.startsWithOptions),d.R7$(2),d.BMQ("aria-label",d.bMT(14,19,"browse.startsWith.months.none.label")),d.R7$(2),d.Y8G("ngForOf",L.monthOptions),d.R7$(2),d.FS9("placeholder",d.bMT(18,21,"browse.startsWith.type_date")),d.Y8G("value",L.getStartsWith()?L.getStartsWith():""),d.BMQ("aria-label",d.bMT(19,23,"browse.startsWith.type_date.label")),d.R7$(6),d.SpI(" ",d.bMT(24,25,"browse.startsWith.submit"),""))},dependencies:[n.YN,n.qT,n.xH,n.y7,n.me,n.BC,n.cb,n.X1,n.j4,n.JD,i.pM,c.h,c.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}"]})}return w})();const T=new Map([[g.c.text,(()=>{class w extends E{getStartsWith(){return(0,e.a4)(this.startsWith)?this.startsWith:""}setStartsWithParam(S=!0){"0-9"===this.startsWith&&(this.startsWith="0"),super.setStartsWithParam(S)}static#e=this.\u0275fac=(()=>{let S;return function(L){return(S||(S=d.xGo(w)))(L||w)}})();static#t=this.\u0275cmp=d.VBU({type:w,selectors:[["ds-starts-with-text"]],standalone:!0,features:[d.Vt3,d.aNF],decls:15,vars:14,consts:[[1,"w-100",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"row"],[1,"form-group","input-group","col-sm-12","col-md-6","col-auto"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],[1,"input-group-append"],["type","submit",1,"btn","btn-primary"],[1,"fas","fa-book-open"],[1,"text-muted"]],template:function(M,L){1&M&&(d.j41(0,"form",0),d.bIt("ngSubmit",function(){return L.submitForm(L.formData.value)}),d.j41(1,"div",1)(2,"div",2)(3,"div",3),d.nrm(4,"input",4),d.nI1(5,"translate"),d.nI1(6,"translate"),d.j41(7,"span",5)(8,"button",6),d.nrm(9,"i",7),d.EFF(10),d.nI1(11,"translate"),d.k0s()()()(),d.j41(12,"small",8),d.EFF(13),d.nI1(14,"translate"),d.k0s()()()),2&M&&(d.Y8G("formGroup",L.formData),d.R7$(4),d.FS9("placeholder",d.bMT(5,6,"browse.search-form.placeholder")),d.Y8G("value",L.getStartsWith()),d.BMQ("aria-label",d.bMT(6,8,"browse.startsWith.input")),d.R7$(6),d.SpI(" ",d.bMT(11,10,"browse.startsWith.submit"),""),d.R7$(3),d.JRh(d.bMT(14,12,"browse.startsWith.type_text")))},dependencies:[n.YN,n.qT,n.me,n.BC,n.cb,n.X1,n.j4,n.JD,c.h,c.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:0}"]})}return w})()],[g.c.date,O]]);function u(w){return T.get(w)}},21142:(B,D,t)=>{"use strict";t.d(D,{u:()=>g});var i=t(76794),n=t(54234),e=(t(19904),t(53107));function f(d,y){}let g=(()=>{class d extends i.e{constructor(){super(...arguments),this.inputNames=[...this.inputNames,"paginationId","startsWithOptions","type"]}getComponent(){return(0,n.P5)(this.type)}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=e.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=e.VBU({type:d,selectors:[["ds-starts-with-loader"]],inputs:{paginationId:"paginationId",startsWithOptions:"startsWithOptions",type:"type"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(_,b){1&_&&e.DNE(0,f,0,0,"ng-template",1,0,e.C5r)},encapsulation:2})}return d})()},19904:(B,D,t)=>{"use strict";t.d(D,{c:()=>i});var i=function(n){return n.text="Text",n.date="Date",n}(i||{})},6548:(B,D,t)=>{"use strict";t.d(D,{y:()=>E});var i=t(31635),n=t(47817),c=t(51698),e=t(52727),f=t(5469),g=t(47587),d=t(57905),y=t(61034);let E=class extends g.M{static#e=this.type=y.m};(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"id",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"subscriptionType",void 0),(0,i.Cg)([n.autoserialize,(0,i.Sn)("design:type",Array)],E.prototype,"subscriptionParameterList",void 0),(0,i.Cg)([n.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.N),(0,i.Sn)("design:type",c.c)],E.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(d.X),(0,i.Sn)("design:type",c.c)],E.prototype,"resource",void 0),E=(0,i.Cg)([e.gV,(0,n.inheritSerialization)(g.M)],E)},61034:(B,D,t)=>{"use strict";t.d(D,{m:()=>n});const n=new(t(98573).v)("subscription")},18864:(B,D,t)=>{"use strict";t.d(D,{K:()=>c,t:()=>n});const n={SET:(0,t(83770).N)("dspace/theme/SET")};class c{constructor(f){this.type=n.SET,this.payload={name:f}}}},39466:(B,D,t)=>{"use strict";t.d(D,{Q:()=>i});const i="base"},16182:(B,D,t)=>{"use strict";t.d(D,{Fs:()=>De});var i=t(54460),n=t(95968),c=t(73958),e=t(71217),f=t(63016),g=t(33325),d=t(81459),y=t(76564),E=t(37610),_=t(41483),b=t(22867),O=t(47947),I=t(15351),T=t(9075),u=t(42267),w=t(45670),v=t(30075),S=t(86722),M=t(66559),L=t(60875),F=t(86076),$=t(12007),j=t(72683),x=t(76977),G=t(50999),Y=t(24106),V=t(18864),X=t(39466),K=t(76627),ae=t(31829),Q=t(42237);class J{constructor(re){this.config=re}matches(re,ve){return(0,f.of)(!0)}}class z extends J{constructor(re){super(re),this.config=re,this.regex=new RegExp(this.config.regex)}matches(re,ve){let fe;const Ie=(0,ae.wN)(ve);return(0,j.hj)(Ie)&&(fe=Ie.match(this.regex)),(0,j.Tn)(fe)&&(fe=re.match(this.regex)),(0,f.of)((0,j.a4)(fe))}}class q extends J{constructor(re,ve){super(re),this.config=re,this.handleService=ve}matches(re,ve){return(0,j.a4)(ve?.handle)?(0,K.z)([this.handleService.normalizeHandle(ve?.handle),this.handleService.normalizeHandle(this.config.handle)]).pipe((0,O.T)(([fe,Ie])=>(0,j.a4)(ve)&&(0,j.a4)(ve.handle)&&fe===Ie),(0,E.s)(1)):(0,f.of)(!1)}}class ee extends J{constructor(re){super(re),this.config=re}matches(re,ve){return(0,f.of)((0,j.a4)(ve)&&ve.uuid===this.config.uuid)}}var Ce=t(53107);const Z=(0,c.UX)("theme"),le=(0,c.Mz)(Z,pe=>(0,j.a4)(pe)?pe.currentTheme:X.Q);let De=(()=>{class pe{constructor(ve,fe,Ie,Ne,qe,we,Be){this.store=ve,this.linkService=fe,this.dSpaceObjectDataService=Ie,this.injector=Ne,this.gtcf=qe,this.router=we,this.document=Be,this._isThemeLoading$=new e.t(!1),this._isThemeCSSLoading$=new e.t(!1),this.themes=S.c.themes.map(Ve=>((pe,re)=>(0,j.a4)(pe.regex)?new z(pe):(0,j.a4)(pe.handle)?new q(pe,re.get(Q.e)):(0,j.a4)(pe.uuid)?new ee(pe):new J(pe))(Ve,Ne)),this.hasDynamicTheme=S.c.themes.some(Ve=>(0,j.a4)(Ve.regex)||(0,j.a4)(Ve.handle)||(0,j.a4)(Ve.uuid))}setTheme(ve){this.store.dispatch(new V.K(ve))}getThemeName(){let ve;return this.store.pipe((0,c.Lt)(le),(0,E.s)(1)).subscribe(fe=>ve=fe),ve}getThemeName$(){return this.store.pipe((0,c.Lt)(le))}get isThemeLoading$(){return this._isThemeLoading$}listenForThemeChanges(ve){this.getThemeName$().subscribe(fe=>{if(ve&&(0,F.S)(this._isThemeCSSLoading$,!0),(0,j.a4)(fe))this.loadGlobalThemeConfig(fe);else{const Ie=(0,v.Nv)();(0,j.a4)(Ie)?this.loadGlobalThemeConfig(Ie.name):this.loadGlobalThemeConfig(X.Q)}})}listenForRouteChanges(){this.router.events.pipe((0,_.p)(ve=>ve instanceof n.gx),(0,b.n)(ve=>this.updateThemeOnRouteChange$(ve.urlAfterRedirects,ve.state.root)),(0,b.n)(ve=>ve?this._isThemeCSSLoading$:[!1])).subscribe(ve=>{(0,F.S)(this._isThemeLoading$,ve)})}loadGlobalThemeConfig(ve){this.setThemeCss(ve),this.setHeadTags(ve)}setThemeCss(ve){const fe=this.document.getElementsByTagName("head")[0];if((0,j.Tn)(fe))return;const Ie=Array.from(fe.getElementsByClassName("theme-css")),Ne=this.document.createElement("link");Ne.setAttribute("rel","stylesheet"),Ne.setAttribute("type","text/css"),Ne.setAttribute("class","theme-css"),Ne.setAttribute("href",`${encodeURIComponent(ve)}-theme.css`),Ne.onload=()=>{(0,j.hj)(Ie)&&Ie.forEach(qe=>{(0,j.a4)(qe)&&qe.remove()}),(0,F.S)(this._isThemeCSSLoading$,!1)},fe.appendChild(Ne)}setHeadTags(ve){const fe=this.document.getElementsByTagName("head")[0];if((0,j.Tn)(fe))return;const Ie=Array.from(fe.getElementsByClassName("theme-head-tag"));(0,j.a4)(Ie)&&Ie.forEach(qe=>qe.remove());const Ne=this.document.createDocumentFragment();this.createHeadTags(ve).forEach(qe=>Ne.appendChild(qe)),fe.appendChild(Ne)}createHeadTags(ve){const fe=this.getThemeConfigFor(ve),Ie=fe?.headTags;if((0,j.Tn)(Ie)){const Ne=fe?.extends;return(0,j.a4)(Ne)?this.createHeadTags(Ne):[this.createHeadTag({tagName:"link",attributes:{rel:"icon",href:"assets/images/favicon.ico",sizes:"any"}})]}return Ie.map(this.createHeadTag.bind(this))}createHeadTag(ve){const fe=this.document.createElement(ve.tagName);return(0,j.a4)(ve.attributes)&&Object.entries(ve.attributes).forEach(([Ie,Ne])=>fe.setAttribute(Ie,Ne)),fe.setAttribute("class","theme-head-tag"),fe}updateThemeOnRouteChange$(ve,fe){const Ne=this.store.pipe((0,c.Lt)(le)).pipe((0,b.n)(qe=>{const we=this.findRouteData(fe);if(!0===this.hasDynamicTheme&&(0,j.hj)(this.themes)){if((0,j.a4)(we)&&(0,j.a4)(we.data)&&(0,j.a4)(we.data.dso)){const Be=we.data.dso;if(Be.hasSucceeded)return(0,f.of)(Be.payload).pipe(this.getAncestorDSOs(),(0,b.n)(Ve=>this.matchThemeToDSOs(Ve,ve)),(0,O.T)(Ve=>this.getActionForMatch(Ve,qe)))}return(0,j.a4)(fe.queryParams)&&(0,j.a4)(fe.queryParams.scope)?this.dSpaceObjectDataService.findById(fe.queryParams.scope).pipe((0,$.yd)(),(0,$.Bo)(),this.getAncestorDSOs(),(0,b.n)(Ve=>this.matchThemeToDSOs(Ve,ve)),(0,O.T)(Ve=>this.getActionForMatch(Ve,qe))):(0,g.H)(this.themes).pipe((0,d.H)(Be=>Be.matches(ve,void 0).pipe((0,_.p)(Ve=>!0===Ve),(0,O.T)(()=>Be),(0,E.s)(1))),(0,E.s)(1),(0,O.T)(Be=>this.getActionForMatch(Be,qe)))}return(0,f.of)(new x.L)}),(0,E.s)(1));return Ne.pipe((0,_.p)(qe=>qe.type!==x.o)).subscribe(qe=>{this.store.dispatch(qe)}),Ne.pipe((0,O.T)(qe=>qe.type===V.t.SET))}findRouteData(...ve){const fe=ve.find(Ie=>(0,j.a4)(Ie.data)&&(0,j.a4)(Ie.data.dso));if((0,j.a4)(fe))return fe;{const Ie=ve.map(Ne=>Ne.children).reduce((Ne,qe)=>[...Ne,...qe]);return(0,j.hj)(Ie)?this.findRouteData(...Ie):void 0}}getAncestorDSOs(){return ve=>ve.pipe(function R(pe,re=1/0,ve){return re=(re||0)<1?1/0:re,(0,I.N)((fe,Ie)=>(0,T.h)(fe,Ie,pe,re,void 0,!0,ve))}(fe=>{if((0,j.a4)(fe)&&"function"==typeof fe.getParentLinkKey){const Ie=fe.getParentLinkKey();return this.linkService.resolveLinkWithoutAttaching(fe,(0,Y.s)(Ie)).pipe((0,$.qD)(),(0,O.T)(Ne=>(0,j.a4)(Ne.payload)?Ne.payload:null))}return y.w}),(0,_.p)(fe=>(0,j.a4)(fe)),(0,u.$)())}getActionForMatch(ve,fe){const Ie=ve?.config.name??X.Q;return Ie!==fe?new V.K(Ie):new x.L}matchThemeToDSOs(ve,fe){return(0,g.H)(this.themes).pipe((0,d.H)(Ie=>(0,g.H)(ve).pipe((0,d.H)(Ne=>Ie.matches(fe,Ne)),(0,_.p)(Ne=>!0===Ne),(0,O.T)(()=>Ie),(0,E.s)(1))),(0,E.s)(1),(0,w.U)(void 0))}getThemeConfigFor(ve){return this.gtcf(ve)}static#e=this.\u0275fac=function(fe){return new(fe||pe)(Ce.KVO(c.il),Ce.KVO(M._),Ce.KVO(L.DSpaceObjectDataService),Ce.KVO(Ce.zZn),Ce.KVO(G.zD),Ce.KVO(n.Ix),Ce.KVO(i.qQ))};static#t=this.\u0275prov=Ce.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})()},21124:(B,D,t)=>{"use strict";t.d(D,{J:()=>w});var i=t(53107),n=t(71217),c=t(76627),e=t(63016),f=t(33325),g=t(22867),d=t(82040),y=t(47947),E=t(17178),_=t(72683),b=t(39466),O=t(16182);const I=["vcr"],T=["content"],R=["*"];function u(v,S){}let w=(()=>{class v{constructor(M,L){this.cdr=M,this.themeService=L,this.compRef$=new n.t(void 0),this.inAndOutputNames=[]}ngOnChanges(M){(0,_.Tn)(this.compRef)?this.initComponentInstance(M):this.inAndOutputNames.some(L=>(0,_.a4)(M[L]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(M))}ngAfterViewInit(){this.initComponentInstance()}ngOnDestroy(){[this.themeSub,this.lazyLoadSub].filter(M=>(0,_.a4)(M)).forEach(M=>M.unsubscribe()),this.destroyComponentInstance()}initComponentInstance(M){this.themeSub=this.themeService?.getThemeName$().subscribe(()=>{this.renderComponentInstance(M)})}renderComponentInstance(M){(0,_.a4)(this.lazyLoadSub)&&this.lazyLoadSub.unsubscribe(),(0,_.Tn)(this.lazyLoadObs)&&(this.lazyLoadObs=(0,c.z)([(0,e.of)(M),this.resolveThemedComponent(this.themeService.getThemeName()).pipe((0,g.n)(L=>(0,_.a4)(L)&&(0,_.a4)(L[this.getComponentName()])?[L[this.getComponentName()]]:(0,f.H)(this.importUnthemedComponent()).pipe((0,d.M)(()=>this.usedTheme=b.Q),(0,y.T)(F=>F[this.getComponentName()]))))])),this.lazyLoadSub=this.lazyLoadObs.subscribe(([L,F])=>{this.destroyComponentInstance(),this.compRef=this.vcr.createComponent(F,{projectableNodes:[this.themedElementContent.nativeElement.childNodes]}),(0,_.a4)(L)?this.ngOnChanges(L):this.connectInputsAndOutputs(),this.compRef$.next(this.compRef),this.cdr.markForCheck(),this.themedElementContent.nativeElement.remove()})}destroyComponentInstance(){(0,_.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=null),(0,_.a4)(this.vcr)&&this.vcr.clear()}connectInputsAndOutputs(){(0,_.hj)(this.inAndOutputNames)&&(0,_.a4)(this.compRef)&&(0,_.a4)(this.compRef.instance)&&this.inAndOutputNames.filter(M=>void 0!==this[M]).forEach(M=>{this.compRef.instance[M]=this[M]})}resolveThemedComponent(M,L=[]){return(0,_.hj)(M)?(0,f.H)(this.importThemedComponent(M)).pipe((0,d.M)(()=>this.usedTheme=M),(0,E.W)(()=>{const F=this.themeService.getThemeConfigFor(M)?.extends,$=[...L,M];if(L.includes(F))throw new Error("Theme extension cycle detected: "+[...$,F].join(" -> "));return this.resolveThemedComponent(F,$)})):(0,e.of)(null)}static#e=this.\u0275fac=function(L){return new(L||v)(i.rXU(i.gRc),i.rXU(O.Fs))};static#t=this.\u0275cmp=i.VBU({type:v,selectors:[["ds-themed"]],viewQuery:function(L,F){if(1&L&&(i.GBs(I,5,i.c1b),i.GBs(T,5)),2&L){let $;i.mGM($=i.lsd())&&(F.vcr=$.first),i.mGM($=i.lsd())&&(F.themedElementContent=$.first)}},hostVars:1,hostBindings:function(L,F){2&L&&i.BMQ("data-used-theme",F.usedTheme)},features:[i.OA$],ngContentSelectors:R,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(L,F){1&L&&(i.NAR(),i.DNE(0,u,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())}})}return v})()},59665:(B,D,t)=>{"use strict";t.d(D,{M:()=>i});class i{handle(c){return c.interpolateParams&&c.interpolateParams.default||c.key}}},93527:(B,D,t)=>{"use strict";t.d(D,{W:()=>_});var i=t(54460),n=t(69685),c=t(72683),e=t(53107);let f=(()=>{class b{constructor(){this.actualClick=new e.bkB}mousedownEvent(I){this.start=new Date}mouseupEvent(I){new Date-this.start<250&&this.actualClick.emit(I)}static#e=this.\u0275fac=function(T){return new(T||b)};static#t=this.\u0275dir=e.FsC({type:b,selectors:[["","dsDragClick",""]],hostBindings:function(T,R){1&T&&e.bIt("mousedown",function(w){return R.mousedownEvent(w)})("mouseup",function(w){return R.mouseupEvent(w)})},outputs:{actualClick:"actualClick"},standalone:!0})}return b})();var g=t(38614);const d=["content"],y=["*"];function E(b,O){if(1&b){const I=e.RV6();e.j41(0,"button",6),e.bIt("actualClick",function(){e.eBV(I);const R=e.XpG();return e.Njj(R.toggle())}),e.nrm(1,"i",7),e.j41(2,"span",4),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&b&&(e.R7$(3),e.JRh(e.bMT(4,1,"item.truncatable-part.show-less")))}let _=(()=>{class b{constructor(I){this.service=I,this.maxLines=-1,this.fixedHeight=!1,this.background="default",this.showToggle=!0,this.expand=!1,this.expandable=!1}ngOnInit(){this.setLines()}setLines(){this.sub=this.service.isCollapsed(this.id).subscribe(I=>{I?(this.lines=this.minLines.toString(),this.expand=!1):(this.lines=this.maxLines<0?"none":this.maxLines.toString(),this.expand=!0)})}ngAfterViewChecked(){this.truncateElement()}toggle(){this.service.toggle(this.id),this.expandable=!this.expandable}truncateElement(){if(this.showToggle){const I=this.content.nativeElement;I.scrollHeight>I.offsetHeight?I.children.length>0?I.children[I.children.length-1].offsetHeight>I.offsetHeight?(I.classList.add("truncated"),I.classList.remove("removeFaded")):(I.classList.remove("truncated"),I.classList.add("removeFaded")):I.innerText.length>0?(I.classList.add("truncated"),I.classList.remove("removeFaded")):(I.classList.remove("truncated"),I.classList.add("removeFaded")):(I.classList.remove("truncated"),I.classList.add("removeFaded"))}}ngOnDestroy(){(0,c.a4)(this.sub)&&this.sub.unsubscribe()}static#e=this.\u0275fac=function(T){return new(T||b)(e.rXU(g.F))};static#t=this.\u0275cmp=e.VBU({type:b,selectors:[["ds-truncatable-part"]],viewQuery:function(T,R){if(1&T&&e.GBs(d,7),2&T){let u;e.mGM(u=e.lsd())&&(R.content=u.first)}},inputs:{minLines:"minLines",maxLines:"maxLines",id:"id",type:"type",fixedHeight:"fixedHeight",background:"background",showToggle:"showToggle"},standalone:!0,features:[e.aNF],ngContentSelectors:y,decls:10,vars:11,consts:[["content",""],[1,"content","dont-break-out","preserve-line-breaks"],["dsDragClick","",1,"btn","btn-link","p-0","expandButton",3,"actualClick"],[1,"fas","fa-angle-down"],[1,"ml-1"],["class","btn btn-link p-0 collapseButton","dsDragClick","",3,"actualClick",4,"ngIf"],["dsDragClick","",1,"btn","btn-link","p-0","collapseButton",3,"actualClick"],[1,"fas","fa-angle-up"]],template:function(T,R){if(1&T){const u=e.RV6();e.NAR(),e.j41(0,"div")(1,"div",1,0),e.SdG(3),e.k0s(),e.j41(4,"button",2),e.bIt("actualClick",function(){return e.eBV(u),e.Njj(R.toggle())}),e.nrm(5,"i",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.DNE(9,E,5,3,"button",5),e.k0s()}2&T&&(e.ZBM("clamp-",R.background,"-",R.lines," min-",R.minLines," ",R.type," ",R.fixedHeight?"fixedHeight":"",""),e.R7$(7),e.JRh(e.bMT(8,9,"item.truncatable-part.show-more")),e.R7$(2),e.Y8G("ngIf",R.expand&&R.expandable))},dependencies:[f,i.bT,n.h,n.D9],styles:[".content[_ngcontent-%COMP%]:not(.truncated) ~ button.expandButton[_ngcontent-%COMP%]{display:none}.btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}.removeFaded.content[_ngcontent-%COMP%]:after{display:none}"]})}return b})()},22270:(B,D,t)=>{"use strict";t.d(D,{GV:()=>e,Qs:()=>g,VR:()=>n,f7:()=>f});var i=t(83770);const n={TOGGLE:(0,i.N)("dspace/truncatable/TOGGLE"),COLLAPSE:(0,i.N)("dspace/truncatable/COLLAPSE"),EXPAND:(0,i.N)("dspace/truncatable/EXPAND")};class c{constructor(y){this.id=y}}class e extends c{constructor(){super(...arguments),this.type=n.TOGGLE}}class f extends c{constructor(){super(...arguments),this.type=n.COLLAPSE}}class g extends c{constructor(){super(...arguments),this.type=n.EXPAND}}},37362:(B,D,t)=>{"use strict";t.d(D,{d:()=>e});var i=t(38614),n=t(53107);const c=["*"];let e=(()=>{class f{constructor(d,y){this.service=d,this.el=y,this.initialExpand=!1,this.onHover=!1,this.showToggle=!0}ngOnInit(){this.initialExpand?this.service.expand(this.id):this.service.collapse(this.id)}hoverCollapse(){this.onHover&&this.service.collapse(this.id)}hoverExpand(){this.onHover&&this.service.expand(this.id)}ngAfterViewChecked(){if(this.showToggle&&this.el.nativeElement.querySelectorAll(".truncated")?.length>0){const y=this.el.nativeElement.querySelectorAll(".dont-break-out");for(let E=0;E<y.length-1;E++)y[E].classList.remove("truncated"),y[E].classList.add("notruncatable");y[y.length-1].classList.add("truncated")}}static#e=this.\u0275fac=function(y){return new(y||f)(n.rXU(i.F),n.rXU(n.aKT))};static#t=this.\u0275cmp=n.VBU({type:f,selectors:[["ds-truncatable"]],inputs:{initialExpand:"initialExpand",id:"id",onHover:"onHover",showToggle:"showToggle"},standalone:!0,features:[n.aNF],ngContentSelectors:c,decls:2,vars:0,consts:[[3,"mouseenter","mouseleave"]],template:function(y,E){1&y&&(n.NAR(),n.j41(0,"div",0),n.bIt("mouseenter",function(){return E.hoverExpand()})("mouseleave",function(){return E.hoverCollapse()}),n.SdG(1),n.k0s())}})}return f})()},38614:(B,D,t)=>{"use strict";t.d(D,{F:()=>d});var i=t(73958),n=t(47947),c=t(72683),e=t(22270),f=t(53107);const g=_=>_.truncatable;let d=(()=>{class _{constructor(O){this.store=O}isCollapsed(O){return this.store.pipe((0,i.Lt)(function y(_){return function E(_){return(0,i.Mz)(g,b=>{if((0,c.a4)(b))return b[_]})}(_)}(O)),(0,n.T)(I=>!!I&&I.collapsed))}toggle(O){this.store.dispatch(new e.GV(O))}collapse(O){this.store.dispatch(new e.f7(O))}expand(O){this.store.dispatch(new e.Qs(O))}static#e=this.\u0275fac=function(I){return new(I||_)(f.KVO(i.il))};static#t=this.\u0275prov=f.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},96013:(B,D,t)=>{"use strict";t.d(D,{H:()=>n});var i=t(96779);class n{constructor(){this.disableMultipart=!1,this.itemAlias=null,this.autoUpload=!0,this.method=i.D.POST}}},44277:(B,D,t)=>{"use strict";t.d(D,{y:()=>j});var i=t(54460),n=t(53107),c=t(69685),e=t(84984),f=t.n(e),g=t(29087),d=t(63016),y=t(63276),E=t(55930),_=t(72683);t(96013);let O=(()=>{class x{constructor(){this._overrideDragOverPage=!1}overrideDragOverPage(){this._overrideDragOverPage=!0}allowDragOverPage(){this._overrideDragOverPage=!1}isAllowedDragOverPage(){return!this._overrideDragOverPage}static#e=this.\u0275fac=function(V){return new(V||x)};static#t=this.\u0275prov=n.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})();var I=t(27691);const T=x=>({"ds-base-drop-zone-file-over":x}),R=x=>({width:x}),u=x=>({"progress-bar":!0,"bg-success progress-bar-striped progress-bar-animated":x});function w(x,G){if(1&x){const Y=n.RV6();n.j41(0,"div",8),n.nI1(1,"async"),n.bIt("fileOver",function(X){n.eBV(Y);const K=n.XpG();return n.Njj(K.fileOverDocument(X))}),n.k0s()}if(2&x){const Y=n.XpG();n.AVh("ds-document-drop-zone-active",n.bMT(1,3,Y.isOverDocumentDropZone)),n.Y8G("uploader",Y.uploader)}}function v(x,G){if(1&x&&(n.j41(0,"div",9)(1,"div",10)(2,"p",11),n.EFF(3),n.nI1(4,"translate"),n.k0s()()()),2&x){const Y=n.XpG();n.R7$(3),n.JRh(n.bMT(4,1,Y.dropOverDocumentMsg))}}function S(x,G){if(1&x){const Y=n.RV6();n.j41(0,"div",12)(1,"span"),n.nrm(2,"i",13),n.EFF(3),n.nI1(4,"translate"),n.nI1(5,"translate"),n.j41(6,"label",14),n.bIt("keyup.enter",function(X){n.eBV(Y);const K=n.sdS(12);return X.stopImmediatePropagation(),n.Njj(K.click())}),n.j41(7,"span",15),n.nI1(8,"translate"),n.EFF(9),n.nI1(10,"translate"),n.k0s()(),n.nrm(11,"input",16,0),n.k0s()()}if(2&x){const Y=n.XpG();n.R7$(3),n.Lme(" ",n.bMT(4,9,Y.dropMsg),"",n.bMT(5,11,"uploader.or")," "),n.R7$(3),n.Mz_("for","inputFileUploader-",Y.uploaderId,""),n.R7$(),n.BMQ("aria-label",n.bMT(8,13,Y.ariaLabel)),n.R7$(2),n.JRh(n.bMT(10,15,"uploader.browse")),n.R7$(2),n.Mz_("id","inputFileUploader-",Y.uploaderId,""),n.Y8G("uploader",Y.uploader)}}function M(x,G){if(1&x&&(n.j41(0,"span"),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&x){const Y=n.XpG(2);n.R7$(),n.Lme("",n.bMT(2,2,"uploader.queue-length"),": ",null==Y.uploader||null==Y.uploader.queue?null:Y.uploader.queue.length," | ")}}function L(x,G){if(1&x&&(n.j41(0,"span",26),n.EFF(1),n.k0s()),2&x){const Y=n.XpG(2);n.R7$(),n.SpI("",Y.uploader.progress,"%")}}function F(x,G){1&x&&(n.j41(0,"span",26),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&x&&(n.R7$(),n.JRh(n.bMT(2,1,"uploader.processing")))}function $(x,G){if(1&x){const Y=n.RV6();n.j41(0,"div")(1,"div",17)(2,"div",18)(3,"span",19),n.DNE(4,M,3,4,"span",7),n.EFF(5),n.k0s(),n.j41(6,"div",20)(7,"button",21),n.nI1(8,"translate"),n.bIt("click",function(){n.eBV(Y);const X=n.XpG();return n.Njj(X.uploader.clearQueue())}),n.nrm(9,"i",22),n.k0s()(),n.DNE(10,L,2,1,"span",23)(11,F,3,3,"span",23),n.k0s(),n.j41(12,"div",24),n.nrm(13,"div",25),n.k0s()()()}if(2&x){const Y=n.XpG();n.R7$(4),n.Y8G("ngIf",!Y.uploader.options.disableMultipart),n.R7$(),n.SpI("",null==Y.uploader||null==Y.uploader.queue[0]?null:Y.uploader.queue[0].file.name," "),n.R7$(2),n.FS9("title",n.bMT(8,8,"uploader.delete.btn-title")),n.Y8G("disabled",!Y.uploader.queue.length),n.R7$(3),n.Y8G("ngIf",Y.uploader.progress<100&&!(0===Y.uploader.progress&&!Y.uploader.options.autoUpload)),n.R7$(),n.Y8G("ngIf",100===Y.uploader.progress),n.R7$(2),n.Y8G("ngStyle",n.eq3(10,R,Y.uploader.progress+"%"))("ngClass",n.eq3(12,u,100===Y.uploader.progress))}}let j=(()=>{class x{onDragOver(Y){this.enableDragOverDocument&&this.dragService.isAllowedDragOverPage()&&(Y.preventDefault(),"HTML"!==Y.target.tagName&&(this.isOverDocumentDropZone=(0,d.of)(!0)))}constructor(Y,V,X,K){this.cdr=Y,this.dragService=V,this.tokenExtractor=X,this.cookieService=K,this.onCompleteItem=new n.bkB,this.onUploadError=new n.bkB,this.onFileSelected=new n.bkB,this.isOverBaseDropZone=(0,d.of)(!1),this.isOverDocumentDropZone=(0,d.of)(!1)}ngOnInit(){this.uploaderId="ds-drag-and-drop-uploader"+f()(),this.checkConfig(this.uploadFilesOptions),this.uploader=new g.l0({url:this.uploadFilesOptions.url,authToken:this.uploadFilesOptions.authToken,disableMultipart:this.uploadFilesOptions.disableMultipart,itemAlias:this.uploadFilesOptions.itemAlias,removeAfterUpload:!0,autoUpload:this.uploadFilesOptions.autoUpload,method:this.uploadFilesOptions.method,queueLimit:this.uploadFilesOptions.maxFileNumber}),(0,_.b0)(this.enableDragOverDocument)&&(this.enableDragOverDocument=!1),(0,_.b0)(this.dropMsg)&&(this.dropMsg="uploader.drag-message"),(0,_.b0)(this.dropOverDocumentMsg)&&(this.dropOverDocumentMsg="uploader.drag-message")}ngAfterViewInit(){this.uploader.onAfterAddingAll=Y=>{this.onFileSelected.emit(Y)},(0,_.b0)(this.onBeforeUpload)&&(this.onBeforeUpload=()=>{}),this.uploader.onBeforeUploadItem=Y=>{Y.url!==this.uploader.options.url&&(Y.url=this.uploader.options.url),this.uploader.options.headers=[{name:E.sA,value:this.tokenExtractor.getToken()}],this.onBeforeUpload(),this.isOverDocumentDropZone=(0,d.of)(!1)},(0,_.a4)(this.uploadProperties)&&(this.uploader.onBuildItemForm=(Y,V)=>{V.append("properties",JSON.stringify(this.uploadProperties))}),this.uploader.onCompleteItem=(Y,V,X,K)=>{const ae=K[E.oo.toLowerCase()];if((0,_.hj)(ae)&&(this.saveXsrfToken(ae),this.uploader.options.headers=[{name:E.sA,value:this.tokenExtractor.getToken()}]),(0,_.hj)(V)){const Q=JSON.parse(V);this.onCompleteItem.emit(Q)}},this.uploader.onErrorItem=(Y,V,X,K)=>{const ae=K[E.oo.toLowerCase()];(0,_.hj)(ae)&&(this.saveXsrfToken(ae),this.uploader.options.headers=[{name:E.sA,value:this.tokenExtractor.getToken()}]),this.onUploadError.emit({item:Y,response:V,status:X,headers:K}),this.uploader.cancelAll()},this.uploader.onProgressAll=()=>this.onProgress(),this.uploader.onProgressItem=()=>this.onProgress()}fileOverBase(Y){this.isOverBaseDropZone=(0,d.of)(Y)}fileOverDocument(Y){Y||(this.isOverDocumentDropZone=(0,d.of)(Y))}onProgress(){this.cdr.detectChanges()}checkConfig(Y){const X=["url","authToken","disableMultipart","itemAlias"].filter(K=>!(K in Y&&""!==Y[K]));if(0<X.length)throw new Error("UploadFiles: Argument is missing the following required properties: "+X.join(", "))}saveXsrfToken(Y){this.cookieService.remove(E.dX),this.cookieService.set(E.dX,Y)}static#e=this.\u0275fac=function(V){return new(V||x)(n.rXU(n.gRc),n.rXU(O),n.rXU(I.B3),n.rXU(y.O))};static#t=this.\u0275cmp=n.VBU({type:x,selectors:[["ds-uploader"]],hostBindings:function(V,X){1&V&&n.bIt("dragover",function(ae){return X.onDragOver(ae)},!1,n.tSv)},inputs:{dropMsg:"dropMsg",dropOverDocumentMsg:"dropOverDocumentMsg",enableDragOverDocument:"enableDragOverDocument",onBeforeUpload:"onBeforeUpload",uploadFilesOptions:"uploadFilesOptions",uploadProperties:"uploadProperties",ariaLabel:"ariaLabel"},outputs:{onCompleteItem:"onCompleteItem",onUploadError:"onUploadError",onFileSelected:"onFileSelected"},standalone:!0,features:[n.aNF],decls:11,vars:17,consts:[["fileInput",""],["ng2FileDrop","","class","ds-document-drop-zone position-fixed h-100 w-100",3,"ds-document-drop-zone-active","uploader","fileOver",4,"ngIf"],["class","ds-document-drop-zone-inner position-fixed h-100 w-100 p-2",4,"ngIf"],[1,"row"],[1,"col-md-12"],["ng2FileDrop","",1,"well","ds-base-drop-zone","mt-1","mb-3","text-muted",3,"fileOver","ngClass","uploader"],["class","text-center m-0 p-2 d-flex justify-content-center align-items-center",4,"ngIf"],[4,"ngIf"],["ng2FileDrop","",1,"ds-document-drop-zone","position-fixed","h-100","w-100",3,"fileOver","uploader"],[1,"ds-document-drop-zone-inner","position-fixed","h-100","w-100","p-2"],[1,"ds-document-drop-zone-inner-content","position-relative","d-flex","flex-column","justify-content-center","text-center","h-100","w-100"],[1,"text-primary"],[1,"text-center","m-0","p-2","d-flex","justify-content-center","align-items-center"],["aria-hidden","true",1,"fas","fa-upload"],["tabindex","0",1,"btn","btn-link","m-0","p-0","ml-1",3,"keyup.enter","for"],["role","button"],["type","file","ng2FileSelect","","multiple","","tabindex","0",1,"d-none",3,"id","uploader"],[1,"m-1"],[1,"upload-item-top"],[1,"filename"],["role","group",1,"btn-group","btn-group-sm","float-right"],["type","button",1,"btn","btn-danger",3,"click","title","disabled"],["aria-hidden","true",1,"fas","fa-trash"],["class","float-right mr-3",4,"ngIf"],[1,"ds-base-drop-zone-progress","clearfix","mt-2"],["role","progressbar",2,"height","5px","width","0",3,"ngStyle","ngClass"],[1,"float-right","mr-3"]],template:function(V,X){1&V&&(n.DNE(0,w,2,5,"div",1),n.nI1(1,"async"),n.DNE(2,v,5,3,"div",2),n.nI1(3,"async"),n.j41(4,"div",3)(5,"div",4)(6,"div",5),n.nI1(7,"async"),n.bIt("fileOver",function(ae){return X.fileOverBase(ae)}),n.DNE(8,S,13,17,"div",6)(9,$,14,14,"div",7),n.nI1(10,"async"),n.k0s()()()),2&V&&(n.Y8G("ngIf",n.bMT(1,7,X.isOverDocumentDropZone)),n.R7$(2),n.Y8G("ngIf",n.bMT(3,9,X.isOverDocumentDropZone)),n.R7$(2),n.BMQ("id",X.uploaderId),n.R7$(2),n.Y8G("ngClass",n.eq3(15,T,n.bMT(7,11,X.isOverBaseDropZone)))("uploader",X.uploader),n.R7$(2),n.Y8G("ngIf",0===(null==X.uploader||null==X.uploader.queue?null:X.uploader.queue.length)),n.R7$(),n.Y8G("ngIf",n.bMT(10,13,X.isOverBaseDropZone)||0!==(null==X.uploader||null==X.uploader.queue?null:X.uploader.queue.length)))},dependencies:[c.h,c.D9,g.eB,g.Ff,g.UJ,i.MD,i.YU,i.bT,i.B3,i.Jj],styles:[".ds-base-drop-zone[_ngcontent-%COMP%]{border:2px dashed var(--bs-gray-600)}.ds-base-drop-zone-file-over[_ngcontent-%COMP%]{border:2px dashed var(--bs-primary)}.ds-base-drop-zone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{min-height:var(--ds-drop-zone-area-height)}.ds-document-drop-zone[_ngcontent-%COMP%]{top:0;left:0;z-index:-1}.ds-document-drop-zone-active[_ngcontent-%COMP%]{z-index:var(--ds-drop-zone-area-z-index)!important}.ds-document-drop-zone-inner[_ngcontent-%COMP%]{background-color:#ffffffb3;z-index:var(--ds-drop-zone-area-inner-z-index);top:0;left:0}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]{border:4px dashed var(--bs-primary);z-index:var(--ds-drop-zone-area-inner-z-index)}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--bs-font-size-lg) * 2.5)}"]})}return x})()},75911:(B,D,t)=>{"use strict";t.d(D,{L:()=>c});var i=t(54460),n=t(53107);let c=(()=>{class e{constructor(g){this.platformID=g}transform(g){if((0,i.UE)(this.platformID))return g}static#e=this.\u0275fac=function(d){return new(d||e)(n.rXU(n.Agw,16))};static#t=this.\u0275pipe=n.EJ8({name:"dsBrowserOnly",type:e,pure:!0,standalone:!0})}return e})()},47331:(B,D,t)=>{"use strict";t.d(D,{z:()=>n});var i=t(53107);let n=(()=>{class c{constructor(f){this._elementRef=f,this.dsClickOutside=new i.bkB}onClick(){const f=this._elementRef.nativeElement;f.contains(f.ownerDocument.activeElement)||this.dsClickOutside.emit(null)}static#e=this.\u0275fac=function(g){return new(g||c)(i.rXU(i.aKT))};static#t=this.\u0275dir=i.FsC({type:c,selectors:[["","dsClickOutside",""]],hostBindings:function(g,d){1&g&&i.bIt("click",function(){return d.onClick()},!1,i.EBC)},outputs:{dsClickOutside:"dsClickOutside"},standalone:!0})}return c})()},54872:(B,D,t)=>{"use strict";t.d(D,{R:()=>d});var i=t(53107),n=t(18447),c=t(88627),e=t(66645),f=t(5424),g=t(10936);let d=(()=>{class y{constructor(_){this.model=_,this.onDebounce=new i.bkB,this.dsDebounce=500,this.subject=new n.B}ngOnInit(){this.model.valueChanges.pipe((0,c.B)(this.dsDebounce),(0,e.F)(),(0,f.Q)(this.subject)).subscribe(_=>{this.model.dirty&&this.onDebounce.emit(_)})}ngOnDestroy(){this.subject.next(),this.subject.complete()}static#e=this.\u0275fac=function(b){return new(b||y)(i.rXU(g.vO))};static#t=this.\u0275dir=i.FsC({type:y,selectors:[["","ngModel","","dsDebounce",""]],inputs:{dsDebounce:"dsDebounce"},outputs:{onDebounce:"onDebounce"},standalone:!0})}return y})()},89351:(B,D,t)=>{"use strict";t.d(D,{s:()=>e});var i=t(32437),c=t(53107);let e=(()=>{class f{transform(d=0,y=2){return i(d,{standard:"jedec",round:y})}static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275pipe=c.EJ8({name:"dsFileSize",type:f,pure:!0,standalone:!0})}return f})()},24106:(B,D,t)=>{"use strict";t.d(D,{s:()=>e});var i=t(36705),n=t(72683);const e=(f,{findListOptions:g,shouldEmbed:d,useCachedVersionIfAvailable:y,reRequestOnStale:E,isOptional:_}={},...b)=>({name:f,findListOptions:(0,n.a4)(g)?g:new i._,shouldEmbed:!(0,n.a4)(d)||d,useCachedVersionIfAvailable:!(0,n.a4)(y)||y,reRequestOnStale:!(0,n.a4)(E)||E,isOptional:!!(0,n.a4)(_)&&_,linksToFollow:b})},8040:(B,D,t)=>{"use strict";function i(n){return n<400?"thumb-font-0":n<750?"thumb-font-1":n<1e3?"thumb-font-2":"thumb-font-3"}t.d(D,{F:()=>i})},76472:(B,D,t)=>{"use strict";t.d(D,{U:()=>n});var i=t(53107);let n=(()=>{class c{transform(f,g=null){return Object.keys(f).map(d=>Object.assign({key:d},{value:f[d]}))}static#e=this.\u0275fac=function(g){return new(g||c)};static#t=this.\u0275pipe=i.EJ8({name:"dsObjNgFor",type:c,pure:!0,standalone:!0})}return c})()},11022:(B,D,t)=>{"use strict";t.d(D,{as:()=>c,nW:()=>e});var i=t(24106);function c(f,g){return`f.${f}=${g},equals`}function e(f){let g;return g=f?[(0,i.s)("leftItem",{},(0,i.s)("thumbnail")),(0,i.s)("rightItem",{},(0,i.s)("thumbnail"))]:[(0,i.s)("leftItem"),(0,i.s)("rightItem")],g}},67044:(B,D,t)=>{"use strict";t.d(D,{F:()=>e,N:()=>c});var i=t(87913),n=t(72683);function c(f){return"/"+f.parseUrl(f.url).root.children.primary.segments.map(d=>d.path).join("/")}function e(f){if((0,n.a4)(f.parent)){const g=e(f.parent);return new i.t(g,f.routeConfig.path).toString()}return f.routeConfig?f.routeConfig.path:""}},714:(B,D,t)=>{"use strict";t.d(D,{d:()=>c});var i=t(53107),n=t(86388);let c=(()=>{class e{constructor(g){this.domSanitizer=g}transform(g){return this.domSanitizer.bypassSecurityTrustResourceUrl(g)}static#e=this.\u0275fac=function(d){return new(d||e)(i.rXU(n.up,16))};static#t=this.\u0275pipe=i.EJ8({name:"dsSafeUrl",type:e,pure:!0,standalone:!0})}return e})()},63524:(B,D,t)=>{"use strict";t.d(D,{r:()=>n});var i=t(53107);let n=(()=>{class c{set ngVar(f){this.context.$implicit=this.context.ngVar=f,this.updateView()}constructor(f,g){this.vcRef=f,this.templateRef=g,this.context={}}updateView(){this.vcRef.clear(),this.vcRef.createEmbeddedView(this.templateRef,this.context)}static#e=this.\u0275fac=function(g){return new(g||c)(i.rXU(i.c1b),i.rXU(i.C4Q))};static#t=this.\u0275dir=i.FsC({type:c,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0})}return c})()},45400:(B,D,t)=>{"use strict";t.d(D,{g:()=>w});var i=t(54460),n=t(53107),c=t(95968),e=t(69685),f=t(41483),g=t(67811),d=t(88842),y=t(72683),E=t(75911),_=t(67044);const b=()=>({view:"list"}),O=()=>({view:"grid"}),I=()=>({view:"detailed"});function T(v,S){if(1&v){const M=n.RV6();n.j41(0,"button",2),n.nI1(1,"translate"),n.nI1(2,"dsBrowserOnly"),n.bIt("click",function(){n.eBV(M);const F=n.XpG();return n.Njj(F.switchViewTo(F.viewModeEnum.ListElement))}),n.nrm(3,"i",3),n.k0s()}if(2&v){const M=n.XpG();n.AVh("active",M.currentMode===M.viewModeEnum.ListElement),n.Y8G("queryParams",n.lJ4(10,b)),n.BMQ("aria-current",M.currentMode===M.viewModeEnum.ListElement)("aria-label",n.bMT(1,6,"search.view-switch.show-list"))("data-test",n.bMT(2,8,"list-view"))}}function R(v,S){if(1&v){const M=n.RV6();n.j41(0,"button",2),n.nI1(1,"translate"),n.nI1(2,"dsBrowserOnly"),n.bIt("click",function(){n.eBV(M);const F=n.XpG();return n.Njj(F.switchViewTo(F.viewModeEnum.GridElement))}),n.nrm(3,"i",4),n.k0s()}if(2&v){const M=n.XpG();n.AVh("active",M.currentMode===M.viewModeEnum.GridElement),n.Y8G("queryParams",n.lJ4(10,O)),n.BMQ("aria-current",M.currentMode===M.viewModeEnum.GridElement)("aria-label",n.bMT(1,6,"search.view-switch.show-grid"))("data-test",n.bMT(2,8,"grid-view"))}}function u(v,S){if(1&v){const M=n.RV6();n.j41(0,"button",2),n.nI1(1,"translate"),n.nI1(2,"dsBrowserOnly"),n.bIt("click",function(){n.eBV(M);const F=n.XpG();return n.Njj(F.switchViewTo(F.viewModeEnum.DetailedListElement))}),n.nrm(3,"i",5),n.k0s()}if(2&v){const M=n.XpG();n.AVh("active",M.currentMode===M.viewModeEnum.DetailedListElement),n.Y8G("queryParams",n.lJ4(10,I)),n.BMQ("aria-current",M.currentMode===M.viewModeEnum.DetailedListElement)("aria-label",n.bMT(1,6,"search.view-switch.show-detail"))("data-test",n.bMT(2,8,"detail-view"))}}let w=(()=>{class v{constructor(M,L){this.searchService=M,this.router=L,this.currentMode=d.n.ListElement,this.viewModeEnum=d.n,this.changeViewMode=new n.bkB}ngOnInit(){(0,y.Im)(this.viewModeList)&&(this.viewModeList=[d.n.ListElement,d.n.GridElement]),this.sub=this.searchService.getViewMode().pipe((0,f.p)(M=>(0,y.hj)(M))).subscribe(M=>{this.currentMode=M})}switchViewTo(M){M!==this.currentMode&&this.changeViewMode.emit(M),this.searchService.setViewMode(M,this.getSearchLinkParts())}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}isToShow(M){return this.viewModeList&&this.viewModeList.includes(M)}getSearchLink(){return this.inPlaceSearch?(0,_.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}static#e=this.\u0275fac=function(L){return new(L||v)(n.rXU(g.S),n.rXU(c.Ix))};static#t=this.\u0275cmp=n.VBU({type:v,selectors:[["ds-view-mode-switch"]],inputs:{inPlaceSearch:"inPlaceSearch",viewModeList:"viewModeList"},outputs:{changeViewMode:"changeViewMode"},standalone:!0,features:[n.aNF],decls:4,vars:3,consts:[["data-toggle","buttons",1,"btn-group"],["routerLink",".","queryParamsHandling","merge","class","btn btn-secondary",3,"queryParams","active","click",4,"ngIf"],["routerLink",".","queryParamsHandling","merge",1,"btn","btn-secondary",3,"click","queryParams"],[1,"fas","fa-list"],[1,"fas","fa-th-large"],[1,"far","fa-square"]],template:function(L,F){1&L&&(n.j41(0,"div",0),n.DNE(1,T,4,11,"button",1)(2,R,4,11,"button",1)(3,u,4,11,"button",1),n.k0s()),2&L&&(n.R7$(),n.Y8G("ngIf",F.isToShow(F.viewModeEnum.ListElement)),n.R7$(),n.Y8G("ngIf",F.isToShow(F.viewModeEnum.GridElement)),n.R7$(),n.Y8G("ngIf",F.isToShow(F.viewModeEnum.DetailedListElement)))},dependencies:[i.bT,c.Wk,e.h,e.D9,E.L]})}return v})()},43360:(B,D,t)=>{"use strict";t.d(D,{m:()=>E});var i=t(54460),n=t(53107),c=t(69685),e=t(63200),f=t(21548),g=t(2155);const d=_=>({"d-none":_});function y(_,b){1&_&&n.nrm(0,"ds-loading")}let E=(()=>{class _{constructor(O){this.activeModal=O,this.selectedEvent=new n.bkB,this.loading=!0}selectObject(O){this.loading=!0,this.selectedEvent.emit(O)}closeCollectionModal(){this.activeModal.dismiss(!1)}theOnlySelectable(O){this.selectedEvent.emit(O)}searchComplete(){this.loading=!1}isLoading(){return!!this.loading}static#e=this.\u0275fac=function(I){return new(I||_)(n.rXU(g.Lw))};static#t=this.\u0275cmp=n.VBU({type:_,selectors:[["ds-submission-import-external-collection"]],outputs:{selectedEvent:"selectedEvent"},standalone:!0,features:[n.aNF],decls:10,vars:8,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[3,"selectionChange","searchComplete","ngClass","entityType"]],template:function(I,T){1&I&&(n.j41(0,"div")(1,"div",0),n.EFF(2),n.nI1(3,"translate"),n.j41(4,"button",1),n.bIt("click",function(){return T.closeCollectionModal()}),n.j41(5,"span",2),n.EFF(6,"\xd7"),n.k0s()()(),n.j41(7,"div",3),n.DNE(8,y,1,0,"ds-loading",4),n.j41(9,"ds-collection-dropdown",5),n.bIt("selectionChange",function(u){return T.selectObject(u)})("searchComplete",function(){return T.searchComplete()}),n.k0s()()()),2&I&&(n.R7$(2),n.SpI("",n.bMT(3,4,"dso-selector.select.collection.head")," "),n.R7$(6),n.Y8G("ngIf",T.isLoading()),n.R7$(),n.Y8G("ngClass",n.eq3(6,d,T.isLoading()))("entityType",T.entityType))},dependencies:[f.v,e.m,c.h,c.D9,i.YU,i.bT],styles:[".close[_ngcontent-%COMP%]:focus{outline:none!important}"]})}return _})()},45100:(B,D,t)=>{"use strict";t.d(D,{Bo:()=>ee,CG:()=>E,Dy:()=>x,IE:()=>Z,Ob:()=>Q,SE:()=>z,Sm:()=>_,Vn:()=>c,Z5:()=>J,Zi:()=>b,Zl:()=>$,_D:()=>q,dm:()=>y,f0:()=>R,h3:()=>L,hJ:()=>g,i6:()=>d,jc:()=>T,kq:()=>X,ky:()=>F,l5:()=>V,lE:()=>n,nt:()=>Ce,nu:()=>Y,oW:()=>u,pL:()=>G,sf:()=>j,sj:()=>v,t2:()=>O,tR:()=>S,ug:()=>I,v0:()=>ae,w7:()=>de,wM:()=>M,wT:()=>f,x9:()=>K});var i=t(83770);const n={INIT_SUBMISSION_FORM:(0,i.N)("dspace/submission/INIT_SUBMISSION_FORM"),RESET_SUBMISSION_FORM:(0,i.N)("dspace/submission/RESET_SUBMISSION_FORM"),CANCEL_SUBMISSION_FORM:(0,i.N)("dspace/submission/CANCEL_SUBMISSION_FORM"),COMPLETE_INIT_SUBMISSION_FORM:(0,i.N)("dspace/submission/COMPLETE_INIT_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS"),SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_FORM:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM"),SAVE_SUBMISSION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM_SUCCESS"),SAVE_SUBMISSION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_SECTION_FORM:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM"),SAVE_SUBMISSION_SECTION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_SUCCESS"),SAVE_SUBMISSION_SECTION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_ERROR"),CHANGE_SUBMISSION_COLLECTION:(0,i.N)("dspace/submission/CHANGE_SUBMISSION_COLLECTION"),SET_ACTIVE_SECTION:(0,i.N)("dspace/submission/SET_ACTIVE_SECTION"),INIT_SECTION:(0,i.N)("dspace/submission/INIT_SECTION"),ENABLE_SECTION:(0,i.N)("dspace/submission/ENABLE_SECTION"),DISABLE_SECTION:(0,i.N)("dspace/submission/DISABLE_SECTION"),SET_SECTION_FORM_ID:(0,i.N)("dspace/submission/SET_SECTION_FORM_ID"),SECTION_STATUS_CHANGE:(0,i.N)("dspace/submission/SECTION_STATUS_CHANGE"),SECTION_LOADING_STATUS_CHANGE:(0,i.N)("dspace/submission/SECTION_LOADING_STATUS_CHANGE"),UPDATE_SECTION_DATA:(0,i.N)("dspace/submission/UPDATE_SECTION_DATA"),UPDATE_SECTION_DATA_SUCCESS:(0,i.N)("dspace/submission/UPDATE_SECTION_DATA_SUCCESS"),SAVE_AND_DEPOSIT_SUBMISSION:(0,i.N)("dspace/submission/SAVE_AND_DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION_SUCCESS:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION_SUCCESS"),DEPOSIT_SUBMISSION_ERROR:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION_ERROR"),DISCARD_SUBMISSION:(0,i.N)("dspace/submission/DISCARD_SUBMISSION"),DISCARD_SUBMISSION_SUCCESS:(0,i.N)("dspace/submission/DISCARD_SUBMISSION_SUCCESS"),DISCARD_SUBMISSION_ERROR:(0,i.N)("dspace/submission/DISCARD_SUBMISSION_ERROR"),CLEAN_DUPLICATE_DETECTION:(0,i.N)("dspace/submission/CLEAN_DUPLICATE_DETECTION"),NEW_FILE:(0,i.N)("dspace/submission/NEW_FILE"),EDIT_FILE_DATA:(0,i.N)("dspace/submission/EDIT_FILE_DATA"),EDIT_FILE_PRIMARY_BITSTREAM_DATA:(0,i.N)("dspace/submission/EDIT_FILE_PRIMARY_BITSTREAM_DATA"),DELETE_FILE:(0,i.N)("dspace/submission/DELETE_FILE"),ADD_SECTION_ERROR:(0,i.N)("dspace/submission/ADD_SECTION_ERROR"),DELETE_SECTION_ERROR:(0,i.N)("dspace/submission/DELETE_SECTION_ERROR"),REMOVE_SECTION_ERRORS:(0,i.N)("dspace/submission/REMOVE_SECTION_ERRORS")};class c{constructor(De,pe,re){this.type=n.ADD_SECTION_ERROR,this.payload={submissionId:De,sectionId:pe,error:re}}}class f{constructor(De,pe,re,ve,fe,Ie,Ne,qe,we,Be){this.type=n.INIT_SECTION,this.payload={submissionId:De,sectionId:pe,header:re,config:ve,mandatory:fe,sectionType:Ie,visibility:Ne,enabled:qe,data:we,errors:Be}}}class g{constructor(De,pe){this.type=n.ENABLE_SECTION,this.payload={submissionId:De,sectionId:pe}}}class d{constructor(De,pe){this.type=n.DISABLE_SECTION,this.payload={submissionId:De,sectionId:pe}}}class y{constructor(De,pe,re,ve,fe,Ie){this.type=n.UPDATE_SECTION_DATA,this.payload={submissionId:De,sectionId:pe,data:re,errorsToShow:ve,serverValidationErrors:fe,metadata:Ie}}}class E{constructor(De){this.type=n.CLEAN_DUPLICATE_DETECTION,this.payload={submissionId:De}}}class _{constructor(){this.type=n.UPDATE_SECTION_DATA_SUCCESS}}class b{constructor(De,pe){this.type=n.REMOVE_SECTION_ERRORS,this.payload={submissionId:De,sectionId:pe}}}class O{constructor(De,pe,re){this.type=n.SET_SECTION_FORM_ID,this.payload={submissionId:De,sectionId:pe,formId:re}}}class I{constructor(De){this.type=n.COMPLETE_INIT_SUBMISSION_FORM,this.payload={submissionId:De}}}class T{constructor(De,pe,re,ve,fe,Ie,Ne){this.type=n.INIT_SUBMISSION_FORM,this.payload={collectionId:De,submissionId:pe,selfUrl:re,submissionDefinition:ve,sections:fe,item:Ie,errors:Ne}}}class R{constructor(De){this.type=n.SAVE_FOR_LATER_SUBMISSION_FORM,this.payload={submissionId:De}}}class u{constructor(De,pe){this.type=n.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:De,submissionObject:pe}}}class v{constructor(De,pe=!1){this.type=n.SAVE_SUBMISSION_FORM,this.payload={submissionId:De,isManual:pe}}}class S{constructor(De,pe,re,ve){this.type=n.SAVE_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:De,submissionObject:pe,showNotifications:re,showErrors:ve}}}class M{constructor(De){this.type=n.SAVE_SUBMISSION_FORM_ERROR,this.payload={submissionId:De}}}class L{constructor(De,pe){this.type=n.SAVE_SUBMISSION_SECTION_FORM,this.payload={submissionId:De,sectionId:pe}}}class F{constructor(De,pe,re){this.type=n.SAVE_SUBMISSION_SECTION_FORM_SUCCESS,this.payload={submissionId:De,submissionObject:pe,notify:re}}}class ${constructor(De){this.type=n.SAVE_SUBMISSION_SECTION_FORM_ERROR,this.payload={submissionId:De}}}class j{constructor(De,pe,re,ve,fe,Ie){this.type=n.RESET_SUBMISSION_FORM,this.payload={collectionId:De,submissionId:pe,selfUrl:re,sections:ve,submissionDefinition:fe,item:Ie}}}class x{constructor(){this.type=n.CANCEL_SUBMISSION_FORM}}class G{constructor(De,pe){this.type=n.CHANGE_SUBMISSION_COLLECTION,this.payload={submissionId:De,collectionId:pe}}}class Y{constructor(De){this.type=n.SAVE_AND_DEPOSIT_SUBMISSION,this.payload={submissionId:De}}}class V{constructor(De){this.type=n.DEPOSIT_SUBMISSION,this.payload={submissionId:De}}}class X{constructor(De){this.type=n.DEPOSIT_SUBMISSION_SUCCESS,this.payload={submissionId:De}}}class K{constructor(De){this.type=n.DEPOSIT_SUBMISSION_ERROR,this.payload={submissionId:De}}}class ae{constructor(De){this.type=n.DISCARD_SUBMISSION,this.payload={submissionId:De}}}class Q{constructor(De){this.type=n.DISCARD_SUBMISSION_SUCCESS,this.payload={submissionId:De}}}class J{constructor(De){this.type=n.DISCARD_SUBMISSION_ERROR,this.payload={submissionId:De}}}class z{constructor(De,pe,re){this.type=n.SECTION_STATUS_CHANGE,this.payload={submissionId:De,sectionId:pe,status:re}}}class q{constructor(De,pe){this.type=n.SET_ACTIVE_SECTION,this.payload={submissionId:De,sectionId:pe}}}class ee{constructor(De,pe,re,ve){this.type=n.NEW_FILE,this.payload={submissionId:De,sectionId:pe,fileId:re,data:ve}}}class de{constructor(De,pe,re){this.type=n.EDIT_FILE_PRIMARY_BITSTREAM_DATA,this.payload={submissionId:De,sectionId:pe,fileId:re}}}class Ce{constructor(De,pe,re,ve){this.type=n.EDIT_FILE_DATA,this.payload={submissionId:De,sectionId:pe,fileId:re,data:ve}}}class Z{constructor(De,pe,re){this.type=n.DELETE_FILE,this.payload={submissionId:De,sectionId:pe,fileId:re}}}},55445:(B,D,t)=>{"use strict";t.d(D,{l:()=>i});var i=function(n){return n.Relationships="relationships",n.SubmissionForm="submission-form",n.Upload="upload",n.License="license",n.CcLicense="cclicense",n.AccessesCondition="accessCondition",n.SherpaPolicies="sherpaPolicy",n.Identifiers="identifiers",n.Collection="collection",n.CoarNotify="coarnotify",n.Duplicates="duplicates",n}(i||{})},25941:(B,D,t)=>{"use strict";t.d(D,{c:()=>K});var i=t(89593),n=t(83649),c=t.n(n),e=t(18210),f=t.n(e),g=t(75884),d=t.n(g),y=t(76627),E=t(47947),_=t(66645),b=t(27035),O=t(41483),I=t(37610),T=t(65067),R=t(6973),u=t(95143),w=t(72683),v=t(75232),S=t(50120),M=t(79224),L=t(45100),F=t(80451),$=t(64340),j=t(38755),x=t(55445),G=t(53107),Y=t(36057),V=t(73958),X=t(69685);let K=(()=>{class ae{constructor(J,z,q,ee,de,Ce){this.formService=J,this.notificationsService=z,this.scrollToService=q,this.submissionService=ee,this.store=de,this.translate=Ce}checkSectionErrors(J,z,q,ee,de=[]){if((0,w.Im)(ee))this.store.dispatch(new L.Zi(J,z)),this.store.dispatch(new v.Dp(q));else if(!d()(ee,de)){const Ce=[];ee.forEach(Z=>{(0,j.A)(Z.path).forEach(De=>{De.fieldId&&(this.formService.addError(q,De.fieldId,De.fieldIndex,Z.message),Ce.push(De.fieldId))})}),de.forEach(Z=>{(0,j.A)(Z.path).forEach(De=>{De.fieldId&&(Ce.includes(De.fieldId)||this.formService.removeError(q,De.fieldId,De.fieldIndex))})})}}dispatchRemoveSectionErrors(J,z){this.store.dispatch(new L.Zi(J,z))}dispatchSetSectionFormId(J,z,q){this.store.dispatch(new L.t2(J,z,q))}getSectionData(J,z,q){return this.store.select((0,F.on)(J,z)).pipe((0,E.T)(ee=>q===x.l.SubmissionForm?(0,R.Z5)(ee):ee),(0,_.F)())}getShownSectionErrors(J,z,q){let ee;return ee=q!==x.l.SubmissionForm?this.getSectionErrors(J,z):this.getSectionState(J,z,q).pipe((0,b.Z)(de=>this.formService.getFormErrors(de.formId).pipe((0,E.T)(Ce=>{const Z=new T.S("sections",z),le=Ce.map(De=>({path:Z.getPath(De.fieldId.replace(/\_/g,".")).path,message:De.message})).filter(De=>-1===c()(de.errorsToShow,{path:De.path}));return[...de.errorsToShow,...le]})))),ee}getSectionErrors(J,z){return this.store.select((0,F.D6)(J,z)).pipe((0,_.F)())}getSectionServerErrors(J,z){return this.store.select((0,F.aU)(J,z)).pipe((0,_.F)())}getSectionState(J,z,q){return this.store.select((0,F.sR)(J,z)).pipe((0,O.p)(ee=>(0,w.a4)(ee)),(0,E.T)(ee=>ee),(0,E.T)(ee=>(0,w.a4)(ee.data)&&q===x.l.SubmissionForm?Object.assign({},ee,{data:(0,R.Z5)(ee.data)}):ee),(0,_.F)())}isSectionValid(J,z){return this.store.select((0,F.sR)(J,z)).pipe((0,O.p)(q=>(0,w.a4)(q)),(0,E.T)(q=>q.isValid),(0,_.F)())}isSectionActive(J,z){return this.submissionService.getActiveSectionId(J).pipe((0,E.T)(q=>z===q),(0,_.F)())}isSectionEnabled(J,z){return this.store.select((0,F.sR)(J,z)).pipe((0,O.p)(q=>(0,w.a4)(q)),(0,E.T)(q=>q.enabled),(0,_.F)())}isSectionReadOnly(J,z,q){return this.store.select((0,F.sR)(J,z)).pipe((0,O.p)(ee=>(0,w.a4)(ee)),(0,E.T)(ee=>(0,w.hj)(ee.visibility)&&("READONLY"===ee.visibility.other&&q!==u.L.WorkspaceItem||"READONLY"===ee.visibility.main&&q===u.L.WorkspaceItem)),(0,_.F)())}isSectionAvailable(J,z){return this.store.select((0,F.sO)(J)).pipe((0,O.p)(q=>(0,w.EA)(q)),(0,E.T)(q=>(0,w.EA)(q.sections)&&(0,w.EA)(q.sections[z])),(0,_.F)())}isSectionTypeAvailable(J,z){return this.store.select((0,F.sO)(J)).pipe((0,O.p)(q=>(0,w.EA)(q)),(0,E.T)(q=>(0,w.EA)(q.sections)&&(0,w.EA)(f()(q.sections,{sectionType:z}))),(0,_.F)())}isSectionType(J,z,q){return this.store.select((0,F.sO)(J)).pipe((0,O.p)(ee=>(0,w.EA)(ee)),(0,E.T)(ee=>(0,w.EA)(ee.sections)&&(0,w.EA)(ee.sections[z])&&ee.sections[z].sectionType===q),(0,_.F)())}addSection(J,z){this.store.dispatch(new L.hJ(J,z)),this.scrollToService.scrollTo({target:z,offset:-70})}removeSection(J,z){this.store.dispatch(new L.i6(J,z))}updateSectionData(J,z,q,ee=[],de=[],Ce){if((0,w.hj)(q)){const Z=this.isSectionAvailable(J,z),le=this.isSectionEnabled(J,z);(0,y.z)(Z,le).pipe((0,I.s)(1),(0,O.p)(([De,pe])=>De)).subscribe(([De,pe])=>{this.store.dispatch(new L.dm(J,z,q,ee,de,Ce))})}}setSectionError(J,z,q){this.store.dispatch(new L.Vn(J,z,q))}setSectionStatus(J,z,q){this.store.dispatch(new L.SE(J,z,q))}computeSectionConfiguredMetadata(J){const z=[],q="string"==typeof J?JSON.parse(J,i.zno):J;return q.rows&&!(0,w.Im)(q.rows)&&q.rows.forEach(ee=>{ee.fields&&!(0,w.Im)(ee.fields)&&ee.fields.forEach(de=>{de.selectableMetadata&&!(0,w.Im)(de.selectableMetadata)&&de.selectableMetadata.forEach(Ce=>{z.includes(Ce.metadata)||z.push(Ce.metadata)})})}),z}getIsInformational(J){return J===x.l.SherpaPolicies}static#e=this.\u0275fac=function(z){return new(z||ae)(G.KVO(S.u),G.KVO(M.I),G.KVO(Y.WY),G.KVO($.E),G.KVO(V.il),G.KVO(X.c$))};static#t=this.\u0275prov=G.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},87349:(B,D,t)=>{"use strict";t.d(D,{x:()=>i});var i=function(n){return n.HIDDEN="HIDDEN",n.READONLY="READONLY",n}(i||{})},80451:(B,D,t)=>{"use strict";t.d(D,{D6:()=>O,Uh:()=>y,aU:()=>I,hZ:()=>f,hi:()=>E,on:()=>b,pc:()=>e,sO:()=>g,sR:()=>_});var i=t(73958),n=t(72683),c=t(16205);function e(T,R,u){return(0,i.Mz)(T,w=>{if((0,n.a4)(w)&&(0,n.a4)(w[R]))return w[R][u]})}function f(T,R){return(0,i.Mz)(T,u=>{if((0,n.a4)(u)&&(0,n.a4)(u[R]))return u[R]})}function g(T){return e(c.O,"objects",T)}function y(T,R){return f(b(T,R),"files")}function E(T,R,u){return e(b(T,R),"files",u)}function _(T,R){return e(g(T),"sections",R)}function b(T,R){return f(_(T,R),"data")}function O(T,R){return f(_(T,R),"errorsToShow")}function I(T,R){return f(_(T,R),"serverValidationErrors")}},16205:(B,D,t)=>{"use strict";t.d(D,{u:()=>de,O:()=>Ce});var i=t(73958),n=t(3601),c=t.n(n),e=t(18210),f=t.n(e),g=t(75884),d=t.n(g),y=t(98431),E=t.n(y),_=t(72683),b=t(45100);const O=Object.create({});function X(Z,le){return Z||(le?[...le]:void 0)}function K(Z,le,De){return(0,_.a4)(Z[le.payload.submissionId].sections[le.payload.sectionId])?Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{sections:Object.assign({},Z[le.payload.submissionId].sections,{[le.payload.sectionId]:Object.assign({},Z[le.payload.submissionId].sections[le.payload.sectionId],{enabled:De})})})}):Z}const de={objects:function I(Z=O,le){switch(le.type){case b.lE.COMPLETE_INIT_SUBMISSION_FORM:return function S(Z,le){return(0,_.a4)(Z[le.payload.submissionId])?Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{isLoading:!1})}):Z}(Z,le);case b.lE.INIT_SUBMISSION_FORM:return function w(Z,le){const De=Object.assign({},Z);return De[le.payload.submissionId]={collection:le.payload.collectionId,definition:le.payload.submissionDefinition.name,selfUrl:le.payload.selfUrl,activeSection:null,sections:Object.create(null),isLoading:!0,savePending:!1,depositPending:!1},De}(Z,le);case b.lE.RESET_SUBMISSION_FORM:return function v(Z,le){return(0,_.a4)(Z[le.payload.submissionId])?Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{sections:Object.create(null),isLoading:!0})}):Z}(Z,le);case b.lE.CANCEL_SUBMISSION_FORM:return O;case b.lE.SAVE_SUBMISSION_FORM:case b.lE.SAVE_FOR_LATER_SUBMISSION_FORM:case b.lE.SAVE_AND_DEPOSIT_SUBMISSION:case b.lE.SAVE_SUBMISSION_SECTION_FORM:return function M(Z,le){return(0,_.a4)(Z[le.payload.submissionId])?Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{activeSection:Z[le.payload.submissionId].activeSection,sections:Z[le.payload.submissionId].sections,isLoading:Z[le.payload.submissionId].isLoading,savePending:!0})}):Z}(Z,le);case b.lE.SAVE_SUBMISSION_FORM_SUCCESS:case b.lE.SAVE_SUBMISSION_SECTION_FORM_SUCCESS:case b.lE.SAVE_SUBMISSION_FORM_ERROR:case b.lE.SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:case b.lE.SAVE_SUBMISSION_SECTION_FORM_ERROR:return function L(Z,le){return(0,_.a4)(Z[le.payload.submissionId])?Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{savePending:!1})}):Z}(Z,le);case b.lE.CHANGE_SUBMISSION_COLLECTION:return function j(Z,le){return Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{collection:le.payload.collectionId})})}(Z,le);case b.lE.DEPOSIT_SUBMISSION:return function F(Z,le){return(0,_.a4)(Z[le.payload.submissionId])?Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{savePending:!1,depositPending:!0})}):Z}(Z,le);case b.lE.DEPOSIT_SUBMISSION_SUCCESS:return O;case b.lE.DEPOSIT_SUBMISSION_ERROR:return function $(Z,le){return(0,_.a4)(Z[le.payload.submissionId])?Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{depositPending:!1})}):Z}(Z,le);case b.lE.DISCARD_SUBMISSION:return Z;case b.lE.DISCARD_SUBMISSION_SUCCESS:return O;case b.lE.DISCARD_SUBMISSION_ERROR:return Z;case b.lE.SET_ACTIVE_SECTION:return function x(Z,le){return(0,_.a4)(Z[le.payload.submissionId])?Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{activeSection:le.payload.sectionId,sections:Z[le.payload.submissionId].sections,isLoading:Z[le.payload.submissionId].isLoading,savePending:Z[le.payload.submissionId].savePending})}):Z}(Z,le);case b.lE.INIT_SECTION:return function G(Z,le){return(0,_.a4)(Z[le.payload.submissionId])?Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{sections:Object.assign({},Z[le.payload.submissionId].sections,{[le.payload.sectionId]:{header:le.payload.header,config:le.payload.config,mandatory:le.payload.mandatory,sectionType:le.payload.sectionType,visibility:le.payload.visibility,collapsed:!1,enabled:le.payload.enabled,data:le.payload.data,errorsToShow:[],serverValidationErrors:le.payload.errors||[],isLoading:!1,isValid:(0,_.Im)(le.payload.errors)}})})}):Z}(Z,le);case b.lE.SET_SECTION_FORM_ID:return function Y(Z,le){return(0,_.a4)(Z[le.payload.submissionId])?Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{sections:Object.assign({},Z[le.payload.submissionId].sections,{[le.payload.sectionId]:{...Z[le.payload.submissionId].sections[le.payload.sectionId],formId:le.payload.formId}})})}):Z}(Z,le);case b.lE.ENABLE_SECTION:return K(Z,le,!0);case b.lE.UPDATE_SECTION_DATA:return function V(Z,le){return(0,_.hj)(Z[le.payload.submissionId])&&(0,_.hj)(Z[le.payload.submissionId].sections[le.payload.sectionId])?Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{sections:Object.assign({},Z[le.payload.submissionId].sections,{[le.payload.sectionId]:Object.assign({},Z[le.payload.submissionId].sections[le.payload.sectionId],{enabled:!0,data:le.payload.data,errorsToShow:le.payload.errorsToShow,serverValidationErrors:le.payload.serverValidationErrors,metadata:X(le.payload.metadata,Z[le.payload.submissionId].sections[le.payload.sectionId].metadata)})})})}):Z}(Z,le);case b.lE.DISABLE_SECTION:return K(Z,le,!1);case b.lE.SECTION_STATUS_CHANGE:return function ae(Z,le){return(0,_.hj)(Z[le.payload.submissionId])&&(0,_.a4)(Z[le.payload.submissionId].sections[le.payload.sectionId])?Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{sections:Object.assign({},Z[le.payload.submissionId].sections,Object.assign({},{[le.payload.sectionId]:Object.assign({},Z[le.payload.submissionId].sections[le.payload.sectionId],{isValid:le.payload.status})}))})}):Z}(Z,le);case b.lE.NEW_FILE:return function Q(Z,le){const De=Z[le.payload.submissionId].sections[le.payload.sectionId].data;let pe;return(0,_.b0)(De.files)?pe={files:[le.payload.data]}:(pe=De,pe.files.push(le.payload.data)),Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{sections:Object.assign({},Z[le.payload.submissionId].sections,{[le.payload.sectionId]:Object.assign({},Z[le.payload.submissionId].sections[le.payload.sectionId],{enabled:!0,data:pe})})})})}(Z,le);case b.lE.EDIT_FILE_PRIMARY_BITSTREAM_DATA:return function J(Z,le){const De=Z[le.payload.submissionId].sections[le.payload.sectionId].data,{submissionId:pe,sectionId:re,fileId:ve}=le.payload,fe=f()(De.files,{uuid:ve});if((0,_.kZ)(fe))return Z;const Ie=Z[pe];return{...Z,[pe]:{...Ie,sections:{...Ie.sections,[re]:{...Ie.sections[re],data:{...Ie.sections[re].data,primary:ve}}},isLoading:Ie.isLoading,savePending:Ie.savePending}}}(Z,le);case b.lE.EDIT_FILE_DATA:return function z(Z,le){const De=Z[le.payload.submissionId].sections[le.payload.sectionId].data;if((0,_.a4)(De.files)){const pe=f()(De.files,{uuid:le.payload.fileId});if((0,_.Pe)(pe)){const re=Array.from(De.files);return re[pe]=le.payload.data,Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{activeSection:Z[le.payload.submissionId].activeSection,sections:Object.assign({},Z[le.payload.submissionId].sections,Object.assign({},{[le.payload.sectionId]:Object.assign({},Z[le.payload.submissionId].sections[le.payload.sectionId],{data:Object.assign({},Z[le.payload.submissionId].sections[le.payload.sectionId].data,{files:re})})})),isLoading:Z[le.payload.submissionId].isLoading,savePending:Z[le.payload.submissionId].savePending})})}}return Z}(Z,le);case b.lE.DELETE_FILE:return function q(Z,le){const De=Z[le.payload.submissionId].sections[le.payload.sectionId].data;if((0,_.a4)(De.files)){const pe=f()(De.files,{uuid:le.payload.fileId});if((0,_.Pe)(pe)){const re=Array.from(De.files);return re.splice(pe,1),Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{sections:Object.assign({},Z[le.payload.submissionId].sections,Object.assign({},{[le.payload.sectionId]:Object.assign({},Z[le.payload.submissionId].sections[le.payload.sectionId],{data:Object.assign({},Z[le.payload.submissionId].sections[le.payload.sectionId].data,{files:re})})}))})})}}return Z}(Z,le);case b.lE.ADD_SECTION_ERROR:return((Z,le)=>{const{submissionId:De,sectionId:pe,error:re}=le.payload;if((0,_.a4)(Z[De].sections[pe])){const ve=E()(Z[De].sections[pe].errorsToShow.concat(re),d());return Object.assign({},Z,{[De]:Object.assign({},Z[De],{activeSection:Z[le.payload.submissionId].activeSection,sections:Object.assign({},Z[De].sections,{[pe]:Object.assign({},Z[le.payload.submissionId].sections[le.payload.sectionId],{errorsToShow:ve})})})})}return Z})(Z,le);case b.lE.DELETE_SECTION_ERROR:return((Z,le)=>{const{submissionId:De,sectionId:pe,errors:re}=le.payload;if((0,_.a4)(Z[De].sections[pe])){let ve;return ve=Array.isArray(re)?c()(re,re,d()):Z[De].sections[pe].errorsToShow.filter(fe=>fe.path!==re.path||!d()(fe,re)),Object.assign({},Z,{[De]:Object.assign({},Z[De],{sections:Object.assign({},Z[De].sections,{[pe]:Object.assign({},Z[De].sections[pe],{errorsToShow:ve})})})})}return Z})(Z,le);case b.lE.REMOVE_SECTION_ERRORS:return function u(Z,le){return(0,_.hj)(Z[le.payload.submissionId])&&(0,_.hj)(Z[le.payload.submissionId].sections[le.payload.sectionId])?Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{sections:Object.assign({},Z[le.payload.submissionId].sections,{[le.payload.sectionId]:Object.assign({},Z[le.payload.submissionId].sections[le.payload.sectionId],{errorsToShow:[]})})})}):Z}(Z,le);case b.lE.CLEAN_DUPLICATE_DETECTION:return function ee(Z,le){return(0,_.hj)(Z[le.payload.submissionId])&&Z[le.payload.submissionId].sections.hasOwnProperty("duplicates")?Object.assign({},Z,{[le.payload.submissionId]:Object.assign({},Z[le.payload.submissionId],{sections:Object.assign({},Z[le.payload.submissionId].sections,{duplicates:Object.assign({},Z[le.payload.submissionId].sections.duplicates,{enabled:!1,data:{potentialDuplicates:[]}})})})}):Z}(Z,le);default:return Z}}},Ce=(0,i.UX)("submission")},64340:(B,D,t)=>{"use strict";t.d(D,{E:()=>J});var i=t(27691),n=t(73958),c=t(63016),e=t(49587),f=t(47947),g=t(17178),d=t(25814),y=t(41483),E=t(30593),_=t(66645),b=t(37610),O=t(82040),I=t(81459),T=t(86722),R=t(22922),u=t(9843),w=t(98985),v=t(67811),S=t(91917),M=t(32875),L=t(95143),F=t(72683),$=t(79224),j=t(51206),x=t(45100),G=t(80451),Y=t(16205),V=t(53107),X=t(95968),K=t(69685);let J=(()=>{class z{constructor(ee,de,Ce,Z,le,De,pe,re,ve){this.notificationsService=ee,this.restService=de,this.router=Ce,this.routeService=Z,this.store=le,this.translate=De,this.searchService=pe,this.requestService=re,this.jsonPatchOperationService=ve,this.workspaceLinkPath="workspaceitems",this.workflowLinkPath="workflowitems"}changeSubmissionCollection(ee,de){this.store.dispatch(new x.pL(ee,de))}getSubmissionCollectionId(ee){return this.store.pipe((0,n.Lt)(function Q(z){return(0,n.Mz)(function ae(z){return(0,n.Mz)(Y.O,q=>q.objects[z])}(z),q=>q?.collection)}(ee)))}createSubmission(ee){return this.restService.postToEndpoint(this.workspaceLinkPath,{},null,null,ee).pipe((0,f.T)(de=>de[0]),(0,g.W)(()=>(0,c.of)({})))}createSubmissionFromExternalSource(ee,de){const Ce=Object.create({});let Z=new i.Lr;return Z=Z.append("Content-Type","text/uri-list"),Ce.headers=Z,this.restService.postToEndpoint(this.workspaceLinkPath,ee,null,Ce,de)}depositSubmission(ee){const de=Object.create({});let Ce=new i.Lr;return Ce=Ce.append("Content-Type","text/uri-list"),de.headers=Ce,this.restService.postToEndpoint(this.workflowLinkPath,ee,null,de)}discardSubmission(ee){return this.restService.deleteById(ee)}dispatchInit(ee,de,Ce,Z,le,De,pe){this.store.dispatch(new x.jc(ee,de,Ce,Z,le,De,pe))}dispatchDeposit(ee){this.store.dispatch(new x.nu(ee))}dispatchDiscard(ee){this.store.dispatch(new x.v0(ee))}dispatchSave(ee,de){this.getSubmissionSaveProcessingStatus(ee).pipe((0,d.I)(Ce=>!Ce)).subscribe(()=>{this.store.dispatch(new x.sj(ee,de))})}dispatchSaveForLater(ee){this.store.dispatch(new x.f0(ee))}dispatchSaveSection(ee,de){this.store.dispatch(new x.h3(ee,de))}getActiveSectionId(ee){return this.getSubmissionObject(ee).pipe((0,f.T)(de=>de.activeSection))}getSubmissionObject(ee){return this.store.select((0,G.sO)(ee)).pipe((0,y.p)(de=>(0,F.EA)(de)))}getSubmissionSections(ee){return this.getSubmissionObject(ee).pipe((0,d.I)(de=>(0,F.EA)(de.sections)&&!de.isLoading),(0,f.T)(de=>de.sections),(0,f.T)(de=>{const Ce=[];return Object.keys(de).filter(Z=>!this.isSectionHidden(de[Z])).forEach(Z=>{const le=Object.create({});le.config=de[Z].config,le.mandatory=de[Z].mandatory,le.data=de[Z].data,le.errorsToShow=de[Z].errorsToShow,le.serverValidationErrors=de[Z].serverValidationErrors,le.header=de[Z].header,le.id=Z,le.sectionType=de[Z].sectionType,Ce.push(le)}),Ce}),(0,E.Z)([]),(0,_.F)())}getDisabledSectionsList(ee){return this.getSubmissionObject(ee).pipe((0,y.p)(de=>(0,F.EA)(de.sections)&&!de.isLoading),(0,f.T)(de=>de.sections),(0,f.T)(de=>{const Ce=[];return Object.keys(de).filter(Z=>!this.isSectionHidden(de[Z])).filter(Z=>!de[Z].enabled).forEach(Z=>{const le=Object.create({});le.header=de[Z].header,le.id=Z,Ce.push(le)}),Ce}),(0,E.Z)([]),(0,_.F)())}getSubmissionObjectLinkName(){const ee=this.router.routerState.snapshot.url;return ee.startsWith("/workspaceitems")||ee.startsWith("/submit")?this.workspaceLinkPath:ee.startsWith("/workflowitems")?this.workflowLinkPath:"edititems"}getSubmissionScope(){let ee;switch(this.getSubmissionObjectLinkName()){case this.workspaceLinkPath:ee=L.L.WorkspaceItem;break;case this.workflowLinkPath:ee=L.L.WorkflowItem}return ee}getSubmissionStatus(ee){return this.store.select(Y.O).pipe((0,f.T)(de=>de.objects[ee]),(0,y.p)(de=>(0,F.EA)(de)&&(0,F.EA)(de.sections)),(0,f.T)(de=>de.sections),(0,f.T)(de=>{const Ce=[];return(0,F.EA)(de)&&Object.keys(de).filter(Z=>de.hasOwnProperty(Z)).filter(Z=>!this.isSectionHidden(de[Z])).filter(Z=>de[Z].enabled).filter(Z=>!1===de[Z].isValid).forEach(Z=>{Ce.push(de[Z].isValid)}),!(0,F.Im)(de)&&(0,F.Im)(Ce)}),(0,_.F)(),(0,E.Z)(!1))}getSubmissionSaveProcessingStatus(ee){return this.getSubmissionObject(ee).pipe((0,f.T)(de=>de.savePending),(0,_.F)(),(0,E.Z)(!1))}getSubmissionDepositProcessingStatus(ee){return this.getSubmissionObject(ee).pipe((0,f.T)(de=>de.depositPending),(0,_.F)(),(0,E.Z)(!1))}hasUnsavedModification(){return this.jsonPatchOperationService.hasPendingOperations("sections")}isSectionHidden(ee){return(0,F.EA)(ee.visibility)&&"HIDDEN"===ee.visibility.main&&"HIDDEN"===ee.visibility.other}isSubmissionLoading(ee){return this.getSubmissionObject(ee).pipe((0,f.T)(de=>de.isLoading),(0,_.F)())}notifyNewSection(ee,de,Ce){const Z=this.translate.instant("submission.sections.general.metadata-extracted-new-section",{sectionId:de});this.notificationsService.info(null,Z,null,!0)}redirectToMyDSpace(){this.searchService.getEndpoint().pipe((0,b.s)(1),(0,O.M)(ee=>this.requestService.removeByHrefSubstring(ee)),(0,I.H)(()=>this.routeService.getPreviousUrl().pipe((0,b.s)(1),(0,O.M)(ee=>{(0,F.Im)(ee)||!ee.startsWith("/mydspace")?this.router.navigate(["/mydspace"]):this.router.navigateByUrl(ee)})))).subscribe()}resetAllSubmissionObjects(){this.store.dispatch(new x.Dy)}resetSubmissionObject(ee,de,Ce,Z,le,De){this.store.dispatch(new x.sf(ee,de,Ce,le,Z,De))}retrieveSubmission(ee){return this.restService.getDataById(this.getSubmissionObjectLinkName(),ee).pipe((0,d.I)(de=>(0,F.EA)(de)),(0,f.T)(de=>(0,j.SP)(de[0])),(0,g.W)(de=>{if(de instanceof R._p)return(0,j.PM)(de.errorMessage,de.statusCode)}))}setActiveSection(ee,de){this.store.dispatch(new x._D(ee,de))}startAutoSave(ee){if(this.stopAutoSave(),0===T.c.submission.autosave.timer)return;const de=T.c.submission.autosave.timer;this.timer$=(0,e.O)(de,de),this.autoSaveSub=this.timer$.subscribe(()=>this.store.dispatch(new x.sj(ee)))}stopAutoSave(){(0,F.a4)(this.autoSaveSub)&&(this.autoSaveSub.unsubscribe(),this.autoSaveSub=null)}static#e=this.\u0275fac=function(de){return new(de||z)(V.KVO($.I),V.KVO(M.O),V.KVO(X.Ix),V.KVO(w.v$),V.KVO(n.il),V.KVO(K.c$),V.KVO(v.S),V.KVO(u.B),V.KVO(S.U))};static#t=this.\u0275prov=V.jDH({token:z,factory:z.\u0275fac})}return z})()},38755:(B,D,t)=>{"use strict";t.d(D,{A:()=>f});var i=t(72683);const n=/([^\/]+)/g,c=/\/sections\/(.*)/,f=g=>("string"==typeof g?[g]:g).map(y=>y.match(n)&&y.match(n).length>2?{sectionId:y.match(n)[1],fieldId:y.match(n)[2],fieldIndex:(0,i.a4)(y.match(n)[3])?+y.match(n)[3]:0,originalPath:y}:{sectionId:y.match(c)[1],originalPath:y})},11750:(B,D,t)=>{"use strict";t.d(D,{A:()=>c});var i=t(38755);const c=(e=[])=>{const f=Object.create({});return e.forEach(g=>{(0,i.A)(g.paths).forEach(y=>{const E={path:y.originalPath,message:g.message};f[y.sectionId]||(f[y.sectionId]=[]),f[y.sectionId].push(E)})}),f}},63297:(B,D,t)=>{"use strict";t.d(D,{C2:()=>n,jV:()=>e});var i=t(87913);const n="suggestions";function e(f){return new i.t(function c(){return`/${n}`}(),f).toString()}},50947:(B,D,t)=>{"use strict";t.d(D,{E:()=>j});var i=t(54460),n=t(53107),c=t(69685),e=t(95793),g=t(71217),d=t(69372),y=t(76564),E=t(47947),_=t(41483),b=t(22867),O=t(32185),I=t(12007),T=t(72683),R=t(79224);const u=x=>({days:x}),w=x=>({hours:x}),v=x=>({minutes:x});function S(x,G){1&x&&(n.j41(0,"span"),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&x&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"system-wide-alert-banner.countdown.prefix")," "))}function M(x,G){if(1&x&&(n.j41(0,"span"),n.EFF(1),n.nI1(2,"async"),n.nI1(3,"translate"),n.k0s()),2&x){const Y=n.XpG(2);n.R7$(),n.SpI(" ",n.i5U(3,3,"system-wide-alert-banner.countdown.days",n.eq3(6,u,n.bMT(2,1,Y.countDownDays)))," ")}}function L(x,G){if(1&x&&(n.j41(0,"span"),n.EFF(1),n.nI1(2,"async"),n.nI1(3,"translate"),n.k0s()),2&x){const Y=n.XpG(2);n.R7$(),n.SpI(" ",n.i5U(3,3,"system-wide-alert-banner.countdown.hours",n.eq3(6,w,n.bMT(2,1,Y.countDownHours)))," ")}}function F(x,G){if(1&x&&(n.j41(0,"span"),n.EFF(1),n.nI1(2,"async"),n.nI1(3,"translate"),n.k0s()),2&x){const Y=n.XpG(2);n.R7$(),n.SpI(" ",n.i5U(3,3,"system-wide-alert-banner.countdown.minutes",n.eq3(6,v,n.bMT(2,1,Y.countDownMinutes)))," ")}}function $(x,G){if(1&x&&(n.j41(0,"div")(1,"div",1)(2,"div",2)(3,"span",3),n.DNE(4,S,3,3,"span",0),n.nI1(5,"async"),n.nI1(6,"async"),n.nI1(7,"async"),n.DNE(8,M,4,8,"span",0),n.nI1(9,"async"),n.DNE(10,L,4,8,"span",0),n.nI1(11,"async"),n.nI1(12,"async"),n.DNE(13,F,4,8,"span",0),n.nI1(14,"async"),n.nI1(15,"async"),n.nI1(16,"async"),n.k0s(),n.nrm(17,"span",4),n.nI1(18,"async"),n.k0s()()()),2&x){let Y;const V=n.XpG();n.R7$(4),n.Y8G("ngIf",n.bMT(5,5,V.countDownDays)>0||n.bMT(6,7,V.countDownHours)>0||n.bMT(7,9,V.countDownMinutes)>0),n.R7$(4),n.Y8G("ngIf",n.bMT(9,11,V.countDownDays)>0),n.R7$(2),n.Y8G("ngIf",n.bMT(11,13,V.countDownDays)>0||n.bMT(12,15,V.countDownHours)>0),n.R7$(3),n.Y8G("ngIf",n.bMT(14,17,V.countDownDays)>0||n.bMT(15,19,V.countDownHours)>0||n.bMT(16,21,V.countDownMinutes)>0),n.R7$(4),n.Y8G("innerHTML",null==(Y=n.bMT(18,23,V.systemWideAlert$))?null:Y.message,n.npT)}}let j=(()=>{class x{constructor(Y,V,X){this.platformId=Y,this.systemWideAlertDataService=V,this.notificationsService=X,this.systemWideAlert$=new g.t(void 0),this.countDownMinutes=new g.t(0),this.countDownHours=new g.t(0),this.countDownDays=new g.t(0),this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.systemWideAlertDataService.searchBy("active").pipe((0,I.Hz)(),(0,E.T)(Y=>Y.page),(0,_.p)(Y=>(0,T.hj)(Y)),(0,E.T)(Y=>Y[0])).subscribe(Y=>{this.systemWideAlert$.next(Y)})),this.subscriptions.push(this.systemWideAlert$.pipe((0,b.n)(Y=>{if((0,T.a4)(Y)&&(0,T.a4)(Y.countdownTo)){const X=(0,e.zonedTimeToUtc)(Y.countdownTo,"UTC").getTime()-(new Date).getTime();if(X>0)return this.allocateTimeUnits(X),(0,i.UE)(this.platformId)?(0,d.Y)(1e3):y.w}return this.countDownDays.next(0),this.countDownHours.next(0),this.countDownMinutes.next(0),y.w})).subscribe(()=>{this.setTimeDifference(this.systemWideAlert$.getValue().countdownTo)}))}setTimeDifference(Y){const X=(0,e.zonedTimeToUtc)(Y,"UTC").getTime()-(new Date).getTime();this.allocateTimeUnits(X)}allocateTimeUnits(Y){const V=Math.floor(Y/6e4%60),X=Math.floor(Y/36e5%24),K=Math.floor(Y/864e5);this.countDownMinutes.next(V),this.countDownHours.next(X),this.countDownDays.next(K)}ngOnDestroy(){this.subscriptions.forEach(Y=>{(0,T.a4)(Y)&&Y.unsubscribe()})}static#e=this.\u0275fac=function(V){return new(V||x)(n.rXU(n.Agw),n.rXU(O.SystemWideAlertDataService),n.rXU(R.I))};static#t=this.\u0275cmp=n.VBU({type:x,selectors:[["ds-system-wide-alert-banner"]],standalone:!0,features:[n.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[1,"rounded-0","alert","alert-warning","w100","m-0","px-1"],[1,"container"],[1,"font-weight-bold"],[3,"innerHTML"]],template:function(V,X){if(1&V&&(n.DNE(0,$,19,25,"div",0),n.nI1(1,"async")),2&V){let K;n.Y8G("ngIf",null==(K=n.bMT(1,1,X.systemWideAlert$))?null:K.active)}},dependencies:[i.bT,i.Jj,c.h,c.D9]})}return x})()},50946:(B,D,t)=>{"use strict";t.d(D,{B:()=>n});const n=new(t(98573).v)("systemwidealert")},7044:(B,D,t)=>{"use strict";t.d(D,{T:()=>g});var i=t(21124),c=(t(65554),t(53107));const e=["*"];function f(d,y){}let g=(()=>{class d extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["thumbnail","defaultImage","alt","placeholder","limitWidth"]}getComponentName(){return"ThumbnailComponent"}importThemedComponent(E){return t(572)(`./${E}/app/thumbnail/thumbnail.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,65554))}static#e=this.\u0275fac=(()=>{let E;return function(b){return(E||(E=c.xGo(d)))(b||d)}})();static#t=this.\u0275cmp=c.VBU({type:d,selectors:[["ds-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,b){1&_&&(c.NAR(),c.DNE(0,f,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}return d})()},65554:(B,D,t)=>{"use strict";t.r(D),t.d(D,{ThumbnailComponent:()=>$});var i=t(54460),n=t(69685),c=t(71217),e=t(63016),f=t(22867),g=t(21706),d=t(77304),y=t(36556),E=t(21314),_=t(56738),b=t(9767),O=t(72683),I=t(21548),T=t(714),R=t(63524),u=t(53107);const w=j=>({"d-none":j});function v(j,x){1&j&&(u.j41(0,"div",4)(1,"div",5)(2,"div",6),u.nrm(3,"ds-loading",7),u.k0s()()()),2&j&&(u.R7$(3),u.Y8G("spinner",!0))}function S(j,x){if(1&j){const G=u.RV6();u.j41(0,"img",9),u.nI1(1,"dsSafeUrl"),u.nI1(2,"translate"),u.bIt("error",function(){u.eBV(G);const V=u.XpG(3);return u.Njj(V.errorHandler())})("load",function(){u.eBV(G);const V=u.XpG(3);return u.Njj(V.successHandler())}),u.k0s()}if(2&j){const G=u.XpG().ngVar,Y=u.XpG().ngVar,V=u.XpG();u.Y8G("ngClass",u.eq3(7,w,Y))("src",u.bMT(1,3,G),u.B4B)("alt",u.bMT(2,5,V.alt))}}function M(j,x){if(1&j&&(u.j41(0,"div",4)(1,"div",5)(2,"div",10),u.EFF(3),u.nI1(4,"translate"),u.k0s()()()),2&j){const G=u.XpG(3);u.R7$(3),u.SpI(" ",u.bMT(4,1,G.placeholder)," ")}}function L(j,x){if(1&j&&(u.qex(0),u.DNE(1,S,3,9,"img",8)(2,M,5,3,"div",2),u.bVm()),2&j){const G=x.ngVar,Y=u.XpG().ngVar;u.R7$(),u.Y8G("ngIf",null!==G),u.R7$(),u.Y8G("ngIf",null===G&&!Y)}}function F(j,x){if(1&j&&(u.j41(0,"div",1),u.DNE(1,v,4,1,"div",2)(2,L,3,2,"ng-container",3),u.nI1(3,"async"),u.k0s()),2&j){const G=x.ngVar,Y=u.XpG();u.AVh("limit-width",Y.limitWidth),u.R7$(),u.Y8G("ngIf",G),u.R7$(),u.Y8G("ngVar",u.bMT(3,4,Y.src$))}}let $=(()=>{class j{constructor(G,Y,V){this.auth=G,this.authorizationService=Y,this.fileService=V,this.defaultImage=null,this.src$=new c.t(void 0),this.retriedWithToken=!1,this.alt="thumbnail.default.alt",this.placeholder="thumbnail.default.placeholder",this.limitWidth=!0,this.isLoading$=new c.t(!0)}ngOnChanges(G){if((0,O.Tn)(this.thumbnail))return void this.setSrc(this.defaultImage);const Y=this.contentHref;(0,O.a4)(Y)?this.setSrc(Y):this.setSrc(this.defaultImage)}get bitstream(){return this.thumbnail instanceof _._?this.thumbnail:this.thumbnail instanceof E.j?this.thumbnail.payload:void 0}get contentHref(){return this.thumbnail instanceof _._?this.thumbnail?._links?.content?.href:this.thumbnail instanceof E.j?this.thumbnail?.payload?._links?.content?.href:void 0}errorHandler(){const G=this.src$.getValue(),Y=this.bitstream,V=Y?._links?.content?.href;!this.retriedWithToken&&(0,O.a4)(V)&&G===V?(this.retriedWithToken=!0,this.auth.isAuthenticated().pipe((0,f.n)(X=>X?this.authorizationService.isAuthorized(y._.CanDownload,Y.self):(0,e.of)(!1)),(0,f.n)(X=>X?this.fileService.retrieveFileDownloadLink(V):(0,e.of)(null))).subscribe(X=>{(0,O.a4)(X)?this.setSrc(X):this.setSrc(this.defaultImage)})):this.setSrc(G!==this.defaultImage?this.defaultImage:null)}setSrc(G){this.src$.next(G),null===G&&this.isLoading$.next(!1)}successHandler(){this.isLoading$.next(!1)}static#e=this.\u0275fac=function(Y){return new(Y||j)(u.rXU(g.uR),u.rXU(d.AuthorizationDataService),u.rXU(b.E))};static#t=this.\u0275cmp=u.VBU({type:j,selectors:[["ds-base-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},standalone:!0,features:[u.OA$,u.aNF],decls:2,vars:3,consts:[["class","thumbnail",3,"limit-width",4,"ngVar"],[1,"thumbnail"],["class","thumbnail-content outer",4,"ngIf"],[4,"ngVar"],[1,"thumbnail-content","outer"],[1,"inner"],[1,"centered"],[3,"spinner"],["class","thumbnail-content img-fluid",3,"ngClass","src","alt","error","load",4,"ngIf"],[1,"thumbnail-content","img-fluid",3,"error","load","ngClass","src","alt"],[1,"thumbnail-placeholder","centered","lead"]],template:function(Y,V){1&Y&&(u.DNE(0,F,4,6,"div",0),u.nI1(1,"async")),2&Y&&u.Y8G("ngVar",u.bMT(1,1,V.isLoading$))},dependencies:[R.r,i.MD,i.YU,i.bT,i.Jj,I.v,n.h,n.D9,T.d],styles:['.limit-width[_ngcontent-%COMP%]{max-width:var(--ds-thumbnail-max-width)}img[_ngcontent-%COMP%]{max-width:100%}.outer[_ngcontent-%COMP%]{position:relative}.outer[_ngcontent-%COMP%]:before{display:block;content:"";width:100%;padding-top:141.4285714286%}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%]{position:absolute;inset:0}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .thumbnail-placeholder[_ngcontent-%COMP%]{background:var(--ds-thumbnail-placeholder-background);border:var(--ds-thumbnail-placeholder-border);color:var(--ds-thumbnail-placeholder-color);font-weight:700}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .centered[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}']})}return j})()},16572:(B,D,t)=>{"use strict";t.d(D,{$:()=>R});var i=t(76627),n=t(47947),c=t(22867),e=t(37610),f=t(9843),g=t(98985),d=t(12007),y=t(91427),E=t(72683),_=t(79224),b=t(53107),O=t(95968),I=t(69685),T=t(54460);let R=(()=>{class u{constructor(v,S,M,L,F,$,j,x){this.route=v,this.workflowItemService=S,this.router=M,this.routeService=L,this.notificationsService=F,this.translationService=$,this.requestService=j,this.location=x}ngOnInit(){this.type=this.getType(),this.wfi$=this.route.data.pipe((0,n.T)(v=>v.wfi),(0,d.Bo)()),this.item$=this.wfi$.pipe((0,c.n)(v=>v.item.pipe((0,d.v7)(),(0,d.Bo)()))),this.previousQueryParameters=this.location.getState()?.previousQueryParams}performAction(){(0,i.z)([this.wfi$,this.requestService.removeByHrefSubstring("/discover")]).pipe((0,e.s)(1),(0,c.n)(([v])=>this.sendRequest(v.id))).subscribe(v=>{if(v){const S=this.translationService.get("workflow-item."+this.type+".notification.success.title"),M=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(S,M)}else{const S=this.translationService.get("workflow-item."+this.type+".notification.error.title"),M=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(S,M)}this.previousPage()})}previousPage(){this.routeService.getPreviousUrl().pipe((0,e.s)(1)).subscribe(v=>{let S={};if((0,E.Im)(v)&&(v="/mydspace",S=this.previousQueryParameters),v.split("?").length>1)for(const M of v.split("?")[1].split("&"))S[M.split("=")[0]]=decodeURIComponent(M.split("=")[1]);this.router.navigate([v.split("?")[0]],{queryParams:S})})}static#e=this.\u0275fac=function(S){return new(S||u)(b.rXU(O.nX),b.rXU(y.WorkflowItemDataService),b.rXU(O.Ix),b.rXU(g.v$),b.rXU(_.I),b.rXU(I.c$),b.rXU(f.B),b.rXU(T.aZ))};static#t=this.\u0275dir=b.FsC({type:u,selectors:[["ds-workflowitem-action-page"]],inputs:{type:"type"},standalone:!0})}return u})()},55817:(B,D,t)=>{"use strict";t.d(D,{BD:()=>g,BY:()=>E,HJ:()=>y,RS:()=>R,Rd:()=>b,Rk:()=>d,UM:()=>O,Uf:()=>_,XH:()=>f,YN:()=>I,b1:()=>T});var i=t(31829),n=t(87913);function f(v){return new n.t((0,i.Q)(),v,I).toString()}function g(v){return new n.t((0,i.Q)(),v,O).toString()}function d(v){return new n.t((0,i.Q)(),v,T).toString()}function y(v){return new n.t((0,i.Q)(),v,R).toString()}function E(v){return new n.t((0,i.cp)(),v,u).toString()}function _(v){return new n.t((0,i.cp)(),v,w).toString()}const b="edit",O="delete",I="view",T="sendback",R="advanced",u="delete",w="edit"},18062:(B,D,t)=>{"use strict";t.d(D,{Dr:()=>c,l9:()=>e,vQ:()=>n});var i=t(53107);const n=new i.nKC("APP_CONFIG"),c=(0,i.zw6)("APP_CONFIG_STATE"),e=new i.nKC("APP_DATA_SERVICES_MAP")},30075:(B,D,t)=>{"use strict";t.d(D,{$k:()=>g,Nv:()=>y});var i=t(83984),c=t(72683),e=t(39466),f=t(86722);const g=(E,_)=>{d(E,_),console.log("Environment extended with app config")},d=(E,_)=>{Object.assign(E,(0,i.all)([E,_],{arrayMerge:(O,I,T)=>I}))},y=()=>f.c.themes.find(E=>(0,c.Tn)(E.regex)&&(0,c.Tn)(E.handle)&&(0,c.Tn)(E.uuid))??{name:e.Q}},86722:(B,D,t)=>{"use strict";t.d(D,{c:()=>i});const i={production:!0,ssr:{enabled:!0,enablePerformanceProfiler:!1,inlineCriticalCss:!1}}},48102:(B,D,t)=>{"use strict";t.d(D,{C:()=>c,S:()=>n});var i=t(53107);const n=new i.nKC("REQUEST"),c=new i.nKC("RESPONSE")},78128:(B,D,t)=>{"use strict";t(39408),t(32989),t(82374);var e=t(53107),f=t(86388),g=t(73014),d=t(54460),y=t(95968),E=t(73958),_=t(71217),b=t(66645),O=t(10402),I=t(71894),T=t(37610),R=t(86722),u=t(21706),w=t(46187),v=t(66190),S=t(86076),M=t(21124),L=t(10280);const F=["*"];function $(p,C){}let j=(()=>{class p extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["shouldShowRouteLoader","shouldShowFullscreenLoader"]}getComponentName(){return"RootComponent"}importThemedComponent(a){return t(94634)(`./${a}/app/root/root.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,10280))}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:F,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,$,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return p})();var x=t(48408),G=t(69685),Y=t(7186),V=t(72683),X=t(2155);const K=p=>({timeToExpire:p});let ae=(()=>{class p{constructor(a,h,N){this.activeModal=a,this.authService=h,this.store=N,this.response=new e.bkB,this.timeToExpire=(R.c.auth.ui.timeUntilIdle+R.c.auth.ui.idleGracePeriod)/1e3/60}ngOnInit(){(0,V.a4)(this.graceTimer)&&clearTimeout(this.graceTimer),this.graceTimer=setTimeout(()=>{this.logOutPressed()},R.c.auth.ui.idleGracePeriod)}extendSessionPressed(){this.extendSessionAndCloseModal()}logOutPressed(){this.closeModal(),this.store.dispatch(new Y.du)}closePressed(){this.extendSessionAndCloseModal()}extendSessionAndCloseModal(){(0,V.a4)(this.graceTimer)&&clearTimeout(this.graceTimer),this.authService.setIdle(!1),this.closeModal()}closeModal(){this.activeModal.close(),this.response.emit(!0)}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(X.Lw),e.rXU(u.uR),e.rXU(E.il))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-idle-modal"]],outputs:{response:"response"},standalone:!0,features:[e.aNF],decls:20,vars:15,consts:[["id","idle-modal.header",1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Log out",1,"cancel","btn","btn-danger",3,"click"],[1,"fas","fa-sign-out-alt"],["type","button","aria-label","Extend session","ngbAutofocus","",1,"confirm","btn","btn-primary",3,"click"],[1,"fas","fa-redo-alt"]],template:function(h,N){1&h&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return N.closePressed()}),e.j41(5,"span",2),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",3)(8,"p"),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"div",4)(12,"button",5),e.bIt("click",function(){return N.logOutPressed()}),e.nrm(13,"i",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"button",7),e.bIt("click",function(){return N.extendSessionPressed()}),e.nrm(17,"i",8),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()),2&h&&(e.R7$(2),e.SpI("",e.bMT(3,4,"idle-modal.header")," "),e.R7$(7),e.JRh(e.i5U(10,6,"idle-modal.info",e.eq3(13,K,N.timeToExpire))),e.R7$(5),e.SpI(" ",e.bMT(15,9,"idle-modal.log-out")," "),e.R7$(4),e.SpI(" ",e.bMT(19,11,"idle-modal.extend-session")," "))},dependencies:[G.h,G.D9],encapsulation:2})}return p})();var Q=t(33851),J=t(16182);let z=(()=>{class p{constructor(a,h,N,ie,Ae,Le,_t,Ft,fn,Qt,Yn){this._window=a,this.document=h,this.platformId=N,this.themeService=ie,this.translate=Ae,this.store=Le,this.authService=_t,this.router=Ft,this.cssService=fn,this.modalService=Qt,this.modalConfig=Yn,this.isRouteLoading$=new _.t(!1),this.notificationOptions=R.c.notifications,(0,d.UE)(this.platformId)&&this.trackIdleModal(),this.isThemeLoading$=this.themeService.isThemeLoading$,this.storeCSSVariables()}ngOnInit(){this.modalConfig.beforeDismiss=(0,g.A)(function*(){return"function"!=typeof this?.componentInstance?.beforeDismiss||this.componentInstance.beforeDismiss()}),this.isAuthBlocking$=this.store.pipe((0,E.Lt)(w.Gv),(0,b.F)()),this.dispatchWindowSize(this._window.nativeWindow.innerWidth,this._window.nativeWindow.innerHeight)}storeCSSVariables(){this.cssService.clearCSSVariables(),this.cssService.addCSSVariables(this.cssService.getCSSVariablesFromStylesheets(this.document))}ngAfterViewInit(){this.router.events.pipe((0,O.c)(0)).subscribe(a=>{a instanceof y.Z?(0,S.S)(this.isRouteLoading$,!0):(a instanceof y.wF||a instanceof y.j5)&&(0,S.S)(this.isRouteLoading$,!1)})}onResize(a){this.dispatchWindowSize(a.target.innerWidth,a.target.innerHeight)}dispatchWindowSize(a,h){this.store.dispatch(new x.l(a,h))}trackIdleModal(){const a=this.authService.isUserIdle(),h=this.authService.isAuthenticated();a.pipe((0,I.E)(h)).subscribe(([N,ie])=>{if(N&&ie&&!this.idleModalOpen){const Ae=this.modalService.open(ae,{ariaLabelledBy:"idle-modal.header"});this.idleModalOpen=!0,Ae.componentInstance.response.pipe((0,T.s)(1)).subscribe(Le=>{Le&&(this.idleModalOpen=!1)})}})}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(v.lc),e.rXU(d.qQ),e.rXU(e.Agw),e.rXU(J.Fs),e.rXU(G.c$),e.rXU(E.il),e.rXU(u.uR),e.rXU(y.Ix),e.rXU(Q.J),e.rXU(X.Bq),e.rXU(X.LY))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-app"]],hostBindings:function(h,N){1&h&&e.bIt("resize",function(Ae){return N.onResize(Ae)},!1,e.tSv)},standalone:!0,features:[e.aNF],decls:4,vars:8,consts:[[3,"shouldShowFullscreenLoader","shouldShowRouteLoader"]],template:function(h,N){1&h&&(e.nrm(0,"ds-root",0),e.nI1(1,"async"),e.nI1(2,"async"),e.nI1(3,"async")),2&h&&e.Y8G("shouldShowFullscreenLoader",e.bMT(1,2,N.isAuthBlocking$)||e.bMT(2,4,N.isThemeLoading$))("shouldShowRouteLoader",e.bMT(3,6,N.isRouteLoading$))},dependencies:[j,d.Jj],changeDetection:0})}return p})();var q=t(30075),ee=t(27691),de=t(71204);function Z(p){return new e.wOt(3e3,!1)}function Dn(p){switch(p.length){case 0:return new de.sf;case 1:return p[0];default:return new de.ui(p)}}function Lt(p,C,a=new Map,h=new Map){const N=[],ie=[];let Ae=-1,Le=null;if(C.forEach(_t=>{const Ft=_t.get("offset"),fn=Ft==Ae,Qt=fn&&Le||new Map;_t.forEach((Yn,as)=>{let Nn=as,Qn=Yn;if("offset"!==as)switch(Nn=p.normalizePropertyName(Nn,N),Qn){case de.FX:Qn=a.get(as);break;case de.kp:Qn=h.get(as);break;default:Qn=p.normalizeStyleValue(as,Nn,Qn,N)}Qt.set(Nn,Qn)}),fn||ie.push(Qt),Le=Qt,Ae=Ft}),N.length)throw function dt(p){return new e.wOt(3502,!1)}();return ie}function zt(p,C,a,h){switch(C){case"start":p.onStart(()=>h(a&&gt(a,"start",p)));break;case"done":p.onDone(()=>h(a&&gt(a,"done",p)));break;case"destroy":p.onDestroy(()=>h(a&&gt(a,"destroy",p)))}}function gt(p,C,a){const ie=Ke(p.element,p.triggerName,p.fromState,p.toState,C||p.phaseName,a.totalTime??p.totalTime,!!a.disabled),Ae=p._data;return null!=Ae&&(ie._data=Ae),ie}function Ke(p,C,a,h,N="",ie=0,Ae){return{element:p,triggerName:C,fromState:a,toState:h,phaseName:N,totalTime:ie,disabled:!!Ae}}function Ze(p,C,a){let h=p.get(C);return h||p.set(C,h=a),h}function He(p){const C=p.indexOf(":");return[p.substring(1,C),p.slice(C+1)]}const We=typeof document>"u"?null:document.documentElement;function Ct(p){const C=p.parentNode||p.host||null;return C===We?null:C}let Ot=null,Dt=!1;function ps(p,C){for(;C;){if(C===p)return!0;C=Ct(C)}return!1}function ks(p,C,a){if(a)return Array.from(p.querySelectorAll(C));const h=p.querySelector(C);return h?[h]:[]}let vt=(()=>{class p{validateStyleProperty(a){return function Wt(p){Ot||(Ot=function Pn(){return typeof document<"u"?document.body:null}()||{},Dt=!!Ot.style&&"WebkitAppearance"in Ot.style);let C=!0;return Ot.style&&!function Qe(p){return"ebkit"==p.substring(1,6)}(p)&&(C=p in Ot.style,!C&&Dt&&(C="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in Ot.style)),C}(a)}matchesElement(a,h){return!1}containsElement(a,h){return ps(a,h)}getParentElement(a){return Ct(a)}query(a,h,N){return ks(a,h,N)}computeStyle(a,h,N){return N||""}animate(a,h,N,ie,Ae,Le=[],_t){return new de.sf(N,ie)}static#e=this.\u0275fac=function(h){return new(h||p)};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();class ht{static#e=this.NOOP=new vt}class lt{}const Ln=1e3,In="ng-enter",yn="ng-leave",hn="ng-trigger",Un=".ng-trigger",ns="ng-animating",fs=".ng-animating";function Zn(p){if("number"==typeof p)return p;const C=p.match(/^(-?[\.\d]+)(m?s)/);return!C||C.length<2?0:_s(parseFloat(C[1]),C[2])}function _s(p,C){return"s"===C?p*Ln:p}function Ds(p,C,a){return p.hasOwnProperty("duration")?p:function ft(p,C,a){let N,ie=0,Ae="";if("string"==typeof p){const Le=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Le)return C.push(Z()),{duration:0,delay:0,easing:""};N=_s(parseFloat(Le[1]),Le[2]);const _t=Le[3];null!=_t&&(ie=_s(parseFloat(_t),Le[4]));const Ft=Le[5];Ft&&(Ae=Ft)}else N=p;if(!a){let Le=!1,_t=C.length;N<0&&(C.push(function le(){return new e.wOt(3100,!1)}()),Le=!0),ie<0&&(C.push(function De(){return new e.wOt(3101,!1)}()),Le=!0),Le&&C.splice(_t,0,Z())}return{duration:N,delay:ie,easing:Ae}}(p,C,a)}function ut(p,C,a){C.forEach((h,N)=>{const ie=Cs(N);a&&!a.has(N)&&a.set(N,p.style[ie]),p.style[ie]=h})}function mt(p,C){C.forEach((a,h)=>{const N=Cs(h);p.style[N]=""})}function xt(p){return Array.isArray(p)?1==p.length?p[0]:(0,de.K2)(p):p}const jn=new RegExp("{{\\s*(.+?)\\s*}}","g");function An(p){let C=[];if("string"==typeof p){let a;for(;a=jn.exec(p);)C.push(a[1]);jn.lastIndex=0}return C}function ds(p,C,a){const h=`${p}`,N=h.replace(jn,(ie,Ae)=>{let Le=C[Ae];return null==Le&&(a.push(function re(p){return new e.wOt(3003,!1)}()),Le=""),Le.toString()});return N==h?p:N}const Ks=/-+([a-z0-9])/g;function Cs(p){return p.replace(Ks,(...C)=>C[1].toUpperCase())}function Ss(p,C,a){switch(C.type){case de.If.Trigger:return p.visitTrigger(C,a);case de.If.State:return p.visitState(C,a);case de.If.Transition:return p.visitTransition(C,a);case de.If.Sequence:return p.visitSequence(C,a);case de.If.Group:return p.visitGroup(C,a);case de.If.Animate:return p.visitAnimate(C,a);case de.If.Keyframes:return p.visitKeyframes(C,a);case de.If.Style:return p.visitStyle(C,a);case de.If.Reference:return p.visitReference(C,a);case de.If.AnimateChild:return p.visitAnimateChild(C,a);case de.If.AnimateRef:return p.visitAnimateRef(C,a);case de.If.Query:return p.visitQuery(C,a);case de.If.Stagger:return p.visitStagger(C,a);default:throw function ve(p){return new e.wOt(3004,!1)}()}}function Hs(p,C){return window.getComputedStyle(p)[C]}const gi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Xi extends lt{normalizePropertyName(C,a){return Cs(C)}normalizeStyleValue(C,a,h,N){let ie="";const Ae=h.toString().trim();if(gi.has(a)&&0!==h&&"0"!==h)if("number"==typeof h)ie="px";else{const Le=h.match(/^[+-]?[\d\.]+([a-z]*)$/);Le&&0==Le[1].length&&N.push(function fe(p,C){return new e.wOt(3005,!1)}())}return Ae+ie}}const yr="*";const cn=new Set(["true","1"]),Kt=new Set(["false","0"]);function Ut(p,C){const a=cn.has(p)||Kt.has(p),h=cn.has(C)||Kt.has(C);return(N,ie)=>{let Ae=p==yr||p==N,Le=C==yr||C==ie;return!Ae&&a&&"boolean"==typeof N&&(Ae=N?cn.has(p):Kt.has(p)),!Le&&h&&"boolean"==typeof ie&&(Le=ie?cn.has(C):Kt.has(C)),Ae&&Le}}const kn=new RegExp("s*:selfs*,?","g");function cs(p,C,a,h){return new Ei(p).build(C,a,h)}class Ei{constructor(C){this._driver=C}build(C,a,h){const N=new xi(a);return this._resetContextStyleTimingState(N),Ss(this,xt(C),N)}_resetContextStyleTimingState(C){C.currentQuerySelector="",C.collectedStyles=new Map,C.collectedStyles.set("",new Map),C.currentTime=0}visitTrigger(C,a){let h=a.queryCount=0,N=a.depCount=0;const ie=[],Ae=[];return"@"==C.name.charAt(0)&&a.errors.push(function Ie(){return new e.wOt(3006,!1)}()),C.definitions.forEach(Le=>{if(this._resetContextStyleTimingState(a),Le.type==de.If.State){const _t=Le,Ft=_t.name;Ft.toString().split(/\s*,\s*/).forEach(fn=>{_t.name=fn,ie.push(this.visitState(_t,a))}),_t.name=Ft}else if(Le.type==de.If.Transition){const _t=this.visitTransition(Le,a);h+=_t.queryCount,N+=_t.depCount,Ae.push(_t)}else a.errors.push(function Ne(){return new e.wOt(3007,!1)}())}),{type:de.If.Trigger,name:C.name,states:ie,transitions:Ae,queryCount:h,depCount:N,options:null}}visitState(C,a){const h=this.visitStyle(C.styles,a),N=C.options&&C.options.params||null;if(h.containsDynamicStyles){const ie=new Set,Ae=N||{};h.styles.forEach(Le=>{Le instanceof Map&&Le.forEach(_t=>{An(_t).forEach(Ft=>{Ae.hasOwnProperty(Ft)||ie.add(Ft)})})}),ie.size&&a.errors.push(function qe(p,C){return new e.wOt(3008,!1)}(0,ie.values()))}return{type:de.If.State,name:C.name,style:h,options:N?{params:N}:null}}visitTransition(C,a){a.queryCount=0,a.depCount=0;const h=Ss(this,xt(C.animation),a),N=function Ho(p,C){const a=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(h=>function Bi(p,C,a){if(":"==p[0]){const _t=function Pt(p,C){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,h)=>parseFloat(h)>parseFloat(a);case":decrement":return(a,h)=>parseFloat(h)<parseFloat(a);default:return C.push(function Re(p){return new e.wOt(3016,!1)}()),"* => *"}}(p,a);if("function"==typeof _t)return void C.push(_t);p=_t}const h=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return a.push(function je(p){return new e.wOt(3015,!1)}()),C;const N=h[1],ie=h[2],Ae=h[3];C.push(Ut(N,Ae)),"<"==ie[0]&&(N!=yr||Ae!=yr)&&C.push(Ut(Ae,N))}(h,a,C)):a.push(p),a}(C.expr,a.errors);return{type:de.If.Transition,matchers:N,animation:h,queryCount:a.queryCount,depCount:a.depCount,options:wr(C.options)}}visitSequence(C,a){return{type:de.If.Sequence,steps:C.steps.map(h=>Ss(this,h,a)),options:wr(C.options)}}visitGroup(C,a){const h=a.currentTime;let N=0;const ie=C.steps.map(Ae=>{a.currentTime=h;const Le=Ss(this,Ae,a);return N=Math.max(N,a.currentTime),Le});return a.currentTime=N,{type:de.If.Group,steps:ie,options:wr(C.options)}}visitAnimate(C,a){const h=function Zr(p,C){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return Io(Ds(p,C).duration,0,"");const a=p;if(a.split(/\s+/).some(ie=>"{"==ie.charAt(0)&&"{"==ie.charAt(1))){const ie=Io(0,0,"");return ie.dynamic=!0,ie.strValue=a,ie}const N=Ds(a,C);return Io(N.duration,N.delay,N.easing)}(C.timings,a.errors);a.currentAnimateTimings=h;let N,ie=C.styles?C.styles:(0,de.iF)({});if(ie.type==de.If.Keyframes)N=this.visitKeyframes(ie,a);else{let Ae=C.styles,Le=!1;if(!Ae){Le=!0;const Ft={};h.easing&&(Ft.easing=h.easing),Ae=(0,de.iF)(Ft)}a.currentTime+=h.duration+h.delay;const _t=this.visitStyle(Ae,a);_t.isEmptyStep=Le,N=_t}return a.currentAnimateTimings=null,{type:de.If.Animate,timings:h,style:N,options:null}}visitStyle(C,a){const h=this._makeStyleAst(C,a);return this._validateStyleAst(h,a),h}_makeStyleAst(C,a){const h=[],N=Array.isArray(C.styles)?C.styles:[C.styles];for(let Le of N)"string"==typeof Le?Le===de.kp?h.push(Le):a.errors.push(new e.wOt(3002,!1)):h.push(new Map(Object.entries(Le)));let ie=!1,Ae=null;return h.forEach(Le=>{if(Le instanceof Map&&(Le.has("easing")&&(Ae=Le.get("easing"),Le.delete("easing")),!ie))for(let _t of Le.values())if(_t.toString().indexOf("{{")>=0){ie=!0;break}}),{type:de.If.Style,styles:h,easing:Ae,offset:C.offset,containsDynamicStyles:ie,options:null}}_validateStyleAst(C,a){const h=a.currentAnimateTimings;let N=a.currentTime,ie=a.currentTime;h&&ie>0&&(ie-=h.duration+h.delay),C.styles.forEach(Ae=>{"string"!=typeof Ae&&Ae.forEach((Le,_t)=>{const Ft=a.collectedStyles.get(a.currentQuerySelector),fn=Ft.get(_t);let Qt=!0;fn&&(ie!=N&&ie>=fn.startTime&&N<=fn.endTime&&(a.errors.push(function Ve(p,C,a,h,N){return new e.wOt(3010,!1)}()),Qt=!1),ie=fn.startTime),Qt&&Ft.set(_t,{startTime:ie,endTime:N}),a.options&&function sn(p,C,a){const h=C.params||{},N=An(p);N.length&&N.forEach(ie=>{h.hasOwnProperty(ie)||a.push(function pe(p){return new e.wOt(3001,!1)}())})}(Le,a.options,a.errors)})})}visitKeyframes(C,a){const h={type:de.If.Keyframes,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function et(){return new e.wOt(3011,!1)}()),h;let ie=0;const Ae=[];let Le=!1,_t=!1,Ft=0;const fn=C.steps.map(Li=>{const mi=this._makeStyleAst(Li,a);let Tr=null!=mi.offset?mi.offset:function ao(p){if("string"==typeof p)return null;let C=null;if(Array.isArray(p))p.forEach(a=>{if(a instanceof Map&&a.has("offset")){const h=a;C=parseFloat(h.get("offset")),h.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const a=p;C=parseFloat(a.get("offset")),a.delete("offset")}return C}(mi.styles),Kr=0;return null!=Tr&&(ie++,Kr=mi.offset=Tr),_t=_t||Kr<0||Kr>1,Le=Le||Kr<Ft,Ft=Kr,Ae.push(Kr),mi});_t&&a.errors.push(function yt(){return new e.wOt(3012,!1)}()),Le&&a.errors.push(function it(){return new e.wOt(3200,!1)}());const Qt=C.steps.length;let Yn=0;ie>0&&ie<Qt?a.errors.push(function at(){return new e.wOt(3202,!1)}()):0==ie&&(Yn=1/(Qt-1));const as=Qt-1,Nn=a.currentTime,Qn=a.currentAnimateTimings,Vs=Qn.duration;return fn.forEach((Li,mi)=>{const Tr=Yn>0?mi==as?1:Yn*mi:Ae[mi],Kr=Tr*Vs;a.currentTime=Nn+Qn.delay+Kr,Qn.duration=Kr,this._validateStyleAst(Li,a),Li.offset=Tr,h.styles.push(Li)}),h}visitReference(C,a){return{type:de.If.Reference,animation:Ss(this,xt(C.animation),a),options:wr(C.options)}}visitAnimateChild(C,a){return a.depCount++,{type:de.If.AnimateChild,options:wr(C.options)}}visitAnimateRef(C,a){return{type:de.If.AnimateRef,animation:this.visitReference(C.animation,a),options:wr(C.options)}}visitQuery(C,a){const h=a.currentQuerySelector,N=C.options||{};a.queryCount++,a.currentQuery=C;const[ie,Ae]=function ir(p){const C=!!p.split(/\s*,\s*/).find(a=>":self"==a);return C&&(p=p.replace(kn,"")),p=p.replace(/@\*/g,Un).replace(/@\w+/g,a=>Un+"-"+a.slice(1)).replace(/:animating/g,fs),[p,C]}(C.selector);a.currentQuerySelector=h.length?h+" "+ie:ie,Ze(a.collectedStyles,a.currentQuerySelector,new Map);const Le=Ss(this,xt(C.animation),a);return a.currentQuery=null,a.currentQuerySelector=h,{type:de.If.Query,selector:ie,limit:N.limit||0,optional:!!N.optional,includeSelf:Ae,animation:Le,originalSelector:C.selector,options:wr(C.options)}}visitStagger(C,a){a.currentQuery||a.errors.push(function Yt(){return new e.wOt(3013,!1)}());const h="full"===C.timings?{duration:0,delay:0,easing:"full"}:Ds(C.timings,a.errors,!0);return{type:de.If.Stagger,animation:Ss(this,xt(C.animation),a),timings:h,options:null}}}class xi{constructor(C){this.errors=C,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function wr(p){return p?(p={...p}).params&&(p.params=function li(p){return p?{...p}:null}(p.params)):p={},p}function Io(p,C,a){return{duration:p,delay:C,easing:a}}function lo(p,C,a,h,N,ie,Ae=null,Le=!1){return{type:1,element:p,keyframes:C,preStyleProps:a,postStyleProps:h,duration:N,delay:ie,totalTime:N+ie,easing:Ae,subTimeline:Le}}class jr{constructor(){this._map=new Map}get(C){return this._map.get(C)||[]}append(C,a){let h=this._map.get(C);h||this._map.set(C,h=[]),h.push(...a)}has(C){return this._map.has(C)}clear(){this._map.clear()}}const No=new RegExp(":enter","g"),fr=new RegExp(":leave","g");function Ps(p,C,a,h,N,ie=new Map,Ae=new Map,Le,_t,Ft=[]){return(new sa).buildKeyframes(p,C,a,h,N,ie,Ae,Le,_t,Ft)}class sa{buildKeyframes(C,a,h,N,ie,Ae,Le,_t,Ft,fn=[]){Ft=Ft||new jr;const Qt=new Er(C,a,Ft,N,ie,fn,[]);Qt.options=_t;const Yn=_t.delay?Zn(_t.delay):0;Qt.currentTimeline.delayNextStep(Yn),Qt.currentTimeline.setStyles([Ae],null,Qt.errors,_t),Ss(this,h,Qt);const as=Qt.timelines.filter(Nn=>Nn.containsAnimation());if(as.length&&Le.size){let Nn;for(let Qn=as.length-1;Qn>=0;Qn--){const Vs=as[Qn];if(Vs.element===a){Nn=Vs;break}}Nn&&!Nn.allowOnlyTimelineStyles()&&Nn.setStyles([Le],null,Qt.errors,_t)}return as.length?as.map(Nn=>Nn.buildKeyframes()):[lo(a,[],[],[],0,Yn,"",!1)]}visitTrigger(C,a){}visitState(C,a){}visitTransition(C,a){}visitAnimateChild(C,a){const h=a.subInstructions.get(a.element);if(h){const N=a.createSubContext(C.options),ie=a.currentTimeline.currentTime,Ae=this._visitSubInstructions(h,N,N.options);ie!=Ae&&a.transformIntoNewTimeline(Ae)}a.previousNode=C}visitAnimateRef(C,a){const h=a.createSubContext(C.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([C.options,C.animation.options],a,h),this.visitReference(C.animation,h),a.transformIntoNewTimeline(h.currentTimeline.currentTime),a.previousNode=C}_applyAnimationRefDelays(C,a,h){for(const N of C){const ie=N?.delay;if(ie){const Ae="number"==typeof ie?ie:Zn(ds(ie,N?.params??{},a.errors));h.delayNextStep(Ae)}}}_visitSubInstructions(C,a,h){let ie=a.currentTimeline.currentTime;const Ae=null!=h.duration?Zn(h.duration):null,Le=null!=h.delay?Zn(h.delay):null;return 0!==Ae&&C.forEach(_t=>{const Ft=a.appendInstructionToTimeline(_t,Ae,Le);ie=Math.max(ie,Ft.duration+Ft.delay)}),ie}visitReference(C,a){a.updateOptions(C.options,!0),Ss(this,C.animation,a),a.previousNode=C}visitSequence(C,a){const h=a.subContextCount;let N=a;const ie=C.options;if(ie&&(ie.params||ie.delay)&&(N=a.createSubContext(ie),N.transformIntoNewTimeline(),null!=ie.delay)){N.previousNode.type==de.If.Style&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=So);const Ae=Zn(ie.delay);N.delayNextStep(Ae)}C.steps.length&&(C.steps.forEach(Ae=>Ss(this,Ae,N)),N.currentTimeline.applyStylesToKeyframe(),N.subContextCount>h&&N.transformIntoNewTimeline()),a.previousNode=C}visitGroup(C,a){const h=[];let N=a.currentTimeline.currentTime;const ie=C.options&&C.options.delay?Zn(C.options.delay):0;C.steps.forEach(Ae=>{const Le=a.createSubContext(C.options);ie&&Le.delayNextStep(ie),Ss(this,Ae,Le),N=Math.max(N,Le.currentTimeline.currentTime),h.push(Le.currentTimeline)}),h.forEach(Ae=>a.currentTimeline.mergeTimelineCollectedStyles(Ae)),a.transformIntoNewTimeline(N),a.previousNode=C}_visitTiming(C,a){if(C.dynamic){const h=C.strValue;return Ds(a.params?ds(h,a.params,a.errors):h,a.errors)}return{duration:C.duration,delay:C.delay,easing:C.easing}}visitAnimate(C,a){const h=a.currentAnimateTimings=this._visitTiming(C.timings,a),N=a.currentTimeline;h.delay&&(a.incrementTime(h.delay),N.snapshotCurrentStyles());const ie=C.style;ie.type==de.If.Keyframes?this.visitKeyframes(ie,a):(a.incrementTime(h.duration),this.visitStyle(ie,a),N.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=C}visitStyle(C,a){const h=a.currentTimeline,N=a.currentAnimateTimings;!N&&h.hasCurrentStyleProperties()&&h.forwardFrame();const ie=N&&N.easing||C.easing;C.isEmptyStep?h.applyEmptyStep(ie):h.setStyles(C.styles,ie,a.errors,a.options),a.previousNode=C}visitKeyframes(C,a){const h=a.currentAnimateTimings,N=a.currentTimeline.duration,ie=h.duration,Le=a.createSubContext().currentTimeline;Le.easing=h.easing,C.styles.forEach(_t=>{Le.forwardTime((_t.offset||0)*ie),Le.setStyles(_t.styles,_t.easing,a.errors,a.options),Le.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(Le),a.transformIntoNewTimeline(N+ie),a.previousNode=C}visitQuery(C,a){const h=a.currentTimeline.currentTime,N=C.options||{},ie=N.delay?Zn(N.delay):0;ie&&(a.previousNode.type===de.If.Style||0==h&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=So);let Ae=h;const Le=a.invokeQuery(C.selector,C.originalSelector,C.limit,C.includeSelf,!!N.optional,a.errors);a.currentQueryTotal=Le.length;let _t=null;Le.forEach((Ft,fn)=>{a.currentQueryIndex=fn;const Qt=a.createSubContext(C.options,Ft);ie&&Qt.delayNextStep(ie),Ft===a.element&&(_t=Qt.currentTimeline),Ss(this,C.animation,Qt),Qt.currentTimeline.applyStylesToKeyframe(),Ae=Math.max(Ae,Qt.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(Ae),_t&&(a.currentTimeline.mergeTimelineCollectedStyles(_t),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=C}visitStagger(C,a){const h=a.parentContext,N=a.currentTimeline,ie=C.timings,Ae=Math.abs(ie.duration),Le=Ae*(a.currentQueryTotal-1);let _t=Ae*a.currentQueryIndex;switch(ie.duration<0?"reverse":ie.easing){case"reverse":_t=Le-_t;break;case"full":_t=h.currentStaggerTime}const fn=a.currentTimeline;_t&&fn.delayNextStep(_t);const Qt=fn.currentTime;Ss(this,C.animation,a),a.previousNode=C,h.currentStaggerTime=N.currentTime-Qt+(N.startTime-h.currentTimeline.startTime)}}const So={};class Er{constructor(C,a,h,N,ie,Ae,Le,_t){this._driver=C,this.element=a,this.subInstructions=h,this._enterClassName=N,this._leaveClassName=ie,this.errors=Ae,this.timelines=Le,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=So,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_t||new uo(this._driver,a,0),Le.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(C,a){if(!C)return;const h=C;let N=this.options;null!=h.duration&&(N.duration=Zn(h.duration)),null!=h.delay&&(N.delay=Zn(h.delay));const ie=h.params;if(ie){let Ae=N.params;Ae||(Ae=this.options.params={}),Object.keys(ie).forEach(Le=>{(!a||!Ae.hasOwnProperty(Le))&&(Ae[Le]=ds(ie[Le],Ae,this.errors))})}}_copyOptions(){const C={};if(this.options){const a=this.options.params;if(a){const h=C.params={};Object.keys(a).forEach(N=>{h[N]=a[N]})}}return C}createSubContext(C=null,a,h){const N=a||this.element,ie=new Er(this._driver,N,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(N,h||0));return ie.previousNode=this.previousNode,ie.currentAnimateTimings=this.currentAnimateTimings,ie.options=this._copyOptions(),ie.updateOptions(C),ie.currentQueryIndex=this.currentQueryIndex,ie.currentQueryTotal=this.currentQueryTotal,ie.parentContext=this,this.subContextCount++,ie}transformIntoNewTimeline(C){return this.previousNode=So,this.currentTimeline=this.currentTimeline.fork(this.element,C),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(C,a,h){const N={duration:a??C.duration,delay:this.currentTimeline.currentTime+(h??0)+C.delay,easing:""},ie=new zo(this._driver,C.element,C.keyframes,C.preStyleProps,C.postStyleProps,N,C.stretchStartingKeyframe);return this.timelines.push(ie),N}incrementTime(C){this.currentTimeline.forwardTime(this.currentTimeline.duration+C)}delayNextStep(C){C>0&&this.currentTimeline.delayNextStep(C)}invokeQuery(C,a,h,N,ie,Ae){let Le=[];if(N&&Le.push(this.element),C.length>0){C=(C=C.replace(No,"."+this._enterClassName)).replace(fr,"."+this._leaveClassName);let Ft=this._driver.query(this.element,C,1!=h);0!==h&&(Ft=h<0?Ft.slice(Ft.length+h,Ft.length):Ft.slice(0,h)),Le.push(...Ft)}return!ie&&0==Le.length&&Ae.push(function nn(p){return new e.wOt(3014,!1)}()),Le}}class uo{constructor(C,a,h,N){this._driver=C,this.element=a,this.startTime=h,this._elementTimelineStylesLookup=N,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(C){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+C),a&&this.snapshotCurrentStyles()):this.startTime+=C}fork(C,a){return this.applyStylesToKeyframe(),new uo(this._driver,C,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(C){this.applyStylesToKeyframe(),this.duration=C,this._loadKeyframe()}_updateStyle(C,a){this._localTimelineStyles.set(C,a),this._globalTimelineStyles.set(C,a),this._styleSummary.set(C,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(C){C&&this._previousKeyframe.set("easing",C);for(let[a,h]of this._globalTimelineStyles)this._backFill.set(a,h||de.kp),this._currentKeyframe.set(a,de.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(C,a,h,N){a&&this._previousKeyframe.set("easing",a);const ie=N&&N.params||{},Ae=function zr(p,C){const a=new Map;let h;return p.forEach(N=>{if("*"===N){h??=C.keys();for(let ie of h)a.set(ie,de.kp)}else for(let[ie,Ae]of N)a.set(ie,Ae)}),a}(C,this._globalTimelineStyles);for(let[Le,_t]of Ae){const Ft=ds(_t,ie,h);this._pendingStyles.set(Le,Ft),this._localTimelineStyles.has(Le)||this._backFill.set(Le,this._globalTimelineStyles.get(Le)??de.kp),this._updateStyle(Le,Ft)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((C,a)=>{this._currentKeyframe.set(a,C)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((C,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,C)}))}snapshotCurrentStyles(){for(let[C,a]of this._localTimelineStyles)this._pendingStyles.set(C,a),this._updateStyle(C,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const C=[];for(let a in this._currentKeyframe)C.push(a);return C}mergeTimelineCollectedStyles(C){C._styleSummary.forEach((a,h)=>{const N=this._styleSummary.get(h);(!N||a.time>N.time)&&this._updateStyle(h,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const C=new Set,a=new Set,h=1===this._keyframes.size&&0===this.duration;let N=[];this._keyframes.forEach((Le,_t)=>{const Ft=new Map([...this._backFill,...Le]);Ft.forEach((fn,Qt)=>{fn===de.FX?C.add(Qt):fn===de.kp&&a.add(Qt)}),h||Ft.set("offset",_t/this.duration),N.push(Ft)});const ie=[...C.values()],Ae=[...a.values()];if(h){const Le=N[0],_t=new Map(Le);Le.set("offset",0),_t.set("offset",1),N=[Le,_t]}return lo(this.element,N,ie,Ae,this.duration,this.startTime,this.easing,!1)}}class zo extends uo{constructor(C,a,h,N,ie,Ae,Le=!1){super(C,a,Ae.delay),this.keyframes=h,this.preStyleProps=N,this.postStyleProps=ie,this._stretchStartingKeyframe=Le,this.timings={duration:Ae.duration,delay:Ae.delay,easing:Ae.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let C=this.keyframes,{delay:a,duration:h,easing:N}=this.timings;if(this._stretchStartingKeyframe&&a){const ie=[],Ae=h+a,Le=a/Ae,_t=new Map(C[0]);_t.set("offset",0),ie.push(_t);const Ft=new Map(C[0]);Ft.set("offset",Eo(Le)),ie.push(Ft);const fn=C.length-1;for(let Qt=1;Qt<=fn;Qt++){let Yn=new Map(C[Qt]);const as=Yn.get("offset");Yn.set("offset",Eo((a+as*h)/Ae)),ie.push(Yn)}h=Ae,a=0,N="",C=ie}return lo(this.element,C,this.preStyleProps,this.postStyleProps,h,a,N,!0)}}function Eo(p,C=3){const a=Math.pow(10,C-1);return Math.round(p*a)/a}function Co(p,C,a,h,N,ie,Ae,Le,_t,Ft,fn,Qt,Yn){return{type:0,element:p,triggerName:C,isRemovalTransition:N,fromState:a,fromStyles:ie,toState:h,toStyles:Ae,timelines:Le,queriedElements:_t,preStyleProps:Ft,postStyleProps:fn,totalTime:Qt,errors:Yn}}const st={};class ot{constructor(C,a,h){this._triggerName=C,this.ast=a,this._stateStyles=h}match(C,a,h,N){return function Rt(p,C,a,h,N){return p.some(ie=>ie(C,a,h,N))}(this.ast.matchers,C,a,h,N)}buildStyles(C,a,h){let N=this._stateStyles.get("*");return void 0!==C&&(N=this._stateStyles.get(C?.toString())||N),N?N.buildStyles(a,h):new Map}build(C,a,h,N,ie,Ae,Le,_t,Ft,fn){const Qt=[],Yn=this.ast.options&&this.ast.options.params||st,Nn=this.buildStyles(h,Le&&Le.params||st,Qt),Qn=_t&&_t.params||st,Vs=this.buildStyles(N,Qn,Qt),Li=new Set,mi=new Map,Tr=new Map,Kr="void"===N,od={params:At(Qn,Yn),delay:this.ast.options?.delay},Jl=fn?[]:Ps(C,a,this.ast.animation,ie,Ae,Nn,Vs,od,Ft,Qt);let na=0;return Jl.forEach(Ma=>{na=Math.max(Ma.duration+Ma.delay,na)}),Qt.length?Co(a,this._triggerName,h,N,Kr,Nn,Vs,[],[],mi,Tr,na,Qt):(Jl.forEach(Ma=>{const ah=Ma.element,zd=Ze(mi,ah,new Set);Ma.preStyleProps.forEach(Yd=>zd.add(Yd));const ib=Ze(Tr,ah,new Set);Ma.postStyleProps.forEach(Yd=>ib.add(Yd)),ah!==a&&Li.add(ah)}),Co(a,this._triggerName,h,N,Kr,Nn,Vs,Jl,[...Li.values()],mi,Tr,na))}}function At(p,C){const a={...C};return Object.entries(p).forEach(([h,N])=>{null!=N&&(a[h]=N)}),a}class gn{constructor(C,a,h){this.styles=C,this.defaultParams=a,this.normalizer=h}buildStyles(C,a){const h=new Map,N=At(C,this.defaultParams);return this.styles.styles.forEach(ie=>{"string"!=typeof ie&&ie.forEach((Ae,Le)=>{Ae&&(Ae=ds(Ae,N,a));const _t=this.normalizer.normalizePropertyName(Le,a);Ae=this.normalizer.normalizeStyleValue(Le,_t,Ae,a),h.set(Le,Ae)})}),h}}class bs{constructor(C,a,h){this.name=C,this.ast=a,this._normalizer=h,this.transitionFactories=[],this.states=new Map,a.states.forEach(N=>{this.states.set(N.name,new gn(N.style,N.options&&N.options.params||{},h))}),Is(this.states,"true","1"),Is(this.states,"false","0"),a.transitions.forEach(N=>{this.transitionFactories.push(new ot(C,N,this.states))}),this.fallbackTransition=function us(p,C,a){return new ot(p,{type:de.If.Transition,animation:{type:de.If.Sequence,steps:[],options:null},matchers:[(Ae,Le)=>!0],options:null,queryCount:0,depCount:0},C)}(C,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(C,a,h,N){return this.transitionFactories.find(Ae=>Ae.match(C,a,h,N))||null}matchStyles(C,a,h){return this.fallbackTransition.buildStyles(C,a,h)}}function Is(p,C,a){p.has(C)?p.has(a)||p.set(a,p.get(C)):p.has(a)&&p.set(C,p.get(a))}const di=new jr;class Ai{constructor(C,a,h){this.bodyNode=C,this._driver=a,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(C,a){const h=[],ie=cs(this._driver,a,h,[]);if(h.length)throw function Bt(p){return new e.wOt(3503,!1)}();this._animations.set(C,ie)}_buildPlayer(C,a,h){const N=C.element,ie=Lt(this._normalizer,C.keyframes,a,h);return this._driver.animate(N,ie,C.duration,C.delay,C.easing,[],!0)}create(C,a,h={}){const N=[],ie=this._animations.get(C);let Ae;const Le=new Map;if(ie?(Ae=Ps(this._driver,a,ie,In,yn,new Map,new Map,h,di,N),Ae.forEach(fn=>{const Qt=Ze(Le,fn.element,new Map);fn.postStyleProps.forEach(Yn=>Qt.set(Yn,null))})):(N.push(function wt(){return new e.wOt(3300,!1)}()),Ae=[]),N.length)throw function tn(p){return new e.wOt(3504,!1)}();Le.forEach((fn,Qt)=>{fn.forEach((Yn,as)=>{fn.set(as,this._driver.computeStyle(Qt,as,de.kp))})});const Ft=Dn(Ae.map(fn=>{const Qt=Le.get(fn.element);return this._buildPlayer(fn,new Map,Qt)}));return this._playersById.set(C,Ft),Ft.onDestroy(()=>this.destroy(C)),this.players.push(Ft),Ft}destroy(C){const a=this._getPlayer(C);a.destroy(),this._playersById.delete(C);const h=this.players.indexOf(a);h>=0&&this.players.splice(h,1)}_getPlayer(C){const a=this._playersById.get(C);if(!a)throw function It(p){return new e.wOt(3301,!1)}();return a}listen(C,a,h,N){const ie=Ke(a,"","","");return zt(this._getPlayer(C),h,ie,N),()=>{}}command(C,a,h,N){if("register"==h)return void this.register(C,N[0]);if("create"==h)return void this.create(C,a,N[0]||{});const ie=this._getPlayer(C);switch(h){case"play":ie.play();break;case"pause":ie.pause();break;case"reset":ie.reset();break;case"restart":ie.restart();break;case"finish":ie.finish();break;case"init":ie.init();break;case"setPosition":ie.setPosition(parseFloat(N[0]));break;case"destroy":this.destroy(C)}}}const Gs="ng-animate-queued",$s="ng-animate-disabled",ho=[],$i={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Js={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mr="__ng_removed";class br{get params(){return this.options.params}constructor(C,a=""){this.namespaceId=a;const h=C&&C.hasOwnProperty("value");if(this.value=function Ge(p){return p??null}(h?C.value:C),h){const{value:ie,...Ae}=C;this.options=Ae}else this.options={};this.options.params||(this.options.params={})}absorbOptions(C){const a=C.params;if(a){const h=this.options.params;Object.keys(a).forEach(N=>{null==h[N]&&(h[N]=a[N])})}}}const gr="void",Dr=new br(gr);class Yo{constructor(C,a,h){this.id=C,this.hostElement=a,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+C,kt(a,this._hostClassName)}listen(C,a,h,N){if(!this._triggers.has(a))throw function $t(p,C){return new e.wOt(3302,!1)}();if(null==h||0==h.length)throw function Zt(p){return new e.wOt(3303,!1)}();if(!function se(p){return"start"==p||"done"==p}(h))throw function mn(p,C){return new e.wOt(3400,!1)}();const ie=Ze(this._elementListeners,C,[]),Ae={name:a,phase:h,callback:N};ie.push(Ae);const Le=Ze(this._engine.statesByElement,C,new Map);return Le.has(a)||(kt(C,hn),kt(C,hn+"-"+a),Le.set(a,Dr)),()=>{this._engine.afterFlush(()=>{const _t=ie.indexOf(Ae);_t>=0&&ie.splice(_t,1),this._triggers.has(a)||Le.delete(a)})}}register(C,a){return!this._triggers.has(C)&&(this._triggers.set(C,a),!0)}_getTrigger(C){const a=this._triggers.get(C);if(!a)throw function Rn(p){return new e.wOt(3401,!1)}();return a}trigger(C,a,h,N=!0){const ie=this._getTrigger(a),Ae=new kr(this.id,a,C);let Le=this._engine.statesByElement.get(C);Le||(kt(C,hn),kt(C,hn+"-"+a),this._engine.statesByElement.set(C,Le=new Map));let _t=Le.get(a);const Ft=new br(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&_t&&Ft.absorbOptions(_t.options),Le.set(a,Ft),_t||(_t=Dr),Ft.value!==gr&&_t.value===Ft.value){if(!function ji(p,C){const a=Object.keys(p),h=Object.keys(C);if(a.length!=h.length)return!1;for(let N=0;N<a.length;N++){const ie=a[N];if(!C.hasOwnProperty(ie)||p[ie]!==C[ie])return!1}return!0}(_t.params,Ft.params)){const Qn=[],Vs=ie.matchStyles(_t.value,_t.params,Qn),Li=ie.matchStyles(Ft.value,Ft.params,Qn);Qn.length?this._engine.reportError(Qn):this._engine.afterFlush(()=>{mt(C,Vs),ut(C,Li)})}return}const Yn=Ze(this._engine.playersByElement,C,[]);Yn.forEach(Qn=>{Qn.namespaceId==this.id&&Qn.triggerName==a&&Qn.queued&&Qn.destroy()});let as=ie.matchTransition(_t.value,Ft.value,C,Ft.params),Nn=!1;if(!as){if(!N)return;as=ie.fallbackTransition,Nn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:C,triggerName:a,transition:as,fromState:_t,toState:Ft,player:Ae,isFallbackTransition:Nn}),Nn||(kt(C,Gs),Ae.onStart(()=>{pn(C,Gs)})),Ae.onDone(()=>{let Qn=this.players.indexOf(Ae);Qn>=0&&this.players.splice(Qn,1);const Vs=this._engine.playersByElement.get(C);if(Vs){let Li=Vs.indexOf(Ae);Li>=0&&Vs.splice(Li,1)}}),this.players.push(Ae),Yn.push(Ae),Ae}deregister(C){this._triggers.delete(C),this._engine.statesByElement.forEach(a=>a.delete(C)),this._elementListeners.forEach((a,h)=>{this._elementListeners.set(h,a.filter(N=>N.name!=C))})}clearElementCache(C){this._engine.statesByElement.delete(C),this._elementListeners.delete(C);const a=this._engine.playersByElement.get(C);a&&(a.forEach(h=>h.destroy()),this._engine.playersByElement.delete(C))}_signalRemovalForInnerTriggers(C,a){const h=this._engine.driver.query(C,Un,!0);h.forEach(N=>{if(N[mr])return;const ie=this._engine.fetchNamespacesByElement(N);ie.size?ie.forEach(Ae=>Ae.triggerLeaveAnimation(N,a,!1,!0)):this.clearElementCache(N)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(N=>this.clearElementCache(N)))}triggerLeaveAnimation(C,a,h,N){const ie=this._engine.statesByElement.get(C),Ae=new Map;if(ie){const Le=[];if(ie.forEach((_t,Ft)=>{if(Ae.set(Ft,_t.value),this._triggers.has(Ft)){const fn=this.trigger(C,Ft,gr,N);fn&&Le.push(fn)}}),Le.length)return this._engine.markElementAsRemoved(this.id,C,!0,a,Ae),h&&Dn(Le).onDone(()=>this._engine.processLeaveNode(C)),!0}return!1}prepareLeaveAnimationListeners(C){const a=this._elementListeners.get(C),h=this._engine.statesByElement.get(C);if(a&&h){const N=new Set;a.forEach(ie=>{const Ae=ie.name;if(N.has(Ae))return;N.add(Ae);const _t=this._triggers.get(Ae).fallbackTransition,Ft=h.get(Ae)||Dr,fn=new br(gr),Qt=new kr(this.id,Ae,C);this._engine.totalQueuedPlayers++,this._queue.push({element:C,triggerName:Ae,transition:_t,fromState:Ft,toState:fn,player:Qt,isFallbackTransition:!0})})}}removeNode(C,a){const h=this._engine;if(C.childElementCount&&this._signalRemovalForInnerTriggers(C,a),this.triggerLeaveAnimation(C,a,!0))return;let N=!1;if(h.totalAnimations){const ie=h.players.length?h.playersByQueriedElement.get(C):[];if(ie&&ie.length)N=!0;else{let Ae=C;for(;Ae=Ae.parentNode;)if(h.statesByElement.get(Ae)){N=!0;break}}}if(this.prepareLeaveAnimationListeners(C),N)h.markElementAsRemoved(this.id,C,!1,a);else{const ie=C[mr];(!ie||ie===$i)&&(h.afterFlush(()=>this.clearElementCache(C)),h.destroyInnerAnimations(C),h._onRemovalComplete(C,a))}}insertNode(C,a){kt(C,this._hostClassName)}drainQueuedTransitions(C){const a=[];return this._queue.forEach(h=>{const N=h.player;if(N.destroyed)return;const ie=h.element,Ae=this._elementListeners.get(ie);Ae&&Ae.forEach(Le=>{if(Le.name==h.triggerName){const _t=Ke(ie,h.triggerName,h.fromState.value,h.toState.value);_t._data=C,zt(h.player,Le.phase,_t,Le.callback)}}),N.markedForDestroy?this._engine.afterFlush(()=>{N.destroy()}):a.push(h)}),this._queue=[],a.sort((h,N)=>{const ie=h.transition.ast.depCount,Ae=N.transition.ast.depCount;return 0==ie||0==Ae?ie-Ae:this._engine.driver.containsElement(h.element,N.element)?1:-1})}destroy(C){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,C)}}class Xr{_onRemovalComplete(C,a){this.onRemovalComplete(C,a)}constructor(C,a,h,N){this.bodyNode=C,this.driver=a,this._normalizer=h,this.scheduler=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ie,Ae)=>{}}get queuedPlayers(){const C=[];return this._namespaceList.forEach(a=>{a.players.forEach(h=>{h.queued&&C.push(h)})}),C}createNamespace(C,a){const h=new Yo(C,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(h,a):(this.newHostElements.set(a,h),this.collectEnterElement(a)),this._namespaceLookup[C]=h}_balanceNamespaceList(C,a){const h=this._namespaceList,N=this.namespacesByHostElement;if(h.length-1>=0){let Ae=!1,Le=this.driver.getParentElement(a);for(;Le;){const _t=N.get(Le);if(_t){const Ft=h.indexOf(_t);h.splice(Ft+1,0,C),Ae=!0;break}Le=this.driver.getParentElement(Le)}Ae||h.unshift(C)}else h.push(C);return N.set(a,C),C}register(C,a){let h=this._namespaceLookup[C];return h||(h=this.createNamespace(C,a)),h}registerTrigger(C,a,h){let N=this._namespaceLookup[C];N&&N.register(a,h)&&this.totalAnimations++}destroy(C,a){C&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const h=this._fetchNamespace(C);this.namespacesByHostElement.delete(h.hostElement);const N=this._namespaceList.indexOf(h);N>=0&&this._namespaceList.splice(N,1),h.destroy(a),delete this._namespaceLookup[C]}))}_fetchNamespace(C){return this._namespaceLookup[C]}fetchNamespacesByElement(C){const a=new Set,h=this.statesByElement.get(C);if(h)for(let N of h.values())if(N.namespaceId){const ie=this._fetchNamespace(N.namespaceId);ie&&a.add(ie)}return a}trigger(C,a,h,N){if(Xe(a)){const ie=this._fetchNamespace(C);if(ie)return ie.trigger(a,h,N),!0}return!1}insertNode(C,a,h,N){if(!Xe(a))return;const ie=a[mr];if(ie&&ie.setForRemoval){ie.setForRemoval=!1,ie.setForMove=!0;const Ae=this.collectedLeaveElements.indexOf(a);Ae>=0&&this.collectedLeaveElements.splice(Ae,1)}if(C){const Ae=this._fetchNamespace(C);Ae&&Ae.insertNode(a,h)}N&&this.collectEnterElement(a)}collectEnterElement(C){this.collectedEnterElements.push(C)}markElementAsDisabled(C,a){a?this.disabledNodes.has(C)||(this.disabledNodes.add(C),kt(C,$s)):this.disabledNodes.has(C)&&(this.disabledNodes.delete(C),pn(C,$s))}removeNode(C,a,h){if(Xe(a)){this.scheduler?.notify();const N=C?this._fetchNamespace(C):null;N?N.removeNode(a,h):this.markElementAsRemoved(C,a,!1,h);const ie=this.namespacesByHostElement.get(a);ie&&ie.id!==C&&ie.removeNode(a,h)}else this._onRemovalComplete(a,h)}markElementAsRemoved(C,a,h,N,ie){this.collectedLeaveElements.push(a),a[mr]={namespaceId:C,setForRemoval:N,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:ie}}listen(C,a,h,N,ie){return Xe(a)?this._fetchNamespace(C).listen(a,h,N,ie):()=>{}}_buildInstruction(C,a,h,N,ie){return C.transition.build(this.driver,C.element,C.fromState.value,C.toState.value,h,N,C.fromState.options,C.toState.options,a,ie)}destroyInnerAnimations(C){let a=this.driver.query(C,Un,!0);a.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(C,fs,!0),a.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(C){const a=this.playersByElement.get(C);a&&a.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(C){const a=this.playersByQueriedElement.get(C);a&&a.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(C=>{if(this.players.length)return Dn(this.players).onDone(()=>C());C()})}processLeaveNode(C){const a=C[mr];if(a&&a.setForRemoval){if(C[mr]=$i,a.namespaceId){this.destroyInnerAnimations(C);const h=this._fetchNamespace(a.namespaceId);h&&h.clearElementCache(C)}this._onRemovalComplete(C,a.setForRemoval)}C.classList?.contains($s)&&this.markElementAsDisabled(C,!1),this.driver.query(C,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(C=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,N)=>this._balanceNamespaceList(h,N)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)kt(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{a=this._flushAnimations(h,C)}finally{for(let N=0;N<h.length;N++)h[N]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],a.length?Dn(a).onDone(()=>{h.forEach(N=>N())}):h.forEach(N=>N())}}reportError(C){throw function os(p){return new e.wOt(3402,!1)}()}_flushAnimations(C,a){const h=new jr,N=[],ie=new Map,Ae=[],Le=new Map,_t=new Map,Ft=new Map,fn=new Set;this.disabledNodes.forEach(Ms=>{fn.add(Ms);const Ys=this.driver.query(Ms,".ng-animate-queued",!0);for(let oi=0;oi<Ys.length;oi++)fn.add(Ys[oi])});const Qt=this.bodyNode,Yn=Array.from(this.statesByElement.keys()),as=bt(Yn,this.collectedEnterElements),Nn=new Map;let Qn=0;as.forEach((Ms,Ys)=>{const oi=In+Qn++;Nn.set(Ys,oi),Ms.forEach(tr=>kt(tr,oi))});const Vs=[],Li=new Set,mi=new Set;for(let Ms=0;Ms<this.collectedLeaveElements.length;Ms++){const Ys=this.collectedLeaveElements[Ms],oi=Ys[mr];oi&&oi.setForRemoval&&(Vs.push(Ys),Li.add(Ys),oi.hasAnimation?this.driver.query(Ys,".ng-star-inserted",!0).forEach(tr=>Li.add(tr)):mi.add(Ys))}const Tr=new Map,Kr=bt(Yn,Array.from(Li));Kr.forEach((Ms,Ys)=>{const oi=yn+Qn++;Tr.set(Ys,oi),Ms.forEach(tr=>kt(tr,oi))}),C.push(()=>{as.forEach((Ms,Ys)=>{const oi=Nn.get(Ys);Ms.forEach(tr=>pn(tr,oi))}),Kr.forEach((Ms,Ys)=>{const oi=Tr.get(Ys);Ms.forEach(tr=>pn(tr,oi))}),Vs.forEach(Ms=>{this.processLeaveNode(Ms)})});const od=[],Jl=[];for(let Ms=this._namespaceList.length-1;Ms>=0;Ms--)this._namespaceList[Ms].drainQueuedTransitions(a).forEach(oi=>{const tr=oi.player,xo=oi.element;if(od.push(tr),this.collectedEnterElements.length){const $o=xo[mr];if($o&&$o.setForMove){if($o.previousTriggersValues&&$o.previousTriggersValues.has(oi.triggerName)){const Xd=$o.previousTriggersValues.get(oi.triggerName),Sa=this.statesByElement.get(oi.element);if(Sa&&Sa.has(oi.triggerName)){const kv=Sa.get(oi.triggerName);kv.value=Xd,Sa.set(oi.triggerName,kv)}}return void tr.destroy()}}const cl=!Qt||!this.driver.containsElement(Qt,xo),Ia=Tr.get(xo),ha=Nn.get(xo),Vr=this._buildInstruction(oi,h,ha,Ia,cl);if(Vr.errors&&Vr.errors.length)return void Jl.push(Vr);if(cl)return tr.onStart(()=>mt(xo,Vr.fromStyles)),tr.onDestroy(()=>ut(xo,Vr.toStyles)),void N.push(tr);if(oi.isFallbackTransition)return tr.onStart(()=>mt(xo,Vr.fromStyles)),tr.onDestroy(()=>ut(xo,Vr.toStyles)),void N.push(tr);const ab=[];Vr.timelines.forEach($o=>{$o.stretchStartingKeyframe=!0,this.disabledNodes.has($o.element)||ab.push($o)}),Vr.timelines=ab,h.append(xo,Vr.timelines),Ae.push({instruction:Vr,player:tr,element:xo}),Vr.queriedElements.forEach($o=>Ze(Le,$o,[]).push(tr)),Vr.preStyleProps.forEach(($o,Xd)=>{if($o.size){let Sa=_t.get(Xd);Sa||_t.set(Xd,Sa=new Set),$o.forEach((kv,Vv)=>Sa.add(Vv))}}),Vr.postStyleProps.forEach(($o,Xd)=>{let Sa=Ft.get(Xd);Sa||Ft.set(Xd,Sa=new Set),$o.forEach((kv,Vv)=>Sa.add(Vv))})});if(Jl.length){const Ms=[];Jl.forEach(Ys=>{Ms.push(function xs(p,C){return new e.wOt(3505,!1)}())}),od.forEach(Ys=>Ys.destroy()),this.reportError(Ms)}const na=new Map,Ma=new Map;Ae.forEach(Ms=>{const Ys=Ms.element;h.has(Ys)&&(Ma.set(Ys,Ys),this._beforeAnimationBuild(Ms.player.namespaceId,Ms.instruction,na))}),N.forEach(Ms=>{const Ys=Ms.element;this._getPreviousPlayers(Ys,!1,Ms.namespaceId,Ms.triggerName,null).forEach(tr=>{Ze(na,Ys,[]).push(tr),tr.destroy()})});const ah=Vs.filter(Ms=>Ni(Ms,_t,Ft)),zd=new Map;me(zd,this.driver,mi,Ft,de.kp).forEach(Ms=>{Ni(Ms,_t,Ft)&&ah.push(Ms)});const Yd=new Map;as.forEach((Ms,Ys)=>{me(Yd,this.driver,new Set(Ms),_t,de.FX)}),ah.forEach(Ms=>{const Ys=zd.get(Ms),oi=Yd.get(Ms);zd.set(Ms,new Map([...Ys?.entries()??[],...oi?.entries()??[]]))});const ag=[],rb=[],ob={};Ae.forEach(Ms=>{const{element:Ys,player:oi,instruction:tr}=Ms;if(h.has(Ys)){if(fn.has(Ys))return oi.onDestroy(()=>ut(Ys,tr.toStyles)),oi.disabled=!0,oi.overrideTotalTime(tr.totalTime),void N.push(oi);let xo=ob;if(Ma.size>1){let Ia=Ys;const ha=[];for(;Ia=Ia.parentNode;){const Vr=Ma.get(Ia);if(Vr){xo=Vr;break}ha.push(Ia)}ha.forEach(Vr=>Ma.set(Vr,xo))}const cl=this._buildAnimation(oi.namespaceId,tr,na,ie,Yd,zd);if(oi.setRealPlayer(cl),xo===ob)ag.push(oi);else{const Ia=this.playersByElement.get(xo);Ia&&Ia.length&&(oi.parentPlayer=Dn(Ia)),N.push(oi)}}else mt(Ys,tr.fromStyles),oi.onDestroy(()=>ut(Ys,tr.toStyles)),rb.push(oi),fn.has(Ys)&&N.push(oi)}),rb.forEach(Ms=>{const Ys=ie.get(Ms.element);if(Ys&&Ys.length){const oi=Dn(Ys);Ms.setRealPlayer(oi)}}),N.forEach(Ms=>{Ms.parentPlayer?Ms.syncPlayerEvents(Ms.parentPlayer):Ms.destroy()});for(let Ms=0;Ms<Vs.length;Ms++){const Ys=Vs[Ms],oi=Ys[mr];if(pn(Ys,yn),oi&&oi.hasAnimation)continue;let tr=[];if(Le.size){let cl=Le.get(Ys);cl&&cl.length&&tr.push(...cl);let Ia=this.driver.query(Ys,fs,!0);for(let ha=0;ha<Ia.length;ha++){let Vr=Le.get(Ia[ha]);Vr&&Vr.length&&tr.push(...Vr)}}const xo=tr.filter(cl=>!cl.destroyed);xo.length?Hn(this,Ys,xo):this.processLeaveNode(Ys)}return Vs.length=0,ag.forEach(Ms=>{this.players.push(Ms),Ms.onDone(()=>{Ms.destroy();const Ys=this.players.indexOf(Ms);this.players.splice(Ys,1)}),Ms.play()}),ag}afterFlush(C){this._flushFns.push(C)}afterFlushAnimationsDone(C){this._whenQuietFns.push(C)}_getPreviousPlayers(C,a,h,N,ie){let Ae=[];if(a){const Le=this.playersByQueriedElement.get(C);Le&&(Ae=Le)}else{const Le=this.playersByElement.get(C);if(Le){const _t=!ie||ie==gr;Le.forEach(Ft=>{Ft.queued||!_t&&Ft.triggerName!=N||Ae.push(Ft)})}}return(h||N)&&(Ae=Ae.filter(Le=>!(h&&h!=Le.namespaceId||N&&N!=Le.triggerName))),Ae}_beforeAnimationBuild(C,a,h){const ie=a.element,Ae=a.isRemovalTransition?void 0:C,Le=a.isRemovalTransition?void 0:a.triggerName;for(const _t of a.timelines){const Ft=_t.element,fn=Ft!==ie,Qt=Ze(h,Ft,[]);this._getPreviousPlayers(Ft,fn,Ae,Le,a.toState).forEach(as=>{const Nn=as.getRealPlayer();Nn.beforeDestroy&&Nn.beforeDestroy(),as.destroy(),Qt.push(as)})}mt(ie,a.fromStyles)}_buildAnimation(C,a,h,N,ie,Ae){const Le=a.triggerName,_t=a.element,Ft=[],fn=new Set,Qt=new Set,Yn=a.timelines.map(Nn=>{const Qn=Nn.element;fn.add(Qn);const Vs=Qn[mr];if(Vs&&Vs.removedBeforeQueried)return new de.sf(Nn.duration,Nn.delay);const Li=Qn!==_t,mi=function ss(p){const C=[];return ys(p,C),C}((h.get(Qn)||ho).map(na=>na.getRealPlayer())).filter(na=>!!na.element&&na.element===Qn),Tr=ie.get(Qn),Kr=Ae.get(Qn),od=Lt(this._normalizer,Nn.keyframes,Tr,Kr),Jl=this._buildPlayer(Nn,od,mi);if(Nn.subTimeline&&N&&Qt.add(Qn),Li){const na=new kr(C,Le,Qn);na.setRealPlayer(Jl),Ft.push(na)}return Jl});Ft.forEach(Nn=>{Ze(this.playersByQueriedElement,Nn.element,[]).push(Nn),Nn.onDone(()=>function pa(p,C,a){let h=p.get(C);if(h){if(h.length){const N=h.indexOf(a);h.splice(N,1)}0==h.length&&p.delete(C)}return h}(this.playersByQueriedElement,Nn.element,Nn))}),fn.forEach(Nn=>kt(Nn,ns));const as=Dn(Yn);return as.onDestroy(()=>{fn.forEach(Nn=>pn(Nn,ns)),ut(_t,a.toStyles)}),Qt.forEach(Nn=>{Ze(N,Nn,[]).push(as)}),as}_buildPlayer(C,a,h){return a.length>0?this.driver.animate(C.element,a,C.duration,C.delay,C.easing,h):new de.sf(C.duration,C.delay)}}class kr{constructor(C,a,h){this.namespaceId=C,this.triggerName=a,this.element=h,this._player=new de.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(C){this._containsRealPlayer||(this._player=C,this._queuedCallbacks.forEach((a,h)=>{a.forEach(N=>zt(C,h,void 0,N))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(C.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(C){this.totalTime=C}syncPlayerEvents(C){const a=this._player;a.triggerCallback&&C.onStart(()=>a.triggerCallback("start")),C.onDone(()=>this.finish()),C.onDestroy(()=>this.destroy())}_queueEvent(C,a){Ze(this._queuedCallbacks,C,[]).push(a)}onDone(C){this.queued&&this._queueEvent("done",C),this._player.onDone(C)}onStart(C){this.queued&&this._queueEvent("start",C),this._player.onStart(C)}onDestroy(C){this.queued&&this._queueEvent("destroy",C),this._player.onDestroy(C)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(C){this.queued||this._player.setPosition(C)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(C){const a=this._player;a.triggerCallback&&a.triggerCallback(C)}}function Xe(p){return p&&1===p.nodeType}function $e(p,C){const a=p.style.display;return p.style.display=C??"none",a}function me(p,C,a,h,N){const ie=[];a.forEach(_t=>ie.push($e(_t)));const Ae=[];h.forEach((_t,Ft)=>{const fn=new Map;_t.forEach(Qt=>{const Yn=C.computeStyle(Ft,Qt,N);fn.set(Qt,Yn),(!Yn||0==Yn.length)&&(Ft[mr]=Js,Ae.push(Ft))}),p.set(Ft,fn)});let Le=0;return a.forEach(_t=>$e(_t,ie[Le++])),Ae}function bt(p,C){const a=new Map;if(p.forEach(Le=>a.set(Le,[])),0==C.length)return a;const N=new Set(C),ie=new Map;function Ae(Le){if(!Le)return 1;let _t=ie.get(Le);if(_t)return _t;const Ft=Le.parentNode;return _t=a.has(Ft)?Ft:N.has(Ft)?1:Ae(Ft),ie.set(Le,_t),_t}return C.forEach(Le=>{const _t=Ae(Le);1!==_t&&a.get(_t).push(Le)}),a}function kt(p,C){p.classList?.add(C)}function pn(p,C){p.classList?.remove(C)}function Hn(p,C,a){Dn(a).onDone(()=>p.processLeaveNode(C))}function ys(p,C){for(let a=0;a<p.length;a++){const h=p[a];h instanceof de.ui?ys(h.players,C):C.push(h)}}function Ni(p,C,a){const h=a.get(p);if(!h)return!1;let N=C.get(p);return N?h.forEach(ie=>N.add(ie)):C.set(p,h),a.delete(p),!0}class or{constructor(C,a,h,N){this._driver=a,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(ie,Ae)=>{},this._transitionEngine=new Xr(C.body,a,h,N),this._timelineEngine=new Ai(C.body,a,h),this._transitionEngine.onRemovalComplete=(ie,Ae)=>this.onRemovalComplete(ie,Ae)}registerTrigger(C,a,h,N,ie){const Ae=C+"-"+N;let Le=this._triggerCache[Ae];if(!Le){const _t=[],fn=cs(this._driver,ie,_t,[]);if(_t.length)throw function ke(p,C){return new e.wOt(3404,!1)}();Le=function Jn(p,C,a){return new bs(p,C,a)}(N,fn,this._normalizer),this._triggerCache[Ae]=Le}this._transitionEngine.registerTrigger(a,N,Le)}register(C,a){this._transitionEngine.register(C,a)}destroy(C,a){this._transitionEngine.destroy(C,a)}onInsert(C,a,h,N){this._transitionEngine.insertNode(C,a,h,N)}onRemove(C,a,h){this._transitionEngine.removeNode(C,a,h)}disableAnimations(C,a){this._transitionEngine.markElementAsDisabled(C,a)}process(C,a,h,N){if("@"==h.charAt(0)){const[ie,Ae]=He(h);this._timelineEngine.command(ie,a,Ae,N)}else this._transitionEngine.trigger(C,a,h,N)}listen(C,a,h,N,ie){if("@"==h.charAt(0)){const[Ae,Le]=He(h);return this._timelineEngine.listen(Ae,a,Le,ie)}return this._transitionEngine.listen(C,a,h,N,ie)}flush(C=-1){this._transitionEngine.flush(C)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(C){this._transitionEngine.afterFlushAnimationsDone(C)}}class ia{static#e=this.initialStylesByElement=new WeakMap;constructor(C,a,h){this._element=C,this._startStyles=a,this._endStyles=h,this._state=0;let N=ia.initialStylesByElement.get(C);N||ia.initialStylesByElement.set(C,N=new Map),this._initialStyles=N}start(){this._state<1&&(this._startStyles&&ut(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ut(this._element,this._initialStyles),this._endStyles&&(ut(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ia.initialStylesByElement.delete(this._element),this._startStyles&&(mt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mt(this._element,this._endStyles),this._endStyles=null),ut(this._element,this._initialStyles),this._state=3)}}function Fo(p){let C=null;return p.forEach((a,h)=>{(function Pa(p){return"display"===p||"position"===p})(h)&&(C=C||new Map,C.set(h,a))}),C}class bo{constructor(C,a,h,N){this.element=C,this.keyframes=a,this.options=h,this._specialStyles=N,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(C=>C()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const C=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,C,this.options),this._finalKeyframe=C.length?C[C.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(C){const a=[];return C.forEach(h=>{a.push(Object.fromEntries(h))}),a}_triggerWebAnimation(C,a,h){return C.animate(this._convertKeyframesToObject(a),h)}onStart(C){this._originalOnStartFns.push(C),this._onStartFns.push(C)}onDone(C){this._originalOnDoneFns.push(C),this._onDoneFns.push(C)}onDestroy(C){this._onDestroyFns.push(C)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(C=>C()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(C=>C()),this._onDestroyFns=[])}setPosition(C){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=C*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const C=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,N)=>{"offset"!==N&&C.set(N,this._finished?h:Hs(this.element,N))}),this.currentSnapshot=C}triggerCallback(C){const a="start"===C?this._onStartFns:this._onDoneFns;a.forEach(h=>h()),a.length=0}}class Ga{validateStyleProperty(C){return!0}validateAnimatableStyleProperty(C){return!0}matchesElement(C,a){return!1}containsElement(C,a){return ps(C,a)}getParentElement(C){return Ct(C)}query(C,a,h){return ks(C,a,h)}computeStyle(C,a,h){return Hs(C,a)}animate(C,a,h,N,ie,Ae=[]){const _t={duration:h,delay:N,fill:0==N?"both":"forwards"};ie&&(_t.easing=ie);const Ft=new Map,fn=Ae.filter(as=>as instanceof bo);(function Yi(p,C){return 0===p||0===C})(h,N)&&fn.forEach(as=>{as.currentSnapshot.forEach((Nn,Qn)=>Ft.set(Qn,Nn))});let Qt=function Ye(p){return p.length?p[0]instanceof Map?p:p.map(C=>new Map(Object.entries(C))):[]}(a).map(as=>new Map(as));Qt=function Mi(p,C,a){if(a.size&&C.length){let h=C[0],N=[];if(a.forEach((ie,Ae)=>{h.has(Ae)||N.push(Ae),h.set(Ae,ie)}),N.length)for(let ie=1;ie<C.length;ie++){let Ae=C[ie];N.forEach(Le=>Ae.set(Le,Hs(p,Le)))}}return C}(C,Qt,Ft);const Yn=function Ci(p,C){let a=null,h=null;return Array.isArray(C)&&C.length?(a=Fo(C[0]),C.length>1&&(h=Fo(C[C.length-1]))):C instanceof Map&&(a=Fo(C)),a||h?new ia(p,a,h):null}(C,Qt);return new bo(C,Qt,_t,Yn)}}const fa="@.disabled";class ra{constructor(C,a,h,N){this.namespaceId=C,this.delegate=a,this.engine=h,this._onDestroy=N,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(C){this.delegate.destroyNode?.(C)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(C,a){return this.delegate.createElement(C,a)}createComment(C){return this.delegate.createComment(C)}createText(C){return this.delegate.createText(C)}appendChild(C,a){this.delegate.appendChild(C,a),this.engine.onInsert(this.namespaceId,a,C,!1)}insertBefore(C,a,h,N=!0){this.delegate.insertBefore(C,a,h),this.engine.onInsert(this.namespaceId,a,C,N)}removeChild(C,a,h){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(C,a){return this.delegate.selectRootElement(C,a)}parentNode(C){return this.delegate.parentNode(C)}nextSibling(C){return this.delegate.nextSibling(C)}setAttribute(C,a,h,N){this.delegate.setAttribute(C,a,h,N)}removeAttribute(C,a,h){this.delegate.removeAttribute(C,a,h)}addClass(C,a){this.delegate.addClass(C,a)}removeClass(C,a){this.delegate.removeClass(C,a)}setStyle(C,a,h,N){this.delegate.setStyle(C,a,h,N)}removeStyle(C,a,h){this.delegate.removeStyle(C,a,h)}setProperty(C,a,h){"@"==a.charAt(0)&&a==fa?this.disableAnimations(C,!!h):this.delegate.setProperty(C,a,h)}setValue(C,a){this.delegate.setValue(C,a)}listen(C,a,h){return this.delegate.listen(C,a,h)}disableAnimations(C,a){this.engine.disableAnimations(C,a)}}class Uo extends ra{constructor(C,a,h,N,ie){super(a,h,N,ie),this.factory=C,this.namespaceId=a}setProperty(C,a,h){"@"==a.charAt(0)?"."==a.charAt(1)&&a==fa?this.disableAnimations(C,h=void 0===h||!!h):this.engine.process(this.namespaceId,C,a.slice(1),h):this.delegate.setProperty(C,a,h)}listen(C,a,h){if("@"==a.charAt(0)){const N=function Aa(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(C);let ie=a.slice(1),Ae="";return"@"!=ie.charAt(0)&&([ie,Ae]=function Po(p){const C=p.indexOf(".");return[p.substring(0,C),p.slice(C+1)]}(ie)),this.engine.listen(this.namespaceId,N,ie,Ae,Le=>{this.factory.scheduleListenerCallback(Le._data||-1,h,Le)})}return this.delegate.listen(C,a,h)}}class vs{constructor(C,a,h){this.delegate=C,this.engine=a,this._zone=h,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,a.onRemovalComplete=(N,ie)=>{const Ae=ie?.parentNode(N);Ae&&ie.removeChild(Ae,N)}}createRenderer(C,a){const N=this.delegate.createRenderer(C,a);if(!C||!a?.data?.animation){const Ft=this._rendererCache;let fn=Ft.get(N);return fn||(fn=new ra("",N,this.engine,()=>Ft.delete(N)),Ft.set(N,fn)),fn}const ie=a.id,Ae=a.id+"-"+this._currentId;this._currentId++,this.engine.register(Ae,C);const Le=Ft=>{Array.isArray(Ft)?Ft.forEach(Le):this.engine.registerTrigger(ie,Ae,C,Ft.name,Ft)};return a.data.animation.forEach(Le),new Uo(this,Ae,N,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(C,a,h){if(C>=0&&C<this._microtaskId)return void this._zone.run(()=>a(h));const N=this._animationCallbacksBuffer;0==N.length&&queueMicrotask(()=>{this._zone.run(()=>{N.forEach(ie=>{const[Ae,Le]=ie;Ae(Le)}),this._animationCallbacksBuffer=[]})}),N.push([a,h])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let Wi=(()=>{class p extends or{constructor(a,h,N){super(a,h,N,(0,e.WQX)(e.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(d.qQ),e.KVO(ht),e.KVO(lt))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();const Ts=[{provide:lt,useFactory:function Qi(){return new Xi}},{provide:or,useClass:Wi},{provide:e._9s,useFactory:function jo(p,C,a){return new vs(p,C,a)},deps:[f.B7,or,e.SKi]}],$a=[{provide:ht,useFactory:()=>new Ga},{provide:e.bc$,useValue:"BrowserAnimations"},...Ts];var wa=t(17509),Lr=t(51698),eo=t(18447),La=t(9102),aa=t(76564),Rs=t(63016),hl=t(48915),pl=t(91126);class Nt{constructor(C,a,h){this.kind=C,this.value=a,this.error=h,this.hasValue="N"===C}observe(C){return Jt(this,C)}do(C,a,h){const{kind:N,value:ie,error:Ae}=this;return"N"===N?C?.(ie):"E"===N?a?.(Ae):h?.()}accept(C,a,h){var N;return(0,pl.T)(null===(N=C)||void 0===N?void 0:N.next)?this.observe(C):this.do(C,a,h)}toObservable(){const{kind:C,value:a,error:h}=this,N="N"===C?(0,Rs.of)(a):"E"===C?(0,hl.$)(()=>h):"C"===C?aa.w:0;if(!N)throw new TypeError(`Unexpected notification kind ${C}`);return N}static createNext(C){return new Nt("N",C)}static createError(C){return new Nt("E",void 0,C)}static createComplete(){return Nt.completeNotification}}function Jt(p,C){var a,h,N;const{kind:ie,value:Ae,error:Le}=p;if("string"!=typeof ie)throw new TypeError('Invalid notification, missing "kind"');"N"===ie?null===(a=C.next)||void 0===a||a.call(C,Ae):"E"===ie?null===(h=C.error)||void 0===h||h.call(C,Le):null===(N=C.complete)||void 0===N||N.call(C)}Nt.completeNotification=new Nt("C");var ln=t(15351),Sn=t(42483),Ht=t(47947),ts=t(17178),Gn=t(41483),ci=t(7225);function bi(p,C,a,h){return(0,ln.N)((N,ie)=>{let Ae;C&&"function"!=typeof C?({duration:a,element:Ae,connector:h}=C):Ae=C;const Le=new Map,_t=Nn=>{Le.forEach(Nn),Nn(ie)},Ft=Nn=>_t(Qn=>Qn.error(Nn));let fn=0,Qt=!1;const Yn=new Sn.H(ie,Nn=>{try{const Qn=p(Nn);let Vs=Le.get(Qn);if(!Vs){Le.set(Qn,Vs=h?h():new eo.B);const Li=function as(Nn,Qn){const Vs=new Lr.c(Li=>{fn++;const mi=Qn.subscribe(Li);return()=>{mi.unsubscribe(),0==--fn&&Qt&&Yn.unsubscribe()}});return Vs.key=Nn,Vs}(Qn,Vs);if(ie.next(Li),a){const mi=(0,Sn._)(Vs,()=>{Vs.complete(),mi?.unsubscribe()},void 0,void 0,()=>Le.delete(Qn));Yn.add((0,ci.Tg)(a(Li)).subscribe(mi))}}Vs.next(Ae?Ae(Nn):Nn)}catch(Qn){Ft(Qn)}},()=>_t(Nn=>Nn.complete()),Ft,()=>Le.clear(),()=>(Qt=!0,0===fn));N.subscribe(Yn)})}var zs=t(27035);function Fi(p,C){return C?a=>a.pipe(Fi((h,N)=>(0,ci.Tg)(p(h,N)).pipe((0,Ht.T)((ie,Ae)=>C(h,ie,N,Ae))))):(0,ln.N)((a,h)=>{let N=0,ie=null,Ae=!1;a.subscribe((0,Sn._)(h,Le=>{ie||(ie=(0,Sn._)(h,void 0,()=>{ie=null,Ae&&h.complete()}),(0,ci.Tg)(p(Le,N++)).subscribe(ie))},()=>{Ae=!0,!ie&&h.complete()}))})}const Zi={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Ki="__@ngrx/effects_create__";function Kn(p,C={}){const a=C.functional?p:p(),h={...Zi,...C};return Object.defineProperty(a,Ki,{value:h}),a}function Jo(p){return Object.getPrototypeOf(p)}function _e(p){return"function"==typeof p}function nt(p){return p.filter(_e)}function Je(p,C,a){const h=Jo(p),ie=h&&"Object"!==h.constructor.name?h.constructor.name:null,Ae=function Mr(p){return function Or(p){return Object.getOwnPropertyNames(p).filter(h=>!(!p[h]||!p[h].hasOwnProperty(Ki))&&p[h][Ki].hasOwnProperty("dispatch")).map(h=>({propertyName:h,...p[h][Ki]}))}(p)}(p).map(({propertyName:Le,dispatch:_t,useEffectsErrorHandler:Ft})=>{const fn="function"==typeof p[Le]?p[Le]():p[Le],Qt=Ft?a(fn,C):fn;return!1===_t?Qt.pipe((0,La.w)()):Qt.pipe(function qn(){return(0,ln.N)((p,C)=>{p.subscribe((0,Sn._)(C,a=>{C.next(Nt.createNext(a))},()=>{C.next(Nt.createComplete()),C.complete()},a=>{C.next(Nt.createError(a)),C.complete()}))})}()).pipe((0,Ht.T)(as=>({effect:p[Le],notification:as,propertyName:Le,sourceName:ie,sourceInstance:p})))});return(0,wa.h)(...Ae)}function dn(p,C,a=10){return p.pipe((0,ts.W)(h=>(C&&C.handleError(h),a<=1?p:dn(p,C,a-1))))}let En=(()=>{class p extends Lr.c{constructor(a){super(),a&&(this.source=a)}lift(a){const h=new p;return h.source=this,h.operator=a,h}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(E.sA))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function un(...p){return(0,Gn.p)(C=>p.some(a=>"string"==typeof a?a===C.type:a.type===C.type))}const Bs=new e.nKC("@ngrx/effects Internal Root Guard"),Qs=new e.nKC("@ngrx/effects User Provided Effects"),Ii=new e.nKC("@ngrx/effects Internal Root Effects"),qs=new e.nKC("@ngrx/effects Internal Root Effects Instances"),Ui=new e.nKC("@ngrx/effects Internal Feature Effects"),Si=new e.nKC("@ngrx/effects Internal Feature Effects Instance Groups"),dr=new e.nKC("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>dn}),Gr="@ngrx/effects/init";(0,E.VP)(Gr);function fo(p){return Us(p,"ngrxOnInitEffects")}function Us(p,C){return p&&C in p&&"function"==typeof p[C]}let Qo=(()=>{class p extends eo.B{constructor(a,h){super(),this.errorHandler=a,this.effectsErrorHandler=h}addEffects(a){this.next(a)}toActions(){return this.pipe(bi(a=>function ma(p){return!!p.constructor&&"Object"!==p.constructor.name&&"Function"!==p.constructor.name}(a)?Jo(a):a),(0,zs.Z)(a=>a.pipe(bi(_a))),(0,zs.Z)(a=>{const h=a.pipe(Fi(ie=>function Do(p,C){return a=>{const h=Je(a,p,C);return function Pi(p){return Us(p,"ngrxOnRunEffects")}(a)?a.ngrxOnRunEffects(h):h}}(this.errorHandler,this.effectsErrorHandler)(ie)),(0,Ht.T)(ie=>(function $n(p,C){if("N"===p.notification.kind){const a=p.notification.value;!function ms(p){return"function"!=typeof p&&p&&p.type&&"string"==typeof p.type}(a)&&C.handleError(new Error(`Effect ${function Ti({propertyName:p,sourceInstance:C,sourceName:a}){const h="function"==typeof C[p];return a?`"${a}.${String(p)}${h?"()":""}"`:`"${String(p)}()"`}(p)} dispatched an invalid action: ${function _r(p){try{return JSON.stringify(p)}catch{return p}}(a)}`))}}(ie,this.errorHandler),ie.notification)),(0,Gn.p)(ie=>"N"===ie.kind&&null!=ie.value),function Di(){return(0,ln.N)((p,C)=>{p.subscribe((0,Sn._)(C,a=>Jt(a,C)))})}()),N=a.pipe((0,T.s)(1),(0,Gn.p)(fo),(0,Ht.T)(ie=>ie.ngrxOnInitEffects()));return(0,wa.h)(h,N)}))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(e.zcH),e.KVO(dr))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function _a(p){return function xr(p){return Us(p,"ngrxOnIdentifyEffects")}(p)?p.ngrxOnIdentifyEffects():""}let ar=(()=>{class p{get isStarted(){return!!this.effectsSubscription}constructor(a,h){this.effectSources=a,this.store=h,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(Qo),e.KVO(E.il))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),Ha=(()=>{class p{constructor(a,h,N,ie,Ae,Le,_t){this.sources=a,h.start();for(const Ft of ie)a.addEffects(Ft);N.dispatch({type:Gr})}addEffects(a){this.sources.addEffects(a)}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(Qo),e.KVO(ar),e.KVO(E.il),e.KVO(qs),e.KVO(E.wc,8),e.KVO(E.ae,8),e.KVO(Bs,8))};static#t=this.\u0275mod=e.$C({type:p});static#n=this.\u0275inj=e.G2t({})}return p})(),fl=(()=>{class p{constructor(a,h,N,ie){const Ae=h.flat();for(const Le of Ae)a.addEffects(Le)}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(Ha),e.KVO(Si),e.KVO(E.wc,8),e.KVO(E.ae,8))};static#t=this.\u0275mod=e.$C({type:p});static#n=this.\u0275inj=e.G2t({})}return p})(),hr=(()=>{class p{static forFeature(...a){const h=a.flat(),N=nt(h);return{ngModule:fl,providers:[N,{provide:Ui,multi:!0,useValue:h},{provide:Qs,multi:!0,useValue:[]},{provide:Si,multi:!0,useFactory:Sr,deps:[Ui,Qs]}]}}static forRoot(...a){const h=a.flat(),N=nt(h);return{ngModule:Ha,providers:[N,{provide:Ii,useValue:[h]},{provide:Bs,useFactory:ad},{provide:Qs,multi:!0,useValue:[]},{provide:qs,useFactory:Sr,deps:[Ii,Qs]}]}}static#e=this.\u0275fac=function(h){return new(h||p)};static#t=this.\u0275mod=e.$C({type:p});static#n=this.\u0275inj=e.G2t({})}return p})();function Sr(p,C){const a=[];for(const h of p)a.push(...h);for(const h of C)a.push(...h);return a.map(h=>function Pe(p){return p instanceof e.nKC||_e(p)}(h)?(0,e.WQX)(h):h)}function ad(){const p=(0,e.WQX)(ar,{optional:!0,skipSelf:!0}),C=(0,e.WQX)(Ii,{self:!0});if((1!==C.length||0!==C[0].length)&&p)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var ko=t(80687),Fn=t(89593),va=t(80399),ml=t(36057),Zo=t(43295),qi=t(18062),ki=t(18350),Ql=t(82191),Pr=t(20780),Rr=t(32484),ya=t(29710),Ao=t(91580),Xa=t(4730),Jr=t(86882),wl=t(90130);const Tc=["*"];function Ja(p,C){}let Qa=(()=>{class p extends M.J{getComponentName(){return"ForbiddenComponent"}importThemedComponent(a){return t(30130)(`./${a}/app/forbidden/forbidden.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,90130))}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-forbidden"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Tc,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,Ja,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return p})();var ce=t(99130),Te=t(97094),he=t(65970),Oe=t(3231),ze=t(19615),pt=t(70212);const Me=["*"];function ye(p,C){}let oe=(()=>{class p extends M.J{getComponentName(){return"PageErrorComponent"}importThemedComponent(a){return t(18400)(`./${a}/app/page-error/page-error.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,70212))}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-page-error"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Me,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,ye,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return p})();var Se=t(53840);const rt=["*"];function Mt(p,C){}let en=(()=>{class p extends M.J{getComponentName(){return"PageInternalServerErrorComponent"}importThemedComponent(a){return t(46544)(`./${a}/app/page-internal-server-error/page-internal-server-error.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,53840))}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-page-internal-server-error"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:rt,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,Mt,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return p})();var _n=t(89796);const zn=["*"];function is(p,C){}let ui=(()=>{class p extends M.J{getComponentName(){return"PageNotFoundComponent"}importThemedComponent(a){return t(94826)(`./${a}/app/pagenotfound/pagenotfound.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,89796))}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-pagenotfound"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:zn,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,is,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return p})();t(40380),t(15519);const Za=[d.MD,X.UN],gl=[];let Zl=(()=>{class p{static#e=this.\u0275fac=function(h){return new(h||p)};static#t=this.\u0275mod=e.$C({type:p});static#n=this.\u0275inj=e.G2t({providers:[...gl],imports:[Za,L.RootComponent,j,Te.HeaderComponent,he.q,Oe.HeaderNavbarWrapperComponent,ze.h,ki.AdminSidebarComponent,Rr.u,Ql.g,Pr.W,Xa.FooterComponent,Jr.C,_n.PageNotFoundComponent,ui,ya.BreadcrumbsComponent,Ao.B,wl.ForbiddenComponent,Qa,ae,en,Se.PageInternalServerErrorComponent,oe,pt.PageErrorComponent,ce.Y]})}return p})();var ql=t(33396),ec=t(38793),Jd=(t(86542),t(56242));const Qd=[];let Zd=(()=>{class p{static#e=this.\u0275fac=function(h){return new(h||p)};static#t=this.\u0275mod=e.$C({type:p});static#n=this.\u0275inj=e.G2t({providers:[...Qd.map(a=>({provide:a}))],imports:[d.MD,Zl,ql.HeaderComponent,ec.HeaderNavbarWrapperComponent,Jd.NavbarComponent]})}return p})(),$p=(()=>{class p{static#e=this.\u0275fac=function(h){return new(h||p)};static#t=this.\u0275mod=e.$C({type:p});static#n=this.\u0275inj=e.G2t({imports:[Zd]})}return p})();var Es=t(22867),cd=t(1703),Mc=t(53782),dd=t(62990),mo=t(78198),lh=t(76977);let lr=(()=>{class p{constructor(a,h){this.actions$=a,this.menuService=h,this.menuID=mo.D.PUBLIC,this.resize$=Kn(()=>this.actions$.pipe(un(x.O.RESIZE),(0,Ht.T)(()=>new Mc.F$(this.menuID)))),this.routeChange$=Kn(()=>this.actions$.pipe(un(va.hr),(0,Ht.T)(()=>new Mc.F$(this.menuID)))),this.openAdminSidebar$=Kn(()=>this.actions$.pipe(un(Mc.jZ.EXPAND_MENU_PREVIEW),(0,Es.n)(N=>this.menuService.getMenu(N.menuID).pipe((0,cd.$)(),(0,Ht.T)(ie=>ie.id===mo.D.ADMIN&&!ie.previewCollapsed&&ie.collapsed?new Mc.F$(mo.D.PUBLIC):new lh.L)))))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En),e.KVO(dd.$))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var ch=t(81459),ii=t(82040),Nr=t(25718),Ic=t(96856),_l=t(96459),ud=t(98526),Fr=t(9843),To=t(8841),ws=t(12007),dh=t(26589),Xs=t(45100),go=t(79224),tc=t(82219),Ns=t(24106),Ll=t(29882),qa=function(p){return p[p.Add=0]="Add",p[p.Remove=1]="Remove",p}(qa||{});let qd=(()=>{class p{constructor(a,h,N,ie,Ae,Le,_t,Ft,fn,Qt,Yn){this.actions$=a,this.relationshipService=h,this.relationshipTypeService=N,this.submissionObjectService=ie,this.store=Ae,this.objectCache=Le,this.requestService=_t,this.notificationsService=Ft,this.translateService=fn,this.selectableListService=Qt,this.debounceTime=Yn,this.requestQueue=new eo.B,this.debounceMap={},this.nameVariantUpdates={},this.initialActionMap={},this.mapLastActions$=Kn(()=>this.actions$.pipe(un(Ll.oE.ADD_RELATIONSHIP,Ll.oE.REMOVE_RELATIONSHIP),(0,Ht.T)(as=>{const{item1:Nn,item2:Qn,submissionId:Vs,relationshipType:Li}=as.payload,mi=this.createIdentifier(Nn,Qn,Li);(0,V.Tn)(this.debounceMap[mi])?(this.initialActionMap[mi]=as.type,this.debounceMap[mi]=new _.t(as.type),this.debounceMap[mi].pipe(this.debounceTime(500),(0,T.s)(1)).subscribe(Tr=>{if(this.initialActionMap[mi]===Tr)if(Tr===Ll.oE.ADD_RELATIONSHIP){let Kr=as.payload.nameVariant;(0,V.a4)(this.nameVariantUpdates[mi])&&(Kr=this.nameVariantUpdates[mi],delete this.nameVariantUpdates[mi]),this.requestQueue.next({type:qa.Add,item1:Nn,item2:Qn,relationshipType:Li,submissionId:Vs,nameVariant:Kr})}else this.requestQueue.next({type:qa.Remove,item1:Nn,item2:Qn,relationshipType:Li,submissionId:Vs});delete this.debounceMap[mi],delete this.initialActionMap[mi]})):this.debounceMap[mi].next(as.type)})),{dispatch:!1}),this.updateNameVariantsActions$=Kn(()=>this.actions$.pipe(un(Ll.oE.UPDATE_NAME_VARIANT),(0,Ht.T)(as=>{const{item1:Nn,item2:Qn,relationshipType:Vs,submissionId:Li,nameVariant:mi}=as.payload,Tr=this.createIdentifier(Nn,Qn,Vs);(0,V.a4)(this.debounceMap[Tr])?this.nameVariantUpdates[Tr]=mi:this.relationshipService.updateNameVariant(Nn,Qn,Vs,mi).pipe((0,Gn.p)(od=>(0,V.a4)(od.payload)),(0,T.s)(1)).subscribe(od=>{this.updateAfterPatchSubmissionId=Li,this.relationshipService.refreshRelationshipItemsInCache(Nn),this.relationshipService.refreshRelationshipItemsInCache(Qn)})})),{dispatch:!1}),this.updateRelationshipActions$=Kn(()=>this.actions$.pipe(un(Ll.oE.UPDATE_RELATIONSHIP),(0,Ht.T)(as=>{this.updateAfterPatchSubmissionId=as.payload.submissionId})),{dispatch:!1}),this.saveSubmissionSection=Kn(()=>this.actions$.pipe(un(Ic.G9.EMPTY,To.Ce.COMMIT_JSON_PATCH_OPERATIONS),(0,Gn.p)(()=>(0,V.a4)(this.updateAfterPatchSubmissionId)),(0,Es.n)(()=>this.refreshWorkspaceItemInCache(this.updateAfterPatchSubmissionId)),(0,Ht.T)(as=>new Xs.ky(this.updateAfterPatchSubmissionId,[as],!1)))),this.executeRequestsInQueue()}executeRequestsInQueue(){this.requestQueue.pipe((0,ch.H)(a=>{switch(a.type){case qa.Add:return this.addRelationship(a.item1,a.item2,a.relationshipType,a.submissionId,a.nameVariant).pipe((0,Ht.T)(()=>a));case qa.Remove:return this.removeRelationship(a.item1,a.item2,a.relationshipType).pipe((0,Ht.T)(()=>a));default:return[a]}}),(0,Es.n)(a=>this.refreshWorkspaceItemInCache(a.submissionId))).subscribe(a=>{this.store.dispatch(new Xs.ky(a.id,[a],!1))})}createIdentifier(a,h,N){return`${a.uuid}-${h.uuid}-${N}`}addRelationship(a,h,N,ie,Ae){const Le=a.firstMetadataValue("dspace.entity.type"),_t=h.firstMetadataValue("dspace.entity.type");return this.relationshipTypeService.getRelationshipTypeByLabelAndTypes(N,Le,_t).pipe((0,zs.Z)(Ft=>null===Ft?[null]:Ft.rightwardType===N?this.relationshipService.addRelationship(Ft.id,h,a,Ae,void 0):this.relationshipService.addRelationship(Ft.id,a,h,void 0,Ae)),(0,T.s)(1),(0,ii.M)(Ft=>{if((0,V.Tn)(Ft)||Ft.hasFailed){const fn=`list-${ie}-${N}`;let Qt;this.selectableListService.findSelectedByCondition(fn,Yn=>(0,V.a4)(Yn.indexableObject)&&Yn.indexableObject.uuid===h.uuid).pipe((0,T.s)(1),(0,V.Az)()).subscribe(Yn=>{this.selectableListService.deselectSingle(fn,Yn)}),Qt=(0,V.Tn)(Ft)?this.translateService.instant("relationships.add.error.relationship-type.content",{type:N}):this.translateService.instant("relationships.add.error.server.content"),this.notificationsService.error(this.translateService.instant("relationships.add.error.title"),Qt)}}))}removeRelationship(a,h,N){return this.relationshipService.getRelationshipByItemsAndLabel(a,h,N).pipe((0,zs.Z)(ie=>this.relationshipService.deleteRelationship(ie.id,"none")),(0,T.s)(1))}refreshWorkspaceItemInCache(a){return this.submissionObjectService.findById(a,!1,!1,(0,Ns.s)("item")).pipe((0,ws.yd)(),(0,ws.Bo)())}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En),e.KVO(_l.RelationshipDataService),e.KVO(ud.RelationshipTypeDataService),e.KVO(dh.$),e.KVO(E.il),e.KVO(Nr.$),e.KVO(Fr.B),e.KVO(go.I),e.KVO(G.c$),e.KVO(tc.K),e.KVO(ws.f6))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})(),hh=(()=>{class p{constructor(a,h){this.actions$=a,this.store=h}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En),e.KVO(E.il))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();class xl{constructor(C){this.original=C}toString(){if((0,V.Im)(this.original))return"";{const C=this.original.indexOf("?");return C<0?this.original:this.original.substring(0,C)}}}var ei=t(89994);let Wp=(()=>{class p{constructor(a){this.actions$=a,this.routeChange$=Kn(()=>this.actions$.pipe(un(va.hr),(0,Gn.p)(h=>this.previousPath!==this.getBaseUrl(h)),(0,ii.M)(h=>{this.previousPath=this.getBaseUrl(h)}),(0,Ht.T)(()=>new ei.EI)))}getBaseUrl(a){return new xl(a.payload.routerState.url).toString()}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var ug=t(18864),ph=t(39466);let Wv=(()=>{class p{constructor(a){this.actions$=a,this.initTheme$=Kn(()=>this.actions$.pipe(un(Gr),(0,Ht.T)(()=>{const h=(0,q.Nv)();return(0,V.a4)(h)?new ug.K(h.name):new ug.K(ph.Q)})))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var eu=t(83770);const Ea={REHYDRATE:(0,eu.N)("dspace/ngrx/REHYDRATE"),REPLAY:(0,eu.N)("dspace/ngrx/REPLAY")};class hd{constructor(C,a){this.type=C,this.payload=a}}const Kp=[(()=>{class p{constructor(a,h){this.actions=a,this.store=h,this.replay=Kn(()=>this.actions.pipe(un(Ea.REPLAY),(0,Ht.T)(N=>(0,Rs.of)({}))),{dispatch:!1}),this.resize=Kn(()=>this.actions.pipe(un(Ea.REPLAY,Ea.REHYDRATE),(0,Ht.T)(()=>new x.l(window.innerWidth,window.innerHeight))))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En),e.KVO(E.il))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})(),lr,hh,Wp,Wv,qd];let Hp=0;const Tn=[function hg(p){return(C,a)=>(Hp++,console.log("@ngrx action",Hp,a.type),console.log("state",JSON.stringify(C)),console.log("action",JSON.stringify(a)),console.log("------------------------------------"),p(C,a))}],_i=[function pg(p){return(C,a)=>(a.type===Ea.REHYDRATE&&(C=Object.assign({},C,a.payload)),p(C,a))}];var Sc=t(44363),zp=t(56405),ti=t(31829),tu=t(68605),nc=t(67873),Nl=t(21709),fh=t(29443),fg=t(53527),Qr=t(36556),mh=t(80599);const Vo=(0,mh.L)(()=>(0,Rs.of)(Qr._.EPersonRegistration));var k=t(628),ue=t(37922);const A=(0,k.e)(()=>{const p=(0,e.WQX)(ue.GH);return R.c.info.enableEndUserAgreement?p.hasCurrentUserAcceptedAgreement(!0):(0,Rs.of)(!0)}),be=(0,mh.L)(()=>(0,Rs.of)(Qr._.EPersonForgotPassword));var Fe=t(15569),an=t(15497),vn=t(76627),xn=t(25814),es=t(81629),Ls=t(41198),hs=t(84195),js=t(77304),wi=t(72578);t(75664);const to=["*"];function Go(p,C){}let _o=(()=>{class p extends M.J{getComponentName(){return"CreateCollectionParentSelectorComponent"}importThemedComponent(a){return t(12706)(`./${a}/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,75664))}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-create-collection-parent-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:to,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,Go,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return p})();t(71820);const Yp=["*"];function no(p,C){}let Fl=(()=>{class p extends M.J{getComponentName(){return"CreateCommunityParentSelectorComponent"}importThemedComponent(a){return t(27122)(`./${a}/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,71820))}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-create-community-parent-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Yp,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,no,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return p})();var pr=t(48364);t(14004);const vD=["*"];function yD(p,C){}let ED=(()=>{class p extends M.J{getComponentName(){return"EditCollectionSelectorComponent"}importThemedComponent(a){return t(61130)(`./${a}/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,14004))}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-edit-collection-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:vD,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,yD,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return p})();t(13272);const Kv=["*"];function gh(p,C){}let Bl=(()=>{class p extends M.J{getComponentName(){return"EditCommunitySelectorComponent"}importThemedComponent(a){return t(11452)(`./${a}/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,13272))}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-edit-community-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Kv,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,gh,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return p})();t(7478);const Xp=["*"];function Jp(p,C){}let Qp=(()=>{class p extends M.J{getComponentName(){return"EditItemSelectorComponent"}importThemedComponent(a){return t(6122)(`./${a}/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,7478))}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-edit-item-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Xp,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,Jp,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return p})();var Os=t(83116),su=t(58751),iu=t(69509),mg=t(39942),ic=t(88476),pd=t(14922),Hv=t(51206),Zp=t(75949),qp=t(2771);function bD(p,C){if(1&p&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,a.header))}}let DD=(()=>{class p extends qp.${constructor(a,h,N,ie,Ae,Le,_t,Ft,fn){super(a,h),this.activeModal=a,this.route=h,this.router=N,this.notificationsService=ie,this.translationService=Ae,this.scriptDataService=Le,this.authorizationDataService=_t,this.dsoNameService=Ft,this.modalService=fn,this.objectType=iu.W.DSPACEOBJECT,this.selectorTypes=[iu.W.COLLECTION],this.action=qp.u.EXPORT_BATCH}navigate(a){if(a instanceof su.p){const h=this.modalService.open(pd.M);h.componentInstance.name=this.dsoNameService.getName(a),h.componentInstance.headerLabel="confirmation-modal.export-batch.header",h.componentInstance.infoLabel="confirmation-modal.export-batch.info",h.componentInstance.cancelLabel="confirmation-modal.export-batch.cancel",h.componentInstance.confirmLabel="confirmation-modal.export-batch.confirm",h.componentInstance.confirmIcon="fas fa-file-export";const N=h.componentInstance.response.pipe((0,Es.n)(ie=>{if(ie)return this.startScriptNotifyAndRedirect(a).pipe((0,Es.n)(Le=>(0,Rs.of)(Le)));this.modalService.open(p).componentInstance.dsoRD=(0,Hv.SP)(a)}));return N.subscribe(),N}return(0,Rs.of)(!1)}startScriptNotifyAndRedirect(a){const h=[Object.assign(new ic.p,{name:"--id",value:a.uuid}),Object.assign(new ic.p,{name:"--type",value:"COLLECTION"})];return this.authorizationDataService.isAuthorized(Qr._.AdministratorOf).pipe((0,Es.n)(()=>this.scriptDataService.invoke(wi.BATCH_EXPORT_SCRIPT_NAME,h,[])),(0,ws.qD)(),(0,Ht.T)(N=>{if(N.hasSucceeded){const ie=this.translationService.get("process.new.notification.success.title"),Ae=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success(ie,Ae),(0,V.hj)(N.payload)&&this.router.navigateByUrl((0,mg.yJ)(N.payload.processId)),!0}{const ie=this.translationService.get("process.new.notification.error.title"),Ae=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error(ie,Ae),!1}}))}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(X.Lw),e.rXU(y.nX),e.rXU(y.Ix),e.rXU(go.I),e.rXU(G.c$),e.rXU(wi.ScriptDataService),e.rXU(js.AuthorizationDataService),e.rXU(Os.f),e.rXU(X.Bq))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-export-batch-selector"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(h,N){1&h&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return N.close()}),e.j41(5,"span",2),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",3),e.DNE(8,bD,3,3,"span",4),e.j41(9,"ds-dso-selector",5),e.bIt("onSelect",function(Ae){return N.selectObject(Ae)}),e.k0s()()()),2&h&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+N.action+"."+N.objectType.toString().toLowerCase()+".head")," "),e.R7$(6),e.Y8G("ngIf",N.header),e.R7$(),e.Y8G("currentDSOId",null==N.dsoRD?null:N.dsoRD.payload.uuid)("types",N.selectorTypes)("sort",N.defaultSort))},dependencies:[d.bT,Zp.x,G.h,G.D9],encapsulation:2})}return p})();var gg=t(82376);function WP(p,C){if(1&p&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,a.header))}}let _g=(()=>{class p extends qp.${constructor(a,h,N,ie,Ae,Le,_t,Ft,fn){super(a,h),this.activeModal=a,this.route=h,this.router=N,this.notificationsService=ie,this.translationService=Ae,this.scriptDataService=Le,this.authorizationDataService=_t,this.dsoNameService=Ft,this.modalService=fn,this.objectType=iu.W.DSPACEOBJECT,this.selectorTypes=[iu.W.COLLECTION,iu.W.COMMUNITY],this.action=qp.u.EXPORT_METADATA}navigate(a){if(a instanceof su.p||a instanceof gg.E){const h=this.modalService.open(pd.M);h.componentInstance.name=this.dsoNameService.getName(a),h.componentInstance.headerLabel="confirmation-modal.export-metadata.header",h.componentInstance.infoLabel="confirmation-modal.export-metadata.info",h.componentInstance.cancelLabel="confirmation-modal.export-metadata.cancel",h.componentInstance.confirmLabel="confirmation-modal.export-metadata.confirm",h.componentInstance.confirmIcon="fas fa-file-export";const N=h.componentInstance.response.pipe((0,Es.n)(ie=>{if(ie)return this.startScriptNotifyAndRedirect(a).pipe((0,Es.n)(Le=>(0,Rs.of)(Le)));this.modalService.open(p).componentInstance.dsoRD=(0,Hv.SP)(a)}));return N.subscribe(),N}return(0,Rs.of)(!1)}startScriptNotifyAndRedirect(a){const h=[Object.assign(new ic.p,{name:"-i",value:a.uuid})];return this.authorizationDataService.isAuthorized(Qr._.AdministratorOf).pipe((0,Es.n)(N=>(N&&h.push(Object.assign(new ic.p,{name:"-a"})),this.scriptDataService.invoke(wi.METADATA_EXPORT_SCRIPT_NAME,h,[]))),(0,ws.qD)(),(0,Ht.T)(N=>{if(N.hasSucceeded){const ie=this.translationService.get("process.new.notification.success.title"),Ae=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success(ie,Ae),(0,V.hj)(N.payload)&&this.router.navigateByUrl((0,mg.yJ)(N.payload.processId)),!0}{const ie=this.translationService.get("process.new.notification.error.title"),Ae=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error(ie,Ae),!1}}))}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(X.Lw),e.rXU(y.nX),e.rXU(y.Ix),e.rXU(go.I),e.rXU(G.c$),e.rXU(wi.ScriptDataService),e.rXU(js.AuthorizationDataService),e.rXU(Os.f),e.rXU(X.Bq))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-export-metadata-selector"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(h,N){1&h&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return N.close()}),e.j41(5,"span",2),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",3),e.DNE(8,WP,3,3,"span",4),e.j41(9,"ds-dso-selector",5),e.bIt("onSelect",function(Ae){return N.selectObject(Ae)}),e.k0s()()()),2&h&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+N.action+"."+N.objectType.toString().toLowerCase()+".head")," "),e.R7$(6),e.Y8G("ngIf",N.header),e.R7$(),e.Y8G("currentDSOId",null==N.dsoRD?null:N.dsoRD.payload.uuid)("types",N.selectorTypes)("sort",N.defaultSort))},dependencies:[d.bT,Zp.x,G.h,G.D9],encapsulation:2})}return p})();var hi=t(43515);let TD=(()=>{class p{constructor(a,h,N,ie,Ae,Le){this.menuService=a,this.browseService=h,this.authorizationService=N,this.modalService=ie,this.scriptDataService=Ae,this.configurationDataService=Le}resolve(a,h){return(0,vn.z)([this.createPublicMenu$(),this.createAdminMenu$()]).pipe((0,Ht.T)(N=>N.every(Boolean)))}waitForMenu$(a){return this.menuService.getMenu(a).pipe((0,xn.I)(h=>(0,V.a4)(h)),(0,Ht.T)(()=>!0))}createPublicMenu$(){const a=[{id:"browse_global_communities_and_collections",active:!1,visible:!0,index:0,model:{type:hi.x.LINK,text:"menu.section.browse_global_communities_and_collections",link:"/community-list"}}];return this.browseService.getBrowseDefinitions().pipe((0,ws.qD)()).subscribe(h=>{h.hasSucceeded&&(h.payload.page.forEach(N=>{a.push({id:`browse_global_by_${N.id}`,parentID:"browse_global",active:!1,visible:!0,model:{type:hi.x.LINK,text:`menu.section.browse_global_by_${N.id}`,link:`/browse/${N.id}`}})}),a.push({id:"browse_global",active:!1,visible:!0,index:1,model:{type:hi.x.TEXT,text:"menu.section.browse_global"}})),a.forEach(N=>this.menuService.addSection(mo.D.PUBLIC,Object.assign(N,{shouldPersistOnRouteChange:!0})))}),this.waitForMenu$(mo.D.PUBLIC)}createAdminMenu$(){return this.createMainMenuSections(),this.createSiteAdministratorMenuSections(),this.createExportMenuSections(),this.createImportMenuSections(),this.createAccessControlMenuSections(),this.createReportMenuSections(),this.waitForMenu$(mo.D.ADMIN)}createMainMenuSections(){(0,vn.z)([this.authorizationService.isAuthorized(Qr._.IsCollectionAdmin),this.authorizationService.isAuthorized(Qr._.IsCommunityAdmin),this.authorizationService.isAuthorized(Qr._.AdministratorOf),this.authorizationService.isAuthorized(Qr._.CanSubmit),this.authorizationService.isAuthorized(Qr._.CanEditItem),this.authorizationService.isAuthorized(Qr._.CanSeeQA),this.authorizationService.isAuthorized(Qr._.CoarNotifyEnabled)]).subscribe(([a,h,N,ie,Ae,Le,_t])=>{const Ft=[{id:"new_community",parentID:"new",active:!1,visible:h,model:{type:hi.x.ONCLICK,text:"menu.section.new_community",function:()=>{this.modalService.open(Fl)}}},{id:"new_collection",parentID:"new",active:!1,visible:h,model:{type:hi.x.ONCLICK,text:"menu.section.new_collection",function:()=>{this.modalService.open(_o)}}},{id:"new_item",parentID:"new",active:!1,visible:ie,model:{type:hi.x.ONCLICK,text:"menu.section.new_item",function:()=>{this.modalService.open(pr.L)}}},{id:"new_process",parentID:"new",active:!1,visible:N,model:{type:hi.x.LINK,text:"menu.section.new_process",link:"/processes/new"}},{id:"ldn_services_new",parentID:"new",active:!1,visible:N&&_t,model:{type:hi.x.LINK,text:"menu.section.services_new",link:"/admin/ldn/services/new"},icon:""}],fn=[{id:"edit_community",parentID:"edit",active:!1,visible:h,model:{type:hi.x.ONCLICK,text:"menu.section.edit_community",function:()=>{this.modalService.open(Bl)}}},{id:"edit_collection",parentID:"edit",active:!1,visible:a,model:{type:hi.x.ONCLICK,text:"menu.section.edit_collection",function:()=>{this.modalService.open(ED)}}},{id:"edit_item",parentID:"edit",active:!1,visible:Ae,model:{type:hi.x.ONCLICK,text:"menu.section.edit_item",function:()=>{this.modalService.open(Qp)}}}],Qt={id:"new",active:!1,visible:Ft.some(Nn=>Nn.visible),model:{type:hi.x.TEXT,text:"menu.section.new"},icon:"plus",index:0},Yn={id:"edit",active:!1,visible:fn.some(Nn=>Nn.visible),model:{type:hi.x.TEXT,text:"menu.section.edit"},icon:"pencil-alt",index:1};[...Ft,Qt,...fn,Yn,{id:"processes",active:!1,visible:N,model:{type:hi.x.LINK,text:"menu.section.processes",link:"/processes"},icon:"terminal",index:10},{id:"coar_notify",active:!1,visible:N&&_t,model:{type:hi.x.TEXT,text:"menu.section.coar_notify"},icon:"inbox",index:13},{id:"notify_dashboard",active:!1,parentID:"coar_notify",visible:N&&_t,model:{type:hi.x.LINK,text:"menu.section.notify_dashboard",link:"/admin/notify-dashboard"}},{id:"ldn_services",active:!1,parentID:"coar_notify",visible:N&&_t,model:{type:hi.x.LINK,text:"menu.section.services",link:"/admin/ldn/services"}},{id:"health",active:!1,visible:N,model:{type:hi.x.LINK,text:"menu.section.health",link:"/health"},icon:"heartbeat",index:11},{id:"notifications",active:!1,visible:Le||N,model:{type:hi.x.TEXT,text:"menu.section.notifications"},icon:"bell",index:4},{id:"notifications_quality-assurance",parentID:"notifications",active:!1,visible:Le,model:{type:hi.x.LINK,text:"menu.section.quality-assurance",link:"/notifications/quality-assurance"}},{id:"notifications_publication-claim",parentID:"notifications",active:!1,visible:N,model:{type:hi.x.LINK,text:"menu.section.notifications_publication-claim",link:"/admin/notifications/"+es.VZ}}].forEach(Nn=>this.menuService.addSection(mo.D.ADMIN,Object.assign(Nn,{shouldPersistOnRouteChange:!0})))})}createExportMenuSections(){[].forEach(h=>this.menuService.addSection(mo.D.ADMIN,h)),(0,vn.z)([this.authorizationService.isAuthorized(Qr._.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute(wi.METADATA_EXPORT_SCRIPT_NAME)]).pipe((0,Gn.p)(([h,N])=>h&&N),(0,T.s)(1)).subscribe(()=>{this.menuService.addSection(mo.D.ADMIN,{id:"export",active:!1,visible:!0,model:{type:hi.x.TEXT,text:"menu.section.export"},icon:"file-export",index:3,shouldPersistOnRouteChange:!0}),this.menuService.addSection(mo.D.ADMIN,{id:"export_metadata",parentID:"export",active:!0,visible:!0,model:{type:hi.x.ONCLICK,text:"menu.section.export_metadata",function:()=>{this.modalService.open(_g)}},shouldPersistOnRouteChange:!0}),this.menuService.addSection(mo.D.ADMIN,{id:"export_batch",parentID:"export",active:!1,visible:!0,model:{type:hi.x.ONCLICK,text:"menu.section.export_batch",function:()=>{this.modalService.open(DD)}},shouldPersistOnRouteChange:!0})})}createImportMenuSections(){[].forEach(h=>this.menuService.addSection(mo.D.ADMIN,h)),(0,vn.z)([this.authorizationService.isAuthorized(Qr._.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute(wi.METADATA_IMPORT_SCRIPT_NAME)]).pipe((0,Gn.p)(([h,N])=>h&&N),(0,T.s)(1)).subscribe(()=>{this.menuService.addSection(mo.D.ADMIN,{id:"import",active:!1,visible:!0,model:{type:hi.x.TEXT,text:"menu.section.import"},icon:"file-import",index:2,shouldPersistOnRouteChange:!0}),this.menuService.addSection(mo.D.ADMIN,{id:"import_metadata",parentID:"import",active:!0,visible:!0,model:{type:hi.x.LINK,text:"menu.section.import_metadata",link:"/admin/metadata-import"},shouldPersistOnRouteChange:!0}),this.menuService.addSection(mo.D.ADMIN,{id:"import_batch",parentID:"import",active:!1,visible:!0,model:{type:hi.x.LINK,text:"menu.section.import_batch",link:"/admin/batch-import"},shouldPersistOnRouteChange:!0})})}createSiteAdministratorMenuSections(){this.authorizationService.isAuthorized(Qr._.AdministratorOf).subscribe(a=>{[{id:"admin_search",active:!1,visible:a,model:{type:hi.x.LINK,text:"menu.section.admin_search",link:"/admin/search"},icon:"search",index:5},{id:"registries",active:!1,visible:a,model:{type:hi.x.TEXT,text:"menu.section.registries"},icon:"list",index:6},{id:"registries_metadata",parentID:"registries",active:!1,visible:a,model:{type:hi.x.LINK,text:"menu.section.registries_metadata",link:"admin/registries/metadata"}},{id:"registries_format",parentID:"registries",active:!1,visible:a,model:{type:hi.x.LINK,text:"menu.section.registries_format",link:"admin/registries/bitstream-formats"}},{id:"curation_tasks",active:!1,visible:a,model:{type:hi.x.LINK,text:"menu.section.curation_task",link:"admin/curation-tasks"},icon:"filter",index:7},{id:"workflow",active:!1,visible:a,model:{type:hi.x.LINK,text:"menu.section.workflow",link:"/admin/workflow"},icon:"user-check",index:11},{id:"system_wide_alert",active:!1,visible:a,model:{type:hi.x.LINK,text:"menu.section.system-wide-alert",link:"/admin/system-wide-alert"},icon:"exclamation-circle",index:12}].forEach(N=>this.menuService.addSection(mo.D.ADMIN,Object.assign(N,{shouldPersistOnRouteChange:!0})))})}createAccessControlMenuSections(){(0,vn.z)([this.authorizationService.isAuthorized(Qr._.AdministratorOf),this.authorizationService.isAuthorized(Qr._.CanManageGroups)]).subscribe(([a,h])=>{[{id:"access_control_people",parentID:"access_control",active:!1,visible:a,model:{type:hi.x.LINK,text:"menu.section.access_control_people",link:"/access-control/epeople"}},{id:"access_control_groups",parentID:"access_control",active:!1,visible:h,model:{type:hi.x.LINK,text:"menu.section.access_control_groups",link:"/access-control/groups"}},{id:"access_control_bulk",parentID:"access_control",active:!1,visible:a,model:{type:hi.x.LINK,text:"menu.section.access_control_bulk",link:"/access-control/bulk-access"}},{id:"access_control",active:!1,visible:h||a,model:{type:hi.x.TEXT,text:"menu.section.access_control"},icon:"key",index:4}].forEach(ie=>this.menuService.addSection(mo.D.ADMIN,Object.assign(ie,{shouldPersistOnRouteChange:!0})))})}createReportMenuSections(){(0,vn.z)([this.configurationDataService.findByPropertyName("contentreport.enable").pipe((0,ws.qD)(),(0,Ht.T)(a=>a.hasSucceeded&&a.payload&&"true"===a.payload.values[0])),this.authorizationService.isAuthorized(Qr._.AdministratorOf)]).subscribe(([a])=>{[{id:"reports",active:!1,visible:a,model:{type:hi.x.TEXT,text:"menu.section.reports"},icon:"file-alt",index:5},{id:"reports_collections",parentID:"reports",active:!1,visible:a,model:{type:hi.x.LINK,text:"menu.section.reports.collections",link:"/admin/reports/collections"},icon:"user-check"},{id:"reports_queries",parentID:"reports",active:!1,visible:a,model:{type:hi.x.LINK,text:"menu.section.reports.queries",link:"/admin/reports/queries"},icon:"user-check"}].forEach(N=>this.menuService.addSection(mo.D.ADMIN,Object.assign(N,{shouldPersistOnRouteChange:!0})))})}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(dd.$),e.KVO(Ls.q),e.KVO(js.AuthorizationDataService),e.KVO(X.Bq),e.KVO(wi.ScriptDataService),e.KVO(hs.ConfigurationDataService))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();var vg=t(93687),ef=t(61441),tf=t(78380),zv=t(58620);let Yv=(()=>{class p{constructor(a,h,N,ie,Ae,Le){this.actions$=a,this.store$=h,this.translate=N,this.notificationsService=ie,this.qualityAssuranceSourceService=Ae,this.qualityAssuranceSourceDataService=Le,this.retrieveAllSource$=Kn(()=>this.actions$.pipe(un(tf.xq.RETRIEVE_ALL_SOURCE),(0,I.E)(this.store$),(0,Es.n)(([_t,Ft])=>this.qualityAssuranceSourceService.getSources(_t.payload.elementsPerPage,_t.payload.currentPage).pipe((0,Ht.T)(fn=>new tf.$_(fn.page,fn.totalPages,fn.currentPage,fn.totalElements)),(0,ts.W)(fn=>(fn instanceof Error?console.error(fn.message):console.error("Unexpected object thrown",fn),(0,Rs.of)(new tf.Fx))))))),this.retrieveAllSourceErrorAction$=Kn(()=>this.actions$.pipe(un(tf.xq.RETRIEVE_ALL_SOURCE_ERROR),(0,ii.M)(()=>{this.notificationsService.error(null,this.translate.get("quality-assurance.source.error.service.retrieve"))})),{dispatch:!1}),this.addSourceAction$=Kn(()=>this.actions$.pipe(un(tf.xq.ADD_SOURCE),(0,ii.M)(()=>{this.qualityAssuranceSourceDataService.clearFindAllSourceRequests()})),{dispatch:!1})}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En),e.KVO(E.il),e.KVO(G.c$),e.KVO(go.I),e.KVO(zv.p),e.KVO(ef.QualityAssuranceSourceDataService))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var Xv=t(40886),Ca=t(97638),Jv=t(99120),vh=t(89632);let yg=(()=>{class p{constructor(a){this.qualityAssuranceTopicRestService=a}getTopics(a,h,N,ie){const Le={elementsPerPage:a,currentPage:h,sort:new vh.z("name",vh.U.ASC),searchParams:[new Jv.x("source",N)]};let _t;return(0,V.a4)(ie)?(Le.searchParams.push(new Jv.x("target",ie)),_t=this.qualityAssuranceTopicRestService.searchTopicsByTarget(Le)):_t=this.qualityAssuranceTopicRestService.searchTopicsBySource(Le),_t.pipe((0,ws.qD)(),(0,Ht.T)(Ft=>{if(Ft.hasSucceeded)return Ft.payload;throw new Error("Can't retrieve Quality Assurance topics from the Broker topics REST service")}))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(Xv.QualityAssuranceTopicDataService))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),Qv=(()=>{class p{constructor(a,h,N,ie,Ae,Le){this.actions$=a,this.store$=h,this.translate=N,this.notificationsService=ie,this.qualityAssuranceTopicService=Ae,this.qualityAssuranceTopicDataService=Le,this.retrieveAllTopics$=Kn(()=>this.actions$.pipe(un(Ca.py.RETRIEVE_ALL_TOPICS),(0,I.E)(this.store$),(0,Es.n)(([_t,Ft])=>this.qualityAssuranceTopicService.getTopics(_t.payload.elementsPerPage,_t.payload.currentPage,_t.payload.source,_t.payload.target).pipe((0,Ht.T)(fn=>new Ca.C3(fn.page,fn.totalPages,fn.currentPage,fn.totalElements)),(0,ts.W)(fn=>(fn instanceof Error?console.error(fn.message):console.error("Unexpected object thrown",fn),(0,Rs.of)(new Ca.IL))))))),this.retrieveAllTopicsErrorAction$=Kn(()=>this.actions$.pipe(un(Ca.py.RETRIEVE_ALL_TOPICS_ERROR),(0,ii.M)(()=>{this.notificationsService.error(null,this.translate.get("quality-assurance.topic.error.service.retrieve"))})),{dispatch:!1}),this.addTopicsAction$=Kn(()=>this.actions$.pipe(un(Ca.py.ADD_TOPICS),(0,ii.M)(()=>{this.qualityAssuranceTopicDataService.clearFindAllTopicsRequests()})),{dispatch:!1})}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En),e.KVO(E.il),e.KVO(G.c$),e.KVO(go.I),e.KVO(yg),e.KVO(Xv.QualityAssuranceTopicDataService))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var nf=t(12571),vl=t(51457);const Zv=[Qv,Yv,(()=>{class p{constructor(a,h,N,ie,Ae){this.actions$=a,this.store$=h,this.translate=N,this.notificationsService=ie,this.suggestionsService=Ae,this.retrieveTargetsBySource$=Kn(()=>this.actions$.pipe(un(vl.lz.RETRIEVE_TARGETS_BY_SOURCE),(0,Es.n)(Le=>this.suggestionsService.getTargets(Le.payload.source,Le.payload.elementsPerPage,Le.payload.currentPage).pipe((0,Ht.T)(_t=>new vl.Pc(Le.payload.source,_t.page,_t.totalPages,_t.currentPage,_t.totalElements)),(0,ts.W)(_t=>(_t instanceof Error&&console.error(_t.message),(0,Rs.of)(new vl.Fz(Le.payload.source)))))))),this.retrieveAllTargetsErrorAction$=Kn(()=>this.actions$.pipe(un(vl.lz.RETRIEVE_TARGETS_BY_SOURCE_ERROR),(0,ii.M)(()=>{this.notificationsService.error(null,this.translate.get("suggestion.target.error.service.retrieve"))})),{dispatch:!1}),this.retrieveUserTargets$=Kn(()=>this.actions$.pipe(un(Y.Yk.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS),(0,Es.n)(Le=>this.suggestionsService.retrieveCurrentUserSuggestions(Le.payload).pipe((0,Ht.T)(_t=>new vl.Gx(_t)))))),this.refreshUserSuggestionsAction$=Kn(()=>this.actions$.pipe(un(vl.lz.REFRESH_USER_SUGGESTIONS),(0,Es.n)(()=>this.store$.select(Le=>Le.core.auth.userId).pipe((0,Es.n)(Le=>this.suggestionsService.retrieveCurrentUserSuggestions(Le).pipe((0,Ht.T)(_t=>new vl.Gx(_t)),(0,ts.W)(_t=>(_t instanceof Error&&console.error(_t.message),(0,Rs.of)(new vl.Af))))),(0,ts.W)(Le=>(Le instanceof Error&&console.error(Le.message),(0,Rs.of)(new vl.Af)))))))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En),e.KVO(E.il),e.KVO(G.c$),e.KVO(go.I),e.KVO(nf.F))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})()],ru=()=>(0,e.EmA)([(0,e.oKB)(E.md.forFeature("suggestionNotifications",vg.W,Sc.wP),hr.forFeature(Zv))]);var qv=t(18210),sf=t.n(qv),OD=t(75884),Pc=t.n(OD),fd=t(30067),MD=t.n(fd),yh=t(33325),e0=t(91917),ou=t(71779),au=t(25941),vr=t(55445),Eg=t(64340),t0=t(38755),Cg=t(11750);let ID=(()=>{class p{constructor(a,h,N,ie,Ae,Le,_t,Ft,fn){this.actions$=a,this.notificationsService=h,this.operationsService=N,this.sectionService=ie,this.store$=Ae,this.submissionService=Le,this.submissionObjectService=_t,this.translate=Ft,this.workspaceItemDataService=fn,this.loadForm$=Kn(()=>this.actions$.pipe(un(Xs.lE.INIT_SUBMISSION_FORM),(0,Ht.T)(Qt=>{const Yn=Qt.payload.submissionDefinition,as=[];return Yn.sections.page.forEach(Nn=>{const Qn=Nn._links.self.href||Nn._links.self,Vs=Qn.substr(Qn.lastIndexOf("/")+1),Li=Nn._links.config?Nn._links.config.href||Nn._links.config:"",mi=Nn.mandatory&&Nn.sectionType!==vr.l.Duplicates||(0,V.hj)(Qt.payload.sections)&&Qt.payload.sections.hasOwnProperty(Vs)&&Nn.sectionType===vr.l.Duplicates&&(s0()||(0,V.hj)(Qt.payload.sections[Vs].potentialDuplicates));let Tr;Tr=Nn.sectionType!==vr.l.SubmissionForm?(0,V.EA)(Qt.payload.sections)&&(0,V.EA)(Qt.payload.sections[Vs])?Qt.payload.sections[Vs]:Object.create(null):Qt.payload.item.metadata;const Kr=(0,V.hj)(Qt.payload.errors)&&Qt.payload.errors[Vs]||null;as.push(new Xs.wT(Qt.payload.submissionId,Vs,Nn.header,Li,Nn.mandatory,Nn.sectionType,Nn.visibility,mi,Tr,Kr))}),{action:Qt,definition:Yn,mappedActions:as}}),(0,zs.Z)(Qt=>(0,yh.H)(Qt.mappedActions.concat(new Xs.ug(Qt.action.payload.submissionId)))))),this.resetForm$=Kn(()=>this.actions$.pipe(un(Xs.lE.RESET_SUBMISSION_FORM),(0,Ht.T)(Qt=>new Xs.jc(Qt.payload.collectionId,Qt.payload.submissionId,Qt.payload.selfUrl,Qt.payload.submissionDefinition,Qt.payload.sections,Qt.payload.item,null)))),this.saveSubmission$=Kn(()=>this.actions$.pipe(un(Xs.lE.SAVE_SUBMISSION_FORM),(0,Es.n)(Qt=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),Qt.payload.submissionId,"sections").pipe((0,Ht.T)(Yn=>new Xs.tR(Qt.payload.submissionId,Yn,Qt.payload.isManual,Qt.payload.isManual)),(0,ts.W)(()=>(0,Rs.of)(new Xs.wM(Qt.payload.submissionId))))))),this.saveForLaterSubmission$=Kn(()=>this.actions$.pipe(un(Xs.lE.SAVE_FOR_LATER_SUBMISSION_FORM),(0,Es.n)(Qt=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),Qt.payload.submissionId,"sections").pipe((0,Ht.T)(Yn=>new Xs.oW(Qt.payload.submissionId,Yn)),(0,ts.W)(()=>(0,Rs.of)(new Xs.wM(Qt.payload.submissionId))))))),this.saveSubmissionSuccess$=Kn(()=>this.actions$.pipe(un(Xs.lE.SAVE_SUBMISSION_FORM_SUCCESS),(0,I.E)(this.store$),(0,Ht.T)(([Qt,Yn])=>this.parseSaveResponse(Yn.submission.objects[Qt.payload.submissionId],Qt.payload.submissionObject,Qt.payload.submissionId,Yn.forms,Qt.payload.showNotifications,Qt.payload.showErrors)),(0,zs.Z)(Qt=>(0,yh.H)(Qt)))),this.saveSubmissionSectionSuccess$=Kn(()=>this.actions$.pipe(un(Xs.lE.SAVE_SUBMISSION_SECTION_FORM_SUCCESS),(0,I.E)(this.store$),(0,Ht.T)(([Qt,Yn])=>this.parseSaveResponse(Yn.submission.objects[Qt.payload.submissionId],Qt.payload.submissionObject,Qt.payload.submissionId,Yn.forms,!1,!1)),(0,zs.Z)(Qt=>(0,yh.H)(Qt)))),this.saveSection$=Kn(()=>this.actions$.pipe(un(Xs.lE.SAVE_SUBMISSION_SECTION_FORM),(0,Es.n)(Qt=>this.operationsService.jsonPatchByResourceID(this.submissionService.getSubmissionObjectLinkName(),Qt.payload.submissionId,"sections",Qt.payload.sectionId).pipe((0,Ht.T)(Yn=>new Xs.ky(Qt.payload.submissionId,Yn)),(0,ts.W)(()=>(0,Rs.of)(new Xs.Zl(Qt.payload.submissionId))))))),this.saveError$=Kn(()=>this.actions$.pipe(un(Xs.lE.SAVE_SUBMISSION_FORM_ERROR,Xs.lE.SAVE_SUBMISSION_SECTION_FORM_ERROR),(0,I.E)(this.store$),(0,ii.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.save_error_notice")))),{dispatch:!1}),this.saveAndDeposit$=Kn(()=>this.actions$.pipe(un(Xs.lE.SAVE_AND_DEPOSIT_SUBMISSION),(0,I.E)(this.submissionService.hasUnsavedModification()),(0,Es.n)(([Qt,Yn])=>{let as;return as=Yn?this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),Qt.payload.submissionId,"sections"):this.submissionObjectService.findById(Qt.payload.submissionId,!1,!0,(0,Ns.s)("item"),(0,Ns.s)("collection")).pipe((0,ws.ak)(),(0,Ht.T)(Nn=>[Nn])),as.pipe((0,Ht.T)(Nn=>this.canDeposit(Nn)?new Xs.l5(Qt.payload.submissionId):(this.notificationsService.warning(null,this.translate.instant("submission.sections.general.cannot_deposit"),null,!0),new Xs.tR(Qt.payload.submissionId,Nn,!1,!0))),(0,ts.W)(()=>(0,Rs.of)(new Xs.wM(Qt.payload.submissionId))))}))),this.depositSubmission$=Kn(()=>this.actions$.pipe(un(Xs.lE.DEPOSIT_SUBMISSION),(0,I.E)(this.store$),(0,Es.n)(([Qt,Yn])=>this.submissionService.depositSubmission(Yn.submission.objects[Qt.payload.submissionId].selfUrl).pipe((0,Ht.T)(()=>new Xs.kq(Qt.payload.submissionId)),(0,ts.W)(as=>(0,Rs.of)(new Xs.x9(Qt.payload.submissionId))))))),this.saveForLaterSubmissionSuccess$=Kn(()=>this.actions$.pipe(un(Xs.lE.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS),(0,ii.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice"))),(0,ii.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionSuccess$=Kn(()=>this.actions$.pipe(un(Xs.lE.DEPOSIT_SUBMISSION_SUCCESS),(0,ii.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.deposit_success_notice"))),(0,ii.M)(Qt=>this.workspaceItemDataService.invalidateById(Qt.payload.submissionId)),(0,ii.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionError$=Kn(()=>this.actions$.pipe(un(Xs.lE.DEPOSIT_SUBMISSION_ERROR),(0,ii.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.deposit_error_notice")))),{dispatch:!1}),this.discardSubmission$=Kn(()=>this.actions$.pipe(un(Xs.lE.DISCARD_SUBMISSION),(0,Es.n)(Qt=>this.submissionService.discardSubmission(Qt.payload.submissionId).pipe((0,Ht.T)(()=>new Xs.Ob(Qt.payload.submissionId)),(0,ts.W)(()=>(0,Rs.of)(new Xs.Z5(Qt.payload.submissionId))))))),this.addAllMetadataToSectionData=Kn(()=>this.actions$.pipe(un(Xs.lE.UPDATE_SECTION_DATA),(0,Es.n)(Qt=>this.sectionService.getSectionState(Qt.payload.submissionId,Qt.payload.sectionId,vr.l.Upload).pipe((0,Ht.T)(Yn=>[Qt,Yn]),(0,T.s)(1))),(0,Gn.p)(([Qt,Yn])=>Yn.sectionType===vr.l.SubmissionForm),(0,Es.n)(([Qt,Yn])=>Yn.sectionType===vr.l.SubmissionForm?this.submissionObjectService.findById(Qt.payload.submissionId,!0,!1,(0,Ns.s)("item")).pipe((0,ws.ak)()).pipe((0,Es.n)(Qn=>Qn.item.pipe((0,ws.ak)()))).pipe((0,Ht.T)(Qn=>Qn.metadata),(0,Gn.p)(Qn=>!Pc()(Qt.payload.data,Qn)),(0,Ht.T)(Qn=>new Xs.dm(Qt.payload.submissionId,Qt.payload.sectionId,Qn,Qt.payload.errorsToShow,Qt.payload.serverValidationErrors,Qt.payload.metadata))):(0,Rs.of)(new Xs.Sm)))),this.discardSubmissionSuccess$=Kn(()=>this.actions$.pipe(un(Xs.lE.DISCARD_SUBMISSION_SUCCESS),(0,ii.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.discard_success_notice"))),(0,ii.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.discardSubmissionError$=Kn(()=>this.actions$.pipe(un(Xs.lE.DISCARD_SUBMISSION_ERROR),(0,ii.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.discard_error_notice")))),{dispatch:!1})}canDeposit(a){let h=!0;return(0,V.hj)(a)&&a.forEach(N=>{const{errors:ie}=N;ie&&!(0,V.Im)(ie)&&(h=!1)}),h}parseSaveResponse(a,h,N,ie,Ae=!0,Le=!0){const _t=[];return(0,V.hj)(h)&&(Ae&&this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice")),h.forEach(Ft=>{let fn=Object.create({});const{errors:Qt}=Ft;Qt&&!(0,V.Im)(Qt)&&(fn=(0,Cg.A)(Qt),Ae&&this.notificationsService.warning(null,this.translate.get("submission.sections.general.sections_not_valid")));const Yn=Ft.sections&&(0,V.hj)(Ft.sections)?Ft.sections:{},as=MD()(Object.keys(Yn),Object.keys(fn));for(const Qn of as){const Vs=fn[Qn]||[],Li=Yn[Qn]||{};if(a.sections[Qn].sectionType===vr.l.Upload&&(0,V.Im)(Li.files)&&!a.sections[Qn].enabled)continue;Ae&&!a.sections[Qn].enabled&&this.submissionService.notifyNewSection(N,Qn,a.sections[Qn].sectionType);const Tr=rf(n0(ie,a,Qn),Vs,a.sections[Qn].sectionType,Le);_t.push(new Xs.dm(N,Qn,Li,Tr,Vs))}const Nn=sf()(a.sections,Qn=>Qn.sectionType===vr.l.SherpaPolicies);if((0,V.EA)(Nn)&&(0,V.hj)(a.sections[Nn]?.data)&&(0,V.Im)(Yn[Nn])&&_t.push(new Xs.dm(N,Nn,null,[],[])),!s0()){const Qn=sf()(a.sections,Vs=>Vs.sectionType===vr.l.Duplicates);(0,V.EA)(Qn)&&Yn.hasOwnProperty(Qn)&&(0,V.Im)(Yn[Qn].potentialDuplicates)&&_t.push(new Xs.CG(N))}})),_t}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En),e.KVO(go.I),e.KVO(e0.U),e.KVO(au.c),e.KVO(E.il),e.KVO(Eg.E),e.KVO(dh.$),e.KVO(G.c$),e.KVO(ou.WorkspaceitemDataService))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();function n0(p,C,a){return p?p[C.sections[a].formId]:null}function rf(p,C,a,h){if(h||a!==vr.l.SubmissionForm.valueOf())return C;if(!p||!p.touched)return[];const N=[];return C.forEach(ie=>{(0,t0.A)(ie.path).forEach(Le=>{Le.fieldId&&p.touched[Le.fieldId]&&N.push(ie)})}),N}function s0(){return R.c.submission.duplicateDetection.alwaysShowSection}const r0=[ID];var bg=t(16205);const lu=()=>(0,e.EmA)([(0,e.oKB)(E.md.forFeature("submission",bg.u,Sc.wP),hr.forFeature(r0))]);var o0=t(63297);const SD=[{path:ti.n,component:en},{path:ti.RC,component:oe},{path:"",canActivate:[(p,C,a=(0,e.WQX)(E.il))=>a.pipe((0,E.Lt)(w.Gv)).pipe((0,Ht.T)(h=>!1===h),(0,b.F)(),(0,Gn.p)(h=>!0===h),(0,T.s)(1))],canActivateChild:[(p,C,a=(0,e.WQX)(Fe.RootDataService),h=(0,e.WQX)(y.Ix))=>a.checkServerAvailability().pipe((0,T.s)(1),(0,Ht.T)(N=>!!N||h.parseUrl((0,ti.N2)())))],resolve:[(p,C,a=(0,e.WQX)(TD))=>a.resolve(p,C)],children:[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"reload/:rnd",component:ui,pathMatch:"full",canActivate:[(p,C,a=(0,e.WQX)(qi.vQ),h=(0,e.WQX)(y.Ix))=>{if((0,V.hj)(p.queryParams.redirect)){const N=p.queryParams.redirect.startsWith(a.ui.nameSpace)?p.queryParams.redirect.substring(a.ui.nameSpace.length):p.queryParams.redirect;return h.parseUrl(N)}return h.createUrlTree([ti.Eo])}]},{path:"home",loadChildren:()=>t.e(4797).then(t.bind(t,34797)).then(p=>p.ROUTES),data:{showBreadcrumbs:!1},providers:[ru()],canActivate:[A]},{path:"community-list",loadChildren:()=>t.e(8176).then(t.bind(t,78176)).then(p=>p.ROUTES),canActivate:[A]},{path:"id",loadChildren:()=>t.e(6533).then(t.bind(t,36533)).then(p=>p.ROUTES),canActivate:[A]},{path:"handle",loadChildren:()=>t.e(6533).then(t.bind(t,36533)).then(p=>p.ROUTES),canActivate:[A]},{path:ti.il,loadChildren:()=>Promise.all([t.e(4866),t.e(2076),t.e(6719)]).then(t.bind(t,76719)).then(p=>p.ROUTES),canActivate:[Vo]},{path:ti.sT,loadChildren:()=>Promise.all([t.e(4866),t.e(2076),t.e(7011)]).then(t.bind(t,57011)).then(p=>p.ROUTES),canActivate:[A,be]},{path:nc.b2,loadChildren:()=>Promise.all([t.e(727),t.e(9559),t.e(7006),t.e(3677),t.e(2359)]).then(t.bind(t,32359)).then(p=>p.ROUTES),canActivate:[A]},{path:tu.CC,loadChildren:()=>Promise.all([t.e(727),t.e(9559),t.e(4940),t.e(7006),t.e(3725),t.e(3677),t.e(2076),t.e(549)]).then(t.bind(t,40549)).then(p=>p.ROUTES),canActivate:[A]},{path:an.xb,loadChildren:()=>Promise.all([t.e(727),t.e(9559),t.e(8196),t.e(2076),t.e(4001)]).then(t.bind(t,94001)).then(p=>p.ROUTES),canActivate:[A]},{path:"entities/:entity-type",loadChildren:()=>Promise.all([t.e(727),t.e(9559),t.e(8196),t.e(2076),t.e(4001)]).then(t.bind(t,94001)).then(p=>p.ROUTES),canActivate:[A]},{path:ti.H_,loadChildren:()=>Promise.all([t.e(9563),t.e(4587)]).then(t.bind(t,74587)).then(p=>p.ROUTES),canActivate:[A]},{path:ti.l2,loadChildren:()=>Promise.all([t.e(9563),t.e(4587)]).then(t.bind(t,74587)).then(p=>p.ROUTES),canActivate:[A]},{path:"mydspace",loadChildren:()=>t.e(7526).then(t.bind(t,7526)).then(p=>p.ROUTES),providers:[ru()],canActivate:[Nl.t,A]},{path:"search",loadChildren:()=>t.e(7553).then(t.bind(t,57553)).then(p=>p.ROUTES),canActivate:[A]},{path:"browse",loadChildren:()=>Promise.all([t.e(727),t.e(9559),t.e(7006),t.e(4399)]).then(t.bind(t,84399)).then(p=>p.ROUTES),canActivate:[A]},{path:ti.pU,loadChildren:()=>Promise.all([t.e(2076),t.e(3001)]).then(t.bind(t,13001)).then(p=>p.ROUTES),canActivate:[fg.Y,A]},{path:zp.uD,loadChildren:()=>Promise.all([t.e(6068),t.e(3097)]).then(t.bind(t,3097)).then(p=>p.ROUTES),providers:[ru()],canActivate:[Nl.t,A]},{path:"login",loadChildren:()=>t.e(3090).then(t.bind(t,53090)).then(p=>p.ROUTES)},{path:"logout",loadChildren:()=>t.e(7538).then(t.bind(t,97538)).then(p=>p.ROUTES)},{path:"submit",loadChildren:()=>t.e(3613).then(t.bind(t,73613)).then(p=>p.ROUTES),providers:[lu()],canActivate:[A]},{path:"import-external",loadChildren:()=>t.e(4775).then(t.bind(t,14775)).then(p=>p.ROUTES),canActivate:[A]},{path:"workspaceitems",loadChildren:()=>Promise.all([t.e(727),t.e(8196),t.e(5266),t.e(6682)]).then(t.bind(t,6682)).then(p=>p.ROUTES),providers:[lu()],canActivate:[A]},{path:ti.Vv,providers:[lu()],loadChildren:()=>Promise.all([t.e(727),t.e(8196),t.e(5266),t.e(7168)]).then(t.bind(t,67168)).then(p=>p.ROUTES),canActivate:[A]},{path:ti.pX,loadChildren:()=>Promise.all([t.e(2076),t.e(9393)]).then(t.bind(t,19393)).then(p=>p.ROUTES),providers:[ru()],canActivate:[Nl.t,A]},{path:mg.rG,loadChildren:()=>Promise.all([t.e(2076),t.e(2718)]).then(t.bind(t,2718)).then(p=>p.ROUTES),canActivate:[Nl.t,A]},{path:o0.C2,loadChildren:()=>t.e(2243).then(t.bind(t,92243)).then(p=>p.ROUTES),providers:[ru()],canActivate:[Nl.t,A]},{path:ti.Ep,loadChildren:()=>Promise.all([t.e(2076),t.e(227)]).then(t.bind(t,60227)).then(p=>p.ROUTES)},{path:ti.RZ,loadChildren:()=>Promise.all([t.e(2076),t.e(4833)]).then(t.bind(t,94833)).then(p=>p.ROUTES),canActivate:[A]},{path:ti.OC,component:Qa},{path:"statistics",loadChildren:()=>Promise.all([t.e(2076),t.e(2057)]).then(t.bind(t,12057)).then(p=>p.ROUTES),canActivate:[A]},{path:ti.lH,loadChildren:()=>t.e(8570).then(t.bind(t,28570)).then(p=>p.ROUTES)},{path:ti.UP,loadChildren:()=>Promise.all([t.e(3068),t.e(4866),t.e(2076),t.e(406)]).then(t.bind(t,50406)).then(p=>p.ROUTES),canActivate:[fh.i,A]},{path:"subscriptions",loadChildren:()=>Promise.all([t.e(9559),t.e(2076),t.e(237)]).then(t.bind(t,90237)).then(p=>p.ROUTES),canActivate:[Nl.t]},{path:"**",pathMatch:"full",component:ui}]}];t(22957);var af=t(86881),Eh=t(62806),a0=t(11825),l0=t(86804);let HP=(()=>{class p{constructor(a,h,N){this.inj=a,this.router=h,this.store=N,this.refreshTokenRequestUrls=[]}isUnauthorized(a){return 401===a.status}isSuccess(a){return 200===a.status||204===a.status}isAuthRequest(a){return a&&a.url&&(a.url.endsWith("/authn/login")||a.url.endsWith("/authn/logout")||a.url.endsWith("/authn/status"))}isLoginResponse(a){return a.url&&a.url.endsWith("/authn/login")}isLogoutResponse(a){return a.url&&a.url.endsWith("/authn/logout")}isStatusResponse(a){return a.url&&a.url.endsWith("/authn/status")}parseLocation(a){let h=a.trim();h=h.replace('location="',""),h=h.replace('"',"");let N=/%3A%2F%2F/g;return h=h.replace(N,"://"),N=/%3A/g,h=h.replace(N,":"),h.trim()}sortAuthMethods(a){const h=[];return a.forEach(N=>{N.authMethodType===Eh.Q.Password&&h.push(N)}),a.forEach(N=>{N.authMethodType!==Eh.Q.Password&&h.push(N)}),h}parseAuthMethodsFromHeaders(a){let h=[];if((0,V.hj)(a.get("www-authenticate"))){const Ae=a.get("www-authenticate").match(/(\w+ (\w+=((".*?")|[^,]*)(, )?)*)/g);for(const Le in Ae){const _t=Ae[Le].split(", "),Ft=_t[0].split(" ")[0].trim();let fn;if(1===_t.length)fn=new af.q(Ft,Number(Le)),h.push(fn);else if(_t.length>1){let Qt=_t[1];Qt=this.parseLocation(Qt),fn=new af.q(Ft,Number(Le),Qt),h.push(fn)}}h=this.sortAuthMethods(h)}else h.push(new af.q(Eh.Q.Password,0));return h}makeAuthStatusObject(a,h,N,ie){const Ae=new a0.T;if(ie&&(Ae.authMethods=this.parseAuthMethodsFromHeaders(ie)),Ae.id=null,Ae.okay=!0,a)Ae.authenticated=!0,Ae.token=new l0.S(h);else if(Ae.authenticated=!1,(0,V.hj)(N))if("string"==typeof N)try{Ae.error=JSON.parse(N)}catch(Le){console.error('Unknown auth error "',N,'" caused ',Le),Ae.error={error:"Unknown",message:"Unknown auth error",status:500,timestamp:Date.now(),path:""}}else Ae.error=N;return Ae}intercept(a,h){const N=this.inj.get(u.uR),ie=N.getToken();let Ae,Le;if(N.isTokenExpired())return(0,Rs.of)(null);if(this.isAuthRequest(a)&&!this.isLogoutResponse(a)||!(0,V.hj)(ie))Ae=a.clone();else{Le=N.buildAuthHeader(ie);let _t=a.headers.set("authorization",Le);const Ft=N.getImpersonateID();(0,V.a4)(Ft)&&(_t=_t.set("X-On-Behalf-Of",Ft)),Ae=a.clone({headers:_t})}return h.handle(Ae).pipe((0,Ht.T)(_t=>{if(_t instanceof ee.cS&&this.isSuccess(_t)&&this.isAuthRequest(_t)){let Ft;if(this.isLoginResponse(_t)){const fn=_t.headers.get("authorization");Ft=_t.clone({body:this.makeAuthStatusObject(!0,fn)}),this.refreshTokenRequestUrls=[]}else Ft=this.isStatusResponse(_t)?_t.clone({body:Object.assign(_t.body,{authMethods:this.parseAuthMethodsFromHeaders(_t.headers)})}):_t.clone({body:this.makeAuthStatusObject(!1)});return Ft}return _t}),(0,ts.W)((_t,Ft)=>{if(_t instanceof ee.yz){if(this.isAuthRequest(_t)){this.refreshTokenRequestUrls=[];const fn=new ee.cS({body:this.makeAuthStatusObject(!1,null,_t.error,_t.headers),headers:_t.headers,status:_t.status,statusText:_t.statusText,url:_t.url});return(0,Rs.of)(fn)}this.isUnauthorized(_t)&&(0,V.Pe)(ie)&&N.isTokenExpired()&&this.store.dispatch(new Y.Wu("auth.messages.expired"))}return(0,hl.$)(_t)}))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(e.zZn),e.KVO(y.Ix),e.KVO(E.il))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var Dg=t(44660),md=t(9518);let Na=(()=>{class p{constructor(a){this.localeService=a}intercept(a,h){let N;return this.localeService.getLanguageCodeList().pipe((0,Dg.S)((ie,Ae)=>[...ie,Ae],[]),(0,zs.Z)(ie=>(N=a.clone({headers:a.headers.set("Accept-Language",ie.toString())}),h.handle(N))))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(md.iH))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var lf=t(63276),c0=t(69112);const zP=p=>p.correlationId;var Tg=t(26898);let yl=(()=>{class p{constructor(a,h,N){this.cookieService=a,this.uuidService=h,this.store=N}initCorrelationId(){let a=this.cookieService.get("CORRELATION-ID");(0,V.Im)(a)&&(a=this.getCorrelationId()),(0,V.Im)(a)&&(a=this.uuidService.generate()),this.store.dispatch(new c0.q(a)),this.cookieService.set("CORRELATION-ID",a)}getCorrelationId(){let a;return this.store.pipe((0,E.Lt)(zP),(0,T.s)(1)).subscribe(h=>{a=h}),a}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(lf.O),e.KVO(Tg.v),e.KVO(E.il))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),d0=(()=>{class p{constructor(a,h){this.cidService=a,this.router=h}intercept(a,h){const N=this.cidService.getCorrelationId();let ie=a.headers;return(0,V.a4)(N)&&(ie=ie.append("X-CORRELATION-ID",N)),ie=ie.append("X-REFERRER",this.router.url),a=a.clone({withCredentials:!0,headers:ie}),h.handle(a)}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(yl),e.KVO(y.Ix))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var Ue=t(31635),qt=t(47817),ni=t(52727),El=t(91072),ri=t(98573),Br=t(2494),Og=t(91967);let Ch=class extends El.I{static#e=this.type=Og.uC;get self(){return this._links.self.href}};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],Ch.prototype,"type",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Ch.prototype,"id",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],Ch.prototype,"_links",void 0),Ch=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(El.I)],Ch);let ca=class extends El.I{static#e=this.type=Og.zd;get self(){return this._links.self.href}};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],ca.prototype,"type",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Number)],ca.prototype,"id",void 0),(0,Ue.Cg)([(0,qt.deserializeAs)("id"),(0,Ue.Sn)("design:type",String)],ca.prototype,"uuid",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],ca.prototype,"name",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],ca.prototype,"description",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],ca.prototype,"url",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Number)],ca.prototype,"score",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Boolean)],ca.prototype,"enabled",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],ca.prototype,"ldnUrl",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],ca.prototype,"lowerIp",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],ca.prototype,"upperIp",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],ca.prototype,"notifyServiceInboundPatterns",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],ca.prototype,"_links",void 0),ca=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(El.I)],ca);const u0=new ri.v("notifyrequests");let el=class{static#e=this.type=u0};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],el.prototype,"type",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],el.prototype,"notifyStatus",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],el.prototype,"itemuuid",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],el.prototype,"_links",void 0),el=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(El.I)],el),t(2249),t(29437);var cu=t(92600);const p0=new e.nKC("mockResponseMap",{providedIn:"root",factory:()=>df}),df=new Map([]);let bh=(()=>{class p extends cu.Y{constructor(a,h){super(h),this.mockResponseMap=a,this.http=h}get(a){const h=this.getMockData(a);return(0,V.Im)(h)?super.get(a):this.toMockResponse$(h)}request(a,h,N,ie,Ae){const Le=this.getMockData(h);return(0,V.Im)(Le)?super.request(a,h,N,ie,Ae):this.toMockResponse$(Le)}toMockResponse$(a){return(0,Rs.of)({payload:a,headers:new ee.Lr,statusCode:200,statusText:"OK"})}getMockData(a){let h;if(h=this.mockResponseMap.has(a)?a:new URL(a).pathname.slice(R.c.rest.nameSpace.length),this.mockResponseMap.has(h))return JSON.parse(JSON.stringify(this.mockResponseMap.get(h)))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(p0),e.KVO(ee.Qq))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var f0=t(24308);let Rc=class{static#e=this.type=f0.E};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],Rc.prototype,"type",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Rc.prototype,"status",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],Rc.prototype,"_links",void 0),Rc=(0,Ue.Cg)([ni.gV],Rc);var Mg=t(35551);let oc=class{static#e=this.type=Mg.f};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],oc.prototype,"type",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],oc.prototype,"identifiers",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],oc.prototype,"_links",void 0),oc=(0,Ue.Cg)([ni.gV],oc),t(6548);const hf=new ri.v("submissioncoarnotifyconfig");new ri.v("workspaceitem");let Ac=class extends El.I{static#e=this.type=hf;get self(){return this._links.self.href}};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],Ac.prototype,"type",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Ac.prototype,"id",void 0),(0,Ue.Cg)([(0,qt.deserializeAs)("id"),(0,Ue.Sn)("design:type",String)],Ac.prototype,"uuid",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],Ac.prototype,"patterns",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],Ac.prototype,"_links",void 0),Ac=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(El.I)],Ac);const LD=new ri.v("shortlivedtoken");let gd=class{static#e=this.type=LD};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],gd.prototype,"type",void 0),(0,Ue.Cg)([(0,qt.autoserializeAs)("token"),(0,Ue.Sn)("design:type",String)],gd.prototype,"value",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],gd.prototype,"_links",void 0),gd=(0,Ue.Cg)([ni.gV],gd);var wc=t(19199),Cl=t(30865);let so=class extends wc.G{static#e=this.type=Cl.XI};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],so.prototype,"type",void 0),(0,Ue.Cg)([(0,qt.autoserializeAs)(String,"name"),(0,Ue.Sn)("design:type",String)],so.prototype,"uuid",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],so.prototype,"id",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],so.prototype,"itemAccessConditionOptions",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],so.prototype,"bitstreamAccessConditionOptions",void 0),so=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(wc.G)],so);let Ul=class extends wc.G{static#e=this.type=Cl.NS};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],Ul.prototype,"accessConditionOptions",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Ul.prototype,"discoverable",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Ul.prototype,"canChangeDiscoverable",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],Ul.prototype,"_links",void 0),Ul=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(wc.G)],Ul);let pf=class extends Ul{static#e=this.type=Cl.NS};pf=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(Ul)],pf),t(99168),t(451);let tl=class extends wc.G{static#e=this.type=Cl.WJ};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],tl.prototype,"header",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Boolean)],tl.prototype,"mandatory",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],tl.prototype,"sectionType",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Object)],tl.prototype,"visibility",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],tl.prototype,"_links",void 0),tl=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(wc.G)],tl);let jl=class extends wc.G{static#e=this.type=Cl.mU};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],jl.prototype,"accessConditionOptions",void 0),(0,Ue.Cg)([(0,ni.nf)(Cl.KX),(0,Ue.Sn)("design:type",Lr.c)],jl.prototype,"metadata",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Boolean)],jl.prototype,"required",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Number)],jl.prototype,"maxSize",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],jl.prototype,"_links",void 0),jl=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(wc.G)],jl);let ff=class extends jl{static#e=this.type=Cl.V_};ff=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(jl)],ff);const m0=new ri.v("root");let bl=class{static#e=this.type=m0};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],bl.prototype,"type",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],bl.prototype,"dspaceUI",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],bl.prototype,"dspaceName",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],bl.prototype,"dspaceServer",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],bl.prototype,"dspaceVersion",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],bl.prototype,"_links",void 0),bl=(0,Ue.Cg)([ni.gV],bl),t(82831),t(63434),t(78827),t(54254);var Dh=t(4198);const v0=new ri.v("qualityassuranceevent");let da=class{static#e=this.type=v0};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],da.prototype,"id",void 0),(0,Ue.Cg)([(0,qt.autoserializeAs)(String,"id"),(0,Ue.Sn)("design:type",String)],da.prototype,"uuid",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],da.prototype,"originalId",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],da.prototype,"title",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Number)],da.prototype,"trust",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],da.prototype,"eventDate",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],da.prototype,"status",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Object)],da.prototype,"message",void 0),(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],da.prototype,"type",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],da.prototype,"_links",void 0),(0,Ue.Cg)([(0,ni.nf)(Dh.U),(0,Ue.Sn)("design:type",Lr.c)],da.prototype,"target",void 0),(0,Ue.Cg)([(0,ni.nf)(Dh.U),(0,Ue.Sn)("design:type",Lr.c)],da.prototype,"related",void 0),da=(0,Ue.Cg)([ni.gV],da);const y0=new ri.v("qualityassurancesource");let ac=class{static#e=this.type=y0};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],ac.prototype,"id",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],ac.prototype,"lastEvent",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Number)],ac.prototype,"totalEvents",void 0),(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],ac.prototype,"type",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],ac.prototype,"_links",void 0),ac=(0,Ue.Cg)([ni.gV],ac);const Sg=new ri.v("qualityassurancetopic");let kl=class{static#e=this.type=Sg};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],kl.prototype,"id",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],kl.prototype,"name",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],kl.prototype,"lastEvent",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Number)],kl.prototype,"totalEvents",void 0),(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],kl.prototype,"type",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],kl.prototype,"_links",void 0),kl=(0,Ue.Cg)([ni.gV],kl);const Th=new ri.v("suggestionsource");let Lc=class{static#e=this.type=Th};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Lc.prototype,"id",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Number)],Lc.prototype,"total",void 0),(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],Lc.prototype,"type",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],Lc.prototype,"_links",void 0),Lc=(0,Ue.Cg)([ni.gV],Lc);const Pg=new ri.v("suggestiontarget");let Vl=class{static#e=this.type=Pg};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Vl.prototype,"id",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Vl.prototype,"display",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Vl.prototype,"source",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Number)],Vl.prototype,"total",void 0),(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],Vl.prototype,"type",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],Vl.prototype,"_links",void 0),Vl=(0,Ue.Cg)([ni.gV],Vl);const Rg=new ri.v("orcidhistory");let nl=class extends El.I{static#e=this.type=Rg};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],nl.prototype,"type",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Number)],nl.prototype,"id",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],nl.prototype,"entityName",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],nl.prototype,"profileItemId",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],nl.prototype,"entityId",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],nl.prototype,"entityType",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Number)],nl.prototype,"status",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],nl.prototype,"putCode",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],nl.prototype,"_links",void 0),nl=(0,Ue.Cg)([ni.gV],nl);const E0=new ri.v("orcidqueue");let Dl=class extends El.I{static#e=this.type=E0};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],Dl.prototype,"type",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Number)],Dl.prototype,"id",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Dl.prototype,"description",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Dl.prototype,"profileItemId",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Dl.prototype,"entityId",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Dl.prototype,"recordType",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Dl.prototype,"operation",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],Dl.prototype,"_links",void 0),Dl=(0,Ue.Cg)([ni.gV],Dl),t(39513),t(69069);var BD=t(5469);const Ag=new ri.v("authorization");var Fa=t(47587);const wg=new ri.v("feature");let _d=class extends Fa.M{static#e=this.type=Ag};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],_d.prototype,"id",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],_d.prototype,"_links",void 0),(0,Ue.Cg)([(0,ni.nf)(BD.N),(0,Ue.Sn)("design:type",Lr.c)],_d.prototype,"eperson",void 0),(0,Ue.Cg)([(0,ni.nf)(wg),(0,Ue.Sn)("design:type",Lr.c)],_d.prototype,"feature",void 0),(0,Ue.Cg)([(0,ni.nf)(Dh.U),(0,Ue.Sn)("design:type",Lr.c)],_d.prototype,"object",void 0),_d=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(Fa.M)],_d);var b0=t(56738),UD=(t(20466),t(35397),t(59400));const xc=new ri.v("browseEntry");let sl=class extends UD.u{static#e=this.type=xc;getRenderTypes(){return[this.constructor]}};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],sl.prototype,"type",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],sl.prototype,"authority",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],sl.prototype,"value",void 0),(0,Ue.Cg)([(0,qt.autoserializeAs)("valueLang"),(0,Ue.Sn)("design:type",String)],sl.prototype,"language",void 0),(0,Ue.Cg)([(0,qt.autoserializeAs)("thumbnail"),(0,Ue.Sn)("design:type",String)],sl.prototype,"thumbnail",void 0),(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",Number)],sl.prototype,"count",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],sl.prototype,"_links",void 0),sl=(0,Ue.Cg)([ni.gV],sl);var T0=t(28083);const xg=new ri.v("property");let Gl=class{static#e=this.type=xg};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],Gl.prototype,"type",void 0),(0,Ue.Cg)([(0,qt.autoserializeAs)(String,"name"),(0,Ue.Sn)("design:type",String)],Gl.prototype,"uuid",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Gl.prototype,"name",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],Gl.prototype,"values",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],Gl.prototype,"_links",void 0),Gl=(0,Ue.Cg)([ni.gV],Gl),t(71046);var Ng=t(95184);let vd=class extends Fa.M{static#e=this.type=wg};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],vd.prototype,"id",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],vd.prototype,"description",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],vd.prototype,"resourcetypes",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],vd.prototype,"_links",void 0),vd=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(Fa.M)],vd),t(25389),t(60171);var lc=t(47376),mf=(t(73171),t(31117),t(98680),t(84632),t(10484));let $l=class extends Fa.M{static#e=this.type=mf.m};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Boolean)],$l.prototype,"custom",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],$l.prototype,"text",void 0),$l=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(Fa.M)],$l),t(42578),t(15911);const Mh=new ri.v("discover");let Tl=class{static#e=this.type=Mh};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Tl.prototype,"id",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],Tl.prototype,"filters",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],Tl.prototype,"sortOptions",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],Tl.prototype,"type",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],Tl.prototype,"_links",void 0),Tl=(0,Ue.Cg)([ni.gV],Tl);const yd=new ri.v("site");let Ih=class extends Fa.M{static#e=this.type=yd};Ih=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(Fa.M)],Ih);var _f=t(73069);const vf=new ri.v("itemtemplate");let Ug=class extends lc.q{static#e=this.type=vf};(0,Ue.Cg)([(0,ni.nf)(_f.n),(0,Ue.Sn)("design:type",Lr.c)],Ug.prototype,"templateItemOf",void 0),Ug=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(lc.q)],Ug),t(84486),t(86429);var O0=t(41675),kg=t(58478);let cc=class extends Fa.M{static#e=this.type=kg.s};(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],cc.prototype,"_links",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],cc.prototype,"id",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],cc.prototype,"summary",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],cc.prototype,"submitterName",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Boolean)],cc.prototype,"draftVersion",void 0),(0,Ue.Cg)([Br.aK,(0,ni.nf)(O0.x,!0),(0,Ue.Sn)("design:type",Lr.c)],cc.prototype,"versions",void 0),cc=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(Fa.M)],cc),t(71180);var du=t(97131);const Vg=new ri.v("submissioncclicense");let Ed=class extends du.s{static#e=this.type=Vg};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],Ed.prototype,"type",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Ed.prototype,"id",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Ed.prototype,"name",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],Ed.prototype,"fields",void 0),Ed=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(du.s)],Ed);const M0=new ri.v("submissioncclicenseUrl");let dc=class extends du.s{static#e=this.type=M0};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],dc.prototype,"type",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],dc.prototype,"url",void 0),dc=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(du.s)],dc);var Gg=t(88829),yf=t(21139),uu=t(41202);let Wl=class{static#e=this.type=uu.Hx};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Wl.prototype,"id",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Wl.prototype,"name",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Wl.prototype,"scrollable",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Wl.prototype,"hierarchical",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Object)],Wl.prototype,"preloadLevel",void 0),(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",Object)],Wl.prototype,"type",void 0),(0,Ue.Cg)([(0,ni.nf)(uu.mt,!0),(0,Ue.Sn)("design:type",Lr.c)],Wl.prototype,"entries",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],Wl.prototype,"_links",void 0),Wl=(0,Ue.Cg)([ni.gV],Wl);var Ef=t(20857);t(35873);class hu{}(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],hu.prototype,"id",void 0);var Rh=t(5442),Cf=t(97311);const WD=new ri.v("ratingrevieweraction"),I0=new ri.v("selectrevieweraction");let Cd=class extends hu{static#e=this.type=WD};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Cd.prototype,"descriptionRequired",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Number)],Cd.prototype,"maxValue",void 0),Cd=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(hu)],Cd);let bd=class extends hu{static#e=this.type=I0};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],bd.prototype,"group",void 0),bd=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(hu)],bd),t(55931);var $g=t(26599);let uc=class extends Fa.M{static#e=this.type=$g.f};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],uc.prototype,"id",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],uc.prototype,"options",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Boolean)],uc.prototype,"advanced",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],uc.prototype,"advancedOptions",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",Array)],uc.prototype,"advancedInfo",void 0),uc=(0,Ue.Cg)([ni.gV,(0,qt.inheritSerialization)(Fa.M)],uc);var hc=t(74767);let R0=(()=>{class p extends lf.O{set(a,h,N){(0,hc.set)(a,h,N),this.updateSource()}remove(a,h){(0,hc.remove)(a,h),this.updateSource()}get(a){return(0,hc.getJSON)(a)}getAll(){return(0,hc.getJSON)()}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var wn=t(10936),Ws=t(71526),Vn=t(88842),Nc=t(2167),Wn=t(50999),vi=t(66559),Lo=t(78052),Vi=t(7044),Oo=t(767),Oi=t(38614),Ah=t(84562),Ur=t(48058);let Fc=(()=>{class p extends Ur.C{constructor(a,h,N){super(a),this.dsoNameService=a,this.truncatableService=h,this.bitstreamDataService=N}ngOnInit(){(0,V.a4)(this.object)&&(this.dso=this.object.indexableObject,this.isCollapsed$=this.isCollapsed())}allMetadataValues(a){return Ah.O.allValues([this.object.hitHighlights,this.dso.metadata],a)}firstMetadataValue(a){return Ah.O.firstValue([this.object.hitHighlights,this.dso.metadata],a)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(Os.f),e.rXU(Oi.F),e.rXU(Lo.BitstreamDataService))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:0,vars:0,template:function(h,N){},encapsulation:2})}return p})();const pc=["*"],Dd=p=>["/collections/",p];function KD(p,C){if(1&p&&(e.j41(0,"a",8),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",9),e.nI1(3,"async"),e.k0s()),2&p){let a;const h=e.XpG();e.Y8G("target",h.linkType===h.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Dd,h.dso.id)),e.BMQ("rel",h.linkType===h.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(a=e.bMT(3,8,h.dso.logo))?null:a.payload)("limitWidth",!1)}}function HD(p,C){if(1&p&&(e.j41(0,"span",10),e.nrm(1,"ds-thumbnail",9),e.nI1(2,"async"),e.k0s()),2&p){let a;const h=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(a=e.bMT(2,2,h.dso.logo))?null:a.payload)("limitWidth",!1)}}function zD(p,C){if(1&p&&e.nrm(0,"ds-badges",11),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function YD(p,C){if(1&p&&(e.j41(0,"p",12),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.JRh(a.dso.shortDescription)}}function XD(p,C){if(1&p&&(e.j41(0,"div",13)(1,"a",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Dd,a.dso.id)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let wh=class gP extends Fc{constructor(C,a,h,N){super(C,h,N),this.dsoNameService=C,this.linkService=a,this.truncatableService=h,this.bitstreamDataService=N}set dso(C){this._dso=C,(0,V.a4)(this._dso)&&(0,V.Tn)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,Ns.s)("logo"))}get dso(){return this._dso}static#e=this.\u0275fac=function(a){return new(a||gP)(e.rXU(Os.f),e.rXU(vi._),e.rXU(Oi.F),e.rXU(Lo.BitstreamDataService))};static#t=this.\u0275cmp=e.VBU({type:gP,selectors:[["ds-collection-search-result-grid-element"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:pc,decls:10,vars:6,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[3,"object","context"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(a,h){1&a&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,KD,4,12,"a",1)(2,HD,3,4,"span",2),e.j41(3,"div",3),e.DNE(4,zD,1,2,"ds-badges",4),e.j41(5,"h4",5),e.EFF(6),e.k0s(),e.DNE(7,YD,2,1,"p",6)(8,XD,4,8,"div",7),e.k0s(),e.SdG(9),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(2),e.Y8G("ngIf",h.showLabel),e.R7$(2),e.JRh(h.dsoNameService.getName(h.dso)),e.R7$(),e.Y8G("ngIf",h.dso.shortDescription),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None))},dependencies:[d.bT,y.Wk,Vi.T,Oo.F,d.Jj,G.h,G.D9],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};wh=(0,Ue.Cg)([(0,Wn.VK)(Nc.A,Vn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Os.f,vi._,Oi.F,Lo.BitstreamDataService])],wh);const A0=p=>[p];let Tf=class gb extends Fc{ngOnInit(){super.ngOnInit(),this.editPath=(0,tu._E)(this.dso.uuid)}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(gb)))(h||gb)}})();static#t=this.\u0275cmp=e.VBU({type:gb,selectors:[["ds-collection-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(a,h){1&a&&(e.j41(0,"ds-collection-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()()()()),2&a&&(e.Y8G("object",h.object)("index",h.index)("linkType",h.linkType)("listID",h.listID),e.R7$(3),e.Y8G("routerLink",e.eq3(5,A0,h.editPath)))},dependencies:[wh,y.Wk]})};Tf=(0,Ue.Cg)([(0,Wn.VK)(Nc.A,Vn.n.GridElement,Ws.o.AdminSearch)],Tf);var pu=t(77590);const JD=["*"],w0=p=>["/communities/",p];function Of(p,C){if(1&p&&(e.j41(0,"a",8),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",9),e.nI1(3,"async"),e.k0s()),2&p){let a;const h=e.XpG();e.Y8G("target",h.linkType===h.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,w0,h.dso.id)),e.BMQ("rel",h.linkType===h.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(a=e.bMT(3,8,h.dso.logo))?null:a.payload)("limitWidth",!1)}}function fc(p,C){if(1&p&&(e.j41(0,"span",10),e.nrm(1,"ds-thumbnail",9),e.nI1(2,"async"),e.k0s()),2&p){let a;const h=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(a=e.bMT(2,2,h.dso.logo))?null:a.payload)("limitWidth",!1)}}function Lh(p,C){if(1&p&&e.nrm(0,"ds-badges",11),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function L0(p,C){if(1&p&&(e.j41(0,"p",12),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.JRh(a.dso.shortDescription)}}function x0(p,C){if(1&p&&(e.j41(0,"div",13)(1,"a",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,w0,a.dso.id)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let fu=class _P extends Fc{constructor(C,a,h,N){super(C,h,N),this.dsoNameService=C,this.linkService=a,this.truncatableService=h,this.bitstreamDataService=N}set dso(C){this._dso=C,(0,V.a4)(this._dso)&&(0,V.Tn)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,Ns.s)("logo"))}get dso(){return this._dso}static#e=this.\u0275fac=function(a){return new(a||_P)(e.rXU(Os.f),e.rXU(vi._),e.rXU(Oi.F),e.rXU(Lo.BitstreamDataService))};static#t=this.\u0275cmp=e.VBU({type:_P,selectors:[["ds-community-search-result-grid-element"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:JD,decls:10,vars:6,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[3,"object","context"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(a,h){1&a&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,Of,4,12,"a",1)(2,fc,3,4,"span",2),e.j41(3,"div",3),e.DNE(4,Lh,1,2,"ds-badges",4),e.j41(5,"h4",5),e.EFF(6),e.k0s(),e.DNE(7,L0,2,1,"p",6)(8,x0,4,8,"div",7),e.k0s(),e.SdG(9),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(2),e.Y8G("ngIf",h.showLabel),e.R7$(2),e.JRh(h.dsoNameService.getName(h.dso)),e.R7$(),e.Y8G("ngIf",h.dso.shortDescription),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None))},dependencies:[d.bT,y.Wk,Vi.T,Oo.F,d.Jj,G.h,G.D9],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};fu=(0,Ue.Cg)([(0,Wn.VK)(pu.L,Vn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Os.f,vi._,Oi.F,Lo.BitstreamDataService])],fu);const JP=p=>[p];let Wg=class _b extends Fc{ngOnInit(){super.ngOnInit(),this.editPath=(0,nc.pk)(this.dso.uuid)}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(_b)))(h||_b)}})();static#t=this.\u0275cmp=e.VBU({type:_b,selectors:[["ds-community-admin-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(a,h){1&a&&(e.j41(0,"ds-community-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()()()()),2&a&&(e.Y8G("object",h.object)("index",h.index)("linkType",h.linkType)("listID",h.listID),e.R7$(3),e.Y8G("routerLink",e.eq3(5,JP,h.editPath)))},dependencies:[fu,y.Wk]})};Wg=(0,Ue.Cg)([(0,Wn.VK)(pu.L,Vn.n.GridElement,Ws.o.AdminSearch)],Wg);var mu=t(8181),ea=t(95364),il=t(87913),gu=t(48922);const _u=p=>({"btn-sm":p}),Bc=p=>[p];function QD(p,C){1&p&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.move"),""))}function ZD(p,C){1&p&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.make-private"),""))}function qD(p,C){if(1&p&&(e.j41(0,"a",13),e.nI1(1,"translate"),e.nrm(2,"i",14),e.DNE(3,ZD,3,3,"span",3),e.k0s()),2&p){const a=e.XpG();e.Y8G("ngClass",e.eq3(6,_u,a.small))("routerLink",e.eq3(8,Bc,a.getPrivateRoute()))("title",e.bMT(1,4,"admin.search.item.make-private")),e.R7$(3),e.Y8G("ngIf",!a.small)}}function eT(p,C){1&p&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.make-public"),""))}function tT(p,C){if(1&p&&(e.j41(0,"a",15),e.nI1(1,"translate"),e.nrm(2,"i",16),e.DNE(3,eT,3,3,"span",3),e.k0s()),2&p){const a=e.XpG();e.Y8G("ngClass",e.eq3(6,_u,a.small))("routerLink",e.eq3(8,Bc,a.getPublicRoute()))("title",e.bMT(1,4,"admin.search.item.make-public")),e.R7$(3),e.Y8G("ngIf",!a.small)}}function N0(p,C){1&p&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.edit"),""))}function F0(p,C){1&p&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.withdraw"),""))}function nT(p,C){if(1&p&&(e.j41(0,"a",17),e.nI1(1,"translate"),e.nrm(2,"i",18),e.DNE(3,F0,3,3,"span",3),e.k0s()),2&p){const a=e.XpG();e.Y8G("ngClass",e.eq3(6,_u,a.small))("routerLink",e.eq3(8,Bc,a.getWithdrawRoute()))("title",e.bMT(1,4,"admin.search.item.withdraw")),e.R7$(3),e.Y8G("ngIf",!a.small)}}function sT(p,C){1&p&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.reinstate"),""))}function B0(p,C){if(1&p&&(e.j41(0,"a",19),e.nI1(1,"translate"),e.nrm(2,"i",20),e.DNE(3,sT,3,3,"span",3),e.k0s()),2&p){const a=e.XpG();e.Y8G("ngClass",e.eq3(6,_u,a.small))("routerLink",e.eq3(8,Bc,a.getReinstateRoute()))("title",e.bMT(1,4,"admin.search.item.reinstate")),e.R7$(3),e.Y8G("ngIf",!a.small)}}function Mf(p,C){1&p&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.delete"),""))}let If=(()=>{class p{getEditRoute(){return(0,an.$r)(this.item)}getMoveRoute(){return new il.t(this.getEditRoute(),gu.Bw).toString()}getDeleteRoute(){return new il.t(this.getEditRoute(),gu.Jr).toString()}getWithdrawRoute(){return new il.t(this.getEditRoute(),gu.kH).toString()}getReinstateRoute(){return new il.t(this.getEditRoute(),gu.Pg).toString()}getPrivateRoute(){return new il.t(this.getEditRoute(),gu.$2).toString()}getPublicRoute(){return new il.t(this.getEditRoute(),gu.RS).toString()}static#e=this.\u0275fac=function(h){return new(h||p)};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-admin-search-result-actions-element"]],inputs:{item:"item",small:"small"},standalone:!0,features:[e.aNF],decls:17,vars:34,consts:[[1,"space-children-mr","my-1"],[1,"btn","btn-secondary","move-link",3,"ngClass","routerLink","title"],[1,"fa","fa-arrow-circle-right"],["class","d-none d-sm-inline",4,"ngIf"],["class","btn btn-secondary private-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-secondary public-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-secondary","edit-link",3,"ngClass","routerLink","title"],[1,"fa","fa-edit"],["class","btn btn-warning t withdraw-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-warning reinstate-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-danger","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],[1,"d-none","d-sm-inline"],[1,"btn","btn-secondary","private-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye-slash"],[1,"btn","btn-secondary","public-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye"],[1,"btn","btn-warning","t","withdraw-link",3,"ngClass","routerLink","title"],[1,"fa","fa-ban"],[1,"btn","btn-warning","reinstate-link",3,"ngClass","routerLink","title"],[1,"fa","fa-undo"]],template:function(h,N){1&h&&(e.j41(0,"div",0)(1,"a",1),e.nI1(2,"translate"),e.nrm(3,"i",2),e.DNE(4,QD,3,3,"span",3),e.k0s(),e.DNE(5,qD,4,10,"a",4)(6,tT,4,10,"a",5),e.j41(7,"a",6),e.nI1(8,"translate"),e.nrm(9,"i",7),e.DNE(10,N0,3,3,"span",3),e.k0s(),e.DNE(11,nT,4,10,"a",8)(12,B0,4,10,"a",9),e.j41(13,"a",10),e.nI1(14,"translate"),e.nrm(15,"i",11),e.DNE(16,Mf,3,3,"span",3),e.k0s()()),2&h&&(e.R7$(),e.Y8G("ngClass",e.eq3(22,_u,N.small))("routerLink",e.eq3(24,Bc,N.getMoveRoute()))("title",e.bMT(2,16,"admin.search.item.move")),e.R7$(3),e.Y8G("ngIf",!N.small),e.R7$(),e.Y8G("ngIf",N.item&&N.item.isDiscoverable),e.R7$(),e.Y8G("ngIf",N.item&&!N.item.isDiscoverable),e.R7$(),e.Y8G("ngClass",e.eq3(26,_u,N.small))("routerLink",e.eq3(28,Bc,N.getEditRoute()))("title",e.bMT(8,18,"admin.search.item.edit")),e.R7$(3),e.Y8G("ngIf",!N.small),e.R7$(),e.Y8G("ngIf",N.item&&!N.item.isWithdrawn),e.R7$(),e.Y8G("ngIf",N.item&&N.item.isWithdrawn),e.R7$(),e.Y8G("ngClass",e.eq3(30,_u,N.small))("routerLink",e.eq3(32,Bc,N.getDeleteRoute()))("title",e.bMT(14,20,"admin.search.item.delete")),e.R7$(3),e.Y8G("ngIf",!N.small))},dependencies:[d.YU,y.Wk,d.bT,G.h,G.D9]})}return p})();const Kg=["badges"],iT=["buttons"],Td=["*"];function U0(p,C){}let Sf=class vP extends Fc{constructor(C,a,h,N){super(C,a,h),this.dsoNameService=C,this.truncatableService=a,this.bitstreamDataService=h,this.themeService=N}ngOnInit(){super.ngOnInit();const C=this.getComponent(),a=this.dynamicComponentLoaderDirective.viewContainerRef;a.clear(),this.compRef=a.createComponent(C,{index:0,injector:void 0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",this.object),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID)}ngOnDestroy(){(0,V.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(){return(0,Wn.Zx)(this.object.getRenderTypes(),Vn.n.GridElement,void 0,this.themeService.getThemeName())}static#e=this.\u0275fac=function(a){return new(a||vP)(e.rXU(Os.f),e.rXU(Oi.F),e.rXU(Lo.BitstreamDataService),e.rXU(J.Fs))};static#t=this.\u0275cmp=e.VBU({type:vP,selectors:[["ds-item-admin-search-result-grid-element"]],viewQuery:function(a,h){if(1&a&&(e.GBs(mu.z,7),e.GBs(Kg,7),e.GBs(iT,7)),2&a){let N;e.mGM(N=e.lsd())&&(h.dynamicComponentLoaderDirective=N.first),e.mGM(N=e.lsd())&&(h.badges=N.first),e.mGM(N=e.lsd())&&(h.buttons=N.first)}},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Td,decls:8,vars:2,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"d-flex","justify-content-between",3,"item","small"]],template:function(a,h){1&a&&(e.NAR(),e.DNE(0,U0,0,0,"ng-template",2),e.j41(1,"div",null,0),e.SdG(3),e.k0s(),e.j41(4,"ul",3,1)(6,"li",4),e.nrm(7,"ds-item-admin-search-result-actions-element",5),e.k0s()()),2&a&&(e.R7$(7),e.Y8G("item",h.dso)("small",!0))},dependencies:[If,mu.z]})};Sf=(0,Ue.Cg)([(0,Wn.VK)(ea.H,Vn.n.GridElement,Ws.o.AdminSearch),(0,Ue.Sn)("design:paramtypes",[Os.f,Oi.F,Lo.BitstreamDataService,J.Fs])],Sf);var vo=t(505);const Hg=p=>[p];function rT(p,C){1&p&&e.nrm(0,"div",7)}function oT(p,C){if(1&p&&e.nrm(0,"ds-badges",8),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function aT(p,C){if(1&p&&e.nrm(0,"a",9),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,Hg,"/collections/"+a.dso.id))("innerHTML",a.dsoTitle,e.npT),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null)}}function lT(p,C){if(1&p&&e.nrm(0,"span",10),2&p){const a=e.XpG();e.Y8G("innerHTML",a.dsoTitle,e.npT)}}function j0(p,C){if(1&p&&e.nrm(0,"div",11),2&p){const a=e.XpG();e.Y8G("innerHTML",a.firstMetadataValue("dc.description.abstract"),e.npT)}}let Pf=class vb extends vo.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(vb)))(h||vb)}})();static#t=this.\u0275cmp=e.VBU({type:vb,selectors:[["ds-collection-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:6,consts:[[1,"row"],["class","offset-3 offset-md-2 ",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],["class","text-muted abstract-text",3,"innerHTML",4,"ngIf"],[1,"offset-3","offset-md-2"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"div",0),e.DNE(1,rT,1,0,"div",1),e.j41(2,"div",2),e.DNE(3,oT,1,2,"ds-badges",3)(4,aT,1,6,"a",4)(5,lT,1,1,"span",5)(6,j0,1,1,"div",6),e.k0s()()),2&a&&(e.R7$(),e.Y8G("ngIf",h.showThumbnails),e.R7$(),e.Y8G("ngClass",h.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",h.showLabel),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.dso.shortDescription))},dependencies:[d.bT,d.YU,Oo.F,y.Wk],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};Pf=(0,Ue.Cg)([(0,Wn.VK)(Nc.A,Vn.n.ListElement)],Pf);const QP=p=>[p];let Uc=class yb extends vo.P{ngOnInit(){super.ngOnInit(),this.editPath=(0,tu._E)(this.dso.uuid)}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(yb)))(h||yb)}})();static#t=this.\u0275cmp=e.VBU({type:yb,selectors:[["ds-collection-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],["data-test","coll-link",1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(a,h){1&a&&(e.nrm(0,"ds-collection-search-result-list-element",0),e.j41(1,"div")(2,"a",1),e.nrm(3,"i",2),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&a&&(e.Y8G("object",h.object)("index",h.index)("linkType",h.linkType)("listID",h.listID),e.R7$(2),e.Y8G("routerLink",e.eq3(8,QP,h.editPath)),e.R7$(2),e.SpI(" ",e.bMT(5,6,"admin.search.collection.edit")," "))},dependencies:[Pf,y.Wk,G.h,G.D9]})};Uc=(0,Ue.Cg)([(0,Wn.VK)(Nc.A,Vn.n.ListElement,Ws.o.AdminSearch)],Uc);const cT=p=>[p];function dT(p,C){1&p&&e.nrm(0,"div",7)}function uT(p,C){if(1&p&&e.nrm(0,"ds-badges",8),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function k0(p,C){if(1&p&&e.nrm(0,"a",9),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,cT,"/communities/"+a.dso.id))("innerHTML",a.dsoTitle,e.npT),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null)}}function hT(p,C){if(1&p&&e.nrm(0,"span",10),2&p){const a=e.XpG();e.Y8G("innerHTML",a.dsoTitle,e.npT)}}function pT(p,C){if(1&p&&e.nrm(0,"div",11),2&p){const a=e.XpG();e.Y8G("innerHTML",a.firstMetadataValue("dc.description.abstract"),e.npT)}}let xh=class Eb extends vo.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Eb)))(h||Eb)}})();static#t=this.\u0275cmp=e.VBU({type:Eb,selectors:[["ds-community-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:6,consts:[[1,"row"],["class","offset-3 offset-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],["class","text-muted abstract-text",3,"innerHTML",4,"ngIf"],[1,"offset-3","offset-md-2"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"div",0),e.DNE(1,dT,1,0,"div",1),e.j41(2,"div",2),e.DNE(3,uT,1,2,"ds-badges",3)(4,k0,1,6,"a",4)(5,hT,1,1,"span",5)(6,pT,1,1,"div",6),e.k0s()()),2&a&&(e.R7$(),e.Y8G("ngIf",h.showThumbnails),e.R7$(),e.Y8G("ngClass",h.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",h.showLabel),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.dso.shortDescription))},dependencies:[d.bT,d.YU,Oo.F,y.Wk],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};xh=(0,Ue.Cg)([(0,Wn.VK)(pu.L,Vn.n.ListElement)],xh);const fT=p=>[p];let Rf=class Cb extends vo.P{ngOnInit(){super.ngOnInit(),this.editPath=(0,nc.pk)(this.dso.uuid)}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Cb)))(h||Cb)}})();static#t=this.\u0275cmp=e.VBU({type:Cb,selectors:[["ds-community-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],[1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(a,h){1&a&&(e.nrm(0,"ds-community-search-result-list-element",0),e.j41(1,"div")(2,"a",1),e.nrm(3,"i",2),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&a&&(e.Y8G("object",h.object)("index",h.index)("linkType",h.linkType)("listID",h.listID),e.R7$(2),e.Y8G("routerLink",e.eq3(8,fT,h.editPath)),e.R7$(2),e.SpI(" ",e.bMT(5,6,"admin.search.community.edit")," "))},dependencies:[xh,y.Wk,G.h,G.D9]})};Rf=(0,Ue.Cg)([(0,Wn.VK)(pu.L,Vn.n.ListElement,Ws.o.AdminSearch)],Rf);var Od=t(47637);let vu=class bb extends vo.P{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(bb)))(h||bb)}})();static#t=this.\u0275cmp=e.VBU({type:bb,selectors:[["ds-item-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:7,consts:[[3,"object","viewMode","index","linkType","listID"],[3,"item","small"]],template:function(a,h){1&a&&e.nrm(0,"ds-listable-object-component-loader",0)(1,"ds-item-admin-search-result-actions-element",1),2&a&&(e.Y8G("object",h.object)("viewMode",h.viewModes.ListElement)("index",h.index)("linkType",h.linkType)("listID",h.listID),e.R7$(),e.Y8G("item",h.dso)("small",!1))},dependencies:[Od.v,If]})};vu=(0,Ue.Cg)([(0,Wn.VK)(ea.H,Vn.n.ListElement,Ws.o.AdminSearch)],vu);var Nh=t(55817);const mT=p=>({"btn-sm":p}),Af=p=>[p];function ZP(p,C){1&p&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.delete"),""))}function qP(p,C){1&p&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.send-back"),""))}let V0=(()=>{class p{getDeleteRoute(){return(0,Nh.BD)(this.wfi.id)}getSendBackRoute(){return(0,Nh.Rk)(this.wfi.id)}static#e=this.\u0275fac=function(h){return new(h||p)};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-workflow-item-admin-workflow-actions-element"]],inputs:{wfi:"wfi",small:"small"},standalone:!0,features:[e.aNF],decls:9,vars:20,consts:[[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],["class","d-none d-sm-inline",4,"ngIf"],[1,"btn","btn-light","my-1","send-back-link",3,"ngClass","routerLink","title"],[1,"fa","fa-hand-point-left"],[1,"d-none","d-sm-inline"]],template:function(h,N){1&h&&(e.j41(0,"div",0)(1,"a",1),e.nI1(2,"translate"),e.nrm(3,"i",2),e.DNE(4,ZP,3,3,"span",3),e.k0s(),e.j41(5,"a",4),e.nI1(6,"translate"),e.nrm(7,"i",5),e.DNE(8,qP,3,3,"span",3),e.k0s()()),2&h&&(e.R7$(),e.Y8G("ngClass",e.eq3(12,mT,N.small))("routerLink",e.eq3(14,Af,N.getDeleteRoute()))("title",e.bMT(2,8,"admin.workflow.item.delete")),e.R7$(3),e.Y8G("ngIf",!N.small),e.R7$(),e.Y8G("ngClass",e.eq3(16,mT,N.small))("routerLink",e.eq3(18,Af,N.getSendBackRoute()))("title",e.bMT(6,10,"admin.workflow.item.send-back")),e.R7$(3),e.Y8G("ngIf",!N.small))},dependencies:[d.YU,y.Wk,d.bT,G.h,G.D9]})}return p})();var Fh=t(54827),eR=t(88698),ta=t(64868),wf=t(53841),Bh=t(99736),Lf=t(48877);let Ol=class{static#e=this.type=Lf.T};(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Ol.prototype,"id",void 0),(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],Ol.prototype,"type",void 0),(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",String)],Ol.prototype,"ordertype",void 0),(0,Ue.Cg)([(0,qt.deserializeAs)(new wf.a("supervision-order"),"id"),(0,Ue.Sn)("design:type",String)],Ol.prototype,"uuid",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],Ol.prototype,"_links",void 0),(0,Ue.Cg)([(0,ni.nf)(Dh.U),(0,Ue.Sn)("design:type",Lr.c)],Ol.prototype,"item",void 0),(0,Ue.Cg)([(0,ni.nf)(Bh.U),(0,Ue.Sn)("design:type",Lr.c)],Ol.prototype,"group",void 0),Ol=(0,Ue.Cg)([ni.gV],Ol);var G0=t(5653),$0=t(96606);function W0(p,C){1&p&&(e.nrm(0,"ds-error",20),e.nI1(1,"translate")),2&p&&e.FS9("message",e.bMT(1,1,"supervision-group-selector.select.type-of-order.error"))}function K0(p,C){1&p&&(e.nrm(0,"ds-error",20),e.nI1(1,"translate")),2&p&&e.FS9("message",e.bMT(1,1,"supervision-group-selector.select.group.error"))}let yu=(()=>{class p{constructor(a,h,N,ie,Ae){this.dsoNameService=a,this.activeModal=h,this.supervisionOrderDataService=N,this.notificationsService=ie,this.translateService=Ae,this.isSubmitted=!1,this.create=new e.bkB}close(){this.activeModal.close()}updateGroupObjectSelected(a){this.selectedGroup=a}save(){if(this.isSubmitted=!0,this.selectedOrderType&&this.selectedGroup){const a=new Ol;a.ordertype=this.selectedOrderType,this.supervisionOrderDataService.create(a,this.itemUUID,this.selectedGroup.uuid,this.selectedOrderType).pipe((0,ws.qD)()).subscribe(h=>{h.state===ta.zE.Success?(this.notificationsService.success(this.translateService.get("supervision-group-selector.notification.create.success.title",{name:this.dsoNameService.getName(this.selectedGroup)})),this.create.emit(h.payload),this.close()):this.notificationsService.error(this.translateService.get("supervision-group-selector.notification.create.failure.title"),422===h.statusCode?this.translateService.get("supervision-group-selector.notification.create.already-existing"):h.errorMessage)})}}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(Os.f),e.rXU(X.Lw),e.rXU(Fh.SupervisionOrderDataService),e.rXU(go.I),e.rXU(G.c$))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-supervision-group-selector"]],outputs:{create:"create"},standalone:!0,features:[e.aNF],decls:40,vars:29,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"control-group","col-sm-12"],["for","supervisionOrder"],["name","supervisionOrder","id","supervisionOrder",1,"form-control",3,"ngModelChange","ngModel"],["value","EDITOR"],["value","OBSERVER"],[3,"message",4,"ngIf"],["for","supervisionGroup"],[1,"mb-3"],["id","supervisionGroup","type","text","disabled","",1,"form-control",3,"value"],[3,"select","isListOfEPerson"],[1,"modal-footer"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"btn","btn-primary","save",3,"click"],[1,"fas","fa-save"],[3,"message"]],template:function(h,N){1&h&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return N.close()}),e.j41(5,"span",2),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",3)(8,"div",4)(9,"div",5)(10,"label",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"select",7),e.nI1(14,"translate"),e.mxI("ngModelChange",function(Ae){return e.DH7(N.selectedOrderType,Ae)||(N.selectedOrderType=Ae),Ae}),e.j41(15,"option",8),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"option",9),e.EFF(19),e.nI1(20,"translate"),e.k0s()(),e.DNE(21,W0,2,3,"ds-error",10),e.k0s()(),e.j41(22,"div",4)(23,"div",5)(24,"label",11),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.qex(27,12),e.nrm(28,"input",13),e.DNE(29,K0,2,3,"ds-error",10),e.bVm(),e.j41(30,"ds-eperson-group-list",14),e.bIt("select",function(Ae){return N.updateGroupObjectSelected(Ae)}),e.k0s()()(),e.j41(31,"div",15)(32,"button",16),e.bIt("click",function(){return N.close()}),e.nrm(33,"i",17),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"button",18),e.bIt("click",function(){return N.save()}),e.nrm(37,"i",19),e.EFF(38),e.nI1(39,"translate"),e.k0s()()()()),2&h&&(e.R7$(2),e.SpI("",e.bMT(3,13,"supervision-group-selector.header")," "),e.R7$(9),e.JRh(e.bMT(12,15,"supervision-group-selector.select.type-of-order.label")),e.R7$(2),e.R50("ngModel",N.selectedOrderType),e.BMQ("aria-label",e.bMT(14,17,"supervision-group-selector.select.type-of-order.label")),e.R7$(3),e.JRh(e.bMT(17,19,"supervision-group-selector.select.type-of-order.option.editor")),e.R7$(3),e.JRh(e.bMT(20,21,"supervision-group-selector.select.type-of-order.option.observer")),e.R7$(2),e.Y8G("ngIf",N.isSubmitted&&(!N.selectedOrderType||""===N.selectedOrderType)),e.R7$(4),e.JRh(e.bMT(26,23,"supervision-group-selector.select.group.label")),e.R7$(3),e.Y8G("value",N.selectedGroup?N.dsoNameService.getName(N.selectedGroup):""),e.R7$(),e.Y8G("ngIf",N.isSubmitted&&!N.selectedGroup),e.R7$(),e.Y8G("isListOfEPerson",!1),e.R7$(4),e.SpI(" ",e.bMT(35,25,"supervision-group-selector.button.cancel")," "),e.R7$(4),e.SpI(" ",e.bMT(39,27,"supervision-group-selector.button.save")," "))},dependencies:[wn.YN,wn.xH,wn.y7,wn.wz,wn.BC,wn.vS,d.bT,$0.A,G0.T,G.h,G.D9]})}return p})();var Ba=t(81215),yo=t(63524);function H0(p,C){if(1&p){const a=e.RV6();e.j41(0,"a",4),e.nI1(1,"translate"),e.bIt("click",function(N){const ie=e.eBV(a).$implicit,Ae=e.XpG(3);return N.preventDefault(),N.stopImmediatePropagation(),e.Njj(Ae.deleteSupervisionOrder(ie))}),e.EFF(2),e.j41(3,"span",5),e.EFF(4," \xd7"),e.k0s()()}if(2&p){const a=C.$implicit,h=e.XpG(3);e.Y8G("ngbTooltip",e.bMT(1,2,"workflow-item.search.result.list.element.supervised.remove-tooltip")),e.R7$(2),e.SpI(" ",h.dsoNameService.getName(a.group)," ")}}function tR(p,C){if(1&p&&(e.j41(0,"div",2)(1,"div")(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div"),e.DNE(6,H0,5,4,"a",3),e.k0s()()),2&p){const a=e.XpG().ngVar;e.R7$(3),e.SpI("",e.bMT(4,2,"workflow-item.search.result.list.element.supervised-by")," "),e.R7$(3),e.Y8G("ngForOf",a)}}function gT(p,C){if(1&p&&(e.qex(0),e.DNE(1,tR,7,4,"div",1),e.bVm()),2&p){const a=C.ngVar;e.R7$(),e.Y8G("ngIf",(null==a?null:a.length)>0)}}let nR=(()=>{class p{constructor(a){this.dsoNameService=a,this.supervisionOrderList=[],this.supervisionOrderEntries$=new _.t([]),this.delete=new e.bkB}ngOnChanges(a){a&&a.supervisionOrderList&&this.getSupervisionOrderEntries(a.supervisionOrderList.currentValue).subscribe(h=>{this.supervisionOrderEntries$.next(h)})}getSupervisionOrderEntries(a){return(0,yh.H)(a).pipe((0,zs.Z)(h=>h.group.pipe((0,ws.qD)(),(0,Ht.T)(N=>N.hasSucceeded?{supervisionOrder:h,group:N.payload}:null))),(0,Ba.T)((h,N)=>(0,V.hj)(N)?[...h,N]:h,[]))}deleteSupervisionOrder(a){this.delete.emit(a)}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(Os.f))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-supervision-order-status"]],inputs:{supervisionOrderList:"supervisionOrderList"},outputs:{delete:"delete"},standalone:!0,features:[e.OA$,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["class","item-list-supervision",4,"ngIf"],[1,"item-list-supervision"],["class","badge badge-primary mr-1 mb-1 text-capitalize mw-100 text-truncate","data-test","soBadge","aria-label","Close",3,"ngbTooltip","click",4,"ngFor","ngForOf"],["data-test","soBadge","aria-label","Close",1,"badge","badge-primary","mr-1","mb-1","text-capitalize","mw-100","text-truncate",3,"click","ngbTooltip"],["aria-hidden","true"]],template:function(h,N){1&h&&(e.DNE(0,gT,2,1,"ng-container",0),e.nI1(1,"async")),2&h&&e.Y8G("ngVar",e.bMT(1,1,N.supervisionOrderEntries$))},dependencies:[yo.r,d.bT,d.pM,X.n8,X.md,d.Jj,G.h,G.D9],styles:[".badge[_ngcontent-%COMP%]{cursor:pointer}"]})}return p})();const z0=p=>({"btn-sm":p}),Y0=p=>[p];function X0(p,C){1&p&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.delete"),""))}function sR(p,C){1&p&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.policies"),""))}function xf(p,C){1&p&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.supervision"),""))}let Uh=(()=>{class p{constructor(a,h,N,ie,Ae){this.dsoNameService=a,this.modalService=h,this.notificationsService=N,this.supervisionOrderDataService=ie,this.translateService=Ae,this.supervisionOrderList=[],this.messagePrefix="workflow-item.search.result",this.create=new e.bkB,this.delete=new e.bkB}ngOnInit(){const a=this.wsi.item.pipe((0,ws.ak)());a.pipe((0,Ht.T)(h=>this.getPoliciesRoute(h))).subscribe(h=>{this.resourcePoliciesPageRoute=h}),a.subscribe(h=>{this.item=h})}getDeleteRoute(){return(0,Nh.BY)(this.wsi.id)}getPoliciesRoute(a){return["/items",a.uuid,"edit",gu.K4]}deleteSupervisionOrder(a){const h=this.modalService.open(pd.M);h.componentInstance.name=this.dsoNameService.getName(a.group),h.componentInstance.headerLabel=this.messagePrefix+".delete-supervision.modal.header",h.componentInstance.infoLabel=this.messagePrefix+".delete-supervision.modal.info",h.componentInstance.cancelLabel=this.messagePrefix+".delete-supervision.modal.cancel",h.componentInstance.confirmLabel=this.messagePrefix+".delete-supervision.modal.confirm",h.componentInstance.brandColor="danger",h.componentInstance.confirmIcon="fas fa-trash",h.componentInstance.response.pipe((0,T.s)(1),(0,Es.n)(N=>{if(N&&(0,V.a4)(a.supervisionOrder.id))return this.supervisionOrderDataService.delete(a.supervisionOrder.id).pipe((0,T.s)(1),(0,ii.M)(ie=>{ie?this.notificationsService.success(null,this.translateService.get(this.messagePrefix+".notification.deleted.success",{name:this.dsoNameService.getName(a.group)})):this.notificationsService.error(null,this.translateService.get(this.messagePrefix+".notification.deleted.failure",{name:this.dsoNameService.getName(a.group)}))}))})).subscribe(N=>{N&&this.delete.emit(this.convertReloadedObject())})}openSupervisionModal(){const a=this.modalService.open(yu,{size:"lg",backdrop:"static"});a.componentInstance.itemUUID=this.item.uuid,a.componentInstance.create.subscribe(()=>{this.create.emit(this.convertReloadedObject())})}convertReloadedObject(){const a=(0,eR.L)(this.wsi.constructor);return Object.assign(new a,this.wsi,{indexableObject:this.wsi})}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(Os.f),e.rXU(X.Bq),e.rXU(go.I),e.rXU(Fh.SupervisionOrderDataService),e.rXU(G.c$))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-workspace-item-admin-workflow-actions-element"]],inputs:{wsi:"wsi",small:"small",supervisionOrderList:"supervisionOrderList"},outputs:{create:"create",delete:"delete"},standalone:!0,features:[e.aNF],decls:15,vars:26,consts:[[1,"my-1"],[3,"delete","supervisionOrderList"],[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],["class","d-none d-sm-inline",4,"ngIf"],[1,"btn","btn-light","my-1","policies-link",3,"ngClass","routerLink","title"],[1,"fas","fa-edit"],[1,"btn","btn-light","my-1","supervision-group-selector",3,"click","ngClass","title"],[1,"fas","fa-users-cog"],[1,"d-none","d-sm-inline"]],template:function(h,N){1&h&&(e.j41(0,"div",0)(1,"ds-supervision-order-status",1),e.bIt("delete",function(Ae){return N.deleteSupervisionOrder(Ae)}),e.k0s()(),e.j41(2,"div",2)(3,"a",3),e.nI1(4,"translate"),e.nrm(5,"i",4),e.DNE(6,X0,3,3,"span",5),e.k0s(),e.j41(7,"a",6),e.nI1(8,"translate"),e.nrm(9,"i",7),e.DNE(10,sR,3,3,"span",5),e.k0s(),e.j41(11,"a",8),e.nI1(12,"translate"),e.bIt("click",function(){return N.openSupervisionModal()}),e.nrm(13,"i",9),e.DNE(14,xf,3,3,"span",5),e.k0s()()),2&h&&(e.R7$(),e.Y8G("supervisionOrderList",N.supervisionOrderList),e.R7$(2),e.Y8G("ngClass",e.eq3(18,z0,N.small))("routerLink",e.eq3(20,Y0,N.getDeleteRoute()))("title",e.bMT(4,12,"admin.workflow.item.delete")),e.R7$(3),e.Y8G("ngIf",!N.small),e.R7$(),e.Y8G("ngClass",e.eq3(22,z0,N.small))("routerLink",N.resourcePoliciesPageRoute)("title",e.bMT(8,14,"admin.workflow.item.policies")),e.R7$(3),e.Y8G("ngIf",!N.small),e.R7$(),e.Y8G("ngClass",e.eq3(24,z0,N.small))("title",e.bMT(12,16,"admin.workflow.item.supervision")),e.R7$(3),e.Y8G("ngIf",!N.small))},dependencies:[nR,d.YU,y.Wk,d.bT,G.h,G.D9]})}return p})();var Eu=t(17116);const _T=["badges"],Cu=["buttons"];function zg(p,C){}function J0(p,C){if(1&p&&e.nrm(0,"ds-workflow-item-admin-workflow-actions-element",9),2&p){const a=e.XpG();e.Y8G("wfi",a.dso)("small",!0)}}let bu=class yP extends Fc{constructor(C,a,h,N,ie){super(C,h,ie),this.dsoNameService=C,this.linkService=a,this.truncatableService=h,this.themeService=N,this.bitstreamDataService=ie}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Ns.s)("item")),this.item$=this.dso.item.pipe((0,ws.v7)(),(0,ws.Bo)()),this.item$.pipe((0,T.s)(1)).subscribe(C=>{const a=this.getComponent(C),h=this.dynamicComponentLoaderDirective.viewContainerRef;h.clear(),this.compRef=h.createComponent(a,{index:0,injector:void 0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",C),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID),this.compRef.changeDetectorRef.detectChanges()})}ngOnDestroy(){(0,V.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(C){return(0,Wn.Zx)(C.getRenderTypes(),Vn.n.GridElement,void 0,this.themeService.getThemeName())}static#e=this.\u0275fac=function(a){return new(a||yP)(e.rXU(Os.f),e.rXU(vi._),e.rXU(Oi.F),e.rXU(J.Fs),e.rXU(Lo.BitstreamDataService))};static#t=this.\u0275cmp=e.VBU({type:yP,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(a,h){if(1&a&&(e.GBs(mu.z,7),e.GBs(_T,7),e.GBs(Cu,7)),2&a){let N;e.mGM(N=e.lsd())&&(h.dynamicComponentLoaderDirective=N.first),e.mGM(N=e.lsd())&&(h.badges=N.first),e.mGM(N=e.lsd())&&(h.buttons=N.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:4,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"position-absolute","ml-1"],[1,"workflow-badge"],[1,"badge","badge-info"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["class","d-flex justify-content-between",3,"wfi","small",4,"ngIf"],[1,"d-flex","justify-content-between",3,"wfi","small"]],template:function(a,h){1&a&&(e.DNE(0,zg,0,0,"ng-template",2),e.j41(1,"div",3,0)(3,"div",4)(4,"span",5),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ul",6,1)(9,"li",7),e.DNE(10,J0,1,2,"ds-workflow-item-admin-workflow-actions-element",8),e.k0s()()),2&a&&(e.R7$(5),e.JRh(e.bMT(6,2,"admin.workflow.item.workflow")),e.R7$(5),e.Y8G("ngIf",h.object))},dependencies:[d.bT,V0,G.h,G.D9,mu.z]})};bu=(0,Ue.Cg)([(0,Wn.VK)(Eu.q,Vn.n.GridElement,Ws.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[Os.f,vi._,Oi.F,J.Fs,Lo.BitstreamDataService])],bu);var Md=t(45820);const vT=["badges"],yT=["buttons"];function Q0(p,C){}let Nf=class EP extends Fc{constructor(C,a,h,N,ie,Ae){super(C,h,ie),this.dsoNameService=C,this.linkService=a,this.truncatableService=h,this.themeService=N,this.bitstreamDataService=ie,this.supervisionOrderDataService=Ae,this.supervisionOrder$=new _.t([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Ns.s)("item")),this.item$=this.dso.item.pipe((0,ws.v7)(),(0,ws.Bo)()),this.item$.pipe((0,T.s)(1)).subscribe(C=>{const a=this.getComponent(C),h=this.dynamicComponentLoaderDirective.viewContainerRef;h.clear(),this.compRef=h.createComponent(a,{index:0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",C),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID),this.compRef.changeDetectorRef.detectChanges()}),this.item$.pipe((0,T.s)(1),(0,ii.M)(C=>this.itemId=C.id),(0,zs.Z)(C=>this.retrieveSupervisorOrders(C.id))).subscribe(C=>{this.supervisionOrder$.next(C)})}ngOnDestroy(){(0,V.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(C){return(0,Wn.Zx)(C.getRenderTypes(),Vn.n.GridElement,void 0,this.themeService.getThemeName())}retrieveSupervisorOrders(C){return this.supervisionOrderDataService.searchByItem(C,!1,!0,(0,Ns.s)("group")).pipe((0,ws.qD)(),(0,Ht.T)(a=>a.hasSucceeded&&!a.hasNoContent?a.payload.page:[]))}reloadObject(C){this.reloadedObject.emit(C)}static#e=this.\u0275fac=function(a){return new(a||EP)(e.rXU(Os.f),e.rXU(vi._),e.rXU(Oi.F),e.rXU(J.Fs),e.rXU(Lo.BitstreamDataService),e.rXU(Fh.SupervisionOrderDataService))};static#t=this.\u0275cmp=e.VBU({type:EP,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(a,h){if(1&a&&(e.GBs(mu.z,7),e.GBs(vT,7),e.GBs(yT,7)),2&a){let N;e.mGM(N=e.lsd())&&(h.dynamicComponentLoaderDirective=N.first),e.mGM(N=e.lsd())&&(h.badges=N.first),e.mGM(N=e.lsd())&&(h.buttons=N.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:12,vars:8,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"position-absolute","ml-1"],[1,"workflow-badge"],[1,"badge","badge-info"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[3,"create","delete","small","supervisionOrderList","wsi"]],template:function(a,h){if(1&a){const N=e.RV6();e.DNE(0,Q0,0,0,"ng-template",2),e.j41(1,"div",3,0)(3,"div",4)(4,"span",5),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ul",6,1)(9,"li",7)(10,"ds-workspace-item-admin-workflow-actions-element",8),e.nI1(11,"async"),e.bIt("create",function(Ae){return e.eBV(N),e.Njj(h.reloadObject(Ae))})("delete",function(Ae){return e.eBV(N),e.Njj(h.reloadObject(Ae))}),e.k0s()()()}2&a&&(e.R7$(5),e.JRh(e.bMT(6,4,"admin.workflow.item.workspace")),e.R7$(5),e.Y8G("small",!0)("supervisionOrderList",e.bMT(11,6,h.supervisionOrder$))("wsi",h.dso))},dependencies:[Uh,d.Jj,G.h,G.D9,mu.z]})};function ET(p,C){if(1&p&&(e.nrm(0,"ds-listable-object-component-loader",4),e.nI1(1,"async")),2&p){const a=e.XpG();e.Y8G("object",e.bMT(1,5,a.item$))("viewMode",a.viewModes.ListElement)("index",a.index)("linkType",a.linkType)("listID",a.listID)}}Nf=(0,Ue.Cg)([(0,Wn.VK)(Md.I,Vn.n.GridElement,Ws.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[Os.f,vi._,Oi.F,J.Fs,Lo.BitstreamDataService,Fh.SupervisionOrderDataService])],Nf);let Ff=class CP extends vo.P{constructor(C,a,h,N){super(a,h,N),this.linkService=C,this.truncatableService=a,this.dsoNameService=h,this.appConfig=N,this.item$=new _.t(void 0)}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Ns.s)("item")),this.dso.item.pipe((0,ws.qD)(),(0,ws.Bo)()).subscribe(C=>{this.item$.next(C)})}static#e=this.\u0275fac=function(a){return new(a||CP)(e.rXU(vi._),e.rXU(Oi.F),e.rXU(Os.f),e.rXU(qi.vQ))};static#t=this.\u0275cmp=e.VBU({type:CP,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:8,consts:[[1,"workflow-badge"],[1,"badge","badge-info"],[3,"object","viewMode","index","linkType","listID",4,"ngIf"],[3,"wfi","small"],[3,"object","viewMode","index","linkType","listID"]],template:function(a,h){1&a&&(e.j41(0,"div",0)(1,"span",1),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,ET,2,7,"ds-listable-object-component-loader",2),e.nI1(5,"async"),e.nrm(6,"ds-workflow-item-admin-workflow-actions-element",3)),2&a&&(e.R7$(2),e.JRh(e.bMT(3,4,"admin.workflow.item.workflow")),e.R7$(2),e.Y8G("ngIf",e.bMT(5,6,h.item$)),e.R7$(2),e.Y8G("wfi",h.dso)("small",!1))},dependencies:[d.bT,Od.v,V0,d.Jj,G.h,G.D9]})};function Z0(p,C){if(1&p&&(e.nrm(0,"ds-listable-object-component-loader",3),e.nI1(1,"async")),2&p){const a=e.XpG();e.Y8G("object",e.bMT(1,5,a.item$))("viewMode",a.viewModes.ListElement)("index",a.index)("linkType",a.linkType)("listID",a.listID)}}Ff=(0,Ue.Cg)([(0,Wn.VK)(Eu.q,Vn.n.ListElement,Ws.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[vi._,Oi.F,Os.f,Object])],Ff);let jc=class bP extends vo.P{constructor(C,a,h,N,ie){super(N,a,ie),this.linkService=C,this.dsoNameService=a,this.supervisionOrderDataService=h,this.truncatableService=N,this.appConfig=ie,this.item$=new _.t(void 0),this.supervisionOrder$=new _.t([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Ns.s)("item")),this.dso.item.pipe((0,ws.qD)(),(0,ws.Bo)()).pipe((0,T.s)(1),(0,ii.M)(a=>{this.item$.next(a),this.itemId=a.id}),(0,zs.Z)(a=>this.retrieveSupervisorOrders(a.id))).subscribe(a=>{this.supervisionOrder$.next(a)})}retrieveSupervisorOrders(C){return this.supervisionOrderDataService.searchByItem(C,!1,!0,(0,Ns.s)("group")).pipe((0,ws.qD)(),(0,Ht.T)(a=>a.hasSucceeded&&!a.hasNoContent?a.payload.page:[]))}reloadObject(C){this.reloadedObject.emit(C)}static#e=this.\u0275fac=function(a){return new(a||bP)(e.rXU(vi._),e.rXU(Os.f),e.rXU(Fh.SupervisionOrderDataService),e.rXU(Oi.F),e.rXU(qi.vQ))};static#t=this.\u0275cmp=e.VBU({type:bP,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:11,consts:[[1,"badge","badge-info"],[3,"object","viewMode","index","linkType","listID",4,"ngIf"],[3,"create","delete","small","supervisionOrderList","wsi"],[3,"object","viewMode","index","linkType","listID"]],template:function(a,h){1&a&&(e.j41(0,"span",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,Z0,2,7,"ds-listable-object-component-loader",1),e.nI1(4,"async"),e.j41(5,"ds-workspace-item-admin-workflow-actions-element",2),e.nI1(6,"async"),e.bIt("create",function(ie){return h.reloadObject(ie)})("delete",function(ie){return h.reloadObject(ie)}),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,5,"admin.workflow.item.workspace")),e.R7$(2),e.Y8G("ngIf",e.bMT(4,7,h.item$)),e.R7$(2),e.Y8G("small",!1)("supervisionOrderList",e.bMT(6,9,h.supervisionOrder$))("wsi",h.dso))},dependencies:[d.bT,Od.v,Uh,d.Jj,G.h,G.D9]})};jc=(0,Ue.Cg)([(0,Wn.VK)(Md.I,Vn.n.ListElement,Ws.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[vi._,Os.f,Fh.SupervisionOrderDataService,Oi.F,Object])],jc);const Ml=(0,de.hZ)("focusShadow",[(0,de.wk)("focus",(0,de.iF)({boxShadow:"rgba(119, 119, 119, 0.6) 0px 0px 6px"})),(0,de.wk)("blur",(0,de.iF)({boxShadow:"none"})),(0,de.kY)("focus <=> blur",[(0,de.i0)("250ms")])]);(0,de.hZ)("focusBackground",[(0,de.wk)("focus",(0,de.iF)({backgroundColor:"rgba(119, 119, 119, 0.1)"})),(0,de.wk)("blur",(0,de.iF)({backgroundColor:"transparent"})),(0,de.kY)("focus <=> blur",[(0,de.i0)("250ms")])]);var Ua=t(37362),$r=t(93527);const Bf=["*","*"],Yg=()=>["dc.contributor.author","dc.creator","dc.contributor.*"],kc=p=>[p];function ey(p,C){if(1&p&&(e.j41(0,"a",11),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,kc,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==a.dso?null:a.dso.thumbnail))("limitWidth",!1)}}function ty(p,C){if(1&p&&(e.j41(0,"span",13)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==a.dso?null:a.dso.thumbnail))("limitWidth",!1)}}function CT(p,C){if(1&p&&e.nrm(0,"ds-badges",14),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)("showAccessStatus",!0)}}function iR(p,C){if(1&p&&(e.j41(0,"span",19),e.EFF(1),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.JRh(a.firstMetadataValue("dc.date.issued"))}}function Uf(p,C){if(1&p&&(e.j41(0,"span"),e.EFF(1,", "),e.nrm(2,"span",20),e.k0s()),2&p){const a=C.$implicit;e.R7$(2),e.Y8G("innerHTML",a,e.npT)}}function bT(p,C){if(1&p&&(e.j41(0,"ds-truncatable-part",15)(1,"p",16),e.DNE(2,iR,2,1,"span",17)(3,Uf,3,1,"span",18),e.k0s()()),2&p){const a=e.XpG();e.Y8G("id",a.dso.id)("minLines",1),e.R7$(2),e.Y8G("ngIf",a.dso.hasMetadata("dc.date.issued")),e.R7$(),e.Y8G("ngForOf",a.allMetadataValues(e.lJ4(4,Yg)))}}function ny(p,C){if(1&p&&(e.j41(0,"ds-truncatable-part",15)(1,"p",21),e.nrm(2,"span",20),e.k0s()()),2&p){const a=e.XpG();e.Y8G("id",a.dso.id)("minLines",3),e.R7$(2),e.Y8G("innerHTML",a.firstMetadataValue("dc.description.abstract"),e.npT)}}function sy(p,C){if(1&p&&(e.j41(0,"div",22)(1,"a",23),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,kc,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let rl=class DP extends Fc{constructor(C,a,h){super(C,a,h),this.dsoNameService=C,this.truncatableService=a,this.bitstreamDataService=h}ngOnInit(){super.ngOnInit(),this.itemPageRoute=(0,an._o)(this.dso),this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso)}static#e=this.\u0275fac=function(a){return new(a||DP)(e.rXU(Os.f),e.rXU(Oi.F),e.rXU(Lo.BitstreamDataService))};static#t=this.\u0275cmp=e.VBU({type:DP,selectors:[["ds-item-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Bf,decls:15,vars:14,consts:[[1,"card"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context","showAccessStatus",4,"ngIf"],[3,"id"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[3,"id","minLines",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context","showAccessStatus"],[3,"id","minLines"],[1,"item-authors","card-text","text-muted"],["class","item-date",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"item-date"],[3,"innerHTML"],[1,"item-abstract","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(a,h){1&a&&(e.NAR(Bf),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"div",1),e.SdG(3),e.k0s(),e.DNE(4,ey,5,12,"a",2)(5,ty,4,4,"span",3),e.j41(6,"div",4),e.DNE(7,CT,1,3,"ds-badges",5),e.j41(8,"ds-truncatable",6)(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,bT,4,5,"ds-truncatable-part",9)(12,ny,3,3,"ds-truncatable-part",9),e.k0s(),e.DNE(13,sy,4,8,"div",10),e.k0s(),e.SdG(14,1),e.k0s()),2&a&&(e.Y8G("@focusShadow",e.bMT(1,11,h.isCollapsed$)?"blur":"focus"),e.R7$(4),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(2),e.Y8G("ngIf",h.showLabel),e.R7$(),e.Y8G("id",h.dso.id),e.R7$(),e.Y8G("id",h.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.dso.hasMetadata(e.lJ4(13,Yg))),e.R7$(),e.Y8G("ngIf",h.dso.hasMetadata("dc.description.abstract")),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None))},dependencies:[d.bT,y.Wk,Vi.T,Oo.F,Ua.d,$r.W,d.pM,d.Jj,G.h,G.D9],data:{animation:[Ml]}})};rl=(0,Ue.Cg)([(0,Wn.VK)("PublicationSearchResult",Vn.n.GridElement),(0,Wn.VK)(ea.H,Vn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Os.f,Oi.F,Lo.BitstreamDataService])],rl);const jf=["*","*"],Xg=p=>[p];function kf(p,C){if(1&p&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Xg,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==a.dso?null:a.dso.thumbnail))("limitWidth",!1)}}function jh(p,C){if(1&p&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==a.dso?null:a.dso.thumbnail))("limitWidth",!1)}}function iy(p,C){if(1&p&&e.nrm(0,"ds-badges",15),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function Jg(p,C){if(1&p&&(e.j41(0,"span",20)(1,"span"),e.EFF(2,", "),e.k0s(),e.EFF(3),e.k0s()),2&p){const a=e.XpG(2);e.R7$(3),e.SpI(" ",a.firstMetadataValue("creativework.publisher")," ")}}function kh(p,C){if(1&p&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17)(2,"span",18),e.EFF(3),e.k0s(),e.DNE(4,Jg,4,1,"span",19),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("id",a.dso.id)("minLines",1),e.R7$(2),e.JRh(a.firstMetadataValue("creativework.editor")),e.R7$(),e.Y8G("ngIf",a.dso.hasMetadata("creativework.publisher"))}}function ry(p,C){if(1&p&&(e.j41(0,"p",21)(1,"ds-truncatable-part",17),e.nrm(2,"span",22),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("id",a.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",a.firstMetadataValue("dc.description"),e.npT)}}function Qg(p,C){if(1&p&&(e.j41(0,"div",23)(1,"a",24),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Xg,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Vc=class Db extends rl{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Db)))(h||Db)}})();static#t=this.\u0275cmp=e.VBU({type:Db,selectors:[["ds-journal-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:jf,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-publisher card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-publisher","card-text","text-muted"],[3,"id","minLines"],[1,"item-editor"],["class","item-publisher",4,"ngIf"],[1,"item-publisher"],[1,"item-description","card-text"],[3,"innerHTML"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(a,h){1&a&&(e.NAR(jf),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,kf,5,12,"a",3)(6,jh,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,iy,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,kh,5,4,"p",9)(12,ry,3,3,"p",10)(13,Qg,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&a&&(e.Y8G("@focusShadow",e.bMT(1,11,h.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",h.dso.id),e.R7$(3),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(2),e.Y8G("ngIf",h.showLabel),e.R7$(),e.Y8G("id",h.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.dso.hasMetadata("creativework.editor")),e.R7$(),e.Y8G("ngIf",h.dso.hasMetadata("dc.description")),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None))},dependencies:[Ua.d,d.bT,y.Wk,Vi.T,Oo.F,$r.W,d.Jj,G.h,G.D9],data:{animation:[Ml]}})};Vc=(0,Ue.Cg)([(0,Wn.VK)("JournalSearchResult",Vn.n.GridElement)],Vc);const DT=()=>({}),oy=(p,C)=>({indexableObject:p,hitHighlights:C});let Vf=class Tb extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Tb)))(h||Tb)}})();static#t=this.\u0275cmp=e.VBU({type:Tb,selectors:[["ds-journal-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(a,h){1&a&&e.nrm(0,"ds-journal-search-result-grid-element",0),2&a&&e.Y8G("showLabel",h.showLabel)("object",e.l_i(4,oy,h.object,e.lJ4(3,DT)))("linkType",h.linkType)},dependencies:[Vc]})};Vf=(0,Ue.Cg)([(0,Wn.VK)("Journal",Vn.n.GridElement)],Vf);const ay=["*","*"],ly=p=>[p];function cy(p,C){if(1&p&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,ly,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==a.dso?null:a.dso.thumbnail))("limitWidth",!1)}}function dy(p,C){if(1&p&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==a.dso?null:a.dso.thumbnail))("limitWidth",!1)}}function fi(p,C){if(1&p&&e.nrm(0,"ds-badges",15),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function uy(p,C){if(1&p&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("id",a.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",a.firstMetadataValue("creativework.datePublished"),e.npT)}}function hy(p,C){if(1&p&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("id",a.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",a.firstMetadataValue("journal.title"),e.npT)}}function Du(p,C){if(1&p&&(e.j41(0,"div",20)(1,"a",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,ly,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Tu=class Ob extends rl{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Ob)))(h||Ob)}})();static#t=this.\u0275cmp=e.VBU({type:Ob,selectors:[["ds-journal-issue-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:ay,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-journal-title card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-journal-title","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(a,h){1&a&&(e.NAR(ay),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,cy,5,12,"a",3)(6,dy,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,fi,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,uy,3,3,"p",9)(12,hy,3,3,"p",10)(13,Du,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&a&&(e.Y8G("@focusShadow",e.bMT(1,11,h.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",h.dso.id),e.R7$(3),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(2),e.Y8G("ngIf",h.showLabel),e.R7$(),e.Y8G("id",h.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.dso.hasMetadata("creativework.datePublished")),e.R7$(),e.Y8G("ngIf",h.dso.hasMetadata("journal.title")),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None))},dependencies:[Ua.d,d.bT,y.Wk,Vi.T,Oo.F,$r.W,d.Jj,G.h,G.D9],data:{animation:[Ml]}})};Tu=(0,Ue.Cg)([(0,Wn.VK)("JournalIssueSearchResult",Vn.n.GridElement)],Tu);const py=()=>({}),TT=(p,C)=>({indexableObject:p,hitHighlights:C});let Id=class Mb extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Mb)))(h||Mb)}})();static#t=this.\u0275cmp=e.VBU({type:Mb,selectors:[["ds-journal-issue-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(a,h){1&a&&e.nrm(0,"ds-journal-issue-search-result-grid-element",0),2&a&&e.Y8G("showLabel",h.showLabel)("object",e.l_i(4,TT,h.object,e.lJ4(3,py)))("linkType",h.linkType)},dependencies:[Tu]})};Id=(0,Ue.Cg)([(0,Wn.VK)("JournalIssue",Vn.n.GridElement)],Id);const Sd=["*","*"],Gf=p=>[p];function Vh(p,C){if(1&p&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Gf,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==a.dso?null:a.dso.thumbnail))("limitWidth",!1)}}function fy(p,C){if(1&p&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==a.dso?null:a.dso.thumbnail))("limitWidth",!1)}}function Zg(p,C){if(1&p&&e.nrm(0,"ds-badges",15),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function qg(p,C){if(1&p&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("id",a.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",a.firstMetadataValue("creativework.datePublished"),e.npT)}}function e_(p,C){if(1&p&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("id",a.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",a.firstMetadataValue("dc.description"),e.npT)}}function my(p,C){if(1&p&&(e.j41(0,"div",20)(1,"a",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Gf,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Pd=class Ib extends rl{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Ib)))(h||Ib)}})();static#t=this.\u0275cmp=e.VBU({type:Ib,selectors:[["ds-journal-volume-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Sd,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-description","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(a,h){1&a&&(e.NAR(Sd),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,Vh,5,12,"a",3)(6,fy,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,Zg,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,qg,3,3,"p",9)(12,e_,3,3,"p",10)(13,my,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&a&&(e.Y8G("@focusShadow",e.bMT(1,11,h.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",h.dso.id),e.R7$(3),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(2),e.Y8G("ngIf",h.showLabel),e.R7$(),e.Y8G("id",h.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.dso.hasMetadata("creativework.datePublished")),e.R7$(),e.Y8G("ngIf",h.dso.hasMetadata("dc.description")),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None))},dependencies:[Ua.d,d.bT,y.Wk,Vi.T,Oo.F,$r.W,d.Jj,G.h,G.D9],data:{animation:[Ml]}})};Pd=(0,Ue.Cg)([(0,Wn.VK)("JournalVolumeSearchResult",Vn.n.GridElement)],Pd);const OT=()=>({}),MT=(p,C)=>({indexableObject:p,hitHighlights:C});let $f=class Sb extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Sb)))(h||Sb)}})();static#t=this.\u0275cmp=e.VBU({type:Sb,selectors:[["ds-journal-volume-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(a,h){1&a&&e.nrm(0,"ds-journal-volume-search-result-grid-element",0),2&a&&e.Y8G("showLabel",h.showLabel)("object",e.l_i(4,MT,h.object,e.lJ4(3,OT)))("linkType",h.linkType)},dependencies:[Pd]})};$f=(0,Ue.Cg)([(0,Wn.VK)("JournalVolume",Vn.n.GridElement)],$f);var mc=t(70876);const gy=()=>["creativeworkseries.issn"],_y=p=>[p];function IT(p,C){if(1&p&&(e.j41(0,"a",13),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG(2);e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,_y,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==a.dso?null:a.dso.thumbnail))("limitWidth",!0)}}function ST(p,C){if(1&p&&(e.j41(0,"span",15),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==a.dso?null:a.dso.thumbnail))("limitWidth",!0)}}function vy(p,C){if(1&p&&(e.j41(0,"div",10),e.DNE(1,IT,3,9,"a",11)(2,ST,3,4,"span",12),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.linkType!==a.linkTypes.None),e.R7$(),e.Y8G("ngIf",a.linkType===a.linkTypes.None)}}function yy(p,C){if(1&p&&e.nrm(0,"ds-badges",16),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function PT(p,C){if(1&p&&e.nrm(0,"a",17),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,_y,a.itemPageRoute))("innerHTML",a.dsoTitle,e.npT),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null)}}function RT(p,C){if(1&p&&e.nrm(0,"span",18),2&p){const a=e.XpG();e.Y8G("innerHTML",a.dsoTitle,e.npT)}}function ba(p,C){if(1&p&&(e.j41(0,"span")(1,"span",21),e.nrm(2,"span",21),e.k0s()()),2&p){const a=C.$implicit;e.R7$(),e.Y8G("innerHTML",a,e.npT),e.R7$(),e.Y8G("innerHTML",a,e.npT)}}function AT(p,C){if(1&p&&(e.j41(0,"span",19),e.DNE(1,ba,3,2,"span",20),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.allMetadataValues(e.lJ4(1,gy)))}}let Gh=class Pb extends mc.k{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Pb)))(h||Pb)}})();static#t=this.\u0275cmp=e.VBU({type:Pb,selectors:[["ds-journal-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journals",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journals"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"div",0),e.DNE(1,vy,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,yy,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,PT,1,6,"a",5)(6,RT,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,AT,2,2,"span",9),e.k0s()()()()()),2&a&&(e.R7$(),e.Y8G("ngIf",h.showThumbnails),e.R7$(),e.Y8G("ngClass",h.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",h.showLabel),e.R7$(),e.Y8G("id",h.dso.id),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(2),e.Y8G("id",h.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",h.dso.allMetadata(e.lJ4(9,gy)).length>0))},dependencies:[d.bT,y.Wk,Vi.T,d.YU,Oo.F,Ua.d,$r.W,d.pM,d.Jj]})};Gh=(0,Ue.Cg)([(0,Wn.VK)("JournalSearchResult",Vn.n.ListElement)],Gh);const rR=()=>({}),t_=(p,C)=>({indexableObject:p,hitHighlights:C});let $h=class Rb extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Rb)))(h||Rb)}})();static#t=this.\u0275cmp=e.VBU({type:Rb,selectors:[["ds-journal-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(a,h){1&a&&e.nrm(0,"ds-journal-search-result-list-element",0),2&a&&e.Y8G("showLabel",h.showLabel)("object",e.l_i(4,t_,h.object,e.lJ4(3,rR)))("linkType",h.linkType)},dependencies:[Gh]})};$h=(0,Ue.Cg)([(0,Wn.VK)("Journal",Vn.n.ListElement)],$h);const Ey=()=>["publicationvolume.volumeNumber"],Cy=p=>[p],by=()=>["publicationissue.issueNumber"];function Dy(p,C){if(1&p&&(e.j41(0,"a",13),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG(2);e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,Cy,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==a.dso?null:a.dso.thumbnail))("limitWidth",!0)}}function wT(p,C){if(1&p&&(e.j41(0,"span",15),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==a.dso?null:a.dso.thumbnail))("limitWidth",!0)}}function LT(p,C){if(1&p&&(e.j41(0,"div",10),e.DNE(1,Dy,3,9,"a",11)(2,wT,3,4,"span",12),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.linkType!==a.linkTypes.None),e.R7$(),e.Y8G("ngIf",a.linkType===a.linkTypes.None)}}function n_(p,C){if(1&p&&e.nrm(0,"ds-badges",16),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function xT(p,C){if(1&p&&e.nrm(0,"a",17),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,Cy,a.itemPageRoute))("innerHTML",a.dsoTitle,e.npT),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null)}}function NT(p,C){if(1&p&&e.nrm(0,"span",18),2&p){const a=e.XpG();e.Y8G("innerHTML",a.dsoTitle,e.npT)}}function FT(p,C){if(1&p&&(e.j41(0,"span")(1,"span",22),e.nrm(2,"span",22),e.k0s()()),2&p){const a=C.$implicit;e.R7$(),e.Y8G("innerHTML",a,e.npT),e.R7$(),e.Y8G("innerHTML",a,e.npT)}}function BT(p,C){if(1&p&&(e.j41(0,"span")(1,"span"),e.EFF(2," - "),e.k0s(),e.j41(3,"span",22),e.nrm(4,"span",22),e.k0s()()),2&p){const a=C.$implicit;e.R7$(3),e.Y8G("innerHTML",a,e.npT),e.R7$(),e.Y8G("innerHTML",a,e.npT)}}function UT(p,C){if(1&p&&(e.j41(0,"span",23),e.DNE(1,BT,5,2,"span",20),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("ngForOf",a.allMetadataValues(e.lJ4(1,by)))}}function Kl(p,C){if(1&p&&(e.j41(0,"span",19),e.DNE(1,FT,3,2,"span",20)(2,UT,2,2,"span",21),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.allMetadataValues(e.lJ4(2,Ey))),e.R7$(),e.Y8G("ngIf",a.dso.allMetadata(e.lJ4(3,by)).length>0)}}let Rd=class Ab extends mc.k{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Ab)))(h||Ab)}})();static#t=this.\u0275cmp=e.VBU({type:Ab,selectors:[["ds-journal-issue-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-issues",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-issues"],[4,"ngFor","ngForOf"],["class","item-list-journal-issue-numbers",4,"ngIf"],[3,"innerHTML"],[1,"item-list-journal-issue-numbers"]],template:function(a,h){1&a&&(e.j41(0,"div",0),e.DNE(1,LT,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,n_,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,xT,1,6,"a",5)(6,NT,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,Kl,3,4,"span",9),e.k0s()()()()()),2&a&&(e.R7$(),e.Y8G("ngIf",h.showThumbnails),e.R7$(),e.Y8G("ngClass",h.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",h.showLabel),e.R7$(),e.Y8G("id",h.dso.id),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(2),e.Y8G("id",h.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",h.dso.allMetadata(e.lJ4(9,Ey)).length>0))},dependencies:[d.bT,y.Wk,Vi.T,d.YU,Oo.F,Ua.d,$r.W,d.pM,d.Jj]})};Rd=(0,Ue.Cg)([(0,Wn.VK)("JournalIssueSearchResult",Vn.n.ListElement)],Rd);const jT=()=>({}),kT=(p,C)=>({indexableObject:p,hitHighlights:C});let Wh=class wb extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(wb)))(h||wb)}})();static#t=this.\u0275cmp=e.VBU({type:wb,selectors:[["ds-journal-issue-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(a,h){1&a&&e.nrm(0,"ds-journal-issue-search-result-list-element",0),2&a&&e.Y8G("showLabel",h.showLabel)("object",e.l_i(4,kT,h.object,e.lJ4(3,jT)))("linkType",h.linkType)},dependencies:[Rd]})};Wh=(0,Ue.Cg)([(0,Wn.VK)("JournalIssue",Vn.n.ListElement)],Wh);const s_=()=>["journal.title"],Kh=()=>["publicationvolume.volumeNumber"],Wf=p=>[p];function oR(p,C){if(1&p&&(e.j41(0,"a",14),e.nrm(1,"ds-thumbnail",15),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG(2);e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,Wf,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==a.dso?null:a.dso.thumbnail))("limitWidth",!0)}}function Ty(p,C){if(1&p&&(e.j41(0,"span",16),e.nrm(1,"ds-thumbnail",15),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==a.dso?null:a.dso.thumbnail))("limitWidth",!0)}}function Oy(p,C){if(1&p&&(e.j41(0,"div",11),e.DNE(1,oR,3,9,"a",12)(2,Ty,3,4,"span",13),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.linkType!==a.linkTypes.None),e.R7$(),e.Y8G("ngIf",a.linkType===a.linkTypes.None)}}function My(p,C){if(1&p&&e.nrm(0,"ds-badges",17),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function Kf(p,C){if(1&p&&e.nrm(0,"a",18),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,Wf,a.itemPageRoute))("innerHTML",a.dsoTitle,e.npT),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null)}}function i_(p,C){if(1&p&&e.nrm(0,"span",19),2&p){const a=e.XpG();e.Y8G("innerHTML",a.dsoTitle,e.npT)}}function gc(p,C){if(1&p&&(e.j41(0,"span")(1,"span",22),e.nrm(2,"span",22),e.k0s()()),2&p){const a=C.$implicit;e.R7$(),e.Y8G("innerHTML",a,e.npT),e.R7$(),e.Y8G("innerHTML",a,e.npT)}}function VT(p,C){if(1&p&&(e.j41(0,"span",20),e.DNE(1,gc,3,2,"span",21),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.allMetadataValues(e.lJ4(1,s_)))}}function GT(p,C){if(1&p&&(e.j41(0,"span")(1,"span"),e.EFF(2," ("),e.k0s(),e.j41(3,"span",22),e.nrm(4,"span",22),e.k0s(),e.j41(5,"span"),e.EFF(6,")"),e.k0s()()),2&p){const a=C.$implicit;e.R7$(3),e.Y8G("innerHTML",a,e.npT),e.R7$(),e.Y8G("innerHTML",a,e.npT)}}function r_(p,C){if(1&p&&(e.j41(0,"span",23),e.DNE(1,GT,7,2,"span",21),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.allMetadataValues(e.lJ4(1,Kh)))}}let Hh=class Lb extends mc.k{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Lb)))(h||Lb)}})();static#t=this.\u0275cmp=e.VBU({type:Lb,selectors:[["ds-journal-volume-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:12,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-volumes",4,"ngIf"],["class","item-list-journal-volume-identifiers",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-volumes"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"item-list-journal-volume-identifiers"]],template:function(a,h){1&a&&(e.j41(0,"div",0),e.DNE(1,Oy,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,My,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,Kf,1,6,"a",5)(6,i_,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,VT,2,2,"span",9)(10,r_,2,2,"span",10),e.k0s()()()()()),2&a&&(e.R7$(),e.Y8G("ngIf",h.showThumbnails),e.R7$(),e.Y8G("ngClass",h.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",h.showLabel),e.R7$(),e.Y8G("id",h.dso.id),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(2),e.Y8G("id",h.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",h.dso.allMetadata(e.lJ4(10,s_)).length>0),e.R7$(),e.Y8G("ngIf",h.dso.allMetadata(e.lJ4(11,Kh)).length>0))},dependencies:[d.bT,y.Wk,Vi.T,d.YU,Oo.F,Ua.d,$r.W,d.pM,d.Jj]})};Hh=(0,Ue.Cg)([(0,Wn.VK)("JournalVolumeSearchResult",Vn.n.ListElement)],Hh);const zh=()=>({}),Iy=(p,C)=>({indexableObject:p,hitHighlights:C});let _c=class xb extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(xb)))(h||xb)}})();static#t=this.\u0275cmp=e.VBU({type:xb,selectors:[["ds-journal-volume-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(a,h){1&a&&e.nrm(0,"ds-journal-volume-search-result-list-element",0),2&a&&e.Y8G("showLabel",h.showLabel)("object",e.l_i(4,Iy,h.object,e.lJ4(3,zh)))("linkType",h.linkType)},dependencies:[Hh]})};function Yh(p,C){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const a=e.XpG();e.Y8G("maxLines",1)("background",a.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",a.isCurrent()?"text-light":"text-secondary")("innerHTML",a.description,e.npT)}}_c=(0,Ue.Cg)([(0,Wn.VK)("JournalVolume",Vn.n.ListElement)],_c);let Il=(()=>{class p extends vo.P{constructor(a,h,N){super(a,N,null),this.truncatableService=a,this.linkService=h,this.dsoNameService=N}ngOnInit(){super.ngOnInit(),(0,V.a4)(this.dso)&&(this.parentTitle$=this.getParentTitle(),this.description=this.getDescription())}isCurrent(){return this.context===Ws.o.SideBarSearchModalCurrent}getParentTitle(){return this.getParent().pipe((0,Ht.T)(a=>(0,V.a4)(a)&&(0,V.a4)(a.payload)?this.dsoNameService.getName(a.payload):void 0))}getParent(){if("function"==typeof this.dso.getParentLinkKey){const a=this.dso.getParentLinkKey();return this.linkService.resolveLink(this.dso,(0,Ns.s)(a))[a].pipe((0,xn.I)(h=>h.hasSucceeded||204===h.statusCode))}return(0,Rs.of)(void 0)}getDescription(){const a=this.firstMetadataValue("dc.publisher"),h=this.firstMetadataValue("dc.date.issued"),N=this.allMetadataValues(["dc.contributor.author","dc.creator","dc.contributor.*"]);let ie="";return((0,V.hj)(a)||(0,V.hj)(h))&&(ie+="("),(0,V.hj)(a)&&(ie+=a),(0,V.hj)(h)&&((0,V.hj)(a)&&(ie+=", "),ie+=h),(0,V.hj)(ie)&&(ie+=") "),(0,V.hj)(N)&&N.forEach((Ae,Le)=>{ie+=Ae,Le<N.length-1&&(ie+="; ")}),this.undefinedIfEmpty(ie)}undefinedIfEmpty(a){return this.defaultIfEmpty(a,void 0)}defaultIfEmpty(a,h){return(0,V.hj)(a)?a:h}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(Oi.F),e.rXU(vi._),e.rXU(Os.f))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(h,N){1&h&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,Yh,2,5,"ds-truncatable-part",3)),2&h&&(e.Y8G("maxLines",1)("background",N.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",N.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,N.parentTitle$&&N.parentTitle$)?e.bMT(3,13,N.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",N.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",N.isCurrent()?"text-light":"text-primary")("innerHTML",N.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",N.description))},dependencies:[$r.W,d.YU,d.bT,d.Jj,G.h,G.D9],encapsulation:2})}return p})();function Xh(p,C){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const a=e.XpG();e.Y8G("maxLines",1)("background",a.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",a.isCurrent()?"text-light":"text-secondary")("innerHTML",a.description,e.npT)}}let Jh=class Nb extends Il{getDescription(){const C=this.allMetadataValues(["creativeworkseries.issn"]);let a="";return(0,V.hj)(C)&&(a+=C.join(", ")),this.undefinedIfEmpty(a)}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Nb)))(h||Nb)}})();static#t=this.\u0275cmp=e.VBU({type:Nb,selectors:[["ds-journal-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,Xh,2,5,"ds-truncatable-part",3)),2&a&&(e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,h.parentTitle$&&h.parentTitle$)?e.bMT(3,13,h.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-primary")("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.description))},dependencies:[$r.W,d.YU,d.bT,d.Jj,G.h,G.D9],encapsulation:2})};function Sy(p,C){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const a=e.XpG();e.Y8G("maxLines",1)("background",a.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",a.isCurrent()?"text-light":"text-secondary")("innerHTML",a.description,e.npT)}}Jh=(0,Ue.Cg)([(0,Wn.VK)("JournalSearchResult",Vn.n.ListElement,Ws.o.SideBarSearchModal),(0,Wn.VK)("JournalSearchResult",Vn.n.ListElement,Ws.o.SideBarSearchModalCurrent)],Jh);let Hf=class Fb extends Il{getDescription(){const C=this.allMetadataValues(["publicationvolume.volumeNumber"]),a=this.allMetadataValues(["publicationissue.issueNumber"]);let h="";return(0,V.hj)(C)&&(h+=C.join(", ")),(0,V.hj)(h)&&(0,V.hj)(a)&&(h+=" - "),(0,V.hj)(a)&&(h+=a.join(", ")),this.undefinedIfEmpty(h)}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Fb)))(h||Fb)}})();static#t=this.\u0275cmp=e.VBU({type:Fb,selectors:[["ds-journal-issue-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,Sy,2,5,"ds-truncatable-part",3)),2&a&&(e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,h.parentTitle$&&h.parentTitle$)?e.bMT(3,13,h.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-primary")("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.description))},dependencies:[$r.W,d.YU,d.bT,d.Jj,G.h,G.D9],encapsulation:2})};function $T(p,C){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const a=e.XpG();e.Y8G("maxLines",1)("background",a.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",a.isCurrent()?"text-light":"text-secondary")("innerHTML",a.description,e.npT)}}Hf=(0,Ue.Cg)([(0,Wn.VK)("JournalIssueSearchResult",Vn.n.ListElement,Ws.o.SideBarSearchModal),(0,Wn.VK)("JournalIssueSearchResult",Vn.n.ListElement,Ws.o.SideBarSearchModalCurrent)],Hf);let zf=class Bb extends Il{getDescription(){const C=this.allMetadataValues(["journal.title"]),a=this.allMetadataValues(["publicationvolume.volumeNumber"]);let h="";return(0,V.hj)(C)&&(h+=C.join(", ")),(0,V.hj)(a)&&((0,V.hj)(h)&&(h+=" "),h+=a.map(N=>`(${N})`).join(" ")),this.undefinedIfEmpty(h)}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Bb)))(h||Bb)}})();static#t=this.\u0275cmp=e.VBU({type:Bb,selectors:[["ds-journal-volume-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,$T,2,5,"ds-truncatable-part",3)),2&a&&(e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,h.parentTitle$&&h.parentTitle$)?e.bMT(3,13,h.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-primary")("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.description))},dependencies:[$r.W,d.YU,d.bT,d.Jj,G.h,G.D9],encapsulation:2})};zf=(0,Ue.Cg)([(0,Wn.VK)("JournalVolumeSearchResult",Vn.n.ListElement,Ws.o.SideBarSearchModal),(0,Wn.VK)("JournalVolumeSearchResult",Vn.n.ListElement,Ws.o.SideBarSearchModalCurrent)],zf);var WT=t(25172),Da=t(8460),Yf=t(5424);class o_{}const aR=function(){var p=(0,g.A)(function*(){return(yield t.e(2610).then(t.t.bind(t,32610,23))).default});return function(){return p.apply(this,arguments)}}(),KT=new e.nKC("Lazily loaded MarkdownIt",{providedIn:"root",factory:aR});let HT=(()=>{class p{constructor(a,h,N,ie){this.markdownIt=a,this.sanitizer=h,this.mathService=N,this.elementRef=ie,this.alive$=new eo.B,this.el=ie.nativeElement}ngOnInit(){this.render(this.dsMarkdown)}render(a,h=!1){var N=this;return(0,g.A)(function*(){if((0,V.Im)(a)||!R.c.markdown.enabled&&!h)return a;const Ae=new(yield N.markdownIt)({html:!0,linkify:!0}),Le=N.sanitizer.sanitize(e.WPN.HTML,Ae.render(a));N.el.innerHTML=Le,R.c.markdown.mathjax&&N.renderMathjax()})()}renderMathjax(){this.mathService.ready().pipe((0,Gn.p)(a=>a),(0,T.s)(1),(0,Yf.Q)(this.alive$)).subscribe(()=>{this.mathService.render(this.el)})}ngOnDestroy(){this.alive$.next(!1)}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(KT),e.rXU(f.up),e.rXU(o_),e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:p,selectors:[["","dsMarkdown",""]],inputs:{dsMarkdown:"dsMarkdown"},standalone:!0})}return p})();const Py=(p,C)=>({value:p,img:C}),zT=p=>["/browse",p];function YT(p,C){1&p&&e.eu8(0)}function Ry(p,C){if(1&p&&e.nrm(0,"span",9),2&p){const a=e.XpG(2);e.Y8G("innerHTML",a.separator,e.npT)}}function a_(p,C){if(1&p&&(e.qex(0),e.DNE(1,YT,1,0,"ng-container",7)(2,Ry,1,1,"span",8),e.bVm()),2&p){const a=C.$implicit,h=C.last,N=e.XpG(),ie=e.sdS(4),Ae=e.sdS(6),Le=e.sdS(8),_t=e.sdS(10),Ft=e.sdS(12);e.R7$(),e.Y8G("ngTemplateOutlet",N.renderMarkdown?ie:N.hasLink(a)?N.hasValue(N.img)?Le:Ae:N.hasBrowseDefinition()?Ft:_t)("ngTemplateOutletContext",e.l_i(3,Py,a.value,N.img)),e.R7$(),e.Y8G("ngIf",!h)}}function Ay(p,C){1&p&&e.nrm(0,"span",10),2&p&&e.Y8G("dsMarkdown",C.value)}function Qh(p,C){if(1&p&&(e.j41(0,"a",11),e.EFF(1),e.k0s()),2&p){const a=C.value;e.Y8G("href",a,e.B4B),e.R7$(),e.SpI(" ",a," ")}}function Zh(p,C){if(1&p&&(e.j41(0,"a",12),e.nrm(1,"img",13),e.nI1(2,"translate"),e.EFF(3),e.k0s()),2&p){const a=C.img,h=C.value;e.Y8G("href",h,e.B4B),e.R7$(),e.xc7("height","var("+a.heightVar+", --ds-item-page-img-field-default-inline-height)"),e.Y8G("alt",e.bMT(2,6,a.alt))("src",a.URI,e.B4B),e.R7$(2),e.SpI(" ",h," ")}}function qh(p,C){if(1&p&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&p){const a=C.value;e.R7$(),e.JRh(a)}}function XT(p,C){if(1&p&&(e.j41(0,"a",15),e.EFF(1),e.k0s()),2&p){const a=C.value,h=e.XpG();e.Y8G("routerLink",e.eq3(3,zT,h.browseDefinition.id))("queryParams",h.getQueryParams(a)),e.R7$(),e.JRh(a)}}let Ou=(()=>{class p{constructor(a){this.appConfig=a,this.enableMarkdown=!1,this.hasValue=V.a4}ngOnChanges(a){this.renderMarkdown=!!this.appConfig.markdown.enabled&&this.enableMarkdown}hasBrowseDefinition(){return(0,V.a4)(this.browseDefinition)}hasLink(a){return!!(0,V.a4)(this.urlRegex)&&new RegExp(this.urlRegex).test(a.value)}getQueryParams(a){const h={startsWith:a};return this.browseDefinition.getRenderType()===WT.o.value?{value:a}:h}hasInternalLink(a){return a.startsWith(R.c.ui.baseUrl)}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(qi.vQ))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-metadata-values"]],inputs:{mdValues:"mdValues",separator:"separator",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex",browseDefinition:"browseDefinition",img:"img"},standalone:!0,features:[e.OA$,e.aNF],decls:13,vars:4,consts:[["markdown",""],["link",""],["linkImg",""],["simple",""],["browselink",""],[3,"label"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","separator",3,"innerHTML",4,"ngIf"],[1,"separator",3,"innerHTML"],[1,"dont-break-out",3,"dsMarkdown"],["target","_blank",1,"dont-break-out","ds-simple-metadata-link",3,"href"],["target","_blank",1,"link-anchor","dont-break-out","ds-simple-metadata-link",3,"href"],[1,"link-logo",3,"alt","src"],[1,"dont-break-out","preserve-line-breaks"],[1,"dont-break-out","preserve-line-breaks","ds-browse-link",3,"routerLink","queryParams"]],template:function(h,N){1&h&&(e.j41(0,"ds-metadata-field-wrapper",5),e.nI1(1,"translate"),e.DNE(2,a_,3,6,"ng-container",6),e.k0s(),e.DNE(3,Ay,1,1,"ng-template",null,0,e.C5r)(5,Qh,2,2,"ng-template",null,1,e.C5r)(7,Zh,4,8,"ng-template",null,2,e.C5r)(9,qh,2,1,"ng-template",null,3,e.C5r)(11,XT,2,5,"ng-template",null,4,e.C5r)),2&h&&(e.Y8G("label",e.bMT(1,2,N.label)),e.R7$(2),e.Y8G("ngForOf",N.mdValues))},dependencies:[Da.Q,d.pM,d.T3,d.bT,y.Wk,G.h,G.D9,HT]})}return p})();var JT=t(58183);let Gc=(()=>{class p{constructor(a){this.browseDefinitionDataService=a,this.enableMarkdown=!1,this.separator="<br/>"}get browseDefinition(){return this.browseDefinitionDataService.findByFields(this.fields).pipe((0,ws.qD)(),(0,Ht.T)(a=>a.payload))}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(JT.BrowseDefinitionDataService))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ng-component"]],inputs:{item:"item"},standalone:!0,features:[e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(h,N){1&h&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&h&&(e.R7$(),e.Y8G("mdValues",null==N.item?null:N.item.allMetadata(N.fields))("separator",N.separator)("label",N.label)("enableMarkdown",N.enableMarkdown)("urlRegex",N.urlRegex)("browseDefinition",e.bMT(2,7,N.browseDefinition))("img",N.img))},dependencies:[Ou,d.Jj],encapsulation:2})}return p})(),Sl=(()=>{class p extends Gc{constructor(){super(...arguments),this.enableMarkdown=!1}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-generic-item-page-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(h,N){1&h&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&h&&(e.R7$(),e.Y8G("mdValues",null==N.item?null:N.item.allMetadata(N.fields))("separator",N.separator)("label",N.label)("enableMarkdown",N.enableMarkdown)("urlRegex",N.urlRegex)("browseDefinition",e.bMT(2,7,N.browseDefinition))("img",N.img))},dependencies:[Ou,d.Jj],encapsulation:2})}return p})();var Hl=t(41195),Xf=t(98985);let Ad=(()=>{class p{constructor(a,h){this.routeService=a,this.router=h,this.showLabel=!0,this.previousRoute=/^(\/search|\/browse|\/collections|\/admin\/search|\/mydspace)/,this.back=()=>{this.routeService.getPreviousUrl().pipe((0,T.s)(1)).subscribe(N=>{this.router.navigateByUrl(N)})},this.mediaViewer=R.c.mediaViewer}ngOnInit(){this.itemPageRoute=(0,an._o)(this.object),this.showBackButton$=this.routeService.getPreviousUrl().pipe((0,Ht.T)(a=>this.previousRoute.test(a)),(0,T.s)(1)),this.iiifEnabled=(p=>!!this.object.firstMetadataValue("dspace.iiif.enabled"))(),this.iiifSearchEnabled=(p=>!!this.object.firstMetadataValue("iiif.search.enabled"))(),this.iiifSearchEnabled&&(this.iiifQuery$=this.routeService.getPreviousUrl().pipe((0,Gn.p)(a=>a.includes("/search")),(0,Ht.T)(a=>(new y.nU).parse(a).queryParamMap.get("query")),(0,T.s)(1)))}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(Xf.v$),e.rXU(y.Ix))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item"]],inputs:{object:"object",showLabel:"showLabel",viewMode:"viewMode"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(h,N){},encapsulation:2})}return p})();var qT=t(39839),cR=t(11022);let eO=(()=>{class p{constructor(){this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){(0,V.hj)(this.relationType)&&(0,V.hj)(this.item)&&(this.fixedFilter=(0,cR.as)(this.relationType,this.item.id))}static#e=this.\u0275fac=function(h){return new(h||p)};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-related-entities-search"]],inputs:{relationType:"relationType",configuration:"configuration",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},standalone:!0,features:[e.aNF],decls:1,vars:5,consts:[[3,"fixedFilterQuery","configuration","searchEnabled","sideBarWidth","showCsvExport"]],template:function(h,N){1&h&&e.nrm(0,"ds-configuration-search-page",0),2&h&&e.Y8G("fixedFilterQuery",N.fixedFilter)("configuration",N.configuration)("searchEnabled",N.searchEnabled)("sideBarWidth",N.sideBarWidth)("showCsvExport",!0)},dependencies:[qT.M],encapsulation:2})}return p})();function tO(p,C){if(1&p&&(e.j41(0,"div",9),e.nrm(1,"ds-related-entities-search",10),e.k0s()),2&p){const a=e.XpG().$implicit,h=e.XpG(2);e.R7$(),e.Y8G("item",h.item)("relationType",a.filter)("configuration",a.configuration)("searchEnabled",h.searchEnabled)("sideBarWidth",h.sideBarWidth)}}function nO(p,C){if(1&p&&(e.j41(0,"li",6)(1,"a",7),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,tO,2,5,"ng-template",8),e.k0s()),2&p){const a=C.$implicit;e.Y8G("ngbNavItem",a.filter),e.R7$(2),e.JRh(e.bMT(3,2,"item.page.relationships."+a.label))}}function l_(p,C){if(1&p){const a=e.RV6();e.qex(0),e.j41(1,"ul",3,0),e.nI1(3,"async"),e.bIt("navChange",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onTabChange(N))}),e.DNE(4,nO,5,4,"li",4),e.k0s(),e.nrm(5,"div",5),e.bVm()}if(2&p){const a=e.sdS(2),h=e.XpG();e.R7$(),e.Y8G("destroyOnHide",!0)("activeId",e.bMT(3,4,h.activeTab$)),e.R7$(3),e.Y8G("ngForOf",h.relationTypes),e.R7$(),e.Y8G("ngbNavOutlet",a)}}function ep(p,C){if(1&p&&e.nrm(0,"ds-related-entities-search",10),2&p){const a=C.ngVar,h=e.XpG(2);e.Y8G("item",h.item)("relationType",a.filter)("configuration",a.configuration)("searchEnabled",h.searchEnabled)("sideBarWidth",h.sideBarWidth)}}function c_(p,C){if(1&p&&(e.j41(0,"div",9),e.DNE(1,ep,1,5,"ds-related-entities-search",11),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngVar",a.relationTypes[0])}}let wd=(()=>{class p{constructor(a,h){this.route=a,this.router=h,this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){this.activeTab$=this.route.queryParams.pipe((0,Ht.T)(a=>a.tab))}onTabChange(a){this.router.navigate([],{relativeTo:this.route,queryParams:{tab:a.nextId},queryParamsHandling:"merge"})}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(y.nX),e.rXU(y.Ix))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-tabbed-related-entities-search"]],inputs:{relationTypes:"relationTypes",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[["tabs","ngbNav"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["ngbNav","",1,"nav-tabs",3,"navChange","destroyOnHide","activeId"],["rel","presentation",3,"ngbNavItem",4,"ngFor","ngForOf"],[3,"ngbNavOutlet"],["rel","presentation",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-4"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth",4,"ngVar"]],template:function(h,N){1&h&&e.DNE(0,l_,6,6,"ng-container",1)(1,c_,2,1,"div",2),2&h&&(e.Y8G("ngIf",N.relationTypes.length>1),e.R7$(),e.Y8G("ngIf",1===N.relationTypes.length))},dependencies:[d.bT,X.Pv,X.Um,X.X9,X.sy,X.Ri,X.m_,d.pM,eO,yo.r,d.Jj,G.h,G.D9],encapsulation:2})}return p})();var wy=t(36705),$c=t(21548),Ly=t(8040),sO=t(30295);const Mu=p=>({amount:p});function xy(p,C){if(1&p&&e.nrm(0,"ds-listable-object-component-loader",6),2&p){const a=C.$implicit,h=e.XpG(3);e.Y8G("object",a)("viewMode",h.viewMode)}}function iO(p,C){1&p&&(e.nrm(0,"ds-loading",7),e.nI1(1,"translate")),2&p&&e.FS9("message",e.bMT(1,1,"loading.default"))}function Ny(p,C){if(1&p){const a=e.RV6();e.j41(0,"div",11)(1,"button",12),e.bIt("click",function(){e.eBV(a);const N=e.XpG(4);return e.Njj(N.increase())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&p){const a=e.XpG(2).ngVar,h=e.XpG(2);e.R7$(2),e.JRh(e.i5U(3,1,"item.page.related-items.view-more",e.eq3(4,Mu,(null==a||null==a.payload?null:a.payload.totalElements)-h.incrementBy*h.objects.length<h.incrementBy?(null==a||null==a.payload?null:a.payload.totalElements)-h.incrementBy*h.objects.length:h.incrementBy)))}}function rO(p,C){if(1&p){const a=e.RV6();e.j41(0,"div",13)(1,"button",12),e.bIt("click",function(){e.eBV(a);const N=e.XpG(4);return e.Njj(N.decrease())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&p){const a=e.XpG(2).ngVar;e.R7$(2),e.JRh(e.i5U(3,1,"item.page.related-items.view-less",e.eq3(4,Mu,null==a||null==a.payload||null==a.payload.page?null:a.payload.page.length)))}}function Jf(p,C){if(1&p&&(e.j41(0,"div",8),e.DNE(1,Ny,4,6,"div",9)(2,rO,4,6,"div",10),e.k0s()),2&p){const a=e.XpG().ngVar,h=e.XpG(2);e.R7$(),e.Y8G("ngIf",(null==a||null==a.payload?null:a.payload.totalPages)>h.objects.length),e.R7$(),e.Y8G("ngIf",h.objects.length>1)}}function oO(p,C){if(1&p&&(e.qex(0),e.DNE(1,xy,1,2,"ds-listable-object-component-loader",3)(2,iO,2,3,"ds-loading",4)(3,Jf,3,2,"div",5),e.bVm()),2&p){const a=C.ngVar,h=e.XpG().index,N=e.XpG();e.R7$(),e.Y8G("ngForOf",null==a||null==a.payload?null:a.payload.page),e.R7$(),e.Y8G("ngIf",h+1===N.objects.length&&(a||h>0)&&!(null!=a&&a.hasSucceeded&&null!=a&&a.payload&&(null==a||null==a.payload||null==a.payload.page?null:a.payload.page.length)>0)),e.R7$(),e.Y8G("ngIf",h+1===N.objects.length&&(null==a||null==a.payload||null==a.payload.page?null:a.payload.page.length)>0)}}function aO(p,C){if(1&p&&(e.qex(0),e.DNE(1,oO,4,3,"ng-container",2),e.nI1(2,"async"),e.bVm()),2&p){const a=C.$implicit;e.R7$(),e.Y8G("ngVar",e.bMT(2,1,a))}}let Wc=(()=>{class p extends sO.e{constructor(a,h,N,ie){super(),this.relationshipService=a,this.elementRef=h,this.appConfig=N,this.platformId=ie,this.incrementBy=5,this.options=new wy._,this.viewMode=Vn.n.ListElement,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}ngOnInit(){this.placeholderFontClass=(0,d.UE)(this.platformId)?(0,Ly.F)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text",super.ngOnInit()}getPage(a){return this.relationshipService.getRelatedItemsByLabel(this.parentItem,this.relationType,Object.assign(this.options,{elementsPerPage:this.incrementBy,currentPage:a,fetchThumbnail:this.fetchThumbnail}))}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(_l.RelationshipDataService),e.rXU(e.aKT),e.rXU(qi.vQ),e.rXU(e.Agw))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-related-items"]],inputs:{parentItem:"parentItem",relationType:"relationType",incrementBy:"incrementBy",options:"options",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[3,"label","ngClass"],[4,"ngFor","ngForOf"],[4,"ngVar"],[3,"object","viewMode",4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],["class","d-inline-block w-100 mt-2",4,"ngIf"],[3,"object","viewMode"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],["class","float-left","id","view-more",4,"ngIf"],["class","float-right","id","view-less",4,"ngIf"],["id","view-more",1,"float-left"],[1,"btn","btn-link","btn-link-inline",3,"click"],["id","view-less",1,"float-right"]],template:function(h,N){1&h&&(e.j41(0,"ds-metadata-field-wrapper",0),e.DNE(1,aO,3,3,"ng-container",1),e.k0s()),2&h&&(e.Y8G("label",N.label)("ngClass",N.placeholderFontClass),e.R7$(),e.Y8G("ngForOf",N.objects))},dependencies:[Da.Q,d.YU,d.pM,yo.r,Od.v,d.bT,$c.v,d.Jj,G.h,G.D9],styles:["[_nghost-%COMP%]{display:block}ds-listable-object-component-loader[_ngcontent-%COMP%]{margin-bottom:10px;display:block}"]})}return p})();var Kc=t(4097),Hc=t(15998);const d_=()=>["creativeworkseries.issn"],tp=()=>["creativework.publisher"],lO=()=>["creativework.editor"],Qf=()=>["dc.description"],np=p=>[p],dR=()=>({label:"isJournalOfPublication",filter:"isJournalOfPublication",configuration:"default-relationships"});function cO(p,C){if(1&p&&e.nrm(0,"ds-results-back-button",14),2&p){const a=e.XpG();e.Y8G("back",a.back)}}let Zf=class Ub extends Ad{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Ub)))(h||Ub)}})();static#t=this.\u0275cmp=e.VBU({type:Ub,selectors:[["ds-journal"]],standalone:!0,features:[e.Vt3,e.aNF],decls:23,vars:40,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"item-page-fields",3,"item","fields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"],[3,"back"]],template:function(a,h){1&a&&(e.DNE(0,cO,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",8),e.k0s(),e.j41(13,"div",9),e.nrm(14,"ds-related-items",10),e.nI1(15,"translate"),e.nrm(16,"ds-generic-item-page-field",7),e.j41(17,"div")(18,"a",11),e.EFF(19),e.nI1(20,"translate"),e.k0s()()(),e.j41(21,"div",12),e.nrm(22,"ds-tabbed-related-entities-search",13),e.k0s()()),2&a&&(e.Y8G("ngIf",e.bMT(1,23,h.showBackButton$)),e.R7$(3),e.Y8G("item",h.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,25,null==h.object?null:h.object.thumbnail)),e.R7$(2),e.Y8G("item",h.object)("fields",e.lJ4(31,d_))("label","journal.page.issn"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(32,tp))("label","journal.page.publisher"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(33,lO))("label","journal.page.editor"),e.R7$(2),e.Y8G("parentItem",h.object)("relationType","isVolumeOfJournal")("label",e.bMT(15,27,"relationships.isVolumeOf")),e.R7$(2),e.Y8G("item",h.object)("fields",e.lJ4(34,Qf))("label","journal.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(35,np,h.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(20,29,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",h.object)("relationTypes",e.eq3(38,np,e.lJ4(37,dR))))},dependencies:[d.bT,Hc.U,Hl.V,Kc.T,Da.Q,Vi.T,Sl,Wc,y.Wk,wd,d.Jj,G.h,G.D9]})};Zf=(0,Ue.Cg)([(0,Wn.VK)("Journal",Vn.n.StandalonePage)],Zf);const u_=()=>["publicationvolume.volumeNumber"],dO=()=>["publicationissue.issueNumber"],Fy=()=>["creativework.datePublished"],uO=()=>["journal.title"],hO=()=>["creativeworkseries.issn"],By=()=>["dc.description"],pO=()=>["creativework.keywords"],fO=p=>[p];function Iu(p,C){if(1&p&&e.nrm(0,"ds-results-back-button",12),2&p){const a=e.XpG();e.Y8G("back",a.back)}}let Ld=class jb extends Ad{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(jb)))(h||jb)}})();static#t=this.\u0275cmp=e.VBU({type:jb,selectors:[["ds-journal-issue"]],standalone:!0,features:[e.Vt3,e.aNF],decls:26,vars:52,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"mb-1","mt-1",3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:function(a,h){1&a&&(e.DNE(0,Iu,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7)(14,"ds-generic-item-page-field",7),e.k0s(),e.j41(15,"div",8),e.nrm(16,"ds-related-items",9),e.nI1(17,"translate"),e.nrm(18,"ds-related-items",10),e.nI1(19,"translate"),e.nrm(20,"ds-generic-item-page-field",7)(21,"ds-generic-item-page-field",7),e.j41(22,"div")(23,"a",11),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()),2&a&&(e.Y8G("ngIf",e.bMT(1,33,h.showBackButton$)),e.R7$(3),e.Y8G("item",h.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,35,null==h.object?null:h.object.thumbnail)),e.R7$(2),e.Y8G("item",h.object)("fields",e.lJ4(43,u_))("label","journalvolume.page.volume"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(44,dO))("label","journalissue.page.number"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(45,Fy))("label","journalissue.page.issuedate"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(46,uO))("label","journalissue.page.journal-title"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(47,hO))("label","journalissue.page.journal-issn"),e.R7$(2),e.Y8G("parentItem",h.object)("relationType","isJournalVolumeOfIssue")("label",e.bMT(17,37,"relationships.isSingleVolumeOf")),e.R7$(2),e.Y8G("parentItem",h.object)("relationType","isPublicationOfJournalIssue")("label",e.bMT(19,39,"relationships.isPublicationOfJournalIssue")),e.R7$(2),e.Y8G("item",h.object)("fields",e.lJ4(48,By))("label","journalissue.page.description"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(49,pO))("label","journalissue.page.keyword"),e.R7$(2),e.Y8G("routerLink",e.eq3(50,fO,h.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(25,41,"item.page.link.full")," "))},dependencies:[d.bT,Hc.U,Hl.V,Kc.T,Da.Q,Vi.T,Sl,Wc,y.Wk,d.Jj,G.h,G.D9]})};Ld=(0,Ue.Cg)([(0,Wn.VK)("JournalIssue",Vn.n.StandalonePage)],Ld);const mO=()=>["publicationvolume.volumeNumber"],Uy=()=>["creativework.datePublished"],gO=()=>["dc.description"],jy=p=>[p];function uR(p,C){if(1&p&&e.nrm(0,"ds-results-back-button",11),2&p){const a=e.XpG();e.Y8G("back",a.back)}}let qf=class kb extends Ad{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(kb)))(h||kb)}})();static#t=this.\u0275cmp=e.VBU({type:kb,selectors:[["ds-journal-volume"]],standalone:!0,features:[e.Vt3,e.aNF],decls:22,vars:36,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:function(a,h){1&a&&(e.DNE(0,uR,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),e.k0s(),e.j41(12,"div",8),e.nrm(13,"ds-related-items",9),e.nI1(14,"translate"),e.nrm(15,"ds-related-items",9),e.nI1(16,"translate"),e.nrm(17,"ds-generic-item-page-field",7),e.j41(18,"div")(19,"a",10),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()()),2&a&&(e.Y8G("ngIf",e.bMT(1,21,h.showBackButton$)),e.R7$(3),e.Y8G("item",h.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,23,null==h.object?null:h.object.thumbnail)),e.R7$(2),e.Y8G("item",h.object)("fields",e.lJ4(31,mO))("label","journalvolume.page.volume"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(32,Uy))("label","journalvolume.page.issuedate"),e.R7$(2),e.Y8G("parentItem",h.object)("relationType","isJournalOfVolume")("label",e.bMT(14,25,"relationships.isSingleJournalOf")),e.R7$(2),e.Y8G("parentItem",h.object)("relationType","isIssueOfJournalVolume")("label",e.bMT(16,27,"relationships.isIssueOf")),e.R7$(2),e.Y8G("item",h.object)("fields",e.lJ4(33,gO))("label","journalvolume.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(34,jy,h.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(21,29,"item.page.link.full")," "))},dependencies:[d.bT,Hc.U,Hl.V,Kc.T,Da.Q,Vi.T,Sl,Wc,y.Wk,d.Jj,G.h,G.D9]})};qf=(0,Ue.Cg)([(0,Wn.VK)("JournalVolume",Vn.n.StandalonePage)],qf);const Su=["*","*"],h_=p=>[p];function _O(p,C){if(1&p&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,h_,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==a.dso?null:a.dso.thumbnail))("limitWidth",!1)}}function vO(p,C){if(1&p&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==a.dso?null:a.dso.thumbnail))("limitWidth",!1)}}function yO(p,C){if(1&p&&e.nrm(0,"ds-badges",15),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function p_(p,C){if(1&p&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("id",a.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",a.firstMetadataValue("organization.foundingDate"),e.npT)}}function EO(p,C){if(1&p&&(e.j41(0,"span",22)(1,"span"),e.EFF(2,", "),e.k0s(),e.EFF(3),e.k0s()),2&p){const a=e.XpG(2);e.R7$(3),e.SpI(" ",a.firstMetadataValue("organization.address.addressLocality")," ")}}function ky(p,C){if(1&p&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17)(2,"span",20),e.EFF(3),e.k0s(),e.DNE(4,EO,4,1,"span",21),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("id",a.dso.id)("minLines",3),e.R7$(2),e.JRh(a.firstMetadataValue("organization.address.addressCountry")),e.R7$(),e.Y8G("ngIf",a.dso.hasMetadata("organization.address.addressLocality"))}}function Pl(p,C){if(1&p&&(e.j41(0,"div",23)(1,"a",24),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,h_,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Pu=class Vb extends rl{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Vb)))(h||Vb)}})();static#t=this.\u0275cmp=e.VBU({type:Vb,selectors:[["ds-org-unit-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Su,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-location card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-location","card-text"],[1,"item-country"],["class","item-city",4,"ngIf"],[1,"item-city"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(a,h){1&a&&(e.NAR(Su),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,_O,5,12,"a",3)(6,vO,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,yO,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,p_,3,3,"p",9)(12,ky,5,4,"p",10)(13,Pl,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&a&&(e.Y8G("@focusShadow",e.bMT(1,11,h.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",h.dso.id),e.R7$(3),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(2),e.Y8G("ngIf",h.showLabel),e.R7$(),e.Y8G("id",h.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.dso.hasMetadata("organization.foundingDate")),e.R7$(),e.Y8G("ngIf",h.dso.hasMetadata("organization.address.addressCountry")),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None))},dependencies:[Ua.d,d.bT,y.Wk,Vi.T,Oo.F,$r.W,d.Jj,G.h,G.D9],data:{animation:[Ml]}})};Pu=(0,Ue.Cg)([(0,Wn.VK)("OrgUnitSearchResult",Vn.n.GridElement)],Pu);const CO=()=>({}),hR=(p,C)=>({indexableObject:p,hitHighlights:C});let Wr=class Gb extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Gb)))(h||Gb)}})();static#t=this.\u0275cmp=e.VBU({type:Gb,selectors:[["ds-org-unit-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(a,h){1&a&&e.nrm(0,"ds-org-unit-search-result-grid-element",0),2&a&&e.Y8G("showLabel",h.showLabel)("object",e.l_i(4,hR,h.object,e.lJ4(3,CO)))("linkType",h.linkType)},dependencies:[Pu]})};Wr=(0,Ue.Cg)([(0,Wn.VK)("OrgUnit",Vn.n.GridElement)],Wr);const Vy=["*","*"],em=p=>[p];function bO(p,C){if(1&p&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,em,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==a.dso?null:a.dso.thumbnail))("limitWidth",!1)}}function DO(p,C){if(1&p&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==a.dso?null:a.dso.thumbnail))("limitWidth",!1)}}function f_(p,C){if(1&p&&e.nrm(0,"ds-badges",15),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function Gy(p,C){if(1&p&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("id",a.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",a.firstMetadataValue("person.email"),e.npT)}}function $y(p,C){if(1&p&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("id",a.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",a.firstMetadataValue("person.jobTitle"),e.npT)}}function Wy(p,C){if(1&p&&(e.j41(0,"div",20)(1,"a",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,em,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let ip=class $b extends rl{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo($b)))(h||$b)}})();static#t=this.\u0275cmp=e.VBU({type:$b,selectors:[["ds-person-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Vy,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-email card-text text-muted",4,"ngIf"],["class","item-jobtitle card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-email","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-jobtitle","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(a,h){1&a&&(e.NAR(Vy),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,bO,5,12,"a",3)(6,DO,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,f_,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,Gy,3,3,"p",9)(12,$y,3,3,"p",10)(13,Wy,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&a&&(e.Y8G("@focusShadow",e.bMT(1,11,h.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",h.dso.id),e.R7$(3),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(2),e.Y8G("ngIf",h.showLabel),e.R7$(),e.Y8G("id",h.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.dso.hasMetadata("person.email")),e.R7$(),e.Y8G("ngIf",h.dso.hasMetadata("person.jobTitle")),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None))},dependencies:[Ua.d,d.bT,y.Wk,Vi.T,Oo.F,$r.W,d.Jj,G.h,G.D9],data:{animation:[Ml]}})};ip=(0,Ue.Cg)([(0,Wn.VK)("PersonSearchResult",Vn.n.GridElement)],ip);const TO=()=>({}),xd=(p,C)=>({indexableObject:p,hitHighlights:C});let rp=class Wb extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Wb)))(h||Wb)}})();static#t=this.\u0275cmp=e.VBU({type:Wb,selectors:[["ds-person-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(a,h){1&a&&e.nrm(0,"ds-person-search-result-grid-element",0),2&a&&e.Y8G("showLabel",h.showLabel)("object",e.l_i(4,xd,h.object,e.lJ4(3,TO)))("linkType",h.linkType)},dependencies:[ip]})};rp=(0,Ue.Cg)([(0,Wn.VK)("Person",Vn.n.GridElement)],rp);const tm=["*","*"],Ky=p=>[p];function Hy(p,C){if(1&p&&(e.j41(0,"a",11),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Ky,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==a.dso?null:a.dso.thumbnail))("limitWidth",!1)}}function zy(p,C){if(1&p&&(e.j41(0,"span",13)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==a.dso?null:a.dso.thumbnail))("limitWidth",!1)}}function Yy(p,C){if(1&p&&e.nrm(0,"ds-badges",14),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function op(p,C){if(1&p&&(e.j41(0,"p",15)(1,"ds-truncatable-part",16),e.nrm(2,"span",17),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("id",a.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",a.firstMetadataValue("dc.description"),e.npT)}}function m_(p,C){if(1&p&&(e.j41(0,"div",18)(1,"a",19),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Ky,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let ol=class Kb extends rl{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Kb)))(h||Kb)}})();static#t=this.\u0275cmp=e.VBU({type:Kb,selectors:[["ds-project-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:tm,decls:14,vars:12,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-description card-text text-muted",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-description","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(a,h){1&a&&(e.NAR(tm),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,Hy,5,12,"a",3)(6,zy,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,Yy,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,op,3,3,"p",9)(12,m_,4,8,"div",10),e.k0s()(),e.SdG(13,1),e.k0s()),2&a&&(e.Y8G("@focusShadow",e.bMT(1,10,h.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",h.dso.id),e.R7$(3),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(2),e.Y8G("ngIf",h.showLabel),e.R7$(),e.Y8G("id",h.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.dso.hasMetadata("dc.description")),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None))},dependencies:[Ua.d,d.bT,y.Wk,Vi.T,Oo.F,$r.W,d.Jj,G.h,G.D9],data:{animation:[Ml]}})};ol=(0,Ue.Cg)([(0,Wn.VK)("ProjectSearchResult",Vn.n.GridElement)],ol);const nm=()=>({}),Xy=(p,C)=>({indexableObject:p,hitHighlights:C});let zc=class Hb extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Hb)))(h||Hb)}})();static#t=this.\u0275cmp=e.VBU({type:Hb,selectors:[["ds-project-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(a,h){1&a&&e.nrm(0,"ds-project-search-result-grid-element",0),2&a&&e.Y8G("showLabel",h.showLabel)("object",e.l_i(4,Xy,h.object,e.lJ4(3,nm)))("linkType",h.linkType)},dependencies:[ol]})};zc=(0,Ue.Cg)([(0,Wn.VK)("Project",Vn.n.GridElement)],zc);const OO=()=>["dc.description"],Jy=p=>[p];function g_(p,C){if(1&p&&(e.j41(0,"a",12),e.nrm(1,"ds-thumbnail",13),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG(2);e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,Jy,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==a.dso?null:a.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function Qy(p,C){if(1&p&&(e.j41(0,"span",14),e.nrm(1,"ds-thumbnail",13),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==a.dso?null:a.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function Yc(p,C){if(1&p&&(e.j41(0,"div",9),e.DNE(1,g_,3,11,"a",10)(2,Qy,3,6,"span",11),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.linkType!==a.linkTypes.None),e.R7$(),e.Y8G("ngIf",a.linkType===a.linkTypes.None)}}function ap(p,C){if(1&p&&e.nrm(0,"ds-badges",15),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function pR(p,C){if(1&p&&(e.nrm(0,"a",16),e.nI1(1,"translate")),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Jy,a.itemPageRoute))("innerHTML",a.dsoTitle||e.bMT(1,4,"orgunit.listelement.no-title"),e.npT),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null)}}function sm(p,C){if(1&p&&(e.nrm(0,"span",17),e.nI1(1,"translate")),2&p){const a=e.XpG();e.Y8G("innerHTML",a.dsoTitle||e.bMT(1,1,"orgunit.listelement.no-title"),e.npT)}}function Zy(p,C){if(1&p&&(e.j41(0,"span",18)(1,"ds-truncatable-part",19),e.nrm(2,"span",20),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("id",a.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",a.firstMetadataValue("dc.description"),e.npT)}}let Ru=class zb extends mc.k{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(zb)))(h||zb)}})();static#t=this.\u0275cmp=e.VBU({type:zb,selectors:[["ds-org-unit-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:9,vars:8,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-org-unit-description",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-org-unit-description"],[3,"id","minLines"],[3,"innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"div",0),e.DNE(1,Yc,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,ap,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,pR,2,8,"a",5)(6,sm,2,3,"span",6),e.j41(7,"span",7),e.DNE(8,Zy,3,3,"span",8),e.k0s()()()()),2&a&&(e.R7$(),e.Y8G("ngIf",h.showThumbnails),e.R7$(),e.Y8G("ngClass",h.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",h.showLabel),e.R7$(),e.Y8G("id",h.dso.id),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(2),e.Y8G("ngIf",h.dso.allMetadata(e.lJ4(7,OO)).length>0))},dependencies:[d.bT,y.Wk,Vi.T,d.YU,Oo.F,Ua.d,$r.W,d.Jj,G.h,G.D9]})};Ru=(0,Ue.Cg)([(0,Wn.VK)("OrgUnitSearchResult",Vn.n.ListElement)],Ru);const MO=()=>({}),im=(p,C)=>({indexableObject:p,hitHighlights:C});let Xc=class Yb extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Yb)))(h||Yb)}})();static#t=this.\u0275cmp=e.VBU({type:Yb,selectors:[["ds-org-unit-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(a,h){1&a&&e.nrm(0,"ds-org-unit-search-result-list-element",0),2&a&&e.Y8G("showLabel",h.showLabel)("object",e.l_i(4,im,h.object,e.lJ4(3,MO)))("linkType",h.linkType)},dependencies:[Ru]})};Xc=(0,Ue.Cg)([(0,Wn.VK)("OrgUnit",Vn.n.ListElement)],Xc);const qy=()=>["person.jobTitle"],eE=p=>[p];function IO(p,C){if(1&p&&(e.j41(0,"a",13),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG(2);e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,eE,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==a.dso?null:a.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function SO(p,C){if(1&p&&(e.j41(0,"span",15),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==a.dso?null:a.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function PO(p,C){if(1&p&&(e.j41(0,"div",10),e.DNE(1,IO,3,11,"a",11)(2,SO,3,6,"span",12),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.linkType!==a.linkTypes.None),e.R7$(),e.Y8G("ngIf",a.linkType===a.linkTypes.None)}}function RO(p,C){if(1&p&&e.nrm(0,"ds-badges",16),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function AO(p,C){if(1&p&&(e.nrm(0,"a",17),e.nI1(1,"translate")),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,eE,a.itemPageRoute))("innerHTML",a.dsoTitle||e.bMT(1,4,"person.listelement.no-title"),e.npT),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null)}}function wO(p,C){if(1&p&&(e.nrm(0,"span",18),e.nI1(1,"translate")),2&p){const a=e.XpG();e.Y8G("innerHTML",a.dsoTitle||e.bMT(1,1,"person.listelement.no-title"),e.npT)}}function rm(p,C){if(1&p&&(e.j41(0,"span")(1,"span",21),e.nrm(2,"span",21),e.k0s()()),2&p){const a=C.$implicit;e.R7$(),e.Y8G("innerHTML",a,e.npT),e.R7$(),e.Y8G("innerHTML",a,e.npT)}}function LO(p,C){if(1&p&&(e.j41(0,"span",19),e.DNE(1,rm,3,2,"span",20),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.allMetadataValues(e.lJ4(1,qy)))}}let lp=class TP extends mc.k{constructor(C,a,h){super(C,a,h),this.truncatableService=C,this.dsoNameService=a,this.appConfig=h}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}static#e=this.\u0275fac=function(a){return new(a||TP)(e.rXU(Oi.F),e.rXU(Os.f),e.rXU(qi.vQ))};static#t=this.\u0275cmp=e.VBU({type:TP,selectors:[["ds-person-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"div",0),e.DNE(1,PO,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,RO,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,AO,2,8,"a",5)(6,wO,2,3,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,LO,2,2,"span",9),e.k0s()()()()()),2&a&&(e.R7$(),e.Y8G("ngIf",h.showThumbnails),e.R7$(),e.Y8G("ngClass",h.showThumbnails?"col-9 col-md-10":"col-12"),e.R7$(),e.Y8G("ngIf",h.showLabel),e.R7$(),e.Y8G("id",h.dso.id),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(2),e.Y8G("id",h.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",h.dso.allMetadata(e.lJ4(9,qy)).length>0))},dependencies:[d.bT,y.Wk,Vi.T,d.YU,Oo.F,Ua.d,$r.W,d.pM,d.Jj,G.h,G.D9]})};lp=(0,Ue.Cg)([(0,Wn.VK)("PersonSearchResult",Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Oi.F,Os.f,Object])],lp);const tE=()=>({}),nE=(p,C)=>({indexableObject:p,hitHighlights:C});let Au=class Xb extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Xb)))(h||Xb)}})();static#t=this.\u0275cmp=e.VBU({type:Xb,selectors:[["ds-person-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:8,consts:[[3,"object","linkType","showLabel","value"]],template:function(a,h){1&a&&e.nrm(0,"ds-person-search-result-list-element",0),2&a&&e.Y8G("object",e.l_i(5,nE,h.object,e.lJ4(4,tE)))("linkType",h.linkType)("showLabel",h.showLabel)("value",h.value)},dependencies:[lp]})};Au=(0,Ue.Cg)([(0,Wn.VK)("Person",Vn.n.ListElement)],Au);const __=p=>[p];function xO(p,C){if(1&p&&(e.j41(0,"a",10),e.nrm(1,"ds-thumbnail",11),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG(2);e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,__,a.itemPageRoute)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==a.dso?null:a.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function sE(p,C){if(1&p&&(e.j41(0,"span",12),e.nrm(1,"ds-thumbnail",11),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==a.dso?null:a.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function v_(p,C){if(1&p&&(e.j41(0,"div",7),e.DNE(1,xO,3,11,"a",8)(2,sE,3,6,"span",9),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.linkType!==a.linkTypes.None),e.R7$(),e.Y8G("ngIf",a.linkType===a.linkTypes.None)}}function iE(p,C){if(1&p&&e.nrm(0,"ds-badges",13),2&p){const a=e.XpG();e.Y8G("object",a.dso)("context",a.context)}}function rE(p,C){if(1&p&&e.nrm(0,"a",14),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,__,a.itemPageRoute))("innerHTML",a.dsoTitle,e.npT),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null)}}function NO(p,C){if(1&p&&e.nrm(0,"span",15),2&p){const a=e.XpG();e.Y8G("innerHTML",a.dsoTitle,e.npT)}}let cp=class Jb extends mc.k{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Jb)))(h||Jb)}})();static#t=this.\u0275cmp=e.VBU({type:Jb,selectors:[["ds-project-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"id"],[3,"object","context",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"div",0),e.DNE(1,v_,3,2,"div",1),e.j41(2,"div",2)(3,"ds-truncatable",3),e.DNE(4,iE,1,2,"ds-badges",4)(5,rE,1,6,"a",5)(6,NO,1,1,"span",6),e.k0s()()()),2&a&&(e.R7$(),e.Y8G("ngIf",h.showThumbnails),e.R7$(),e.Y8G("ngClass",h.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("id",h.dso.id),e.R7$(),e.Y8G("ngIf",h.showLabel),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None))},dependencies:[d.bT,y.Wk,Vi.T,d.YU,Ua.d,Oo.F,d.Jj]})};cp=(0,Ue.Cg)([(0,Wn.VK)("ProjectSearchResult",Vn.n.ListElement)],cp);const FO=()=>({}),y_=(p,C)=>({indexableObject:p,hitHighlights:C});let wu=class Qb extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Qb)))(h||Qb)}})();static#t=this.\u0275cmp=e.VBU({type:Qb,selectors:[["ds-project-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(a,h){1&a&&e.nrm(0,"ds-project-search-result-list-element",0),2&a&&e.Y8G("showLabel",h.showLabel)("object",e.l_i(4,y_,h.object,e.lJ4(3,FO)))("linkType",h.linkType)},dependencies:[cp]})};function oE(p,C){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const a=e.XpG();e.Y8G("maxLines",1)("background",a.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",a.isCurrent()?"text-light":"text-secondary")("innerHTML",a.description,e.npT)}}wu=(0,Ue.Cg)([(0,Wn.VK)("Project",Vn.n.ListElement)],wu);let Lu=class Zb extends Il{getDescription(){return this.firstMetadataValue("dc.description")}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(Zb)))(h||Zb)}})();static#t=this.\u0275cmp=e.VBU({type:Zb,selectors:[["ds-org-unit-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,oE,2,5,"ds-truncatable-part",3)),2&a&&(e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,h.parentTitle$&&h.parentTitle$)?e.bMT(3,13,h.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-primary")("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.description))},dependencies:[$r.W,d.YU,d.bT,d.Jj,G.h,G.D9],encapsulation:2})};function E_(p,C){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const a=e.XpG();e.Y8G("maxLines",1)("background",a.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",a.isCurrent()?"text-light":"text-secondary")("innerHTML",a.description,e.npT)}}Lu=(0,Ue.Cg)([(0,Wn.VK)("OrgUnitSearchResult",Vn.n.ListElement,Ws.o.SideBarSearchModal),(0,Wn.VK)("OrgUnitSearchResult",Vn.n.ListElement,Ws.o.SideBarSearchModalCurrent)],Lu);let om=class OP extends Il{constructor(C,a,h,N){super(C,a,N),this.truncatableService=C,this.linkService=a,this.translateService=h,this.dsoNameService=N}getDescription(){const C=this.allMetadataValues(["person.jobTitle"]);let a="";return(0,V.hj)(C)&&(a+=C.join(", ")),this.undefinedIfEmpty(a)}static#e=this.\u0275fac=function(a){return new(a||OP)(e.rXU(Oi.F),e.rXU(vi._),e.rXU(G.c$),e.rXU(Os.f))};static#t=this.\u0275cmp=e.VBU({type:OP,selectors:[["ds-person-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,E_,2,5,"ds-truncatable-part",3)),2&a&&(e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,h.parentTitle$&&h.parentTitle$)?e.bMT(3,13,h.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-primary")("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.description))},dependencies:[$r.W,d.YU,d.bT,d.Jj,G.h,G.D9],encapsulation:2})};function BO(p,C){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const a=e.XpG();e.Y8G("maxLines",1)("background",a.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",a.isCurrent()?"text-light":"text-secondary")("innerHTML",a.description,e.npT)}}om=(0,Ue.Cg)([(0,Wn.VK)("PersonSearchResult",Vn.n.ListElement,Ws.o.SideBarSearchModal),(0,Wn.VK)("PersonSearchResult",Vn.n.ListElement,Ws.o.SideBarSearchModalCurrent),(0,Ue.Sn)("design:paramtypes",[Oi.F,vi._,G.c$,Os.f])],om);let am=class qb extends Il{getDescription(){}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(qb)))(h||qb)}})();static#t=this.\u0275cmp=e.VBU({type:qb,selectors:[["ds-project-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,BO,2,5,"ds-truncatable-part",3)),2&a&&(e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,h.parentTitle$&&h.parentTitle$)?e.bMT(3,13,h.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-primary")("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.description))},dependencies:[$r.W,d.YU,d.bT,d.Jj,G.h,G.D9],encapsulation:2})};am=(0,Ue.Cg)([(0,Wn.VK)("ProjectSearchResult",Vn.n.ListElement,Ws.o.SideBarSearchModal),(0,Wn.VK)("ProjectSearchResult",Vn.n.ListElement,Ws.o.SideBarSearchModalCurrent)],am);let UO=(()=>{class p extends Gc{static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-page-img-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label",img:"img",urlRegex:"urlRegex"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(h,N){1&h&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&h&&(e.R7$(),e.Y8G("mdValues",null==N.item?null:N.item.allMetadata(N.fields))("separator",N.separator)("label",N.label)("enableMarkdown",N.enableMarkdown)("urlRegex",N.urlRegex)("browseDefinition",e.bMT(2,7,N.browseDefinition))("img",N.img))},dependencies:[Ou,d.Jj],encapsulation:2})}return p})();const aE=()=>["organization.foundingDate"],C_=()=>["organization.address.addressLocality"],b_=()=>["organization.adress.addressCountry"],lE=()=>["dc.identifier"],cE=()=>["organization.identifier.ror"],dE=()=>({URI:"./assets/images/ror-icon.svg",alt:"item.page.image.alt.ROR",heightVar:"--ds-item-page-img-field-ror-inline-height"}),jO=()=>["dc.description"],uE=p=>[p],kO=()=>({label:"isOrgUnitOfPerson",filter:"isOrgUnitOfPerson",configuration:"person-relationships"}),D_=()=>({label:"isOrgUnitOfProject",filter:"isOrgUnitOfProject",configuration:"project-relationships"}),hE=(p,C)=>[p,C];function T_(p,C){if(1&p&&e.nrm(0,"ds-results-back-button",14),2&p){const a=e.XpG();e.Y8G("back",a.back)}}let O_=class eD extends Ad{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(eD)))(h||eD)}})();static#t=this.\u0275cmp=e.VBU({type:eD,selectors:[["ds-org-unit"]],standalone:!0,features:[e.Vt3,e.aNF],decls:25,vars:56,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"fields","img","item","label","urlRegex"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"],[3,"back"]],template:function(a,h){1&a&&(e.DNE(0,T_,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7),e.k0s(),e.j41(14,"div",8),e.nrm(15,"ds-item-page-img-field",9)(16,"ds-related-items",10),e.nI1(17,"translate"),e.nrm(18,"ds-generic-item-page-field",7),e.j41(19,"div")(20,"a",11),e.EFF(21),e.nI1(22,"translate"),e.k0s()()(),e.j41(23,"div",12),e.nrm(24,"ds-tabbed-related-entities-search",13),e.k0s()()),2&a&&(e.Y8G("ngIf",e.bMT(1,34,h.showBackButton$)),e.R7$(3),e.Y8G("item",h.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,36,null==h.object?null:h.object.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder"),e.R7$(2),e.Y8G("item",h.object)("fields",e.lJ4(42,aE))("label","orgunit.page.dateestablished"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(43,C_))("label","orgunit.page.city"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(44,b_))("label","orgunit.page.country"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(45,lE))("label","orgunit.page.id"),e.R7$(2),e.Y8G("fields",e.lJ4(46,cE))("img",e.lJ4(47,dE))("item",h.object)("label","orgunit.page.ror")("urlRegex","(.*)ror.org"),e.R7$(),e.Y8G("parentItem",h.object)("relationType","isPublicationOfOrgUnit")("label",e.bMT(17,38,"relationships.isPublicationOf")),e.R7$(2),e.Y8G("item",h.object)("fields",e.lJ4(48,jO))("label","orgunit.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(49,uE,h.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(22,40,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",h.object)("relationTypes",e.l_i(53,hE,e.lJ4(51,kO),e.lJ4(52,D_))))},dependencies:[d.bT,Hc.U,Hl.V,Kc.T,Da.Q,Vi.T,Sl,Wc,y.Wk,wd,d.Jj,G.h,G.D9,UO]})};O_=(0,Ue.Cg)([(0,Wn.VK)("OrgUnit",Vn.n.StandalonePage)],O_);const fR=()=>["person.email"],pE=()=>["person.birthDate"],fE=()=>["person.jobTitle"],mE=()=>["person.familyName"],M_=()=>["person.givenName"],gE=()=>["dc.title"],I_=p=>[p],_E=()=>({label:"isAuthorOfPublication",filter:"isAuthorOfPublication",configuration:"default-relationships"});function vE(p,C){if(1&p&&e.nrm(0,"ds-results-back-button",13),2&p){const a=e.XpG();e.Y8G("back",a.back)}}let lm=class tD extends Ad{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(tD)))(h||tD)}})();static#t=this.\u0275cmp=e.VBU({type:tD,selectors:[["ds-person"]],standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:56,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"],[3,"back"]],template:function(a,h){1&a&&(e.DNE(0,vE,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),e.k0s(),e.j41(12,"div",8),e.nrm(13,"ds-related-items",9),e.nI1(14,"translate"),e.nrm(15,"ds-related-items",9),e.nI1(16,"translate"),e.nrm(17,"ds-generic-item-page-field",7)(18,"ds-generic-item-page-field",7)(19,"ds-generic-item-page-field",7)(20,"ds-generic-item-page-field",7),e.j41(21,"div")(22,"a",10),e.EFF(23),e.nI1(24,"translate"),e.k0s()()(),e.j41(25,"div",11),e.nrm(26,"ds-tabbed-related-entities-search",12),e.k0s()()),2&a&&(e.Y8G("ngIf",e.bMT(1,35,h.showBackButton$)),e.R7$(3),e.Y8G("item",h.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,37,null==h.object?null:h.object.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder"),e.R7$(2),e.Y8G("item",h.object)("fields",e.lJ4(45,fR))("label","person.page.email"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(46,pE))("label","person.page.birthdate"),e.R7$(2),e.Y8G("parentItem",h.object)("relationType","isProjectOfPerson")("label",e.bMT(14,39,"relationships.isProjectOf")),e.R7$(2),e.Y8G("parentItem",h.object)("relationType","isOrgUnitOfPerson")("label",e.bMT(16,41,"relationships.isOrgUnitOf")),e.R7$(2),e.Y8G("item",h.object)("fields",e.lJ4(47,fE))("label","person.page.jobtitle"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(48,mE))("label","person.page.lastname"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(49,M_))("label","person.page.firstname"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(50,gE))("label","person.page.name"),e.R7$(2),e.Y8G("routerLink",e.eq3(51,I_,h.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(24,43,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",h.object)("relationTypes",e.eq3(54,I_,e.lJ4(53,_E))))},dependencies:[d.bT,Hc.U,Hl.V,Kc.T,Da.Q,Vi.T,Sl,Wc,y.Wk,wd,d.Jj,G.h,G.D9]})};lm=(0,Ue.Cg)([(0,Wn.VK)("Person",Vn.n.StandalonePage)],lm),t(91345);const mR=["*"];function gR(p,C){}let S_=(()=>{class p extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["parentItem","itemType","metadataFields","label","incrementBy"]}getComponentName(){return"MetadataRepresentationListComponent"}importThemedComponent(a){return t(89979)(`./${a}/app/item-page/simple/metadata-representation-list/metadata-representation-list.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,91345))}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:mR,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,gR,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return p})();const _R=()=>["project.contributor.other"],vR=()=>["project.identifier.funder"],yR=()=>["dc.identifier"],ER=()=>["dc.description"],yE=()=>["dc.subject"],EE=p=>[p];function CR(p,C){if(1&p&&e.nrm(0,"ds-results-back-button",12),2&p){const a=e.XpG();e.Y8G("back",a.back)}}let P_=class nD extends Ad{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(nD)))(h||nD)}})();static#t=this.\u0275cmp=e.VBU({type:nD,selectors:[["ds-project"]],standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:55,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:function(a,h){1&a&&(e.DNE(0,CR,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-metadata-representation-list",7),e.nI1(11,"translate"),e.nrm(12,"ds-generic-item-page-field",8)(13,"ds-generic-item-page-field",8),e.k0s(),e.j41(14,"div",9),e.nrm(15,"ds-related-items",10),e.nI1(16,"translate"),e.nrm(17,"ds-related-items",10),e.nI1(18,"translate"),e.nrm(19,"ds-related-items",10),e.nI1(20,"translate"),e.nrm(21,"ds-generic-item-page-field",8)(22,"ds-generic-item-page-field",8),e.j41(23,"div")(24,"a",11),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()()),2&a&&(e.Y8G("ngIf",e.bMT(1,34,h.showBackButton$)),e.R7$(3),e.Y8G("item",h.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,36,null==h.object?null:h.object.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder"),e.R7$(2),e.Y8G("parentItem",h.object)("itemType","OrgUnit")("metadataFields",e.lJ4(48,_R))("label",e.bMT(11,38,"project.page.contributor")),e.R7$(2),e.Y8G("item",h.object)("fields",e.lJ4(49,vR))("label","project.page.funder"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(50,yR))("label","project.page.id"),e.R7$(2),e.Y8G("parentItem",h.object)("relationType","isPersonOfProject")("label",e.bMT(16,40,"relationships.isPersonOf")),e.R7$(2),e.Y8G("parentItem",h.object)("relationType","isPublicationOfProject")("label",e.bMT(18,42,"relationships.isPublicationOf")),e.R7$(2),e.Y8G("parentItem",h.object)("relationType","isOrgUnitOfProject")("label",e.bMT(20,44,"relationships.isOrgUnitOf")),e.R7$(2),e.Y8G("item",h.object)("fields",e.lJ4(51,ER))("label","project.page.description"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(52,yE))("label","project.page.keyword"),e.R7$(2),e.Y8G("routerLink",e.eq3(53,EE,h.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(26,46,"item.page.link.full")," "))},dependencies:[d.bT,Hc.U,Hl.V,Kc.T,Da.Q,Vi.T,S_,Sl,Wc,y.Wk,d.Jj,G.h,G.D9]})};function bR(p,C){if(1&p&&(e.j41(0,"div")(1,"a",2),e.EFF(2),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("href",a.uri.value,e.B4B),e.R7$(),e.JRh(a.uri.value)}}P_=(0,Ue.Cg)([(0,Wn.VK)("Project",Vn.n.StandalonePage)],P_);let CE=class sD extends Ur.C{ngOnInit(){this.uri=Ah.O.first(this.object.metadata,"dc.identifier.uri")}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(sD)))(h||sD)}})();static#t=this.\u0275cmp=e.VBU({type:sD,selectors:[["ds-external-source-entry-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:2,consts:[[1,"d-inline-block"],[4,"ngIf"],["target","_blank",3,"href"]],template:function(a,h){1&a&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.k0s(),e.DNE(3,bR,3,2,"div",1),e.k0s()),2&a&&(e.R7$(2),e.JRh(h.object.display),e.R7$(),e.Y8G("ngIf",h.uri))},dependencies:[d.bT]})};CE=(0,Ue.Cg)([(0,Wn.VK)(Ng.$,Vn.n.ListElement,Ws.o.EntitySearchModal),(0,Wn.VK)(Ng.$,Vn.n.ListElement,Ws.o.EntitySearchModalWithNameVariants)],CE);var R_=t(17584),VO=t(64953);const DR=p=>({value:p});let GO=(()=>{class p{constructor(a){this.modal=a}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(X.Lw))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-name-variant-modal"]],inputs:{value:"value"},standalone:!0,features:[e.aNF],decls:16,vars:12,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer","justify-content-between"],["type","button",1,"btn","btn-light","confirm-button",3,"click"],["type","button",1,"btn","btn-light","decline-button",3,"click"]],template:function(h,N){1&h&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2,"New name variant"),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return N.modal.dismiss("Cross click")}),e.j41(4,"span",3),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",4),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return N.modal.close()}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"button",7),e.bIt("click",function(){return N.modal.dismiss()}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()),2&h&&(e.R7$(7),e.SpI(" ",e.i5U(8,3,"submission.sections.describe.relationship-lookup.name-variant.notification.content",e.eq3(10,DR,N.value)),"\n"),e.R7$(4),e.JRh(e.bMT(12,6,"submission.sections.describe.relationship-lookup.name-variant.notification.confirm")),e.R7$(3),e.JRh(e.bMT(15,8,"submission.sections.describe.relationship-lookup.name-variant.notification.decline")))},dependencies:[G.h,G.D9]})}return p})();var $O=t(75706),bE=t(47331),Nd=t(54872);const dp=p=>({"is-invalid":p}),WO=()=>({standalone:!0}),TR=p=>({show:p});function DE(p,C){if(1&p){const a=e.RV6();e.j41(0,"div")(1,"a",9,2),e.bIt("click",function(){const N=e.eBV(a).$implicit,ie=e.XpG();return e.Njj(ie.onClickSuggestion(N))}),e.nrm(3,"span",10),e.k0s()()}if(2&p){const a=C.$implicit;e.R7$(3),e.Y8G("innerHTML",a,e.npT)}}let TE=(()=>{class p extends $O.t{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(a){this.value=a,this.submitSuggestion.emit(a)}onClickSuggestion(a){return this.value=a,this.clickSuggestion.emit(a),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-org-unit-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[e.Jv_([{provide:wn.kq,useExisting:(0,e.Rfq)(()=>p),multi:!0}]),e.Vt3,e.aNF],decls:11,vars:19,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","focus","click","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(h,N){if(1&h){const ie=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(ie),e.Njj(N.onSubmit(N.value))})("keydown",function(Le){return e.eBV(ie),e.Njj(N.onKeydown(Le))})("keydown.arrowdown",function(Le){return e.eBV(ie),e.Njj(N.shiftFocusDown(Le))})("keydown.arrowup",function(Le){return e.eBV(ie),e.Njj(N.shiftFocusUp(Le))})("keydown.esc",function(){return e.eBV(ie),e.Njj(N.close())})("dsClickOutside",function(){return e.eBV(ie),e.Njj(N.close())}),e.j41(2,"input",4,1),e.mxI("ngModelChange",function(Le){return e.eBV(ie),e.DH7(N.value,Le)||(N.value=Le),e.Njj(Le)}),e.bIt("focus",function(){return e.eBV(ie),e.Njj(N.open())})("click",function(){return e.eBV(ie),e.Njj(N.open())})("onDebounce",function(Le){return e.eBV(ie),e.Njj(N.find(Le))}),e.k0s(),e.j41(4,"button",5),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",6),e.nI1(8,"async"),e.j41(9,"div",7),e.DNE(10,DE,4,1,"div",8),e.k0s()()()}2&h&&(e.Y8G("action",N.action,e.B4B),e.R7$(2),e.R50("ngModel",N.value),e.Y8G("name",N.name)("ngClass",e.eq3(14,dp,!N.valid))("dsDebounce",N.debounceTime)("placeholder",N.placeholder)("ngModelOptions",e.lJ4(16,WO)),e.R7$(3),e.SpI(" ",e.bMT(6,10,"search.filters.search.submit")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(17,TR,e.bMT(8,12,N.show)&&N.isNotEmpty(N.suggestions))),e.R7$(3),e.Y8G("ngForOf",N.suggestions))},dependencies:[wn.YN,wn.qT,wn.me,wn.BC,wn.cb,wn.vS,wn.cV,bE.z,Nd.R,d.YU,d.pM,d.Jj,G.h,G.D9],styles:['form[_ngcontent-%COMP%]{z-index:1}form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font:var(--fa-font-solid);content:"\\f0d7";top:10px;right:0;height:20px;width:20px;z-index:-1}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:#0000}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}return p})();const KO=()=>["organization.address.addressLocality"],OE=()=>["organization.address.addressCountry"];function HO(p,C){if(1&p){const a=e.RV6();e.j41(0,"ds-org-unit-input-suggestions",7),e.mxI("ngModelChange",function(N){e.eBV(a);const ie=e.XpG();return e.DH7(ie.selectedName,N)||(ie.selectedName=N),e.Njj(N)}),e.bIt("clickSuggestion",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.select(N))})("submitSuggestion",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.selectCustom(N))}),e.k0s()}if(2&p){const a=e.XpG();e.Y8G("suggestions",a.allSuggestions),e.R50("ngModel",a.selectedName)}}function zO(p,C){if(1&p&&e.nrm(0,"div",8),2&p){const a=e.XpG();e.Y8G("innerHTML",a.dsoTitle,e.npT)}}function cm(p,C){1&p&&(e.j41(0,"span"),e.EFF(1,", "),e.k0s())}function ME(p,C){if(1&p&&(e.j41(0,"span",9)(1,"span",10),e.nrm(2,"span",10),e.k0s(),e.DNE(3,cm,2,0,"span",11),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("innerHTML",a.firstMetadataValue(e.lJ4(3,KO)),e.npT),e.R7$(),e.Y8G("innerHTML",a.firstMetadataValue(e.lJ4(4,KO)),e.npT),e.R7$(),e.Y8G("ngIf",a.dso.allMetadata("organization.address.addressCountry").length>0)}}function YO(p,C){if(1&p&&(e.j41(0,"span",12)(1,"span",10),e.nrm(2,"span",10),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("innerHTML",a.firstMetadataValue(e.lJ4(2,OE)),e.npT),e.R7$(),e.Y8G("innerHTML",a.firstMetadataValue(e.lJ4(3,OE)),e.npT)}}let up=class MP extends vo.P{constructor(C,a,h,N,ie,Ae,Le,_t,Ft,fn){super(C,Ft,fn),this.truncatableService=C,this.relationshipService=a,this.notificationsService=h,this.translateService=N,this.modalService=ie,this.itemDataService=Ae,this.bitstreamDataService=Le,this.selectableListService=_t,this.dsoNameService=Ft,this.appConfig=fn,this.alternativeField="dc.title.alternative",this.useNameVariants=!1}ngOnInit(){if(super.ngOnInit(),this.useNameVariants=this.context===Ws.o.EntitySearchModalWithNameVariants,this.useNameVariants){const C=this.dso?this.dsoNameService.getName(this.dso):void 0,a=this.allMetadataValues(this.alternativeField);this.allSuggestions=[C,...a],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,T.s)(1)).subscribe(h=>{this.selectedName=h||C})}this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(C){this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,T.s)(1)).subscribe(a=>{a||this.selectableListService.selectSingle(this.listID,this.object)}),this.relationshipService.setNameVariant(this.listID,this.dso.uuid,C)}selectCustom(C){this.allSuggestions.includes(C)||this.openModal(C).then(()=>{const a=new VO.vD;a.value=C;const N={[this.alternativeField]:[...this.dso.metadata[this.alternativeField]||[],a]},ie=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...N}});this.itemDataService.update(ie).pipe((0,T.s)(1)).subscribe()}).catch(()=>{}).finally(()=>{this.select(C)})}openModal(C){const a=this.modalService.open(GO,{centered:!0});return a.componentInstance.value=C,a.result}static#e=this.\u0275fac=function(a){return new(a||MP)(e.rXU(Oi.F),e.rXU(_l.RelationshipDataService),e.rXU(go.I),e.rXU(G.c$),e.rXU(X.Bq),e.rXU(R_.ItemDataService),e.rXU(Lo.BitstreamDataService),e.rXU(tc.K),e.rXU(Os.f),e.rXU(qi.vQ))};static#t=this.\u0275cmp=e.VBU({type:MP,selectors:[["ds-person-search-result-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex"],[1,"flex-grow-1"],[3,"suggestions","ngModel","ngModelChange","clickSuggestion","submitSuggestion",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-address-locality",4,"ngIf"],["class","item-list-address-country",4,"ngIf"],[3,"ngModelChange","clickSuggestion","submitSuggestion","suggestions","ngModel"],[1,"lead",3,"innerHTML"],[1,"item-list-address-locality"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-address-country"]],template:function(a,h){1&a&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,HO,1,2,"ds-org-unit-input-suggestions",2)(3,zO,1,1,"div",3),e.j41(4,"span",4),e.DNE(5,ME,4,5,"span",5)(6,YO,3,4,"span",6),e.k0s()()()),2&a&&(e.R7$(2),e.Y8G("ngIf",h.useNameVariants),e.R7$(),e.Y8G("ngIf",!h.useNameVariants),e.R7$(2),e.Y8G("ngIf",h.dso.allMetadata("organization.address.addressLocality").length>0),e.R7$(),e.Y8G("ngIf",h.dso.allMetadata("organization.address.addressCountry").length>0))},dependencies:[d.bT,TE,wn.YN,wn.BC,wn.vS],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]})};up=(0,Ue.Cg)([(0,Wn.VK)("OrgUnitSearchResult",Vn.n.ListElement,Ws.o.EntitySearchModal),(0,Wn.VK)("OrgUnitSearchResult",Vn.n.ListElement,Ws.o.EntitySearchModalWithNameVariants),(0,Ue.Sn)("design:paramtypes",[Oi.F,_l.RelationshipDataService,go.I,G.c$,X.Bq,R_.ItemDataService,Lo.BitstreamDataService,tc.K,Os.f,Object])],up);const OR=p=>({"is-invalid":p}),IE=()=>({standalone:!0}),MR=p=>({show:p});function XO(p,C){if(1&p){const a=e.RV6();e.j41(0,"div")(1,"a",9,2),e.bIt("click",function(){const N=e.eBV(a).$implicit,ie=e.XpG();return e.Njj(ie.onClickSuggestion(N))}),e.nrm(3,"span",10),e.k0s()()}if(2&p){const a=C.$implicit;e.R7$(3),e.Y8G("innerHTML",a,e.npT)}}let A_=(()=>{class p extends $O.t{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(a){a!==this.value&&(this.value=a,this.submitSuggestion.emit(a))}onClickSuggestion(a){return this.value=a,this.clickSuggestion.emit(a),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-person-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[e.Jv_([{provide:wn.kq,useExisting:(0,e.Rfq)(()=>p),multi:!0}]),e.Vt3,e.aNF],decls:11,vars:19,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"focus","blur","click","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(h,N){if(1&h){const ie=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){e.eBV(ie);const Le=e.sdS(3);return e.Njj(N.onSubmit(Le.value))})("keydown",function(Le){return e.eBV(ie),e.Njj(N.onKeydown(Le))})("keydown.arrowdown",function(Le){return e.eBV(ie),e.Njj(N.shiftFocusDown(Le))})("keydown.arrowup",function(Le){return e.eBV(ie),e.Njj(N.shiftFocusUp(Le))})("keydown.esc",function(){return e.eBV(ie),e.Njj(N.close())})("dsClickOutside",function(){return e.eBV(ie),e.Njj(N.close())}),e.j41(2,"input",4,1),e.bIt("focus",function(){return e.eBV(ie),e.Njj(N.open())})("blur",function(){e.eBV(ie);const Le=e.sdS(3);return e.Njj(N.onSubmit(Le.value))})("click",function(){return e.eBV(ie),e.Njj(N.open())})("onDebounce",function(Le){return e.eBV(ie),e.Njj(N.find(Le))}),e.k0s(),e.j41(4,"button",5),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",6),e.nI1(8,"async"),e.j41(9,"div",7),e.DNE(10,XO,4,1,"div",8),e.k0s()()()}2&h&&(e.Y8G("action",N.action,e.B4B),e.R7$(2),e.Y8G("ngModel",N.value)("name",N.name)("ngClass",e.eq3(14,OR,!N.valid))("dsDebounce",N.debounceTime)("placeholder",N.placeholder)("ngModelOptions",e.lJ4(16,IE)),e.R7$(3),e.SpI(" ",e.bMT(6,10,"search.filters.search.submit")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(17,MR,e.bMT(8,12,N.show)&&N.isNotEmpty(N.suggestions))),e.R7$(3),e.Y8G("ngForOf",N.suggestions))},dependencies:[wn.YN,wn.qT,wn.me,wn.BC,wn.cb,wn.vS,wn.cV,bE.z,Nd.R,d.YU,d.pM,d.Jj,G.h,G.D9],styles:['form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font:var(--fa-font-solid);content:"\\f0d7";top:10px;right:0;height:20px;width:20px}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:#0000}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}return p})();const dm=()=>["person.jobTitle"];function JO(p,C){if(1&p&&(e.j41(0,"a",11),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG(2);e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self"),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,6,null==a.dso?null:a.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function QO(p,C){if(1&p&&(e.j41(0,"span",13),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==a.dso?null:a.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function um(p,C){if(1&p&&(e.j41(0,"div",8),e.DNE(1,JO,3,8,"a",9)(2,QO,3,6,"span",10),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.linkType!==a.linkTypes.None),e.R7$(),e.Y8G("ngIf",a.linkType===a.linkTypes.None)}}function ZO(p,C){if(1&p&&(e.j41(0,"span")(1,"span",16),e.nrm(2,"span",16),e.k0s()()),2&p){const a=C.$implicit;e.R7$(),e.Y8G("innerHTML",a,e.npT),e.R7$(),e.Y8G("innerHTML",a,e.npT)}}function qO(p,C){if(1&p&&(e.j41(0,"span",14),e.DNE(1,ZO,3,2,"span",15),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.allMetadataValues(e.lJ4(1,dm)))}}let hm=class IP extends vo.P{constructor(C,a,h,N,ie,Ae,Le){super(C,Ae,Le),this.truncatableService=C,this.relationshipService=a,this.modalService=h,this.itemDataService=N,this.selectableListService=ie,this.dsoNameService=Ae,this.appConfig=Le,this.alternativeField="dc.title.alternative"}ngOnInit(){super.ngOnInit();const C=this.dso?this.dsoNameService.getName(this.dso):void 0,a=this.allMetadataValues(this.alternativeField);this.allSuggestions=[C,...a],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,T.s)(1)).subscribe(h=>{this.selectedName=h||C}),this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(C){this.relationshipService.setNameVariant(this.listID,this.dso.uuid,C),this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,T.s)(1)).subscribe(a=>{a||this.selectableListService.selectSingle(this.listID,this.object)})}selectCustom(C){this.allSuggestions.includes(C)||this.openModal(C).then(()=>{const a=new VO.vD;a.value=C;const N={[this.alternativeField]:[...this.dso.metadata[this.alternativeField]||[],a]},ie=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...N}});this.itemDataService.update(ie).pipe((0,T.s)(1)).subscribe(),this.itemDataService.commitUpdates()}).catch(()=>{}).finally(()=>{this.select(C)})}openModal(C){const a=this.modalService.open(GO,{centered:!0});return a.componentInstance.value=C,a.result}static#e=this.\u0275fac=function(a){return new(a||IP)(e.rXU(Oi.F),e.rXU(_l.RelationshipDataService),e.rXU(X.Bq),e.rXU(R_.ItemDataService),e.rXU(tc.K),e.rXU(Os.f),e.rXU(qi.vQ))};static#t=this.\u0275cmp=e.VBU({type:IP,selectors:[["ds-person-search-result-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[1,"d-flex"],[1,"flex-grow-1"],[3,"ngModelChange","clickSuggestion","submitSuggestion","suggestions","ngModel"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"div",0),e.DNE(1,um,3,2,"div",1),e.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"ds-person-input-suggestions",5),e.mxI("ngModelChange",function(ie){return e.DH7(h.selectedName,ie)||(h.selectedName=ie),ie}),e.bIt("clickSuggestion",function(ie){return h.select(ie)})("submitSuggestion",function(ie){return h.selectCustom(ie)}),e.k0s(),e.j41(6,"span",6),e.DNE(7,qO,2,2,"span",7),e.k0s()()()()()),2&a&&(e.R7$(),e.Y8G("ngIf",h.showThumbnails),e.R7$(),e.Y8G("ngClass",h.showThumbnails?"col-9":"col-md-12"),e.R7$(3),e.Y8G("suggestions",h.allSuggestions),e.R50("ngModel",h.selectedName),e.R7$(2),e.Y8G("ngIf",h.dso.allMetadata(e.lJ4(5,dm)).length>0))},dependencies:[d.bT,Vi.T,d.YU,A_,wn.YN,wn.BC,wn.vS,d.pM,d.Jj],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]})};hm=(0,Ue.Cg)([(0,Wn.VK)("PersonSearchResult",Vn.n.ListElement,Ws.o.EntitySearchModalWithNameVariants),(0,Ue.Sn)("design:paramtypes",[Oi.F,_l.RelationshipDataService,X.Bq,R_.ItemDataService,tc.K,Os.f,Object])],hm);var w_=t(49842);t(71172);const eM=["*"];function tM(p,C){}let pm=(()=>{class p extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item","mediaOptions"]}getComponentName(){return"MediaViewerComponent"}importThemedComponent(a){return t(5452)(`./${a}/app/item-page/media-viewer/media-viewer.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,71172))}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:eM,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,tM,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return p})();var L_=t(61189),x_=t(744),SR=t(70857);let SE=(()=>{class p{constructor(){this.LINKS_TO_FOLLOW=[(0,Ns.s)("format")]}showEmbeddedViewer(){return!(0,e.naY)()}getImageCount(a,h,N){let ie=0;return N.findAllByItem(a).pipe((0,ws.qD)(),(0,Ht.T)(Ae=>Ae.payload),(0,Ht.T)(Ae=>Ae.page),(0,Es.n)(Ae=>Ae),(0,Gn.p)(Ae=>this.isIiifBundle(Ae.name)),(0,zs.Z)(Ae=>h.findAllByItemAndBundleName(a,Ae.name,{currentPage:1,elementsPerPage:5},!0,!0,...this.LINKS_TO_FOLLOW).pipe((0,ws.qD)(),(0,Ht.T)(Le=>Le.payload),(0,Ht.T)(Le=>Le.page),(0,Es.n)(Le=>Le),(0,Es.n)(Le=>Le.format.pipe((0,ws.qD)(),(0,Ht.T)(_t=>_t.payload),(0,Ht.T)(_t=>(_t.mimetype.includes("image")&&ie++,ie)))))),(0,SR.H)())}isIiifBundle(a){return!("OtherContent"===a||"LICENSE"===a||"THUMBNAIL"===a||"TEXT"===a||"METADATA"===a||"CC-LICENSE"===a||"BRANDED_PREVIEW"===a)}static#e=this.\u0275fac=function(h){return new(h||p)};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function PE(p,C){if(1&p&&(e.j41(0,"p",3),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.JRh(a.viewerMessage)}}function Fd(p,C){if(1&p&&(e.nrm(0,"iframe",4),e.nI1(1,"async")),2&p){const a=e.XpG();e.Y8G("src",e.bMT(1,1,a.iframeViewerUrl),e.f$h)}}let fm=(()=>{class p{constructor(a,h,N,ie,Ae,Le){this.sanitizer=a,this.viewerService=h,this.bitstreamDataService=N,this.bundleDataService=ie,this.hostWindowService=Ae,this.platformId=Le,this.isViewerAvailable=!0,this.multi=!1,this.notMobile=!1,this.viewerMessage="Sorry, the Mirador viewer is not currently available in development mode."}setURL(){const a=encodeURIComponent(R.c.rest.baseUrl+"/iiif/"+this.object.id+"/manifest");let h=`${R.c.ui.nameSpace}${R.c.ui.nameSpace.length>1?"/":""}iiif/mirador/index.html?manifest=${a}`;return this.searchable&&(h+="&searchable="+this.searchable),this.query&&(h+="&query="+this.query),this.multi&&(h+="&multi="+this.multi),this.notMobile&&(h+="&notMobile=true"),this.sanitizer.bypassSecurityTrustResourceUrl(h)}ngOnInit(){if((0,d.UE)(this.platformId))if(this.isViewerAvailable=this.viewerService.showEmbeddedViewer(),this.hostWindowService.widthCategory.pipe((0,T.s)(1)).subscribe(a=>{this.notMobile=!(a===x_.tP.XS||a===x_.tP.SM)}),this.searchable){this.multi=!0;const a=(0,Rs.of)("");this.iframeViewerUrl=a.pipe((0,Ht.T)(h=>this.setURL()))}else this.iframeViewerUrl=this.viewerService.getImageCount(this.object,this.bitstreamDataService,this.bundleDataService).pipe((0,Ht.T)(a=>(a>1&&(this.multi=!0),this.setURL())))}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(f.up),e.rXU(SE),e.rXU(Lo.BitstreamDataService),e.rXU(L_.BundleDataService),e.rXU(x_.CV),e.rXU(e.Agw))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-mirador-viewer"]],inputs:{object:"object",query:"query",searchable:"searchable"},standalone:!0,features:[e.aNF],decls:5,vars:5,consts:[[1,"full-text-op"],["id","viewer-message",4,"ngIf"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src",4,"ngIf"],["id","viewer-message"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src"]],template:function(h,N){1&h&&(e.j41(0,"p",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,PE,2,1,"p",1)(4,Fd,2,3,"iframe",2)),2&h&&(e.R7$(),e.JRh(e.bMT(2,3,"iiifviewer.fullscreen.notice")),e.R7$(2),e.Y8G("ngIf",!N.isViewerAvailable),e.R7$(),e.Y8G("ngIf",N.isViewerAvailable))},dependencies:[G.h,G.D9,d.Jj,d.bT],styles:["#mirador-viewer[_ngcontent-%COMP%]{border:1px solid #dee2e6;height:660px;width:100%}.full-text-op[_ngcontent-%COMP%]{text-align:right;color:#333;font-size:.8em}p.full-text-op[_ngcontent-%COMP%]{margin-bottom:0}"],changeDetection:0})}return p})();t(70789);const RR=["*"];function N_(p,C){}let hp=(()=>{class p extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"FileSectionComponent"}importThemedComponent(a){return t(78373)(`./${a}/app/item-page/simple/field-components/file-section/file-section.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,70789))}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-page-file-section"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:RR,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,N_,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return p})(),F_=(()=>{class p extends Gc{constructor(){super(...arguments),this.fields=["dc.description.abstract"],this.label="item.page.abstract",this.enableMarkdown=!0}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-page-abstract-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(h,N){1&h&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&h&&(e.R7$(),e.Y8G("mdValues",null==N.item?null:N.item.allMetadata(N.fields))("separator",N.separator)("label",N.label)("enableMarkdown",N.enableMarkdown)("urlRegex",N.urlRegex)("browseDefinition",e.bMT(2,7,N.browseDefinition))("img",N.img))},dependencies:[Ou,d.Jj],encapsulation:2})}return p})(),mm=(()=>{class p extends Gc{constructor(){super(...arguments),this.separator=", ",this.fields=["dc.date.issued"],this.label="item.page.date"}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-page-date-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(h,N){1&h&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&h&&(e.R7$(),e.Y8G("mdValues",null==N.item?null:N.item.allMetadata(N.fields))("separator",N.separator)("label",N.label)("enableMarkdown",N.enableMarkdown)("urlRegex",N.urlRegex)("browseDefinition",e.bMT(2,7,N.browseDefinition))("img",N.img))},dependencies:[Ou,d.Jj],encapsulation:2})}return p})();function B_(p,C){if(1&p&&e.nrm(0,"span",4),2&p){const a=e.XpG(2);e.Y8G("innerHTML",a.separator,e.npT)}}function nM(p,C){if(1&p&&(e.j41(0,"a",2),e.EFF(1),e.DNE(2,B_,1,1,"span",3),e.k0s()),2&p){const a=C.$implicit,h=C.last,N=e.XpG();e.Y8G("href",a.value,e.B4B)("target",N.hasInternalLink(a.value)?"_self":"_blank"),e.R7$(),e.SpI(" ",N.linktext||a.value,""),e.R7$(),e.Y8G("ngIf",!h)}}let gm=(()=>{class p extends Ou{static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-metadata-uri-values"]],inputs:{linktext:"linktext",mdValues:"mdValues",separator:"separator",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:4,consts:[[3,"label"],["class","dont-break-out",3,"href","target",4,"ngFor","ngForOf"],[1,"dont-break-out",3,"href","target"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function(h,N){1&h&&(e.j41(0,"ds-metadata-field-wrapper",0),e.nI1(1,"translate"),e.DNE(2,nM,3,4,"a",1),e.k0s()),2&h&&(e.Y8G("label",e.bMT(1,2,N.label)),e.R7$(2),e.Y8G("ngForOf",N.mdValues))},dependencies:[Da.Q,G.h,G.D9,d.Sq,d.bT]})}return p})(),RE=(()=>{class p extends Gc{static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-page-uri-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[1,"item-page-field"],[3,"mdValues","separator","label"]],template:function(h,N){1&h&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-uri-values",1),e.k0s()),2&h&&(e.R7$(),e.Y8G("mdValues",null==N.item?null:N.item.allMetadata(N.fields))("separator",N.separator)("label",N.label))},dependencies:[gm],encapsulation:2})}return p})();const AR=()=>["dc.contributor.author","dc.creator"],sM=()=>["journal.title"],wR=()=>["journal.identifier.issn"],xu=()=>["journalvolume.identifier.name"],LR=()=>["dc.publisher"],_m=()=>["dc.description"],iM=()=>["dc.subject"],rM=()=>["dc.identifier.citation"],U_=()=>["dc.identifier.uri"],oM=()=>["coar.notify.endorsedBy"],zl=()=>["datacite.relation.isReviewedBy"],pp=()=>["datacite.relation.isSupplementedBy"],io=()=>["datacite.relation.isReferencedBy"],Bd=p=>[p];function vm(p,C){if(1&p&&e.nrm(0,"ds-results-back-button",16),2&p){const a=e.XpG();e.Y8G("back",a.back)}}function al(p,C){if(1&p&&(e.j41(0,"div",4)(1,"div",17),e.nrm(2,"ds-mirador-viewer",18),e.nI1(3,"async"),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.Y8G("object",a.object)("searchable",a.iiifSearchEnabled)("query",e.bMT(3,3,a.iiifQuery$))}}function fp(p,C){if(1&p&&(e.qex(0),e.j41(1,"ds-metadata-field-wrapper",19),e.nrm(2,"ds-thumbnail",20),e.nI1(3,"async"),e.k0s(),e.bVm()),2&p){const a=e.XpG();e.R7$(),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(3,2,null==a.object?null:a.object.thumbnail))}}function aM(p,C){if(1&p&&(e.j41(0,"div",21),e.nrm(1,"ds-media-viewer",8),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("item",a.object)}}let vc=class iD extends Ad{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(iD)))(h||iD)}})();static#t=this.\u0275cmp=e.VBU({type:iD,selectors:[["ds-publication"]],standalone:!0,features:[e.Vt3,e.aNF],decls:40,vars:88,consts:[[3,"back",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[3,"item","fields","separator","label"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[3,"back"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"mb-2"]],template:function(a,h){1&a&&(e.DNE(0,vm,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.DNE(2,al,4,5,"div",1),e.j41(3,"div",2),e.nrm(4,"ds-item-page-title-field",3)(5,"ds-dso-edit-menu"),e.k0s(),e.j41(6,"div",4)(7,"div",5),e.DNE(8,fp,4,4,"ng-container",6)(9,aM,2,1,"div",7),e.nrm(10,"ds-item-page-file-section",8)(11,"ds-item-page-date-field",8)(12,"ds-metadata-representation-list",9),e.nI1(13,"translate"),e.nrm(14,"ds-generic-item-page-field",10)(15,"ds-generic-item-page-field",10)(16,"ds-generic-item-page-field",10)(17,"ds-generic-item-page-field",10),e.k0s(),e.j41(18,"div",11),e.nrm(19,"ds-related-items",12),e.nI1(20,"translate"),e.nrm(21,"ds-related-items",12),e.nI1(22,"translate"),e.nrm(23,"ds-related-items",12),e.nI1(24,"translate"),e.nrm(25,"ds-item-page-abstract-field",8)(26,"ds-generic-item-page-field",10)(27,"ds-generic-item-page-field",13)(28,"ds-generic-item-page-field",10)(29,"ds-item-page-uri-field",10)(30,"ds-item-page-collections",8)(31,"ds-item-page-uri-field",10)(32,"ds-item-page-uri-field",10)(33,"ds-item-page-uri-field",10)(34,"ds-item-page-uri-field",10),e.j41(35,"div")(36,"a",14),e.nrm(37,"i",15),e.EFF(38),e.nI1(39,"translate"),e.k0s()()()()),2&a&&(e.Y8G("ngIf",e.bMT(1,61,h.showBackButton$)),e.R7$(2),e.Y8G("ngIf",h.iiifEnabled),e.R7$(2),e.Y8G("item",h.object),e.R7$(4),e.Y8G("ngIf",!(h.mediaViewer.image||h.mediaViewer.video)),e.R7$(),e.Y8G("ngIf",h.mediaViewer.image||h.mediaViewer.video),e.R7$(),e.Y8G("item",h.object),e.R7$(),e.Y8G("item",h.object),e.R7$(),e.Y8G("parentItem",h.object)("itemType","Person")("metadataFields",e.lJ4(73,AR))("label",e.bMT(13,63,"relationships.isAuthorOf")),e.R7$(2),e.Y8G("item",h.object)("fields",e.lJ4(74,sM))("label","publication.page.journal-title"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(75,wR))("label","publication.page.journal-issn"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(76,xu))("label","publication.page.volume-title"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(77,LR))("label","publication.page.publisher"),e.R7$(2),e.Y8G("parentItem",h.object)("relationType","isProjectOfPublication")("label",e.bMT(20,65,"relationships.isProjectOf")),e.R7$(2),e.Y8G("parentItem",h.object)("relationType","isOrgUnitOfPublication")("label",e.bMT(22,67,"relationships.isOrgUnitOf")),e.R7$(2),e.Y8G("parentItem",h.object)("relationType","isJournalIssueOfPublication")("label",e.bMT(24,69,"relationships.isJournalIssueOf")),e.R7$(2),e.Y8G("item",h.object),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(78,_m))("label","publication.page.description"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(79,iM))("separator",", ")("label","item.page.subject"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(80,rM))("label","item.page.citation"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(81,U_))("label","item.page.uri"),e.R7$(),e.Y8G("item",h.object),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(82,oM))("label","item.page.endorsement"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(83,zl))("label","item.page.review"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(84,pp))("label","item.page.supplemented"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(85,io))("label","item.page.referenced"),e.R7$(2),e.Y8G("routerLink",e.eq3(86,Bd,h.itemPageRoute+"/full")),e.R7$(2),e.SpI(" ",e.bMT(39,71,"item.page.link.full")," "))},dependencies:[d.bT,Hc.U,fm,Hl.V,Kc.T,Da.Q,Vi.T,pm,hp,mm,S_,Sl,Wc,F_,RE,w_.r,y.Wk,d.Jj,G.h,G.D9],changeDetection:0})};vc=(0,Ue.Cg)([(0,Wn.VK)("Publication",Vn.n.StandalonePage)],vc);const j_=(p,C)=>({row:p,col:C}),AE=(p,C)=>({"col-auto":p,row:C}),lM=p=>({width:"var(--ds-thumbnail-max-width)","margin-bottom":p});function cM(p,C){if(1&p){const a=e.RV6();e.j41(0,"div",6)(1,"a",7)(2,"img",8),e.bIt("error",function(){e.eBV(a);const N=e.XpG(2);return e.Njj(N.showImage=!1)}),e.k0s()()()}if(2&p){const a=e.XpG(2);e.Y8G("ngClass",e.l_i(5,AE,"full"===a.variant,"small"===a.variant)),e.R7$(),e.Y8G("href",a.uri,e.B4B),e.R7$(),e.Y8G("src",a.imgSrc,e.B4B)("alt",a.name)("ngStyle",e.eq3(8,lM,"small"===a.variant?"1ch":"0"))}}function ro(p,C){if(1&p&&(e.j41(0,"a",9),e.EFF(1),e.k0s()),2&p){const a=e.XpG(2);e.Y8G("href",a.uri,e.B4B),e.R7$(),e.JRh(a.name)}}function wE(p,C){if(1&p&&(e.j41(0,"div",1)(1,"ds-metadata-field-wrapper",2),e.nI1(2,"translate"),e.j41(3,"div",3),e.DNE(4,cM,3,10,"div",4),e.j41(5,"div",3)(6,"span"),e.EFF(7),e.nI1(8,"translate"),e.DNE(9,ro,2,2,"a",5),e.k0s()()()()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,6,"item.page.cc.license.title")),e.R7$(2),e.Y8G("ngClass",e.l_i(10,j_,"full"===a.variant,"small"===a.variant)),e.R7$(),e.Y8G("ngIf",a.showImage),e.R7$(),e.Y8G("ngClass",e.l_i(13,j_,"small"===a.variant,"full"===a.variant)),e.R7$(2),e.SpI(" ","full"===a.variant&&a.showDisclaimer?e.bMT(8,8,"item.page.cc.license.disclaimer"):""," "),e.R7$(2),e.Y8G("ngIf",a.showName||!a.showImage)}}let dM=(()=>{class p{constructor(){this.variant="small",this.ccLicenseUriField="dc.rights.uri",this.ccLicenseNameField="dc.rights",this.showName=!0,this.showDisclaimer=!0,this.showImage=!0}ngOnInit(){this.uri=this.item.firstMetadataValue(this.ccLicenseUriField),this.name=this.item.firstMetadataValue(this.ccLicenseNameField);const h=/.*creativecommons.org\/(licenses|publicdomain)\/([^/]+)/gm.exec(this.uri??"")??[],N=h.length>2?h[2]:null;this.imgSrc=N?`assets/images/cc-licenses/${N}.png`:null}static#e=this.\u0275fac=function(h){return new(h||p)};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-page-cc-license-field"]],inputs:{item:"item",variant:"variant",ccLicenseUriField:"ccLicenseUriField",ccLicenseNameField:"ccLicenseNameField",showName:"showName",showDisclaimer:"showDisclaimer"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["class","item-page-field",4,"ngIf"],[1,"item-page-field"],[3,"label"],[3,"ngClass"],["style","align-content: center;",3,"ngClass",4,"ngIf"],["target","_blank","id","cc-name",3,"href",4,"ngIf"],[2,"align-content","center",3,"ngClass"],["target","_blank",1,"link-anchor","dont-break-out","ds-simple-metadata-link",3,"href"],[1,"cc-image",3,"error","src","alt","ngStyle"],["target","_blank","id","cc-name",3,"href"]],template:function(h,N){1&h&&e.DNE(0,wE,10,16,"div",0),2&h&&e.Y8G("ngIf",N.uri&&N.name)},dependencies:[d.bT,d.YU,d.B3,G.h,G.D9,Da.Q],encapsulation:2})}return p})();const oo=()=>["dc.contributor.author","dc.creator"],mp=()=>["journal.title"],Nu=()=>["journal.identifier.issn"],ym=()=>["journalvolume.identifier.name"],gp=()=>["dc.publisher"],Em=()=>["dc.description"],LE=()=>["dc.subject"],xE=()=>["dc.identifier.citation"],NE=()=>["dc.identifier.uri"],Cm=()=>["coar.notify.endorsedBy"],k_=()=>["datacite.relation.isReviewedBy"],FE=()=>["datacite.relation.isSupplementedBy"],bm=()=>["datacite.relation.isReferencedBy"],Ud=p=>[p];function uM(p,C){if(1&p&&e.nrm(0,"ds-results-back-button",16),2&p){const a=e.XpG();e.Y8G("back",a.back)}}function ja(p,C){if(1&p&&(e.j41(0,"div",4)(1,"div",17),e.nrm(2,"ds-mirador-viewer",18),e.nI1(3,"async"),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.Y8G("object",a.object)("searchable",a.iiifSearchEnabled)("query",e.bMT(3,3,a.iiifQuery$))}}function hM(p,C){if(1&p&&(e.qex(0),e.j41(1,"ds-metadata-field-wrapper",19),e.nrm(2,"ds-thumbnail",20),e.nI1(3,"async"),e.k0s(),e.bVm()),2&p){const a=e.XpG();e.R7$(),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(3,2,null==a.object?null:a.object.thumbnail))}}function pM(p,C){if(1&p&&(e.j41(0,"div",21),e.nrm(1,"ds-media-viewer",8),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("item",a.object)}}let Fu=class rD extends Ad{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(rD)))(h||rD)}})();static#t=this.\u0275cmp=e.VBU({type:rD,selectors:[["ds-untyped-item"]],standalone:!0,features:[e.Vt3,e.aNF],decls:35,vars:75,consts:[[3,"back",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"item","fields","separator","label"],[3,"item","variant"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[3,"back"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"mb-2"]],template:function(a,h){1&a&&(e.DNE(0,uM,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.DNE(2,ja,4,5,"div",1),e.j41(3,"div",2),e.nrm(4,"ds-item-page-title-field",3)(5,"ds-dso-edit-menu"),e.k0s(),e.j41(6,"div",4)(7,"div",5),e.DNE(8,hM,4,4,"ng-container",6)(9,pM,2,1,"div",7),e.nrm(10,"ds-item-page-file-section",8)(11,"ds-item-page-date-field",8)(12,"ds-metadata-representation-list",9),e.nI1(13,"translate"),e.nrm(14,"ds-generic-item-page-field",10)(15,"ds-generic-item-page-field",10)(16,"ds-generic-item-page-field",10)(17,"ds-generic-item-page-field",10),e.k0s(),e.j41(18,"div",11),e.nrm(19,"ds-item-page-abstract-field",8)(20,"ds-generic-item-page-field",10)(21,"ds-generic-item-page-field",12)(22,"ds-generic-item-page-field",10)(23,"ds-item-page-uri-field",10)(24,"ds-item-page-collections",8)(25,"ds-item-page-uri-field",10)(26,"ds-item-page-uri-field",10)(27,"ds-item-page-uri-field",10)(28,"ds-item-page-uri-field",10)(29,"ds-item-page-cc-license-field",13),e.j41(30,"div")(31,"a",14),e.nrm(32,"i",15),e.EFF(33),e.nI1(34,"translate"),e.k0s()()()()),2&a&&(e.Y8G("ngIf",e.bMT(1,54,h.showBackButton$)),e.R7$(2),e.Y8G("ngIf",h.iiifEnabled),e.R7$(2),e.Y8G("item",h.object),e.R7$(4),e.Y8G("ngIf",!(h.mediaViewer.image||h.mediaViewer.video)),e.R7$(),e.Y8G("ngIf",h.mediaViewer.image||h.mediaViewer.video),e.R7$(),e.Y8G("item",h.object),e.R7$(),e.Y8G("item",h.object),e.R7$(),e.Y8G("parentItem",h.object)("itemType","Person")("metadataFields",e.lJ4(60,oo))("label",e.bMT(13,56,"relationships.isAuthorOf")),e.R7$(2),e.Y8G("item",h.object)("fields",e.lJ4(61,mp))("label","item.page.journal-title"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(62,Nu))("label","item.page.journal-issn"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(63,ym))("label","item.page.volume-title"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(64,gp))("label","item.page.publisher"),e.R7$(2),e.Y8G("item",h.object),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(65,Em))("label","item.page.description"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(66,LE))("separator",", ")("label","item.page.subject"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(67,xE))("label","item.page.citation"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(68,NE))("label","item.page.uri"),e.R7$(),e.Y8G("item",h.object),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(69,Cm))("label","item.page.endorsement"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(70,k_))("label","item.page.review"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(71,FE))("label","item.page.supplemented"),e.R7$(),e.Y8G("item",h.object)("fields",e.lJ4(72,bm))("label","item.page.referenced"),e.R7$(),e.Y8G("item",h.object)("variant","full"),e.R7$(2),e.Y8G("routerLink",e.eq3(73,Ud,h.itemPageRoute+"/full")),e.R7$(2),e.SpI(" ",e.bMT(34,58,"item.page.link.full")," "))},dependencies:[d.bT,Hc.U,fm,Hl.V,Kc.T,Da.Q,Vi.T,pm,hp,mm,S_,Sl,F_,RE,w_.r,y.Wk,d.Jj,G.h,G.D9,dM],changeDetection:0})};Fu=(0,Ue.Cg)([(0,Wn.VK)(lc.q,Vn.n.StandalonePage)],Fu);var BE=t(63963),Bu=t(67811),Dm=t(77641),xR=t(76794),fM=t(52619);function Tm(p,C){}let V_=(()=>{class p extends xR.e{constructor(){super(...arguments),this.processCompleted=new e.bkB,this.inputNames=["item","object","option","workflowitem"],this.outputNames=["processCompleted"]}getComponent(){return(0,fM.u3)(this.option)}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-claimed-task-actions-loader"]],inputs:{item:"item",object:"object",option:"option",workflowitem:"workflowitem"},outputs:{processCompleted:"processCompleted"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(h,N){1&h&&e.DNE(0,Tm,0,0,"ng-template",1,0,e.C5r)},dependencies:[mu.z],encapsulation:2})}return p})();const G_=p=>[p];function Uu(p,C){if(1&p){const a=e.RV6();e.j41(0,"ds-claimed-task-actions-loader",5),e.bIt("processCompleted",function(N){e.eBV(a);const ie=e.XpG(2);return e.Njj(ie.processCompleted.emit(N))}),e.k0s()}if(2&p){const a=C.$implicit,h=e.XpG(2);e.Y8G("item",h.item)("option",a)("object",h.object)("workflowitem",h.workflowitem)}}function UE(p,C){if(1&p&&(e.qex(0),e.j41(1,"div",1),e.DNE(2,Uu,1,4,"ds-claimed-task-actions-loader",2),e.j41(3,"button",3),e.nI1(4,"translate"),e.nrm(5,"i",4),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.bVm()),2&p){const a=C.ngVar,h=e.XpG();e.R7$(2),e.Y8G("ngForOf",null==a?null:a.options),e.R7$(),e.FS9("ngbTooltip",e.bMT(4,4,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(8,G_,h.getWorkflowItemViewRoute(h.workflowitem))),e.R7$(3),e.SpI(" ",e.bMT(7,6,"submission.workflow.generic.view")," ")}}let Om=(()=>{class p extends Dm.p{constructor(a,h,N,ie,Ae,Le,_t){super(Rh.T.type,a,h,N,ie,Ae,Le),this.injector=a,this.router=h,this.notificationsService=N,this.translate=ie,this.searchService=Ae,this.requestService=Le,this.workflowActionService=_t}ngOnInit(){this.initObjects(this.object),this.initAction(this.object)}initObjects(a){this.object=a}initAction(a){this.actionRD$=a.action}getWorkflowItemViewRoute(a){return(0,Nh.XH)(a?.id)}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(e.zZn),e.rXU(y.Ix),e.rXU(go.I),e.rXU(G.c$),e.rXU(Bu.S),e.rXU(Fr.B),e.rXU(BE.WorkflowActionDataService))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-claimed-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[1,"mt-1","mb-3","space-children-mr"],[3,"item","option","object","workflowitem","processCompleted",4,"ngFor","ngForOf"],[1,"btn","btn-primary","workflow-view",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[3,"processCompleted","item","option","object","workflowitem"]],template:function(h,N){if(1&h&&(e.DNE(0,UE,8,10,"ng-container",0),e.nI1(1,"async")),2&h){let ie;e.Y8G("ngVar",null==(ie=e.bMT(1,1,N.actionRD$))?null:ie.payload)}},dependencies:[yo.r,d.pM,V_,X.n8,X.md,y.Wk,d.Jj,G.h,G.D9],styles:["ds-claimed-task-actions-loader[_ngcontent-%COMP%]:empty{margin:0!important}"]})}return p})();const ju=p=>[p];let _p=(()=>{class p extends Dm.p{constructor(a,h,N,ie,Ae,Le){super(lc.q.type,a,h,N,ie,Ae,Le),this.injector=a,this.router=h,this.notificationsService=N,this.translate=ie,this.searchService=Ae,this.requestService=Le}ngOnInit(){this.initPageRoute()}initObjects(a){this.object=a,this.initPageRoute()}initPageRoute(){this.itemPageRoute=(0,an._o)(this.object)}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(e.zZn),e.rXU(y.Ix),e.rXU(go.I),e.rXU(G.c$),e.rXU(Bu.S),e.rXU(Fr.B))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:9,consts:[[1,"btn","btn-primary","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(h,N){1&h&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nrm(2,"i",1),e.EFF(3),e.nI1(4,"translate"),e.k0s()),2&h&&(e.FS9("ngbTooltip",e.bMT(1,3,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(7,ju,N.itemPageRoute)),e.R7$(3),e.SpI(" ",e.bMT(4,5,"submission.workflow.generic.view"),"\n"))},dependencies:[X.n8,X.md,y.Wk,G.h,G.D9]})}return p})();var $_=t(77490),jE=t(54703);const kE=p=>[p];function VE(p,C){1&p&&(e.j41(0,"span"),e.nrm(1,"i",4),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&p&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function mM(p,C){1&p&&(e.j41(0,"span"),e.nrm(1,"i",5),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&p&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.pool.claim"),""))}let W_=(()=>{class p extends jE.i{constructor(a,h,N,ie,Ae,Le,_t){super(Cf.k.type,a,h,N,Ae,Le,_t),this.injector=a,this.router=h,this.notificationsService=N,this.claimedTaskService=ie,this.translate=Ae,this.searchService=Le,this.requestService=_t,this.subs=[]}claim(){this.subs.push(this.startActionExecution().pipe((0,T.s)(1)).subscribe())}initObjects(a){this.object=a}actionExecution(){return this.objectDataService.getPoolTaskEndpointById(this.object.id).pipe((0,Es.n)(a=>this.claimedTaskService.claimTask(this.object.id,a)))}reloadObjectExecution(){return this.claimedTaskService.findByItem(this.itemUuid).pipe((0,T.s)(1))}initReloadAnchor(){this.itemUuid=this.item.uuid}ngOnDestroy(){this.subs.forEach(a=>a.unsubscribe())}getWorkflowItemViewRoute(a){return(0,Nh.XH)(a?.id)}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(e.zZn),e.rXU(y.Ix),e.rXU(go.I),e.rXU($_.ClaimedTaskDataService),e.rXU(G.c$),e.rXU(Bu.S),e.rXU(Fr.B))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-pool-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[e.Vt3,e.aNF],decls:12,vars:21,consts:[["type","button",1,"btn","btn-info","mt-1","mb-3",3,"click","ngbTooltip","disabled"],[4,"ngIf"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","ml-1","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-hand-paper"]],template:function(h,N){1&h&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nI1(2,"async"),e.bIt("click",function(){return N.claim()}),e.DNE(3,VE,4,3,"span",1),e.nI1(4,"async"),e.DNE(5,mM,4,3,"span",1),e.nI1(6,"async"),e.k0s(),e.j41(7,"button",2),e.nI1(8,"translate"),e.nrm(9,"i",3),e.EFF(10),e.nI1(11,"translate"),e.k0s()),2&h&&(e.FS9("ngbTooltip",e.bMT(1,7,"submission.workflow.tasks.pool.claim_help")),e.Y8G("disabled",e.bMT(2,9,N.processing$)),e.R7$(3),e.Y8G("ngIf",e.bMT(4,11,N.processing$)),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(6,13,N.processing$)),e.R7$(2),e.FS9("ngbTooltip",e.bMT(8,15,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(19,kE,N.getWorkflowItemViewRoute(N.workflowitem))),e.R7$(3),e.SpI(" ",e.bMT(11,17,"submission.workflow.generic.view"),"\n"))},dependencies:[X.n8,X.md,d.bT,y.Wk,d.Jj,G.h,G.D9]})}return p})();const ku=p=>[p];let Mm=(()=>{class p extends Dm.p{constructor(a,h,N,ie,Ae,Le){super(Gg.t.type,a,h,N,ie,Ae,Le),this.injector=a,this.router=h,this.notificationsService=N,this.translate=ie,this.searchService=Ae,this.requestService=Le}getWorkflowItemViewRoute(a){return(0,Nh.XH)(a?.id)}initObjects(a){this.object=a}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(e.zZn),e.rXU(y.Ix),e.rXU(go.I),e.rXU(G.c$),e.rXU(Bu.S),e.rXU(Fr.B))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-workflowitem-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:9,consts:[["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(h,N){1&h&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nrm(2,"i",1),e.EFF(3),e.nI1(4,"translate"),e.k0s()),2&h&&(e.FS9("ngbTooltip",e.bMT(1,3,"submission.workspace.generic.view-help")),e.Y8G("routerLink",e.eq3(7,ku,N.getWorkflowItemViewRoute(N.object))),e.R7$(3),e.SpI(" ",e.bMT(4,5,"submission.workspace.generic.view"),"\n"))},dependencies:[X.n8,X.md,y.Wk,G.h,G.D9]})}return p})();const GE=p=>[p];function $E(p,C){if(1&p&&(e.j41(0,"a",6),e.nI1(1,"translate"),e.nI1(2,"translate"),e.nrm(3,"i",7),e.EFF(4),e.nI1(5,"translate"),e.k0s()),2&p){const a=e.XpG();e.FS9("id","edit_"+a.object.id),e.FS9("ngbTooltip",e.bMT(1,5,"submission.workflow.generic.edit-help")),e.Y8G("routerLink",e.eq3(11,GE,"/workspaceitems/"+a.object.id+"/edit")),e.BMQ("aria-label",e.bMT(2,7,"submission.workflow.generic.edit-help")),e.R7$(4),e.SpI(" ",e.bMT(5,9,"submission.workflow.generic.edit")," ")}}function WE(p,C){1&p&&(e.j41(0,"span"),e.nrm(1,"i",10),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&p&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function vM(p,C){1&p&&(e.j41(0,"span"),e.nrm(1,"i",11),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&p&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.generic.delete"),""))}function NR(p,C){if(1&p){const a=e.RV6();e.j41(0,"button",8),e.nI1(1,"translate"),e.nI1(2,"translate"),e.bIt("click",function(N){e.eBV(a);const ie=e.XpG(),Ae=e.sdS(12);return N.preventDefault(),e.Njj(ie.confirmDiscard(Ae))}),e.DNE(3,WE,4,3,"span",9),e.nI1(4,"async"),e.DNE(5,vM,4,3,"span",9),e.nI1(6,"async"),e.k0s()}if(2&p){const a=e.XpG();e.FS9("id","delete_"+a.object.id),e.FS9("ngbTooltip",e.bMT(1,5,"submission.workflow.generic.delete-help")),e.BMQ("aria-label",e.bMT(2,7,"submission.workflow.generic.delete-help")),e.R7$(3),e.Y8G("ngIf",e.bMT(4,9,a.processingDelete$)),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(6,11,a.processingDelete$))}}function yM(p,C){if(1&p){const a=e.RV6();e.j41(0,"div",12)(1,"h4",13),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",14),e.bIt("click",function(){const N=e.eBV(a).dismiss;return e.Njj(N("cancel"))}),e.j41(5,"span",15),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",16)(8,"p"),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"div",17)(12,"button",18),e.bIt("click",function(){const N=e.eBV(a).close;return e.Njj(N("cancel"))}),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"button",19),e.bIt("click",function(){const N=e.eBV(a).close;return e.Njj(N("ok"))}),e.EFF(16),e.nI1(17,"translate"),e.k0s()()}2&p&&(e.R7$(2),e.JRh(e.bMT(3,4,"submission.general.discard.confirm.title")),e.R7$(7),e.JRh(e.bMT(10,6,"submission.general.discard.confirm.info")),e.R7$(4),e.JRh(e.bMT(14,8,"submission.general.discard.confirm.cancel")),e.R7$(3),e.JRh(e.bMT(17,10,"submission.general.discard.confirm.submit")))}let vp=(()=>{class p extends Dm.p{constructor(a,h,N,ie,Ae,Le,_t,Ft,fn){super(yf.F.type,a,h,ie,Ae,Le,_t),this.injector=a,this.router=h,this.modalService=N,this.notificationsService=ie,this.translate=Ae,this.searchService=Le,this.requestService=_t,this.authService=Ft,this.authorizationService=fn,this.processingDelete$=new _.t(!1)}confirmDiscard(a){this.modalService.open(a).result.then(h=>{"ok"===h&&(this.processingDelete$.next(!0),this.objectDataService.delete(this.object.id).pipe((0,ws.qD)()).subscribe(N=>{this.processingDelete$.next(!1),this.handleActionResponse(N.hasSucceeded)}))})}ngOnInit(){const a=this.authService.getAuthenticatedUserFromStore();this.canEditItem$=a.pipe((0,Es.n)(h=>this.object?.item.pipe((0,ws.qD)(),(0,ws.Bo)(),(0,Es.n)(N=>this.authorizationService.isAuthorized(Qr._.CanEditItem,N?._links?.self.href,h.uuid)))))}initObjects(a){this.object=a}getWorkspaceItemViewRoute(a){return function gM(p){return new il.t((0,ti.cp)(),p,"view").toString()}(a?.id)}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(e.zZn),e.rXU(y.Ix),e.rXU(X.Bq),e.rXU(go.I),e.rXU(G.c$),e.rXU(Bu.S),e.rXU(Fr.B),e.rXU(u.uR),e.rXU(js.AuthorizationDataService))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-workspaceitem-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:13,vars:18,consts:[["content",""],[1,"space-children-mr"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],["class","btn btn-primary mt-1 mb-3 edit-btn","role","button",3,"id","ngbTooltip","routerLink",4,"ngIf"],["type","button","class","btn btn-danger mt-1 mb-3",3,"id","ngbTooltip","click",4,"ngIf"],["role","button",1,"btn","btn-primary","mt-1","mb-3","edit-btn",3,"id","ngbTooltip","routerLink"],[1,"fa","fa-edit"],["type","button",1,"btn","btn-danger","mt-1","mb-3",3,"click","id","ngbTooltip"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","id","delete_close","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","delete_cancel",1,"btn","btn-secondary",3,"click"],["type","button","id","delete_confirm",1,"btn","btn-danger",3,"click"]],template:function(h,N){1&h&&(e.j41(0,"div",1)(1,"button",2),e.nI1(2,"translate"),e.nI1(3,"translate"),e.nrm(4,"i",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,$E,6,13,"a",4),e.nI1(8,"async"),e.DNE(9,NR,7,13,"button",5),e.nI1(10,"async"),e.k0s(),e.DNE(11,yM,18,12,"ng-template",null,0,e.C5r)),2&h&&(e.R7$(),e.FS9("ngbTooltip",e.bMT(2,6,"submission.workspace.generic.view-help")),e.Y8G("routerLink",e.eq3(16,GE,N.getWorkspaceItemViewRoute(N.object))),e.BMQ("aria-label",e.bMT(3,8,"submission.workspace.generic.view-help")),e.R7$(4),e.SpI(" ",e.bMT(6,10,"submission.workspace.generic.view")," "),e.R7$(2),e.Y8G("ngIf",e.bMT(8,12,N.canEditItem$)),e.R7$(2),e.Y8G("ngIf",e.bMT(10,14,N.canEditItem$)))},dependencies:[X.n8,X.md,y.Wk,d.bT,d.Jj,G.h,G.D9]})}return p})();var K_=t(10667),KE=t(73074),EM=t(9767),H_=t(25744),CM=t(2566),bM=t(93580),DM=(t(5926),t(89351));t(71538);const TM=["*"];function OM(p,C){}let MM=(()=>{class p extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item","object","label","metadata","placeholder","separator"]}getComponentName(){return"ItemDetailPreviewFieldComponent"}importThemedComponent(a){return t(4026)(`./${a}/app/shared/object-detail/my-dspace-result-detail-element/item-detail-preview/item-detail-preview-field/item-detail-preview-field.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,71538))}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-detail-preview-field"]],inputs:{item:"item",object:"object",label:"label",metadata:"metadata",placeholder:"placeholder",separator:"separator"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:TM,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,OM,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return p})();const IM=["*"],SM=()=>["dc.contributor","dc.creator","dc.contributor.*"];function PM(p,C){if(1&p&&e.nrm(0,"span",19),2&p){const a=e.XpG(6);e.FS9("innerHTML",a.separator,e.npT)}}function RM(p,C){if(1&p){const a=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){const N=e.eBV(a).$implicit,ie=e.XpG(5);return e.Njj(ie.downloadBitstreamFile(null==N?null:N.uuid))}),e.j41(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"dsFileSize"),e.k0s(),e.DNE(6,PM,1,1,"span",18),e.k0s()}if(2&p){const a=C.$implicit,h=C.last,N=e.XpG(5);e.R7$(2),e.JRh(N.dsoNameService.getName(a)),e.R7$(2),e.SpI("(",e.bMT(5,3,null==a?null:a.sizeBytes),")"),e.R7$(2),e.Y8G("ngIf",!h)}}function AM(p,C){if(1&p&&(e.j41(0,"div",15),e.DNE(1,RM,7,5,"button",16),e.k0s()),2&p){const a=e.XpG().ngVar;e.R7$(),e.Y8G("ngForOf",a)}}function HE(p,C){1&p&&(e.qex(0),e.j41(1,"span",20),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.bVm()),2&p&&(e.R7$(2),e.JRh(e.bMT(3,1,"mydspace.results.no-files")))}function zE(p,C){if(1&p&&(e.qex(0),e.j41(1,"ds-metadata-field-wrapper",13),e.nI1(2,"translate"),e.DNE(3,AM,2,1,"div",14)(4,HE,4,3,"ng-container",4),e.k0s(),e.bVm()),2&p){const a=C.ngVar;e.R7$(),e.Y8G("label",e.bMT(2,3,"item.page.files")),e.R7$(2),e.Y8G("ngIf",(null==a?null:a.length)>0),e.R7$(),e.Y8G("ngIf",0===(null==a?null:a.length))}}function Jc(p,C){if(1&p&&(e.j41(0,"div"),e.nrm(1,"ds-item-page-title-field",5),e.j41(2,"div",6)(3,"div",7)(4,"ds-metadata-field-wrapper",8),e.nrm(5,"ds-thumbnail",9),e.nI1(6,"async"),e.k0s(),e.DNE(7,zE,5,5,"ng-container",10),e.nI1(8,"async"),e.nrm(9,"ds-item-detail-preview-field",11),e.nI1(10,"translate"),e.nI1(11,"translate"),e.nrm(12,"ds-item-detail-preview-field",11),e.nI1(13,"translate"),e.nI1(14,"translate"),e.k0s(),e.j41(15,"div",12),e.nrm(16,"ds-item-detail-preview-field",11),e.nI1(17,"translate"),e.nI1(18,"translate"),e.nrm(19,"ds-item-detail-preview-field",11),e.nI1(20,"translate"),e.nI1(21,"translate"),e.j41(22,"div"),e.SdG(23),e.k0s()()()()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("item",a.item),e.R7$(3),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(6,28,null==a.item?null:a.item.thumbnail)),e.R7$(2),e.Y8G("ngVar",e.bMT(8,30,a.getFiles())),e.R7$(2),e.Y8G("item",a.item)("object",a.object)("label",e.bMT(10,32,"item.page.date"))("metadata","dc.date.issued")("separator",a.separator)("placeholder",e.bMT(11,34,"mydspace.results.no-date")),e.R7$(3),e.Y8G("item",a.item)("object",a.object)("label",e.bMT(13,36,"item.page.author"))("metadata",e.lJ4(48,SM))("separator",a.separator)("placeholder",e.bMT(14,38,"mydspace.results.no-authors")),e.R7$(4),e.Y8G("item",a.item)("object",a.object)("label",e.bMT(17,40,"item.page.abstract"))("metadata","dc.description.abstract")("separator",a.separator)("placeholder",e.bMT(18,42,"mydspace.results.no-abstract")),e.R7$(3),e.Y8G("item",a.item)("object",a.object)("label",e.bMT(20,44,"item.page.uri"))("metadata","dc.identifier.uri")("separator",a.separator)("placeholder",e.bMT(21,46,"mydspace.results.no-uri"))}}function wM(p,C){if(1&p&&(e.j41(0,"div",2),e.nrm(1,"ds-badges",3),e.DNE(2,Jc,24,49,"div",4),e.k0s()),2&p){const a=e.XpG();e.Y8G("@fadeInOut",void 0),e.R7$(),e.Y8G("object",a.item)("context",a.badgeContext),e.R7$(),e.Y8G("ngIf",a.item)}}function LM(p,C){if(1&p&&e.nrm(0,"ds-item-submitter",21),2&p){const a=e.XpG();e.Y8G("object",a.object.indexableObject)}}let jd=(()=>{class p{constructor(a,h,N,ie){this.fileService=a,this.halService=h,this.bitstreamDataService=N,this.dsoNameService=ie,this.showSubmitter=!1,this.separator=", "}downloadBitstreamFile(a){this.halService.getEndpoint("bitstreams").pipe((0,cd.$)()).subscribe(h=>{this.fileService.retrieveFileDownloadLink(`${h}/${a}/content`)})}getFiles(){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{elementsPerPage:Number.MAX_SAFE_INTEGER}).pipe((0,ws.Ar)())}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(EM.E),e.rXU(H_.Y),e.rXU(Lo.BitstreamDataService),e.rXU(Os.f))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-detail-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter"},standalone:!0,features:[e.aNF],ngContentSelectors:IM,decls:2,vars:2,consts:[["class","item-page",4,"ngIf"],[3,"object",4,"ngIf"],[1,"item-page"],[3,"object","context"],[4,"ngIf"],[3,"item"],[1,"row","mb-1"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[4,"ngVar"],[3,"item","object","label","metadata","separator","placeholder"],[1,"col-xs-12","col-md-6"],[3,"label"],["class","file-section",4,"ngIf"],[1,"file-section"],["class","btn btn-link",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-link",3,"click"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"text-muted"],[3,"object"]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,wM,3,4,"div",0)(1,LM,1,1,"ds-item-submitter",1)),2&h&&(e.Y8G("ngIf",N.item),e.R7$(),e.Y8G("ngIf",N.showSubmitter))},dependencies:[d.bT,Oo.F,Hl.V,Da.Q,Vi.T,yo.r,d.pM,MM,bM.s,d.Jj,DM.s,G.h,G.D9],data:{animation:[CM.Ws]}})}return p})(),yp=(()=>{class p extends Ur.C{ngOnInit(){(0,V.a4)(this.object)&&(this.dso=this.object.indexableObject)}allMetadataValues(a){return Ah.O.allValues([this.object.hitHighlights,this.dso.metadata],a)}firstMetadataValue(a){return Ah.O.firstValue([this.object.hitHighlights,this.dso.metadata],a)}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:0,vars:0,template:function(h,N){},encapsulation:2})}return p})();function YE(p,C){if(1&p){const a=e.RV6();e.qex(0),e.nrm(1,"ds-item-detail-preview",1),e.j41(2,"ds-claimed-task-actions",2),e.bIt("processCompleted",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.reloadedObject.emit(N.reloadedObject))}),e.k0s(),e.bVm()}if(2&p){const a=e.XpG();e.R7$(),e.Y8G("item",null==a.item$?null:a.item$.value)("object",a.object)("showSubmitter",a.showSubmitter)("badgeContext",a.badgeContext),e.R7$(),e.Y8G("item",a.item$.value)("object",a.dso)("workflowitem",a.workflowitem$.value)}}let Ep=class SP extends yp{constructor(C,a,h){super(C),this.dsoNameService=C,this.linkService=a,this.objectCache=h,this.item$=new _.t(null),this.showSubmitter=!0,this.badgeContext=Ws.o.MyDSpaceValidation,this.workflowitem$=new _.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ns.s)("workflowitem",{},(0,Ns.s)("item",{},(0,Ns.s)("bundles")),(0,Ns.s)("submitter")),(0,Ns.s)("action")),this.dso.workflowitem.pipe((0,ws.qD)(),(0,zs.Z)(C=>C.hasSucceeded?(this.workflowitem$.next(C.payload),C.payload.item.pipe((0,ws.qD)())):aa.w),(0,ii.M)(C=>{(0,V.hj)(C)&&C.hasSucceeded&&this.item$.next(C.payload)})).subscribe()}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static#e=this.\u0275fac=function(a){return new(a||SP)(e.rXU(Os.f),e.rXU(vi._),e.rXU(Nr.$))};static#t=this.\u0275cmp=e.VBU({type:SP,selectors:[["ds-claimed-task-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext"],[3,"processCompleted","item","object","workflowitem"]],template:function(a,h){1&a&&(e.DNE(0,YE,3,7,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&a&&e.Y8G("ngIf",e.bMT(1,1,h.workflowitem$)&&e.bMT(2,3,h.item$))},dependencies:[d.bT,jd,Om,d.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};Ep=(0,Ue.Cg)([(0,Wn.VK)(KE.y,Vn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Os.f,vi._,Nr.$])],Ep);let Qc=class oD extends yp{constructor(){super(...arguments),this.badgeContext=Ws.o.MyDSpaceArchived}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(oD)))(h||oD)}})();static#t=this.\u0275cmp=e.VBU({type:oD,selectors:[["ds-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(a,h){1&a&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-item-actions",1),2&a&&(e.Y8G("item",h.dso)("object",h.object)("badgeContext",h.badgeContext),e.R7$(),e.Y8G("object",h.dso))},dependencies:[jd,_p],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};Qc=(0,Ue.Cg)([(0,Wn.VK)(ea.H,Vn.n.DetailedListElement,Ws.o.Workspace),(0,Wn.VK)(ea.H,Vn.n.DetailedListElement,Ws.o.Workflow)],Qc);var Im=t(97771);function Vu(p,C){if(1&p){const a=e.RV6();e.qex(0),e.nrm(1,"ds-item-detail-preview",1),e.j41(2,"ds-pool-task-actions",2),e.bIt("processCompleted",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.reloadedObject.emit(N.reloadedObject))}),e.k0s(),e.bVm()}if(2&p){const a=e.XpG();e.R7$(),e.Y8G("item",null==a.item$?null:a.item$.value)("object",a.object)("showSubmitter",a.showSubmitter)("badgeContext",a.badgeContext),e.R7$(),e.Y8G("item",a.item$.value)("object",a.dso)("workflowitem",a.workflowitem$.value)}}let Cp=class PP extends yp{constructor(C,a,h){super(C),this.dsoNameService=C,this.linkService=a,this.objectCache=h,this.item$=new _.t(null),this.showSubmitter=!0,this.badgeContext=Ws.o.MyDSpaceWaitingController,this.workflowitem$=new _.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ns.s)("workflowitem",{},(0,Ns.s)("item",{},(0,Ns.s)("bundles")),(0,Ns.s)("submitter")),(0,Ns.s)("action")),this.dso.workflowitem.pipe((0,ws.qD)(),(0,zs.Z)(C=>C.hasSucceeded?(this.workflowitem$.next(C.payload),C.payload.item.pipe((0,ws.qD)())):aa.w),(0,ii.M)(C=>{(0,V.hj)(C)&&C.hasSucceeded&&this.item$.next(C.payload)})).subscribe()}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static#e=this.\u0275fac=function(a){return new(a||PP)(e.rXU(Os.f),e.rXU(vi._),e.rXU(Nr.$))};static#t=this.\u0275cmp=e.VBU({type:PP,selectors:[["ds-pool-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext"],[3,"processCompleted","item","object","workflowitem"]],template:function(a,h){1&a&&(e.DNE(0,Vu,3,7,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&a&&e.Y8G("ngIf",e.bMT(1,1,h.workflowitem$)&&e.bMT(2,3,h.item$))},dependencies:[d.bT,jd,W_,d.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};Cp=(0,Ue.Cg)([(0,Wn.VK)(Im.d,Vn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Os.f,vi._,Nr.$])],Cp);let yc=class RP extends yp{constructor(C,a){super(C),this.dsoNameService=C,this.linkService=a,this.badgeContext=Ws.o.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,Ns.s)("item")),this.initItem(this.dso.item)}initItem(C){C.pipe((0,xn.I)(a=>a.hasSucceeded&&(0,V.EA)(a.payload))).subscribe(a=>{this.item=a.payload})}static#e=this.\u0275fac=function(a){return new(a||RP)(e.rXU(Os.f),e.rXU(vi._))};static#t=this.\u0275cmp=e.VBU({type:RP,selectors:[["ds-workflow-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(a,h){1&a&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-workflowitem-actions",1),2&a&&(e.Y8G("item",h.item)("object",h.object)("badgeContext",h.badgeContext),e.R7$(),e.Y8G("object",h.dso))},dependencies:[jd,Mm],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};yc=(0,Ue.Cg)([(0,Wn.VK)(Eu.q,Vn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Os.f,vi._])],yc);let Gu=class AP extends yp{constructor(C,a){super(C),this.dsoNameService=C,this.linkService=a,this.badgeContext=Ws.o.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,Ns.s)("item")),this.initItem(this.dso.item)}initItem(C){C.pipe((0,xn.I)(a=>a.hasSucceeded&&(0,V.EA)(a.payload))).subscribe(a=>{this.item=a.payload})}static#e=this.\u0275fac=function(a){return new(a||AP)(e.rXU(Os.f),e.rXU(vi._))};static#t=this.\u0275cmp=e.VBU({type:AP,selectors:[["ds-workspace-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(a,h){1&a&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-workspaceitem-actions",1),2&a&&(e.Y8G("item",h.item)("object",h.object)("badgeContext",h.badgeContext),e.R7$(),e.Y8G("object",h.dso))},dependencies:[jd,vp],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};Gu=(0,Ue.Cg)([(0,Wn.VK)(Md.I,Vn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Os.f,vi._])],Gu);const kd=p=>["/collections/",p];function $u(p,C){if(1&p&&(e.j41(0,"a",7),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",8),e.nI1(3,"async"),e.k0s()),2&p){let a;const h=e.XpG();e.Y8G("target",h.linkType===h.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,kd,h.object.id)),e.BMQ("rel",h.linkType===h.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(a=e.bMT(3,8,h.object.logo))?null:a.payload)("limitWidth",!1)}}function Wu(p,C){if(1&p&&(e.j41(0,"span",9),e.nrm(1,"ds-thumbnail",8),e.nI1(2,"async"),e.k0s()),2&p){let a;const h=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(a=e.bMT(2,2,h.object.logo))?null:a.payload)("limitWidth",!1)}}function Ku(p,C){if(1&p&&(e.j41(0,"p",10),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.JRh(a.object.shortDescription)}}function Hu(p,C){if(1&p&&(e.j41(0,"div",11)(1,"a",12),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,kd,a.object.id)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Ec=class wP extends Ur.C{constructor(C,a){super(C),this.dsoNameService=C,this.linkService=a}set object(C){this._object=C,(0,V.a4)(this._object)&&(0,V.Tn)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,Ns.s)("logo"))}get object(){return this._object}static#e=this.\u0275fac=function(a){return new(a||wP)(e.rXU(Os.f),e.rXU(vi._))};static#t=this.\u0275cmp=e.VBU({type:wP,selectors:[["ds-collection-grid-element"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:5,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(a,h){1&a&&(e.j41(0,"div",0),e.DNE(1,$u,4,12,"a",1)(2,Wu,3,4,"span",2),e.j41(3,"div",3)(4,"h4",4),e.EFF(5),e.k0s(),e.DNE(6,Ku,2,1,"p",5)(7,Hu,4,8,"div",6),e.k0s()()),2&a&&(e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(3),e.JRh(h.dsoNameService.getName(h.object)),e.R7$(),e.Y8G("ngIf",h.object.shortDescription),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None))},dependencies:[d.bT,y.Wk,Vi.T,d.Jj,G.h,G.D9]})};Ec=(0,Ue.Cg)([(0,Wn.VK)(su.p,Vn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Os.f,vi._])],Ec);const Vd=p=>["/communities/",p];function zu(p,C){if(1&p&&(e.j41(0,"a",7),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",8),e.nI1(3,"async"),e.k0s()),2&p){let a;const h=e.XpG();e.Y8G("target",h.linkType===h.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Vd,h.object.id)),e.BMQ("rel",h.linkType===h.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(a=e.bMT(3,8,h.object.logo))?null:a.payload)("limitWidth",!1)}}function Yu(p,C){if(1&p&&(e.j41(0,"span",9),e.nrm(1,"ds-thumbnail",8),e.nI1(2,"async"),e.k0s()),2&p){let a;const h=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(a=e.bMT(2,2,h.object.logo))?null:a.payload)("limitWidth",!1)}}function XE(p,C){if(1&p&&(e.j41(0,"p",10),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.JRh(a.object.shortDescription)}}function JE(p,C){if(1&p&&(e.j41(0,"div",11)(1,"a",12),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p){const a=e.XpG();e.R7$(),e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Vd,a.object.id)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let bp=class LP extends Ur.C{constructor(C,a){super(C),this.dsoNameService=C,this.linkService=a}set object(C){this._object=C,(0,V.a4)(this._object)&&(0,V.Tn)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,Ns.s)("logo"))}get object(){return this._object}static#e=this.\u0275fac=function(a){return new(a||LP)(e.rXU(Os.f),e.rXU(vi._))};static#t=this.\u0275cmp=e.VBU({type:LP,selectors:[["ds-community-grid-element"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:5,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(a,h){1&a&&(e.j41(0,"div",0),e.DNE(1,zu,4,12,"a",1)(2,Yu,3,4,"span",2),e.j41(3,"div",3)(4,"h4",4),e.EFF(5),e.k0s(),e.DNE(6,XE,2,1,"p",5)(7,JE,4,8,"div",6),e.k0s()()),2&a&&(e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(3),e.JRh(h.dsoNameService.getName(h.object)),e.R7$(),e.Y8G("ngIf",h.object.shortDescription),e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None))},dependencies:[d.bT,y.Wk,Vi.T,d.Jj,G.h,G.D9]})};bp=(0,Ue.Cg)([(0,Wn.VK)(gg.E,Vn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Os.f,vi._])],bp);const z_=["*","*"],QE=()=>({}),ZE=(p,C)=>({indexableObject:p,hitHighlights:C});let Dp=class aD extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(aD)))(h||aD)}})();static#t=this.\u0275cmp=e.VBU({type:aD,selectors:[["ds-item-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:z_,decls:3,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(a,h){1&a&&(e.NAR(z_),e.j41(0,"ds-item-search-result-grid-element",0),e.SdG(1),e.SdG(2,1),e.k0s()),2&a&&e.Y8G("showLabel",h.showLabel)("object",e.l_i(4,ZE,h.object,e.lJ4(3,QE)))("linkType",h.linkType)},dependencies:[rl],data:{animation:[Ml]}})};Dp=(0,Ue.Cg)([(0,Wn.VK)("Publication",Vn.n.GridElement),(0,Wn.VK)(lc.q,Vn.n.GridElement)],Dp);let Sm=class lD extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(lD)))(h||lD)}})();static#t=this.\u0275cmp=e.VBU({type:lD,selectors:[["ds-bitstream-list-item"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,template:function(a,h){1&a&&e.EFF(0),2&a&&e.SpI(" ",h.object.name," ")}})};Sm=(0,Ue.Cg)([(0,Wn.VK)(b0._,Vn.n.ListElement,Ws.o.Bitstream)],Sm);var Y_=t(91949),Tp=t(95438);const Zc=()=>[];function xM(p,C){if(1&p&&(e.j41(0,"a",5),e.nI1(1,"async"),e.EFF(2),e.k0s()),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.lJ4(8,Zc))("queryParams",e.bMT(1,6,a.queryParams$))("queryParamsHandling","merge"),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(2),e.SpI(" ",a.object.value," ")}}function NM(p,C){if(1&p&&(e.j41(0,"span",6),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.SpI(" ",a.object.value," ")}}let Op=class xP extends Ur.C{constructor(C,a,h){super(C),this.dsoNameService=C,this.paginationService=a,this.routeService=h}ngOnInit(){this.queryParams$=this.getQueryParams()}getQueryParams(){const C=this.paginationService.getPageParam(Y_.v0);return this.routeService.getQueryParameterValue(C).pipe((0,Ht.T)(a=>({value:this.object.value,authority:this.object.authority?this.object.authority:void 0,startsWith:void 0,[C]:null,[Y_.v0+".return"]:a})))}static#e=this.\u0275fac=function(a){return new(a||xP)(e.rXU(Os.f),e.rXU(Tp.m),e.rXU(Xf.v$))};static#t=this.\u0275cmp=e.VBU({type:xP,selectors:[["ds-browse-entry-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:3,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink","queryParams","queryParamsHandling",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pr-2"],[1,"badge","badge-pill","badge-secondary","align-self-center"],[1,"lead",3,"target","routerLink","queryParams","queryParamsHandling"],[1,"lead"]],template:function(a,h){1&a&&(e.j41(0,"div",0),e.DNE(1,xM,3,9,"a",1)(2,NM,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.j41(5,"span",4),e.EFF(6),e.k0s()()),2&a&&(e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(4),e.JRh(h.object.count))},dependencies:[d.bT,y.Wk,d.Jj]})};Op=(0,Ue.Cg)([(0,Wn.VK)(sl,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Os.f,Tp.m,Xf.v$])],Op);let Cc=class cD extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(cD)))(h||cD)}})();static#t=this.\u0275cmp=e.VBU({type:cD,selectors:[["ds-bundle-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,template:function(a,h){1&a&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&a&&(e.R7$(),e.JRh(h.dsoNameService.getName(h.object)))},encapsulation:2})};Cc=(0,Ue.Cg)([(0,Wn.VK)(T0.N,Vn.n.ListElement)],Cc);const X_=p=>[p];function FM(p,C){if(1&p&&(e.j41(0,"a",6),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,X_,"/collections/"+a.object.id)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.SpI(" ",a.dsoNameService.getName(a.object)," ")}}function J_(p,C){if(1&p&&(e.j41(0,"span",7),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.SpI(" ",a.dsoNameService.getName(a.object)," ")}}function UR(p,C){if(1&p&&(e.j41(0,"span",8),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.JRh(a.object.archivedItemsCount)}}function jR(p,C){if(1&p&&(e.j41(0,"div",9),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.SpI(" ",a.object.shortDescription,"\n")}}let Q_=class dD extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(dD)))(h||dD)}})();static#t=this.\u0275cmp=e.VBU({type:dD,selectors:[["ds-collection-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pr-2"],["class","badge badge-pill badge-secondary align-self-center archived-items-lead",4,"ngIf"],["class","text-muted abstract-text",4,"ngIf"],[1,"lead",3,"target","routerLink"],[1,"lead"],[1,"badge","badge-pill","badge-secondary","align-self-center","archived-items-lead"],[1,"text-muted","abstract-text"]],template:function(a,h){1&a&&(e.j41(0,"div",0),e.DNE(1,FM,2,6,"a",1)(2,J_,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.DNE(5,UR,2,1,"span",4),e.k0s(),e.DNE(6,jR,2,1,"div",5)),2&a&&(e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(3),e.Y8G("ngIf",h.object.archivedItemsCount>=0),e.R7$(),e.Y8G("ngIf",h.object.shortDescription))},dependencies:[d.bT,y.Wk]})};Q_=(0,Ue.Cg)([(0,Wn.VK)(su.p,Vn.n.ListElement)],Q_);const BM=p=>[p];function qE(p,C){if(1&p&&(e.j41(0,"a",6),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.Y8G("target",a.linkType===a.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,BM,"/communities/"+a.object.id)),e.BMQ("rel",a.linkType===a.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.SpI(" ",a.dsoNameService.getName(a.object)," ")}}function UM(p,C){if(1&p&&(e.j41(0,"span",7),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.SpI(" ",a.dsoNameService.getName(a.object)," ")}}function Mo(p,C){if(1&p&&(e.j41(0,"span",8),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.JRh(a.object.archivedItemsCount)}}function e1(p,C){if(1&p&&(e.j41(0,"div",9),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.SpI(" ",a.object.shortDescription,"\n")}}let Z_=class NP extends Ur.C{constructor(C){super(C),this.dsoNameService=C}static#e=this.\u0275fac=function(a){return new(a||NP)(e.rXU(Os.f))};static#t=this.\u0275cmp=e.VBU({type:NP,selectors:[["ds-community-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pr-2"],["class","badge badge-pill badge-secondary align-self-center archived-items-lead",4,"ngIf"],["class","text-muted abstract-text",4,"ngIf"],[1,"lead",3,"target","routerLink"],[1,"lead"],[1,"badge","badge-pill","badge-secondary","align-self-center","archived-items-lead"],[1,"text-muted","abstract-text"]],template:function(a,h){1&a&&(e.j41(0,"div",0),e.DNE(1,qE,2,6,"a",1)(2,UM,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.DNE(5,Mo,2,1,"span",4),e.k0s(),e.DNE(6,e1,2,1,"div",5)),2&a&&(e.R7$(),e.Y8G("ngIf",h.linkType!==h.linkTypes.None),e.R7$(),e.Y8G("ngIf",h.linkType===h.linkTypes.None),e.R7$(3),e.Y8G("ngIf",h.object.archivedItemsCount>=0),e.R7$(),e.Y8G("ngIf",h.object.shortDescription))},dependencies:[d.bT,y.Wk]})};Z_=(0,Ue.Cg)([(0,Wn.VK)(gg.E,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Os.f])],Z_);let q_=class uD extends Ur.C{ngOnChanges(){(0,V.a4)(this.object)&&(this.itemSearchResult=Object.assign(new ea.H,{indexableObject:this.object}))}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(uD)))(h||uD)}})();static#t=this.\u0275cmp=e.VBU({type:uD,selectors:[["ds-item-list-element"]],standalone:!0,features:[e.Vt3,e.OA$,e.aNF],decls:1,vars:3,consts:[[3,"object","viewMode","linkType"]],template:function(a,h){1&a&&e.nrm(0,"ds-listable-object-component-loader",0),2&a&&e.Y8G("object",h.itemSearchResult)("viewMode",h.viewMode)("linkType",h.linkType)},dependencies:[Od.v]})};q_=(0,Ue.Cg)([(0,Wn.VK)("Publication",Vn.n.ListElement),(0,Wn.VK)(lc.q,Vn.n.ListElement)],q_);var t1=t(81923),jM=t(36721);let Mp=class hD extends Ur.C{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(hD)))(h||hD)}})();static#t=this.\u0275cmp=e.VBU({type:hD,selectors:[["ds-listable-notification-object"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:6,template:function(a,h){1&a&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.ZvI("alert d-block ",null==h.object?null:h.object.notificationType," m-0"),e.R7$(),e.JRh(e.bMT(2,4,null==h.object?null:h.object.message)))},dependencies:[G.h,G.D9]})};Mp=(0,Ue.Cg)([(0,Wn.VK)(t1.t,Vn.n.ListElement),(0,Wn.VK)(jM.t.value,Vn.n.ListElement)],Mp);var n1=t(24460);t(20715);const kM=["*"];function VM(p,C){}let qc=(()=>{class p extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item","object","badgeContext","showSubmitter","workflowItem"]}getComponentName(){return"ItemListPreviewComponent"}importThemedComponent(a){return t(71931)(`./${a}/app/shared/object-list/my-dspace-result-list-element/item-list-preview/item-list-preview.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,20715))}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:kM,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,N){1&h&&(e.NAR(),e.DNE(0,VM,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}return p})();function GM(p,C){if(1&p&&(e.nrm(0,"ds-item-list-preview",4),e.nI1(1,"async")),2&p){let a;const h=e.XpG().ngVar,N=e.XpG();e.Y8G("item",null==(a=e.bMT(1,4,null==h?null:h.item))?null:a.payload)("object",N.object)("badgeContext",N.badgeContext)("showSubmitter",N.showSubmitter)}}function s1(p,C){if(1&p&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,GM,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&p){const a=C.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-approved-search-result-list-element.title")),e.R7$(2),e.Y8G("ngIf",a)}}let ev=class FP extends vo.P{constructor(C,a,h,N){super(a,h,N),this.linkService=C,this.truncatableService=a,this.dsoNameService=h,this.appConfig=N,this.showSubmitter=!0,this.badgeContext=Ws.o.MyDSpaceApproved}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ns.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,Ns.s)("item"),(0,Ns.s)("submitter")),(0,Ns.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static#e=this.\u0275fac=function(a){return new(a||FP)(e.rXU(vi._),e.rXU(Oi.F),e.rXU(Os.f),e.rXU(qi.vQ))};static#t=this.\u0275cmp=e.VBU({type:FP,selectors:[["ds-claimed-approved-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-success","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(a,h){if(1&a&&(e.DNE(0,s1,6,4,"ng-container",0),e.nI1(1,"async")),2&a){let N;e.Y8G("ngVar",null==(N=e.bMT(1,1,h.workflowitemRD$))?null:N.payload)}},dependencies:[d.bT,qc,d.Jj,G.h,G.D9,yo.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};ev=(0,Ue.Cg)([(0,Wn.VK)(n1.t,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[vi._,Oi.F,Os.f,Object])],ev);var tv=t(18107);function nv(p,C){if(1&p&&(e.nrm(0,"ds-item-list-preview",4),e.nI1(1,"async")),2&p){let a;const h=e.XpG().ngVar,N=e.XpG();e.Y8G("item",null==(a=e.bMT(1,4,null==h?null:h.item))?null:a.payload)("object",N.object)("badgeContext",N.badgeContext)("showSubmitter",N.showSubmitter)}}function sv(p,C){if(1&p&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,nv,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&p){const a=C.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-declined-search-result-list-element.title")),e.R7$(2),e.Y8G("ngIf",a)}}let Xu=class BP extends vo.P{constructor(C,a,h,N){super(a,h,N),this.linkService=C,this.truncatableService=a,this.dsoNameService=h,this.appConfig=N,this.showSubmitter=!0,this.badgeContext=Ws.o.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ns.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,Ns.s)("item"),(0,Ns.s)("submitter")),(0,Ns.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static#e=this.\u0275fac=function(a){return new(a||BP)(e.rXU(vi._),e.rXU(Oi.F),e.rXU(Os.f),e.rXU(qi.vQ))};static#t=this.\u0275cmp=e.VBU({type:BP,selectors:[["ds-claimed-declined-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-secondary","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(a,h){if(1&a&&(e.DNE(0,sv,6,4,"ng-container",0),e.nI1(1,"async")),2&a){let N;e.Y8G("ngVar",null==(N=e.bMT(1,1,h.workflowitemRD$))?null:N.payload)}},dependencies:[d.bT,qc,d.Jj,G.h,G.D9,yo.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};Xu=(0,Ue.Cg)([(0,Wn.VK)(tv.q,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[vi._,Oi.F,Os.f,Object])],Xu);var Yl=t(78977);function $M(p,C){if(1&p&&(e.nrm(0,"ds-item-list-preview",4),e.nI1(1,"async")),2&p){let a;const h=e.XpG().ngVar,N=e.XpG();e.Y8G("item",null==(a=e.bMT(1,4,null==h?null:h.item))?null:a.payload)("object",N.object)("badgeContext",N.badgeContext)("showSubmitter",N.showSubmitter)}}function r1(p,C){if(1&p&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,$M,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&p){const a=C.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-declined-task-search-result-list-element.title")),e.R7$(2),e.Y8G("ngIf",a)}}let ka=class UP extends vo.P{constructor(C,a,h,N){super(a,h,N),this.linkService=C,this.truncatableService=a,this.dsoNameService=h,this.appConfig=N,this.showSubmitter=!0,this.badgeContext=Ws.o.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ns.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,Ns.s)("item"),(0,Ns.s)("submitter")),(0,Ns.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static#e=this.\u0275fac=function(a){return new(a||UP)(e.rXU(vi._),e.rXU(Oi.F),e.rXU(Os.f),e.rXU(qi.vQ))};static#t=this.\u0275cmp=e.VBU({type:UP,selectors:[["ds-claimed-declined-task-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-warning","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(a,h){if(1&a&&(e.DNE(0,r1,6,4,"ng-container",0),e.nI1(1,"async")),2&a){let N;e.Y8G("ngVar",null==(N=e.bMT(1,1,h.workflowitemRD$))?null:N.payload)}},dependencies:[d.bT,qc,d.Jj,G.h,G.D9,yo.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};ka=(0,Ue.Cg)([(0,Wn.VK)(Yl.H,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[vi._,Oi.F,Os.f,Object])],ka);var Ta=t(24593);function Rl(p,C){if(1&p&&(e.j41(0,"div",4),e.nrm(1,"div",4),e.j41(2,"div",4)(3,"div",7),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&p){const a=e.XpG().ngVar;e.Y8G("ngClass","row"),e.R7$(),e.Y8G("ngClass","col-2"),e.R7$(),e.Y8G("ngClass","col-10"),e.R7$(2),e.Lme(" ",a," ",e.bMT(5,5,"submission.workflow.tasks.duplicates")," ")}}function o1(p,C){if(1&p&&(e.qex(0),e.DNE(1,Rl,6,7,"div",6),e.bVm()),2&p){const a=C.ngVar;e.R7$(),e.Y8G("ngIf",a>0)}}function a1(p,C){if(1&p){const a=e.RV6();e.qex(0),e.nrm(1,"ds-item-list-preview",1),e.DNE(2,o1,2,1,"ng-container",2),e.nI1(3,"async"),e.j41(4,"div",3)(5,"div",4)(6,"ds-claimed-task-actions",5),e.bIt("processCompleted",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.reloadedObject.emit(N.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&p){let a;const h=e.XpG();e.R7$(),e.Y8G("item",h.item$.value)("object",h.object)("showSubmitter",h.showSubmitter)("badgeContext",h.badgeContext)("workflowItem",h.workflowitem$.value),e.R7$(),e.Y8G("ngVar",null==(a=e.bMT(3,10,h.duplicates$))?null:a.length),e.R7$(3),e.Y8G("ngClass",h.showThumbnails?"offset-3 offset-md-2 pl-3":""),e.R7$(),e.Y8G("item",h.item$.value)("object",h.dso)("workflowitem",h.workflowitem$.value)}}let Pm=class jP extends vo.P{constructor(C,a,h,N,ie,Ae,Le){super(a,h,Le),this.linkService=C,this.truncatableService=a,this.dsoNameService=h,this.objectCache=N,this.configService=ie,this.duplicateDataService=Ae,this.appConfig=Le,this.showSubmitter=!0,this.badgeContext=Ws.o.MyDSpaceValidation,this.item$=new _.t(null),this.workflowitem$=new _.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ns.s)("workflowitem",{},(0,Ns.s)("item",{},(0,Ns.s)("bundles")),(0,Ns.s)("submitter")),(0,Ns.s)("action")),this.dso.workflowitem.pipe((0,ws.qD)(),(0,zs.Z)(C=>C.hasSucceeded?(this.workflowitem$.next(C.payload),C.payload.item.pipe((0,ws.qD)())):aa.w),(0,ii.M)(C=>{(0,V.hj)(C)&&C.hasSucceeded&&this.item$.next(C.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.duplicates$=this.initializeDuplicateDetectionIfEnabled()}initializeDuplicateDetectionIfEnabled(){return(0,vn.z)([this.configService.findByPropertyName("duplicate.enable").pipe((0,ws.qD)(),(0,Ht.T)(C=>C.isSuccess&&C.payload&&"true"===C.payload.values[0])),this.item$.pipe()]).pipe((0,Ht.T)(([C,a])=>{if(!C)return[];this.duplicates$=this.duplicateDataService.findDuplicates(a.uuid).pipe((0,ws.qD)(),(0,Ht.T)(h=>{if(h.hasSucceeded&&h.payload.page)return h.payload.page}))}))}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static#e=this.\u0275fac=function(a){return new(a||jP)(e.rXU(vi._),e.rXU(Oi.F),e.rXU(Os.f),e.rXU(Nr.$),e.rXU(hs.ConfigurationDataService),e.rXU(Ta.SubmissionDuplicateDataService),e.rXU(qi.vQ))};static#t=this.\u0275cmp=e.VBU({type:jP,selectors:[["ds-claimed-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext","workflowItem"],[4,"ngVar"],[1,"row"],[3,"ngClass"],[3,"processCompleted","item","object","workflowitem"],[3,"ngClass",4,"ngIf"],[1,"d-flex","alert","alert-warning","w-100"]],template:function(a,h){1&a&&(e.DNE(0,a1,7,12,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&a&&e.Y8G("ngIf",e.bMT(1,1,h.workflowitem$)&&e.bMT(2,3,h.item$))},dependencies:[d.bT,qc,d.YU,Om,d.Jj,G.h,G.D9,yo.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};Pm=(0,Ue.Cg)([(0,Wn.VK)(KE.y,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[vi._,Oi.F,Os.f,Nr.$,hs.ConfigurationDataService,Ta.SubmissionDuplicateDataService,Object])],Pm);let Rm=class pD extends vo.P{constructor(){super(...arguments),this.badgeContext=Ws.o.MyDSpaceArchived}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(pD)))(h||pD)}})();static#t=this.\u0275cmp=e.VBU({type:pD,selectors:[["ds-item-search-result-list-element-submission"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:5,consts:[[3,"item","object","badgeContext"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"]],template:function(a,h){1&a&&(e.nrm(0,"ds-item-list-preview",0),e.j41(1,"div",1)(2,"div",2)(3,"ds-item-actions",3),e.bIt("processCompleted",function(ie){return h.reloadedObject.emit(ie.reloadedObject)}),e.k0s()()()),2&a&&(e.Y8G("item",h.dso)("object",h.object)("badgeContext",h.badgeContext),e.R7$(2),e.Y8G("ngClass",h.showThumbnails?"offset-3 offset-md-2 pl-3":""),e.R7$(),e.Y8G("object",h.dso))},dependencies:[qc,d.YU,_p],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};function WM(p,C){if(1&p&&(e.j41(0,"div",4),e.nrm(1,"div",4),e.j41(2,"div",4)(3,"div",7),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&p){const a=e.XpG().ngVar;e.Y8G("ngClass","row"),e.R7$(),e.Y8G("ngClass","col-2"),e.R7$(),e.Y8G("ngClass","col-10"),e.R7$(2),e.Lme(" ",a," ",e.bMT(5,5,"submission.workflow.tasks.duplicates")," ")}}function KM(p,C){if(1&p&&(e.qex(0),e.DNE(1,WM,6,7,"div",6),e.bVm()),2&p){const a=C.ngVar;e.R7$(),e.Y8G("ngIf",a>0)}}function iv(p,C){if(1&p){const a=e.RV6();e.qex(0),e.nrm(1,"ds-item-list-preview",1),e.DNE(2,KM,2,1,"ng-container",2),e.nI1(3,"async"),e.j41(4,"div",3)(5,"div",4)(6,"ds-pool-task-actions",5),e.bIt("processCompleted",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.reloadedObject.emit(N.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&p){let a;const h=e.XpG();e.R7$(),e.Y8G("item",h.item$.value)("object",h.object)("showSubmitter",h.showSubmitter)("badgeContext",h.badgeContext)("workflowItem",h.workflowitem$.value),e.R7$(),e.Y8G("ngVar",null==(a=e.bMT(3,10,h.duplicates$))?null:a.length),e.R7$(3),e.Y8G("ngClass",h.showThumbnails?"offset-3 offset-md-2 pl-3":""),e.R7$(),e.Y8G("item",h.item$.value)("object",h.dso)("workflowitem",h.workflowitem$.value)}}Rm=(0,Ue.Cg)([(0,Wn.VK)(ea.H,Vn.n.ListElement,Ws.o.Workspace),(0,Wn.VK)(ea.H,Vn.n.ListElement,Ws.o.Workflow)],Rm);let ed=class kP extends vo.P{constructor(C,a,h,N,ie,Ae,Le){super(a,h,Le),this.linkService=C,this.truncatableService=a,this.dsoNameService=h,this.objectCache=N,this.configService=ie,this.duplicateDataService=Ae,this.appConfig=Le,this.showSubmitter=!0,this.badgeContext=Ws.o.MyDSpaceWaitingController,this.item$=new _.t(null),this.workflowitem$=new _.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ns.s)("workflowitem",{},(0,Ns.s)("item",{},(0,Ns.s)("bundles")),(0,Ns.s)("submitter")),(0,Ns.s)("action")),this.dso.workflowitem.pipe((0,ws.qD)(),(0,zs.Z)(C=>C.hasSucceeded?(this.workflowitem$.next(C.payload),C.payload.item.pipe((0,ws.qD)())):aa.w),(0,ii.M)(C=>{(0,V.hj)(C)&&C.hasSucceeded&&this.item$.next(C.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.duplicates$=this.initializeDuplicateDetectionIfEnabled()}initializeDuplicateDetectionIfEnabled(){return(0,vn.z)([this.configService.findByPropertyName("duplicate.enable").pipe((0,ws.qD)(),(0,Ht.T)(C=>C.isSuccess&&C.payload&&"true"===C.payload.values[0])),this.item$.pipe()]).pipe((0,Ht.T)(([C,a])=>{if(!C)return[];this.duplicates$=this.duplicateDataService.findDuplicates(a.uuid).pipe((0,ws.qD)(),(0,Ht.T)(h=>{if(h.hasSucceeded&&h.payload.page)return h.payload.page}))}))}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static#e=this.\u0275fac=function(a){return new(a||kP)(e.rXU(vi._),e.rXU(Oi.F),e.rXU(Os.f),e.rXU(Nr.$),e.rXU(hs.ConfigurationDataService),e.rXU(Ta.SubmissionDuplicateDataService),e.rXU(qi.vQ))};static#t=this.\u0275cmp=e.VBU({type:kP,selectors:[["ds-pool-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext","workflowItem"],[4,"ngVar"],[1,"row"],[3,"ngClass"],["id","actions",3,"processCompleted","item","object","workflowitem"],[3,"ngClass",4,"ngIf"],[1,"d-flex","alert","alert-warning","w-100"]],template:function(a,h){1&a&&(e.DNE(0,iv,7,12,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&a&&e.Y8G("ngIf",e.bMT(1,1,h.workflowitem$)&&e.bMT(2,3,h.item$))},dependencies:[d.bT,qc,d.YU,W_,d.Jj,G.h,G.D9,yo.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};ed=(0,Ue.Cg)([(0,Wn.VK)(Im.d,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[vi._,Oi.F,Os.f,Nr.$,hs.ConfigurationDataService,Ta.SubmissionDuplicateDataService,Object])],ed);var l1=t(79599);function c1(p,C){if(1&p){const a=e.RV6();e.qex(0),e.nrm(1,"ds-listable-object-component-loader",2),e.nI1(2,"async"),e.j41(3,"div",3)(4,"div",4)(5,"ds-workflowitem-actions",5),e.bIt("processCompleted",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.reloadedObject.emit(N.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&p){const a=e.XpG();e.R7$(),e.Y8G("viewMode",a.ViewModes.ListElement)("object",e.bMT(2,6,a.derivedSearchResult$))("linkType",a.LinkTypes.None)("context",a.badgeContext),e.R7$(3),e.Y8G("ngClass",a.showThumbnails?"offset-3 offset-md-2  pl-3":""),e.R7$(),e.Y8G("object",a.dso)}}function HM(p,C){1&p&&e.nrm(0,"ds-loading",6),2&p&&e.Y8G("showMessage",!1)}let Am=class VP extends vo.P{constructor(C,a,h,N){super(C,h,N),this.truncatableService=C,this.linkService=a,this.dsoNameService=h,this.appConfig=N,this.LinkTypes=l1.n,this.ViewModes=Vn.n,this.derivedSearchResult$=new _.t(void 0),this.badgeContext=Ws.o.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,Ns.s)("item")),this.object.indexableObject.item.pipe((0,ws.ak)()).subscribe(C=>{new ea.H,this.derivedSearchResult$.next(Object.assign(new ea.H,{indexableObject:C,hitHighlights:this.object.hitHighlights}))})}static#e=this.\u0275fac=function(a){return new(a||VP)(e.rXU(Oi.F),e.rXU(vi._),e.rXU(Os.f),e.rXU(qi.vQ))};static#t=this.\u0275cmp=e.VBU({type:VP,selectors:[["ds-workflow-item-my-dspace-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:6,consts:[[4,"ngIf"],[3,"showMessage",4,"ngIf"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"],[3,"showMessage"]],template:function(a,h){1&a&&(e.DNE(0,c1,6,8,"ng-container",0),e.nI1(1,"async"),e.DNE(2,HM,1,1,"ds-loading",1),e.nI1(3,"async")),2&a&&(e.Y8G("ngIf",e.bMT(1,2,h.derivedSearchResult$)),e.R7$(2),e.Y8G("ngIf",void 0===e.bMT(3,4,h.derivedSearchResult$)))},dependencies:[d.bT,Od.v,d.YU,Mm,$c.v,d.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})};function d1(p,C){if(1&p){const a=e.RV6();e.qex(0),e.nrm(1,"ds-listable-object-component-loader",2),e.nI1(2,"async"),e.j41(3,"div",3)(4,"div",4)(5,"ds-workspaceitem-actions",5),e.bIt("processCompleted",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.reloadedObject.emit(N.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&p){const a=e.XpG();e.R7$(),e.Y8G("viewMode",a.ViewModes.ListElement)("object",e.bMT(2,6,a.derivedSearchResult$))("linkType",a.LinkTypes.None)("context",a.badgeContext),e.R7$(3),e.Y8G("ngClass",a.showThumbnails?"offset-3 offset-md-2  pl-3":""),e.R7$(),e.Y8G("object",a.dso)}}function u1(p,C){1&p&&e.nrm(0,"ds-loading",6),2&p&&e.Y8G("showMessage",!1)}Am=(0,Ue.Cg)([(0,Wn.VK)(Eu.q,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Oi.F,vi._,Os.f,Object])],Am);let Gd=class GP extends vo.P{constructor(C,a,h,N){super(C,h,N),this.truncatableService=C,this.linkService=a,this.dsoNameService=h,this.appConfig=N,this.LinkTypes=l1.n,this.ViewModes=Vn.n,this.derivedSearchResult$=new _.t(void 0),this.badgeContext=Ws.o.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,Ns.s)("item")),this.object.indexableObject.item.pipe((0,ws.ak)()).subscribe(C=>{new ea.H,this.derivedSearchResult$.next(Object.assign(new ea.H,{indexableObject:C,hitHighlights:this.object.hitHighlights}))})}static#e=this.\u0275fac=function(a){return new(a||GP)(e.rXU(Oi.F),e.rXU(vi._),e.rXU(Os.f),e.rXU(qi.vQ))};static#t=this.\u0275cmp=e.VBU({type:GP,selectors:[["ds-workspace-item-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:6,consts:[[4,"ngIf"],[3,"showMessage",4,"ngIf"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"],[3,"showMessage"]],template:function(a,h){1&a&&(e.DNE(0,d1,6,8,"ng-container",0),e.nI1(1,"async"),e.DNE(2,u1,1,1,"ds-loading",1),e.nI1(3,"async")),2&a&&(e.Y8G("ngIf",e.bMT(1,2,h.derivedSearchResult$)),e.R7$(2),e.Y8G("ngIf",void 0===e.bMT(3,4,h.derivedSearchResult$)))},dependencies:[d.bT,Od.v,d.YU,vp,$c.v,d.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}","[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}"]})};function zM(p,C){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const a=e.XpG();e.Y8G("maxLines",1)("background",a.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",a.isCurrent()?"text-light":"text-secondary")("innerHTML",a.description,e.npT)}}Gd=(0,Ue.Cg)([(0,Wn.VK)(Md.I,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Oi.F,vi._,Os.f,Object])],Gd);let Sp=class fD extends Il{getDescription(){return this.firstMetadataValue("dc.description.abstract")}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(fD)))(h||fD)}})();static#t=this.\u0275cmp=e.VBU({type:fD,selectors:[["ds-collection-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,zM,2,5,"ds-truncatable-part",3)),2&a&&(e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,h.parentTitle$&&h.parentTitle$)?e.bMT(3,13,h.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-primary")("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.description))},dependencies:[$r.W,d.YU,d.bT,d.Jj,G.h,G.D9],encapsulation:2})};function h1(p,C){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const a=e.XpG();e.Y8G("maxLines",1)("background",a.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",a.isCurrent()?"text-light":"text-secondary")("innerHTML",a.description,e.npT)}}Sp=(0,Ue.Cg)([(0,Wn.VK)(Nc.A,Vn.n.ListElement,Ws.o.SideBarSearchModal),(0,Wn.VK)(Nc.A,Vn.n.ListElement,Ws.o.SideBarSearchModalCurrent)],Sp);let Pp=class mD extends Il{getDescription(){return this.firstMetadataValue("dc.description.abstract")}static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(mD)))(h||mD)}})();static#t=this.\u0275cmp=e.VBU({type:mD,selectors:[["ds-community-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,h1,2,5,"ds-truncatable-part",3)),2&a&&(e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,h.parentTitle$&&h.parentTitle$)?e.bMT(3,13,h.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-primary")("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.description))},dependencies:[$r.W,d.YU,d.bT,d.Jj,G.h,G.D9],encapsulation:2})};function YM(p,C){if(1&p&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&p){const a=e.XpG();e.Y8G("maxLines",1)("background",a.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",a.isCurrent()?"text-light":"text-secondary")("innerHTML",a.description,e.npT)}}Pp=(0,Ue.Cg)([(0,Wn.VK)(pu.L,Vn.n.ListElement,Ws.o.SideBarSearchModal),(0,Wn.VK)(pu.L,Vn.n.ListElement,Ws.o.SideBarSearchModalCurrent)],Pp);let wm=class gD extends Il{static#e=this.\u0275fac=(()=>{let C;return function(h){return(C||(C=e.xGo(gD)))(h||gD)}})();static#t=this.\u0275cmp=e.VBU({type:gD,selectors:[["ds-publication-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(a,h){1&a&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,YM,2,5,"ds-truncatable-part",3)),2&a&&(e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,h.parentTitle$&&h.parentTitle$)?e.bMT(3,13,h.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",h.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",h.isCurrent()?"text-light":"text-primary")("innerHTML",h.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",h.description))},dependencies:[$r.W,d.YU,d.bT,d.Jj,G.h,G.D9],encapsulation:2})};wm=(0,Ue.Cg)([(0,Wn.VK)("PublicationSearchResult",Vn.n.ListElement,Ws.o.SideBarSearchModal),(0,Wn.VK)("PublicationSearchResult",Vn.n.ListElement,Ws.o.SideBarSearchModalCurrent),(0,Wn.VK)(ea.H,Vn.n.ListElement,Ws.o.SideBarSearchModal),(0,Wn.VK)(ea.H,Vn.n.ListElement,Ws.o.SideBarSearchModalCurrent)],wm);var p1=t(65554);const XM=[Sm,Op,Cc,Tf,Uc,Ec,Q_,wh,Pf,Sp,Wg,Rf,bp,Z_,fu,xh,Pp,CE,Sf,vu,Dp,q_,rl,mc.k,Zf,Vf,Ld,Id,Wh,Tu,Rd,Hf,$h,Vc,Gh,Jh,qf,$f,_c,Pd,Hh,zf,Mp,O_,Wr,Xc,Pu,Ru,up,Lu,lm,rp,Au,ip,lp,hm,om,P_,zc,wu,ol,cp,am,wm,Ff,bu,jc,Nf,Gd,Am,Pm,ev,Xu,ka,ed,Qc,Gu,yc,Ep,Cp,Rm,vc,Fu];let JM=(()=>{class p{static withEntryComponents(){return{ngModule:p,providers:XM.map(a=>({provide:a}))}}static#e=this.\u0275fac=function(h){return new(h||p)};static#t=this.\u0275mod=e.$C({type:p});static#n=this.\u0275inj=e.G2t({imports:[d.MD,y.iI,G.h,$r.W,p1.ThumbnailComponent,K_.BadgesComponent,Oo.F,jd,Sl,Wc,vp,W_,qc,TE,S_,Om,Mm,If,Vi.T,Hl.V,_p,A_,wd,Uh,V0,wn.YN,fm,pm,hp,mm,F_,RE,w_.r,Tf,Uc,Ec,wh,Pf,Sp,Wg,Rf,bp,fu,xh,Pp,Sf,vu,Dp,rl,mc.k,Zf,Vf,Ld,Id,Wh,Tu,Rd,Hf,$h,Vc,Gh,Jh,qf,$f,_c,Pd,Hh,zf,Mp,O_,Wr,Xc,Pu,Ru,up,Lu,lm,rp,Au,ip,lp,hm,om,P_,zc,wu,ol,cp,am,wm,Ff,bu,jc,Nf,Gd,Am,Pm,ev,Xu,ka,ed,Qc,Gu,yc,Ep,Cp,Rm,vc,Fu]})}return p})();var f1=t(73078),td=t(55930);let QM=(()=>{class p{constructor(a,h){this.tokenExtractor=a,this.cookieService=h}intercept(a,h){const N=(a=a.clone({withCredentials:!0})).url.toLowerCase(),ie=new f1.F("/").toString().toLowerCase();if("GET"!==a.method&&"HEAD"!==a.method&&N.startsWith(ie)){const Ae=this.tokenExtractor.getToken();null!==Ae&&!a.headers.has(td.sA)&&(a=a.clone({headers:a.headers.set(td.sA,Ae)}))}return h.handle(a).pipe((0,ii.M)(Ae=>{Ae instanceof ee.cS&&Ae.headers.has(td.oo)&&this.saveXsrfToken(Ae.headers.get(td.oo))}),(0,ts.W)(Ae=>(Ae instanceof ee.yz&&Ae.headers.has(td.oo)&&this.saveXsrfToken(Ae.headers.get(td.oo)),(0,hl.$)(Ae))))}saveXsrfToken(a){this.cookieService.remove(td.dX),this.cookieService.set(td.dX,a)}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(ee.B3),e.KVO(lf.O))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();t(78335),t(74669);let ZM=(()=>{class p{serialize(a){const{url:h}=a;return{url:h,queryParams:a.root.queryParams}}static#e=this.\u0275fac=function(h){return new(h||p)};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();t(54234);const eI={providers:[(0,e.oKB)(ml.xG.forRoot(),X.UN,hr.forRoot(Kp),E.md.forRoot(Sc.rd,Sc.wP),va.hO.forRoot(),[],$p,Zl,JM.withEntryComponents(),Zo.mB.forRoot()),(0,y.lh)(SD,(0,y.Ii)({onSameUrlNavigation:"reload"}),(0,y.oH)({scrollPositionRestoration:"top",anchorScrolling:"enabled"}),(0,y.Zy)(),(0,y.Sn)(y.D7)),{provide:d.kB,useFactory:(p,C)=>{const a=p.querySelector("head > base");return a.setAttribute("href",`${C.ui.nameSpace}${C.ui.nameSpace.endsWith("/")?"":"/"}`),a.getAttribute("href")},deps:[d.qQ,qi.vQ]},{provide:E.iK,useFactory:function v1(p){return p.debug?[..._i,...Tn]:_i},deps:[qi.vQ]},{provide:va.jr,useClass:ZM},R0,{provide:ee.a7,useClass:HP,multi:!0},{provide:ee.a7,useClass:Na,multi:!0},{provide:ee.a7,useClass:QM,multi:!0},{provide:ee.a7,useClass:d0,multi:!0},...Fn.A0q,(0,e.EmA)([{provide:cu.Y,useFactory:(p,C)=>R.c.production?new cu.Y(C):new bh(p,C),deps:[p0,ee.Qq]}])]};var Lm=t(82586),tI=t(45122),rv=t(70210);let ov=(()=>{class p extends Lm.H{constructor(a,h,N){super(a,h,N)}createShortLivedTokenRequest(a){return(0,Rs.of)(new rv.Qf(this.requestService.generateRequestId(),a))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(H_.Y),e.KVO(Fr.B),e.KVO(tI.o))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})(),nI=(()=>{class p{constructor(a){this.actions$=a,this.reinitDSOMenus=Kn(()=>this.actions$.pipe(un(Ea.REHYDRATE),(0,Ht.T)(()=>new Mc.PM)))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var xm=t(49587),Nm=t(26061),av=t(55623),y1=t(59668),Fm=t(3690),Oa=t(74963);class sI{constructor(C,a){this.zone=C,this.scheduler=a}schedule(...C){return this.zone.run(()=>this.scheduler.schedule.apply(this.scheduler,C))}now(){return this.scheduler.now()}}class Bm{constructor(C,a){this.zone=C,this.scheduler=a}schedule(...C){return this.zone.runOutsideAngular(()=>this.scheduler.schedule.apply(this.scheduler,C))}now(){return this.scheduler.now()}}const Um=[...Object.values(Y.Yk).filter(p=>p!==Y.Yk.UNSET_USER_AS_IDLE),...Object.values(Oa.tO),...Object.values(Fm.Is)];function nd(p,C){return C instanceof Error||console.warn("AuthEffects caught non-Error object:",C),(0,Rs.of)(new p(C))}let E1=(()=>{class p{constructor(a,h,N,ie,Ae){this.actions$=a,this.zone=h,this.authorizationsService=N,this.authService=ie,this.store=Ae,this.authenticate$=Kn(()=>this.actions$.pipe(un(Y.Yk.AUTHENTICATE),(0,Es.n)(Le=>this.authService.authenticate(Le.payload.email,Le.payload.password).pipe((0,T.s)(1),(0,Ht.T)(_t=>new Y.sy(_t.token)),(0,ts.W)(_t=>nd(Y.HQ,_t)))))),this.authenticateSuccess$=Kn(()=>this.actions$.pipe(un(Y.Yk.AUTHENTICATE_SUCCESS),(0,Ht.T)(Le=>new Y.ks(Le.payload)))),this.authenticated$=Kn(()=>this.actions$.pipe(un(Y.Yk.AUTHENTICATED),(0,Es.n)(Le=>this.authService.authenticatedUser(Le.payload).pipe((0,Ht.T)(_t=>new Y.D9(null!==_t,Le.payload,_t)),(0,ts.W)(_t=>nd(Y.IV,_t)))))),this.authenticatedSuccess$=Kn(()=>this.actions$.pipe(un(Y.Yk.AUTHENTICATED_SUCCESS),(0,ii.M)(Le=>this.authService.storeToken(Le.payload.authToken)),(0,Es.n)(Le=>this.authService.getRedirectUrl().pipe((0,T.s)(1),(0,Ht.T)(_t=>[Le,_t]))),(0,Ht.T)(([Le,_t])=>(0,V.a4)(_t)?new Y.FD(_t):new Y.K0(Le.payload.userHref)))),this.redirectAfterLoginSuccess$=Kn(()=>this.actions$.pipe(un(Y.Yk.REDIRECT_AFTER_LOGIN_SUCCESS),(0,ii.M)(Le=>{this.authService.clearRedirectUrl(),this.authService.navigateToRedirectUrl(Le.payload)})),{dispatch:!1}),this.authenticatedError$=Kn(()=>this.actions$.pipe(un(Y.Yk.AUTHENTICATED_ERROR),(0,ii.M)(Le=>this.authService.removeToken())),{dispatch:!1}),this.retrieveAuthenticatedEperson$=Kn(()=>this.actions$.pipe(un(Y.Yk.RETRIEVE_AUTHENTICATED_EPERSON),(0,Es.n)(Le=>{const _t=this.authService.getImpersonateID();let Ft;return Ft=(0,V.a4)(_t)?this.authService.retrieveAuthenticatedUserById(_t):this.authService.retrieveAuthenticatedUserByHref(Le.payload),Ft.pipe((0,Ht.T)(fn=>new Y.JT(fn.id)),(0,ts.W)(fn=>nd(Y.cU,fn)))}))),this.checkToken$=Kn(()=>this.actions$.pipe(un(Y.Yk.CHECK_AUTHENTICATION_TOKEN),(0,Es.n)(()=>this.authService.hasValidAuthenticationToken().pipe((0,Ht.T)(Le=>new Y.ks(Le)),(0,ts.W)(Le=>(0,Rs.of)(new Y.e0)))))),this.checkTokenCookie$=Kn(()=>this.actions$.pipe(un(Y.Yk.CHECK_AUTHENTICATION_TOKEN_COOKIE),(0,Es.n)(()=>this.authService.checkAuthenticationCookie().pipe((0,Ht.T)(Le=>Le.authenticated?(this.authService.setExternalAuthStatus(!0),this.authorizationsService.invalidateAuthorizationsRequestCache(),new Y.kZ):new Y.j3(Le)),(0,ts.W)(Le=>nd(Y.IV,Le)))))),this.retrieveToken$=Kn(()=>this.actions$.pipe(un(Y.Yk.RETRIEVE_TOKEN),(0,Es.n)(Le=>this.authService.refreshAuthenticationToken(null).pipe((0,T.s)(1),(0,Ht.T)(_t=>new Y.sy(_t)),(0,ts.W)(_t=>nd(Y.HQ,_t)))))),this.refreshToken$=Kn(()=>this.actions$.pipe(un(Y.Yk.REFRESH_TOKEN),(0,Es.n)(Le=>this.authService.refreshAuthenticationToken(Le.payload).pipe((0,Ht.T)(_t=>new Y.IO(_t)),(0,ts.W)(_t=>(0,Rs.of)(new Y.$K)))))),this.refreshTokenSuccess$=Kn(()=>this.actions$.pipe(un(Y.Yk.REFRESH_TOKEN_SUCCESS),(0,ii.M)(Le=>this.authService.replaceToken(Le.payload))),{dispatch:!1}),this.clearInvalidTokenOnRehydrate$=Kn(()=>this.actions$.pipe(un(Ea.REHYDRATE),(0,Es.n)(()=>{const Le=this.store.pipe((0,E.Lt)(w.TR)),_t=this.store.pipe((0,E.Lt)(w.wR));return(0,vn.z)([Le,_t]).pipe((0,T.s)(1),(0,Gn.p)(([Ft,fn])=>Ft&&!fn),(0,ii.M)(()=>this.authService.removeToken()),(0,ii.M)(()=>this.authService.resetAuthenticationError()))})),{dispatch:!1}),this.invalidateAuthorizationsRequestCache$=Kn(()=>this.actions$.pipe(un(Ea.REHYDRATE),(0,ii.M)(()=>this.authorizationsService.invalidateAuthorizationsRequestCache())),{dispatch:!1}),this.logOut$=Kn(()=>this.actions$.pipe(un(Y.Yk.LOG_OUT),(0,Es.n)(()=>(this.authService.stopImpersonating(),this.authService.logout().pipe((0,Ht.T)(()=>new Y.G2),(0,ts.W)(Le=>nd(Y.VU,Le))))))),this.logOutSuccess$=Kn(()=>this.actions$.pipe(un(Y.Yk.LOG_OUT_SUCCESS),(0,ii.M)(()=>this.authService.removeToken()),(0,ii.M)(()=>this.authService.clearRedirectUrl()),(0,ii.M)(()=>this.authService.refreshAfterLogout())),{dispatch:!1}),this.redirectToLoginTokenExpired$=Kn(()=>this.actions$.pipe(un(Y.Yk.REDIRECT_TOKEN_EXPIRED),(0,ii.M)(()=>this.authService.removeToken()),(0,ii.M)(()=>this.authService.redirectToLoginWhenTokenExpired())),{dispatch:!1}),this.retrieveMethods$=Kn(()=>this.actions$.pipe(un(Y.Yk.RETRIEVE_AUTH_METHODS),(0,Es.n)(Le=>this.authService.retrieveAuthMethodsFromAuthStatus(Le.payload).pipe((0,Ht.T)(_t=>new Y.qY(_t)),(0,ts.W)(()=>(0,Rs.of)(new Y.$X)))))),this.trackIdleness$=Kn(()=>this.actions$.pipe((0,Gn.p)(Le=>!Um.includes(Le.type)),(0,Es.n)(()=>(0,xm.O)(R.c.auth.ui.timeUntilIdle,new Bm(this.zone,Nm.E))),(0,y1.Q)(new sI(this.zone,av.T)),(0,Ht.T)(()=>new Y.es)))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En),e.KVO(e.SKi),e.KVO(js.AuthorizationDataService),e.KVO(u.uR),e.KVO(E.il))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var Rp=t(98046);let iI=(()=>{class p{constructor(a){this.actions$=a,this.fixTimestampsOnRehydrate=Kn(()=>this.actions$.pipe(un(Ea.REHYDRATE),(0,Ht.T)(()=>new Rp.Yp((new Date).getTime()))))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var jm=t(48891),Ju=t(96779);let C1=(()=>{class p{applyPatch(a){return this.objectCache.getByHref(a).pipe((0,T.s)(1)).pipe((0,Ht.T)(N=>{if((0,V.hj)(N.patches)){const ie=[].concat(...N.patches.map(Ae=>Ae.operations));(0,V.hj)(ie)&&this.requestService.send(new rv.EA(this.requestService.generateRequestId(),a,ie))}return new Rp.gL(a)}))}constructor(a,h,N,ie){this.actions$=a,this.store=h,this.requestService=N,this.objectCache=ie,this.setTimeoutForServerSync=Kn(()=>this.actions$.pipe(un(Ic.G9.ADD),Fi(Ae=>{const Le=R.c.cache.autoSync,_t=Le.timePerMethod[Ae.payload.method]||Le.defaultTime;return(0,Rs.of)(new Ic.eR(Ae.payload.method)).pipe((0,O.c)(1e3*_t))}))),this.commitServerSyncBuffer=Kn(()=>this.actions$.pipe(un(Ic.G9.COMMIT),(0,Es.n)(Ae=>this.store.pipe((0,E.Lt)(function $d(){return(0,E.Mz)(jm.N,p=>p["cache/syncbuffer"])}()),(0,T.s)(1),(0,Es.n)(Le=>{const _t=Le.buffer.filter(Ft=>!(0,V.a4)(Ae.payload)||Ft.method===Ae.payload).map(Ft=>{if(Ft.method===Ju.D.PATCH)return this.applyPatch(Ft.href)});return(0,V.hj)(_t)&&(0,V.EA)(_t[0])?(0,vn.z)(..._t).pipe((0,Es.n)(Ft=>[...Ft,new Ic.a0(Ae.payload)])):(0,Rs.of)(new lh.L)})))))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En),e.KVO(E.il),e.KVO(Fr.B),e.KVO(Nr.$))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var rI=t(6340),Ap=t(62591);let Qu=(()=>{class p{constructor(a,h){this.actions$=a,this.notificationsService=h,this.allIdentifier="all",this.actionMap$={},this.notificationActionMap$={all:new eo.B},this.mapLastActions$=Kn(()=>this.actions$.pipe(un(...Object.values(Ap.Ft)),(0,Ht.T)(N=>{if((0,V.a4)(N.payload)){const ie=N.payload.url;(0,V.Tn)(this.actionMap$[ie])&&(this.actionMap$[ie]=new eo.B),this.actionMap$[ie].next(N)}})),{dispatch:!1}),this.mapLastNotificationActions$=Kn(()=>this.actions$.pipe(un(...Object.values(Fm.Is)),(0,Ht.T)(N=>{const ie=N.payload.id||N.payload||this.allIdentifier;(0,V.Tn)(this.notificationActionMap$[ie])&&(this.notificationActionMap$[ie]=new eo.B),this.notificationActionMap$[ie].next(N)})),{dispatch:!1}),this.removeAfterDiscardOrReinstateOnUndo$=Kn(()=>this.actions$.pipe(un(Ap.Ft.DISCARD),(0,Es.n)(N=>{const ie=N.payload.url,Ae=N.payload.notification,Le=Ae.options.timeOut;let _t=new Ap.S3(N.payload.url);return N.payload.discardAll&&(_t=new Ap.zJ),(0,rI.O)((0,Rs.of)(_t).pipe((0,O.c)(Le)),this.actionMap$[ie].pipe((0,T.s)(1),(0,ii.M)(()=>{this.notificationsService.remove(Ae)}),(0,Ht.T)(Ft=>Ft.type===Ap.Ft.REINSTATE?new lh.L:_t)),this.notificationActionMap$[Ae.id].pipe((0,Gn.p)(Ft=>Ft.type===Fm.Is.REMOVE_NOTIFICATION),(0,Ht.T)(()=>_t)),this.notificationActionMap$[this.allIdentifier].pipe((0,Gn.p)(Ft=>Ft.type===Fm.Is.REMOVE_ALL_NOTIFICATIONS),(0,Ht.T)(()=>_t)))})))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En),e.KVO(go.I))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var YR=t(26050),lv=t(85178);let cv=(()=>{class p{constructor(){this.tokenInitialized$=new _.t(!1)}static#e=this.\u0275fac=function(h){return new(h||p)};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})(),b1=(()=>{class p{constructor(a,h,N,ie,Ae){this.actions$=a,this.restApi=h,this.injector=N,this.requestService=ie,this.xsrfService=Ae,this.execute=Kn(()=>this.actions$.pipe(un(Oa.tO.EXECUTE),(0,zs.Z)(Le=>this.requestService.getByUUID(Le.payload).pipe((0,T.s)(1))),(0,Gn.p)(Le=>(0,V.a4)(Le)),(0,I.E)(this.xsrfService.tokenInitialized$),(0,Gn.p)(([Le,_t])=>Le.request.method===Ju.D.GET||!0===_t),(0,Ht.T)(([Le,_t])=>Le.request),(0,zs.Z)(Le=>{let _t=Le.body;return(0,V.hj)(Le.body)&&!Le.isMultipart&&(_t=new YR.T((0,ni.Qt)(Le.body.type)).serialize(Le.body)),this.restApi.request(Le.method,Le.href,_t,Le.options,Le.isMultipart).pipe((0,Ht.T)(Ft=>this.injector.get(Le.getResponseParser()).parse(Le,Ft)),(0,Ht.T)(Ft=>new Oa.Di(Le.uuid,Ft.statusCode,Ft.link,Ft.unCacheableObject)),(0,ts.W)(Ft=>{if(Ft instanceof lv.G)return[new Oa.Gl(Le.uuid,Ft.statusCode,Ft.message)];throw Ft}))}))),this.fixTimestampsOnRehydrate=Kn(()=>this.actions$.pipe(un(Ea.REHYDRATE),(0,Ht.T)(()=>new Oa.cX((new Date).getTime()))))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En),e.KVO(cu.Y),e.KVO(e.zZn),e.KVO(Fr.B),e.KVO(cv))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var sd=t(97072),D1=t(59501),bc=t(10202);let oI=(()=>{class p{constructor(a,h){this.actions$=a,this.store=h,this.addObject$=Kn(()=>this.actions$.pipe(un(Rp.db.ADD),(0,Gn.p)(N=>(0,V.a4)(N.payload.objectToCache.uuid)),(0,Ht.T)(N=>new sd.Lv(bc.U.OBJECT,N.payload.objectToCache.uuid,N.payload.objectToCache._links.self.href)))),this.addAlternativeObjectLink$=Kn(()=>this.actions$.pipe(un(Rp.db.ADD),(0,Ht.T)(N=>{const ie=N.payload.alternativeLink,Ae=N.payload.objectToCache._links.self.href;return(0,V.a4)(ie)&&ie!==Ae?new sd.Lv(bc.U.ALTERNATIVE_OBJECT_LINK,ie,Ae):new lh.L}))),this.removeObject$=Kn(()=>this.actions$.pipe(un(Rp.db.REMOVE),(0,Ht.T)(N=>new sd.H9(bc.U.OBJECT,N.payload)))),this.addRequest$=Kn(()=>this.actions$.pipe(un(Oa.tO.CONFIGURE),(0,Gn.p)(N=>N.payload.method===Ju.D.GET),(0,Es.n)(N=>{const ie=(0,D1.tJ)(N.payload.href);return this.store.pipe((0,E.Lt)((0,D1.Qc)(ie)),(0,T.s)(1),(0,Ht.T)(Ae=>[N,Ae]))}),(0,Es.n)(([N,ie])=>{let Ae=[];return(0,V.a4)(ie)&&(Ae=[new Oa.HL(ie)]),Ae=[...Ae,new sd.Lv(bc.U.REQUEST,(0,D1.tJ)(N.payload.href),N.payload.uuid)],Ae})))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En),e.KVO(E.il))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})(),aI=(()=>{class p{constructor(a){this.actions$=a,this.commit$=Kn(()=>this.actions$.pipe(un(To.Ce.COMMIT_JSON_PATCH_OPERATIONS),(0,Ht.T)(h=>new To.pg(h.payload.resourceType,h.payload.resourceId))))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();const Wd={ROUTE_UPDATE:(0,eu.N)("dspace/core/router/ROUTE_UPDATE")};class cI{constructor(){this.type=Wd.ROUTE_UPDATE}}let km=(()=>{class p{constructor(a,h){this.actions$=a,this.router=h,this.routeChange$=Kn(()=>this.actions$.pipe(un(va.hr),function lI(){return(0,ln.N)((p,C)=>{let a,h=!1;p.subscribe((0,Sn._)(C,N=>{const ie=a;a=N,h&&C.next([ie,N]),h=!0}))})}(),(0,Ht.T)(N=>N.map(ie=>this.router.parseUrl(ie.payload.routerState.url).root.children.primary.segments.map(Le=>Le.path).join("/"))),(0,Gn.p)(N=>N[0]!==N[1]),(0,Ht.T)(()=>new cI)))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En),e.KVO(y.Ix))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var ll=t(73799);const T1=[b1,iI,oI,E1,aI,C1,Qu,(()=>{class p{constructor(a,h){this.actions$=a,this.service=h,this.routeChange$=Kn(()=>this.actions$.pipe(un(Wd.ROUTE_UPDATE),(0,Ht.T)(()=>new ll.sV))),this.afterResetChange$=Kn(()=>this.actions$.pipe(un(ll.HH.RESET),(0,ii.M)(()=>this.service.setCurrentRouteInfo())),{dispatch:!1})}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(En),e.KVO(Xf.v$))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})(),km,nI];var Vm=t(98017);const dI={selectedBitstreamFormats:[]},M1={authenticated:!1,loaded:!1,blocking:!0,loading:!1,authMethods:[],externalAuth:!1,idle:!1};var S1=t(44537);const uI={buffer:[]};var fI=t(16812);const mI=Object.create(null);var vI=t(65968);const w1=[],yI=Object.create(null);var Zu=function(p){return p.test="test",p.remove="remove",p.add="add",p.replace="replace",p.move="move",p.copy="copy",p}(Zu||{});const N1=Object.create(null);function id(p){return{operation:p,timeCompleted:(new Date).getTime()}}const Wm={ADD:(0,eu.N)("dspace/meta-tag/ADD"),CLEAR:(0,eu.N)("dspace/meta-tag/CLEAR")};class MI{constructor(C){this.type=Wm.ADD,this.payload=C}}class II{constructor(){this.type=Wm.CLEAR}}const B1={tagsInUse:[]},j1={queryParams:{},params:{}};function eh(p,C,a){const h=p[a],ie=[...h[C.payload.key]||[],C.payload.value],Ae=Object.assign({},h,{[C.payload.key]:ie});return Object.assign({},p,{[a]:Ae})}function k1(p,C,a){const h=(0,V.hj)(C.payload)?{[a]:{[C.payload.key]:C.payload.value}}:{};return Object.assign({},p,h)}function dv(p,C,a){const N=Object.assign({},p[a],{[C.payload.key]:C.payload.value});return Object.assign({},p,{[a]:N})}const RI={bitstreamFormats:function O1(p=dI,C){switch(C.type){case Vm.Sh.SELECT_FORMAT:return Object.assign({},p,{selectedBitstreamFormats:[...p.selectedBitstreamFormats,C.bitstreamFormat]});case Vm.Sh.DESELECT_FORMAT:return Object.assign({},p,{selectedBitstreamFormats:p.selectedBitstreamFormats.filter(a=>a!==C.bitstreamFormat)});case Vm.Sh.DESELECT_ALL_FORMAT:return Object.assign({},p,{selectedBitstreamFormats:[]});default:return p}},"cache/object":S1.gT,"cache/syncbuffer":function hI(p=uI,C){switch(C.type){case Ic.G9.ADD:return function wp(p,C){const a=C.payload;return(0,V.Tn)(p.buffer.find(h=>h.href===a.href&&h.method===a.method))?Object.assign({},p,{buffer:p.buffer.concat(a)}):p}(p,C);case Ic.G9.EMPTY:return function pI(p,C){let a=[];return(0,V.a4)(C.payload)&&(a=p.buffer.filter(h=>h.method!==C.payload)),Object.assign({},p,{buffer:a})}(p,C);default:return p}},"cache/object-updates":fI.O,"data/request":function Gm(p=mI,C){switch(C.type){case Oa.tO.CONFIGURE:return function P1(p,C){return Object.assign({},p,{[C.payload.uuid]:{request:C.payload,state:ta.zE.RequestPending,response:null,lastUpdated:C.lastUpdated}})}(p,C);case Oa.tO.EXECUTE:return function R1(p,C){return(0,V.kZ)(p[C.payload])?p:Object.assign({},p,{[C.payload]:Object.assign({},p[C.payload],{state:ta.zE.ResponsePending,lastUpdated:C.lastUpdated})})}(p,C);case Oa.tO.SUCCESS:return function A1(p,C){const a=p[C.payload.uuid];return(0,V.kZ)(a)?p:Object.assign({},p,{[C.payload.uuid]:Object.assign({},a,{state:(0,ta.QO)(a.state)?ta.zE.SuccessStale:ta.zE.Success,response:{timeCompleted:C.payload.timeCompleted,lastUpdated:C.payload.timeCompleted,statusCode:C.payload.statusCode,payloadLink:C.payload.link,unCacheableObject:C.payload.unCacheableObject,errorMessage:null},lastUpdated:C.lastUpdated})})}(p,C);case Oa.tO.ERROR:return function gI(p,C){const a=p[C.payload.uuid];return(0,V.kZ)(a)?p:Object.assign({},p,{[C.payload.uuid]:Object.assign({},a,{state:(0,ta.QO)(a.state)?ta.zE.ErrorStale:ta.zE.Error,response:{timeCompleted:C.payload.timeCompleted,lastUpdated:C.payload.timeCompleted,statusCode:C.payload.statusCode,payloadLink:null,errorMessage:C.payload.errorMessage},lastUpdated:C.lastUpdated})})}(p,C);case Oa.tO.STALE:return function Lp(p,C){const a=p[C.payload.uuid];if((0,V.kZ)(a)||(0,ta.QO)(a.state)||(0,ta.DB)(a.state))return p;{let h;return h=(0,ta.vT)(a.state)?ta.zE.ResponsePendingStale:(0,ta.yO)(a.state)?ta.zE.SuccessStale:ta.zE.ErrorStale,Object.assign({},p,{[C.payload.uuid]:Object.assign({},a,{state:h,lastUpdated:C.lastUpdated})})}}(p,C);case Oa.tO.RESET_TIMESTAMPS:return function xp(p,C){const a=Object.create(null);return Object.keys(p).forEach(h=>{a[h]=Object.assign({},p[h],{response:Object.assign({},p[h].response,{timeCompleted:C.payload}),lastUpdated:C.payload})}),a}(p,C);case Oa.tO.REMOVE:return function _I(p,C){const a=Object.assign({},p);return a[C.uuid]=null,a}(p,C);default:return p}},history:function Np(p=w1,C){return C.type===vI.i.ADD_TO_HISTORY?[...p,C.payload.url]:p},index:function EI(p=yI,C){switch(C.type){case sd.WJ.ADD:return function CI(p,C){const h=Object.assign({},p[C.payload.name],{[C.payload.key]:C.payload.value});return Object.assign({},p,{[C.payload.name]:h})}(p,C);case sd.WJ.REMOVE_BY_VALUE:return function L1(p,C){const a=p[C.payload.name],h=Object.create(null);for(const N in a)a[N]!==C.payload.value&&(h[N]=a[N]);return Object.assign({},p,{[C.payload.name]:h})}(p,C);case sd.WJ.REMOVE_BY_SUBSTRING:return function x1(p,C){const a=p[C.payload.name],h=Object.create(null);for(const N in a)N.indexOf(C.payload.value)<0&&(h[N]=a[N]);return Object.assign({},p,{[C.payload.name]:h})}(p,C);default:return p}},auth:function I1(p=M1,C){switch(C.type){case Y.Yk.AUTHENTICATE:return Object.assign({},p,{error:void 0,loading:!0,info:void 0});case Y.Yk.AUTHENTICATED:return Object.assign({},p,{loading:!0,blocking:!0});case Y.Yk.CHECK_AUTHENTICATION_TOKEN:case Y.Yk.CHECK_AUTHENTICATION_TOKEN_COOKIE:return Object.assign({},p,{loading:!0});case Y.Yk.SET_AUTH_COOKIE_STATUS:return Object.assign({},p,{externalAuth:C.payload});case Y.Yk.AUTHENTICATED_ERROR:case Y.Yk.RETRIEVE_AUTHENTICATED_EPERSON_ERROR:return Object.assign({},p,{authenticated:!1,authToken:void 0,error:C.payload.message,loaded:!0,blocking:!1,loading:!1});case Y.Yk.AUTHENTICATED_SUCCESS:return Object.assign({},p,{authenticated:!0,authToken:C.payload.authToken});case Y.Yk.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:return Object.assign({},p,{loaded:!0,error:void 0,loading:!1,blocking:!1,info:void 0,userId:C.payload});case Y.Yk.AUTHENTICATE_ERROR:return Object.assign({},p,{authenticated:!1,authToken:void 0,error:C.payload.message,blocking:!1,loading:!1});case Y.Yk.AUTHENTICATE_SUCCESS:case Y.Yk.LOG_OUT:return p;case Y.Yk.LOG_OUT_ERROR:return Object.assign({},p,{authenticated:!0,error:C.payload.message});case Y.Yk.REFRESH_TOKEN_ERROR:return Object.assign({},p,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!1,loading:!1,info:void 0,refreshing:!1,userId:void 0});case Y.Yk.LOG_OUT_SUCCESS:return Object.assign({},p,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!0,loading:!0,info:void 0,refreshing:!1,userId:void 0});case Y.Yk.REDIRECT_AUTHENTICATION_REQUIRED:case Y.Yk.REDIRECT_TOKEN_EXPIRED:return Object.assign({},p,{authenticated:!1,authToken:void 0,loaded:!1,blocking:!1,loading:!1,info:C.payload,userId:void 0});case Y.Yk.REFRESH_TOKEN:return Object.assign({},p,{refreshing:!0});case Y.Yk.REFRESH_TOKEN_SUCCESS:return Object.assign({},p,{authToken:C.payload,refreshing:!1,blocking:!1});case Y.Yk.ADD_MESSAGE:return Object.assign({},p,{info:C.payload});case Y.Yk.RESET_MESSAGES:return Object.assign({},p,{error:void 0,info:void 0});case Y.Yk.RETRIEVE_AUTH_METHODS:return Object.assign({},p,{loading:!0});case Y.Yk.RETRIEVE_AUTH_METHODS_SUCCESS:return Object.assign({},p,{loading:!1,blocking:!1,authMethods:C.payload});case Y.Yk.RETRIEVE_AUTH_METHODS_ERROR:return Object.assign({},p,{loading:!1,blocking:!1,authMethods:[new af.q(Eh.Q.Password,0)]});case Y.Yk.SET_REDIRECT_URL:return Object.assign({},p,{redirectUrl:C.payload});case Y.Yk.REDIRECT_AFTER_LOGIN_SUCCESS:return Object.assign({},p,{loading:!0,blocking:!0});case Y.Yk.SET_USER_AS_IDLE:return Object.assign({},p,{idle:!0});case Y.Yk.UNSET_USER_AS_IDLE:return Object.assign({},p,{idle:!1});case Ea.REHYDRATE:return Object.assign({},p,{blocking:!0});default:return p}},"json/patch":function bI(p=N1,C){switch(C.type){case To.Ce.COMMIT_JSON_PATCH_OPERATIONS:return function QR(p,C){return(0,V.a4)(p[C.payload.resourceType])&&p[C.payload.resourceType].commitPending?Object.assign({},p,{[C.payload.resourceType]:Object.assign({},p[C.payload.resourceType],{commitPending:!1})}):p}(p,C);case To.Ce.FLUSH_JSON_PATCH_OPERATIONS:return function TI(p,C){if((0,V.a4)(p[C.payload.resourceType])){let a;return(0,V.EA)(C.payload.resourceId)?a=(0,V.a4)(p[C.payload.resourceType].children)&&(0,V.a4)(p[C.payload.resourceType].children[C.payload.resourceId])?Object.assign({},p[C.payload.resourceType].children,{[C.payload.resourceId]:{body:p[C.payload.resourceType].children[C.payload.resourceId].body.filter(h=>h.timeCompleted>p[C.payload.resourceType].transactionStartTime)}}):p[C.payload.resourceType].children:(a=p[C.payload.resourceType].children,Object.keys(a).forEach(h=>{a=Object.assign({},a,{[h]:{body:a[h].body.filter(N=>N.timeCompleted>p[C.payload.resourceType].transactionStartTime)}})})),Object.assign({},p,{[C.payload.resourceType]:Object.assign({},p[C.payload.resourceType],{children:a,transactionStartTime:null})})}return p}(p,C);case To.Ce.NEW_JSON_PATCH_ADD_OPERATION:case To.Ce.NEW_JSON_PATCH_COPY_OPERATION:case To.Ce.NEW_JSON_PATCH_MOVE_OPERATION:case To.Ce.NEW_JSON_PATCH_REMOVE_OPERATION:case To.Ce.NEW_JSON_PATCH_REPLACE_OPERATION:return function qu(p,C){const a=Object.assign({},p),h=function $m(p,C,a){return(0,V.a4)(p[C])&&(0,V.a4)(p[C].children)&&(0,V.a4)(p[C].children[a])&&(0,V.hj)(p[C].children[a].body)}(a,C.payload.resourceType,C.payload.resourceId)?a[C.payload.resourceType].children[C.payload.resourceId].body:Array.of(),N=function OI(p,C,a,h,N){const ie=Array.from(p);switch(C){case To.Ce.NEW_JSON_PATCH_ADD_OPERATION:ie.push(id({op:Zu.add,path:a,value:h}));break;case To.Ce.NEW_JSON_PATCH_REPLACE_OPERATION:ie.push(id({op:Zu.replace,path:a,value:h}));break;case To.Ce.NEW_JSON_PATCH_REMOVE_OPERATION:ie.push(id({op:Zu.remove,path:a}));break;case To.Ce.NEW_JSON_PATCH_MOVE_OPERATION:ie.push(id({op:Zu.move,from:N,path:a}))}return function F1(p){const C=new Map;for(let a=p.length-1;a>=0;a--){const h=p[a].operation,N=`${h.op}-${h.path}`;C.has(N)?C.get(N)-1===a&&(p.splice(a,1),C.set(N,a)):C.set(N,a)}return p}(ie)}(h,C.type,C.payload.path,(0,V.a4)(C.payload.value)?C.payload.value:null,(0,V.a4)(C.payload.from)?C.payload.from:null);return(0,V.a4)(a[C.payload.resourceType])&&(0,V.a4)(a[C.payload.resourceType].children)?Object.assign({},p,{[C.payload.resourceType]:Object.assign({},p[C.payload.resourceType],{children:Object.assign({},p[C.payload.resourceType].children,{[C.payload.resourceId]:{body:N}}),commitPending:!!(0,V.EA)(p[C.payload.resourceType].commitPending)&&p[C.payload.resourceType].commitPending})}):Object.assign({},p,{[C.payload.resourceType]:Object.assign({},{children:{[C.payload.resourceId]:{body:N}},transactionStartTime:null,commitPending:!1})})}(p,C);case To.Ce.ROLLBACK_JSON_PATCH_OPERATIONS:return function ZR(p,C){return(0,V.a4)(p[C.payload.resourceType])&&p[C.payload.resourceType].commitPending?Object.assign({},p,{[C.payload.resourceType]:Object.assign({},p[C.payload.resourceType],{transactionStartTime:null,commitPending:!1})}):p}(p,C);case To.Ce.START_TRANSACTION_JSON_PATCH_OPERATIONS:return function DI(p,C){return(0,V.a4)(p[C.payload.resourceType])&&(0,V.kZ)(p[C.payload.resourceType].transactionStartTime)?Object.assign({},p,{[C.payload.resourceType]:Object.assign({},p[C.payload.resourceType],{transactionStartTime:C.payload.startTime,commitPending:!0})}):p}(p,C);case To.Ce.DELETE_PENDING_JSON_PATCH_OPERATIONS:return null;case To.Ce.FLUSH_JSON_PATCH_OPERATION:return function eA(p,C){const a=C.payload;if(p[a.resourceType]&&p[a.resourceType].children){const h=p[a.resourceType].children[a.resourceId].body,N=h.filter(Le=>Le.operation.path===a.path)[0],ie=h.indexOf(N),Ae=[...h];return Ae.splice(ie,1),Object.assign({},p,{[C.payload.resourceType]:Object.assign({},{children:{[C.payload.resourceId]:{body:Ae}}})})}return p}(p,C);default:return p}},metaTag:(p=B1,C)=>{switch(C.type){case Wm.ADD:return((p,C)=>({tagsInUse:[...p.tagsInUse,C.payload]}))(p,C);case Wm.CLEAR:return Object.assign({},B1);default:return p}},route:function PI(p=j1,C){switch(C.type){case ll.HH.RESET:return j1;case ll.HH.SET_PARAMETERS:return k1(p,C,"params");case ll.HH.SET_QUERY_PARAMETERS:return k1(p,C,"queryParams");case ll.HH.ADD_PARAMETER:return eh(p,C,"params");case ll.HH.ADD_QUERY_PARAMETER:return eh(p,C,"queryParams");case ll.HH.SET_PARAMETER:return dv(p,C,"params");case ll.HH.SET_QUERY_PARAMETER:return dv(p,C,"queryParams");default:return p}}};var uv=t(59153),Km=t(37846);let V1=(()=>{class p extends uv.f{constructor(a,h,N){super(),this.document=a,this.routeService=h,this.hardRedirectService=N}getReferrer(){return this.routeService.getHistory().pipe((0,Ht.T)(a=>{const h=a[a.length-1];if((0,V.Tn)(h)||a.every(N=>N===h))return this.document.referrer;{const ie=[...a].reverse().find(Ae=>Ae!==h);return new il.t(this.hardRedirectService.getCurrentOrigin(),ie).toString()}}))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(d.qQ),e.KVO(Xf.v$),e.KVO(Km.$))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();const G1=new e.nKC("Location");let AI=(()=>{class p extends Km.${constructor(a){super(),this.location=a}redirect(a){this.location.replace(a)}getCurrentRoute(){return this.location.pathname+this.location.search}getCurrentOrigin(){return this.location.origin}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(G1))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),$1=(()=>{class p extends o_{constructor(a,h){super(),this._document=a,this._window=h,this.mathJaxOptions={tex:{inlineMath:[["$","$"],["\\(","\\)"]]},svg:{fontCache:"global"},startup:{typeset:!1}},this.mathJax={source:"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js",id:"MathJaxScript"},this.mathJaxFallback={source:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-chtml.min.js",id:"MathJaxBackupScript"},this.isReady$=new _.t(!1),this.registerMathJaxAsync(this.mathJax).then(()=>this.isReady$.next(!0)).catch(N=>{this.registerMathJaxAsync(this.mathJaxFallback).then(()=>this.isReady$.next(!0))})}registerMathJaxAsync(a){var h=this;return(0,g.A)(function*(){return R.c.markdown.mathjax?new Promise((N,ie)=>{const Ae=h._document.createElement("script");Ae.type="text/javascript",Ae.text=`MathJax = ${JSON.stringify(h.mathJaxOptions)};`,h._document.head.appendChild(Ae);const Le=h._document.createElement("script");Le.id=a.id,Le.type="text/javascript",Le.src=a.source,Le.crossOrigin="anonymous",Le.async=!0,Le.onload=()=>N(),Le.onerror=_t=>ie(_t),h._document.head.appendChild(Le)}):Promise.resolve()})()}ready(){return this.isReady$}render(a){R.c.markdown.mathjax&&this._window.nativeWindow.MathJax.typesetPromise([a])}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(d.qQ),e.KVO(v.lc))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),W1=(()=>{class p extends cv{initXSRFToken(a){return()=>new Promise(h=>{a.get(new f1.F("/security/csrf").toString(),void 0).pipe((0,T.s)(1)).subscribe(()=>{this.tokenInitialized$.next(!0)}),h()})}static#e=this.\u0275fac=(()=>{let a;return function(N){return(a||(a=e.xGo(p)))(N||p)}})();static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var wI=t(87599),K1=t.n(wI),LI=t(27269),pv=t.n(LI),xI=t(31363),Hm=t(66040),zm=t(4496);const fv="klaro-anonymous",mv="google-analytics",FI={storageName:fv,privacyPolicy:"./info/privacy",hideLearnMore:!1,acceptAll:!0,cookieExpiresAfterDays:365,htmlTexts:!0,translations:{zz:{acceptAll:"cookies.consent.accept-all",acceptSelected:"cookies.consent.accept-selected",close:"cookies.consent.close",consentModal:{title:"cookies.consent.content-modal.title",description:"cookies.consent.content-modal.description"},consentNotice:{changeDescription:"cookies.consent.update",title:"cookies.consent.content-notice.title",description:"cookies.consent.content-notice.description",learnMore:"cookies.consent.content-notice.learnMore"},decline:"cookies.consent.decline",ok:"cookies.consent.ok",poweredBy:"Powered by Klaro!",privacyPolicy:{name:"cookies.consent.content-modal.privacy-policy.name",text:"cookies.consent.content-modal.privacy-policy.text"},purposeItem:{service:"cookies.consent.content-modal.service",services:"cookies.consent.content-modal.services"},purposes:{},save:"cookies.consent.save",service:{disableAll:{description:"cookies.consent.app.disable-all.description",title:"cookies.consent.app.disable-all.title"},optOut:{description:"cookies.consent.app.opt-out.description",title:"cookies.consent.app.opt-out.title"},purpose:"cookies.consent.app.purpose",purposes:"cookies.consent.app.purposes",required:{title:"cookies.consent.app.required.title",description:"cookies.consent.app.required.description"}}}},services:[{name:"authentication",purposes:["functional"],required:!0,cookies:[l0.R,u.of,u.kL]},{name:"preferences",purposes:["functional"],required:!0,cookies:[md.m4]},{name:"acknowledgement",purposes:["functional"],required:!0,cookies:[[/^klaro-.+$/],"dsHasAgreedEndUser"]},{name:mv,purposes:["statistical"],required:!1,cookies:[[/^_ga.?$/],[/^_gid$/]],onlyOnce:!0},{name:Hm.BA,purposes:["registration-password-recovery"],required:!1,cookies:[[/^klaro-.+$/],Hm.oL],onAccept:"window.refreshCaptchaScript?.call()",onDecline:"window.refreshCaptchaScript?.call()",onlyOnce:!0}]},gv="dspace.agreements.cookies",Y1=new e.nKC("Lazily loaded Klaro",{providedIn:"root",factory:(p=(0,g.A)(function*(){return yield t.e(8185).then(t.t.bind(t,68185,23))}),function(){return p.apply(this,arguments)})});var p;let jI=(()=>{class p extends zm.${constructor(a,h,N,ie,Ae,Le){super(),this.translateService=a,this.authService=h,this.ePersonService=N,this.configService=ie,this.cookieService=Ae,this.lazyKlaro=Le,this.GOOGLE_ANALYTICS_KEY="google.analytics.key",this.REGISTRATION_VERIFICATION_ENABLED_KEY="registration.verification.enabled",this.GOOGLE_ANALYTICS_SERVICE_NAME="google-analytics",this.klaroConfig=K1()(FI)}initialize(){R.c.info.enablePrivacyStatement||(delete this.klaroConfig.privacyPolicy,this.klaroConfig.translations.zz.consentNotice.description="cookies.consent.content-notice.description.no-privacy");const a=this.configService.findByPropertyName(this.GOOGLE_ANALYTICS_KEY).pipe((0,ws.qD)(),(0,Ht.T)(Le=>!Le.hasSucceeded||!Le.payload||(0,V.Im)(Le.payload.values))),h=this.configService.findByPropertyName(this.REGISTRATION_VERIFICATION_ENABLED_KEY).pipe((0,ws.qD)(),(0,Ht.T)(Le=>!Le.hasSucceeded||!Le.payload||(0,V.Im)(Le.payload.values)||"true"!==Le.payload.values[0].toLowerCase())),N=(0,vn.z)([a,h]).pipe((0,Ht.T)(([Le,_t])=>{const Ft=[];return Le&&Ft.push(this.GOOGLE_ANALYTICS_SERVICE_NAME),_t&&Ft.push(Hm.BA),Ft}));this.translateService.setDefaultLang(R.c.defaultLanguage);const ie=this.getUser$(),Ae=this.translateService.get("loading.default").pipe((0,T.s)(1));(0,vn.z)([ie,N,Ae]).subscribe(([Le,_t,Ft])=>{Le=K1()(Le),(0,V.a4)(Le)&&this.initializeUser(Le),this.addAppMessages(),this.translateConfiguration(),this.klaroConfig.services=this.filterConfigServices(_t),this.lazyKlaro.then(({setup:fn})=>fn(this.klaroConfig))})}getSavedPreferences(){return this.getUser$().pipe((0,Ht.T)(a=>{let h;return h=(0,V.Im)(a)?fv:this.getStorageName(a.uuid),this.cookieService.get(h)}))}initializeUser(a){this.klaroConfig.callback=pv()((N,ie)=>this.updateSettingsForUsers(a),300),this.klaroConfig.storageName=this.getStorageName(a.uuid);const h=this.cookieService.get(fv);(0,V.a4)(this.getSettingsForUser(a))?this.restoreSettingsForUsers(a):(0,V.a4)(h)&&(this.cookieService.set(this.getStorageName(a.uuid),h),this.updateSettingsForUsers(a))}getUser$(){return this.authService.isAuthenticated().pipe((0,T.s)(1),(0,Es.n)(a=>a?this.authService.getAuthenticatedUserFromStore():(0,Rs.of)(void 0)),(0,T.s)(1))}getTitleTranslation(a){return"cookies.consent.app.title."+a}getDescriptionTranslation(a){return"cookies.consent.app.description."+a}getPurposeTranslation(a){return"cookies.consent.purpose."+a}showSettings(){this.lazyKlaro.then(({show:a})=>a(this.klaroConfig))}addAppMessages(){this.klaroConfig.services.forEach(a=>{this.klaroConfig.translations.zz[a.name]={title:this.getTitleTranslation(a.name),description:this.getDescriptionTranslation(a.name)},a.purposes.forEach(h=>{this.klaroConfig.translations.zz.purposes[h]=this.getPurposeTranslation(h)})})}translateConfiguration(){this.translateService.setDefaultLang(R.c.defaultLanguage),this.translate(this.klaroConfig.translations.zz)}translate(a){return"string"==typeof a?this.translateService.instant(a):(Object.entries(a).forEach(([h,N])=>{a[h]=this.translate(N)}),a)}getSettingsForUser(a){const h=a.firstMetadataValue(gv);return(0,V.a4)(h)?JSON.parse(h):void 0}setSettingsForUser(a,h){(0,V.hj)(h)?a.setMetadata(gv,void 0,JSON.stringify(h)):a.removeMetadata(gv),this.ePersonService.createPatchFromCache(a).pipe((0,T.s)(1),(0,Es.n)(N=>(0,V.hj)(N)?this.ePersonService.patch(a,N):(0,Rs.of)(void 0))).subscribe()}restoreSettingsForUsers(a){this.cookieService.set(this.getStorageName(a.uuid),this.getSettingsForUser(a))}updateSettingsForUsers(a){this.setSettingsForUser(a,this.cookieService.get(this.getStorageName(a.uuid)))}getStorageName(a){return"klaro-"+a}filterConfigServices(a){return this.klaroConfig.services.filter(h=>!a.some(N=>N===h.name))}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(G.c$),e.KVO(u.uR),e.KVO(xI.EPersonDataService),e.KVO(hs.ConfigurationDataService),e.KVO(lf.O),e.KVO(Y1))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var _v=t(59665);let Ym=(()=>{class p{constructor(a,h,N,ie,Ae){this.googleAnalytics=a,this.googleGlobalSiteTag=h,this.klaroService=N,this.configService=ie,this.document=Ae}addTrackingIdToPage(){const a=this.configService.findByPropertyName("google.analytics.key").pipe((0,ws.qD)()),h=this.klaroService.getSavedPreferences();(0,vn.z)([h,a]).subscribe(([N,ie])=>{if((0,V.Im)(N)||(0,V.Im)(N[mv])||!N[mv]||!ie.hasSucceeded)return;const Ae=ie.payload.values[0];if(!(0,V.Im)(Ae))if(this.isGTagVersion(Ae)){const Le=this.document.createElement("script");Le.src=`https://www.googletagmanager.com/gtag/js?id=${Ae}`,this.document.body.appendChild(Le);const _t=this.document.createElement("script");_t.innerHTML=`window.dataLayer = window.dataLayer || [];function gtag(){window.dataLayer.push(arguments);}\n                               gtag('js', new Date());gtag('config', '${Ae}');`,this.document.body.appendChild(_t),this.googleGlobalSiteTag.startTracking()}else{const Le=this.document.createElement("script");Le.innerHTML=`(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n                              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n                              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n                              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n                              ga('create', '${Ae}', 'auto');`,this.document.body.appendChild(Le),this.googleAnalytics.startTracking()}})}isGTagVersion(a){return a&&a.startsWith("G-")}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(ko.Z1),e.KVO(ko.RH),e.KVO(zm.$),e.KVO(hs.ConfigurationDataService),e.KVO(d.qQ))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var kI=t(48102);const J1=(0,e.zw6)("NGX_TRANSLATE_STATE");class VI{constructor(C,a,h,N){this.transferState=C,this.http=a,this.prefix=h,this.suffix=N}getTranslation(C){const h=this.transferState.get(J1,{})[C];return(0,V.a4)(h)?(0,Rs.of)(h):this.http.get(`${this.prefix}${C}${R.c.production?`.${{"ar.json5":"a7dc949e595fed02d3118c240740af2e","bn.json5":"ba2d1da4505a1f8178e619fc9e6490e7","ca.json5":"ab7d9a86e3a1c7d64dda8f48e38a8b2c","cs.json5":"6be9cad5d60b433bf8f30a9c2cedde2b","de.json5":"66e96308e537f2e435c365bf1ab44a2e","el.json5":"44ca0d2019cc102da326904e9b089f38","en.json5":"3d122db83e6a25a9e4b637bdcf1872ba","es.json5":"ec53850b0096c6fae9f8a711c21d0ee4","fi.json5":"9c5278060564bce82fc5ebd3583404c3","fr.json5":"a6c8c59d4b6918734389016e04dfc463","gd.json5":"3bc9f8df9b6ee7e53d5aa0706b780695","hi.json5":"63fa5437f687c50e0194b97dec494f61","hu.json5":"2bce90c35e726a4db9cac51f95c8ec6c","it.json5":"27f4dfa0f7345652d7d6dadd76b49917","ja.json5":"ca46d7f920980545b3bdd6aa7fbe9763","kk.json5":"180219e7dc8d9ad42651838e8f1b83fe","lv.json5":"bba7da6bf941042b8c414c200a5b45e0","nl.json5":"7cc176891621b5da0d69558be11d7d73","pl.json5":"e71049fa740366e7be1a08cd2890d4b4","pt-BR.json5":"52263bf98b62323bc12daf1a0f8eef5e","pt-PT.json5":"fba3cd2093fcbb6b118e204773c464bc","sr-cyr.json5":"8b1d8baddfa738ac53a58eb968b1736b","sr-lat.json5":"bfeb0119427872cdc3aaa19632e78264","sv.json5":"33c1183ab2158147ebf56a05dcb23e68","sw.json5":"7f19b77a00d2930d9a5cac60d55949e7","tr.json5":"dca8a85af7c266911adf8d53a14d98bd","uk.json5":"796adf811d8fdb4c7a46540f8d8794aa","vi.json5":"39f069f72a959b52ee1f7fbaf95cee7f"}[C+".json5"]}`:""}${this.suffix}`,{responseType:"text"}).pipe((0,Ht.T)(ie=>JSON.parse(ie)))}}var Xm=t(68747);function vv(p,C){const a="object"==typeof C;return new Promise((h,N)=>{let Ae,ie=!1;p.subscribe({next:Le=>{Ae=Le,ie=!0},error:N,complete:()=>{ie?h(Ae):a?h(C.defaultValue):N(new Xm.G)}})})}var Q1=t(21540);var q1=t(56765);const Jm=p=>C=>C.pipe((0,Es.n)(a=>(0,V.a4)(a)?p.isAuthorized(Qr._.CanDownload,a.self).pipe((0,Ht.T)(h=>h?a:null)):(0,Rs.of)(null))),yv=(0,E.Mz)(jm.N,p=>p.metaTag),Qm=(0,E.Mz)(yv,p=>p.tagsInUse);let Zm=(()=>{class p{constructor(a,h,N,ie,Ae,Le,_t,Ft,fn,Qt,Yn){this.router=a,this.translate=h,this.meta=N,this.title=ie,this.dsoNameService=Ae,this.bundleDataService=Le,this.rootService=_t,this.store=Ft,this.hardRedirectService=fn,this.appConfig=Qt,this.authorizationService=Yn,this.currentObject=new _.t(void 0),this.CITATION_PDF_URL_MIMETYPES=["application/pdf","application/postscript","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/rtf","application/epub+zip"]}listenForRouteChange(){this.setGenerator(),this.router.events.pipe((0,Gn.p)(a=>a instanceof y.wF),(0,Ht.T)(()=>this.router.routerState.root),(0,Ht.T)(a=>({params:(a=this.getCurrentRoute(a)).params,data:a.data}))).subscribe(a=>{this.processRouteChange(a)})}processRouteChange(a){if(this.clearMetaTags(),(0,V.a4)(a.data.value.dso)&&(0,V.a4)(a.data.value.dso.payload)&&(this.currentObject.next(a.data.value.dso.payload),this.setDSOMetaTags()),a.data.value.title){const h=this.translate.get("repository.title.prefix"),N=this.translate.get(a.data.value.title,a.data.value);(0,vn.z)([h,N]).pipe((0,T.s)(1)).subscribe(([ie,Ae])=>{this.addMetaTag("title",ie+Ae),this.title.setTitle(ie+Ae)})}a.data.value.description&&this.translate.get(a.data.value.description).pipe((0,T.s)(1)).subscribe(h=>{this.addMetaTag("description",h)})}getCurrentRoute(a){for(;a.firstChild;)a=a.firstChild;return a}setDSOMetaTags(){this.setTitleTag(),this.setDescriptionTag(),this.setCitationTitleTag(),this.setCitationAuthorTags(),this.setCitationPublicationDateTag(),this.setCitationISSNTag(),this.setCitationISBNTag(),this.setCitationLanguageTag(),this.setCitationKeywordsTag(),this.setCitationAbstractUrlTag(),this.setCitationPdfUrlTag(),this.setCitationPublisherTag(),this.isDissertation()&&this.setCitationDissertationNameTag()}setTitleTag(){const a=this.dsoNameService.getName(this.currentObject.getValue());this.addMetaTag("title",a),this.title.setTitle(a)}setDescriptionTag(){const a=this.getMetaTagValue("dc.description.abstract");this.addMetaTag("description",a)}setCitationTitleTag(){const a=this.getMetaTagValue("dc.title");this.addMetaTag("citation_title",a)}setCitationAuthorTags(){const a=this.getMetaTagValues(["dc.author","dc.contributor.author","dc.creator"]);this.addMetaTags("citation_author",a)}setCitationPublicationDateTag(){const a=this.getFirstMetaTagValue(["dc.date.copyright","dc.date.issued","dc.date.available","dc.date.accessioned"]);this.addMetaTag("citation_publication_date",a)}setCitationISSNTag(){const a=this.getMetaTagValue("dc.identifier.issn");this.addMetaTag("citation_issn",a)}setCitationISBNTag(){const a=this.getMetaTagValue("dc.identifier.isbn");this.addMetaTag("citation_isbn",a)}setCitationLanguageTag(){const a=this.getFirstMetaTagValue(["dc.language","dc.language.iso"]);this.addMetaTag("citation_language",a)}setCitationDissertationNameTag(){const a=this.getMetaTagValue("dc.title");this.addMetaTag("citation_dissertation_name",a)}setCitationPublisherTag(){const a=this.getMetaTagValue("dc.publisher");this.isDissertation()?this.addMetaTag("citation_dissertation_institution",a):this.isTechReport()?this.addMetaTag("citation_technical_report_institution",a):this.addMetaTag("citation_publisher",a)}setCitationKeywordsTag(){const a=this.getMetaTagValuesAndCombine("dc.subject");this.addMetaTag("citation_keywords",a)}setCitationAbstractUrlTag(){if(this.currentObject.value instanceof lc.q){let a=this.getMetaTagValue("dc.identifier.uri");(0,V.Tn)(a)&&(a=new il.t(this.hardRedirectService.getCurrentOrigin(),this.router.url).toString()),this.addMetaTag("citation_abstract_html_url",a)}}setCitationPdfUrlTag(){this.currentObject.value instanceof lc.q&&this.bundleDataService.findByItemAndName(this.currentObject.value,"ORIGINAL",!0,!0,(0,Ns.s)("primaryBitstream"),(0,Ns.s)("bitstreams",{findListOptions:{elementsPerPage:this.appConfig.item.bitstream.pageSize}},(0,Ns.s)("format"))).pipe((0,ws.ak)(),(0,Es.n)(h=>h.primaryBitstream.pipe((0,ws.qD)(),(0,Ht.T)(N=>(0,V.a4)(N.payload)?N.payload:null),Jm(this.authorizationService),(0,Ht.T)(N=>[h,N]))),(0,Es.n)(([h,N])=>(0,V.a4)(N)?[(0,ti.hV)(N)]:h.bitstreams.pipe((0,ws.qD)(),(0,Es.n)(ie=>(0,V.a4)(ie.payload)&&1===ie.payload.totalElements?this.getBitLinkIfDownloadable(ie.payload.page[0],ie):this.getFirstAllowedFormatBitstreamLink(ie)))),(0,T.s)(1)).subscribe(h=>{this.addMetaTag("citation_pdf_url",new il.t(this.hardRedirectService.getCurrentOrigin(),h).toString())})}getBitLinkIfDownloadable(a,h){return(0,Rs.of)(a).pipe(Jm(this.authorizationService),(0,Es.n)(N=>(0,V.a4)(N)?[(0,ti.hV)(N)]:this.getFirstAllowedFormatBitstreamLink(h)))}getFirstAllowedFormatBitstreamLink(a){return(0,V.a4)(a.payload)&&(0,V.hj)(a.payload.page)?(0,q1.x)(...a.payload.page.map(h=>h.format.pipe((0,ws.ak)(),(0,Ht.T)(N=>[h,N])))).pipe((0,zs.Z)(([h,N])=>(0,Rs.of)(h).pipe(Jm(this.authorizationService),(0,Ht.T)(ie=>[ie,N]))),(0,Gn.p)(([h,N])=>(0,V.a4)(N)&&(0,V.a4)(h)&&this.CITATION_PDF_URL_MIMETYPES.includes(N.mimetype)),(0,T.s)(1),(0,Ht.T)(([h,N])=>(0,ti.hV)(h))):aa.w}setGenerator(){this.rootService.findRoot().pipe((0,ws.ak)()).subscribe(a=>{this.meta.addTag({name:"Generator",content:a.dspaceVersion})})}hasType(a){return this.currentObject.value.hasMetadata("dc.type",{value:a,ignoreCase:!0})}isDissertation(){return this.hasType("thesis")}isTechReport(){return this.hasType("technical report")}getMetaTagValue(a){return this.currentObject.value.firstMetadataValue(a)}getFirstMetaTagValue(a){return this.currentObject.value.firstMetadataValue(a)}getMetaTagValuesAndCombine(a){return this.getMetaTagValues([a]).join("; ")}getMetaTagValues(a){return this.currentObject.value.allMetadataValues(a)}addMetaTag(a,h){h&&(this.meta.addTag({name:a,content:h}),this.storeTag(a))}addMetaTags(a,h){for(const N of h)this.addMetaTag(a,N)}storeTag(a){this.store.dispatch(new MI(a))}clearMetaTags(){this.store.pipe((0,E.Lt)(Qm),(0,T.s)(1)).subscribe(a=>{for(const h of a)this.meta.removeTag("name='"+h+"'");this.store.dispatch(new II)})}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(y.Ix),e.KVO(G.c$),e.KVO(f.W8),e.KVO(f.hE),e.KVO(Os.f),e.KVO(L_.BundleDataService),e.KVO(Fe.RootDataService),e.KVO(E.il),e.KVO(Km.$),e.KVO(qi.vQ),e.KVO(js.AuthorizationDataService))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();var Ev=t(67474),eC=t(9176),tC=t(70140),nC=t(31659);const sC=new ri.v("duplicate");var iC=t(61034),rC=t(50946),oC=t(86759),aC=t(23629);const lC=new ri.v("feedback");var cC=t(8857),$I=t(84796),WI=t(92504),KI=t(5319),HI=t(1211),dC=t(18384),zI=t(29632),YI=t(59379),XI=t(91809),JI=t(97054),QI=t(57905),ZI=t(62273),qI=t(81659),eS=t(54862),uC=t(33090);let Xl=class extends El.I{static#e=this.type=new ri.v("correctiontype")};(0,Ue.Cg)([Br.aK,qt.autoserialize,(0,Ue.Sn)("design:type",ri.v)],Xl.prototype,"type",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Xl.prototype,"id",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Xl.prototype,"topic",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Xl.prototype,"discoveryConfiguration",void 0),(0,Ue.Cg)([qt.autoserialize,(0,Ue.Sn)("design:type",String)],Xl.prototype,"creationForm",void 0),(0,Ue.Cg)([qt.deserialize,(0,Ue.Sn)("design:type",Object)],Xl.prototype,"_links",void 0),Xl=(0,Ue.Cg)([ni.gV],Xl);var Cv=t(12304),hC=t(77165);const pC=new Map([[Ag.value,()=>Promise.resolve().then(t.bind(t,77304)).then(p=>p.AuthorizationDataService)],[YI.z.value,()=>Promise.resolve().then(t.bind(t,58183)).then(p=>p.BrowseDefinitionDataService)],[Cl.XI.value,()=>t.e(7897).then(t.bind(t,77897)).then(p=>p.BulkAccessConfigDataService)],[$I.M.value,()=>t.e(4752).then(t.bind(t,44752)).then(p=>p.MetadataSchemaDataService)],[Cl.V_.value,()=>t.e(8799).then(t.bind(t,38799)).then(p=>p.SubmissionUploadsConfigDataService)],[dC.e.value,()=>Promise.resolve().then(t.bind(t,78052)).then(p=>p.BitstreamDataService)],[Cl.NS.value,()=>t.e(4845).then(t.bind(t,14845)).then(p=>p.SubmissionAccessesConfigDataService)],[rC.B.value,()=>Promise.resolve().then(t.bind(t,32185)).then(p=>p.SystemWideAlertDataService)],[uC.N.value,()=>t.e(2076).then(t.bind(t,53898)).then(p=>p.UsageReportDataService)],[f0.E.value,()=>Promise.resolve().then(t.bind(t,66095)).then(p=>p.AccessStatusDataService)],[_f.n.value,()=>Promise.resolve().then(t.bind(t,8109)).then(p=>p.CollectionDataService)],[Cv.a.value,()=>Promise.resolve().then(t.bind(t,77490)).then(p=>p.ClaimedTaskDataService)],[uu.mt.value,()=>Promise.resolve().then(t.bind(t,65155)).then(p=>p.HrefOnlyDataService)],[ZI.N.value,()=>Promise.resolve().then(t.bind(t,65155)).then(p=>p.HrefOnlyDataService)],[mf.m.value,()=>Promise.resolve().then(t.bind(t,65155)).then(p=>p.HrefOnlyDataService)],[iC.m.value,()=>t.e(5665).then(t.bind(t,75665)).then(p=>p.SubscriptionsDataService)],[JI.G.value,()=>Promise.resolve().then(t.bind(t,63710)).then(p=>p.CommunityDataService)],[uu.Hx.value,()=>Promise.resolve().then(t.bind(t,25723)).then(p=>p.VocabularyDataService)],[XI.d.value,()=>Promise.resolve().then(t.bind(t,61189)).then(p=>p.BundleDataService)],[xg.value,()=>Promise.resolve().then(t.bind(t,84195)).then(p=>p.ConfigurationDataService)],[hC.T.value,()=>Promise.resolve().then(t.bind(t,21993)).then(p=>p.PoolTaskDataService)],[Cv.a.value,()=>Promise.resolve().then(t.bind(t,77490)).then(p=>p.ClaimedTaskDataService)],[Lf.T.value,()=>Promise.resolve().then(t.bind(t,54827)).then(p=>p.SupervisionOrderDataService)],[aC.l.value,()=>Promise.resolve().then(t.bind(t,71779)).then(p=>p.WorkspaceitemDataService)],[oC.z.value,()=>Promise.resolve().then(t.bind(t,91427)).then(p=>p.WorkflowItemDataService)],[uu.Hx.value,()=>Promise.resolve().then(t.bind(t,25723)).then(p=>p.VocabularyDataService)],[uu.cK.value,()=>Promise.resolve().then(t.bind(t,96153)).then(p=>p.VocabularyEntryDetailsDataService)],[M0.value,()=>t.e(6768).then(t.bind(t,16768)).then(p=>p.SubmissionCcLicenseUrlDataService)],[Vg.value,()=>t.e(7636).then(t.bind(t,57636)).then(p=>p.SubmissionCcLicenseDataService)],[uC.N.value,()=>t.e(2076).then(t.bind(t,53898)).then(p=>p.UsageReportDataService)],[HI.O.value,()=>t.e(9003).then(t.bind(t,79003)).then(p=>p.ResourcePolicyDataService)],[KI.T.value,()=>Promise.resolve().then(t.bind(t,12792)).then(p=>p.ResearcherProfileDataService)],[E0.value,()=>t.e(2076).then(t.bind(t,41421)).then(p=>p.OrcidQueueDataService)],[Rg.value,()=>t.e(2076).then(t.bind(t,9716)).then(p=>p.OrcidHistoryDataService)],[lC.value,()=>t.e(2076).then(t.bind(t,87403)).then(p=>p.FeedbackDataService)],[Bh.U.value,()=>Promise.resolve().then(t.bind(t,7172)).then(p=>p.GroupDataService)],[BD.N.value,()=>Promise.resolve().then(t.bind(t,31363)).then(p=>p.EPersonDataService)],[$g.f.value,()=>Promise.resolve().then(t.bind(t,63963)).then(p=>p.WorkflowActionDataService)],[kg.s.value,()=>t.e(5130).then(t.bind(t,35130)).then(p=>p.VersionHistoryDataService)],[yd.value,()=>Promise.resolve().then(t.bind(t,80592)).then(p=>p.SiteDataService)],[m0.value,()=>Promise.resolve().then(t.bind(t,15569)).then(p=>p.RootDataService)],[eS.U.value,()=>Promise.resolve().then(t.bind(t,98526)).then(p=>p.RelationshipTypeDataService)],[qI.X.value,()=>Promise.resolve().then(t.bind(t,96459)).then(p=>p.RelationshipDataService)],[nC.M.value,()=>Promise.resolve().then(t.bind(t,72578)).then(p=>p.ScriptDataService)],[tC.A.value,()=>t.e(2076).then(t.bind(t,58268)).then(p=>p.ProcessDataService)],[cC.R.value,()=>t.e(9901).then(t.bind(t,29901)).then(p=>p.MetadataFieldDataService)],[Dh.U.value,()=>Promise.resolve().then(t.bind(t,17584)).then(p=>p.ItemDataService)],[O0.x.value,()=>t.e(6041).then(t.bind(t,26041)).then(p=>p.VersionDataService)],[Mg.f.value,()=>t.e(2076).then(t.bind(t,28256)).then(p=>p.IdentifierDataService)],[wg.value,()=>Promise.resolve().then(t.bind(t,77304)).then(p=>p.AuthorizationDataService)],[QI.X.value,()=>Promise.resolve().then(t.bind(t,60875)).then(p=>p.DSpaceObjectDataService)],[zI.a.value,()=>Promise.resolve().then(t.bind(t,80346)).then(p=>p.BitstreamFormatDataService)],[hf.value,()=>t.e(5546).then(t.bind(t,55546)).then(p=>p.CoarNotifyConfigDataService)],[Og.tc.value,()=>t.e(2076).then(t.bind(t,93776)).then(p=>p.LdnItemfiltersService)],[Og.zd.value,()=>Promise.resolve().then(t.bind(t,76772)).then(p=>p.LdnServicesService)],[eC.g.value,()=>Promise.resolve().then(t.bind(t,72051)).then(p=>p.AdminNotifyMessagesService)],[Cl.KX.value,()=>t.e(9510).then(t.bind(t,9510)).then(p=>p.SubmissionFormsConfigDataService)],[u0.value,()=>t.e(238).then(t.bind(t,30238)).then(p=>p.NotifyRequestsStatusDataService)],[v0.value,()=>t.e(4064).then(t.bind(t,64064)).then(p=>p.QualityAssuranceEventDataService)],[y0.value,()=>Promise.resolve().then(t.bind(t,61441)).then(p=>p.QualityAssuranceSourceDataService)],[Sg.value,()=>Promise.resolve().then(t.bind(t,40886)).then(p=>p.QualityAssuranceTopicDataService)],[WI.P.value,()=>Promise.resolve().then(t.bind(t,77001)).then(p=>p.SuggestionDataService)],[Th.value,()=>t.e(4857).then(t.bind(t,34857)).then(p=>p.SuggestionSourceDataService)],[Pg.value,()=>Promise.resolve().then(t.bind(t,14181)).then(p=>p.SuggestionTargetDataService)],[sC.value,()=>Promise.resolve().then(t.bind(t,24593)).then(p=>p.SubmissionDuplicateDataService)],[Xl.type.value,()=>t.e(9517).then(t.bind(t,59517)).then(p=>p.CorrectionTypeDataService)]]),rd=(p,C)=>[p,C];function fC(p,C){if(1&p){const a=e.RV6();e.j41(0,"label",3)(1,"input",4),e.bIt("blur",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onBlur(N))})("change",function(N){const ie=e.eBV(a).$implicit,Ae=e.XpG();return e.Njj(Ae.onCheckboxChange(N,ie))})("focus",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onFocus(N))}),e.k0s(),e.nrm(2,"span",5),e.k0s()}if(2&p){const a=C.$implicit,h=e.XpG();e.Y8G("hidden",a.hidden)("ngClass",h.getClass("element","control",a)),e.R7$(),e.Y8G("checked",a.checked)("formControlName",a.id)("id",h.getCheckboxId(a))("name",a.name)("required",a.required)("tabindex",a.tabIndex)("value",a.value),e.R7$(),e.Y8G("ngClass",h.getClass("element","label",a))("innerHTML",a.label,e.npT)}}function mC(p,C){if(1&p&&(e.j41(0,"div",6),e.nrm(1,"span",7),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("innerHTML",a.model.prefix,e.npT)}}function gC(p,C){if(1&p){const a=e.RV6();e.j41(0,"input",8),e.bIt("blur",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onBlur(N))})("change",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onChange(N))})("focus",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onFocus(N))}),e.k0s()}if(2&p){const a=e.XpG();e.AVh("is-invalid",a.showErrorMessages),e.Y8G("autocomplete",a.model.autoComplete)("autofocus",a.model.autoFocus)("dynamicList",a.model.listId)("formControlName",a.model.id)("id",a.id)("maxlength",a.model.maxLength)("minlength",a.model.minLength)("name",a.model.name)("ngClass",a.getClass("element","control"))("pattern",a.model.pattern)("placeholder",a.model.placeholder)("readonly",a.model.readOnly)("required",a.model.required)("spellcheck",a.model.spellCheck)("tabindex",a.model.tabIndex)("type",a.model.inputType),e.BMQ("accept",a.model.accept)("max",a.model.max)("min",a.model.min)("multiple",a.model.multiple)("step",a.model.step)}}function _C(p,C){if(1&p){const a=e.RV6();e.j41(0,"input",9),e.bIt("blur",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onBlur(N))})("change",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onChange(N))})("focus",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onFocus(N))}),e.k0s()}if(2&p){const a=e.XpG();e.AVh("is-invalid",a.showErrorMessages),e.Y8G("autocomplete",a.model.autoComplete)("autofocus",a.model.autoFocus)("dynamicList",a.model.listId)("formControlName",a.model.id)("id",a.id)("maxlength",a.model.maxLength)("minlength",a.model.minLength)("name",a.model.name)("ngClass",a.getClass("element","control"))("pattern",a.model.pattern)("placeholder",a.model.placeholder)("readonly",a.model.readOnly)("required",a.model.required)("spellcheck",a.model.spellCheck)("tabindex",a.model.tabIndex)("mask",a.model.mask)("specialCharacters",null==a.model.maskConfig?null:a.model.maskConfig.specialCharacters)("patterns",null==a.model.maskConfig?null:a.model.maskConfig.patterns)("prefix",null==a.model.maskConfig?null:a.model.maskConfig.prefix)("suffix",null==a.model.maskConfig?null:a.model.maskConfig.suffix)("thousandSeparator",null==a.model.maskConfig?null:a.model.maskConfig.thousandSeparator)("decimalMarker",null==a.model.maskConfig?null:a.model.maskConfig.decimalMarker)("dropSpecialCharacters",null==a.model.maskConfig?null:a.model.maskConfig.dropSpecialCharacters)("hiddenInput",null==a.model.maskConfig?null:a.model.maskConfig.hiddenInput)("showMaskTyped",null==a.model.maskConfig?null:a.model.maskConfig.showMaskTyped)("placeHolderCharacter",null==a.model.maskConfig?null:a.model.maskConfig.placeHolderCharacter)("shownMaskExpression",null==a.model.maskConfig?null:a.model.maskConfig.shownMaskExpression)("showTemplate",null==a.model.maskConfig?null:a.model.maskConfig.showTemplate)("clearIfNotMatch",a.model.maskConfig.clearIfNotMatch)("validation",a.model.maskConfig.validation)("separatorLimit",a.model.maskConfig.separatorLimit)("allowNegativeNumbers",a.model.maskConfig.allowNegativeNumbers)("leadZeroDateTime",a.model.maskConfig.leadZeroDateTime)("type",a.model.inputType),e.BMQ("accept",a.model.accept)("max",a.model.max)("min",a.model.min)("multiple",a.model.multiple)("step",a.model.step)}}function sS(p,C){if(1&p&&(e.j41(0,"div",10),e.nrm(1,"span",7),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("innerHTML",a.model.suffix,e.npT)}}function iS(p,C){1&p&&e.nrm(0,"option",13),2&p&&e.Y8G("value",C.$implicit)}function bv(p,C){if(1&p&&(e.j41(0,"datalist",11),e.DNE(1,iS,1,1,"option",12),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG();e.Y8G("id",a.model.listId),e.R7$(),e.Y8G("ngForOf",e.bMT(2,2,a.model.list$))}}function qm(p,C){if(1&p&&e.nrm(0,"legend",4),2&p){const a=e.XpG();e.Y8G("innerHTML",a.model.legend,e.npT)}}function Dv(p,C){if(1&p){const a=e.RV6();e.j41(0,"label",5)(1,"input",6),e.bIt("blur",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onBlur(N))})("focus",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onFocus(N))}),e.k0s(),e.nrm(2,"span",4),e.k0s()}if(2&p){const a=C.$implicit,h=e.XpG();e.Y8G("ngClass",e.l_i(5,rd,h.getClass("element","option"),h.getClass("grid","option"))),e.R7$(),e.Y8G("disabled",a.disabled)("name",h.model.name)("value",a.value),e.R7$(),e.Y8G("innerHTML",a.label,e.npT)}}function Tv(p,C){if(1&p&&(e.j41(0,"option",3),e.EFF(1),e.k0s()),2&p){const a=C.$implicit;e.Y8G("disabled",a.disabled)("ngValue",a.value),e.R7$(),e.JRh(a.label)}}let CC=(()=>{class p extends Fn.S6A{constructor(a,h,N){super(a,h),this.layoutService=a,this.validationService=h,this.config=N,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return p.\u0275fac=function(a){return new(a||p)(e.rXU(Fn.fpj),e.rXU(Fn.STK),e.rXU(X.I5))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-calendar"]],viewQuery:function(a,h){if(1&a&&e.GBs(X.yB,7),2&a){let N;e.mGM(N=e.lsd())&&(h.ngbCalendar=N.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:13,consts:[[3,"formGroup"],[3,"select","displayMonths","firstDayOfWeek","formControlName","id","maxDate","minDate","navigation","ngClass","outsideDays","showWeekNumbers","weekdays","startDate"]],template:function(a,h){1&a&&(e.qex(0,0),e.j41(1,"ngb-datepicker",1),e.bIt("select",function(ie){return h.onChange(ie)}),e.k0s(),e.bVm()),2&a&&(e.Y8G("formGroup",h.group),e.R7$(),e.Y8G("displayMonths",h.model.getAdditional("displayMonths",h.config.displayMonths))("firstDayOfWeek",h.model.getAdditional("firstDayOfWeek",h.config.firstDayOfWeek))("formControlName",h.model.id)("id",h.id)("maxDate",h.model.max)("minDate",h.model.min)("navigation",h.model.getAdditional("navigation",h.config.navigation))("ngClass",h.getClass("element","control"))("outsideDays",h.model.getAdditional("outsideDays",h.config.outsideDays))("showWeekNumbers",h.model.getAdditional("showWeekNumbers",h.config.showWeekNumbers))("weekdays",h.model.getAdditional("showWeekdays",h.config.weekdays))("startDate",h.model.focusedDate))},dependencies:[d.YU,wn.BC,wn.cb,wn.j4,wn.JD,X.yB],encapsulation:2,changeDetection:0}),p})(),Fp=(()=>{class p extends Fn.S6A{constructor(a,h){super(a,h),this.layoutService=a,this.validationService=h,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return p.\u0275fac=function(a){return new(a||p)(e.rXU(Fn.fpj),e.rXU(Fn.STK))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-checkbox"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:4,vars:19,consts:[[1,"form-check",3,"formGroup"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"blur","change","focus","checked","formControlName","id","indeterminate","name","ngClass","required","tabindex","value"],[3,"innerHTML","ngClass"]],template:function(a,h){1&a&&(e.j41(0,"div",0)(1,"label",1)(2,"input",2),e.bIt("blur",function(ie){return h.onBlur(ie)})("change",function(ie){return h.onChange(ie)})("focus",function(ie){return h.onFocus(ie)}),e.k0s(),e.nrm(3,"span",3),e.k0s()()),2&a&&(e.AVh("disabled",h.model.disabled),e.Y8G("formGroup",h.group),e.R7$(2),e.AVh("is-invalid",h.showErrorMessages),e.Y8G("checked",h.model.checked)("formControlName",h.model.id)("id",h.id)("indeterminate",h.model.indeterminate)("name",h.model.name)("ngClass",h.getClass("element","control"))("required",h.model.required)("tabindex",h.model.tabIndex)("value",h.model.value),e.R7$(),e.Y8G("innerHTML",h.model.label,e.npT)("ngClass",e.l_i(16,rd,h.getClass("element","label"),h.getClass("grid","label"))))},dependencies:[d.YU,wn.Zm,wn.BC,wn.cb,wn.xq,wn.j4,wn.JD],encapsulation:2}),p})(),bC=(()=>{class p extends Fn.S6A{constructor(a,h){super(a,h),this.layoutService=a,this.validationService=h,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}getCheckboxId(a){return this.layoutService.getElementId(a)}onCheckboxChange(a,h){this.onChange(a),h.value=a.target.checked}}return p.\u0275fac=function(a){return new(a||p)(e.rXU(Fn.fpj),e.rXU(Fn.STK))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-checkbox-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:3,vars:5,consts:[[3,"formGroup"],["data-toggle","buttons",1,"btn-group","btn-group-toggle",3,"formGroupName","id","ngClass"],["ngbButtonLabel","",3,"hidden","ngClass",4,"ngFor","ngForOf"],["ngbButtonLabel","",3,"hidden","ngClass"],["type","checkbox","ngbButton","",3,"blur","change","focus","checked","formControlName","id","name","required","tabindex","value"],[3,"ngClass","innerHTML"]],template:function(a,h){1&a&&(e.qex(0,0),e.j41(1,"div",1),e.DNE(2,fC,3,11,"label",2),e.k0s(),e.bVm()),2&a&&(e.Y8G("formGroup",h.group),e.R7$(),e.Y8G("formGroupName",h.model.id)("id",h.id)("ngClass",h.getClass("element","control")),e.R7$(),e.Y8G("ngForOf",h.model.group))},dependencies:[d.YU,d.Sq,wn.Zm,wn.BC,wn.cb,wn.xq,wn.j4,wn.JD,wn.$R,X.so,X.b7],encapsulation:2,changeDetection:0}),p})(),TC=(()=>{class p extends Fn.S6A{constructor(a,h){super(a,h),this.layoutService=a,this.validationService=h,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return p.\u0275fac=function(a){return new(a||p)(e.rXU(Fn.fpj),e.rXU(Fn.STK))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-input"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:7,vars:8,consts:[["maskedInput",""],[3,"formGroup"],["class","input-group-prepend",4,"ngIf"],["class","form-control-file",3,"autocomplete","autofocus","is-invalid","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type","blur","change","focus",4,"ngIf","ngIfElse"],["class","input-group-append",4,"ngIf"],[3,"id",4,"ngIf"],[1,"input-group-prepend"],[1,"input-group-text",3,"innerHTML"],[1,"form-control-file",3,"blur","change","focus","autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type"],[1,"form-control",3,"blur","change","focus","autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","mask","specialCharacters","patterns","prefix","suffix","thousandSeparator","decimalMarker","dropSpecialCharacters","hiddenInput","showMaskTyped","placeHolderCharacter","shownMaskExpression","showTemplate","clearIfNotMatch","validation","separatorLimit","allowNegativeNumbers","leadZeroDateTime","type"],[1,"input-group-append"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,h){if(1&a&&(e.j41(0,"div",1),e.DNE(1,mC,2,1,"div",2)(2,gC,1,23,"input",3)(3,_C,1,41,"ng-template",null,0,e.C5r)(5,sS,2,1,"div",4)(6,bv,3,4,"datalist",5),e.k0s()),2&a){const N=e.sdS(4);e.AVh("input-group",h.model.prefix||h.model.suffix),e.Y8G("formGroup",h.group),e.R7$(),e.Y8G("ngIf",h.model.prefix),e.R7$(),e.Y8G("ngIf","file"===h.model.inputType)("ngIfElse",N),e.R7$(3),e.Y8G("ngIf",h.model.suffix),e.R7$(),e.Y8G("ngIf",h.model.hasList)}},dependencies:[d.YU,d.Sq,d.bT,wn.xH,wn.y7,wn.me,wn.BC,wn.cb,wn.YS,wn.xh,wn.tU,wn.R_,wn.j4,wn.JD,Zo.I0,Fn.Vne,d.Jj],encapsulation:2}),p})(),Sv=(()=>{class p extends Fn.S6A{constructor(a,h){super(a,h),this.layoutService=a,this.validationService=h,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return p.\u0275fac=function(a){return new(a||p)(e.rXU(Fn.fpj),e.rXU(Fn.STK))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-radio-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:5,vars:9,consts:[[3,"formGroup"],["ngbRadioGroup","","role","radiogroup",1,"btn-group","btn-group-toggle",3,"change","formControlName","id","ngClass","tabindex"],[3,"innerHTML",4,"ngIf"],["ngbButtonLabel","",3,"ngClass",4,"ngFor","ngForOf"],[3,"innerHTML"],["ngbButtonLabel","",3,"ngClass"],["type","radio","ngbButton","",3,"blur","focus","disabled","name","value"]],template:function(a,h){1&a&&(e.qex(0,0),e.j41(1,"div",1),e.bIt("change",function(ie){return h.onChange(ie)}),e.DNE(2,qm,1,1,"legend",2)(3,Dv,3,8,"label",3),e.nI1(4,"async"),e.k0s(),e.bVm()),2&a&&(e.Y8G("formGroup",h.group),e.R7$(),e.Y8G("formControlName",h.model.id)("id",h.id)("ngClass",h.getClass("element","control"))("tabindex",h.model.tabIndex),e.R7$(),e.Y8G("ngIf",h.model.legend),e.R7$(),e.Y8G("ngForOf",e.bMT(4,7,h.model.options$)))},dependencies:[d.YU,d.Sq,d.bT,wn.BC,wn.cb,wn.j4,wn.JD,X.so,X.M0,X.px,d.Jj],encapsulation:2,changeDetection:0}),p})(),OC=(()=>{class p extends Fn.S6A{constructor(a,h){super(a,h),this.layoutService=a,this.validationService=h,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return p.\u0275fac=function(a){return new(a||p)(e.rXU(Fn.fpj),e.rXU(Fn.STK))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-select"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:4,vars:13,consts:[[3,"formGroup"],[1,"form-control",3,"blur","change","focus","compareWith","formControlName","id","name","ngClass","required","tabindex"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],[3,"disabled","ngValue"]],template:function(a,h){1&a&&(e.qex(0,0),e.j41(1,"select",1),e.bIt("blur",function(ie){return h.onBlur(ie)})("change",function(ie){return h.onChange(ie)})("focus",function(ie){return h.onFocus(ie)}),e.DNE(2,Tv,2,3,"option",2),e.nI1(3,"async"),e.k0s(),e.bVm()),2&a&&(e.Y8G("formGroup",h.group),e.R7$(),e.AVh("is-invalid",h.showErrorMessages),e.Y8G("compareWith",h.model.compareWithFn)("formControlName",h.model.id)("id",h.id)("name",h.model.name)("ngClass",h.getClass("element","control"))("required",h.model.required)("tabindex",h.model.tabIndex),e.R7$(),e.Y8G("ngForOf",e.bMT(3,11,h.model.options$)))},dependencies:[d.YU,d.Sq,wn.xH,wn.y7,wn.wz,wn.BC,wn.cb,wn.YS,wn.j4,wn.JD,d.Jj],encapsulation:2}),p})(),Pv=(()=>{class p extends Fn.S6A{constructor(a,h){super(a,h),this.layoutService=a,this.validationService=h,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return p.\u0275fac=function(a){return new(a||p)(e.rXU(Fn.fpj),e.rXU(Fn.STK))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-textarea"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:17,consts:[[3,"formGroup"],[1,"form-control",3,"blur","change","focus","cols","formControlName","id","maxlength","minlength","name","ngClass","placeholder","readonly","required","rows","spellcheck","tabindex","wrap"]],template:function(a,h){1&a&&(e.qex(0,0),e.j41(1,"textarea",1),e.bIt("blur",function(ie){return h.onBlur(ie)})("change",function(ie){return h.onChange(ie)})("focus",function(ie){return h.onFocus(ie)}),e.k0s(),e.bVm()),2&a&&(e.Y8G("formGroup",h.group),e.R7$(),e.AVh("is-invalid",h.showErrorMessages),e.Y8G("cols",h.model.cols)("formControlName",h.model.id)("id",h.id)("maxlength",h.model.maxLength)("minlength",h.model.minLength)("name",h.model.name)("ngClass",h.getClass("element","control"))("placeholder",h.model.placeholder)("readonly",h.model.readOnly)("required",h.model.required)("rows",h.model.rows)("spellcheck",h.model.spellCheck)("tabindex",h.model.tabIndex)("wrap",h.model.wrap))},dependencies:[d.YU,wn.me,wn.BC,wn.cb,wn.YS,wn.xh,wn.tU,wn.j4,wn.JD],encapsulation:2}),p})(),Rv=(()=>{class p extends Fn.S6A{constructor(a,h,N){super(a,h),this.layoutService=a,this.validationService=h,this.config=N,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return p.\u0275fac=function(a){return new(a||p)(e.rXU(Fn.fpj),e.rXU(Fn.STK),e.rXU(X.Ng))},p.\u0275cmp=e.VBU({type:p,selectors:[["dynamic-ng-bootstrap-timepicker"]],viewQuery:function(a,h){if(1&a&&e.GBs(X.Pe,7),2&a){let N;e.mGM(N=e.lsd())&&(h.ngbTimePicker=N.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:11,consts:[[3,"formGroup"],[3,"id","formControlName","hourStep","meridian","minuteStep","ngClass","seconds","secondStep","size","spinners"]],template:function(a,h){1&a&&(e.qex(0,0),e.nrm(1,"ngb-timepicker",1),e.bVm()),2&a&&(e.Y8G("formGroup",h.group),e.R7$(),e.Y8G("id",h.id)("formControlName",h.model.id)("hourStep",h.model.getAdditional("hourStep",h.config.hourStep))("meridian",h.model.meridian)("minuteStep",h.model.getAdditional("minuteStep",h.config.minuteStep))("ngClass",h.getClass("element","control"))("seconds",h.model.showSeconds)("secondStep",h.model.getAdditional("secondStep",h.config.secondStep))("size",h.model.getAdditional("size",h.config.size))("spinners",h.model.getAdditional("spinners",h.config.spinners)))},dependencies:[d.YU,wn.BC,wn.cb,wn.j4,wn.JD,X.Pe],encapsulation:2,changeDetection:0}),p})();var Kd=t(44541),th=t(85102),SC=t(47405);t(56848);const Av=(p,C)=>[p,C],PC=p=>[p];function RC(p,C){1&p&&e.eu8(0)}function AC(p,C){if(1&p){const a=e.RV6();e.j41(0,"ds-dynamic-form-control-container",9),e.bIt("dfBlur",function(N){e.eBV(a);const ie=e.XpG(2);return e.Njj(ie.onBlur(N))})("dfChange",function(N){e.eBV(a);const ie=e.XpG(2);return e.Njj(ie.onChange(N))})("dfFocus",function(N){e.eBV(a);const ie=e.XpG(2);return e.Njj(ie.onFocus(N))})("ngbEvent",function(N){e.eBV(a);const ie=e.XpG(2);return e.Njj(ie.onCustomEvent(N,null,!0))}),e.k0s()}if(2&p){const a=C.$implicit,h=e.XpG(),N=h.$implicit,ie=h.index,Ae=e.XpG();e.AVh("d-none",a.hidden),e.Y8G("bindId",!1)("formGroup",Ae.group)("formModel",Ae.formModel)("context",N)("group",Ae.control.get(e.eq3(12,PC,ie)))("hidden",a.hidden)("layout",Ae.formLayout)("model",a)("templates",Ae.templates)("ngClass",e.l_i(14,Av,Ae.getClass("element","host",a),Ae.getClass("grid","host",a)))}}function wC(p,C){1&p&&e.eu8(0)}function LC(p,C){if(1&p&&(e.j41(0,"div",4)(1,"div",5),e.nrm(2,"i",6),e.k0s(),e.DNE(3,RC,1,0,"ng-container",7)(4,AC,1,17,"ds-dynamic-form-control-container",8)(5,wC,1,0,"ng-container",7),e.k0s()),2&p){const a=C.$implicit,h=C.index,N=e.XpG();e.AVh("grey-background",N.model.isInlineGroupArray),e.Y8G("formGroupName",h)("ngClass",e.l_i(15,Av,N.getClass("element","group"),N.getClass("grid","group")))("cdkDragDisabled",N.dragDisabled)("cdkDragPreviewClass","ds-submission-reorder-dragging"),e.R7$(),e.AVh("drag-disable",N.dragDisabled),e.R7$(),e.AVh("drag-disable",N.dragDisabled),e.R7$(),e.Y8G("ngTemplateOutlet",null==N.startTemplate?null:N.startTemplate.templateRef)("ngTemplateOutletContext",a),e.R7$(),e.Y8G("ngForOf",a.group),e.R7$(),e.Y8G("ngTemplateOutlet",null==N.endTemplate?null:N.endTemplate.templateRef)("ngTemplateOutletContext",a)}}let gS=(()=>{class p extends Fn.mEL{constructor(a,h){super(a,h),this.layoutService=a,this.validationService=h,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.customEvent=new e.bkB}moveSelection(a){if(a.previousIndex===a.currentIndex)return;this.model.moveGroup(a.previousIndex,a.currentIndex-a.previousIndex);const h=a.previousIndex,N=a.currentIndex;(0,V.a4)(this.model.groups[N])&&(0,V.a4)(this.control.controls[N])&&this.onCustomEvent({previousIndex:h,index:N,arrayModel:this.model,model:this.model.groups[N].group[0],control:this.control.controls[N]},"move")}update(a,h){const N=Object.assign({},a,{context:{index:h-1}});this.onChange(N)}get dragDisabled(){return 1===this.model.groups.length||!this.model.isDraggable}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(Fn.fpj),e.rXU(Fn.STK))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-form-array"]],inputs:{bindId:"bindId",formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:7,consts:[[3,"formGroup"],[3,"id","formArrayName","ngClass"],["cdkDropList","","cdkDropListLockAxis","y",3,"cdkDropListDropped"],["role","group","cdkDrag","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass","grey-background",4,"ngFor","ngForOf"],["role","group","cdkDrag","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass"],["tabindex","0","cdkDragHandle","",1,"drag-handle"],[1,"drag-icon","fas","fa-grip-vertical","fa-fw"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"bindId","formGroup","formModel","context","group","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","bindId","formGroup","formModel","context","group","hidden","layout","model","templates","ngClass"]],template:function(h,N){1&h&&(e.qex(0,0),e.j41(1,"div",1)(2,"div",2),e.bIt("cdkDropListDropped",function(Ae){return N.moveSelection(Ae)}),e.DNE(3,LC,6,18,"div",3),e.k0s()(),e.bVm()),2&h&&(e.Y8G("formGroup",N.group),e.R7$(),e.AVh("d-none",N.model.hidden),e.Y8G("id",N.id)("formArrayName",N.model.id)("ngClass",N.getClass("element","control")),e.R7$(2),e.Y8G("ngForOf",N.model.groups))},dependencies:()=>[wn.X1,wn.cb,wn.j4,wn.$R,wn.v8,th.O7,d.YU,d.Sq,th.T1,th.Fb,SC._,d.T3],styles:["[_nghost-%COMP%]{display:block}.drag-disable[_ngcontent-%COMP%]{visibility:hidden!important}.drag-disable[_ngcontent-%COMP%]:hover, .drag-disable[_ngcontent-%COMP%]:focus{cursor:default}.drag-disable[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .drag-disable[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:hidden!important}.cdk-drag[_ngcontent-%COMP%]{margin-left:calc(-2.3 * var(--bs-spacer));margin-right:calc(-.5 * var(--bs-spacer));padding-right:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden;width:calc(2 * var(--bs-spacer));color:var(--bs-gray-600);margin:var(--bs-btn-padding-y) 0;line-height:var(--bs-btn-line-height);text-indent:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]:hover, .cdk-drag[_ngcontent-%COMP%]:focus{cursor:grab}.cdk-drag[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .cdk-drag[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.drag-handle[_ngcontent-%COMP%]:hover{cursor:move}.drag-handle[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden}.cdk-drag-preview[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]})}return p})();var oA=t(11162);const aA=(p,C)=>[p,C];let xC=(()=>{class p extends Fp{constructor(a,h){super(a,h),this.bindId=!0,this.selected=new e.bkB,this.remove=new e.bkB,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(Fn.fpj),e.rXU(Fn.STK))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-custom-switch"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:23,consts:[[1,"form-check","custom-control","custom-switch",3,"formGroup","ngClass"],["type","checkbox",1,"form-check-input","custom-control-input",3,"blur","change","focus","checked","id","formControlName","indeterminate","name","ngClass","required","tabindex","value"],[1,"form-check-label","custom-control-label",3,"for"],[3,"innerHTML","ngClass"]],template:function(h,N){1&h&&(e.j41(0,"div",0)(1,"input",1),e.bIt("blur",function(Ae){return N.onBlur(Ae)})("change",function(Ae){return N.onChange(Ae)})("focus",function(Ae){return N.onFocus(Ae)}),e.k0s(),e.j41(2,"label",2),e.nrm(3,"span",3),e.nI1(4,"translate"),e.k0s()()),2&h&&(e.AVh("disabled",N.model.disabled),e.Y8G("formGroup",N.group)("ngClass",N.getClass("element","container")),e.R7$(),e.AVh("is-invalid",N.showErrorMessages),e.Y8G("checked",N.model.checked)("id",N.id)("formControlName",N.model.id)("indeterminate",N.model.indeterminate)("name",N.model.name)("ngClass",N.getClass("element","control"))("required",N.model.required)("tabindex",N.model.tabIndex)("value",N.model.value),e.R7$(),e.Y8G("for",N.bindId&&N.model.id),e.R7$(),e.Y8G("innerHTML",e.bMT(4,18,N.model.label),e.npT)("ngClass",e.l_i(20,aA,N.getClass("element","label"),N.getClass("grid","label"))))},dependencies:[d.YU,wn.X1,wn.Zm,wn.BC,wn.cb,wn.xq,wn.j4,wn.JD,G.h,G.D9],styles:["div.custom-switch.custom-control-right[_ngcontent-%COMP%]{margin-left:0;margin-right:0}div.custom-switch.custom-control-right[_ngcontent-%COMP%]:after{right:-1.5rem;left:auto}div.custom-switch.custom-control-right[_ngcontent-%COMP%]:before{right:-2.35rem;left:auto}"]})}return p})();var NC=t(14518),FC=t(87266);function _S(p,C){if(1&p&&e.nrm(0,"i",7),2&p){const a=e.XpG();e.HbH(a.model.toggleIcon)}}function vS(p,C){if(1&p&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.JRh(a.model.toggleLabel)}}let Bp=(()=>{class p extends Fn.S6A{constructor(a,h,N){super(a,h),this.layoutService=a,this.validationService=h,this.config=N,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(Fn.fpj),e.rXU(Fn.STK),e.rXU(X.I5))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-date-picker-inline"]],viewQuery:function(h,N){if(1&h&&e.GBs(X.yB,5),2&h){let ie;e.mGM(ie=e.lsd())&&(N.ngbDatePicker=ie.first)}},inputs:{bindId:"bindId",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:25,consts:[["datepicker","ngbDatepicker"],[1,"input-group",3,"formGroup"],["ngbDatepicker","",1,"form-control",3,"blur","dateSelect","change","focus","displayMonths","id","firstDayOfWeek","formControlName","maxDate","minDate","name","navigation","ngClass","outsideDays","placeholder","placement","weekdays","showWeekNumbers","startDate"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["aria-hidden","true"]],template:function(h,N){if(1&h){const ie=e.RV6();e.j41(0,"div",1)(1,"input",2,0),e.bIt("blur",function(Le){return e.eBV(ie),e.Njj(N.onBlur(Le))})("dateSelect",function(Le){return e.eBV(ie),e.Njj(N.onChange(Le))})("change",function(Le){return e.eBV(ie),e.Njj(N.onChange(Le))})("focus",function(Le){return e.eBV(ie),e.Njj(N.onFocus(Le))}),e.k0s(),e.j41(3,"div",3)(4,"button",4),e.bIt("click",function(){e.eBV(ie);const Le=e.sdS(2);return e.Njj(Le.toggle())}),e.DNE(5,_S,1,3,"i",5)(6,vS,2,1,"span",6),e.k0s()()()}2&h&&(e.Y8G("formGroup",N.group),e.R7$(),e.AVh("is-invalid",N.showErrorMessages),e.Y8G("displayMonths",N.model.getAdditional("displayMonths",N.config.displayMonths))("id",N.id)("firstDayOfWeek",N.model.getAdditional("firstDayOfWeek",N.config.firstDayOfWeek))("formControlName",N.model.id)("maxDate",N.model.max)("minDate",N.model.min)("name",N.model.name)("navigation",N.model.getAdditional("navigation",N.config.navigation))("ngClass",N.getClass("element","control"))("outsideDays",N.model.getAdditional("outsideDays",N.config.outsideDays))("placeholder",N.model.placeholder)("placement",N.model.getAdditional("placement","bottom-left"))("weekdays",N.model.getAdditional("showWeekdays",N.config.showWeekdays))("showWeekNumbers",N.model.getAdditional("showWeekNumbers",N.config.showWeekNumbers))("startDate",N.model.focusedDate),e.BMQ("aria-labelledby","label_"+N.model.id),e.R7$(3),e.AVh("disabled",N.model.disabled),e.Y8G("disabled",N.model.disabled),e.BMQ("aria-labelledby","label_"+N.model.id),e.R7$(),e.Y8G("ngIf",N.model.toggleIcon),e.R7$(),e.Y8G("ngIf",N.model.toggleLabel))},dependencies:[d.YU,X.IQ,X.cw,wn.X1,wn.me,wn.BC,wn.cb,wn.j4,wn.JD,d.bT],encapsulation:2})}return p})();var BC=t(71736);let yS=(()=>{class p extends Fn.S6A{constructor(a,h){super(a,h),this.layoutService=a,this.validationService=h,this.modelValuesString="",this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(Fn.fpj),e.rXU(Fn.STK))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-disabled"]],inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:11,consts:[[1,"form-row","align-items-center"],[1,"col"],[1,"form-control",3,"id","name","value","disabled","type","placeholder","readonly"]],template:function(h,N){1&h&&(e.j41(0,"div")(1,"div",0)(2,"div",1),e.nrm(3,"input",2),e.nI1(4,"translate"),e.k0s()()()),2&h&&(e.R7$(3),e.AVh("is-invalid",N.showErrorMessages),e.Y8G("id",N.id)("name",N.model.name)("value",N.modelValuesString)("disabled",N.model.disabled)("type",N.model.inputType)("placeholder",e.bMT(4,9,N.model.placeholder))("readonly",N.model.readOnly))},dependencies:[G.h,G.D9],encapsulation:2})}return p})();const ES=(p,C)=>[p,C];function ua(p,C){if(1&p){const a=e.RV6();e.j41(0,"ds-dynamic-form-control-container",4),e.bIt("dfBlur",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onBlur(N))})("dfChange",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onChange(N))})("dfFocus",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onFocus(N))})("ngbEvent",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onCustomEvent(N,null,!0))}),e.k0s()}if(2&p){const a=C.$implicit,h=e.XpG();e.AVh("d-none",a.hidden),e.Y8G("formGroup",h.group)("formModel",h.formModel)("group",h.control)("hasErrorMessaging",h.model.hasErrorMessages)("hidden",a.hidden)("layout",h.formLayout)("model",a)("templates",h.templates)("ngClass",e.l_i(11,ES,h.getClass("element","host",a),h.getClass("grid","host",a)))}}let nh=(()=>{class p extends Fn.S6A{constructor(a,h){super(a,h),this.layoutService=a,this.validationService=h,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.customEvent=new e.bkB}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(Fn.fpj),e.rXU(Fn.STK))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-form-group"]],inputs:{formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:7,consts:[[2,"width","100%"],[3,"formGroup"],["role","group",3,"formGroupName","id","ngClass"],[3,"formGroup","formModel","group","hasErrorMessaging","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","formGroup","formModel","group","hasErrorMessaging","hidden","layout","model","templates","ngClass"]],template:function(h,N){1&h&&(e.j41(0,"div",0),e.qex(1,1),e.j41(2,"div",2),e.DNE(3,ua,1,14,"ds-dynamic-form-control-container",3),e.k0s(),e.bVm(),e.k0s()),2&h&&(e.R7$(),e.Y8G("formGroup",N.group),e.R7$(),e.AVh("d-none",N.model.hidden),e.Y8G("formGroupName",N.model.id)("id",N.id)("ngClass",N.getClass("element","control")),e.R7$(),e.Y8G("ngForOf",N.model.group))},dependencies:()=>[wn.X1,wn.cb,wn.j4,wn.$R,d.YU,d.Sq,SC._],encapsulation:2})}return p})();var ng=t(36423),sg=t(59678),CS=t(28022);function lA(p,C){if(1&p){const a=e.RV6();e.j41(0,"div",7)(1,"input",8),e.bIt("blur",function(N){e.eBV(a);const ie=e.XpG(3);return e.Njj(ie.onBlur(N))})("change",function(N){e.eBV(a);const ie=e.XpG(3);return e.Njj(ie.onChange(N))})("focus",function(N){e.eBV(a);const ie=e.XpG(3);return e.Njj(ie.onFocus(N))}),e.k0s(),e.j41(2,"label",9),e.nrm(3,"span",10),e.k0s()()}if(2&p){const a=C.$implicit,h=e.XpG(3);e.R7$(),e.Y8G("checked",a.value)("id",a.id)("formControlName",a.id)("name",h.model.name)("value",a.value),e.BMQ("aria-labelledby","label_"+h.model.id)("tabindex",a.index),e.R7$(),e.AVh("disabled",h.model.disabled),e.Y8G("ngClass",null==h.model.layout.element?null:h.model.layout.element.control)("for",a.id),e.R7$(),e.Y8G("ngClass",null==h.model.layout.element?null:h.model.layout.element.label)("innerHTML",a.label,e.npT)}}function Up(p,C){if(1&p&&(e.j41(0,"div",5),e.DNE(1,lA,4,13,"div",6),e.nrm(2,"br"),e.k0s()),2&p){const a=C.$implicit;e.R7$(),e.Y8G("ngForOf",a)}}function bS(p,C){if(1&p&&(e.j41(0,"div",3),e.DNE(1,Up,3,1,"div",4),e.k0s()),2&p){const a=e.XpG();e.Y8G("id",a.id)("formGroupName",a.model.id)("ngClass",null==a.model.layout.element?null:a.model.layout.element.control),e.BMQ("tabindex",a.model.tabIndex),e.R7$(),e.Y8G("ngForOf",a.items)}}function wv(p,C){if(1&p){const a=e.RV6();e.j41(0,"div",13)(1,"input",14),e.bIt("blur",function(N){e.eBV(a);const ie=e.XpG(3);return e.Njj(ie.onBlur(N))})("focus",function(N){e.eBV(a);const ie=e.XpG(3);return e.Njj(ie.onFocus(N))}),e.k0s(),e.j41(2,"label",9),e.nrm(3,"span",10),e.k0s()()}if(2&p){const a=C.$implicit,h=e.XpG(3);e.R7$(),e.Y8G("checked",a.value)("id",a.id)("name",h.model.id)("required",h.model.required)("value",a.index),e.R7$(),e.AVh("disabled",h.model.disabled),e.Y8G("ngClass",null==h.model.layout.element?null:h.model.layout.element.control)("for",a.id),e.R7$(),e.Y8G("ngClass",null==h.model.layout.element?null:h.model.layout.element.label)("innerHTML",a.label,e.npT)}}function DS(p,C){if(1&p&&(e.j41(0,"div",5),e.DNE(1,wv,4,11,"div",12),e.nrm(2,"br"),e.k0s()),2&p){const a=C.$implicit;e.R7$(),e.Y8G("ngForOf",a)}}function UC(p,C){if(1&p){const a=e.RV6();e.j41(0,"div",11),e.bIt("change",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onChange(N))}),e.DNE(1,DS,3,1,"div",4),e.k0s()}if(2&p){const a=e.XpG();e.Y8G("id",a.id)("ngClass",null==a.model.layout.element?null:a.model.layout.element.control),e.BMQ("tabindex",a.model.tabIndex),e.R7$(),e.Y8G("ngForOf",a.items)}}let jC=(()=>{class p extends Fn.S6A{constructor(a,h,N,ie,Ae){super(ie,Ae),this.vocabularyService=a,this.cdr=h,this.formBuilderService=N,this.layoutService=ie,this.validationService=Ae,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.items=[]}ngOnInit(){this.model.vocabularyOptions&&(0,V.a4)(this.model.vocabularyOptions.name)&&this.setOptionsFromVocabulary()}onBlur(a){this.blur.emit(a)}onFocus(a){this.focus.emit(a)}onChange(a){const h=a.target;if(this.model.repeatable){const N=this.optionsList[h.tabIndex];if(h.checked)this.model.valueUpdates.next(N);else{const ie=[];this.model.value.filter(Ae=>Ae.value!==N.value).forEach(Ae=>ie.push(Ae)),this.model.valueUpdates.next(ie)}}else this.model.value=this.optionsList[h.value];this.change.emit(a)}setOptionsFromVocabulary(){if(this.model.vocabularyOptions.name&&this.model.vocabularyOptions.name.length>0){const a=this.group.controls[this.model.id];this.model.repeatable&&this.model.required&&a.addValidators(this.hasAtLeastOneVocabularyEntry());const h=new ng.Q({elementsPerPage:9999,currentPage:1});this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,h).pipe((0,ws.ak)()).subscribe(N=>{let ie=0,Ae=0,Le=[];this.optionsList=N.page,N.page.forEach((_t,Ft)=>{const fn=_t.authority||_t.value,Qt=(0,V.hj)(sf()(this.model.value,as=>as.value===_t.value)),Yn={id:`${this.model.id}_${fn}`,label:_t.display,value:Qt,index:Ft};this.model.repeatable?this.formBuilderService.addFormGroupControl(a,this.model,new Fn.M7d(Yn)):this.model.options.push({label:Yn.label,value:_t}),Le.push(Yn),Ae++,this.items[ie]=Le,Ae===this.model.groupLength&&(ie++,Ae=0,Le=[])}),this.cdr.markForCheck()})}}hasAtLeastOneVocabularyEntry(){return a=>a&&a.value&&Object.values(a.value).find(h=>!0===h)?null:this.model.errorMessages}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(sg.g),e.rXU(e.gRc),e.rXU(CS.j),e.rXU(Fn.fpj),e.rXU(Fn.STK))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-list"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:3,consts:[[3,"formGroup"],["class","form-row",3,"id","formGroupName","ngClass",4,"ngIf"],["class","form-row","ngbRadioGroup","",3,"id","ngClass","change",4,"ngIf"],[1,"form-row",3,"id","formGroupName","ngClass"],["class","col-sm ml-3",4,"ngFor","ngForOf"],[1,"col-sm","ml-3"],["class","custom-control custom-checkbox",4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"blur","change","focus","checked","id","formControlName","name","value"],[1,"custom-control-label",3,"ngClass","for"],[3,"ngClass","innerHTML"],["ngbRadioGroup","",1,"form-row",3,"change","id","ngClass"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["type","radio",1,"custom-control-input",3,"blur","focus","checked","id","name","required","value"]],template:function(h,N){1&h&&(e.j41(0,"div",0),e.DNE(1,bS,2,5,"div",1)(2,UC,2,4,"div",2),e.k0s()),2&h&&(e.Y8G("formGroup",N.group),e.R7$(),e.Y8G("ngIf",N.model.repeatable),e.R7$(),e.Y8G("ngIf",!N.model.repeatable))},dependencies:[d.YU,d.bT,X.Ll,X.M0,d.Sq,wn.X1,wn.Zm,wn.BC,wn.cb,wn.j4,wn.JD,wn.$R]})}return p})();var TS=t(99636),OS=t(4768),ig=t(59055),Lv=t(5338),MS=t(76472),jp=t(14143),sh=t(36302),IS=t(55885),xv=t(89736);const SS=()=>({}),kC=p=>({entry:p});function ih(p,C){if(1&p){const a=e.RV6();e.j41(0,"div",17)(1,"input",18),e.nI1(2,"translate"),e.mxI("ngModelChange",function(N){e.eBV(a);const ie=e.XpG();return e.DH7(ie.secondInputValue,N)||(ie.secondInputValue=N),e.Njj(N)}),e.bIt("change",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onChange(N))})("blur",function(N){e.eBV(a);const ie=e.XpG(),Ae=e.sdS(1);return ie.onBlur(N),N.stopPropagation(),e.Njj(Ae.close())})("focus",function(N){e.eBV(a);const ie=e.XpG(),Ae=e.sdS(1);return ie.onFocus(N),N.stopPropagation(),e.Njj(Ae.close())})("click",function(N){e.eBV(a),e.XpG();const ie=e.sdS(1);return N.stopPropagation(),e.Njj(ie.close())}),e.k0s()()}if(2&p){const a=e.XpG();e.R7$(),e.AVh("is-invalid",a.showErrorMessages),e.Y8G("ngClass",e.lJ4(14,SS))("id",a.id)("name",a.model.name+"_2")("type",a.model.inputType),e.R50("ngModel",a.secondInputValue),e.Y8G("disabled",0===a.firstInputValue.length||a.isInputDisabled())("placeholder",e.bMT(2,12,a.model.secondPlaceholder))("readonly",a.model.readOnly),e.BMQ("aria-labelledby","label_"+a.model.id)("autoComplete",a.model.autoComplete)}}function PS(p,C){if(1&p){const a=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(a);const N=e.XpG();return e.Njj(N.remove())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&p){const a=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.clear-help")),e.Y8G("disabled",a.model.readOnly),e.R7$(2),e.SpI("",e.bMT(3,5,"form.clear")," ")}}function VC(p,C){if(1&p){const a=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(a);const N=e.XpG();return e.Njj(N.switchEditMode())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&p){const a=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.edit-help")),e.Y8G("disabled",a.isEditDisabled()),e.R7$(2),e.SpI("",e.bMT(3,5,"form.edit")," ")}}function Nv(p,C){if(1&p){const a=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(a);const N=e.XpG();return e.Njj(N.saveChanges())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&p){const a=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.save-help")),e.Y8G("disabled",!a.hasEmptyValue()),e.R7$(2),e.SpI("",e.bMT(3,5,"form.save")," ")}}function cA(p,C){if(1&p){const a=e.RV6();e.j41(0,"button",20),e.bIt("click",function(N){e.eBV(a);const ie=e.XpG(),Ae=e.sdS(1);return N.stopPropagation(),ie.clearFields(),e.Njj(Ae.close())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&p&&(e.R7$(),e.SpI("",e.bMT(2,1,"form.no-results")," "))}function RS(p,C){if(1&p){const a=e.RV6();e.j41(0,"button",21),e.bIt("click",function(N){const ie=e.eBV(a).$implicit,Ae=e.XpG(),Le=e.sdS(1);return N.stopPropagation(),Ae.onSelect(ie),e.Njj(Le.close())}),e.eu8(1,22),e.k0s()}if(2&p){const a=C.$implicit;e.XpG();const h=e.sdS(23),N=e.sdS(25);e.FS9("title",a.display),e.R7$(),e.Y8G("ngTemplateOutlet",a.hasOtherInformation()?h:N)("ngTemplateOutletContext",e.eq3(3,kC,a))}}function AS(p,C){1&p&&(e.j41(0,"div",23)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&p&&(e.R7$(2),e.JRh(e.bMT(3,1,"form.loading")))}function wS(p,C){if(1&p&&(e.j41(0,"li",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&p){const a=C.$implicit;e.R7$(),e.Lme(" ",e.bMT(2,2,"form.other-information."+a.key)," : ",a.value," ")}}function GC(p,C){if(1&p&&(e.j41(0,"ul",24)(1,"li",25),e.EFF(2),e.k0s(),e.DNE(3,wS,3,4,"li",26),e.nI1(4,"dsObjNgFor"),e.k0s()),2&p){const a=C.entry,h=e.XpG();e.BMQ("aria-labelledby","label_"+h.model.id),e.R7$(2),e.JRh(a.value),e.R7$(),e.Y8G("ngForOf",e.bMT(4,3,a.otherInformation))}}function $C(p,C){if(1&p&&(e.j41(0,"ul",24)(1,"li",25),e.EFF(2),e.k0s()()),2&p){const a=C.entry,h=e.XpG();e.BMQ("aria-labelledby","label_"+h.model.id),e.R7$(2),e.JRh(a.value)}}let WC=(()=>{class p extends IS.o{constructor(a,h,N,ie){super(a,N,ie),this.vocabularyService=a,this.cdr=h,this.layoutService=N,this.validationService=ie,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.editMode=!1,this.firstInputValue="",this.secondInputValue="",this.loading=!1,this.subs=[],this.inputFormatter=(Ae,Le)=>1===Le?this.firstInputValue:this.secondInputValue}ngOnInit(){(0,V.hj)(this.model.value)&&this.setCurrentValue(this.model.value,!0),this.subs.push(this.model.valueChanges.subscribe(a=>{(0,V.Im)(a)?this.resetFields():this.editMode||this.setCurrentValue(this.model.value)}))}hasAuthorityValue(){return(0,V.a4)(this.model.value)&&"object"==typeof this.model.value&&this.model.value.hasAuthority()}hasEmptyValue(){return(0,V.hj)(this.getCurrentValue())}clearFields(){this.model.vocabularyOptions.closed&&this.resetFields()}isEditDisabled(){return!this.hasAuthorityValue()}isInputDisabled(){return this.model.vocabularyOptions.closed&&this.hasAuthorityValue()&&!this.editMode}isLookupName(){return this.model instanceof xv._}isSearchDisabled(){return(0,V.Im)(this.firstInputValue)||this.editMode}onChange(a){if(a.preventDefault(),!this.model.vocabularyOptions.closed)if((0,V.hj)(this.getCurrentValue())){const h=new sh.e(this.getCurrentValue());this.editMode||this.updateModel(h)}else this.remove()}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.search())}onSelect(a){this.updateModel(a)}openChange(a){a||this.model.vocabularyOptions.closed&&!this.hasAuthorityValue()&&this.setCurrentValue("")}remove(){this.group.markAsPristine(),this.dispatchUpdate(null)}saveChanges(){if((0,V.hj)(this.getCurrentValue())){const a=Object.assign(new Ef.b,this.model.value,{display:this.getCurrentValue(),value:this.getCurrentValue()});this.updateModel(a)}else this.remove();this.switchEditMode()}search(){this.optionsList=null,this.updatePageInfo(this.model.maxOptions,1),this.loading=!0,this.subs.push(this.vocabularyService.getVocabularyEntriesByValue(this.getCurrentValue(),!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,ws.ak)(),(0,ts.W)(()=>(0,Rs.of)((0,Lv.g)(new ng.Q,[]))),(0,b.F)()).subscribe(a=>{this.optionsList=a.page,this.updatePageInfo(a.pageInfo.elementsPerPage,a.pageInfo.currentPage,a.pageInfo.totalElements,a.pageInfo.totalPages),this.loading=!1,this.cdr.detectChanges()}))}switchEditMode(){this.editMode=!this.editMode}whenClickOnConfidenceNotAccepted(a,h){this.model.readOnly||(a.open(),this.search())}ngOnDestroy(){this.subs.filter(a=>(0,V.a4)(a)).forEach(a=>a.unsubscribe())}setCurrentValue(a,h=!1){h?this.getInitValueFromModel().subscribe(N=>this.setDisplayInputValue(N.display)):(0,V.a4)(a)&&(a instanceof sh.e||a instanceof Ef.b)&&this.setDisplayInputValue(a.display)}setDisplayInputValue(a){if((0,V.a4)(a)){if(this.isLookupName()){const h=a.split(this.model.separator);this.firstInputValue=(h[0]||"").trim(),this.secondInputValue=(h[1]||"").trim()}else this.firstInputValue=a||"";this.cdr.detectChanges()}}getCurrentValue(){let a="";return this.isLookupName()?((0,V.hj)(this.firstInputValue)&&(a=this.firstInputValue),(0,V.hj)(this.secondInputValue)&&(a=(0,V.Im)(a)?this.secondInputValue:this.firstInputValue+this.model.separator+" "+this.secondInputValue)):a=this.firstInputValue,a}resetFields(){this.firstInputValue="",this.isLookupName()&&(this.secondInputValue="")}updateModel(a){this.group.markAsDirty(),this.dispatchUpdate(a),this.setCurrentValue(a),this.optionsList=null,this.pageInfo=null}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(sg.g),e.rXU(e.gRc),e.rXU(Fn.fpj),e.rXU(Fn.STK))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-lookup"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:26,vars:33,consts:[["sdRef","ngbDropdown"],["hasInfo",""],["noInfo",""],["ngbDropdown","",3,"click","openChange"],[1,"form-row","align-items-center"],[1,"col","right-addon"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0","pr-2",3,"whenClickOnConfidenceNotAccepted","authorityValue"],[1,"form-control",3,"ngModelChange","change","blur","focus","click","id","name","type","ngModel","disabled","placeholder","readonly"],["class","col",4,"ngIf"],[1,"col-auto","text-center"],["ngbDropdownAnchor","","type","button","placement","top",1,"btn","btn-secondary",3,"click","ngbTooltip","disabled","hidden"],["class","btn btn-secondary","type","button","placement","top",3,"ngbTooltip","disabled","click",4,"ngIf"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["infiniteScroll","",1,"scrollable-menu",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],["class","dropdown-item disabled",3,"click",4,"ngIf"],["class","dropdown-item lookup-item",3,"title","click",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],[1,"col"],[1,"form-control",3,"ngModelChange","change","blur","focus","click","ngClass","id","name","type","ngModel","disabled","placeholder","readonly"],["type","button","placement","top",1,"btn","btn-secondary",3,"click","ngbTooltip","disabled"],[1,"dropdown-item","disabled",3,"click"],[1,"dropdown-item","lookup-item",3,"click","title"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"scrollable-dropdown-loading","text-center"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"]],template:function(h,N){if(1&h){const ie=e.RV6();e.j41(0,"div",3,0),e.bIt("click",function(Le){return e.eBV(ie),e.Njj(Le.stopPropagation())})("openChange",function(Le){return e.eBV(ie),e.Njj(N.openChange(Le))}),e.j41(2,"div",4)(3,"div",5)(4,"i",6),e.bIt("whenClickOnConfidenceNotAccepted",function(Le){e.eBV(ie);const _t=e.sdS(1);return e.Njj(N.whenClickOnConfidenceNotAccepted(_t,Le))}),e.k0s(),e.j41(5,"input",7),e.nI1(6,"translate"),e.mxI("ngModelChange",function(Le){return e.eBV(ie),e.DH7(N.firstInputValue,Le)||(N.firstInputValue=Le),e.Njj(Le)}),e.bIt("change",function(Le){return e.eBV(ie),e.Njj(N.onChange(Le))})("blur",function(Le){e.eBV(ie);const _t=e.sdS(1);return N.onBlur(Le),Le.stopPropagation(),e.Njj(_t.close())})("focus",function(Le){e.eBV(ie);const _t=e.sdS(1);return N.onFocus(Le),Le.stopPropagation(),e.Njj(_t.close())})("click",function(Le){e.eBV(ie);const _t=e.sdS(1);return Le.stopPropagation(),Le.stopPropagation(),e.Njj(_t.close())}),e.k0s()(),e.DNE(7,ih,3,15,"div",8),e.j41(8,"div",9)(9,"button",10),e.nI1(10,"translate"),e.bIt("click",function(Le){return e.eBV(ie),e.sdS(1).open(),N.search(),e.Njj(Le.stopPropagation())}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,PS,4,7,"button",11),e.k0s(),e.j41(14,"div",9),e.DNE(15,VC,4,7,"button",11)(16,Nv,4,7,"button",11),e.k0s()(),e.j41(17,"div",12)(18,"div",13),e.bIt("scrolled",function(){return e.eBV(ie),e.Njj(N.onScroll())}),e.DNE(19,cA,3,3,"button",14)(20,RS,2,5,"button",15)(21,AS,4,3,"div",16),e.k0s()()(),e.DNE(22,GC,5,5,"ng-template",null,1,e.C5r)(24,$C,3,2,"ng-template",null,2,e.C5r)}2&h&&(e.R7$(4),e.Y8G("authorityValue",N.model.value),e.R7$(),e.AVh("is-invalid",N.showErrorMessages),e.Y8G("id",N.model.id)("name",N.model.name)("type",N.model.inputType),e.R50("ngModel",N.firstInputValue),e.Y8G("disabled",N.isInputDisabled())("placeholder",e.bMT(6,27,N.model.placeholder))("readonly",N.model.readOnly),e.BMQ("aria-labelledby","label_"+N.model.id)("autoComplete",N.model.autoComplete),e.R7$(2),e.Y8G("ngIf",N.isLookupName()),e.R7$(2),e.FS9("ngbTooltip",e.bMT(10,29,"form.search-help")),e.Y8G("disabled",N.model.readOnly||N.isSearchDisabled())("hidden",N.isInputDisabled()),e.R7$(2),e.SpI("",e.bMT(12,31,"form.search")," "),e.R7$(2),e.Y8G("ngIf",N.isInputDisabled()),e.R7$(2),e.Y8G("ngIf",!N.editMode),e.R7$(),e.Y8G("ngIf",N.editMode),e.R7$(),e.BMQ("aria-labelledby","label_"+N.model.id),e.R7$(),e.Y8G("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),e.R7$(),e.Y8G("ngIf",N.optionsList&&0===N.optionsList.length),e.R7$(),e.Y8G("ngForOf",N.optionsList),e.R7$(),e.Y8G("ngIf",N.loading))},dependencies:[G.h,G.D9,X.n8,X.md,X.zH,X.tg,X.E5,X.U0,jp.K,wn.YN,wn.me,wn.BC,wn.vS,d.bT,d.YU,ig.eO,ig.DP,d.Sq,d.T3,MS.U],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]     .dropdown-menu{left:0!important;width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}div[_ngcontent-%COMP%]{overflow:visible}.lookup-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}"]})}return p})();var KC=t(60692),HC=t(27076),LS=t(66642),xS=t(80773),Hd=t.n(xS);const NS=(0,de.hZ)("shrinkInOut",[(0,de.wk)("in",(0,de.iF)({height:"100%",opacity:1})),(0,de.kY)("* => void",[(0,de.iF)({height:"!",opacity:1}),(0,de.i0)(200,(0,de.iF)({height:0,opacity:0}))]),(0,de.kY)("void => *",[(0,de.iF)({height:0,opacity:0}),(0,de.i0)(200,(0,de.iF)({height:"*",opacity:1}))])]);var zC=t(65131),YC=t(83649),rh=t.n(YC),XC=t(84984),FS=t.n(XC),BS=t(977);class US{constructor(C,a="display",h,N,ie){this.id=FS()(),this._item=C,this.fieldToDisplay=a,this.objToDisplay=h,this.setDisplayText(),this.editMode=ie||!1,this.icons=N||[]}set item(C){this._item=C}get item(){return this._item}isNestedItem(){return(0,V.hj)(this.item)&&Hd()(this.item)&&(0,V.hj)(this.objToDisplay)&&this.item[this.objToDisplay]}hasIcons(){return(0,V.hj)(this.icons)}hasVisibleIcons(){if((0,V.hj)(this.icons)){let C=!1;for(const a of this.icons)if(this._item.hasOwnProperty(a.metadata)&&("string"==typeof this._item[a.metadata]&&(0,V.a4)(this._item[a.metadata])||this._item[a.metadata].hasValue())&&!this.hasPlaceholder(this._item[a.metadata])&&(a.visibleWhenAuthorityEmpty||this._item[a.metadata].confidence!==BS.l.CF_UNSET)&&(0,V.hj)(a.style)){C=!0;break}return C}return!1}setEditMode(){this.editMode=!0}updateIcons(C){this.icons=C}updateItem(C){this._item=C,this.setDisplayText()}unsetEditMode(){this.editMode=!1}setDisplayText(){let C=this._item;if(Hd()(this._item)){const a=this.objToDisplay?this._item[this.objToDisplay]:this._item;C=Hd()(a)&&a?a[this.fieldToDisplay]||a.value:a}this.display=C}hasPlaceholder(C){return"string"==typeof C?C===Kd.N:C.hasPlaceholder()}}class Fv{constructor(C=[],a="display",h,N){this.displayField=a,this.displayObj=h,this.iconsConfig=N||[],Array.isArray(C)&&this.setInitialItems(C)}add(C){const a=this.getChipsIcons(C),h=new US(C,this.displayField,this.displayObj,a),N=rh()(this._items,{display:h.display.trim()});(-1===N||!Pc()(C,this.getChipByIndex(N).item))&&(this._items.push(h),this.chipsItems.next(this._items))}getChipById(C){const a=rh()(this._items,{id:C});return this.getChipByIndex(a)}getChipByIndex(C){return this._items.length>0&&this._items[C]?this._items[C]:null}getChips(){return this._items}getChipsItems(){const C=[];return this._items.forEach(a=>{C.push(a.item)}),C}hasItems(){return this._items.length>0}hasPlaceholder(C){return Hd()(C)?C.value===Kd.N:C===Kd.N}remove(C){const a=rh()(this._items,{id:C.id});this._items.splice(a,1),this.chipsItems.next(this._items)}update(C,a){const h=this.getChipById(C),N=this.getChipsIcons(a);h.updateItem(a),h.updateIcons(N),h.unsetEditMode(),this.chipsItems.next(this._items)}updateOrder(){this.chipsItems.next(this._items)}getChipsIcons(C){const a=[];if("string"==typeof C||C instanceof sh.e||C instanceof Ef.b)return a;const h=rh()(this.iconsConfig,{name:"default"}),N=-1!==h?this.iconsConfig[h]:void 0;let ie,Ae,Le;return Object.keys(C).forEach(_t=>{Le=C[_t],Ae=rh()(this.iconsConfig,{name:_t}),ie=-1!==Ae?this.iconsConfig[Ae]:N,(0,V.a4)(Le)&&(0,V.hj)(ie)&&!this.hasPlaceholder(Le)&&a.push({metadata:_t,visibleWhenAuthorityEmpty:this.displayObj!==_t,style:ie.style})}),a}setInitialItems(C){this._items=[],C.forEach(a=>{const h=this.getChipsIcons(a),N=new US(a,this.displayField,this.displayObj,h);this._items.push(N)}),this.chipsItems=new _.t(this._items)}}const dA=["*"],uA=p=>({"chip-selected disabled":p});function hA(p,C){if(1&p&&(e.j41(0,"p",7),e.EFF(1),e.k0s()),2&p){const a=C.$implicit;e.R7$(),e.SpI(" ",a," ")}}function pA(p,C){if(1&p&&e.DNE(0,hA,2,1,"p",6),2&p){const a=e.XpG();e.Y8G("ngForOf",a.tipText)}}function fA(p,C){if(1&p&&(e.j41(0,"i",14),e.EFF(1,"\xa0"),e.k0s()),2&p){const a=e.XpG().$implicit;e.Y8G("authorityValue",a.item)}}function mA(p,C){if(1&p){const a=e.RV6();e.j41(0,"i",16,1),e.bIt("mouseover",function(){const N=e.eBV(a).$implicit,ie=e.sdS(1),Ae=e.XpG(2).index,Le=e.XpG();return e.Njj(Le.showTooltip(ie,Ae,N.metadata))})("mouseout",function(){e.eBV(a);const N=e.sdS(1);return e.Njj(N.close())}),e.k0s()}if(2&p){const a=C.$implicit,h=C.last,N=e.XpG(2).$implicit;e.XpG();const ie=e.sdS(3);e.HbH(a.style),e.AVh("mr-1",!h)("mr-2",h),e.Y8G("ngbTooltip",ie)("authorityValue",N.item[a.metadata]||N.item)("visibleWhenAuthorityEmpty",a.visibleWhenAuthorityEmpty)}}function gA(p,C){if(1&p&&(e.qex(0),e.DNE(1,mA,2,10,"i",15),e.bVm()),2&p){const a=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",a.icons)}}function _A(p,C){if(1&p){const a=e.RV6();e.j41(0,"div",8,1),e.bIt("mouseover",function(){const N=e.eBV(a).index,ie=e.sdS(1),Ae=e.XpG();return e.Njj(Ae.showTooltip(ie,N))})("mouseout",function(){e.eBV(a);const N=e.sdS(1);return e.Njj(N.close())}),e.j41(2,"a",9),e.bIt("cdkDragStarted",function(){const N=e.eBV(a).index,ie=e.XpG();return e.Njj(ie.onDrag(N))})("click",function(N){const ie=e.eBV(a).index,Ae=e.XpG();return e.Njj(Ae.chipsSelected(N,ie))}),e.j41(3,"span"),e.DNE(4,fA,2,1,"i",10)(5,gA,2,1,"ng-container",11),e.j41(6,"p",12),e.EFF(7),e.k0s(),e.j41(8,"i",13),e.nI1(9,"translate"),e.bIt("click",function(N){const ie=e.eBV(a).index,Ae=e.XpG();return e.Njj(Ae.removeChips(N,ie))}),e.k0s()()()()}if(2&p){const a=C.$implicit,h=C.index,N=e.XpG(),ie=e.sdS(3);e.Y8G("ngbTooltip",ie),e.R7$(2),e.Y8G("ngClass",e.eq3(8,uA,N.editable&&a.editMode||N.dragged===h)),e.R7$(2),e.Y8G("ngIf",N.showIcons&&!a.isNestedItem()),e.R7$(),e.Y8G("ngIf",N.showIcons&&a.hasVisibleIcons()),e.R7$(2),e.JRh(a.display),e.R7$(),e.Y8G("title",e.bMT(9,6,"chips.remove"))}}let Bv=(()=>{class p{constructor(a,h){this.cdr=a,this.translate=h,this.editable=!0,this.showIcons=!1,this.selected=new e.bkB,this.remove=new e.bkB,this.change=new e.bkB,this.isDragging=new _.t(!1),this.dragged=-1}ngOnChanges(a){a.chips&&!a.chips.isFirstChange()&&(this.chips=a.chips.currentValue)}chipsSelected(a,h){a.preventDefault(),this.editable&&(this.chips.getChips().forEach((N,ie)=>{ie===h?N.setEditMode():N.unsetEditMode()}),this.selected.emit(h))}removeChips(a,h){a.preventDefault(),a.stopPropagation(),this.chips.getChipByIndex(h).editMode||this.chips.remove(this.chips.getChipByIndex(h))}onDrag(a){this.isDragging.next(!0),this.dragged=a}onDrop(a){(0,th.HD)(this.chips.chipsItems.getValue(),a.previousIndex,a.currentIndex),this.dragged=-1,this.chips.updateOrder(),this.isDragging.next(!1)}showTooltip(a,h,N){if(a.close(),this.isDragging.value)return;const ie=this.chips.getChipByIndex(h),Ae=[];!ie.editMode&&-1===this.dragged&&(N?Hd()(ie.item[N])?(Ae.push(ie.item[N].display),ie.item[N].hasOtherInformation()&&Object.keys(ie.item[N].otherInformation).forEach(Le=>{this.translate.get("form.other-information."+Le).subscribe(_t=>{Ae.push(_t+": "+ie.item[N].otherInformation[Le])})})):Ae.push(ie.item[N]):Ae.push(ie.display),this.cdr.detectChanges(),(!ie.hasIcons()||!ie.hasVisibleIcons()||N)&&(this.tipText=Ae,a.open()))}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(e.gRc),e.rXU(G.c$))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-chips"]],inputs:{chips:"chips",wrapperClass:"wrapperClass",editable:"editable",showIcons:"showIcons"},outputs:{selected:"selected",remove:"remove",change:"change"},standalone:!0,features:[e.OA$,e.aNF],ngContentSelectors:dA,decls:8,vars:6,consts:[["tipContent",""],["t","ngbTooltip"],[3,"className"],["role","list","cdkDropList","","cdkDropListOrientation","horizontal",1,"nav","nav-pills","d-flex","flex-column","flex-sm-row",3,"cdkDropListDropped"],["role","listitem","class","nav-item mr-2 mb-1","triggers","manual",3,"ngbTooltip","mouseover","mouseout",4,"ngFor","ngForOf"],[1,"flex-grow-1"],["class","text-left p-0 m-0",4,"ngFor","ngForOf"],[1,"text-left","p-0","m-0"],["role","listitem","triggers","manual",1,"nav-item","mr-2","mb-1",3,"mouseover","mouseout","ngbTooltip"],["cdkDrag","","href","javascript:void(0);",1,"flex-sm-fill","text-sm-center","nav-link","active","bg-info",3,"cdkDragStarted","click","ngClass"],["dsAuthorityConfidenceState","","class","far fa-circle","aria-hidden","true",3,"authorityValue",4,"ngIf"],[4,"ngIf"],[1,"chip-label","text-truncate","d-table-cell"],[1,"fas","fa-times","ml-2",3,"click","title"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle",3,"authorityValue"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"ngbTooltip","class","mr-1","mr-2","authorityValue","visibleWhenAuthorityEmpty","mouseover","mouseout",4,"ngFor","ngForOf"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"mouseover","mouseout","ngbTooltip","authorityValue","visibleWhenAuthorityEmpty"]],template:function(h,N){if(1&h){const ie=e.RV6();e.NAR(),e.j41(0,"div",2)(1,"div",3),e.bIt("cdkDropListDropped",function(Le){return e.eBV(ie),e.Njj(N.onDrop(Le))}),e.DNE(2,pA,1,1,"ng-template",null,0,e.C5r)(4,_A,10,10,"div",4),e.j41(5,"div",5),e.nI1(6,"async"),e.SdG(7),e.k0s()()()}2&h&&(e.Y8G("className","float-left w-100 "+N.wrapperClass),e.R7$(4),e.Y8G("ngForOf",N.chips.getChips()),e.R7$(),e.AVh("chips-sort-ignore",e.bMT(6,4,N.isDragging)))},dependencies:[X.n8,X.md,d.YU,d.Sq,d.Jj,jp.K,d.bT,G.h,G.D9,th.T1,th.O7],styles:[".cdk-drag-placeholder[_ngcontent-%COMP%]{filter:grayscale(100%);transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{color:#fff;box-sizing:border-box;border-radius:.25rem;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}"]})}return p})();var vA=t(36590),JC=t(50120);t(90948);const kp=["formRef"],rg=(p,C)=>({"border-top":p,"border border-danger":C});function jS(p,C){if(1&p){const a=e.RV6();e.j41(0,"a",8),e.nI1(1,"translate"),e.j41(2,"span",9),e.bIt("click",function(){e.eBV(a);const N=e.XpG();return e.Njj(N.collapseForm())}),e.k0s()()}2&p&&e.FS9("ngbTooltip",e.bMT(1,1,"form.group-collapse-help"))}function kS(p,C){if(1&p){const a=e.RV6();e.j41(0,"a",8),e.nI1(1,"translate"),e.j41(2,"span",10),e.bIt("click",function(){e.eBV(a);const N=e.XpG();return e.Njj(N.expandForm())}),e.k0s()()}2&p&&e.FS9("ngbTooltip",e.bMT(1,1,"form.group-expand-help"))}function VS(p,C){if(1&p){const a=e.RV6();e.j41(0,"div",15)(1,"button",16),e.bIt("click",function(){e.eBV(a);const N=e.XpG(2);return e.Njj(N.save())}),e.nrm(2,"i",17),e.k0s(),e.j41(3,"button",16),e.bIt("click",function(){e.eBV(a);const N=e.XpG(2);return e.Njj(N.delete())}),e.nrm(4,"i",18),e.k0s(),e.j41(5,"button",16),e.bIt("click",function(){e.eBV(a);const N=e.XpG(2);return e.Njj(N.clear())}),e.nrm(6,"i",19),e.k0s()()}if(2&p){const a=e.XpG(2);e.R7$(),e.Y8G("disabled",a.isMandatoryFieldEmpty()),e.R7$(2),e.Y8G("disabled",!a.editMode),e.R7$(2),e.Y8G("disabled",a.isMandatoryFieldEmpty())}}function GS(p,C){if(1&p){const a=e.RV6();e.j41(0,"div",11)(1,"ds-form",12,0),e.bIt("dfBlur",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onBlur(N))})("dfFocus",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onFocus(N))}),e.k0s(),e.DNE(3,VS,7,3,"div",13),e.nI1(4,"async"),e.nrm(5,"div",14),e.k0s()}if(2&p){const a=e.XpG();e.Y8G("@shrinkInOut",void 0),e.R7$(),e.Y8G("formId",a.formId)("formModel",a.formModel)("displaySubmit",!1)("displayCancel",!1)("emitChange",!1),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(4,7,a.formCollapsed))}}function $S(p,C){1&p&&e.nrm(0,"ds-loading",20),2&p&&e.Y8G("showMessage",!1)}function WS(p,C){1&p&&(e.j41(0,"div"),e.nrm(1,"input",21),e.nI1(2,"translate"),e.k0s()),2&p&&(e.R7$(),e.FS9("value",e.bMT(2,1,"form.no-value")))}function KS(p,C){if(1&p){const a=e.RV6();e.j41(0,"ds-chips",22),e.bIt("selected",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onChipSelected(N))}),e.k0s()}if(2&p){const a=e.XpG();e.Y8G("chips",a.chips)("editable",!0)("showIcons",!0)}}let QC=(()=>{class p extends Fn.S6A{constructor(a,h,N,ie,Ae,Le){super(Ae,Le),this.vocabularyService=a,this.formBuilderService=h,this.formService=N,this.cdr=ie,this.layoutService=Ae,this.validationService=Le,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.formCollapsed=(0,Rs.of)(!1),this.editMode=!1,this.subs=[]}ngOnInit(){const a={rows:this.model.formConfiguration};this.model.isEmpty()||(this.formCollapsed=(0,Rs.of)(!0)),this.model.valueChanges.subscribe(h=>{!(0,V.hj)(h)||1===h.length&&(0,zC.Zb)(h[0])?this.expandForm():this.collapseForm()}),this.formId=this.formService.getUniqueId(this.model.id),this.formModel=this.formBuilderService.modelFromConfiguration(this.model.submissionId,a,this.model.scopeUUID,{},this.model.submissionScope,this.model.readOnly),this.initChipsFromModelValue()}isMandatoryFieldEmpty(){let a=!0;return this.formModel.forEach(h=>{h.group.forEach(ie=>{ie.name!==this.model.mandatoryField||(a=null==ie.value)})}),a}onBlur(a){this.blur.emit()}onChipSelected(a){this.expandForm(),this.selectedChipItem=this.chips.getChipByIndex(a),this.formModel.forEach(h=>{h.group.forEach(ie=>{const Ae=this.selectedChipItem.item[ie.name]===Kd.N||this.selectedChipItem.item[ie.name].value===Kd.N?null:this.selectedChipItem.item[ie.name],Le=this.formBuilderService.isInputModel(ie)&&(0,V.Pe)(Ae)&&"string"!=typeof Ae?Ae.value:Ae;ie.value=Le})}),this.editMode=!0}onFocus(a){this.focus.emit(a)}collapseForm(){this.formCollapsed=(0,Rs.of)(!0),this.clear()}expandForm(){this.formCollapsed=(0,Rs.of)(!1)}clear(){this.editMode&&(this.selectedChipItem.editMode=!1,this.selectedChipItem=null,this.editMode=!1),this.resetForm(),this.model.isEmpty()||(this.formCollapsed=(0,Rs.of)(!0))}save(){this.editMode?this.modifyChip():this.addToChips()}delete(){this.chips.remove(this.selectedChipItem),this.clear()}ngOnDestroy(){this.subs.filter(a=>(0,V.a4)(a)).forEach(a=>a.unsubscribe())}addToChips(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const a=this.buildChipItem();this.chips.add(a),this.resetForm()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}modifyChip(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const a=this.buildChipItem();this.chips.update(this.selectedChipItem.id,a),this.resetForm(),this.cdr.detectChanges()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}buildChipItem(){const a=Object.create({});return this.formModel.forEach(h=>{h.group.forEach(ie=>{a[ie.name]=ie.value||Kd.N})}),a}initChipsFromModelValue(){let a;this.model.isEmpty()?this.initChips([]):(a=(0,Rs.of)(this.model.value),this.subs.push(a.pipe((0,zs.Z)(h=>{const N=[];return h.forEach(ie=>{const Ae=Object.keys(ie).map(Le=>{let _t;if(Hd()(ie[Le])&&ie[Le].hasAuthority()&&(0,V.hj)(ie[Le].authority)){const Ft=Le.replace(/\./g,"_"),fn=this.formBuilderService.findById(Ft,this.formModel);_t=this.vocabularyService.findEntryDetailById(ie[Le].authority,fn.vocabularyOptions.name).pipe((0,ws.ak)(),(0,Ht.T)(Qt=>Object.assign(new sh.e,ie[Le],{otherInformation:Qt.otherInformation})))}else _t=(0,Rs.of)(ie[Le]);return _t.pipe((0,Ht.T)(Ft=>({[Le]:Ft})))});N.push((0,vn.z)(Ae))}),N}),(0,zs.Z)((h,N)=>h.pipe((0,Ht.T)(ie=>({index:N,value:ie.reduce((Ae,Le)=>Object.assign({},Ae,Le))})))),(0,Dg.S)((h,N)=>(0===h.length?h.push(N.value):h.splice(N.index,0,N.value),h),[]),(0,Gn.p)(h=>this.model.value.length===h.length)).subscribe(h=>{this.model.value=h,this.initChips(h),this.cdr.markForCheck()})))}initChips(a){this.chips=new Fv(a,"value",this.model.mandatoryField,R.c.submission.icons.metadata),this.subs.push(this.chips.chipsItems.subscribe(()=>{const h=this.chips.getChipsItems();Pc()(h,this.model.value)||(0,V.Im)(h)&&this.model.isEmpty()||(this.model.value=h,this.change.emit())}))}resetForm(){this.formRef&&this.formService.resetForm(this.formRef.formGroup,this.formModel,this.formId)}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(sg.g),e.rXU(CS.j),e.rXU(JC.u),e.rXU(e.gRc),e.rXU(Fn.fpj),e.rXU(Fn.STK))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-relation-group"]],viewQuery:function(h,N){if(1&h&&e.GBs(kp,5),2&h){let ie;e.mGM(ie=e.lsd())&&(N.formRef=ie.first)}},inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:16,consts:[["formRef","formComponent"],["class","close position-relative","placement","left",3,"ngbTooltip",4,"ngIf"],[1,"pt-2",3,"ngClass"],["class","pl-2 row",4,"ngIf"],[1,"d-flex"],[3,"showMessage",4,"ngIf"],[4,"ngIf"],[3,"chips","editable","showIcons","selected",4,"ngIf"],["placement","left",1,"close","position-relative",3,"ngbTooltip"],["aria-hidden","true",1,"fas","fa-angle-up","fa-fw","fa-2x",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","fa-fw","fa-2x",3,"click"],[1,"pl-2","row"],[1,"col-sm-12","col-md-8","col-lg-9","col-xl-10","pl-0",3,"dfBlur","dfFocus","formId","formModel","displaySubmit","displayCancel","emitChange"],["class","col p-0 m-0 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"clearfix"],[1,"col","p-0","m-0","d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-save","text-primary","fa-2x"],["aria-hidden","true",1,"fas","fa-trash","text-danger","fa-2x"],["aria-hidden","true",1,"fas","fa-undo","fa-2x"],[3,"showMessage"],["type","text","readonly","","tabindex","-1",1,"border-0","form-control-plaintext","tag-input","mt-1","mb-1","pl-2","text-muted",3,"value"],[3,"selected","chips","editable","showIcons"]],template:function(h,N){1&h&&(e.DNE(0,jS,3,3,"a",1),e.nI1(1,"async"),e.DNE(2,kS,3,3,"a",1),e.nI1(3,"async"),e.j41(4,"div",2),e.DNE(5,GS,6,9,"div",3),e.nI1(6,"async"),e.j41(7,"div",4),e.DNE(8,$S,1,1,"ds-loading",5)(9,WS,3,3,"div",6)(10,KS,1,3,"ds-chips",7),e.k0s()()),2&h&&(e.Y8G("ngIf",!0!==e.bMT(1,7,N.formCollapsed)),e.R7$(2),e.Y8G("ngIf",e.bMT(3,9,N.formCollapsed)),e.R7$(2),e.Y8G("ngClass",e.l_i(13,rg,!N.showErrorMessages,N.showErrorMessages)),e.R7$(),e.Y8G("ngIf",!0!==e.bMT(6,11,N.formCollapsed)),e.R7$(3),e.Y8G("ngIf",!N.chips),e.R7$(),e.Y8G("ngIf",N.chips&&!N.chips.hasItems()),e.R7$(),e.Y8G("ngIf",N.chips&&N.chips.hasItems()))},dependencies:()=>[d.bT,d.Jj,X.n8,X.md,G.h,G.D9,d.YU,$c.v,Bv,vA.s],styles:[".close[_ngcontent-%COMP%]{top:-2.5rem}"],data:{animation:[NS]}})}return p})();var HS=t(87180),zS=t(83418),YS=t(88627),XS=t(88093),JS=t(12542);const QS=["instance"];function ZS(p,C){1&p&&e.EFF(0),2&p&&e.SpI(" ",C.result.display,"\n")}function qS(p,C){if(1&p){const a=e.RV6();e.j41(0,"input",5),e.mxI("ngModelChange",function(N){e.eBV(a);const ie=e.XpG();return e.DH7(ie.currentValue,N)||(ie.currentValue=N),e.Njj(N)}),e.bIt("blur",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onBlur(N))})("keypress",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.preventEventsPropagation(N))})("keydown",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.preventEventsPropagation(N))})("keyup",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onKeyUp(N))}),e.k0s()}if(2&p){const a=e.XpG();e.AVh("pl-3",a.chips.hasItems()),e.Y8G("placeholder",a.model.placeholder)("readonly",a.model.readOnly),e.R50("ngModel",a.currentValue)}}function eP(p,C){1&p&&e.nrm(0,"i",9)}function tP(p,C){if(1&p){const a=e.RV6();e.j41(0,"div",6),e.DNE(1,eP,1,0,"i",7),e.j41(2,"input",8,1),e.mxI("ngModelChange",function(N){e.eBV(a);const ie=e.XpG();return e.DH7(ie.currentValue,N)||(ie.currentValue=N),e.Njj(N)}),e.bIt("blur",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onBlur(N))})("focus",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onFocus(N))})("change",function(N){return e.eBV(a),e.Njj(N.stopPropagation())})("input",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onInput(N))})("selectItem",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onSelectItem(N))})("keypress",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.preventEventsPropagation(N))})("keydown",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.preventEventsPropagation(N))})("keyup",function(N){e.eBV(a);const ie=e.XpG();return e.Njj(ie.onKeyUp(N))}),e.k0s()()}if(2&p){const a=e.XpG(),h=e.sdS(1);e.R7$(),e.Y8G("ngIf",a.searching),e.R7$(),e.AVh("is-invalid",a.showErrorMessages)("pl-3",a.chips.hasItems()),e.R50("ngModel",a.currentValue),e.Y8G("id",a.id)("inputFormatter",a.formatter)("name",a.model.name)("ngbTypeahead",a.search)("placeholder",a.model.placeholder)("readonly",a.model.readOnly)("resultTemplate",h)("type",a.model.inputType),e.BMQ("aria-labelledby","label_"+a.model.id)("autoComplete",a.model.autoComplete)}}let nP=(()=>{class p extends IS.o{constructor(a,h,N,ie){super(a,N,ie),this.vocabularyService=a,this.cdr=h,this.layoutService=N,this.validationService=ie,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed=new Lr.c(()=>()=>this.changeSearchingStatus(!1)),this.formatter=Ae=>Ae.display,this.search=Ae=>Ae.pipe((0,YS.B)(300),(0,b.F)(),(0,ii.M)(()=>this.changeSearchingStatus(!0)),(0,Es.n)(Le=>""===Le||Le.length<this.model.minChars?(0,Rs.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(Le,!1,this.model.vocabularyOptions,new ng.Q).pipe((0,ws.ak)(),(0,ii.M)(()=>this.searchFailed=!1),(0,ts.W)(()=>(this.searchFailed=!0,(0,Rs.of)((0,Lv.g)(new ng.Q,[])))))),(0,Ht.T)(Le=>Le.page),(0,Ht.T)(Le=>{if(Le&&Le.length>0&&(0,V.hj)(this.currentValue)){const _t=new Ef.b;_t.display=this.currentValue,_t.value=this.currentValue,Le.push(_t)}return Le}),(0,ii.M)(()=>this.changeSearchingStatus(!1)),(0,XS.h)(this.hideSearchingWhenUnsubscribed))}ngOnInit(){this.hasAuthority=this.model.vocabularyOptions&&(0,V.a4)(this.model.vocabularyOptions.name),this.chips=new Fv(this.model.value,"display",null,R.c.submission.icons.metadata),this.chips.chipsItems.subscribe(a=>{const h=this.chips.getChipsItems();Pc()(h,this.model.value)||this.dispatchUpdate(h)})}changeSearchingStatus(a){this.searching=a,this.cdr.detectChanges()}onInput(a){a.data&&this.group.markAsDirty(),this.cdr.detectChanges()}onBlur(a){(0,V.hj)(this.currentValue)&&(!this.model.hasAuthority||!this.instance.isPopupOpen())&&this.addTagsToChips(),this.blur.emit(a)}onSelectItem(a){this.chips.add(a.item),this.updateModel(a),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50)}updateModel(a){this.dispatchUpdate(this.chips.getChipsItems())}onKeyUp(a){(13===a.keyCode||188===a.keyCode)&&(a.preventDefault(),this.addTagsToChips(),a.stopPropagation())}preventEventsPropagation(a){a.stopPropagation(),13===a.keyCode&&a.preventDefault()}setCurrentValue(a,h=!1){this.currentValue=a}addTagsToChips(){if((0,V.a4)(this.currentValue)&&(!this.hasAuthority||!this.model.vocabularyOptions.closed)){let a=[];a=this.currentValue.split(",");const h=[];a.forEach(N=>{N.split(";").forEach(ie=>{h.push(ie)})}),h.forEach(N=>{(N=N.trim()).length>0&&this.chips.add(N)}),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50),this.updateModel(event)}}static#e=this.\u0275fac=function(h){return new(h||p)(e.rXU(sg.g),e.rXU(e.gRc),e.rXU(Fn.fpj),e.rXU(Fn.STK))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["ds-dynamic-tag"]],viewQuery:function(h,N){if(1&h&&e.GBs(QS,5),2&h){let ie;e.mGM(ie=e.lsd())&&(N.instance=ie.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:6,consts:[["rt",""],["instance","ngbTypeahead"],[3,"chips","editable","showIcons","wrapperClass"],["class","border-0 form-control-plaintext tag-input flex-grow-1 mt-1 mb-1","type","text","role","textbox",3,"pl-3","placeholder","readonly","ngModel","ngModelChange","blur","keypress","keydown","keyup",4,"ngIf"],["class","position-relative right-addon",4,"ngIf"],["type","text","role","textbox",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModelChange","blur","keypress","keydown","keyup","placeholder","readonly","ngModel"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["type","text",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModelChange","blur","focus","change","input","selectItem","keypress","keydown","keyup","ngModel","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","resultTemplate","type"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"]],template:function(h,N){1&h&&(e.DNE(0,ZS,1,1,"ng-template",null,0,e.C5r),e.j41(2,"ds-chips",2),e.DNE(3,qS,1,5,"input",3)(4,tP,4,16,"div",4),e.k0s()),2&h&&(e.R7$(2),e.Y8G("chips",N.chips)("editable",!1)("showIcons",N.model.hasAuthority)("wrapperClass","border-bottom border-light"),e.R7$(),e.Y8G("ngIf",!N.model.hasAuthority),e.R7$(),e.Y8G("ngIf",N.model.hasAuthority))},dependencies:[X.h_,X.$n,wn.YN,wn.me,wn.BC,wn.vS,d.bT,Bv],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.chips-left[_ngcontent-%COMP%]{left:0;padding-right:100%}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:scroll;overflow-x:hidden;left:0!important;margin-top:var(--bs-spacer)!important}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.tag-input[_ngcontent-%COMP%]{flex-grow:1;outline:none;width:auto!important}"]})}return p})();function sP(p){const C=p;switch(p.type){case Fn.WlY:return gS;case Fn.eU4:return Fp;case Fn.W25:return p instanceof TS.R?jC:bC;case Fn.fQD:return C.inline?CC:Bp;case Fn.wnr:return nh;case Fn.FlA:return TC;case Fn.KMD:return p instanceof OS.t?jC:Sv;case Fn.PTN:return OC;case Fn.TwG:return Pv;case Fn.CTm:return Rv;case LS.m:return HC.d;case zS.W:return HS.s;case JS.v:return nP;case Kd.T:return QC;case FC.s:return NC.P;case KC.d:case xv.V:return WC;case BC.v:return yS;case oA.L:return xC;default:return null}}var iP=t(92312);class ZC extends rv.Qf{getResponseParser(){return iP.M}}let Uv=(()=>{class p{constructor(a,h){this.requestService=a,this.halService=h}sendEvent(a,h){const N=this.requestService.generateRequestId();this.halService.getEndpoint(a).pipe((0,Ht.T)(ie=>new ZC(N,ie,JSON.stringify(h))),(0,T.s)(1)).subscribe(ie=>this.requestService.send(ie))}trackViewEvent(a,h){this.sendEvent("/statistics/viewevents",{targetId:a.uuid,targetType:a.type,referrer:h})}trackSearchEvent(a,h,N,ie,Ae){const Le={query:a.query,page:{size:h.size,totalElements:h.totalElements,totalPages:h.totalPages,number:h.number},sort:{by:N.by,order:N.order.toLowerCase()}};if((0,V.a4)(a.configuration)&&Object.assign(Le,{configuration:a.configuration}),(0,V.hj)(a.dsoTypes)&&Object.assign(Le,{dsoType:a.dsoTypes[0].toLowerCase()}),(0,V.a4)(a.scope)&&Object.assign(Le,{scope:a.scope}),(0,V.hj)(ie)){const _t=[];for(let Ft=0,fn=ie.length;Ft<fn;Ft++){const Qt=ie[Ft];_t.push({filter:Qt.filter,operator:Qt.operator,value:Qt.value,label:Qt.label})}Object.assign(Le,{appliedFilters:_t})}(0,V.a4)(Ae)&&Object.assign(Le,{clickedObject:Ae}),this.sendEvent("/statistics/searchevents",Le)}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(Fr.B),e.KVO(H_.Y))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),qC=(()=>{class p{constructor(a,h){this.angulartics2=a,this.statisticsService=h}startTracking(){this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(a=>this.eventTrack(a))}eventTrack(a){"page_view"===a.action?this.statisticsService.trackViewEvent(a.properties.object,a.properties.referrer):"search"===a.action&&this.statisticsService.trackSearchEvent(a.properties.searchOptions,a.properties.page,a.properties.sort,a.properties.filters,a.properties.clickedObject?.split("?")[0])}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(ko.il),e.KVO(Uv))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();var Vp;let oh=class{static#e=Vp=this;static#t=this.NGRX_STATE=(0,e.zw6)("NGRX_STATE");constructor(C,a,h,N,ie,Ae,Le,_t,Ft,fn){this.store=C,this.correlationIdService=a,this.appConfig=h,this.translate=N,this.localeService=ie,this.angulartics2DSpace=Ae,this.headTagService=Le,this.breadcrumbsService=_t,this.themeService=Ft,this.menuService=fn}static providers(){if(!Vp.isPrototypeOf(this))throw new Error("Initalization providers should only be generated from concrete subclasses of InitService");return[{provide:Vp,useClass:this},{provide:qi.vQ,useFactory:C=>(this.resolveAppConfig(C),R.c),deps:[e.pJN]},{provide:e.hnV,useFactory:C=>C.init(),deps:[Vp],multi:!0},{provide:qi.l9,useValue:pC},{provide:Fn.Fdw,useValue:sP}]}static resolveAppConfig(C){}checkAuthenticationToken(){this.store.dispatch(new Y.S3)}initCorrelationId(){this.correlationIdService.initCorrelationId()}checkEnvironment(){if(!Pc()(R.c,this.appConfig))throw new Error("environment does not match app config!");R.c.debug&&console.info(R.c)}initI18n(){this.translate.addLangs(R.c.languages.filter(C=>!0===C.active).map(C=>C.code)),this.localeService.setCurrentLanguageCode()}initAngulartics(){this.angulartics2DSpace.startTracking()}initRouteListeners(){this.headTagService.listenForRouteChange(),this.breadcrumbsService.listenForRouteChanges(),this.themeService.listenForRouteChanges(),this.menuService.listenForRouteChanges()}authenticationReady$(){return this.store.pipe((0,E.Lt)(w.Gv),(0,b.F)(),(0,xn.I)(C=>!1===C))}};oh=Vp=(0,Ue.Cg)([(0,Ue.Qj)(2,(0,e.y_5)(qi.vQ)),(0,Ue.Sn)("design:paramtypes",[E.il,yl,Object,G.c$,md.iH,qC,Zm,Ev.E,J.Fs,dd.$])],oh);var rP=t(51572);class eb{constructor(){this.production=!1,this.debug=!1,this.ui={ssl:!1,host:"localhost",port:4e3,nameSpace:"/",rateLimiter:{windowMs:6e4,max:500},useProxies:!0},this.rest={ssl:!1,host:"localhost",port:8080,nameSpace:"/"},this.actuators={endpointPath:"/actuator/health"},this.cache={msToLive:{default:9e5},control:"max-age=604800",autoSync:{defaultTime:0,maxBufferSize:100,timePerMethod:{[Ju.D.PATCH]:3}},serverSide:{debug:!1,headers:["Link"],botCache:{max:1e3,timeToLive:864e5,allowStale:!0},anonymousCache:{max:0,timeToLive:1e4,allowStale:!0}}},this.auth={ui:{timeUntilIdle:9e5,idleGracePeriod:3e5},rest:{timeLeftBeforeTokenRefresh:12e4}},this.form={spellCheck:!0,validatorMap:{required:"required",regex:"pattern"}},this.notifications={rtl:!1,position:["top","right"],maxStack:8,timeOut:5e3,clickToClose:!0,animate:rP.n.Scale},this.submission={autosave:{metadata:[],timer:0},duplicateDetection:{alwaysShowSection:!1},typeBind:{field:"dc.type"},icons:{metadata:[{name:"dc.author",style:"fas fa-user"},{name:"default",style:""}],authority:{confidence:[{value:600,style:"text-success",icon:"fa-circle-check"},{value:500,style:"text-info",icon:"fa-gear"},{value:400,style:"text-warning",icon:"fa-circle-question"},{value:300,style:"text-muted",icon:"fa-circle-question"},{value:200,style:"text-muted",icon:"fa-circle-exclamation"},{value:100,style:"text-muted",icon:"fa-circle-stop"},{value:0,style:"text-muted",icon:"fa-ban"},{value:-1,style:"text-muted",icon:"fa-circle-xmark"},{value:"default",style:"text-muted",icon:"fa-circle-xmark"}]}}},this.defaultLanguage="en",this.languages=[{code:"en",label:"English",active:!0},{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",active:!0},{code:"bn",label:"\u09ac\u09be\u0982\u09b2\u09be",active:!0},{code:"ca",label:"Catal\xe0",active:!0},{code:"cs",label:"\u010ce\u0161tina",active:!0},{code:"de",label:"Deutsch",active:!0},{code:"el",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",active:!0},{code:"es",label:"Espa\xf1ol",active:!0},{code:"fi",label:"Suomi",active:!0},{code:"fr",label:"Fran\xe7ais",active:!0},{code:"gd",label:"G\xe0idhlig",active:!0},{code:"hi",label:"\u0939\u093f\u0902\u0926\u0940",active:!0},{code:"hu",label:"Magyar",active:!0},{code:"it",label:"Italiano",active:!0},{code:"kk",label:"\u049a\u0430\u0437\u0430\u049b",active:!0},{code:"lv",label:"Latvie\u0161u",active:!0},{code:"nl",label:"Nederlands",active:!0},{code:"pl",label:"Polski",active:!0},{code:"pt-PT",label:"Portugu\xeas",active:!0},{code:"pt-BR",label:"Portugu\xeas do Brasil",active:!0},{code:"sr-lat",label:"Srpski (lat)",active:!0},{code:"sr-cyr",label:"\u0421\u0440\u043f\u0441\u043a\u0438",active:!0},{code:"sv",label:"Svenska",active:!0},{code:"tr",label:"T\xfcrk\xe7e",active:!0},{code:"uk",label:"Y\u043a\u0440\u0430\u0457\u0301\u043d\u0441\u044c\u043a\u0430",active:!0},{code:"vi",label:"Ti\u1ebfng Vi\u1ec7t",active:!0}],this.browseBy={oneYearLimit:10,fiveYearLimit:30,defaultLowerLimit:1900,showThumbnails:!0,pageSize:20},this.communityList={pageSize:20},this.homePage={recentSubmissions:{pageSize:5,sortField:"dc.date.accessioned"},topLevelCommunityList:{pageSize:5},showDiscoverFilters:!1},this.item={edit:{undoTimeout:1e4},showAccessStatuses:!1,bitstream:{pageSize:5}},this.community={searchSection:{showSidebar:!0}},this.collection={searchSection:{showSidebar:!0},edit:{undoTimeout:1e4}},this.suggestion=[],this.themes=[{name:"dspace",headTags:[{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.ico",sizes:"any"}},{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.svg",type:"image/svg+xml"}},{tagName:"link",attributes:{rel:"apple-touch-icon",href:"assets/dspace/images/favicons/apple-touch-icon.png"}},{tagName:"link",attributes:{rel:"manifest",href:"assets/dspace/images/favicons/manifest.webmanifest"}}]}],this.bundle={standardBundles:["ORIGINAL","THUMBNAIL","LICENSE"]},this.mediaViewer={image:!1,video:!1},this.info={enableEndUserAgreement:!0,enablePrivacyStatement:!0,enableCOARNotifySupport:!0},this.markdown={enabled:!1,mathjax:!1},this.vocabularies=[{filter:"subject",vocabulary:"srsc",enabled:!1}],this.comcolSelectionSort={sortField:"dc.title",sortDirection:"ASC"},this.qualityAssuranceConfig={sourceUrlMapForProjectSearch:{openaire:"https://explore.openaire.eu/search/project?projectId="},pageSize:5},this.search={advancedFilters:{enabled:!1,filter:["title","author","subject","entityType"]}},this.notifyMetrics=[{title:"admin-notify-dashboard.received-ldn",boxes:[{color:"#B8DAFF",title:"admin-notify-dashboard.NOTIFY.incoming.accepted",config:"NOTIFY.incoming.accepted",description:"admin-notify-dashboard.NOTIFY.incoming.accepted.description"},{color:"#D4EDDA",title:"admin-notify-dashboard.NOTIFY.incoming.processed",config:"NOTIFY.incoming.processed",description:"admin-notify-dashboard.NOTIFY.incoming.processed.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.incoming.failure",config:"NOTIFY.incoming.failure",description:"admin-notify-dashboard.NOTIFY.incoming.failure.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.incoming.untrusted",config:"NOTIFY.incoming.untrusted",description:"admin-notify-dashboard.NOTIFY.incoming.untrusted.description"},{color:"#43515F",title:"admin-notify-dashboard.NOTIFY.incoming.involvedItems",textColor:"#fff",config:"NOTIFY.incoming.involvedItems",description:"admin-notify-dashboard.NOTIFY.incoming.involvedItems.description"}]},{title:"admin-notify-dashboard.generated-ldn",boxes:[{color:"#D4EDDA",title:"admin-notify-dashboard.NOTIFY.outgoing.delivered",config:"NOTIFY.outgoing.delivered",description:"admin-notify-dashboard.NOTIFY.outgoing.delivered.description"},{color:"#B8DAFF",title:"admin-notify-dashboard.NOTIFY.outgoing.queued",config:"NOTIFY.outgoing.queued",description:"admin-notify-dashboard.NOTIFY.outgoing.queued.description"},{color:"#FDEEBB",title:"admin-notify-dashboard.NOTIFY.outgoing.queued_for_retry",config:"NOTIFY.outgoing.queued_for_retry",description:"admin-notify-dashboard.NOTIFY.outgoing.queued_for_retry.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.outgoing.failure",config:"NOTIFY.outgoing.failure",description:"admin-notify-dashboard.NOTIFY.outgoing.failure.description"},{color:"#43515F",title:"admin-notify-dashboard.NOTIFY.outgoing.involvedItems",textColor:"#fff",config:"NOTIFY.outgoing.involvedItems",description:"admin-notify-dashboard.NOTIFY.outgoing.involvedItems.description"}]}]}}let EA=(()=>{class p extends oh{constructor(a,h,N,ie,Ae,Le,_t,Ft,fn,Qt,Yn,as,Nn,Qn,Vs,Li){super(a,h,ie,Ae,Le,_t,fn,Qt,Nn,Qn),this.store=a,this.correlationIdService=h,this.transferState=N,this.appConfig=ie,this.translate=Ae,this.localeService=Le,this.angulartics2DSpace=_t,this.googleAnalyticsService=Ft,this.headTagService=fn,this.breadcrumbsService=Qt,this.klaroService=Yn,this.authService=as,this.themeService=Nn,this.menuService=Qn,this.rootDataService=Vs,this.router=Li}static resolveAppConfig(a){if(a.hasKey(qi.Dr)){const h=a.get(qi.Dr,new eb);(0,q.$k)(R.c,h)}}init(){var a=this;return(0,g.A)(function*(){return yield a.loadAppState(),a.checkAuthenticationToken(),a.externalAuthCheck(),a.initCorrelationId(),a.checkEnvironment(),(p=>{const C=p.production?"Production":"Development",a=p.production?"red":"green";console.info(""),console.info("%cdspace-angular","font-weight: bold;"),console.info("Version: %c8.0.0","font-weight: bold;"),console.info(`Environment: %c${C}`,`color: ${a}; font-weight: bold;`),console.info("")})(R.c),a.initI18n(),a.initAngulartics(),a.initGoogleAnalytics(),a.initRouteListeners(),a.themeService.listenForThemeChanges(!0),a.trackAuthTokenExpiration(),a.initKlaro(),yield vv(a.authenticationReady$()),!0})}loadAppState(){var a=this;return(0,g.A)(function*(){const h=a.transferState.get(oh.NGRX_STATE,null);return a.transferState.remove(oh.NGRX_STATE),a.store.dispatch(new hd(Ea.REHYDRATE,h)),vv(a.store.select(jm.N).pipe((0,xn.I)(N=>(0,V.hj)(N)),(0,Ht.T)(()=>!0)))})()}trackAuthTokenExpiration(){this.authService.trackTokenExpiration()}initKlaro(){this.authenticationReady$().subscribe(()=>{this.klaroService.initialize()})}initGoogleAnalytics(){this.googleAnalyticsService.addTrackingIdToPage()}externalAuthCheck(){this.sub=this.authService.isExternalAuthentication().pipe((0,Gn.p)(a=>a)).subscribe(()=>{this.rootDataService.invalidateRootCache(),this.authService.setExternalAuthStatus(!1)}),this.closeAuthCheckSubscription()}closeAuthCheckSubscription(){(function nA(p,C){const a="object"==typeof C;return new Promise((h,N)=>{const ie=new Q1.Ms({next:Ae=>{h(Ae),ie.unsubscribe()},error:N,complete:()=>{a?h(C.defaultValue):N(new Xm.G)}});p.subscribe(ie)})})(this.authenticationReady$()).then(()=>{this.sub.unsubscribe()})}initRouteListeners(){super.initRouteListeners(),this.listenForRouteChanges()}listenForRouteChanges(){this.rootDataService.invalidateRootCache(),this.router.events.pipe((0,Gn.p)(a=>a instanceof y.Z)).subscribe(()=>{this.rootDataService.invalidateRootCache()})}static#e=this.\u0275fac=function(h){return new(h||p)(e.KVO(E.il),e.KVO(yl),e.KVO(e.pJN),e.KVO(qi.vQ),e.KVO(G.c$),e.KVO(md.iH),e.KVO(qC),e.KVO(Ym),e.KVO(Zm),e.KVO(Ev.E),e.KVO(zm.$),e.KVO(u.uR),e.KVO(J.Fs),e.KVO(dd.$),e.KVO(Fe.RootDataService),e.KVO(y.Ix))};static#t=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();const oP=(0,e.zw6)("req"),aP=(0,e.v7R)({providers:[(0,ee.$R)((0,ee.Sx)()),function Al(){return(0,e.ngT)("NgEagerAnimations"),[...$a]}(),(0,f.$x)(),(0,e.oKB)(ko.ok.forRoot(),E.md.forFeature("core",RI,Sc.wP),hr.forFeature(T1),G.h.forRoot({loader:{provide:G.Wr,useFactory:function tb(p,C){return new VI(p,C,"assets/i18n/",".json")},deps:[e.pJN,ee.Qq]},missingTranslationHandler:{provide:G.er,useClass:_v.M},useDefaultLang:!0})),...EA.providers(),{provide:e.sZ2,useValue:"dspace-angular"},{provide:kI.S,useFactory:function nb(p){return p.get(oP,{})},deps:[e.pJN]},{provide:e.hnV,useFactory:(p,C)=>p.initXSRFToken(C),deps:[cv,ee.Qq],multi:!0},{provide:cv,useClass:W1},{provide:u.uR,useClass:u.uR},{provide:lf.O,useClass:R0},{provide:zm.$,useClass:jI},{provide:Eg.E,useClass:Eg.E},{provide:md.iH,useClass:md.iH},{provide:Km.$,useClass:AI},{provide:Ym,useClass:Ym},{provide:ko.eB,useClass:ko.eB},{provide:Lm.H,useClass:ov},{provide:uv.f,useClass:V1},{provide:G1,useFactory:function hv(){return window.location}},{provide:o_,useClass:$1}]},eI),jv=()=>(0,f.B8)(z,aP),sb=null!==document.querySelector("script#dspace-angular-state"),og=()=>(R.c.production&&(0,e.SmG)(),sb?jv():fetch("assets/config.json").then(p=>p.json()).then(p=>((0,q.$k)(R.c,p),jv())));"complete"!==document.readyState||sb?document.addEventListener("DOMContentLoaded",og):og()},38793:(B,D,t)=>{"use strict";t.r(D),t.d(D,{HeaderNavbarWrapperComponent:()=>E});var i=t(54460),n=t(69685),c=t(65970),e=t(3231),f=t(61274),g=t(74531),d=t(53107);function y(_,b){if(1&_&&(d.j41(0,"div",2),d.nI1(1,"async"),d.j41(2,"nav",3),d.nI1(3,"async"),d.nI1(4,"translate"),d.nrm(5,"ds-navbar"),d.k0s()()),2&_){const O=d.XpG();d.Y8G("@slideMobileNav",d.bMT(1,3,O.isNavBarCollapsed$)?"collapsed":"expanded"),d.R7$(2),d.BMQ("aria-hidden",d.bMT(3,5,O.isNavBarCollapsed$))("aria-label",d.bMT(4,7,"nav.main.description"))}}let E=(()=>{class _ extends e.HeaderNavbarWrapperComponent{static#e=this.\u0275fac=(()=>{let O;return function(T){return(O||(O=d.xGo(_)))(T||_)}})();static#t=this.\u0275cmp=d.VBU({type:_,selectors:[["ds-themed-header-navbar-wrapper"]],standalone:!0,features:[d.Vt3,d.aNF],decls:4,vars:3,consts:[["id","header-navbar-wrapper"],["id","mobile-navbar-wrapper",4,"ngIf"],["id","mobile-navbar-wrapper"],["id","collapsible-mobile-navbar",1,"px-3"]],template:function(I,T){1&I&&(d.j41(0,"div",0),d.nrm(1,"ds-header"),d.DNE(2,y,6,9,"div",1),d.nI1(3,"async"),d.k0s()),2&I&&(d.R7$(2),d.Y8G("ngIf",d.bMT(3,1,T.isMobile$)))},dependencies:[c.q,f.D,i.Jj,n.h,n.D9,i.bT],styles:["[_nghost-%COMP%]{--ds-header-navbar-border-bottom-style: solid var(--ds-header-navbar-border-bottom-height) var(--ds-header-navbar-border-bottom-color);--ds-expandable-navbar-border-top-style: solid var(--ds-expandable-navbar-border-top-height) var(--ds-expandable-navbar-border-top-color);--ds-expandable-navbar-height: calc(100vh - var(--ds-header-height))}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{position:relative;border-bottom:var(--ds-header-navbar-border-bottom-style)}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]   div#mobile-navbar-wrapper[_ngcontent-%COMP%]{width:100%;background-color:var(--ds-expandable-navbar-bg);position:absolute;z-index:var(--ds-nav-z-index);overflow:hidden}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]   div#mobile-navbar-wrapper[_ngcontent-%COMP%]   nav#collapsible-mobile-navbar[_ngcontent-%COMP%]{min-height:var(--ds-expandable-navbar-height);height:auto;border-bottom:var(--ds-header-navbar-border-bottom-style)}[_nghost-%COMP%]     .ds-menu-item, [_nghost-%COMP%]     .ds-menu-toggler-wrapper{white-space:nowrap;text-decoration:none}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item-wrapper, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper{display:flex;align-items:center;height:100%}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item{padding:var(--ds-navbar-item-vertical-padding) var(--ds-navbar-item-horizontal-padding)}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper{color:var(--ds-navbar-link-color)!important}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item:hover, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item:focus, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper:hover, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper:focus{color:var(--ds-navbar-link-color-hover)!important}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .dropdown-menu{background-color:#43515f}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .dropdown-menu .ds-menu-item{padding:var(--ds-navbar-dropdown-item-vertical-padding) var(--ds-navbar-dropdown-item-horizontal-padding)}[_nghost-%COMP%]     nav#collapsible-mobile-navbar{border-top:var(--ds-expandable-navbar-border-top-style);padding-top:var(--ds-expandable-navbar-padding-top)}[_nghost-%COMP%]     nav#collapsible-mobile-navbar #main-site-navigation .ds-menu-item{padding:var(--ds-expandable-navbar-item-vertical-padding) 0}"],data:{animation:[g.p8]}})}return _})()},33396:(B,D,t)=>{"use strict";t.r(D),t.d(D,{HeaderComponent:()=>R});var i=t(54460),n=t(95968),c=t(2155),e=t(69685),f=t(23014),g=t(99130),d=t(97094),y=t(61274),E=t(37154),_=t(11524),b=t(52651),O=t(53107);function I(u,w){1&u&&(O.j41(0,"nav",9),O.nI1(1,"translate"),O.nrm(2,"ds-navbar"),O.k0s()),2&u&&O.BMQ("aria-label",O.bMT(1,1,"nav.main.description"))}function T(u,w){if(1&u){const v=O.RV6();O.j41(0,"div",10)(1,"button",11),O.nI1(2,"translate"),O.nI1(3,"async"),O.bIt("click",function(){O.eBV(v);const M=O.XpG();return O.Njj(M.toggleNavbar())}),O.nrm(4,"span",12),O.k0s()()}if(2&u){const v=O.XpG();O.R7$(),O.BMQ("aria-label",O.bMT(2,2,"nav.toggle"))("aria-expanded",!0!==O.bMT(3,4,v.isNavBarCollapsed$))}}let R=(()=>{class u extends d.HeaderComponent{ngOnInit(){super.ngOnInit(),this.isNavBarCollapsed$=this.menuService.isMenuCollapsed(this.menuID)}static#e=this.\u0275fac=(()=>{let v;return function(M){return(v||(v=O.xGo(u)))(M||u)}})();static#t=this.\u0275cmp=O.VBU({type:u,selectors:[["ds-themed-header"]],standalone:!0,features:[O.Vt3,O.aNF],decls:21,vars:20,consts:[["id","main-site-header"],["id","main-site-header-container",1,"container","h-100","d-flex","flex-row","flex-wrap","align-items-center","justify-content-between","gapx-3","gapy-2"],["id","header-left",1,"h-100","flex-fill","d-flex","flex-row","flex-nowrap","justify-content-start","align-items-center","gapx-3"],["routerLink","/home",1,"d-block","my-2","my-md-0"],["id","header-logo","src","/assets/poltekkes/images/poltekkes-logo-nobg.png"],["class","navbar navbar-expand p-0 align-items-stretch align-self-stretch","id","desktop-navbar",4,"ngIf"],["id","header-right",1,"h-100","d-flex","flex-row","flex-nowrap","justify-content-end","align-items-center","gapx-1","ml-auto"],["role","menubar",1,"h-100","d-flex","flex-row","flex-nowrap","align-items-center","gapx-1"],["id","mobile-navbar-toggler","class","d-block d-lg-none ml-3",4,"ngIf"],["id","desktop-navbar",1,"navbar","navbar-expand","p-0","align-items-stretch","align-self-stretch"],["id","mobile-navbar-toggler",1,"d-block","d-lg-none","ml-3"],["id","navbar-toggler","type","button","aria-controls","collapsible-mobile-navbar",1,"btn",3,"click"],["aria-hidden","true",1,"fas","fa-bars","fa-fw","fa-xl","toggler-icon"]],template:function(S,M){1&S&&(O.j41(0,"header",0)(1,"div",1)(2,"div",2),O.nI1(3,"async"),O.nI1(4,"async"),O.nI1(5,"translate"),O.j41(6,"a",3),O.nI1(7,"translate"),O.nrm(8,"img",4),O.nI1(9,"translate"),O.k0s(),O.DNE(10,I,3,3,"nav",5),O.nI1(11,"async"),O.k0s(),O.j41(12,"div",6),O.nrm(13,"ds-search-navbar"),O.j41(14,"div",7),O.nrm(15,"ds-lang-switch")(16,"ds-context-help-toggle")(17,"ds-impersonate-navbar")(18,"ds-auth-nav-menu"),O.k0s(),O.DNE(19,T,5,6,"div",8),O.nI1(20,"async"),O.k0s()()()),2&S&&(O.R7$(2),O.BMQ("role",O.bMT(3,6,M.isMobile$)?"navigation":"presentation")("aria-label",O.bMT(4,8,M.isMobile$)?O.bMT(5,10,"nav.main.description"):null),O.R7$(4),O.BMQ("aria-label",O.bMT(7,12,"home.title")),O.R7$(2),O.BMQ("alt",O.bMT(9,14,"menu.header.image.logo")),O.R7$(2),O.Y8G("ngIf",!0!==O.bMT(11,16,M.isMobile$)),O.R7$(9),O.Y8G("ngIf",O.bMT(20,18,M.isMobile$)))},dependencies:[c.zH,c.QE,f.n,n.Wk,E.X,g.Y,_.v,b.d,y.D,e.h,e.D9,i.Jj,i.bT],styles:["[_nghost-%COMP%]   #main-site-header[_ngcontent-%COMP%]{min-height:var(--ds-header-height);background-color:var(--ds-header-bg)}@media (min-width: 768px){[_nghost-%COMP%]   #main-site-header[_ngcontent-%COMP%]{height:var(--ds-header-height)}}[_nghost-%COMP%]   #main-site-header-container[_ngcontent-%COMP%]{min-height:var(--ds-header-height)}[_nghost-%COMP%]   img#header-logo[_ngcontent-%COMP%]{height:var(--ds-header-logo-height)}[_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}[_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]})}return u})()},86542:(B,D,t)=>{"use strict";t.r(D),t.d(D,{HomeNewsComponent:()=>c});var i=t(25540),n=t(53107);let c=(()=>{class e extends i.HomeNewsComponent{static#e=this.\u0275fac=(()=>{let g;return function(y){return(g||(g=n.xGo(e)))(y||e)}})();static#t=this.\u0275cmp=n.VBU({type:e,selectors:[["ds-themed-home-news"]],standalone:!0,features:[n.Vt3,n.aNF],decls:12,vars:0,consts:[[1,"background-image-container","mt-ncs"],[1,"container"],[1,"jumbotron","jumbotron-fluid"],[1,"d-flex","flex-wrap","align-items-center"],[1,"display-3"],[1,"lead"],[1,"btn","btn-poltekkes"],["src","/assets/poltekkes/images/poltekkes-logo-nobg.png","alt","Politeknik Kesehatan Medan Logo",1,"logo"]],template:function(d,y){1&d&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),n.EFF(6,"Repositori Politeknik Kesehatan Medan"),n.k0s(),n.j41(7,"p",5),n.EFF(8,"Layanan digital yang mengumpulkan, merawat, dan mendistribusikan materi digital guna memfasilitasi pelestarian dokumen digital dan komunikasi ilmiah."),n.k0s(),n.j41(9,"button",6),n.EFF(10,"Lihat"),n.k0s()(),n.nrm(11,"img",7),n.k0s()()()())},styles:['[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .background-image-container[_ngcontent-%COMP%]{color:#fff;position:relative;background-color:#43515f}[_nghost-%COMP%]   .background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;padding:1rem;background-color:var(--ds-banner-text-background)}[_nghost-%COMP%]   .background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:after{content:"";display:block;width:var(--ds-banner-background-gradient-width);height:100%;top:0;position:absolute}[_nghost-%COMP%]   .background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:before{background:linear-gradient(to left,var(--ds-banner-text-background),transparent);left:calc(-1 * var(--ds-banner-background-gradient-width))}[_nghost-%COMP%]   .background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:after{background:linear-gradient(to right,var(--ds-banner-text-background),transparent);right:calc(-1 * var(--ds-banner-background-gradient-width))}[_nghost-%COMP%]   .background-image-container[_ngcontent-%COMP%]   small.credits[_ngcontent-%COMP%]{opacity:.3;position:absolute;right:var(--bs-spacer);bottom:0}[_nghost-%COMP%]   .background-image-container[_ngcontent-%COMP%]   small.credits[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}[_nghost-%COMP%]   .jumbotron[_ngcontent-%COMP%]{background-color:#0000}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ds-home-news-link-color)}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--ds-home-news-link-hover-color)}[_nghost-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{width:100px;height:auto;margin-left:auto}[_nghost-%COMP%]   .btn-poltekkes[_ngcontent-%COMP%]{background-color:#f3e90e;color:#43515f;border:none;padding:.5rem 1rem;font-size:1rem;border-radius:4px;cursor:pointer}[_nghost-%COMP%]   .btn-poltekkes[_ngcontent-%COMP%]:hover{color:#fff;background-color:#43515f}']})}return e})()},56242:(B,D,t)=>{"use strict";t.r(D),t.d(D,{NavbarComponent:()=>b});var i=t(54460),n=t(2155),c=t(69685),e=t(23700),f=t(74531),g=t(75941),d=t(53107);function y(O,I){1&O&&(d.qex(0),d.nrm(1,"ds-user-menu",3),d.bVm()),2&O&&(d.R7$(),d.Y8G("inExpandableNavbar",!0))}function E(O,I){1&O&&d.eu8(0)}function _(O,I){if(1&O&&(d.qex(0),d.DNE(1,E,1,0,"ng-container",4),d.nI1(2,"async"),d.nI1(3,"async"),d.bVm()),2&O){let T,R;const u=I.$implicit,w=d.XpG();d.R7$(),d.Y8G("ngComponentOutlet",null==(T=d.bMT(2,2,w.sectionMap$).get(u.id))?null:T.component)("ngComponentOutletInjector",null==(R=d.bMT(3,4,w.sectionMap$).get(u.id))?null:R.injector)}}let b=(()=>{class O extends e.NavbarComponent{static#e=this.\u0275fac=(()=>{let T;return function(u){return(T||(T=d.xGo(O)))(u||O)}})();static#t=this.\u0275cmp=d.VBU({type:O,selectors:[["ds-themed-navbar"]],standalone:!0,features:[d.Vt3,d.aNF],decls:7,vars:11,consts:[[4,"ngIf"],["role","menubar","id","main-site-navigation",1,"navbar-nav","h-100","align-items-md-stretch","gapx-3",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"inExpandableNavbar"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(R,u){1&R&&(d.DNE(0,y,2,1,"ng-container",0),d.nI1(1,"async"),d.nI1(2,"async"),d.j41(3,"div",1),d.nI1(4,"async"),d.DNE(5,_,4,6,"ng-container",2),d.nI1(6,"async"),d.k0s()),2&R&&(d.Y8G("ngIf",d.bMT(1,3,u.isMobile$)&&d.bMT(2,5,u.isAuthenticated$)),d.R7$(3),d.Y8G("ngClass",d.bMT(4,7,u.isMobile$)?"navbar-nav-mobile":"navbar-nav-desktop"),d.R7$(2),d.Y8G("ngForOf",d.bMT(6,9,u.sections)))},dependencies:[n.zH,i.YU,i.bT,i.pM,i.OI,i.Jj,c.h,g.r],data:{animation:[f.p8]}})}return O})()},23692:(B,D)=>{"use strict";var i=null;try{i=window}catch{i=global}var n=i.__CerializeTypeMap=new i.Map;function d(we){return Array.isArray(we)?we.map(function(Be){return Be&&Be.toString()||null}):we&&we.toString()||null}function y(we){return Array.isArray(we)?we.map(function(Be){return parseFloat(Be)}):parseFloat(we)}function E(we){return Array.isArray(we)?we.map(function(Be){return!!Be}):!!we}function _(we){return Array.isArray(we)?we.map(function(Be){return Be&&Be.toString()||null}):we&&we.toString()||null}function b(we){return Array.isArray(we)?we.map(function(Be){return parseInt(Be)}):parseInt(we)}function O(we){return Array.isArray(we)?we.map(function(Be){return!!Be}):!!we}function I(we){return we===String?d:we===Number?y:we===Boolean?E:we}function T(we){return we===String?_:we===Number?b:we===Boolean?O:we}function R(we,Be){for(var Ve=0;Ve<we.length;Ve++)if(we[Ve].keyName===Be)return we[Ve];return we.push(new Y(Be)),we[we.length-1]}function u(we,Be){var Ve=null,et=null;return"string"==typeof we?et=we:(we&&"function"==typeof we||"object"==typeof we)&&(Ve=we,et=Be),{key:et,type:Ve}}D.inheritSerialization=function w(we){return function(Be){for(var Ve=n.get(we)||[],et=n.get(Be)||[],yt=0;yt<Ve.length;yt++)Y.hasKeyName(et,Ve[yt].keyName)||et.push(Y.clone(Ve[yt]));n.set(Be,et)}},D.deserialize=function S(we,Be){if(we&&Be){var Ve=n.get(we.constructor)||[];R(Ve,Be).deserializedKey=Be,n.set(we.constructor,Ve)}},D.autoserialize=function M(we,Be){if(we&&Be){var Ve=n.get(we.constructor)||[],et=R(Ve,Be);et.serializedKey=Be,et.deserializedKey=Be,n.set(we.constructor,Ve)}},D.serializeAs=function L(we,Be){if(we){var Ve=u(we,Be),et=Ve.key,yt=Ve.type;return function(it,at){if(it&&at){var Yt=n.get(it.constructor)||[],nn=R(Yt,at);nn.serializedKey=et||at,nn.serializedType=yt,yt!==Date&&yt!==RegExp&&!n.get(yt)&&"function"==typeof yt&&(nn.serializedType={Serialize:T(yt)}),n.set(it.constructor,Yt)}}}},D.deserializeAs=function $(we,Be){if(we){var Ve=u(we,Be),et=Ve.key,yt=Ve.type;return function(it,at){if(it&&at){var Yt=n.get(it.constructor)||[],nn=R(Yt,at);nn.deserializedKey=et||at,nn.deserializedType=yt,!n.get(yt)&&yt!==Date&&yt!==RegExp&&"function"==typeof yt&&(nn.deserializedType={Deserialize:I(yt)}),n.set(it.constructor,Yt)}}}},D.autoserializeAs=function x(we,Be){if(we){var Ve=u(we,Be),et=Ve.key,yt=Ve.type;return function(it,at){if(it&&at){var Yt=n.get(it.constructor)||[],nn=R(Yt,at),je=et||at;nn.deserializedKey=je,nn.deserializedType=yt,nn.serializedKey=je,nn.serializedType=T(yt),!n.get(yt)&&yt!==Date&&yt!==RegExp&&"function"==typeof yt&&(nn.deserializedType={Deserialize:I(yt)}),n.set(it.constructor,Yt)}}}};var Y=function(){function we(Be){this.keyName=Be,this.serializedKey=null,this.deserializedKey=null,this.deserializedType=null,this.serializedType=null,this.indexable=!1}return we.hasKeyName=function(Be,Ve){for(var et=0;et<Be.length;et++)if(Be[et].keyName===Ve)return!0;return!1},we.clone=function(Be){var Ve=new we(Be.keyName);return Ve.deserializedKey=Be.deserializedKey,Ve.serializedKey=Be.serializedKey,Ve.serializedType=Be.serializedType,Ve.deserializedType=Be.deserializedType,Ve.indexable=Be.indexable,Ve},we}();function ae(we,Be){return Array.isArray(we)?J(we,Be):we&&"object"==typeof we?ee(we,Be):("string"==typeof we||we instanceof Date)&&Be===Date.prototype.constructor?new Date(we):"string"==typeof we&&Be===RegExp?new RegExp(we):we}function J(we,Be){for(var Ve=new Array(we.length),et=0;et<we.length;et++)Ve[et]=ae(we[et],Be);return Ve}function z(we,Be,Ve){Ve&&"function"==typeof Ve.OnDeserialized&&Ve.OnDeserialized(we,Be)}function q(we,Be){"function"==typeof we.constructor.OnSerialized&&we.constructor.OnSerialized(we,Be)}function ee(we,Be){var Ve=n.get(Be);if(!Ve){var et=null;return Be?z(et=new Be,we,Be):et=JSON.parse(JSON.stringify(we)),et}for(var yt=new Be,it=0;it<Ve.length;it++){var at=Ve[it];if(at.deserializedKey){var Yt=at.deserializedKey;at.deserializedKey===at.keyName&&"function"==typeof fe&&(Yt=fe(at.keyName));var nn=we[Yt];void 0!==nn&&(yt[at.keyName]=null===nn?nn:at.deserializedType&&"function"==typeof at.deserializedType.Deserialize?at.deserializedType.Deserialize(nn):Array.isArray(nn)?J(nn,at.deserializedType||null):("string"==typeof nn||nn instanceof Date)&&at.deserializedType===Date.prototype.constructor?new Date(nn):"string"==typeof nn&&at.deserializedType===RegExp?new RegExp(we):nn&&"object"==typeof nn?at.indexable?de(nn,at.deserializedType):ee(nn,at.deserializedType):nn)}}return z(yt,we,Be),yt}function de(we,Be){var Ve={};return Object.keys(we).forEach(function(et){Ve[et]=ee(we[et],Be)}),Ve}function Z(we,Be){for(var Ve=new Array(we.length),et=0;et<we.length;et++)Ve[et]=De(we[et],Be);return Ve}function le(we,Be){var et,Ve={};et=n.get(Be||we.constructor);for(var yt=0;yt<et.length;yt++){var it=et[yt];if(it.serializedKey){var at=it.serializedKey;it.serializedKey===it.keyName&&"function"==typeof ve&&(at=ve(it.keyName));var Yt=we[it.keyName];if(void 0!==Yt)if(Array.isArray(Yt))Ve[at]=Z(Yt,it.serializedType||null);else if(it.serializedType&&"function"==typeof it.serializedType.Serialize)Ve[at]=it.serializedType.Serialize(Yt);else{var nn=De(Yt);void 0!==nn&&(Ve[at]=nn)}}}return q(we,Ve),Ve}function De(we,Be){if(null==we)return null;if(Array.isArray(we))return Z(we,Be);if(Be&&n.has(Be))return le(we,Be);if(we.constructor&&n.has(we.constructor))return le(we);if(we instanceof Date)return we.toISOString();if(we instanceof RegExp)return we.toString();if(we&&"object"==typeof we||"function"==typeof we){for(var Ve=Object.keys(we),et={},yt=0;yt<Ve.length;yt++)et[Ve[yt]]=De(we[Ve[yt]]);return q(we,et),et}return we}D.Deserialize=ae,D.Serialize=De;var ve=null,fe=null},47817:(B,D,t)=>{B.exports=t(23692)},43243:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function t(i,n){for(var c=i<0?"-":"",e=Math.abs(i).toString();e.length<n;)e="0"+e;return c+e},B.exports=D.default},61142:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function t(i,n){if(null==i)throw new TypeError("assign requires that input parameter not be null or undefined");for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(i[c]=n[c]);return i},B.exports=D.default},67331:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function c(e){return(0,n.default)({},e)};var n=i(t(61142));B.exports=D.default},53274:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var n=i(t(15125));D.default=n.default,B.exports=D.default},3254:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.getDefaultOptions=function i(){return t},D.setDefaultOptions=function n(c){t=c};var t={}},38826:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var n=i(t(65857)),c=i(t(98830)),e=i(t(23835)),f=i(t(30013)),g=i(t(64428)),d=i(t(43243)),y=i(t(96516));function b(R,u){var w=R>0?"-":"+",v=Math.abs(R),S=Math.floor(v/60),M=v%60;if(0===M)return w+String(S);var L=u||"";return w+String(S)+L+(0,d.default)(M,2)}function O(R,u){return R%60==0?(R>0?"-":"+")+(0,d.default)(Math.abs(R)/60,2):I(R,u)}function I(R,u){var w=u||"",v=R>0?"-":"+",S=Math.abs(R);return v+(0,d.default)(Math.floor(S/60),2)+w+(0,d.default)(S%60,2)}D.default={G:function(u,w,v){var S=u.getUTCFullYear()>0?1:0;switch(w){case"G":case"GG":case"GGG":return v.era(S,{width:"abbreviated"});case"GGGGG":return v.era(S,{width:"narrow"});default:return v.era(S,{width:"wide"})}},y:function(u,w,v){if("yo"===w){var S=u.getUTCFullYear();return v.ordinalNumber(S>0?S:1-S,{unit:"year"})}return y.default.y(u,w)},Y:function(u,w,v,S){var M=(0,g.default)(u,S),L=M>0?M:1-M;return"YY"===w?(0,d.default)(L%100,2):"Yo"===w?v.ordinalNumber(L,{unit:"year"}):(0,d.default)(L,w.length)},R:function(u,w){var v=(0,e.default)(u);return(0,d.default)(v,w.length)},u:function(u,w){var v=u.getUTCFullYear();return(0,d.default)(v,w.length)},Q:function(u,w,v){var S=Math.ceil((u.getUTCMonth()+1)/3);switch(w){case"Q":return String(S);case"QQ":return(0,d.default)(S,2);case"Qo":return v.ordinalNumber(S,{unit:"quarter"});case"QQQ":return v.quarter(S,{width:"abbreviated",context:"formatting"});case"QQQQQ":return v.quarter(S,{width:"narrow",context:"formatting"});default:return v.quarter(S,{width:"wide",context:"formatting"})}},q:function(u,w,v){var S=Math.ceil((u.getUTCMonth()+1)/3);switch(w){case"q":return String(S);case"qq":return(0,d.default)(S,2);case"qo":return v.ordinalNumber(S,{unit:"quarter"});case"qqq":return v.quarter(S,{width:"abbreviated",context:"standalone"});case"qqqqq":return v.quarter(S,{width:"narrow",context:"standalone"});default:return v.quarter(S,{width:"wide",context:"standalone"})}},M:function(u,w,v){var S=u.getUTCMonth();switch(w){case"M":case"MM":return y.default.M(u,w);case"Mo":return v.ordinalNumber(S+1,{unit:"month"});case"MMM":return v.month(S,{width:"abbreviated",context:"formatting"});case"MMMMM":return v.month(S,{width:"narrow",context:"formatting"});default:return v.month(S,{width:"wide",context:"formatting"})}},L:function(u,w,v){var S=u.getUTCMonth();switch(w){case"L":return String(S+1);case"LL":return(0,d.default)(S+1,2);case"Lo":return v.ordinalNumber(S+1,{unit:"month"});case"LLL":return v.month(S,{width:"abbreviated",context:"standalone"});case"LLLLL":return v.month(S,{width:"narrow",context:"standalone"});default:return v.month(S,{width:"wide",context:"standalone"})}},w:function(u,w,v,S){var M=(0,f.default)(u,S);return"wo"===w?v.ordinalNumber(M,{unit:"week"}):(0,d.default)(M,w.length)},I:function(u,w,v){var S=(0,c.default)(u);return"Io"===w?v.ordinalNumber(S,{unit:"week"}):(0,d.default)(S,w.length)},d:function(u,w,v){return"do"===w?v.ordinalNumber(u.getUTCDate(),{unit:"date"}):y.default.d(u,w)},D:function(u,w,v){var S=(0,n.default)(u);return"Do"===w?v.ordinalNumber(S,{unit:"dayOfYear"}):(0,d.default)(S,w.length)},E:function(u,w,v){var S=u.getUTCDay();switch(w){case"E":case"EE":case"EEE":return v.day(S,{width:"abbreviated",context:"formatting"});case"EEEEE":return v.day(S,{width:"narrow",context:"formatting"});case"EEEEEE":return v.day(S,{width:"short",context:"formatting"});default:return v.day(S,{width:"wide",context:"formatting"})}},e:function(u,w,v,S){var M=u.getUTCDay(),L=(M-S.weekStartsOn+8)%7||7;switch(w){case"e":return String(L);case"ee":return(0,d.default)(L,2);case"eo":return v.ordinalNumber(L,{unit:"day"});case"eee":return v.day(M,{width:"abbreviated",context:"formatting"});case"eeeee":return v.day(M,{width:"narrow",context:"formatting"});case"eeeeee":return v.day(M,{width:"short",context:"formatting"});default:return v.day(M,{width:"wide",context:"formatting"})}},c:function(u,w,v,S){var M=u.getUTCDay(),L=(M-S.weekStartsOn+8)%7||7;switch(w){case"c":return String(L);case"cc":return(0,d.default)(L,w.length);case"co":return v.ordinalNumber(L,{unit:"day"});case"ccc":return v.day(M,{width:"abbreviated",context:"standalone"});case"ccccc":return v.day(M,{width:"narrow",context:"standalone"});case"cccccc":return v.day(M,{width:"short",context:"standalone"});default:return v.day(M,{width:"wide",context:"standalone"})}},i:function(u,w,v){var S=u.getUTCDay(),M=0===S?7:S;switch(w){case"i":return String(M);case"ii":return(0,d.default)(M,w.length);case"io":return v.ordinalNumber(M,{unit:"day"});case"iii":return v.day(S,{width:"abbreviated",context:"formatting"});case"iiiii":return v.day(S,{width:"narrow",context:"formatting"});case"iiiiii":return v.day(S,{width:"short",context:"formatting"});default:return v.day(S,{width:"wide",context:"formatting"})}},a:function(u,w,v){var M=u.getUTCHours()/12>=1?"pm":"am";switch(w){case"a":case"aa":return v.dayPeriod(M,{width:"abbreviated",context:"formatting"});case"aaa":return v.dayPeriod(M,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return v.dayPeriod(M,{width:"narrow",context:"formatting"});default:return v.dayPeriod(M,{width:"wide",context:"formatting"})}},b:function(u,w,v){var M,S=u.getUTCHours();switch(M=12===S?"noon":0===S?"midnight":S/12>=1?"pm":"am",w){case"b":case"bb":return v.dayPeriod(M,{width:"abbreviated",context:"formatting"});case"bbb":return v.dayPeriod(M,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return v.dayPeriod(M,{width:"narrow",context:"formatting"});default:return v.dayPeriod(M,{width:"wide",context:"formatting"})}},B:function(u,w,v){var M,S=u.getUTCHours();switch(M=S>=17?"evening":S>=12?"afternoon":S>=4?"morning":"night",w){case"B":case"BB":case"BBB":return v.dayPeriod(M,{width:"abbreviated",context:"formatting"});case"BBBBB":return v.dayPeriod(M,{width:"narrow",context:"formatting"});default:return v.dayPeriod(M,{width:"wide",context:"formatting"})}},h:function(u,w,v){if("ho"===w){var S=u.getUTCHours()%12;return 0===S&&(S=12),v.ordinalNumber(S,{unit:"hour"})}return y.default.h(u,w)},H:function(u,w,v){return"Ho"===w?v.ordinalNumber(u.getUTCHours(),{unit:"hour"}):y.default.H(u,w)},K:function(u,w,v){var S=u.getUTCHours()%12;return"Ko"===w?v.ordinalNumber(S,{unit:"hour"}):(0,d.default)(S,w.length)},k:function(u,w,v){var S=u.getUTCHours();return 0===S&&(S=24),"ko"===w?v.ordinalNumber(S,{unit:"hour"}):(0,d.default)(S,w.length)},m:function(u,w,v){return"mo"===w?v.ordinalNumber(u.getUTCMinutes(),{unit:"minute"}):y.default.m(u,w)},s:function(u,w,v){return"so"===w?v.ordinalNumber(u.getUTCSeconds(),{unit:"second"}):y.default.s(u,w)},S:function(u,w){return y.default.S(u,w)},X:function(u,w,v,S){var L=(S._originalDate||u).getTimezoneOffset();if(0===L)return"Z";switch(w){case"X":return O(L);case"XXXX":case"XX":return I(L);default:return I(L,":")}},x:function(u,w,v,S){var L=(S._originalDate||u).getTimezoneOffset();switch(w){case"x":return O(L);case"xxxx":case"xx":return I(L);default:return I(L,":")}},O:function(u,w,v,S){var L=(S._originalDate||u).getTimezoneOffset();switch(w){case"O":case"OO":case"OOO":return"GMT"+b(L,":");default:return"GMT"+I(L,":")}},z:function(u,w,v,S){var L=(S._originalDate||u).getTimezoneOffset();switch(w){case"z":case"zz":case"zzz":return"GMT"+b(L,":");default:return"GMT"+I(L,":")}},t:function(u,w,v,S){var L=Math.floor((S._originalDate||u).getTime()/1e3);return(0,d.default)(L,w.length)},T:function(u,w,v,S){var L=(S._originalDate||u).getTime();return(0,d.default)(L,w.length)}},B.exports=D.default},96516:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var n=i(t(43243));D.default={y:function(g,d){var y=g.getUTCFullYear(),E=y>0?y:1-y;return(0,n.default)("yy"===d?E%100:E,d.length)},M:function(g,d){var y=g.getUTCMonth();return"M"===d?String(y+1):(0,n.default)(y+1,2)},d:function(g,d){return(0,n.default)(g.getUTCDate(),d.length)},a:function(g,d){var y=g.getUTCHours()/12>=1?"pm":"am";switch(d){case"a":case"aa":return y.toUpperCase();case"aaa":return y;case"aaaaa":return y[0];default:return"am"===y?"a.m.":"p.m."}},h:function(g,d){return(0,n.default)(g.getUTCHours()%12||12,d.length)},H:function(g,d){return(0,n.default)(g.getUTCHours(),d.length)},m:function(g,d){return(0,n.default)(g.getUTCMinutes(),d.length)},s:function(g,d){return(0,n.default)(g.getUTCSeconds(),d.length)},S:function(g,d){var y=d.length,E=g.getUTCMilliseconds(),_=Math.floor(E*Math.pow(10,y-3));return(0,n.default)(_,d.length)}},B.exports=D.default},90304:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var t=function(g,d){switch(g){case"P":return d.date({width:"short"});case"PP":return d.date({width:"medium"});case"PPP":return d.date({width:"long"});default:return d.date({width:"full"})}},i=function(g,d){switch(g){case"p":return d.time({width:"short"});case"pp":return d.time({width:"medium"});case"ppp":return d.time({width:"long"});default:return d.time({width:"full"})}};D.default={p:i,P:function(g,d){var b,y=g.match(/(P+)(p+)?/)||[],E=y[1],_=y[2];if(!_)return t(g,d);switch(E){case"P":b=d.dateTime({width:"short"});break;case"PP":b=d.dateTime({width:"medium"});break;case"PPP":b=d.dateTime({width:"long"});break;default:b=d.dateTime({width:"full"})}return b.replace("{{date}}",t(E,d)).replace("{{time}}",i(_,d))}},B.exports=D.default},67920:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function t(i){var n=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return n.setUTCFullYear(i.getFullYear()),i.getTime()-n.getTime()},B.exports=D.default},65857:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function f(g){(0,c.default)(1,arguments);var d=(0,n.default)(g),y=d.getTime();d.setUTCMonth(0,1),d.setUTCHours(0,0,0,0);var E=d.getTime();return Math.floor((y-E)/e)+1};var n=i(t(53815)),c=i(t(60483)),e=864e5;B.exports=D.default},23835:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function f(g){(0,c.default)(1,arguments);var d=(0,n.default)(g),y=d.getUTCFullYear(),E=new Date(0);E.setUTCFullYear(y+1,0,4),E.setUTCHours(0,0,0,0);var _=(0,e.default)(E),b=new Date(0);b.setUTCFullYear(y,0,4),b.setUTCHours(0,0,0,0);var O=(0,e.default)(b);return d.getTime()>=_.getTime()?y+1:d.getTime()>=O.getTime()?y:y-1};var n=i(t(53815)),c=i(t(60483)),e=i(t(78239));B.exports=D.default},98830:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function d(y){(0,f.default)(1,arguments);var E=(0,n.default)(y),_=(0,c.default)(E).getTime()-(0,e.default)(E).getTime();return Math.round(_/g)+1};var n=i(t(53815)),c=i(t(78239)),e=i(t(95314)),f=i(t(60483)),g=6048e5;B.exports=D.default},64428:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function d(y,E){var _,b,O,I,T,R,u,w;(0,c.default)(1,arguments);var v=(0,n.default)(y),S=v.getUTCFullYear(),M=(0,g.getDefaultOptions)(),L=(0,f.default)(null!==(_=null!==(b=null!==(O=null!==(I=E?.firstWeekContainsDate)&&void 0!==I?I:null==E||null===(T=E.locale)||void 0===T||null===(R=T.options)||void 0===R?void 0:R.firstWeekContainsDate)&&void 0!==O?O:M.firstWeekContainsDate)&&void 0!==b?b:null===(u=M.locale)||void 0===u||null===(w=u.options)||void 0===w?void 0:w.firstWeekContainsDate)&&void 0!==_?_:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=new Date(0);F.setUTCFullYear(S+1,0,L),F.setUTCHours(0,0,0,0);var $=(0,e.default)(F,E),j=new Date(0);j.setUTCFullYear(S,0,L),j.setUTCHours(0,0,0,0);var x=(0,e.default)(j,E);return v.getTime()>=$.getTime()?S+1:v.getTime()>=x.getTime()?S:S-1};var n=i(t(53815)),c=i(t(60483)),e=i(t(26010)),f=i(t(50128)),g=t(3254);B.exports=D.default},30013:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function d(y,E){(0,f.default)(1,arguments);var _=(0,n.default)(y),b=(0,c.default)(_,E).getTime()-(0,e.default)(_,E).getTime();return Math.round(b/g)+1};var n=i(t(53815)),c=i(t(26010)),e=i(t(92847)),f=i(t(60483)),g=6048e5;B.exports=D.default},33665:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.isProtectedDayOfYearToken=function n(f){return-1!==t.indexOf(f)},D.isProtectedWeekYearToken=function c(f){return-1!==i.indexOf(f)},D.throwProtectedError=function e(f,g,d){if("YYYY"===f)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(g,"`) for formatting years to the input `").concat(d,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===f)throw new RangeError("Use `yy` instead of `YY` (in `".concat(g,"`) for formatting years to the input `").concat(d,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===f)throw new RangeError("Use `d` instead of `D` (in `".concat(g,"`) for formatting days of the month to the input `").concat(d,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===f)throw new RangeError("Use `dd` instead of `DD` (in `".concat(g,"`) for formatting days of the month to the input `").concat(d,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))};var t=["D","DD"],i=["YY","YYYY"]},60483:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function t(i,n){if(n.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+n.length+" present")},B.exports=D.default},95314:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function f(g){(0,e.default)(1,arguments);var d=(0,n.default)(g),y=new Date(0);return y.setUTCFullYear(d,0,4),y.setUTCHours(0,0,0,0),(0,c.default)(y)};var n=i(t(23835)),c=i(t(78239)),e=i(t(60483));B.exports=D.default},78239:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function e(f){(0,c.default)(1,arguments);var d=(0,n.default)(f),y=d.getUTCDay(),E=(y<1?7:0)+y-1;return d.setUTCDate(d.getUTCDate()-E),d.setUTCHours(0,0,0,0),d};var n=i(t(53815)),c=i(t(60483));B.exports=D.default},92847:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function d(y,E){var _,b,O,I,T,R,u,w;(0,c.default)(1,arguments);var v=(0,g.getDefaultOptions)(),S=(0,f.default)(null!==(_=null!==(b=null!==(O=null!==(I=E?.firstWeekContainsDate)&&void 0!==I?I:null==E||null===(T=E.locale)||void 0===T||null===(R=T.options)||void 0===R?void 0:R.firstWeekContainsDate)&&void 0!==O?O:v.firstWeekContainsDate)&&void 0!==b?b:null===(u=v.locale)||void 0===u||null===(w=u.options)||void 0===w?void 0:w.firstWeekContainsDate)&&void 0!==_?_:1),M=(0,n.default)(y,E),L=new Date(0);return L.setUTCFullYear(M,0,S),L.setUTCHours(0,0,0,0),(0,e.default)(L,E)};var n=i(t(64428)),c=i(t(60483)),e=i(t(26010)),f=i(t(50128)),g=t(3254);B.exports=D.default},26010:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function g(d,y){var E,_,b,O,I,T,R,u;(0,c.default)(1,arguments);var w=(0,f.getDefaultOptions)(),v=(0,e.default)(null!==(E=null!==(_=null!==(b=null!==(O=y?.weekStartsOn)&&void 0!==O?O:null==y||null===(I=y.locale)||void 0===I||null===(T=I.options)||void 0===T?void 0:T.weekStartsOn)&&void 0!==b?b:w.weekStartsOn)&&void 0!==_?_:null===(R=w.locale)||void 0===R||null===(u=R.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==E?E:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var S=(0,n.default)(d),M=S.getUTCDay(),L=(M<v?7:0)+M-v;return S.setUTCDate(S.getUTCDate()-L),S.setUTCHours(0,0,0,0),S};var n=i(t(53815)),c=i(t(60483)),e=i(t(50128)),f=t(3254);B.exports=D.default},50128:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function t(i){if(null===i||!0===i||!1===i)return NaN;var n=Number(i);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)},B.exports=D.default},84411:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function f(g,d){(0,e.default)(2,arguments);var y=(0,c.default)(g).getTime(),E=(0,n.default)(d);return new Date(y+E)};var n=i(t(50128)),c=i(t(53815)),e=i(t(60483));B.exports=D.default},41401:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function v(M,L,F){var $,j,x,G,Y,V,X,K,ae,Q,J,z,q,ee,de,Ce,Z,le;(0,_.default)(2,arguments);var De=String(L),pe=(0,b.getDefaultOptions)(),re=null!==($=null!==(j=F?.locale)&&void 0!==j?j:pe.locale)&&void 0!==$?$:O.default,ve=(0,E.default)(null!==(x=null!==(G=null!==(Y=null!==(V=F?.firstWeekContainsDate)&&void 0!==V?V:null==F||null===(X=F.locale)||void 0===X||null===(K=X.options)||void 0===K?void 0:K.firstWeekContainsDate)&&void 0!==Y?Y:pe.firstWeekContainsDate)&&void 0!==G?G:null===(ae=pe.locale)||void 0===ae||null===(Q=ae.options)||void 0===Q?void 0:Q.firstWeekContainsDate)&&void 0!==x?x:1);if(!(ve>=1&&ve<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var fe=(0,E.default)(null!==(J=null!==(z=null!==(q=null!==(ee=F?.weekStartsOn)&&void 0!==ee?ee:null==F||null===(de=F.locale)||void 0===de||null===(Ce=de.options)||void 0===Ce?void 0:Ce.weekStartsOn)&&void 0!==q?q:pe.weekStartsOn)&&void 0!==z?z:null===(Z=pe.locale)||void 0===Z||null===(le=Z.options)||void 0===le?void 0:le.weekStartsOn)&&void 0!==J?J:0);if(!(fe>=0&&fe<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!re.localize)throw new RangeError("locale must contain localize property");if(!re.formatLong)throw new RangeError("locale must contain formatLong property");var Ie=(0,e.default)(M);if(!(0,n.default)(Ie))throw new RangeError("Invalid time value");var Ne=(0,d.default)(Ie),qe=(0,c.default)(Ie,Ne),we={firstWeekContainsDate:ve,weekStartsOn:fe,locale:re,_originalDate:Ie};return De.match(T).map(function(Ve){var et=Ve[0];return"p"===et||"P"===et?(0,g.default[et])(Ve,re.formatLong):Ve}).join("").match(I).map(function(Ve){if("''"===Ve)return"'";var et=Ve[0];if("'"===et)return function S(M){var L=M.match(R);return L?L[1].replace(u,"'"):M}(Ve);var yt=f.default[et];if(yt)return!(null!=F&&F.useAdditionalWeekYearTokens)&&(0,y.isProtectedWeekYearToken)(Ve)&&(0,y.throwProtectedError)(Ve,L,String(M)),!(null!=F&&F.useAdditionalDayOfYearTokens)&&(0,y.isProtectedDayOfYearToken)(Ve)&&(0,y.throwProtectedError)(Ve,L,String(M)),yt(qe,Ve,re.localize,we);if(et.match(w))throw new RangeError("Format string contains an unescaped latin alphabet character `"+et+"`");return Ve}).join("")};var n=i(t(15584)),c=i(t(99938)),e=i(t(53815)),f=i(t(38826)),g=i(t(90304)),d=i(t(67920)),y=t(33665),E=i(t(50128)),_=i(t(60483)),b=t(3254),O=i(t(53274)),I=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,T=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,R=/^'([^]*?)'?$/,u=/''/g,w=/[a-zA-Z]/;B.exports=D.default},3766:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function e(f){return(0,c.default)(1,arguments),f instanceof Date||"object"===(0,n.default)(f)&&"[object Date]"===Object.prototype.toString.call(f)};var n=i(t(10318)),c=i(t(60483));B.exports=D.default},15584:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function f(g){if((0,e.default)(1,arguments),!(0,n.default)(g)&&"number"!=typeof g)return!1;var d=(0,c.default)(g);return!isNaN(Number(d))};var n=i(t(3766)),c=i(t(53815)),e=i(t(60483));B.exports=D.default},66347:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function t(i){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=n.width?String(n.width):i.defaultWidth;return i.formats[c]||i.formats[i.defaultWidth]}},B.exports=D.default},23281:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function t(i){return function(n,c){var f;if("formatting"===(null!=c&&c.context?String(c.context):"standalone")&&i.formattingValues){var g=i.defaultFormattingWidth||i.defaultWidth,d=null!=c&&c.width?String(c.width):g;f=i.formattingValues[d]||i.formattingValues[g]}else{var y=i.defaultWidth,E=null!=c&&c.width?String(c.width):i.defaultWidth;f=i.values[E]||i.values[y]}return f[i.argumentCallback?i.argumentCallback(n):n]}},B.exports=D.default},51791:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function t(c){return function(e){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=f.width,y=e.match(g&&c.matchPatterns[g]||c.matchPatterns[c.defaultMatchWidth]);if(!y)return null;var O,E=y[0],_=g&&c.parsePatterns[g]||c.parsePatterns[c.defaultParseWidth],b=Array.isArray(_)?function n(c,e){for(var f=0;f<c.length;f++)if(e(c[f]))return f}(_,function(T){return T.test(E)}):function i(c,e){for(var f in c)if(c.hasOwnProperty(f)&&e(c[f]))return f}(_,function(T){return T.test(E)});return O=c.valueCallback?c.valueCallback(b):b,{value:O=f.valueCallback?f.valueCallback(O):O,rest:e.slice(E.length)}}},B.exports=D.default},91023:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function t(i){return function(n){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.match(i.matchPattern);if(!e)return null;var f=e[0],g=n.match(i.parsePattern);if(!g)return null;var d=i.valueCallback?i.valueCallback(g[0]):g[0];return{value:d=c.valueCallback?c.valueCallback(d):d,rest:n.slice(f.length)}}},B.exports=D.default},31567:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};D.default=function(e,f,g){var d,y=t[e];return d="string"==typeof y?y:1===f?y.one:y.other.replace("{{count}}",f.toString()),null!=g&&g.addSuffix?g.comparison&&g.comparison>0?"in "+d:d+" ago":d},B.exports=D.default},33146:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var n=i(t(66347)),g={date:(0,n.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,n.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,n.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};D.default=g,B.exports=D.default},24960:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};D.default=function(e,f,g,d){return t[e]},B.exports=D.default},86880:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var n=i(t(23281)),_={ordinalNumber:function(I,T){var R=Number(I),u=R%100;if(u>20||u<10)switch(u%10){case 1:return R+"st";case 2:return R+"nd";case 3:return R+"rd"}return R+"th"},era:(0,n.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,n.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(I){return I-1}}),month:(0,n.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,n.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,n.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};D.default=_,B.exports=D.default},72936:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var n=i(t(51791)),u={ordinalNumber:(0,i(t(91023)).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(S){return parseInt(S,10)}}),era:(0,n.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,n.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(S){return S+1}}),month:(0,n.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,n.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,n.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};D.default=u,B.exports=D.default},15125:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var n=i(t(31567)),c=i(t(33146)),e=i(t(24960)),f=i(t(86880)),g=i(t(72936));D.default={code:"en-US",formatDistance:n.default,formatLong:c.default,formatRelative:e.default,localize:f.default,match:g.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},B.exports=D.default},99938:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function f(g,d){(0,c.default)(2,arguments);var y=(0,e.default)(d);return(0,n.default)(g,-y)};var n=i(t(84411)),c=i(t(60483)),e=i(t(50128));B.exports=D.default},53815:(B,D,t)=>{"use strict";var i=t(85094).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function e(f){(0,c.default)(1,arguments);var g=Object.prototype.toString.call(f);return f instanceof Date||"object"===(0,n.default)(f)&&"[object Date]"===g?new Date(f.getTime()):"number"==typeof f||"[object Number]"===g?new Date(f):(("string"==typeof f||"[object String]"===g)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))};var n=i(t(10318)),c=i(t(60483));B.exports=D.default},83984:B=>{"use strict";var D=function(w){return function t(u){return!!u&&"object"==typeof u}(w)&&!function i(u){var w=Object.prototype.toString.call(u);return"[object RegExp]"===w||"[object Date]"===w||function e(u){return u.$$typeof===c}(u)}(w)},c="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function g(u,w){return!1!==w.clone&&w.isMergeableObject(u)?T(function f(u){return Array.isArray(u)?[]:{}}(u),u,w):u}function d(u,w,v){return u.concat(w).map(function(S){return g(S,v)})}function _(u){return Object.keys(u).concat(function E(u){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(u).filter(function(w){return Object.propertyIsEnumerable.call(u,w)}):[]}(u))}function b(u,w){try{return w in u}catch{return!1}}function T(u,w,v){(v=v||{}).arrayMerge=v.arrayMerge||d,v.isMergeableObject=v.isMergeableObject||D,v.cloneUnlessOtherwiseSpecified=g;var S=Array.isArray(w);return S===Array.isArray(u)?S?v.arrayMerge(u,w,v):function I(u,w,v){var S={};return v.isMergeableObject(u)&&_(u).forEach(function(M){S[M]=g(u[M],v)}),_(w).forEach(function(M){(function O(u,w){return b(u,w)&&!(Object.hasOwnProperty.call(u,w)&&Object.propertyIsEnumerable.call(u,w))})(u,M)||(S[M]=b(u,M)&&v.isMergeableObject(w[M])?function y(u,w){if(!w.customMerge)return T;var v=w.customMerge(u);return"function"==typeof v?v:T}(M,v)(u[M],w[M],v):g(w[M],v))}),S}(u,w,v):g(w,v)}T.all=function(w,v){if(!Array.isArray(w))throw new Error("first argument should be an array");return w.reduce(function(S,M){return T(S,M,v)},{})},B.exports=T},32437:function(B){B.exports=function(){"use strict";var D=/^(b|B)$/,t={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},i={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},n={floor:Math.floor,ceil:Math.ceil};function c(e){var f,g,d,y,E,_,b,O,I,T,R,u,w,v,S,M,L,F,$,j,x,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Y=[],V=0;if(isNaN(e))throw new TypeError("Invalid number");if(d=!0===G.bits,S=!0===G.unix,u=!0===G.pad,w=void 0!==G.round?G.round:S?1:2,b=void 0!==G.locale?G.locale:"",O=G.localeOptions||{},M=void 0!==G.separator?G.separator:"",L=void 0!==G.spacer?G.spacer:S?"":" ",$=G.symbols||{},F=2===(g=G.base||2)&&G.standard||"jedec",R=G.output||"string",E=!0===G.fullform,_=G.fullforms instanceof Array?G.fullforms:[],f=void 0!==G.exponent?G.exponent:-1,j=n[G.roundingMethod]||Math.round,I=(T=Number(e))<0,y=g>2?1e3:1024,x=!1===isNaN(G.precision)?parseInt(G.precision,10):0,I&&(T=-T),(-1===f||isNaN(f))&&(f=Math.floor(Math.log(T)/Math.log(y)))<0&&(f=0),f>8&&(x>0&&(x+=8-f),f=8),"exponent"===R)return f;if(0===T)Y[0]=0,v=Y[1]=S?"":t[F][d?"bits":"bytes"][f];else{V=T/(2===g?Math.pow(2,10*f):Math.pow(1e3,f)),d&&(V*=8)>=y&&f<8&&(V/=y,f++);var X=Math.pow(10,f>0?w:0);Y[0]=j(V*X)/X,Y[0]===y&&f<8&&void 0===G.exponent&&(Y[0]=1,f++),v=Y[1]=10===g&&1===f?d?"kb":"kB":t[F][d?"bits":"bytes"][f],S&&(Y[1]="jedec"===F?Y[1].charAt(0):f>0?Y[1].replace(/B$/,""):Y[1],D.test(Y[1])&&(Y[0]=Math.floor(Y[0]),Y[1]=""))}if(I&&(Y[0]=-Y[0]),x>0&&(Y[0]=Y[0].toPrecision(x)),Y[1]=$[Y[1]]||Y[1],!0===b?Y[0]=Y[0].toLocaleString():b.length>0?Y[0]=Y[0].toLocaleString(b,O):M.length>0&&(Y[0]=Y[0].toString().replace(".",M)),u&&!1===Number.isInteger(Y[0])&&w>0){var K=M||".",ae=Y[0].toString().split(K),Q=ae[1]||"",J=Q.length,z=w-J;Y[0]="".concat(ae[0]).concat(K).concat(Q.padEnd(J+z,"0"))}return E&&(Y[1]=_[f]?_[f]:i[F][f]+(d?"bit":"byte")+(1===Y[0]?"":"s")),"array"===R?Y:"object"===R?{value:Y[0],symbol:Y[1],exponent:f,unit:v}:Y.join(L)}return c.partial=function(e){return function(f){return c(f,e)}},c}()},74767:(B,D,t)=>{var i,n,c;void 0!==(n="function"==typeof(i=c=function(){function c(){for(var g=0,d={};g<arguments.length;g++){var y=arguments[g];for(var E in y)d[E]=y[E]}return d}function e(g){return g.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function f(g){function d(){}function y(_,b,O){if(!(typeof document>"u")){"number"==typeof(O=c({path:"/"},d.defaults,O)).expires&&(O.expires=new Date(1*new Date+864e5*O.expires)),O.expires=O.expires?O.expires.toUTCString():"";try{var I=JSON.stringify(b);/^[\{\[]/.test(I)&&(b=I)}catch{}b=g.write?g.write(b,_):encodeURIComponent(String(b)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),_=encodeURIComponent(String(_)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var T="";for(var R in O)O[R]&&(T+="; "+R,!0!==O[R]&&(T+="="+O[R].split(";")[0]));return document.cookie=_+"="+b+T}}function E(_,b){if(!(typeof document>"u")){for(var O={},I=document.cookie?document.cookie.split("; "):[],T=0;T<I.length;T++){var R=I[T].split("="),u=R.slice(1).join("=");!b&&'"'===u.charAt(0)&&(u=u.slice(1,-1));try{var w=e(R[0]);if(u=(g.read||g)(u,w)||e(u),b)try{u=JSON.parse(u)}catch{}if(O[w]=u,_===w)break}catch{}}return _?O[_]:O}}return d.set=y,d.get=function(_){return E(_,!1)},d.getJSON=function(_){return E(_,!0)},d.remove=function(_,b){y(_,"",c(b,{expires:-1}))},d.defaults={},d.withConverter=f,d}(function(){})})?i.call(D,t,D,B):i)&&(B.exports=n),B.exports=c()},53476:(B,D,t)=>{var c=t(12022)(t(51781),"DataView");B.exports=c},96773:(B,D,t)=>{var i=t(36232),n=t(88414),c=t(23273),e=t(23397),f=t(79565);function g(d){var y=-1,E=null==d?0:d.length;for(this.clear();++y<E;){var _=d[y];this.set(_[0],_[1])}}g.prototype.clear=i,g.prototype.delete=n,g.prototype.get=c,g.prototype.has=e,g.prototype.set=f,B.exports=g},22983:(B,D,t)=>{var i=t(5518),n=t(65864),c=t(7403),e=t(68135),f=t(99823);function g(d){var y=-1,E=null==d?0:d.length;for(this.clear();++y<E;){var _=d[y];this.set(_[0],_[1])}}g.prototype.clear=i,g.prototype.delete=n,g.prototype.get=c,g.prototype.has=e,g.prototype.set=f,B.exports=g},87191:(B,D,t)=>{var c=t(12022)(t(51781),"Map");B.exports=c},42581:(B,D,t)=>{var i=t(75032),n=t(67726),c=t(89785),e=t(75893),f=t(82781);function g(d){var y=-1,E=null==d?0:d.length;for(this.clear();++y<E;){var _=d[y];this.set(_[0],_[1])}}g.prototype.clear=i,g.prototype.delete=n,g.prototype.get=c,g.prototype.has=e,g.prototype.set=f,B.exports=g},40540:(B,D,t)=>{var c=t(12022)(t(51781),"Promise");B.exports=c},11817:(B,D,t)=>{var c=t(12022)(t(51781),"Set");B.exports=c},11475:(B,D,t)=>{var i=t(42581),n=t(99532),c=t(45099);function e(f){var g=-1,d=null==f?0:f.length;for(this.__data__=new i;++g<d;)this.add(f[g])}e.prototype.add=e.prototype.push=n,e.prototype.has=c,B.exports=e},13561:(B,D,t)=>{var i=t(22983),n=t(20340),c=t(20514),e=t(96765),f=t(35313),g=t(3769);function d(y){var E=this.__data__=new i(y);this.size=E.size}d.prototype.clear=n,d.prototype.delete=c,d.prototype.get=e,d.prototype.has=f,d.prototype.set=g,B.exports=d},10553:(B,D,t)=>{var i=t(51781);B.exports=i.Symbol},70748:(B,D,t)=>{var i=t(51781);B.exports=i.Uint8Array},42743:(B,D,t)=>{var c=t(12022)(t(51781),"WeakMap");B.exports=c},89441:B=>{B.exports=function D(t,i,n){switch(n.length){case 0:return t.call(i);case 1:return t.call(i,n[0]);case 2:return t.call(i,n[0],n[1]);case 3:return t.call(i,n[0],n[1],n[2])}return t.apply(i,n)}},74321:B=>{B.exports=function D(t,i,n,c){for(var e=-1,f=null==t?0:t.length;++e<f;){var g=t[e];i(c,g,n(g),t)}return c}},91481:B=>{B.exports=function D(t,i){for(var n=-1,c=null==t?0:t.length;++n<c&&!1!==i(t[n],n,t););return t}},57810:B=>{B.exports=function D(t,i){for(var n=-1,c=null==t?0:t.length,e=0,f=[];++n<c;){var g=t[n];i(g,n,t)&&(f[e++]=g)}return f}},36133:(B,D,t)=>{var i=t(25355);B.exports=function n(c,e){return!(null==c||!c.length)&&i(c,e,0)>-1}},44761:B=>{B.exports=function D(t,i,n){for(var c=-1,e=null==t?0:t.length;++c<e;)if(n(i,t[c]))return!0;return!1}},90191:(B,D,t)=>{var i=t(32984),n=t(48324),c=t(13737),e=t(62864),f=t(37281),g=t(24055),y=Object.prototype.hasOwnProperty;B.exports=function E(_,b){var O=c(_),I=!O&&n(_),T=!O&&!I&&e(_),R=!O&&!I&&!T&&g(_),u=O||I||T||R,w=u?i(_.length,String):[],v=w.length;for(var S in _)(b||y.call(_,S))&&(!u||!("length"==S||T&&("offset"==S||"parent"==S)||R&&("buffer"==S||"byteLength"==S||"byteOffset"==S)||f(S,v)))&&w.push(S);return w}},83308:B=>{B.exports=function D(t,i){for(var n=-1,c=null==t?0:t.length,e=Array(c);++n<c;)e[n]=i(t[n],n,t);return e}},81032:B=>{B.exports=function D(t,i){for(var n=-1,c=i.length,e=t.length;++n<c;)t[e+n]=i[n];return t}},51136:B=>{B.exports=function D(t,i){for(var n=-1,c=null==t?0:t.length;++n<c;)if(i(t[n],n,t))return!0;return!1}},22805:(B,D,t)=>{var i=t(39544),n=t(22864);B.exports=function c(e,f,g){(void 0!==g&&!n(e[f],g)||void 0===g&&!(f in e))&&i(e,f,g)}},33787:(B,D,t)=>{var i=t(39544),n=t(22864),e=Object.prototype.hasOwnProperty;B.exports=function f(g,d,y){var E=g[d];(!e.call(g,d)||!n(E,y)||void 0===y&&!(d in g))&&i(g,d,y)}},54033:(B,D,t)=>{var i=t(22864);B.exports=function n(c,e){for(var f=c.length;f--;)if(i(c[f][0],e))return f;return-1}},85125:(B,D,t)=>{var i=t(92053);B.exports=function n(c,e,f,g){return i(c,function(d,y,E){e(g,d,f(d),E)}),g}},46981:(B,D,t)=>{var i=t(69111),n=t(98982);B.exports=function c(e,f){return e&&i(f,n(f),e)}},78422:(B,D,t)=>{var i=t(69111),n=t(41521);B.exports=function c(e,f){return e&&i(f,n(f),e)}},39544:(B,D,t)=>{var i=t(62771);B.exports=function n(c,e,f){"__proto__"==e&&i?i(c,e,{configurable:!0,enumerable:!0,value:f,writable:!0}):c[e]=f}},46183:(B,D,t)=>{var i=t(13561),n=t(91481),c=t(33787),e=t(46981),f=t(78422),g=t(20258),d=t(73527),y=t(49015),E=t(22396),_=t(49482),b=t(77965),O=t(50653),I=t(74661),T=t(44631),R=t(32689),u=t(13737),w=t(62864),v=t(40890),S=t(80773),M=t(1984),L=t(98982),F=t(41521),G="[object Arguments]",ae="[object Function]",q="[object Object]",et={};et[G]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object DataView]"]=et["[object Boolean]"]=et["[object Date]"]=et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Map]"]=et["[object Number]"]=et[q]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object Symbol]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Error]"]=et[ae]=et["[object WeakMap]"]=!1,B.exports=function yt(it,at,Yt,nn,je,Re){var ne,Ee=1&at,ke=2&at,dt=4&at;if(Yt&&(ne=je?Yt(it,nn,je,Re):Yt(it)),void 0!==ne)return ne;if(!S(it))return it;var Bt=u(it);if(Bt){if(ne=I(it),!Ee)return d(it,ne)}else{var wt=O(it),tn=wt==ae||"[object GeneratorFunction]"==wt;if(w(it))return g(it,Ee);if(wt==q||wt==G||tn&&!je){if(ne=ke||tn?{}:R(it),!Ee)return ke?E(it,f(ne,it)):y(it,e(ne,it))}else{if(!et[wt])return je?it:{};ne=T(it,wt,Ee)}}Re||(Re=new i);var It=Re.get(it);if(It)return It;Re.set(it,ne),M(it)?it.forEach(function(mn){ne.add(yt(mn,at,Yt,mn,it,Re))}):v(it)&&it.forEach(function(mn,Rn){ne.set(Rn,yt(mn,at,Yt,Rn,it,Re))});var Zt=Bt?void 0:(dt?ke?b:_:ke?F:L)(it);return n(Zt||it,function(mn,Rn){Zt&&(mn=it[Rn=mn]),c(ne,Rn,yt(mn,at,Yt,Rn,it,Re))}),ne}},83496:(B,D,t)=>{var i=t(80773),n=Object.create;B.exports=function(){function e(){}return function(f){if(!i(f))return{};if(n)return n(f);e.prototype=f;var g=new e;return e.prototype=void 0,g}}()},86179:(B,D,t)=>{var i=t(11475),n=t(36133),c=t(44761),e=t(83308),f=t(69197),g=t(9707);B.exports=function y(E,_,b,O){var I=-1,T=n,R=!0,u=E.length,w=[],v=_.length;if(!u)return w;b&&(_=e(_,f(b))),O?(T=c,R=!1):_.length>=200&&(T=g,R=!1,_=new i(_));e:for(;++I<u;){var S=E[I],M=null==b?S:b(S);if(S=O||0!==S?S:0,R&&M==M){for(var L=v;L--;)if(_[L]===M)continue e;w.push(S)}else T(_,M,O)||w.push(S)}return w}},92053:(B,D,t)=>{var i=t(74009),c=t(86081)(i);B.exports=c},50035:B=>{B.exports=function D(t,i,n,c){for(var e=t.length,f=n+(c?1:-1);c?f--:++f<e;)if(i(t[f],f,t))return f;return-1}},48620:B=>{B.exports=function D(t,i,n){var c;return n(t,function(e,f,g){if(i(e,f,g))return c=f,!1}),c}},93368:(B,D,t)=>{var i=t(81032),n=t(77931);B.exports=function c(e,f,g,d,y){var E=-1,_=e.length;for(g||(g=n),y||(y=[]);++E<_;){var b=e[E];f>0&&g(b)?f>1?c(b,f-1,g,d,y):i(y,b):d||(y[y.length]=b)}return y}},26033:(B,D,t)=>{var n=t(59085)();B.exports=n},74009:(B,D,t)=>{var i=t(26033),n=t(98982);B.exports=function c(e,f){return e&&i(e,f,n)}},96262:(B,D,t)=>{var i=t(31873),n=t(4029);B.exports=function c(e,f){for(var g=0,d=(f=i(f,e)).length;null!=e&&g<d;)e=e[n(f[g++])];return g&&g==d?e:void 0}},35663:(B,D,t)=>{var i=t(81032),n=t(13737);B.exports=function c(e,f,g){var d=f(e);return n(e)?d:i(d,g(e))}},18848:(B,D,t)=>{var i=t(10553),n=t(87195),c=t(37726),g=i?i.toStringTag:void 0;B.exports=function d(y){return null==y?void 0===y?"[object Undefined]":"[object Null]":g&&g in Object(y)?n(y):c(y)}},45669:B=>{B.exports=function D(t,i){return null!=t&&i in Object(t)}},25355:(B,D,t)=>{var i=t(50035),n=t(79983),c=t(20695);B.exports=function e(f,g,d){return g==g?c(f,g,d):i(f,n,d)}},50278:(B,D,t)=>{var i=t(18848),n=t(78322);B.exports=function e(f){return n(f)&&"[object Arguments]"==i(f)}},79254:(B,D,t)=>{var i=t(59812),n=t(78322);B.exports=function c(e,f,g,d,y){return e===f||(null==e||null==f||!n(e)&&!n(f)?e!=e&&f!=f:i(e,f,g,d,c,y))}},59812:(B,D,t)=>{var i=t(13561),n=t(94463),c=t(58298),e=t(13449),f=t(50653),g=t(13737),d=t(62864),y=t(24055),_="[object Arguments]",b="[object Array]",O="[object Object]",T=Object.prototype.hasOwnProperty;B.exports=function R(u,w,v,S,M,L){var F=g(u),$=g(w),j=F?b:f(u),x=$?b:f(w),G=(j=j==_?O:j)==O,Y=(x=x==_?O:x)==O,V=j==x;if(V&&d(u)){if(!d(w))return!1;F=!0,G=!1}if(V&&!G)return L||(L=new i),F||y(u)?n(u,w,v,S,M,L):c(u,w,j,v,S,M,L);if(!(1&v)){var X=G&&T.call(u,"__wrapped__"),K=Y&&T.call(w,"__wrapped__");if(X||K){var ae=X?u.value():u,Q=K?w.value():w;return L||(L=new i),M(ae,Q,v,S,L)}}return!!V&&(L||(L=new i),e(u,w,v,S,M,L))}},82652:(B,D,t)=>{var i=t(50653),n=t(78322);B.exports=function e(f){return n(f)&&"[object Map]"==i(f)}},15839:(B,D,t)=>{var i=t(13561),n=t(79254);B.exports=function f(g,d,y,E){var _=y.length,b=_,O=!E;if(null==g)return!b;for(g=Object(g);_--;){var I=y[_];if(O&&I[2]?I[1]!==g[I[0]]:!(I[0]in g))return!1}for(;++_<b;){var T=(I=y[_])[0],R=g[T],u=I[1];if(O&&I[2]){if(void 0===R&&!(T in g))return!1}else{var w=new i;if(E)var v=E(R,u,T,g,d,w);if(!(void 0===v?n(u,R,3,E,w):v))return!1}}return!0}},79983:B=>{B.exports=function D(t){return t!=t}},13123:(B,D,t)=>{var i=t(8322),n=t(26184),c=t(80773),e=t(1673),g=/^\[object .+?Constructor\]$/,b=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");B.exports=function O(I){return!(!c(I)||n(I))&&(i(I)?b:g).test(e(I))}},71550:(B,D,t)=>{var i=t(50653),n=t(78322);B.exports=function e(f){return n(f)&&"[object Set]"==i(f)}},13562:(B,D,t)=>{var i=t(18848),n=t(59726),c=t(78322),V={};V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V["[object Arguments]"]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object Boolean]"]=V["[object DataView]"]=V["[object Date]"]=V["[object Error]"]=V["[object Function]"]=V["[object Map]"]=V["[object Number]"]=V["[object Object]"]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object WeakMap]"]=!1,B.exports=function X(K){return c(K)&&n(K.length)&&!!V[i(K)]}},20901:(B,D,t)=>{var i=t(44935),n=t(98098),c=t(50328),e=t(13737),f=t(70575);B.exports=function g(d){return"function"==typeof d?d:null==d?c:"object"==typeof d?e(d)?n(d[0],d[1]):i(d):f(d)}},26608:(B,D,t)=>{var i=t(76655),n=t(55866),e=Object.prototype.hasOwnProperty;B.exports=function f(g){if(!i(g))return n(g);var d=[];for(var y in Object(g))e.call(g,y)&&"constructor"!=y&&d.push(y);return d}},94719:(B,D,t)=>{var i=t(80773),n=t(76655),c=t(83517),f=Object.prototype.hasOwnProperty;B.exports=function g(d){if(!i(d))return c(d);var y=n(d),E=[];for(var _ in d)"constructor"==_&&(y||!f.call(d,_))||E.push(_);return E}},64320:(B,D,t)=>{var i=t(92053),n=t(63766);B.exports=function c(e,f){var g=-1,d=n(e)?Array(e.length):[];return i(e,function(y,E,_){d[++g]=f(y,E,_)}),d}},44935:(B,D,t)=>{var i=t(15839),n=t(60976),c=t(68229);B.exports=function e(f){var g=n(f);return 1==g.length&&g[0][2]?c(g[0][0],g[0][1]):function(d){return d===f||i(d,f,g)}}},98098:(B,D,t)=>{var i=t(79254),n=t(94452),c=t(5903),e=t(24674),f=t(9708),g=t(68229),d=t(4029);B.exports=function _(b,O){return e(b)&&f(O)?g(d(b),O):function(I){var T=n(I,b);return void 0===T&&T===O?c(I,b):i(O,T,3)}}},27802:(B,D,t)=>{var i=t(13561),n=t(22805),c=t(26033),e=t(480),f=t(80773),g=t(41521),d=t(92326);B.exports=function y(E,_,b,O,I){E!==_&&c(_,function(T,R){if(I||(I=new i),f(T))e(E,_,R,b,y,O,I);else{var u=O?O(d(E,R),T,R+"",E,_,I):void 0;void 0===u&&(u=T),n(E,R,u)}},g)}},480:(B,D,t)=>{var i=t(22805),n=t(20258),c=t(41233),e=t(73527),f=t(32689),g=t(48324),d=t(13737),y=t(28261),E=t(62864),_=t(8322),b=t(80773),O=t(82315),I=t(24055),T=t(92326),R=t(18692);B.exports=function u(w,v,S,M,L,F,$){var j=T(w,S),x=T(v,S),G=$.get(x);if(G)i(w,S,G);else{var Y=F?F(j,x,S+"",w,v,$):void 0,V=void 0===Y;if(V){var X=d(x),K=!X&&E(x),ae=!X&&!K&&I(x);Y=x,X||K||ae?d(j)?Y=j:y(j)?Y=e(j):K?(V=!1,Y=n(x,!0)):ae?(V=!1,Y=c(x,!0)):Y=[]:O(x)||g(x)?(Y=j,g(j)?Y=R(j):(!b(j)||_(j))&&(Y=f(x))):V=!1}V&&($.set(x,Y),L(Y,x,M,F,$),$.delete(x)),i(w,S,Y)}}},3027:(B,D,t)=>{var i=t(83308),n=t(96262),c=t(20901),e=t(64320),f=t(1833),g=t(69197),d=t(87498),y=t(50328),E=t(13737);B.exports=function _(b,O,I){O=O.length?i(O,function(u){return E(u)?function(w){return n(w,1===u.length?u[0]:u)}:u}):[y];var T=-1;O=i(O,g(c));var R=e(b,function(u,w,v){return{criteria:i(O,function(M){return M(u)}),index:++T,value:u}});return f(R,function(u,w){return d(u,w,I)})}},30589:B=>{B.exports=function D(t){return function(i){return i?.[t]}}},40383:(B,D,t)=>{var i=t(96262);B.exports=function n(c){return function(e){return i(e,c)}}},2158:(B,D,t)=>{var i=t(50328),n=t(64221),c=t(6169);B.exports=function e(f,g){return c(n(f,g,i),f+"")}},19466:(B,D,t)=>{var i=t(48286),n=t(62771),c=t(50328);B.exports=n?function(f,g){return n(f,"toString",{configurable:!0,enumerable:!1,value:i(g),writable:!0})}:c},1833:B=>{B.exports=function D(t,i){var n=t.length;for(t.sort(i);n--;)t[n]=t[n].value;return t}},32984:B=>{B.exports=function D(t,i){for(var n=-1,c=Array(t);++n<t;)c[n]=i(n);return c}},28028:(B,D,t)=>{var i=t(10553),n=t(83308),c=t(13737),e=t(33394),g=i?i.prototype:void 0,d=g?g.toString:void 0;B.exports=function y(E){if("string"==typeof E)return E;if(c(E))return n(E,y)+"";if(e(E))return d?d.call(E):"";var _=E+"";return"0"==_&&1/E==-1/0?"-0":_}},75464:(B,D,t)=>{var i=t(37648),n=/^\s+/;B.exports=function c(e){return e&&e.slice(0,i(e)+1).replace(n,"")}},69197:B=>{B.exports=function D(t){return function(i){return t(i)}}},2733:(B,D,t)=>{var i=t(11475),n=t(36133),c=t(44761),e=t(9707),f=t(45837),g=t(47823);B.exports=function y(E,_,b){var O=-1,I=n,T=E.length,R=!0,u=[],w=u;if(b)R=!1,I=c;else if(T>=200){var v=_?null:f(E);if(v)return g(v);R=!1,I=e,w=new i}else w=_?[]:u;e:for(;++O<T;){var S=E[O],M=_?_(S):S;if(S=b||0!==S?S:0,R&&M==M){for(var L=w.length;L--;)if(w[L]===M)continue e;_&&w.push(M),u.push(S)}else I(w,M,b)||(w!==u&&w.push(M),u.push(S))}return u}},9707:B=>{B.exports=function D(t,i){return t.has(i)}},31873:(B,D,t)=>{var i=t(13737),n=t(24674),c=t(43554),e=t(11918);B.exports=function f(g,d){return i(g)?g:n(g,d)?[g]:c(e(g))}},39981:(B,D,t)=>{var i=t(70748);B.exports=function n(c){var e=new c.constructor(c.byteLength);return new i(e).set(new i(c)),e}},20258:(B,D,t)=>{B=t.nmd(B);var i=t(51781),n=D&&!D.nodeType&&D,c=n&&B&&!B.nodeType&&B,f=c&&c.exports===n?i.Buffer:void 0,g=f?f.allocUnsafe:void 0;B.exports=function d(y,E){if(E)return y.slice();var _=y.length,b=g?g(_):new y.constructor(_);return y.copy(b),b}},63057:(B,D,t)=>{var i=t(39981);B.exports=function n(c,e){var f=e?i(c.buffer):c.buffer;return new c.constructor(f,c.byteOffset,c.byteLength)}},77081:B=>{var D=/\w*$/;B.exports=function t(i){var n=new i.constructor(i.source,D.exec(i));return n.lastIndex=i.lastIndex,n}},28160:(B,D,t)=>{var i=t(10553),n=i?i.prototype:void 0,c=n?n.valueOf:void 0;B.exports=function e(f){return c?Object(c.call(f)):{}}},41233:(B,D,t)=>{var i=t(39981);B.exports=function n(c,e){var f=e?i(c.buffer):c.buffer;return new c.constructor(f,c.byteOffset,c.length)}},28714:(B,D,t)=>{var i=t(33394);B.exports=function n(c,e){if(c!==e){var f=void 0!==c,g=null===c,d=c==c,y=i(c),E=void 0!==e,_=null===e,b=e==e,O=i(e);if(!_&&!O&&!y&&c>e||y&&E&&b&&!_&&!O||g&&E&&b||!f&&b||!d)return 1;if(!g&&!y&&!O&&c<e||O&&f&&d&&!g&&!y||_&&f&&d||!E&&d||!b)return-1}return 0}},87498:(B,D,t)=>{var i=t(28714);B.exports=function n(c,e,f){for(var g=-1,d=c.criteria,y=e.criteria,E=d.length,_=f.length;++g<E;){var b=i(d[g],y[g]);if(b)return g>=_?b:b*("desc"==f[g]?-1:1)}return c.index-e.index}},73527:B=>{B.exports=function D(t,i){var n=-1,c=t.length;for(i||(i=Array(c));++n<c;)i[n]=t[n];return i}},69111:(B,D,t)=>{var i=t(33787),n=t(39544);B.exports=function c(e,f,g,d){var y=!g;g||(g={});for(var E=-1,_=f.length;++E<_;){var b=f[E],O=d?d(g[b],e[b],b,g,e):void 0;void 0===O&&(O=e[b]),y?n(g,b,O):i(g,b,O)}return g}},49015:(B,D,t)=>{var i=t(69111),n=t(34800);B.exports=function c(e,f){return i(e,n(e),f)}},22396:(B,D,t)=>{var i=t(69111),n=t(51167);B.exports=function c(e,f){return i(e,n(e),f)}},6513:(B,D,t)=>{var i=t(51781);B.exports=i["__core-js_shared__"]},28536:(B,D,t)=>{var i=t(74321),n=t(85125),c=t(20901),e=t(13737);B.exports=function f(g,d){return function(y,E){var _=e(y)?i:n,b=d?d():{};return _(y,g,c(E,2),b)}}},62847:(B,D,t)=>{var i=t(2158),n=t(83352);B.exports=function c(e){return i(function(f,g){var d=-1,y=g.length,E=y>1?g[y-1]:void 0,_=y>2?g[2]:void 0;for(E=e.length>3&&"function"==typeof E?(y--,E):void 0,_&&n(g[0],g[1],_)&&(E=y<3?void 0:E,y=1),f=Object(f);++d<y;){var b=g[d];b&&e(f,b,d,E)}return f})}},86081:(B,D,t)=>{var i=t(63766);B.exports=function n(c,e){return function(f,g){if(null==f)return f;if(!i(f))return c(f,g);for(var d=f.length,y=e?d:-1,E=Object(f);(e?y--:++y<d)&&!1!==g(E[y],y,E););return f}}},59085:B=>{B.exports=function D(t){return function(i,n,c){for(var e=-1,f=Object(i),g=c(i),d=g.length;d--;){var y=g[t?d:++e];if(!1===n(f[y],y,f))break}return i}}},45837:(B,D,t)=>{var i=t(11817),n=t(62038),c=t(47823),f=i&&1/c(new i([,-0]))[1]==1/0?function(g){return new i(g)}:n;B.exports=f},62771:(B,D,t)=>{var i=t(12022),n=function(){try{var c=i(Object,"defineProperty");return c({},"",{}),c}catch{}}();B.exports=n},94463:(B,D,t)=>{var i=t(11475),n=t(51136),c=t(9707);B.exports=function g(d,y,E,_,b,O){var I=1&E,T=d.length,R=y.length;if(T!=R&&!(I&&R>T))return!1;var u=O.get(d),w=O.get(y);if(u&&w)return u==y&&w==d;var v=-1,S=!0,M=2&E?new i:void 0;for(O.set(d,y),O.set(y,d);++v<T;){var L=d[v],F=y[v];if(_)var $=I?_(F,L,v,y,d,O):_(L,F,v,d,y,O);if(void 0!==$){if($)continue;S=!1;break}if(M){if(!n(y,function(j,x){if(!c(M,x)&&(L===j||b(L,j,E,_,O)))return M.push(x)})){S=!1;break}}else if(L!==F&&!b(L,F,E,_,O)){S=!1;break}}return O.delete(d),O.delete(y),S}},58298:(B,D,t)=>{var i=t(10553),n=t(70748),c=t(22864),e=t(94463),f=t(14117),g=t(47823),M=i?i.prototype:void 0,L=M?M.valueOf:void 0;B.exports=function F($,j,x,G,Y,V,X){switch(x){case"[object DataView]":if($.byteLength!=j.byteLength||$.byteOffset!=j.byteOffset)return!1;$=$.buffer,j=j.buffer;case"[object ArrayBuffer]":return!($.byteLength!=j.byteLength||!V(new n($),new n(j)));case"[object Boolean]":case"[object Date]":case"[object Number]":return c(+$,+j);case"[object Error]":return $.name==j.name&&$.message==j.message;case"[object RegExp]":case"[object String]":return $==j+"";case"[object Map]":var K=f;case"[object Set]":if(K||(K=g),$.size!=j.size&&!(1&G))return!1;var Q=X.get($);if(Q)return Q==j;G|=2,X.set($,j);var J=e(K($),K(j),G,Y,V,X);return X.delete($),J;case"[object Symbol]":if(L)return L.call($)==L.call(j)}return!1}},13449:(B,D,t)=>{var i=t(49482),e=Object.prototype.hasOwnProperty;B.exports=function f(g,d,y,E,_,b){var O=1&y,I=i(g),T=I.length;if(T!=i(d).length&&!O)return!1;for(var w=T;w--;){var v=I[w];if(!(O?v in d:e.call(d,v)))return!1}var S=b.get(g),M=b.get(d);if(S&&M)return S==d&&M==g;var L=!0;b.set(g,d),b.set(d,g);for(var F=O;++w<T;){var $=g[v=I[w]],j=d[v];if(E)var x=O?E(j,$,v,d,g,b):E($,j,v,g,d,b);if(!(void 0===x?$===j||_($,j,y,E,b):x)){L=!1;break}F||(F="constructor"==v)}if(L&&!F){var G=g.constructor,Y=d.constructor;G!=Y&&"constructor"in g&&"constructor"in d&&!("function"==typeof G&&G instanceof G&&"function"==typeof Y&&Y instanceof Y)&&(L=!1)}return b.delete(g),b.delete(d),L}},31296:B=>{var D="object"==typeof global&&global&&global.Object===Object&&global;B.exports=D},49482:(B,D,t)=>{var i=t(35663),n=t(34800),c=t(98982);B.exports=function e(f){return i(f,c,n)}},77965:(B,D,t)=>{var i=t(35663),n=t(51167),c=t(41521);B.exports=function e(f){return i(f,c,n)}},72307:(B,D,t)=>{var i=t(22002);B.exports=function n(c,e){var f=c.__data__;return i(e)?f["string"==typeof e?"string":"hash"]:f.map}},60976:(B,D,t)=>{var i=t(9708),n=t(98982);B.exports=function c(e){for(var f=n(e),g=f.length;g--;){var d=f[g],y=e[d];f[g]=[d,y,i(y)]}return f}},12022:(B,D,t)=>{var i=t(13123),n=t(45120);B.exports=function c(e,f){var g=n(e,f);return i(g)?g:void 0}},20087:(B,D,t)=>{var n=t(5815)(Object.getPrototypeOf,Object);B.exports=n},87195:(B,D,t)=>{var i=t(10553),n=Object.prototype,c=n.hasOwnProperty,e=n.toString,f=i?i.toStringTag:void 0;B.exports=function g(d){var y=c.call(d,f),E=d[f];try{d[f]=void 0;var _=!0}catch{}var b=e.call(d);return _&&(y?d[f]=E:delete d[f]),b}},34800:(B,D,t)=>{var i=t(57810),n=t(42025),e=Object.prototype.propertyIsEnumerable,f=Object.getOwnPropertySymbols;B.exports=f?function(d){return null==d?[]:(d=Object(d),i(f(d),function(y){return e.call(d,y)}))}:n},51167:(B,D,t)=>{var i=t(81032),n=t(20087),c=t(34800),e=t(42025);B.exports=Object.getOwnPropertySymbols?function(d){for(var y=[];d;)i(y,c(d)),d=n(d);return y}:e},50653:(B,D,t)=>{var i=t(53476),n=t(87191),c=t(40540),e=t(11817),f=t(42743),g=t(18848),d=t(1673),y="[object Map]",_="[object Promise]",b="[object Set]",O="[object WeakMap]",I="[object DataView]",T=d(i),R=d(n),u=d(c),w=d(e),v=d(f),S=g;(i&&S(new i(new ArrayBuffer(1)))!=I||n&&S(new n)!=y||c&&S(c.resolve())!=_||e&&S(new e)!=b||f&&S(new f)!=O)&&(S=function(M){var L=g(M),F="[object Object]"==L?M.constructor:void 0,$=F?d(F):"";if($)switch($){case T:return I;case R:return y;case u:return _;case w:return b;case v:return O}return L}),B.exports=S},45120:B=>{B.exports=function D(t,i){return t?.[i]}},61718:(B,D,t)=>{var i=t(31873),n=t(48324),c=t(13737),e=t(37281),f=t(59726),g=t(4029);B.exports=function d(y,E,_){for(var b=-1,O=(E=i(E,y)).length,I=!1;++b<O;){var T=g(E[b]);if(!(I=null!=y&&_(y,T)))break;y=y[T]}return I||++b!=O?I:!!(O=null==y?0:y.length)&&f(O)&&e(T,O)&&(c(y)||n(y))}},36232:(B,D,t)=>{var i=t(89322);B.exports=function n(){this.__data__=i?i(null):{},this.size=0}},88414:B=>{B.exports=function D(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i}},23273:(B,D,t)=>{var i=t(89322),e=Object.prototype.hasOwnProperty;B.exports=function f(g){var d=this.__data__;if(i){var y=d[g];return"__lodash_hash_undefined__"===y?void 0:y}return e.call(d,g)?d[g]:void 0}},23397:(B,D,t)=>{var i=t(89322),c=Object.prototype.hasOwnProperty;B.exports=function e(f){var g=this.__data__;return i?void 0!==g[f]:c.call(g,f)}},79565:(B,D,t)=>{var i=t(89322);B.exports=function c(e,f){var g=this.__data__;return this.size+=this.has(e)?0:1,g[e]=i&&void 0===f?"__lodash_hash_undefined__":f,this}},74661:B=>{var t=Object.prototype.hasOwnProperty;B.exports=function i(n){var c=n.length,e=new n.constructor(c);return c&&"string"==typeof n[0]&&t.call(n,"index")&&(e.index=n.index,e.input=n.input),e}},44631:(B,D,t)=>{var i=t(39981),n=t(63057),c=t(77081),e=t(28160),f=t(41233);B.exports=function x(G,Y,V){var X=G.constructor;switch(Y){case"[object ArrayBuffer]":return i(G);case"[object Boolean]":case"[object Date]":return new X(+G);case"[object DataView]":return n(G,V);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return f(G,V);case"[object Map]":case"[object Set]":return new X;case"[object Number]":case"[object String]":return new X(G);case"[object RegExp]":return c(G);case"[object Symbol]":return e(G)}}},32689:(B,D,t)=>{var i=t(83496),n=t(20087),c=t(76655);B.exports=function e(f){return"function"!=typeof f.constructor||c(f)?{}:i(n(f))}},77931:(B,D,t)=>{var i=t(10553),n=t(48324),c=t(13737),e=i?i.isConcatSpreadable:void 0;B.exports=function f(g){return c(g)||n(g)||!!(e&&g&&g[e])}},37281:B=>{var t=/^(?:0|[1-9]\d*)$/;B.exports=function i(n,c){var e=typeof n;return!!(c=c??9007199254740991)&&("number"==e||"symbol"!=e&&t.test(n))&&n>-1&&n%1==0&&n<c}},83352:(B,D,t)=>{var i=t(22864),n=t(63766),c=t(37281),e=t(80773);B.exports=function f(g,d,y){if(!e(y))return!1;var E=typeof d;return!!("number"==E?n(y)&&c(d,y.length):"string"==E&&d in y)&&i(y[d],g)}},24674:(B,D,t)=>{var i=t(13737),n=t(33394),c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e=/^\w*$/;B.exports=function f(g,d){if(i(g))return!1;var y=typeof g;return!("number"!=y&&"symbol"!=y&&"boolean"!=y&&null!=g&&!n(g))||e.test(g)||!c.test(g)||null!=d&&g in Object(d)}},22002:B=>{B.exports=function D(t){var i=typeof t;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==t:null===t}},26184:(B,D,t)=>{var e,i=t(6513),n=(e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";B.exports=function c(e){return!!n&&n in e}},76655:B=>{var D=Object.prototype;B.exports=function t(i){var n=i&&i.constructor;return i===("function"==typeof n&&n.prototype||D)}},9708:(B,D,t)=>{var i=t(80773);B.exports=function n(c){return c==c&&!i(c)}},5518:B=>{B.exports=function D(){this.__data__=[],this.size=0}},65864:(B,D,t)=>{var i=t(54033),c=Array.prototype.splice;B.exports=function e(f){var g=this.__data__,d=i(g,f);return!(d<0||(d==g.length-1?g.pop():c.call(g,d,1),--this.size,0))}},7403:(B,D,t)=>{var i=t(54033);B.exports=function n(c){var e=this.__data__,f=i(e,c);return f<0?void 0:e[f][1]}},68135:(B,D,t)=>{var i=t(54033);B.exports=function n(c){return i(this.__data__,c)>-1}},99823:(B,D,t)=>{var i=t(54033);B.exports=function n(c,e){var f=this.__data__,g=i(f,c);return g<0?(++this.size,f.push([c,e])):f[g][1]=e,this}},75032:(B,D,t)=>{var i=t(96773),n=t(22983),c=t(87191);B.exports=function e(){this.size=0,this.__data__={hash:new i,map:new(c||n),string:new i}}},67726:(B,D,t)=>{var i=t(72307);B.exports=function n(c){var e=i(this,c).delete(c);return this.size-=e?1:0,e}},89785:(B,D,t)=>{var i=t(72307);B.exports=function n(c){return i(this,c).get(c)}},75893:(B,D,t)=>{var i=t(72307);B.exports=function n(c){return i(this,c).has(c)}},82781:(B,D,t)=>{var i=t(72307);B.exports=function n(c,e){var f=i(this,c),g=f.size;return f.set(c,e),this.size+=f.size==g?0:1,this}},14117:B=>{B.exports=function D(t){var i=-1,n=Array(t.size);return t.forEach(function(c,e){n[++i]=[e,c]}),n}},68229:B=>{B.exports=function D(t,i){return function(n){return null!=n&&n[t]===i&&(void 0!==i||t in Object(n))}}},2760:(B,D,t)=>{var i=t(6704);B.exports=function c(e){var f=i(e,function(d){return 500===g.size&&g.clear(),d}),g=f.cache;return f}},89322:(B,D,t)=>{var n=t(12022)(Object,"create");B.exports=n},55866:(B,D,t)=>{var n=t(5815)(Object.keys,Object);B.exports=n},83517:B=>{B.exports=function D(t){var i=[];if(null!=t)for(var n in Object(t))i.push(n);return i}},2161:(B,D,t)=>{B=t.nmd(B);var i=t(31296),n=D&&!D.nodeType&&D,c=n&&B&&!B.nodeType&&B,f=c&&c.exports===n&&i.process,g=function(){try{return c&&c.require&&c.require("util").types||f&&f.binding&&f.binding("util")}catch{}}();B.exports=g},37726:B=>{var t=Object.prototype.toString;B.exports=function i(n){return t.call(n)}},5815:B=>{B.exports=function D(t,i){return function(n){return t(i(n))}}},64221:(B,D,t)=>{var i=t(89441),n=Math.max;B.exports=function c(e,f,g){return f=n(void 0===f?e.length-1:f,0),function(){for(var d=arguments,y=-1,E=n(d.length-f,0),_=Array(E);++y<E;)_[y]=d[f+y];y=-1;for(var b=Array(f+1);++y<f;)b[y]=d[y];return b[f]=g(_),i(e,this,b)}}},51781:(B,D,t)=>{var i=t(31296),n="object"==typeof self&&self&&self.Object===Object&&self,c=i||n||Function("return this")();B.exports=c},92326:B=>{B.exports=function D(t,i){if(("constructor"!==i||"function"!=typeof t[i])&&"__proto__"!=i)return t[i]}},99532:B=>{B.exports=function t(i){return this.__data__.set(i,"__lodash_hash_undefined__"),this}},45099:B=>{B.exports=function D(t){return this.__data__.has(t)}},47823:B=>{B.exports=function D(t){var i=-1,n=Array(t.size);return t.forEach(function(c){n[++i]=c}),n}},6169:(B,D,t)=>{var i=t(19466),c=t(36651)(i);B.exports=c},36651:B=>{var i=Date.now;B.exports=function n(c){var e=0,f=0;return function(){var g=i(),d=16-(g-f);if(f=g,d>0){if(++e>=800)return arguments[0]}else e=0;return c.apply(void 0,arguments)}}},20340:(B,D,t)=>{var i=t(22983);B.exports=function n(){this.__data__=new i,this.size=0}},20514:B=>{B.exports=function D(t){var i=this.__data__,n=i.delete(t);return this.size=i.size,n}},96765:B=>{B.exports=function D(t){return this.__data__.get(t)}},35313:B=>{B.exports=function D(t){return this.__data__.has(t)}},3769:(B,D,t)=>{var i=t(22983),n=t(87191),c=t(42581);B.exports=function f(g,d){var y=this.__data__;if(y instanceof i){var E=y.__data__;if(!n||E.length<199)return E.push([g,d]),this.size=++y.size,this;y=this.__data__=new c(E)}return y.set(g,d),this.size=y.size,this}},20695:B=>{B.exports=function D(t,i,n){for(var c=n-1,e=t.length;++c<e;)if(t[c]===i)return c;return-1}},43554:(B,D,t)=>{var i=t(2760),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,e=i(function(f){var g=[];return 46===f.charCodeAt(0)&&g.push(""),f.replace(n,function(d,y,E,_){g.push(E?_.replace(c,"$1"):y||d)}),g});B.exports=e},4029:(B,D,t)=>{var i=t(33394);B.exports=function c(e){if("string"==typeof e||i(e))return e;var f=e+"";return"0"==f&&1/e==-1/0?"-0":f}},1673:B=>{var t=Function.prototype.toString;B.exports=function i(n){if(null!=n){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}},37648:B=>{var D=/\s/;B.exports=function t(i){for(var n=i.length;n--&&D.test(i.charAt(n)););return n}},87599:(B,D,t)=>{var i=t(46183);B.exports=function e(f){return i(f,5)}},48286:B=>{B.exports=function D(t){return function(){return t}}},27269:(B,D,t)=>{var i=t(80773),n=t(86164),c=t(30870),f=Math.max,g=Math.min;B.exports=function d(y,E,_){var b,O,I,T,R,u,w=0,v=!1,S=!1,M=!0;if("function"!=typeof y)throw new TypeError("Expected a function");function L(K){var ae=b,Q=O;return b=O=void 0,w=K,T=y.apply(Q,ae)}function j(K){var ae=K-u;return void 0===u||ae>=E||ae<0||S&&K-w>=I}function x(){var K=n();if(j(K))return G(K);R=setTimeout(x,function $(K){var J=E-(K-u);return S?g(J,I-(K-w)):J}(K))}function G(K){return R=void 0,M&&b?L(K):(b=O=void 0,T)}function X(){var K=n(),ae=j(K);if(b=arguments,O=this,u=K,ae){if(void 0===R)return function F(K){return w=K,R=setTimeout(x,E),v?L(K):T}(u);if(S)return clearTimeout(R),R=setTimeout(x,E),L(u)}return void 0===R&&(R=setTimeout(x,E)),T}return E=c(E)||0,i(_)&&(v=!!_.leading,I=(S="maxWait"in _)?f(c(_.maxWait)||0,E):I,M="trailing"in _?!!_.trailing:M),X.cancel=function Y(){void 0!==R&&clearTimeout(R),w=0,b=u=O=R=void 0},X.flush=function V(){return void 0===R?T:G(n())},X}},53085:(B,D,t)=>{var i=t(86179),n=t(93368),c=t(2158),e=t(28261),f=c(function(g,d){return e(g)?i(g,n(d,1,e,!0)):[]});B.exports=f},3601:(B,D,t)=>{var i=t(86179),n=t(93368),c=t(2158),e=t(28261),f=t(16290),g=c(function(d,y){var E=f(y);return e(E)&&(E=void 0),e(d)?i(d,n(y,1,e,!0),void 0,E):[]});B.exports=g},22864:B=>{B.exports=function D(t,i){return t===i||t!=t&&i!=i}},83649:(B,D,t)=>{var i=t(50035),n=t(20901),c=t(12265),e=Math.max;B.exports=function f(g,d,y){var E=null==g?0:g.length;if(!E)return-1;var _=null==y?0:c(y);return _<0&&(_=e(E+_,0)),i(g,n(d,3),_)}},18210:(B,D,t)=>{var i=t(48620),n=t(74009),c=t(20901);B.exports=function e(f,g){return i(f,c(g,3),n)}},94452:(B,D,t)=>{var i=t(96262);B.exports=function n(c,e,f){var g=null==c?void 0:i(c,e);return void 0===g?f:g}},59842:(B,D,t)=>{var i=t(39544),n=t(28536),e=Object.prototype.hasOwnProperty,f=n(function(g,d,y){e.call(g,y)?g[y].push(d):i(g,y,[d])});B.exports=f},5903:(B,D,t)=>{var i=t(45669),n=t(61718);B.exports=function c(e,f){return null!=e&&n(e,f,i)}},50328:B=>{B.exports=function D(t){return t}},48324:(B,D,t)=>{var i=t(50278),n=t(78322),c=Object.prototype,e=c.hasOwnProperty,f=c.propertyIsEnumerable,g=i(function(){return arguments}())?i:function(d){return n(d)&&e.call(d,"callee")&&!f.call(d,"callee")};B.exports=g},13737:B=>{B.exports=Array.isArray},63766:(B,D,t)=>{var i=t(8322),n=t(59726);B.exports=function c(e){return null!=e&&n(e.length)&&!i(e)}},28261:(B,D,t)=>{var i=t(63766),n=t(78322);B.exports=function c(e){return n(e)&&i(e)}},62864:(B,D,t)=>{B=t.nmd(B);var i=t(51781),n=t(6023),c=D&&!D.nodeType&&D,e=c&&B&&!B.nodeType&&B,g=e&&e.exports===c?i.Buffer:void 0;B.exports=(g?g.isBuffer:void 0)||n},75884:(B,D,t)=>{var i=t(79254);B.exports=function n(c,e){return i(c,e)}},8322:(B,D,t)=>{var i=t(18848),n=t(80773);B.exports=function d(y){if(!n(y))return!1;var E=i(y);return"[object Function]"==E||"[object GeneratorFunction]"==E||"[object AsyncFunction]"==E||"[object Proxy]"==E}},59726:B=>{B.exports=function t(i){return"number"==typeof i&&i>-1&&i%1==0&&i<=9007199254740991}},40890:(B,D,t)=>{var i=t(82652),n=t(69197),c=t(2161),e=c&&c.isMap,f=e?n(e):i;B.exports=f},80773:B=>{B.exports=function D(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)}},78322:B=>{B.exports=function D(t){return null!=t&&"object"==typeof t}},82315:(B,D,t)=>{var i=t(18848),n=t(20087),c=t(78322),d=Function.prototype.toString,y=Object.prototype.hasOwnProperty,E=d.call(Object);B.exports=function _(b){if(!c(b)||"[object Object]"!=i(b))return!1;var O=n(b);if(null===O)return!0;var I=y.call(O,"constructor")&&O.constructor;return"function"==typeof I&&I instanceof I&&d.call(I)==E}},1984:(B,D,t)=>{var i=t(71550),n=t(69197),c=t(2161),e=c&&c.isSet,f=e?n(e):i;B.exports=f},92671:(B,D,t)=>{var i=t(18848),n=t(13737),c=t(78322);B.exports=function f(g){return"string"==typeof g||!n(g)&&c(g)&&"[object String]"==i(g)}},33394:(B,D,t)=>{var i=t(18848),n=t(78322);B.exports=function e(f){return"symbol"==typeof f||n(f)&&"[object Symbol]"==i(f)}},24055:(B,D,t)=>{var i=t(13562),n=t(69197),c=t(2161),e=c&&c.isTypedArray,f=e?n(e):i;B.exports=f},98982:(B,D,t)=>{var i=t(90191),n=t(26608),c=t(63766);B.exports=function e(f){return c(f)?i(f):n(f)}},41521:(B,D,t)=>{var i=t(90191),n=t(94719),c=t(63766);B.exports=function e(f){return c(f)?i(f,!0):n(f)}},16290:B=>{B.exports=function D(t){var i=null==t?0:t.length;return i?t[i-1]:void 0}},6704:(B,D,t)=>{var i=t(42581);function c(e,f){if("function"!=typeof e||null!=f&&"function"!=typeof f)throw new TypeError("Expected a function");var g=function(){var d=arguments,y=f?f.apply(this,d):d[0],E=g.cache;if(E.has(y))return E.get(y);var _=e.apply(this,d);return g.cache=E.set(y,_)||E,_};return g.cache=new(c.Cache||i),g}c.Cache=i,B.exports=c},82884:(B,D,t)=>{var i=t(27802),c=t(62847)(function(e,f,g,d){i(e,f,g,d)});B.exports=c},62038:B=>{B.exports=function D(){}},86164:(B,D,t)=>{var i=t(51781);B.exports=function(){return i.Date.now()}},70575:(B,D,t)=>{var i=t(30589),n=t(40383),c=t(24674),e=t(4029);B.exports=function f(g){return c(g)?i(e(g)):n(g)}},41631:(B,D,t)=>{var i=t(93368),n=t(3027),c=t(2158),e=t(83352),f=c(function(g,d){if(null==g)return[];var y=d.length;return y>1&&e(g,d[0],d[1])?d=[]:y>2&&e(d[0],d[1],d[2])&&(d=[d[0]]),n(g,i(d,1),[])});B.exports=f},42025:B=>{B.exports=function D(){return[]}},6023:B=>{B.exports=function D(){return!1}},31376:(B,D,t)=>{var i=t(30870),n=1/0;B.exports=function e(f){return f?(f=i(f))===n||f===-n?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0}},12265:(B,D,t)=>{var i=t(31376);B.exports=function n(c){var e=i(c),f=e%1;return e==e?f?e-f:e:0}},30870:(B,D,t)=>{var i=t(75464),n=t(80773),c=t(33394),f=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,d=/^0o[0-7]+$/i,y=parseInt;B.exports=function E(_){if("number"==typeof _)return _;if(c(_))return NaN;if(n(_)){var b="function"==typeof _.valueOf?_.valueOf():_;_=n(b)?b+"":b}if("string"!=typeof _)return 0===_?_:+_;_=i(_);var O=g.test(_);return O||d.test(_)?y(_.slice(2),O?2:8):f.test(_)?NaN:+_}},18692:(B,D,t)=>{var i=t(69111),n=t(41521);B.exports=function c(e){return i(e,n(e))}},11918:(B,D,t)=>{var i=t(28028);B.exports=function n(c){return null==c?"":i(c)}},79824:(B,D,t)=>{var i=t(91481),n=t(83496),c=t(74009),e=t(20901),f=t(20087),g=t(13737),d=t(62864),y=t(8322),E=t(80773),_=t(24055);B.exports=function b(O,I,T){var R=g(O),u=R||d(O)||_(O);if(I=e(I,4),null==T){var w=O&&O.constructor;T=u?R?new w:[]:E(O)&&y(w)?n(f(O)):{}}return(u?i:c)(O,function(v,S,M){return I(T,v,S,M)}),T}},30067:(B,D,t)=>{var i=t(93368),n=t(2158),c=t(2733),e=t(28261),f=n(function(g){return c(i(g,1,e,!0))});B.exports=f},98431:(B,D,t)=>{var i=t(2733);B.exports=function n(c,e){return e="function"==typeof e?e:void 0,c&&c.length?i(c,void 0,e):[]}},84984:(B,D,t)=>{var i=t(11918),n=0;B.exports=function c(e){var f=++n;return i(e)+f}},32989:()=>{var B,D;D=B||(B={}),function(t){var i="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=c(D);function c(e,f){return function(g,d){"function"!=typeof e[g]&&Object.defineProperty(e,g,{configurable:!0,writable:!0,value:d}),f&&f(g,d)}}typeof i.Reflect>"u"?i.Reflect=D:n=c(i.Reflect,n),function(t){var i=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,c=n&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",e=n&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",f="function"==typeof Object.create,g={__proto__:[]}instanceof Array,d=!f&&!g,y={create:f?function(){return je(Object.create(null))}:g?function(){return je({__proto__:null})}:function(){return je({})},has:d?function(Re,ne){return i.call(Re,ne)}:function(Re,ne){return ne in Re},get:d?function(Re,ne){return i.call(Re,ne)?Re[ne]:void 0}:function(Re,ne){return Re[ne]}},E=Object.getPrototypeOf(Function),_="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,b=_||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function at(){var Re={},ne=[],Ee=function(){function wt(tn,It,$t){this._index=0,this._keys=tn,this._values=It,this._selector=$t}return wt.prototype["@@iterator"]=function(){return this},wt.prototype[e]=function(){return this},wt.prototype.next=function(){var tn=this._index;if(tn>=0&&tn<this._keys.length){var It=this._selector(this._keys[tn],this._values[tn]);return tn+1>=this._keys.length?(this._index=-1,this._keys=ne,this._values=ne):this._index++,{value:It,done:!1}}return{value:void 0,done:!0}},wt.prototype.throw=function(tn){throw this._index>=0&&(this._index=-1,this._keys=ne,this._values=ne),tn},wt.prototype.return=function(tn){return this._index>=0&&(this._index=-1,this._keys=ne,this._values=ne),{value:tn,done:!0}},wt}();return function(){function wt(){this._keys=[],this._values=[],this._cacheKey=Re,this._cacheIndex=-2}return Object.defineProperty(wt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),wt.prototype.has=function(tn){return this._find(tn,!1)>=0},wt.prototype.get=function(tn){var It=this._find(tn,!1);return It>=0?this._values[It]:void 0},wt.prototype.set=function(tn,It){var $t=this._find(tn,!0);return this._values[$t]=It,this},wt.prototype.delete=function(tn){var It=this._find(tn,!1);if(It>=0){for(var $t=this._keys.length,Zt=It+1;Zt<$t;Zt++)this._keys[Zt-1]=this._keys[Zt],this._values[Zt-1]=this._values[Zt];return this._keys.length--,this._values.length--,tn===this._cacheKey&&(this._cacheKey=Re,this._cacheIndex=-2),!0}return!1},wt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Re,this._cacheIndex=-2},wt.prototype.keys=function(){return new Ee(this._keys,this._values,ke)},wt.prototype.values=function(){return new Ee(this._keys,this._values,dt)},wt.prototype.entries=function(){return new Ee(this._keys,this._values,Bt)},wt.prototype["@@iterator"]=function(){return this.entries()},wt.prototype[e]=function(){return this.entries()},wt.prototype._find=function(tn,It){return this._cacheKey!==tn&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=tn)),this._cacheIndex<0&&It&&(this._cacheIndex=this._keys.length,this._keys.push(tn),this._values.push(void 0)),this._cacheIndex},wt}();function ke(wt,tn){return wt}function dt(wt,tn){return tn}function Bt(wt,tn){return[wt,tn]}}():Map,O=_||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function Yt(){return function(){function Re(){this._map=new b}return Object.defineProperty(Re.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Re.prototype.has=function(ne){return this._map.has(ne)},Re.prototype.add=function(ne){return this._map.set(ne,ne),this},Re.prototype.delete=function(ne){return this._map.delete(ne)},Re.prototype.clear=function(){this._map.clear()},Re.prototype.keys=function(){return this._map.keys()},Re.prototype.values=function(){return this._map.values()},Re.prototype.entries=function(){return this._map.entries()},Re.prototype["@@iterator"]=function(){return this.keys()},Re.prototype[e]=function(){return this.keys()},Re}()}():Set,T=new(_||"function"!=typeof WeakMap?function nn(){var Re=16,ne=y.create(),Ee=ke();return function(){function It(){this._key=ke()}return It.prototype.has=function($t){var Zt=dt($t,!1);return void 0!==Zt&&y.has(Zt,this._key)},It.prototype.get=function($t){var Zt=dt($t,!1);return void 0!==Zt?y.get(Zt,this._key):void 0},It.prototype.set=function($t,Zt){return dt($t,!0)[this._key]=Zt,this},It.prototype.delete=function($t){var Zt=dt($t,!1);return void 0!==Zt&&delete Zt[this._key]},It.prototype.clear=function(){this._key=ke()},It}();function ke(){var It;do{It="@@WeakMap@@"+tn()}while(y.has(ne,It));return ne[It]=!0,It}function dt(It,$t){if(!i.call(It,Ee)){if(!$t)return;Object.defineProperty(It,Ee,{value:y.create()})}return It[Ee]}function Bt(It,$t){for(var Zt=0;Zt<$t;++Zt)It[Zt]=255*Math.random()|0;return It}function tn(){var It=function wt(It){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(It)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(It)):Bt(new Uint8Array(It),It):Bt(new Array(It),It)}(Re);It[6]=79&It[6]|64,It[8]=191&It[8]|128;for(var $t="",Zt=0;Zt<Re;++Zt){var mn=It[Zt];(4===Zt||6===Zt||8===Zt)&&($t+="-"),mn<16&&($t+="0"),$t+=mn.toString(16).toLowerCase()}return $t}}():WeakMap);function Y(Re,ne,Ee){var ke=T.get(Re);if(ee(ke)){if(!Ee)return;ke=new b,T.set(Re,ke)}var dt=ke.get(ne);if(ee(dt)){if(!Ee)return;dt=new b,ke.set(ne,dt)}return dt}function V(Re,ne,Ee){if(X(Re,ne,Ee))return!0;var dt=it(ne);return!de(dt)&&V(Re,dt,Ee)}function X(Re,ne,Ee){var ke=Y(ne,Ee,!1);return!ee(ke)&&function pe(Re){return!!Re}(ke.has(Re))}function K(Re,ne,Ee){if(X(Re,ne,Ee))return ae(Re,ne,Ee);var dt=it(ne);return de(dt)?void 0:K(Re,dt,Ee)}function ae(Re,ne,Ee){var ke=Y(ne,Ee,!1);if(!ee(ke))return ke.get(Re)}function Q(Re,ne,Ee,ke){Y(Ee,ke,!0).set(Re,ne)}function J(Re,ne){var Ee=z(Re,ne),ke=it(Re);if(null===ke)return Ee;var dt=J(ke,ne);if(dt.length<=0)return Ee;if(Ee.length<=0)return dt;for(var Bt=new O,wt=[],tn=0,It=Ee;tn<It.length;tn++)Bt.has($t=It[tn])||(Bt.add($t),wt.push($t));for(var mn=0,Rn=dt;mn<Rn.length;mn++){var $t;Bt.has($t=Rn[mn])||(Bt.add($t),wt.push($t))}return wt}function z(Re,ne){var Ee=[],ke=Y(Re,ne,!1);if(ee(ke))return Ee;for(var Bt=function Be(Re){var ne=we(Re,e);if(!Ie(ne))throw new TypeError;var Ee=ne.call(Re);if(!Z(Ee))throw new TypeError;return Ee}(ke.keys()),wt=0;;){var tn=et(Bt);if(!tn)return Ee.length=wt,Ee;var It=Ve(tn);try{Ee[wt]=It}catch($t){try{yt(Bt)}finally{throw $t}}wt++}}function q(Re){if(null===Re)return 1;switch(typeof Re){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===Re?1:6;default:return 6}}function ee(Re){return void 0===Re}function de(Re){return null===Re}function Z(Re){return"object"==typeof Re?null!==Re:"function"==typeof Re}function le(Re,ne){switch(q(Re)){case 0:case 1:case 2:case 3:case 4:case 5:return Re}var Ee=3===ne?"string":5===ne?"number":"default",ke=we(Re,c);if(void 0!==ke){var dt=ke.call(Re,Ee);if(Z(dt))throw new TypeError;return dt}return function De(Re,ne){if("string"===ne){var Ee=Re.toString;if(Ie(Ee)&&!Z(ke=Ee.call(Re)))return ke;if(Ie(dt=Re.valueOf)&&!Z(ke=dt.call(Re)))return ke}else{var dt;if(Ie(dt=Re.valueOf)&&!Z(ke=dt.call(Re)))return ke;var ke,Bt=Re.toString;if(Ie(Bt)&&!Z(ke=Bt.call(Re)))return ke}throw new TypeError}(Re,"default"===Ee?"number":Ee)}function ve(Re){var ne=le(Re,3);return function Ce(Re){return"symbol"==typeof Re}(ne)?ne:function re(Re){return""+Re}(ne)}function fe(Re){return Array.isArray?Array.isArray(Re):Re instanceof Object?Re instanceof Array:"[object Array]"===Object.prototype.toString.call(Re)}function Ie(Re){return"function"==typeof Re}function Ne(Re){return"function"==typeof Re}function we(Re,ne){var Ee=Re[ne];if(null!=Ee){if(!Ie(Ee))throw new TypeError;return Ee}}function Ve(Re){return Re.value}function et(Re){var ne=Re.next();return!ne.done&&ne}function yt(Re){var ne=Re.return;ne&&ne.call(Re)}function it(Re){var ne=Object.getPrototypeOf(Re);if("function"!=typeof Re||Re===E||ne!==E)return ne;var Ee=Re.prototype,ke=Ee&&Object.getPrototypeOf(Ee);if(null==ke||ke===Object.prototype)return ne;var dt=ke.constructor;return"function"!=typeof dt||dt===Re?ne:dt}function je(Re){return Re.__=void 0,delete Re.__,Re}t("decorate",function R(Re,ne,Ee,ke){if(ee(Ee)){if(!fe(Re))throw new TypeError;if(!Ne(ne))throw new TypeError;return function x(Re,ne){for(var Ee=Re.length-1;Ee>=0;--Ee){var dt=(0,Re[Ee])(ne);if(!ee(dt)&&!de(dt)){if(!Ne(dt))throw new TypeError;ne=dt}}return ne}(Re,ne)}if(!fe(Re))throw new TypeError;if(!Z(ne))throw new TypeError;if(!Z(ke)&&!ee(ke)&&!de(ke))throw new TypeError;return de(ke)&&(ke=void 0),function G(Re,ne,Ee,ke){for(var dt=Re.length-1;dt>=0;--dt){var wt=(0,Re[dt])(ne,Ee,ke);if(!ee(wt)&&!de(wt)){if(!Z(wt))throw new TypeError;ke=wt}}return ke}(Re,ne,Ee=ve(Ee),ke)}),t("metadata",function u(Re,ne){return function Ee(ke,dt){if(!Z(ke))throw new TypeError;if(!ee(dt)&&!function qe(Re){switch(q(Re)){case 3:case 4:return!0;default:return!1}}(dt))throw new TypeError;Q(Re,ne,ke,dt)}}),t("defineMetadata",function w(Re,ne,Ee,ke){if(!Z(Ee))throw new TypeError;return ee(ke)||(ke=ve(ke)),Q(Re,ne,Ee,ke)}),t("hasMetadata",function v(Re,ne,Ee){if(!Z(ne))throw new TypeError;return ee(Ee)||(Ee=ve(Ee)),V(Re,ne,Ee)}),t("hasOwnMetadata",function S(Re,ne,Ee){if(!Z(ne))throw new TypeError;return ee(Ee)||(Ee=ve(Ee)),X(Re,ne,Ee)}),t("getMetadata",function M(Re,ne,Ee){if(!Z(ne))throw new TypeError;return ee(Ee)||(Ee=ve(Ee)),K(Re,ne,Ee)}),t("getOwnMetadata",function L(Re,ne,Ee){if(!Z(ne))throw new TypeError;return ee(Ee)||(Ee=ve(Ee)),ae(Re,ne,Ee)}),t("getMetadataKeys",function F(Re,ne){if(!Z(Re))throw new TypeError;return ee(ne)||(ne=ve(ne)),J(Re,ne)}),t("getOwnMetadataKeys",function $(Re,ne){if(!Z(Re))throw new TypeError;return ee(ne)||(ne=ve(ne)),z(Re,ne)}),t("deleteMetadata",function j(Re,ne,Ee){if(!Z(ne))throw new TypeError;ee(Ee)||(Ee=ve(Ee));var ke=Y(ne,Ee,!1);if(ee(ke)||!ke.delete(Re))return!1;if(ke.size>0)return!0;var dt=T.get(ne);return dt.delete(Ee),dt.size>0||T.delete(ne),!0})}(n)}()},89299:(B,D,t)=>{"use strict";t.d(D,{h:()=>n});var i=t(18447);class n extends i.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:f,_hasValue:g,_value:d,thrownError:y,isStopped:E,_isComplete:_}=this;f?e.error(y):(E||_)&&(g&&e.next(d),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:f,_isComplete:g}=this;g||(this._isComplete=!0,e&&super.next(f),super.complete())}}},71217:(B,D,t)=>{"use strict";t.d(D,{t:()=>n});var i=t(18447);class n extends i.B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const f=super._subscribe(e);return!f.closed&&e.next(this._value),f}getValue(){const{hasError:e,thrownError:f,_value:g}=this;if(e)throw f;return this._throwIfClosed(),g}next(e){super.next(this._value=e)}}},51698:(B,D,t)=>{"use strict";t.d(D,{c:()=>y});var i=t(21540),n=t(85710),c=t(22563),e=t(26742),f=t(43305),g=t(91126),d=t(34171);let y=(()=>{class O{constructor(T){T&&(this._subscribe=T)}lift(T){const R=new O;return R.source=this,R.operator=T,R}subscribe(T,R,u){const w=function b(O){return O&&O instanceof i.vU||function _(O){return O&&(0,g.T)(O.next)&&(0,g.T)(O.error)&&(0,g.T)(O.complete)}(O)&&(0,n.Uv)(O)}(T)?T:new i.Ms(T,R,u);return(0,d.Y)(()=>{const{operator:v,source:S}=this;w.add(v?v.call(w,S):S?this._subscribe(w):this._trySubscribe(w))}),w}_trySubscribe(T){try{return this._subscribe(T)}catch(R){T.error(R)}}forEach(T,R){return new(R=E(R))((u,w)=>{const v=new i.Ms({next:S=>{try{T(S)}catch(M){w(M),v.unsubscribe()}},error:w,complete:u});this.subscribe(v)})}_subscribe(T){var R;return null===(R=this.source)||void 0===R?void 0:R.subscribe(T)}[c.s](){return this}pipe(...T){return(0,e.m)(T)(this)}toPromise(T){return new(T=E(T))((R,u)=>{let w;this.subscribe(v=>w=v,v=>u(v),()=>R(w))})}}return O.create=I=>new O(I),O})();function E(O){var I;return null!==(I=O??f.$.Promise)&&void 0!==I?I:Promise}},17838:(B,D,t)=>{"use strict";t.d(D,{m:()=>c});var i=t(18447),n=t(66188);class c extends i.B{constructor(f=1/0,g=1/0,d=n.U){super(),this._bufferSize=f,this._windowTime=g,this._timestampProvider=d,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=g===1/0,this._bufferSize=Math.max(1,f),this._windowTime=Math.max(1,g)}next(f){const{isStopped:g,_buffer:d,_infiniteTimeWindow:y,_timestampProvider:E,_windowTime:_}=this;g||(d.push(f),!y&&d.push(E.now()+_)),this._trimBuffer(),super.next(f)}_subscribe(f){this._throwIfClosed(),this._trimBuffer();const g=this._innerSubscribe(f),{_infiniteTimeWindow:d,_buffer:y}=this,E=y.slice();for(let _=0;_<E.length&&!f.closed;_+=d?1:2)f.next(E[_]);return this._checkFinalizedStatuses(f),g}_trimBuffer(){const{_bufferSize:f,_timestampProvider:g,_buffer:d,_infiniteTimeWindow:y}=this,E=(y?1:2)*f;if(f<1/0&&E<d.length&&d.splice(0,d.length-E),!y){const _=g.now();let b=0;for(let O=1;O<d.length&&d[O]<=_;O+=2)b=O;b&&d.splice(0,b+1)}}}},18447:(B,D,t)=>{"use strict";t.d(D,{B:()=>d});var i=t(51698),n=t(85710);const e=(0,t(95644).L)(E=>function(){E(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var f=t(95891),g=t(34171);let d=(()=>{class E extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(b){const O=new y(this,this);return O.operator=b,O}_throwIfClosed(){if(this.closed)throw new e}next(b){(0,g.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const O of this.currentObservers)O.next(b)}})}error(b){(0,g.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=b;const{observers:O}=this;for(;O.length;)O.shift().error(b)}})}complete(){(0,g.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:b}=this;for(;b.length;)b.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var b;return(null===(b=this.observers)||void 0===b?void 0:b.length)>0}_trySubscribe(b){return this._throwIfClosed(),super._trySubscribe(b)}_subscribe(b){return this._throwIfClosed(),this._checkFinalizedStatuses(b),this._innerSubscribe(b)}_innerSubscribe(b){const{hasError:O,isStopped:I,observers:T}=this;return O||I?n.Kn:(this.currentObservers=null,T.push(b),new n.yU(()=>{this.currentObservers=null,(0,f.o)(T,b)}))}_checkFinalizedStatuses(b){const{hasError:O,thrownError:I,isStopped:T}=this;O?b.error(I):T&&b.complete()}asObservable(){const b=new i.c;return b.source=this,b}}return E.create=(_,b)=>new y(_,b),E})();class y extends d{constructor(_,b){super(),this.destination=_,this.source=b}next(_){var b,O;null===(O=null===(b=this.destination)||void 0===b?void 0:b.next)||void 0===O||O.call(b,_)}error(_){var b,O;null===(O=null===(b=this.destination)||void 0===b?void 0:b.error)||void 0===O||O.call(b,_)}complete(){var _,b;null===(b=null===(_=this.destination)||void 0===_?void 0:_.complete)||void 0===b||b.call(_)}_subscribe(_){var b,O;return null!==(O=null===(b=this.source)||void 0===b?void 0:b.subscribe(_))&&void 0!==O?O:n.Kn}}},21540:(B,D,t)=>{"use strict";t.d(D,{Ms:()=>u,vU:()=>O});var i=t(91126),n=t(85710),c=t(43305),e=t(40191),f=t(80850);const g=E("C",void 0,void 0);function E(L,F,$){return{kind:L,value:F,error:$}}var _=t(73695),b=t(34171);class O extends n.yU{constructor(F){super(),this.isStopped=!1,F?(this.destination=F,(0,n.Uv)(F)&&F.add(this)):this.destination=M}static create(F,$,j){return new u(F,$,j)}next(F){this.isStopped?S(function y(L){return E("N",L,void 0)}(F),this):this._next(F)}error(F){this.isStopped?S(function d(L){return E("E",void 0,L)}(F),this):(this.isStopped=!0,this._error(F))}complete(){this.isStopped?S(g,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(F){this.destination.next(F)}_error(F){try{this.destination.error(F)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const I=Function.prototype.bind;function T(L,F){return I.call(L,F)}class R{constructor(F){this.partialObserver=F}next(F){const{partialObserver:$}=this;if($.next)try{$.next(F)}catch(j){w(j)}}error(F){const{partialObserver:$}=this;if($.error)try{$.error(F)}catch(j){w(j)}else w(F)}complete(){const{partialObserver:F}=this;if(F.complete)try{F.complete()}catch($){w($)}}}class u extends O{constructor(F,$,j){let x;if(super(),(0,i.T)(F)||!F)x={next:F??void 0,error:$??void 0,complete:j??void 0};else{let G;this&&c.$.useDeprecatedNextContext?(G=Object.create(F),G.unsubscribe=()=>this.unsubscribe(),x={next:F.next&&T(F.next,G),error:F.error&&T(F.error,G),complete:F.complete&&T(F.complete,G)}):x=F}this.destination=new R(x)}}function w(L){c.$.useDeprecatedSynchronousErrorHandling?(0,b.l)(L):(0,e.m)(L)}function S(L,F){const{onStoppedNotification:$}=c.$;$&&_.f.setTimeout(()=>$(L,F))}const M={closed:!0,next:f.l,error:function v(L){throw L},complete:f.l}},85710:(B,D,t)=>{"use strict";t.d(D,{Kn:()=>g,yU:()=>f,Uv:()=>d});var i=t(91126);const c=(0,t(95644).L)(E=>function(b){E(this),this.message=b?`${b.length} errors occurred during unsubscription:\n${b.map((O,I)=>`${I+1}) ${O.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=b});var e=t(95891);class f{constructor(_){this.initialTeardown=_,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _;if(!this.closed){this.closed=!0;const{_parentage:b}=this;if(b)if(this._parentage=null,Array.isArray(b))for(const T of b)T.remove(this);else b.remove(this);const{initialTeardown:O}=this;if((0,i.T)(O))try{O()}catch(T){_=T instanceof c?T.errors:[T]}const{_finalizers:I}=this;if(I){this._finalizers=null;for(const T of I)try{y(T)}catch(R){_=_??[],R instanceof c?_=[..._,...R.errors]:_.push(R)}}if(_)throw new c(_)}}add(_){var b;if(_&&_!==this)if(this.closed)y(_);else{if(_ instanceof f){if(_.closed||_._hasParent(this))return;_._addParent(this)}(this._finalizers=null!==(b=this._finalizers)&&void 0!==b?b:[]).push(_)}}_hasParent(_){const{_parentage:b}=this;return b===_||Array.isArray(b)&&b.includes(_)}_addParent(_){const{_parentage:b}=this;this._parentage=Array.isArray(b)?(b.push(_),b):b?[b,_]:_}_removeParent(_){const{_parentage:b}=this;b===_?this._parentage=null:Array.isArray(b)&&(0,e.o)(b,_)}remove(_){const{_finalizers:b}=this;b&&(0,e.o)(b,_),_ instanceof f&&_._removeParent(this)}}f.EMPTY=(()=>{const E=new f;return E.closed=!0,E})();const g=f.EMPTY;function d(E){return E instanceof f||E&&"closed"in E&&(0,i.T)(E.remove)&&(0,i.T)(E.add)&&(0,i.T)(E.unsubscribe)}function y(E){(0,i.T)(E)?E():E.unsubscribe()}},43305:(B,D,t)=>{"use strict";t.d(D,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},51642:(B,D,t)=>{"use strict";t.d(D,{G:()=>g});var i=t(51698),n=t(85710),c=t(83589),e=t(42483),f=t(15351);class g extends i.c{constructor(y,E){super(),this.source=y,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,f.S)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,y?.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new n.yU;const E=this.getSubject();y.add(this.source.subscribe((0,e._)(E,void 0,()=>{this._teardown(),E.complete()},_=>{this._teardown(),E.error(_)},()=>this._teardown()))),y.closed&&(this._connection=null,y=n.yU.EMPTY)}return y}refCount(){return(0,c.B)()(this)}}},76627:(B,D,t)=>{"use strict";t.d(D,{P:()=>b,z:()=>_});var i=t(51698),n=t(73740),c=t(33325),e=t(49220),f=t(83759),g=t(94327),d=t(29321),y=t(42483),E=t(98266);function _(...I){const T=(0,g.lI)(I),R=(0,g.ms)(I),{args:u,keys:w}=(0,n.D)(I);if(0===u.length)return(0,c.H)([],T);const v=new i.c(b(u,T,w?S=>(0,d.e)(w,S):e.D));return R?v.pipe((0,f.I)(R)):v}function b(I,T,R=e.D){return u=>{O(T,()=>{const{length:w}=I,v=new Array(w);let S=w,M=w;for(let L=0;L<w;L++)O(T,()=>{const F=(0,c.H)(I[L],T);let $=!1;F.subscribe((0,y._)(u,j=>{v[L]=j,$||($=!0,M--),M||u.next(R(v.slice()))},()=>{--S||u.complete()}))},u)},u)}}function O(I,T,R){I?(0,E.N)(R,I,T):T()}},56765:(B,D,t)=>{"use strict";t.d(D,{x:()=>e});var i=t(26),n=t(94327),c=t(33325);function e(...f){return(0,i.K)()((0,c.H)(f,(0,n.lI)(f)))}},56381:(B,D,t)=>{"use strict";t.d(D,{v:()=>c});var i=t(51698),n=t(7225);function c(e){return new i.c(f=>{(0,n.Tg)(e()).subscribe(f)})}},76564:(B,D,t)=>{"use strict";t.d(D,{w:()=>n});const n=new(t(51698).c)(f=>f.complete())},82653:(B,D,t)=>{"use strict";t.d(D,{p:()=>y});var i=t(51698),n=t(73740),c=t(7225),e=t(94327),f=t(42483),g=t(83759),d=t(29321);function y(...E){const _=(0,e.ms)(E),{args:b,keys:O}=(0,n.D)(E),I=new i.c(T=>{const{length:R}=b;if(!R)return void T.complete();const u=new Array(R);let w=R,v=R;for(let S=0;S<R;S++){let M=!1;(0,c.Tg)(b[S]).subscribe((0,f._)(T,L=>{M||(M=!0,v--),u[S]=L},()=>w--,void 0,()=>{(!w||!M)&&(v||T.next(O?(0,d.e)(O,u):u),T.complete())}))}});return _?I.pipe((0,g.I)(_)):I}},33325:(B,D,t)=>{"use strict";t.d(D,{H:()=>$});var i=t(7225),n=t(59668),c=t(15351);function e(j,x=0){return(0,c.N)((G,Y)=>{Y.add(j.schedule(()=>G.subscribe(Y),x))})}var d=t(51698),E=t(96952),_=t(91126),b=t(98266);function I(j,x){if(!j)throw new Error("Iterable cannot be null");return new d.c(G=>{(0,b.N)(G,x,()=>{const Y=j[Symbol.asyncIterator]();(0,b.N)(G,x,()=>{Y.next().then(V=>{V.done?G.complete():G.next(V.value)})},0,!0)})})}var T=t(6600),R=t(96505),u=t(56786),w=t(4876),v=t(18394),S=t(38810),M=t(13173);function $(j,x){return x?function F(j,x){if(null!=j){if((0,T.l)(j))return function f(j,x){return(0,i.Tg)(j).pipe(e(x),(0,n.Q)(x))}(j,x);if((0,u.X)(j))return function y(j,x){return new d.c(G=>{let Y=0;return x.schedule(function(){Y===j.length?G.complete():(G.next(j[Y++]),G.closed||this.schedule())})})}(j,x);if((0,R.y)(j))return function g(j,x){return(0,i.Tg)(j).pipe(e(x),(0,n.Q)(x))}(j,x);if((0,v.T)(j))return I(j,x);if((0,w.x)(j))return function O(j,x){return new d.c(G=>{let Y;return(0,b.N)(G,x,()=>{Y=j[E.l](),(0,b.N)(G,x,()=>{let V,X;try{({value:V,done:X}=Y.next())}catch(K){return void G.error(K)}X?G.complete():G.next(V)},0,!0)}),()=>(0,_.T)(Y?.return)&&Y.return()})}(j,x);if((0,M.U)(j))return function L(j,x){return I((0,M.C)(j),x)}(j,x)}throw(0,S.L)(j)}(j,x):(0,i.Tg)(j)}},909:(B,D,t)=>{"use strict";t.d(D,{R:()=>_});var i=t(7225),n=t(51698),c=t(27035),e=t(56786),f=t(91126),g=t(83759);const d=["addListener","removeListener"],y=["addEventListener","removeEventListener"],E=["on","off"];function _(R,u,w,v){if((0,f.T)(w)&&(v=w,w=void 0),v)return _(R,u,w).pipe((0,g.I)(v));const[S,M]=function T(R){return(0,f.T)(R.addEventListener)&&(0,f.T)(R.removeEventListener)}(R)?y.map(L=>F=>R[L](u,F,w)):function O(R){return(0,f.T)(R.addListener)&&(0,f.T)(R.removeListener)}(R)?d.map(b(R,u)):function I(R){return(0,f.T)(R.on)&&(0,f.T)(R.off)}(R)?E.map(b(R,u)):[];if(!S&&(0,e.X)(R))return(0,c.Z)(L=>_(L,u,w))((0,i.Tg)(R));if(!S)throw new TypeError("Invalid event target");return new n.c(L=>{const F=(...$)=>L.next(1<$.length?$:$[0]);return S(F),()=>M(F)})}function b(R,u){return w=>v=>R[w](u,v)}},7225:(B,D,t)=>{"use strict";t.d(D,{Tg:()=>I});var i=t(31635),n=t(56786),c=t(96505),e=t(51698),f=t(6600),g=t(18394),d=t(38810),y=t(4876),E=t(13173),_=t(91126),b=t(40191),O=t(22563);function I(L){if(L instanceof e.c)return L;if(null!=L){if((0,f.l)(L))return function T(L){return new e.c(F=>{const $=L[O.s]();if((0,_.T)($.subscribe))return $.subscribe(F);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(L);if((0,n.X)(L))return function R(L){return new e.c(F=>{for(let $=0;$<L.length&&!F.closed;$++)F.next(L[$]);F.complete()})}(L);if((0,c.y)(L))return function u(L){return new e.c(F=>{L.then($=>{F.closed||(F.next($),F.complete())},$=>F.error($)).then(null,b.m)})}(L);if((0,g.T)(L))return v(L);if((0,y.x)(L))return function w(L){return new e.c(F=>{for(const $ of L)if(F.next($),F.closed)return;F.complete()})}(L);if((0,E.U)(L))return function S(L){return v((0,E.C)(L))}(L)}throw(0,d.L)(L)}function v(L){return new e.c(F=>{(function M(L,F){var $,j,x,G;return(0,i.sH)(this,void 0,void 0,function*(){try{for($=(0,i.xN)(L);!(j=yield $.next()).done;)if(F.next(j.value),F.closed)return}catch(Y){x={error:Y}}finally{try{j&&!j.done&&(G=$.return)&&(yield G.call($))}finally{if(x)throw x.error}}F.complete()})})(L,F).catch($=>F.error($))})}},69372:(B,D,t)=>{"use strict";t.d(D,{Y:()=>c});var i=t(26061),n=t(49587);function c(e=0,f=i.E){return e<0&&(e=0),(0,n.O)(e,e,f)}},17509:(B,D,t)=>{"use strict";t.d(D,{h:()=>g});var i=t(91890),n=t(7225),c=t(76564),e=t(94327),f=t(33325);function g(...d){const y=(0,e.lI)(d),E=(0,e.R0)(d,1/0),_=d;return _.length?1===_.length?(0,n.Tg)(_[0]):(0,i.U)(E)((0,f.H)(_,y)):c.w}},63016:(B,D,t)=>{"use strict";t.d(D,{of:()=>c});var i=t(94327),n=t(33325);function c(...e){const f=(0,i.lI)(e);return(0,n.H)(e,f)}},6340:(B,D,t)=>{"use strict";t.d(D,{O:()=>f});var i=t(51698),n=t(7225),c=t(49883),e=t(42483);function f(...d){return 1===(d=(0,c.K)(d)).length?(0,n.Tg)(d[0]):new i.c(function g(d){return y=>{let E=[];for(let _=0;E&&!y.closed&&_<d.length;_++)E.push((0,n.Tg)(d[_]).subscribe((0,e._)(y,b=>{if(E){for(let O=0;O<E.length;O++)O!==_&&E[O].unsubscribe();E=null}y.next(b)})))}}(d))}},48915:(B,D,t)=>{"use strict";t.d(D,{$:()=>c});var i=t(51698),n=t(91126);function c(e,f){const g=(0,n.T)(e)?e:()=>e,d=y=>y.error(g());return new i.c(f?y=>f.schedule(d,0,y):d)}},49587:(B,D,t)=>{"use strict";t.d(D,{O:()=>f});var i=t(51698),n=t(26061),c=t(29921);function f(g=0,d,y=n.b){let E=-1;return null!=d&&((0,c.m)(d)?y=d:E=d),new i.c(_=>{let b=function e(g){return g instanceof Date&&!isNaN(g)}(g)?+g-y.now():g;b<0&&(b=0);let O=0;return y.schedule(function(){_.closed||(_.next(O++),0<=E?this.schedule(void 0,E):_.complete())},b)})}},35466:(B,D,t)=>{"use strict";t.d(D,{y:()=>d});var i=t(51698),n=t(7225),c=t(49883),e=t(76564),f=t(42483),g=t(94327);function d(...y){const E=(0,g.ms)(y),_=(0,c.K)(y);return _.length?new i.c(b=>{let O=_.map(()=>[]),I=_.map(()=>!1);b.add(()=>{O=I=null});for(let T=0;!b.closed&&T<_.length;T++)(0,n.Tg)(_[T]).subscribe((0,f._)(b,R=>{if(O[T].push(R),O.every(u=>u.length)){const u=O.map(w=>w.shift());b.next(E?E(...u):u),O.some((w,v)=>!w.length&&I[v])&&b.complete()}},()=>{I[T]=!0,!O[T].length&&b.complete()}));return()=>{O=I=null}}):e.w}},42483:(B,D,t)=>{"use strict";t.d(D,{H:()=>c,_:()=>n});var i=t(21540);function n(e,f,g,d,y){return new c(e,f,g,d,y)}class c extends i.vU{constructor(f,g,d,y,E,_){super(f),this.onFinalize=E,this.shouldUnsubscribe=_,this._next=g?function(b){try{g(b)}catch(O){f.error(O)}}:super._next,this._error=y?function(b){try{y(b)}catch(O){f.error(O)}finally{this.unsubscribe()}}:super._error,this._complete=d?function(){try{d()}catch(b){f.error(b)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var f;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:g}=this;super.unsubscribe(),!g&&(null===(f=this.onFinalize)||void 0===f||f.call(this))}}}},17178:(B,D,t)=>{"use strict";t.d(D,{W:()=>e});var i=t(7225),n=t(42483),c=t(15351);function e(f){return(0,c.N)((g,d)=>{let _,y=null,E=!1;y=g.subscribe((0,n._)(d,void 0,void 0,b=>{_=(0,i.Tg)(f(b,e(f)(g))),y?(y.unsubscribe(),y=null,_.subscribe(d)):E=!0})),E&&(y.unsubscribe(),y=null,_.subscribe(d))})}},26:(B,D,t)=>{"use strict";t.d(D,{K:()=>n});var i=t(91890);function n(){return(0,i.U)(1)}},81459:(B,D,t)=>{"use strict";t.d(D,{H:()=>c});var i=t(27035),n=t(91126);function c(e,f){return(0,n.T)(f)?(0,i.Z)(e,f,1):(0,i.Z)(e,1)}},88627:(B,D,t)=>{"use strict";t.d(D,{B:()=>e});var i=t(26061),n=t(15351),c=t(42483);function e(f,g=i.E){return(0,n.N)((d,y)=>{let E=null,_=null,b=null;const O=()=>{if(E){E.unsubscribe(),E=null;const T=_;_=null,y.next(T)}};function I(){const T=b+f,R=g.now();if(R<T)return E=this.schedule(void 0,T-R),void y.add(E);O()}d.subscribe((0,c._)(y,T=>{_=T,b=g.now(),E||(E=g.schedule(I,f),y.add(E))},()=>{O(),y.complete()},void 0,()=>{_=E=null}))})}},45670:(B,D,t)=>{"use strict";t.d(D,{U:()=>c});var i=t(15351),n=t(42483);function c(e){return(0,i.N)((f,g)=>{let d=!1;f.subscribe((0,n._)(g,y=>{d=!0,g.next(y)},()=>{d||g.next(e),g.complete()}))})}},10402:(B,D,t)=>{"use strict";t.d(D,{c:()=>_});var i=t(26061),n=t(56765),c=t(37610),e=t(9102),f=t(66590),g=t(27035),d=t(7225);function y(b,O){return O?I=>(0,n.x)(O.pipe((0,c.s)(1),(0,e.w)()),I.pipe(y(b))):(0,g.Z)((I,T)=>(0,d.Tg)(b(I,T)).pipe((0,c.s)(1),(0,f.u)(I)))}var E=t(49587);function _(b,O=i.E){const I=(0,E.O)(b,O);return y(()=>I)}},66645:(B,D,t)=>{"use strict";t.d(D,{F:()=>e});var i=t(49220),n=t(15351),c=t(42483);function e(g,d=i.D){return g=g??f,(0,n.N)((y,E)=>{let _,b=!0;y.subscribe((0,c._)(E,O=>{const I=d(O);(b||!g(_,I))&&(b=!1,_=I,E.next(O))}))})}function f(g,d){return g===d}},41483:(B,D,t)=>{"use strict";t.d(D,{p:()=>c});var i=t(15351),n=t(42483);function c(e,f){return(0,i.N)((g,d)=>{let y=0;g.subscribe((0,n._)(d,E=>e.call(f,E,y++)&&d.next(E)))})}},24447:(B,D,t)=>{"use strict";t.d(D,{j:()=>n});var i=t(15351);function n(c){return(0,i.N)((e,f)=>{try{e.subscribe(f)}finally{f.add(c)}})}},25814:(B,D,t)=>{"use strict";t.d(D,{I:()=>c});var i=t(15351),n=t(42483);function c(f,g){return(0,i.N)(function e(f,g,d){const y="index"===d;return(E,_)=>{let b=0;E.subscribe((0,n._)(_,O=>{const I=b++;f.call(g,O,I,E)&&(_.next(y?I:O),_.complete())},()=>{_.next(y?-1:void 0),_.complete()}))}}(f,g,"value"))}},1703:(B,D,t)=>{"use strict";t.d(D,{$:()=>d});var i=t(68747),n=t(41483),c=t(37610),e=t(45670),f=t(95017),g=t(49220);function d(y,E){const _=arguments.length>=2;return b=>b.pipe(y?(0,n.p)((O,I)=>y(O,I,b)):g.D,(0,c.s)(1),_?(0,e.U)(E):(0,f.v)(()=>new i.G))}},9102:(B,D,t)=>{"use strict";t.d(D,{w:()=>e});var i=t(15351),n=t(42483),c=t(80850);function e(){return(0,i.N)((f,g)=>{f.subscribe((0,n._)(g,c.l))})}},70857:(B,D,t)=>{"use strict";t.d(D,{H:()=>d});var i=t(68747),n=t(41483),c=t(35526),e=t(95017),f=t(45670),g=t(49220);function d(y,E){const _=arguments.length>=2;return b=>b.pipe(y?(0,n.p)((O,I)=>y(O,I,b)):g.D,(0,c.o)(1),_?(0,f.U)(E):(0,e.v)(()=>new i.G))}},47947:(B,D,t)=>{"use strict";t.d(D,{T:()=>c});var i=t(15351),n=t(42483);function c(e,f){return(0,i.N)((g,d)=>{let y=0;g.subscribe((0,n._)(d,E=>{d.next(e.call(f,E,y++))}))})}},66590:(B,D,t)=>{"use strict";t.d(D,{u:()=>n});var i=t(47947);function n(c){return(0,i.T)(()=>c)}},88093:(B,D,t)=>{"use strict";t.d(D,{h:()=>g});var i=t(15351),n=t(49883),c=t(91890),e=t(94327),f=t(33325);function g(...d){const y=(0,e.lI)(d),E=(0,e.R0)(d,1/0);return d=(0,n.K)(d),(0,i.N)((_,b)=>{(0,c.U)(E)((0,f.H)([_,...d],y)).subscribe(b)})}},91890:(B,D,t)=>{"use strict";t.d(D,{U:()=>c});var i=t(27035),n=t(49220);function c(e=1/0){return(0,i.Z)(n.D,e)}},9075:(B,D,t)=>{"use strict";t.d(D,{h:()=>e});var i=t(7225),n=t(98266),c=t(42483);function e(f,g,d,y,E,_,b,O){const I=[];let T=0,R=0,u=!1;const w=()=>{u&&!I.length&&!T&&g.complete()},v=M=>T<y?S(M):I.push(M),S=M=>{_&&g.next(M),T++;let L=!1;(0,i.Tg)(d(M,R++)).subscribe((0,c._)(g,F=>{E?.(F),_?v(F):g.next(F)},()=>{L=!0},void 0,()=>{if(L)try{for(T--;I.length&&T<y;){const F=I.shift();b?(0,n.N)(g,b,()=>S(F)):S(F)}w()}catch(F){g.error(F)}}))};return f.subscribe((0,c._)(g,v,()=>{u=!0,w()})),()=>{O?.()}}},27035:(B,D,t)=>{"use strict";t.d(D,{Z:()=>g});var i=t(47947),n=t(7225),c=t(15351),e=t(9075),f=t(91126);function g(d,y,E=1/0){return(0,f.T)(y)?g((_,b)=>(0,i.T)((O,I)=>y(_,O,b,I))((0,n.Tg)(d(_,b))),E):("number"==typeof y&&(E=y),(0,c.N)((_,b)=>(0,e.h)(_,b,d,E)))}},59668:(B,D,t)=>{"use strict";t.d(D,{Q:()=>e});var i=t(98266),n=t(15351),c=t(42483);function e(f,g=0){return(0,n.N)((d,y)=>{d.subscribe((0,c._)(y,E=>(0,i.N)(y,f,()=>y.next(E),g),()=>(0,i.N)(y,f,()=>y.complete(),g),E=>(0,i.N)(y,f,()=>y.error(E),g)))})}},81215:(B,D,t)=>{"use strict";t.d(D,{T:()=>c});var i=t(20036),n=t(15351);function c(e,f){return(0,n.N)((0,i.S)(e,f,arguments.length>=2,!1,!0))}},83589:(B,D,t)=>{"use strict";t.d(D,{B:()=>c});var i=t(15351),n=t(42483);function c(){return(0,i.N)((e,f)=>{let g=null;e._refCount++;const d=(0,n._)(f,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(g=null);const y=e._connection,E=g;g=null,y&&(!E||y===E)&&y.unsubscribe(),f.unsubscribe()});e.subscribe(d),d.closed||(g=e.connect())})}},44660:(B,D,t)=>{"use strict";t.d(D,{S:()=>c});var i=t(15351),n=t(20036);function c(e,f){return(0,i.N)((0,n.S)(e,f,arguments.length>=2,!0))}},20036:(B,D,t)=>{"use strict";t.d(D,{S:()=>n});var i=t(42483);function n(c,e,f,g,d){return(y,E)=>{let _=f,b=e,O=0;y.subscribe((0,i._)(E,I=>{const T=O++;b=_?c(b,I,T):(_=!0,I),g&&E.next(b)},d&&(()=>{_&&E.next(b),E.complete()})))}}},6218:(B,D,t)=>{"use strict";t.d(D,{u:()=>f});var i=t(7225),n=t(18447),c=t(21540),e=t(15351);function f(d={}){const{connector:y=(()=>new n.B),resetOnError:E=!0,resetOnComplete:_=!0,resetOnRefCountZero:b=!0}=d;return O=>{let I,T,R,u=0,w=!1,v=!1;const S=()=>{T?.unsubscribe(),T=void 0},M=()=>{S(),I=R=void 0,w=v=!1},L=()=>{const F=I;M(),F?.unsubscribe()};return(0,e.N)((F,$)=>{u++,!v&&!w&&S();const j=R=R??y();$.add(()=>{u--,0===u&&!v&&!w&&(T=g(L,b))}),j.subscribe($),!I&&u>0&&(I=new c.Ms({next:x=>j.next(x),error:x=>{v=!0,S(),T=g(M,E,x),j.error(x)},complete:()=>{w=!0,S(),T=g(M,_),j.complete()}}),(0,i.Tg)(F).subscribe(I))})(O)}}function g(d,y,...E){if(!0===y)return void d();if(!1===y)return;const _=new c.Ms({next:()=>{_.unsubscribe(),d()}});return(0,i.Tg)(y(...E)).subscribe(_)}},88249:(B,D,t)=>{"use strict";t.d(D,{t:()=>c});var i=t(17838),n=t(6218);function c(e,f,g){let d,y=!1;return e&&"object"==typeof e?({bufferSize:d=1/0,windowTime:f=1/0,refCount:y=!1,scheduler:g}=e):d=e??1/0,(0,n.u)({connector:()=>new i.m(d,f,g),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:y})}},31866:(B,D,t)=>{"use strict";t.d(D,{i:()=>n});var i=t(41483);function n(c){return(0,i.p)((e,f)=>c<=f)}},15981:(B,D,t)=>{"use strict";t.d(D,{j:()=>c});var i=t(15351),n=t(42483);function c(e){return(0,i.N)((f,g)=>{let d=!1,y=0;f.subscribe((0,n._)(g,E=>(d||(d=!e(E,y++)))&&g.next(E)))})}},30593:(B,D,t)=>{"use strict";t.d(D,{Z:()=>e});var i=t(56765),n=t(94327),c=t(15351);function e(...f){const g=(0,n.lI)(f);return(0,c.N)((d,y)=>{(g?(0,i.x)(f,d,g):(0,i.x)(f,d)).subscribe(y)})}},22867:(B,D,t)=>{"use strict";t.d(D,{n:()=>e});var i=t(7225),n=t(15351),c=t(42483);function e(f,g){return(0,n.N)((d,y)=>{let E=null,_=0,b=!1;const O=()=>b&&!E&&y.complete();d.subscribe((0,c._)(y,I=>{E?.unsubscribe();let T=0;const R=_++;(0,i.Tg)(f(I,R)).subscribe(E=(0,c._)(y,u=>y.next(g?g(I,u,R,T++):u),()=>{E=null,O()}))},()=>{b=!0,O()}))})}},37610:(B,D,t)=>{"use strict";t.d(D,{s:()=>e});var i=t(76564),n=t(15351),c=t(42483);function e(f){return f<=0?()=>i.w:(0,n.N)((g,d)=>{let y=0;g.subscribe((0,c._)(d,E=>{++y<=f&&(d.next(E),f<=y&&d.complete())}))})}},35526:(B,D,t)=>{"use strict";t.d(D,{o:()=>e});var i=t(76564),n=t(15351),c=t(42483);function e(f){return f<=0?()=>i.w:(0,n.N)((g,d)=>{let y=[];g.subscribe((0,c._)(d,E=>{y.push(E),f<y.length&&y.shift()},()=>{for(const E of y)d.next(E);d.complete()},void 0,()=>{y=null}))})}},5424:(B,D,t)=>{"use strict";t.d(D,{Q:()=>f});var i=t(15351),n=t(42483),c=t(7225),e=t(80850);function f(g){return(0,i.N)((d,y)=>{(0,c.Tg)(g).subscribe((0,n._)(y,()=>y.complete(),e.l)),!y.closed&&d.subscribe(y)})}},28445:(B,D,t)=>{"use strict";t.d(D,{v:()=>c});var i=t(15351),n=t(42483);function c(e,f=!1){return(0,i.N)((g,d)=>{let y=0;g.subscribe((0,n._)(d,E=>{const _=e(E,y++);(_||f)&&d.next(E),!_&&d.complete()}))})}},82040:(B,D,t)=>{"use strict";t.d(D,{M:()=>f});var i=t(91126),n=t(15351),c=t(42483),e=t(49220);function f(g,d,y){const E=(0,i.T)(g)||d||y?{next:g,error:d,complete:y}:g;return E?(0,n.N)((_,b)=>{var O;null===(O=E.subscribe)||void 0===O||O.call(E);let I=!0;_.subscribe((0,c._)(b,T=>{var R;null===(R=E.next)||void 0===R||R.call(E,T),b.next(T)},()=>{var T;I=!1,null===(T=E.complete)||void 0===T||T.call(E),b.complete()},T=>{var R;I=!1,null===(R=E.error)||void 0===R||R.call(E,T),b.error(T)},()=>{var T,R;I&&(null===(T=E.unsubscribe)||void 0===T||T.call(E)),null===(R=E.finalize)||void 0===R||R.call(E)}))}):e.D}},95017:(B,D,t)=>{"use strict";t.d(D,{v:()=>e});var i=t(68747),n=t(15351),c=t(42483);function e(g=f){return(0,n.N)((d,y)=>{let E=!1;d.subscribe((0,c._)(y,_=>{E=!0,y.next(_)},()=>E?y.complete():y.error(g())))})}function f(){return new i.G}},42267:(B,D,t)=>{"use strict";t.d(D,{$:()=>e});var i=t(81215),n=t(15351);const c=(f,g)=>(f.push(g),f);function e(){return(0,n.N)((f,g)=>{(0,i.T)(c,[])(f).subscribe(g)})}},71894:(B,D,t)=>{"use strict";t.d(D,{E:()=>d});var i=t(15351),n=t(42483),c=t(7225),e=t(49220),f=t(80850),g=t(94327);function d(...y){const E=(0,g.ms)(y);return(0,i.N)((_,b)=>{const O=y.length,I=new Array(O);let T=y.map(()=>!1),R=!1;for(let u=0;u<O;u++)(0,c.Tg)(y[u]).subscribe((0,n._)(b,w=>{I[u]=w,!R&&!T[u]&&(T[u]=!0,(R=T.every(e.D))&&(T=null))},f.l));_.subscribe((0,n._)(b,u=>{if(R){const w=[u,...I];b.next(E?E(...w):w)}}))})}},19899:(B,D,t)=>{"use strict";t.d(D,{R:()=>f});var i=t(85710);class n extends i.yU{constructor(d,y){super()}schedule(d,y=0){return this}}const c={setInterval(g,d,...y){const{delegate:E}=c;return E?.setInterval?E.setInterval(g,d,...y):setInterval(g,d,...y)},clearInterval(g){const{delegate:d}=c;return(d?.clearInterval||clearInterval)(g)},delegate:void 0};var e=t(95891);class f extends n{constructor(d,y){super(d,y),this.scheduler=d,this.work=y,this.pending=!1}schedule(d,y=0){var E;if(this.closed)return this;this.state=d;const _=this.id,b=this.scheduler;return null!=_&&(this.id=this.recycleAsyncId(b,_,y)),this.pending=!0,this.delay=y,this.id=null!==(E=this.id)&&void 0!==E?E:this.requestAsyncId(b,this.id,y),this}requestAsyncId(d,y,E=0){return c.setInterval(d.flush.bind(d,this),E)}recycleAsyncId(d,y,E=0){if(null!=E&&this.delay===E&&!1===this.pending)return y;null!=y&&c.clearInterval(y)}execute(d,y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const E=this._execute(d,y);if(E)return E;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(d,y){let _,E=!1;try{this.work(d)}catch(b){E=!0,_=b||new Error("Scheduled action threw falsy error")}if(E)return this.unsubscribe(),_}unsubscribe(){if(!this.closed){const{id:d,scheduler:y}=this,{actions:E}=y;this.work=this.state=this.scheduler=null,this.pending=!1,(0,e.o)(E,this),null!=d&&(this.id=this.recycleAsyncId(y,d,null)),this.delay=null,super.unsubscribe()}}}},48050:(B,D,t)=>{"use strict";t.d(D,{q:()=>c});var i=t(66188);class n{constructor(f,g=n.now){this.schedulerActionCtor=f,this.now=g}schedule(f,g=0,d){return new this.schedulerActionCtor(this,f).schedule(d,g)}}n.now=i.U.now;class c extends n{constructor(f,g=n.now){super(f,g),this.actions=[],this._active=!1}flush(f){const{actions:g}=this;if(this._active)return void g.push(f);let d;this._active=!0;do{if(d=f.execute(f.state,f.delay))break}while(f=g.shift());if(this._active=!1,d){for(;f=g.shift();)f.unsubscribe();throw d}}}},74984:(B,D,t)=>{"use strict";t.d(D,{$:()=>T});var i=t(19899);let c,n=1;const e={};function f(u){return u in e&&(delete e[u],!0)}const g={setImmediate(u){const w=n++;return e[w]=!0,c||(c=Promise.resolve()),c.then(()=>f(w)&&u()),w},clearImmediate(u){f(u)}},{setImmediate:y,clearImmediate:E}=g,_={setImmediate(...u){const{delegate:w}=_;return(w?.setImmediate||y)(...u)},clearImmediate(u){const{delegate:w}=_;return(w?.clearImmediate||E)(u)},delegate:void 0};var O=t(48050);const T=new class I extends O.q{flush(w){this._active=!0;const v=this._scheduled;this._scheduled=void 0;const{actions:S}=this;let M;w=w||S.shift();do{if(M=w.execute(w.state,w.delay))break}while((w=S[0])&&w.id===v&&S.shift());if(this._active=!1,M){for(;(w=S[0])&&w.id===v&&S.shift();)w.unsubscribe();throw M}}}(class b extends i.R{constructor(w,v){super(w,v),this.scheduler=w,this.work=v}requestAsyncId(w,v,S=0){return null!==S&&S>0?super.requestAsyncId(w,v,S):(w.actions.push(this),w._scheduled||(w._scheduled=_.setImmediate(w.flush.bind(w,void 0))))}recycleAsyncId(w,v,S=0){var M;if(null!=S?S>0:this.delay>0)return super.recycleAsyncId(w,v,S);const{actions:L}=w;null!=v&&(null===(M=L[L.length-1])||void 0===M?void 0:M.id)!==v&&(_.clearImmediate(v),w._scheduled===v&&(w._scheduled=void 0))}})},26061:(B,D,t)=>{"use strict";t.d(D,{E:()=>c,b:()=>e});var i=t(19899);const c=new(t(48050).q)(i.R),e=c},66188:(B,D,t)=>{"use strict";t.d(D,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},55623:(B,D,t)=>{"use strict";t.d(D,{T:()=>f});var i=t(19899),c=t(48050);const f=new class e extends c.q{}(class n extends i.R{constructor(y,E){super(y,E),this.scheduler=y,this.work=E}schedule(y,E=0){return E>0?super.schedule(y,E):(this.delay=E,this.state=y,this.scheduler.flush(this),this)}execute(y,E){return E>0||this.closed?super.execute(y,E):this._execute(y,E)}requestAsyncId(y,E,_=0){return null!=_&&_>0||null==_&&this.delay>0?super.requestAsyncId(y,E,_):(y.flush(this),0)}})},73695:(B,D,t)=>{"use strict";t.d(D,{f:()=>i});const i={setTimeout(n,c,...e){const{delegate:f}=i;return f?.setTimeout?f.setTimeout(n,c,...e):setTimeout(n,c,...e)},clearTimeout(n){const{delegate:c}=i;return(c?.clearTimeout||clearTimeout)(n)},delegate:void 0}},96952:(B,D,t)=>{"use strict";t.d(D,{l:()=>n});const n=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},22563:(B,D,t)=>{"use strict";t.d(D,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},68747:(B,D,t)=>{"use strict";t.d(D,{G:()=>n});const n=(0,t(95644).L)(c=>function(){c(this),this.name="EmptyError",this.message="no elements in sequence"})},94327:(B,D,t)=>{"use strict";t.d(D,{R0:()=>g,lI:()=>f,ms:()=>e});var i=t(91126),n=t(29921);function c(d){return d[d.length-1]}function e(d){return(0,i.T)(c(d))?d.pop():void 0}function f(d){return(0,n.m)(c(d))?d.pop():void 0}function g(d,y){return"number"==typeof c(d)?d.pop():y}},73740:(B,D,t)=>{"use strict";t.d(D,{D:()=>f});const{isArray:i}=Array,{getPrototypeOf:n,prototype:c,keys:e}=Object;function f(d){if(1===d.length){const y=d[0];if(i(y))return{args:y,keys:null};if(function g(d){return d&&"object"==typeof d&&n(d)===c}(y)){const E=e(y);return{args:E.map(_=>y[_]),keys:E}}}return{args:d,keys:null}}},49883:(B,D,t)=>{"use strict";t.d(D,{K:()=>n});const{isArray:i}=Array;function n(c){return 1===c.length&&i(c[0])?c[0]:c}},95891:(B,D,t)=>{"use strict";function i(n,c){if(n){const e=n.indexOf(c);0<=e&&n.splice(e,1)}}t.d(D,{o:()=>i})},95644:(B,D,t)=>{"use strict";function i(n){const e=n(f=>{Error.call(f),f.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}t.d(D,{L:()=>i})},29321:(B,D,t)=>{"use strict";function i(n,c){return n.reduce((e,f,g)=>(e[f]=c[g],e),{})}t.d(D,{e:()=>i})},34171:(B,D,t)=>{"use strict";t.d(D,{Y:()=>c,l:()=>e});var i=t(43305);let n=null;function c(f){if(i.$.useDeprecatedSynchronousErrorHandling){const g=!n;if(g&&(n={errorThrown:!1,error:null}),f(),g){const{errorThrown:d,error:y}=n;if(n=null,d)throw y}}else f()}function e(f){i.$.useDeprecatedSynchronousErrorHandling&&n&&(n.errorThrown=!0,n.error=f)}},98266:(B,D,t)=>{"use strict";function i(n,c,e,f=0,g=!1){const d=c.schedule(function(){e(),g?n.add(this.schedule(null,f)):this.unsubscribe()},f);if(n.add(d),!g)return d}t.d(D,{N:()=>i})},49220:(B,D,t)=>{"use strict";function i(n){return n}t.d(D,{D:()=>i})},56786:(B,D,t)=>{"use strict";t.d(D,{X:()=>i});const i=n=>n&&"number"==typeof n.length&&"function"!=typeof n},18394:(B,D,t)=>{"use strict";t.d(D,{T:()=>n});var i=t(91126);function n(c){return Symbol.asyncIterator&&(0,i.T)(c?.[Symbol.asyncIterator])}},91126:(B,D,t)=>{"use strict";function i(n){return"function"==typeof n}t.d(D,{T:()=>i})},6600:(B,D,t)=>{"use strict";t.d(D,{l:()=>c});var i=t(22563),n=t(91126);function c(e){return(0,n.T)(e[i.s])}},4876:(B,D,t)=>{"use strict";t.d(D,{x:()=>c});var i=t(96952),n=t(91126);function c(e){return(0,n.T)(e?.[i.l])}},11531:(B,D,t)=>{"use strict";t.d(D,{A:()=>c});var i=t(51698),n=t(91126);function c(e){return!!e&&(e instanceof i.c||(0,n.T)(e.lift)&&(0,n.T)(e.subscribe))}},96505:(B,D,t)=>{"use strict";t.d(D,{y:()=>n});var i=t(91126);function n(c){return(0,i.T)(c?.then)}},13173:(B,D,t)=>{"use strict";t.d(D,{C:()=>c,U:()=>e});var i=t(31635),n=t(91126);function c(f){return(0,i.AQ)(this,arguments,function*(){const d=f.getReader();try{for(;;){const{value:y,done:E}=yield(0,i.N3)(d.read());if(E)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(y)}}finally{d.releaseLock()}})}function e(f){return(0,n.T)(f?.getReader)}},29921:(B,D,t)=>{"use strict";t.d(D,{m:()=>n});var i=t(91126);function n(c){return c&&(0,i.T)(c.schedule)}},15351:(B,D,t)=>{"use strict";t.d(D,{N:()=>c,S:()=>n});var i=t(91126);function n(e){return(0,i.T)(e?.lift)}function c(e){return f=>{if(n(f))return f.lift(function(g){try{return e(g,this)}catch(d){this.error(d)}});throw new TypeError("Unable to lift unknown Observable type")}}},83759:(B,D,t)=>{"use strict";t.d(D,{I:()=>e});var i=t(47947);const{isArray:n}=Array;function e(f){return(0,i.T)(g=>function c(f,g){return n(g)?f(...g):f(g)}(f,g))}},80850:(B,D,t)=>{"use strict";function i(){}t.d(D,{l:()=>i})},26742:(B,D,t)=>{"use strict";t.d(D,{F:()=>n,m:()=>c});var i=t(49220);function n(...e){return c(e)}function c(e){return 0===e.length?i.D:1===e.length?e[0]:function(g){return e.reduce((d,y)=>y(d),g)}}},40191:(B,D,t)=>{"use strict";t.d(D,{m:()=>c});var i=t(43305),n=t(73695);function c(e){n.f.setTimeout(()=>{const{onUnhandledError:f}=i.$;if(!f)throw e;f(e)})}},38810:(B,D,t)=>{"use strict";function i(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}t.d(D,{L:()=>i})},30661:(B,D,t)=>{"use strict";t.d(D,{A:()=>O});var i,n=new Uint8Array(16);function c(){if(!i&&!(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(n)}const e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var d=[],y=0;y<256;++y)d.push((y+256).toString(16).substr(1));const _=function E(I){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,R=(d[I[T+0]]+d[I[T+1]]+d[I[T+2]]+d[I[T+3]]+"-"+d[I[T+4]]+d[I[T+5]]+"-"+d[I[T+6]]+d[I[T+7]]+"-"+d[I[T+8]]+d[I[T+9]]+"-"+d[I[T+10]]+d[I[T+11]]+d[I[T+12]]+d[I[T+13]]+d[I[T+14]]+d[I[T+15]]).toLowerCase();if(!function f(I){return"string"==typeof I&&e.test(I)}(R))throw TypeError("Stringified UUID is invalid");return R},O=function b(I,T,R){var u=(I=I||{}).random||(I.rng||c)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,T){R=R||0;for(var w=0;w<16;++w)T[R+w]=u[w];return T}return _(u)}},39408:()=>{"use strict";!function(je){const Re=je.performance;function ne(vt){Re&&Re.mark&&Re.mark(vt)}function Ee(vt,ht){Re&&Re.measure&&Re.measure(vt,ht)}ne("Zone");const ke=je.__Zone_symbol_prefix||"__zone_symbol__";function dt(vt){return ke+vt}const Bt=!0===je[dt("forceDuplicateZoneCheck")];if(je.Zone){if(Bt||"function"!=typeof je.Zone.__symbol__)throw new Error("Zone already loaded.");return je.Zone}let wt=(()=>{class vt{static#e=this.__symbol__=dt;static assertZonePatched(){if(je.Promise!==Wt.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let lt=vt.current;for(;lt.parent;)lt=lt.parent;return lt}static get current(){return Pn.zone}static get currentTask(){return ps}static __load_patch(lt,jt,Ln=!1){if(Wt.hasOwnProperty(lt)){if(!Ln&&Bt)throw Error("Already loaded patch: "+lt)}else if(!je["__Zone_disable_"+lt]){const ls="Zone:"+lt;ne(ls),Wt[lt]=jt(je,vt,bn),Ee(ls,ls)}}get parent(){return this._parent}get name(){return this._name}constructor(lt,jt){this._parent=lt,this._name=jt?jt.name||"unnamed":"<root>",this._properties=jt&&jt.properties||{},this._zoneDelegate=new It(this,this._parent&&this._parent._zoneDelegate,jt)}get(lt){const jt=this.getZoneWith(lt);if(jt)return jt._properties[lt]}getZoneWith(lt){let jt=this;for(;jt;){if(jt._properties.hasOwnProperty(lt))return jt;jt=jt._parent}return null}fork(lt){if(!lt)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,lt)}wrap(lt,jt){if("function"!=typeof lt)throw new Error("Expecting function got: "+lt);const Ln=this._zoneDelegate.intercept(this,lt,jt),ls=this;return function(){return ls.runGuarded(Ln,this,arguments,jt)}}run(lt,jt,Ln,ls){Pn={parent:Pn,zone:this};try{return this._zoneDelegate.invoke(this,lt,jt,Ln,ls)}finally{Pn=Pn.parent}}runGuarded(lt,jt=null,Ln,ls){Pn={parent:Pn,zone:this};try{try{return this._zoneDelegate.invoke(this,lt,jt,Ln,ls)}catch(As){if(this._zoneDelegate.handleError(this,As))throw As}}finally{Pn=Pn.parent}}runTask(lt,jt,Ln){if(lt.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(lt.zone||zt).name+"; Execution: "+this.name+")");if(lt.state===gt&&(lt.type===Dt||lt.type===Ot))return;const ls=lt.state!=He;ls&&lt._transitionTo(He,Ze),lt.runCount++;const As=ps;ps=lt,Pn={parent:Pn,zone:this};try{lt.type==Ot&&lt.data&&!lt.data.isPeriodic&&(lt.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,lt,jt,Ln)}catch(In){if(this._zoneDelegate.handleError(this,In))throw In}}finally{lt.state!==gt&&lt.state!==Ct&&(lt.type==Dt||lt.data&&lt.data.isPeriodic?ls&&lt._transitionTo(Ze,He):(lt.runCount=0,this._updateTaskCount(lt,-1),ls&&lt._transitionTo(gt,He,gt))),Pn=Pn.parent,ps=As}}scheduleTask(lt){if(lt.zone&&lt.zone!==this){let Ln=this;for(;Ln;){if(Ln===lt.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${lt.zone.name}`);Ln=Ln.parent}}lt._transitionTo(Ke,gt);const jt=[];lt._zoneDelegates=jt,lt._zone=this;try{lt=this._zoneDelegate.scheduleTask(this,lt)}catch(Ln){throw lt._transitionTo(Ct,Ke,gt),this._zoneDelegate.handleError(this,Ln),Ln}return lt._zoneDelegates===jt&&this._updateTaskCount(lt,1),lt.state==Ke&&lt._transitionTo(Ze,Ke),lt}scheduleMicroTask(lt,jt,Ln,ls){return this.scheduleTask(new $t(Qe,lt,jt,Ln,ls,void 0))}scheduleMacroTask(lt,jt,Ln,ls,As){return this.scheduleTask(new $t(Ot,lt,jt,Ln,ls,As))}scheduleEventTask(lt,jt,Ln,ls,As){return this.scheduleTask(new $t(Dt,lt,jt,Ln,ls,As))}cancelTask(lt){if(lt.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(lt.zone||zt).name+"; Execution: "+this.name+")");if(lt.state===Ze||lt.state===He){lt._transitionTo(We,Ze,He);try{this._zoneDelegate.cancelTask(this,lt)}catch(jt){throw lt._transitionTo(Ct,We),this._zoneDelegate.handleError(this,jt),jt}return this._updateTaskCount(lt,-1),lt._transitionTo(gt,We),lt.runCount=0,lt}}_updateTaskCount(lt,jt){const Ln=lt._zoneDelegates;-1==jt&&(lt._zoneDelegates=null);for(let ls=0;ls<Ln.length;ls++)Ln[ls]._updateTaskCount(lt.type,jt)}}return vt})();const tn={name:"",onHasTask:(vt,ht,lt,jt)=>vt.hasTask(lt,jt),onScheduleTask:(vt,ht,lt,jt)=>vt.scheduleTask(lt,jt),onInvokeTask:(vt,ht,lt,jt,Ln,ls)=>vt.invokeTask(lt,jt,Ln,ls),onCancelTask:(vt,ht,lt,jt)=>vt.cancelTask(lt,jt)};class It{constructor(ht,lt,jt){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=ht,this._parentDelegate=lt,this._forkZS=jt&&(jt&&jt.onFork?jt:lt._forkZS),this._forkDlgt=jt&&(jt.onFork?lt:lt._forkDlgt),this._forkCurrZone=jt&&(jt.onFork?this.zone:lt._forkCurrZone),this._interceptZS=jt&&(jt.onIntercept?jt:lt._interceptZS),this._interceptDlgt=jt&&(jt.onIntercept?lt:lt._interceptDlgt),this._interceptCurrZone=jt&&(jt.onIntercept?this.zone:lt._interceptCurrZone),this._invokeZS=jt&&(jt.onInvoke?jt:lt._invokeZS),this._invokeDlgt=jt&&(jt.onInvoke?lt:lt._invokeDlgt),this._invokeCurrZone=jt&&(jt.onInvoke?this.zone:lt._invokeCurrZone),this._handleErrorZS=jt&&(jt.onHandleError?jt:lt._handleErrorZS),this._handleErrorDlgt=jt&&(jt.onHandleError?lt:lt._handleErrorDlgt),this._handleErrorCurrZone=jt&&(jt.onHandleError?this.zone:lt._handleErrorCurrZone),this._scheduleTaskZS=jt&&(jt.onScheduleTask?jt:lt._scheduleTaskZS),this._scheduleTaskDlgt=jt&&(jt.onScheduleTask?lt:lt._scheduleTaskDlgt),this._scheduleTaskCurrZone=jt&&(jt.onScheduleTask?this.zone:lt._scheduleTaskCurrZone),this._invokeTaskZS=jt&&(jt.onInvokeTask?jt:lt._invokeTaskZS),this._invokeTaskDlgt=jt&&(jt.onInvokeTask?lt:lt._invokeTaskDlgt),this._invokeTaskCurrZone=jt&&(jt.onInvokeTask?this.zone:lt._invokeTaskCurrZone),this._cancelTaskZS=jt&&(jt.onCancelTask?jt:lt._cancelTaskZS),this._cancelTaskDlgt=jt&&(jt.onCancelTask?lt:lt._cancelTaskDlgt),this._cancelTaskCurrZone=jt&&(jt.onCancelTask?this.zone:lt._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const Ln=jt&&jt.onHasTask;(Ln||lt&&lt._hasTaskZS)&&(this._hasTaskZS=Ln?jt:tn,this._hasTaskDlgt=lt,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=ht,jt.onScheduleTask||(this._scheduleTaskZS=tn,this._scheduleTaskDlgt=lt,this._scheduleTaskCurrZone=this.zone),jt.onInvokeTask||(this._invokeTaskZS=tn,this._invokeTaskDlgt=lt,this._invokeTaskCurrZone=this.zone),jt.onCancelTask||(this._cancelTaskZS=tn,this._cancelTaskDlgt=lt,this._cancelTaskCurrZone=this.zone))}fork(ht,lt){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,ht,lt):new wt(ht,lt)}intercept(ht,lt,jt){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,ht,lt,jt):lt}invoke(ht,lt,jt,Ln,ls){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,ht,lt,jt,Ln,ls):lt.apply(jt,Ln)}handleError(ht,lt){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,ht,lt)}scheduleTask(ht,lt){let jt=lt;if(this._scheduleTaskZS)this._hasTaskZS&&jt._zoneDelegates.push(this._hasTaskDlgtOwner),jt=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,ht,lt),jt||(jt=lt);else if(lt.scheduleFn)lt.scheduleFn(lt);else{if(lt.type!=Qe)throw new Error("Task is missing scheduleFn.");Dn(lt)}return jt}invokeTask(ht,lt,jt,Ln){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,ht,lt,jt,Ln):lt.callback.apply(jt,Ln)}cancelTask(ht,lt){let jt;if(this._cancelTaskZS)jt=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,ht,lt);else{if(!lt.cancelFn)throw Error("Task is not cancelable");jt=lt.cancelFn(lt)}return jt}hasTask(ht,lt){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,ht,lt)}catch(jt){this.handleError(ht,jt)}}_updateTaskCount(ht,lt){const jt=this._taskCounts,Ln=jt[ht],ls=jt[ht]=Ln+lt;if(ls<0)throw new Error("More tasks executed then were scheduled.");0!=Ln&&0!=ls||this.hasTask(this.zone,{microTask:jt.microTask>0,macroTask:jt.macroTask>0,eventTask:jt.eventTask>0,change:ht})}}class $t{constructor(ht,lt,jt,Ln,ls,As){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=ht,this.source=lt,this.data=Ln,this.scheduleFn=ls,this.cancelFn=As,!jt)throw new Error("callback is not defined");this.callback=jt;const In=this;this.invoke=ht===Dt&&Ln&&Ln.useG?$t.invokeTask:function(){return $t.invokeTask.call(je,In,this,arguments)}}static invokeTask(ht,lt,jt){ht||(ht=this),ks++;try{return ht.runCount++,ht.zone.runTask(ht,lt,jt)}finally{1==ks&&Lt(),ks--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(gt,Ke)}_transitionTo(ht,lt,jt){if(this._state!==lt&&this._state!==jt)throw new Error(`${this.type} '${this.source}': can not transition to '${ht}', expecting state '${lt}'${jt?" or '"+jt+"'":""}, was '${this._state}'.`);this._state=ht,ht==gt&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Zt=dt("setTimeout"),mn=dt("Promise"),Rn=dt("then");let xs,os=[],Mn=!1;function rn(vt){if(xs||je[mn]&&(xs=je[mn].resolve(0)),xs){let ht=xs[Rn];ht||(ht=xs.then),ht.call(xs,vt)}else je[Zt](vt,0)}function Dn(vt){0===ks&&0===os.length&&rn(Lt),vt&&os.push(vt)}function Lt(){if(!Mn){for(Mn=!0;os.length;){const vt=os;os=[];for(let ht=0;ht<vt.length;ht++){const lt=vt[ht];try{lt.zone.runTask(lt,null,null)}catch(jt){bn.onUnhandledError(jt)}}}bn.microtaskDrainDone(),Mn=!1}}const zt={name:"NO ZONE"},gt="notScheduled",Ke="scheduling",Ze="scheduled",He="running",We="canceling",Ct="unknown",Qe="microTask",Ot="macroTask",Dt="eventTask",Wt={},bn={symbol:dt,currentZoneFrame:()=>Pn,onUnhandledError:Fs,microtaskDrainDone:Fs,scheduleMicroTask:Dn,showUncaughtError:()=>!wt[dt("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Fs,patchMethod:()=>Fs,bindArguments:()=>[],patchThen:()=>Fs,patchMacroTask:()=>Fs,patchEventPrototype:()=>Fs,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Fs,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Fs,wrapWithCurrentZone:()=>Fs,filterProperties:()=>[],attachOriginToPatched:()=>Fs,_redefineProperty:()=>Fs,patchCallbacks:()=>Fs,nativeScheduleMicroTask:rn};let Pn={parent:null,zone:new wt(null,null)},ps=null,ks=0;function Fs(){}Ee("Zone","Zone"),je.Zone=wt}(globalThis);const B=Object.getOwnPropertyDescriptor,D=Object.defineProperty,t=Object.getPrototypeOf,i=Object.create,n=Array.prototype.slice,c="addEventListener",e="removeEventListener",f=Zone.__symbol__(c),g=Zone.__symbol__(e),d="true",y="false",E=Zone.__symbol__("");function _(je,Re){return Zone.current.wrap(je,Re)}function b(je,Re,ne,Ee,ke){return Zone.current.scheduleMacroTask(je,Re,ne,Ee,ke)}const O=Zone.__symbol__,I=typeof window<"u",T=I?window:void 0,R=I&&T||globalThis,u="removeAttribute";function w(je,Re){for(let ne=je.length-1;ne>=0;ne--)"function"==typeof je[ne]&&(je[ne]=_(je[ne],Re+"_"+ne));return je}function S(je){return!je||!1!==je.writable&&!("function"==typeof je.get&&typeof je.set>"u")}const M=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,L=!("nw"in R)&&typeof R.process<"u"&&"[object process]"==={}.toString.call(R.process),F=!L&&!M&&!(!I||!T.HTMLElement),$=typeof R.process<"u"&&"[object process]"==={}.toString.call(R.process)&&!M&&!(!I||!T.HTMLElement),j={},x=function(je){if(!(je=je||R.event))return;let Re=j[je.type];Re||(Re=j[je.type]=O("ON_PROPERTY"+je.type));const ne=this||je.target||R,Ee=ne[Re];let ke;return F&&ne===T&&"error"===je.type?(ke=Ee&&Ee.call(this,je.message,je.filename,je.lineno,je.colno,je.error),!0===ke&&je.preventDefault()):(ke=Ee&&Ee.apply(this,arguments),null!=ke&&!ke&&je.preventDefault()),ke};function G(je,Re,ne){let Ee=B(je,Re);if(!Ee&&ne&&B(ne,Re)&&(Ee={enumerable:!0,configurable:!0}),!Ee||!Ee.configurable)return;const ke=O("on"+Re+"patched");if(je.hasOwnProperty(ke)&&je[ke])return;delete Ee.writable,delete Ee.value;const dt=Ee.get,Bt=Ee.set,wt=Re.slice(2);let tn=j[wt];tn||(tn=j[wt]=O("ON_PROPERTY"+wt)),Ee.set=function(It){let $t=this;!$t&&je===R&&($t=R),$t&&("function"==typeof $t[tn]&&$t.removeEventListener(wt,x),Bt&&Bt.call($t,null),$t[tn]=It,"function"==typeof It&&$t.addEventListener(wt,x,!1))},Ee.get=function(){let It=this;if(!It&&je===R&&(It=R),!It)return null;const $t=It[tn];if($t)return $t;if(dt){let Zt=dt.call(this);if(Zt)return Ee.set.call(this,Zt),"function"==typeof It[u]&&It.removeAttribute(Re),Zt}return null},D(je,Re,Ee),je[ke]=!0}function Y(je,Re,ne){if(Re)for(let Ee=0;Ee<Re.length;Ee++)G(je,"on"+Re[Ee],ne);else{const Ee=[];for(const ke in je)"on"==ke.slice(0,2)&&Ee.push(ke);for(let ke=0;ke<Ee.length;ke++)G(je,Ee[ke],ne)}}const V=O("originalInstance");function X(je){const Re=R[je];if(!Re)return;R[O(je)]=Re,R[je]=function(){const ke=w(arguments,je);switch(ke.length){case 0:this[V]=new Re;break;case 1:this[V]=new Re(ke[0]);break;case 2:this[V]=new Re(ke[0],ke[1]);break;case 3:this[V]=new Re(ke[0],ke[1],ke[2]);break;case 4:this[V]=new Re(ke[0],ke[1],ke[2],ke[3]);break;default:throw new Error("Arg list too long.")}},Q(R[je],Re);const ne=new Re(function(){});let Ee;for(Ee in ne)"XMLHttpRequest"===je&&"responseBlob"===Ee||function(ke){"function"==typeof ne[ke]?R[je].prototype[ke]=function(){return this[V][ke].apply(this[V],arguments)}:D(R[je].prototype,ke,{set:function(dt){"function"==typeof dt?(this[V][ke]=_(dt,je+"."+ke),Q(this[V][ke],dt)):this[V][ke]=dt},get:function(){return this[V][ke]}})}(Ee);for(Ee in Re)"prototype"!==Ee&&Re.hasOwnProperty(Ee)&&(R[je][Ee]=Re[Ee])}function K(je,Re,ne){let Ee=je;for(;Ee&&!Ee.hasOwnProperty(Re);)Ee=t(Ee);!Ee&&je[Re]&&(Ee=je);const ke=O(Re);let dt=null;if(Ee&&(!(dt=Ee[ke])||!Ee.hasOwnProperty(ke))&&(dt=Ee[ke]=Ee[Re],S(Ee&&B(Ee,Re)))){const wt=ne(dt,ke,Re);Ee[Re]=function(){return wt(this,arguments)},Q(Ee[Re],dt)}return dt}function ae(je,Re,ne){let Ee=null;function ke(dt){const Bt=dt.data;return Bt.args[Bt.cbIdx]=function(){dt.invoke.apply(this,arguments)},Ee.apply(Bt.target,Bt.args),dt}Ee=K(je,Re,dt=>function(Bt,wt){const tn=ne(Bt,wt);return tn.cbIdx>=0&&"function"==typeof wt[tn.cbIdx]?b(tn.name,wt[tn.cbIdx],tn,ke):dt.apply(Bt,wt)})}function Q(je,Re){je[O("OriginalDelegate")]=Re}let J=!1,z=!1;function ee(){if(J)return z;J=!0;try{const je=T.navigator.userAgent;(-1!==je.indexOf("MSIE ")||-1!==je.indexOf("Trident/")||-1!==je.indexOf("Edge/"))&&(z=!0)}catch{}return z}Zone.__load_patch("ZoneAwarePromise",(je,Re,ne)=>{const Ee=Object.getOwnPropertyDescriptor,ke=Object.defineProperty,Bt=ne.symbol,wt=[],tn=!1!==je[Bt("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],It=Bt("Promise"),$t=Bt("then"),Zt="__creationTrace__";ne.onUnhandledError=In=>{if(ne.showUncaughtError()){const yn=In&&In.rejection;yn?console.error("Unhandled Promise rejection:",yn instanceof Error?yn.message:yn,"; Zone:",In.zone.name,"; Task:",In.task&&In.task.source,"; Value:",yn,yn instanceof Error?yn.stack:void 0):console.error(In)}},ne.microtaskDrainDone=()=>{for(;wt.length;){const In=wt.shift();try{In.zone.runGuarded(()=>{throw In.throwOriginal?In.rejection:In})}catch(yn){Rn(yn)}}};const mn=Bt("unhandledPromiseRejectionHandler");function Rn(In){ne.onUnhandledError(In);try{const yn=Re[mn];"function"==typeof yn&&yn.call(this,In)}catch{}}function os(In){return In&&In.then}function Mn(In){return In}function xs(In){return lt.reject(In)}const rn=Bt("state"),Dn=Bt("value"),Lt=Bt("finally"),zt=Bt("parentPromiseValue"),gt=Bt("parentPromiseState"),Ke="Promise.then",Ze=null,He=!0,We=!1,Ct=0;function Qe(In,yn){return hn=>{try{bn(In,yn,hn)}catch(Un){bn(In,!1,Un)}}}const Ot=function(){let In=!1;return function(hn){return function(){In||(In=!0,hn.apply(null,arguments))}}},Dt="Promise resolved with itself",Wt=Bt("currentTaskTrace");function bn(In,yn,hn){const Un=Ot();if(In===hn)throw new TypeError(Dt);if(In[rn]===Ze){let ns=null;try{("object"==typeof hn||"function"==typeof hn)&&(ns=hn&&hn.then)}catch(fs){return Un(()=>{bn(In,!1,fs)})(),In}if(yn!==We&&hn instanceof lt&&hn.hasOwnProperty(rn)&&hn.hasOwnProperty(Dn)&&hn[rn]!==Ze)ps(hn),bn(In,hn[rn],hn[Dn]);else if(yn!==We&&"function"==typeof ns)try{ns.call(hn,Un(Qe(In,yn)),Un(Qe(In,!1)))}catch(fs){Un(()=>{bn(In,!1,fs)})()}else{In[rn]=yn;const fs=In[Dn];if(In[Dn]=hn,In[Lt]===Lt&&yn===He&&(In[rn]=In[gt],In[Dn]=In[zt]),yn===We&&hn instanceof Error){const Zn=Re.currentTask&&Re.currentTask.data&&Re.currentTask.data[Zt];Zn&&ke(hn,Wt,{configurable:!0,enumerable:!1,writable:!0,value:Zn})}for(let Zn=0;Zn<fs.length;)ks(In,fs[Zn++],fs[Zn++],fs[Zn++],fs[Zn++]);if(0==fs.length&&yn==We){In[rn]=Ct;let Zn=hn;try{throw new Error("Uncaught (in promise): "+function dt(In){return In&&In.toString===Object.prototype.toString?(In.constructor&&In.constructor.name||"")+": "+JSON.stringify(In):In?In.toString():Object.prototype.toString.call(In)}(hn)+(hn&&hn.stack?"\n"+hn.stack:""))}catch(_s){Zn=_s}tn&&(Zn.throwOriginal=!0),Zn.rejection=hn,Zn.promise=In,Zn.zone=Re.current,Zn.task=Re.currentTask,wt.push(Zn),ne.scheduleMicroTask()}}}return In}const Pn=Bt("rejectionHandledHandler");function ps(In){if(In[rn]===Ct){try{const yn=Re[Pn];yn&&"function"==typeof yn&&yn.call(this,{rejection:In[Dn],promise:In})}catch{}In[rn]=We;for(let yn=0;yn<wt.length;yn++)In===wt[yn].promise&&wt.splice(yn,1)}}function ks(In,yn,hn,Un,ns){ps(In);const fs=In[rn],Zn=fs?"function"==typeof Un?Un:Mn:"function"==typeof ns?ns:xs;yn.scheduleMicroTask(Ke,()=>{try{const _s=In[Dn],Ds=!!hn&&Lt===hn[Lt];Ds&&(hn[zt]=_s,hn[gt]=fs);const ft=yn.run(Zn,void 0,Ds&&Zn!==xs&&Zn!==Mn?[]:[_s]);bn(hn,!0,ft)}catch(_s){bn(hn,!1,_s)}},hn)}const vt=function(){},ht=je.AggregateError;class lt{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(yn){return yn instanceof lt?yn:bn(new this(null),He,yn)}static reject(yn){return bn(new this(null),We,yn)}static withResolvers(){const yn={};return yn.promise=new lt((hn,Un)=>{yn.resolve=hn,yn.reject=Un}),yn}static any(yn){if(!yn||"function"!=typeof yn[Symbol.iterator])return Promise.reject(new ht([],"All promises were rejected"));const hn=[];let Un=0;try{for(let Zn of yn)Un++,hn.push(lt.resolve(Zn))}catch{return Promise.reject(new ht([],"All promises were rejected"))}if(0===Un)return Promise.reject(new ht([],"All promises were rejected"));let ns=!1;const fs=[];return new lt((Zn,_s)=>{for(let Ds=0;Ds<hn.length;Ds++)hn[Ds].then(ft=>{ns||(ns=!0,Zn(ft))},ft=>{fs.push(ft),Un--,0===Un&&(ns=!0,_s(new ht(fs,"All promises were rejected")))})})}static race(yn){let hn,Un,ns=new this((_s,Ds)=>{hn=_s,Un=Ds});function fs(_s){hn(_s)}function Zn(_s){Un(_s)}for(let _s of yn)os(_s)||(_s=this.resolve(_s)),_s.then(fs,Zn);return ns}static all(yn){return lt.allWithCallback(yn)}static allSettled(yn){return(this&&this.prototype instanceof lt?this:lt).allWithCallback(yn,{thenCallback:Un=>({status:"fulfilled",value:Un}),errorCallback:Un=>({status:"rejected",reason:Un})})}static allWithCallback(yn,hn){let Un,ns,fs=new this((ft,Ye)=>{Un=ft,ns=Ye}),Zn=2,_s=0;const Ds=[];for(let ft of yn){os(ft)||(ft=this.resolve(ft));const Ye=_s;try{ft.then(Et=>{Ds[Ye]=hn?hn.thenCallback(Et):Et,Zn--,0===Zn&&Un(Ds)},Et=>{hn?(Ds[Ye]=hn.errorCallback(Et),Zn--,0===Zn&&Un(Ds)):ns(Et)})}catch(Et){ns(Et)}Zn++,_s++}return Zn-=2,0===Zn&&Un(Ds),fs}constructor(yn){const hn=this;if(!(hn instanceof lt))throw new Error("Must be an instanceof Promise.");hn[rn]=Ze,hn[Dn]=[];try{const Un=Ot();yn&&yn(Un(Qe(hn,He)),Un(Qe(hn,We)))}catch(Un){bn(hn,!1,Un)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return lt}then(yn,hn){let Un=this.constructor?.[Symbol.species];(!Un||"function"!=typeof Un)&&(Un=this.constructor||lt);const ns=new Un(vt),fs=Re.current;return this[rn]==Ze?this[Dn].push(fs,ns,yn,hn):ks(this,fs,ns,yn,hn),ns}catch(yn){return this.then(null,yn)}finally(yn){let hn=this.constructor?.[Symbol.species];(!hn||"function"!=typeof hn)&&(hn=lt);const Un=new hn(vt);Un[Lt]=Lt;const ns=Re.current;return this[rn]==Ze?this[Dn].push(ns,Un,yn,yn):ks(this,ns,Un,yn,yn),Un}}lt.resolve=lt.resolve,lt.reject=lt.reject,lt.race=lt.race,lt.all=lt.all;const jt=je[It]=je.Promise;je.Promise=lt;const Ln=Bt("thenPatched");function ls(In){const yn=In.prototype,hn=Ee(yn,"then");if(hn&&(!1===hn.writable||!hn.configurable))return;const Un=yn.then;yn[$t]=Un,In.prototype.then=function(ns,fs){return new lt((_s,Ds)=>{Un.call(this,_s,Ds)}).then(ns,fs)},In[Ln]=!0}return ne.patchThen=ls,jt&&(ls(jt),K(je,"fetch",In=>function As(In){return function(yn,hn){let Un=In.apply(yn,hn);if(Un instanceof lt)return Un;let ns=Un.constructor;return ns[Ln]||ls(ns),Un}}(In))),Promise[Re.__symbol__("uncaughtPromiseErrors")]=wt,lt}),Zone.__load_patch("toString",je=>{const Re=Function.prototype.toString,ne=O("OriginalDelegate"),Ee=O("Promise"),ke=O("Error"),dt=function(){if("function"==typeof this){const It=this[ne];if(It)return"function"==typeof It?Re.call(It):Object.prototype.toString.call(It);if(this===Promise){const $t=je[Ee];if($t)return Re.call($t)}if(this===Error){const $t=je[ke];if($t)return Re.call($t)}}return Re.call(this)};dt[ne]=Re,Function.prototype.toString=dt;const Bt=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Bt.call(this)}});let de=!1;if(typeof window<"u")try{const je=Object.defineProperty({},"passive",{get:function(){de=!0}});window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch{de=!1}const Ce={useG:!0},Z={},le={},De=new RegExp("^"+E+"(\\w+)(true|false)$"),pe=O("propagationStopped");function re(je,Re){const ne=(Re?Re(je):je)+y,Ee=(Re?Re(je):je)+d,ke=E+ne,dt=E+Ee;Z[je]={},Z[je][y]=ke,Z[je][d]=dt}function ve(je,Re,ne,Ee){const ke=Ee&&Ee.add||c,dt=Ee&&Ee.rm||e,Bt=Ee&&Ee.listeners||"eventListeners",wt=Ee&&Ee.rmAll||"removeAllListeners",tn=O(ke),It="."+ke+":",$t="prependListener",Zt="."+$t+":",mn=function(Dn,Lt,zt){if(Dn.isRemoved)return;const gt=Dn.callback;let Ke;"object"==typeof gt&&gt.handleEvent&&(Dn.callback=He=>gt.handleEvent(He),Dn.originalDelegate=gt);try{Dn.invoke(Dn,Lt,[zt])}catch(He){Ke=He}const Ze=Dn.options;return Ze&&"object"==typeof Ze&&Ze.once&&Lt[dt].call(Lt,zt.type,Dn.originalDelegate?Dn.originalDelegate:Dn.callback,Ze),Ke};function Rn(Dn,Lt,zt){if(!(Lt=Lt||je.event))return;const gt=Dn||Lt.target||je,Ke=gt[Z[Lt.type][zt?d:y]];if(Ke){const Ze=[];if(1===Ke.length){const He=mn(Ke[0],gt,Lt);He&&Ze.push(He)}else{const He=Ke.slice();for(let We=0;We<He.length&&(!Lt||!0!==Lt[pe]);We++){const Ct=mn(He[We],gt,Lt);Ct&&Ze.push(Ct)}}if(1===Ze.length)throw Ze[0];for(let He=0;He<Ze.length;He++){const We=Ze[He];Re.nativeScheduleMicroTask(()=>{throw We})}}}const os=function(Dn){return Rn(this,Dn,!1)},Mn=function(Dn){return Rn(this,Dn,!0)};function xs(Dn,Lt){if(!Dn)return!1;let zt=!0;Lt&&void 0!==Lt.useG&&(zt=Lt.useG);const gt=Lt&&Lt.vh;let Ke=!0;Lt&&void 0!==Lt.chkDup&&(Ke=Lt.chkDup);let Ze=!1;Lt&&void 0!==Lt.rt&&(Ze=Lt.rt);let He=Dn;for(;He&&!He.hasOwnProperty(ke);)He=t(He);if(!He&&Dn[ke]&&(He=Dn),!He||He[tn])return!1;const We=Lt&&Lt.eventNameToString,Ct={},Qe=He[tn]=He[ke],Ot=He[O(dt)]=He[dt],Dt=He[O(Bt)]=He[Bt],Wt=He[O(wt)]=He[wt];let bn;Lt&&Lt.prepend&&(bn=He[O(Lt.prepend)]=He[Lt.prepend]);const lt=zt?function(hn){if(!Ct.isExisting)return Qe.call(Ct.target,Ct.eventName,Ct.capture?Mn:os,Ct.options)}:function(hn){return Qe.call(Ct.target,Ct.eventName,hn.invoke,Ct.options)},jt=zt?function(hn){if(!hn.isRemoved){const Un=Z[hn.eventName];let ns;Un&&(ns=Un[hn.capture?d:y]);const fs=ns&&hn.target[ns];if(fs)for(let Zn=0;Zn<fs.length;Zn++)if(fs[Zn]===hn){fs.splice(Zn,1),hn.isRemoved=!0,0===fs.length&&(hn.allRemoved=!0,hn.target[ns]=null);break}}if(hn.allRemoved)return Ot.call(hn.target,hn.eventName,hn.capture?Mn:os,hn.options)}:function(hn){return Ot.call(hn.target,hn.eventName,hn.invoke,hn.options)},ls=Lt&&Lt.diff?Lt.diff:function(hn,Un){const ns=typeof Un;return"function"===ns&&hn.callback===Un||"object"===ns&&hn.originalDelegate===Un},As=Zone[O("UNPATCHED_EVENTS")],In=je[O("PASSIVE_EVENTS")],yn=function(hn,Un,ns,fs,Zn=!1,_s=!1){return function(){const Ds=this||je;let ft=arguments[0];Lt&&Lt.transferEventName&&(ft=Lt.transferEventName(ft));let Ye=arguments[1];if(!Ye)return hn.apply(this,arguments);if(L&&"uncaughtException"===ft)return hn.apply(this,arguments);let Et=!1;if("function"!=typeof Ye){if(!Ye.handleEvent)return hn.apply(this,arguments);Et=!0}if(gt&&!gt(hn,Ye,Ds,arguments))return;const ut=de&&!!In&&-1!==In.indexOf(ft),mt=function Pn(hn,Un){return!de&&"object"==typeof hn&&hn?!!hn.capture:de&&Un?"boolean"==typeof hn?{capture:hn,passive:!0}:hn?"object"==typeof hn&&!1!==hn.passive?{...hn,passive:!0}:hn:{passive:!0}:hn}(arguments[2],ut),xt=mt&&"object"==typeof mt&&mt.signal&&"object"==typeof mt.signal?mt.signal:void 0;if(xt?.aborted)return;if(As)for(let Xi=0;Xi<As.length;Xi++)if(ft===As[Xi])return ut?hn.call(Ds,ft,Ye,mt):hn.apply(this,arguments);const sn=!!mt&&("boolean"==typeof mt||mt.capture),jn=!(!mt||"object"!=typeof mt)&&mt.once,An=Zone.current;let ds=Z[ft];ds||(re(ft,We),ds=Z[ft]);const Ks=ds[sn?d:y];let Yi,Cs=Ds[Ks],yi=!1;if(Cs){if(yi=!0,Ke)for(let Xi=0;Xi<Cs.length;Xi++)if(ls(Cs[Xi],Ye))return}else Cs=Ds[Ks]=[];const Mi=Ds.constructor.name,Ss=le[Mi];Ss&&(Yi=Ss[ft]),Yi||(Yi=Mi+Un+(We?We(ft):ft)),Ct.options=mt,jn&&(Ct.options.once=!1),Ct.target=Ds,Ct.capture=sn,Ct.eventName=ft,Ct.isExisting=yi;const Hs=zt?Ce:void 0;Hs&&(Hs.taskData=Ct),xt&&(Ct.options.signal=void 0);const gi=An.scheduleEventTask(Yi,Ye,Hs,ns,fs);return xt&&(Ct.options.signal=xt,hn.call(xt,"abort",()=>{gi.zone.cancelTask(gi)},{once:!0})),Ct.target=null,Hs&&(Hs.taskData=null),jn&&(mt.once=!0),!de&&"boolean"==typeof gi.options||(gi.options=mt),gi.target=Ds,gi.capture=sn,gi.eventName=ft,Et&&(gi.originalDelegate=Ye),_s?Cs.unshift(gi):Cs.push(gi),Zn?Ds:void 0}};return He[ke]=yn(Qe,It,lt,jt,Ze),bn&&(He[$t]=yn(bn,Zt,function(hn){return bn.call(Ct.target,Ct.eventName,hn.invoke,Ct.options)},jt,Ze,!0)),He[dt]=function(){const hn=this||je;let Un=arguments[0];Lt&&Lt.transferEventName&&(Un=Lt.transferEventName(Un));const ns=arguments[2],fs=!!ns&&("boolean"==typeof ns||ns.capture),Zn=arguments[1];if(!Zn)return Ot.apply(this,arguments);if(gt&&!gt(Ot,Zn,hn,arguments))return;const _s=Z[Un];let Ds;_s&&(Ds=_s[fs?d:y]);const ft=Ds&&hn[Ds];if(ft)for(let Ye=0;Ye<ft.length;Ye++){const Et=ft[Ye];if(ls(Et,Zn))return ft.splice(Ye,1),Et.isRemoved=!0,0===ft.length&&(Et.allRemoved=!0,hn[Ds]=null,"string"==typeof Un)&&(hn[E+"ON_PROPERTY"+Un]=null),Et.zone.cancelTask(Et),Ze?hn:void 0}return Ot.apply(this,arguments)},He[Bt]=function(){const hn=this||je;let Un=arguments[0];Lt&&Lt.transferEventName&&(Un=Lt.transferEventName(Un));const ns=[],fs=fe(hn,We?We(Un):Un);for(let Zn=0;Zn<fs.length;Zn++){const _s=fs[Zn];ns.push(_s.originalDelegate?_s.originalDelegate:_s.callback)}return ns},He[wt]=function(){const hn=this||je;let Un=arguments[0];if(Un){Lt&&Lt.transferEventName&&(Un=Lt.transferEventName(Un));const ns=Z[Un];if(ns){const _s=hn[ns[y]],Ds=hn[ns[d]];if(_s){const ft=_s.slice();for(let Ye=0;Ye<ft.length;Ye++){const Et=ft[Ye];this[dt].call(this,Un,Et.originalDelegate?Et.originalDelegate:Et.callback,Et.options)}}if(Ds){const ft=Ds.slice();for(let Ye=0;Ye<ft.length;Ye++){const Et=ft[Ye];this[dt].call(this,Un,Et.originalDelegate?Et.originalDelegate:Et.callback,Et.options)}}}}else{const ns=Object.keys(hn);for(let fs=0;fs<ns.length;fs++){const _s=De.exec(ns[fs]);let Ds=_s&&_s[1];Ds&&"removeListener"!==Ds&&this[wt].call(this,Ds)}this[wt].call(this,"removeListener")}if(Ze)return this},Q(He[ke],Qe),Q(He[dt],Ot),Wt&&Q(He[wt],Wt),Dt&&Q(He[Bt],Dt),!0}let rn=[];for(let Dn=0;Dn<ne.length;Dn++)rn[Dn]=xs(ne[Dn],Ee);return rn}function fe(je,Re){if(!Re){const dt=[];for(let Bt in je){const wt=De.exec(Bt);let tn=wt&&wt[1];if(tn&&(!Re||tn===Re)){const It=je[Bt];if(It)for(let $t=0;$t<It.length;$t++)dt.push(It[$t])}}return dt}let ne=Z[Re];ne||(re(Re),ne=Z[Re]);const Ee=je[ne[y]],ke=je[ne[d]];return Ee?ke?Ee.concat(ke):Ee.slice():ke?ke.slice():[]}function Ie(je,Re){const ne=je.Event;ne&&ne.prototype&&Re.patchMethod(ne.prototype,"stopImmediatePropagation",Ee=>function(ke,dt){ke[pe]=!0,Ee&&Ee.apply(ke,dt)})}function Ne(je,Re,ne,Ee,ke){const dt=Zone.__symbol__(Ee);if(Re[dt])return;const Bt=Re[dt]=Re[Ee];Re[Ee]=function(wt,tn,It){return tn&&tn.prototype&&ke.forEach(function($t){const Zt=`${ne}.${Ee}::`+$t,mn=tn.prototype;try{if(mn.hasOwnProperty($t)){const Rn=je.ObjectGetOwnPropertyDescriptor(mn,$t);Rn&&Rn.value?(Rn.value=je.wrapWithCurrentZone(Rn.value,Zt),je._redefineProperty(tn.prototype,$t,Rn)):mn[$t]&&(mn[$t]=je.wrapWithCurrentZone(mn[$t],Zt))}else mn[$t]&&(mn[$t]=je.wrapWithCurrentZone(mn[$t],Zt))}catch{}}),Bt.call(Re,wt,tn,It)},je.attachOriginToPatched(Re[Ee],Bt)}function qe(je,Re,ne){if(!ne||0===ne.length)return Re;const Ee=ne.filter(dt=>dt.target===je);if(!Ee||0===Ee.length)return Re;const ke=Ee[0].ignoreProperties;return Re.filter(dt=>-1===ke.indexOf(dt))}function we(je,Re,ne,Ee){je&&Y(je,qe(je,Re,ne),Ee)}function Be(je){return Object.getOwnPropertyNames(je).filter(Re=>Re.startsWith("on")&&Re.length>2).map(Re=>Re.substring(2))}Zone.__load_patch("util",(je,Re,ne)=>{const Ee=Be(je);ne.patchOnProperties=Y,ne.patchMethod=K,ne.bindArguments=w,ne.patchMacroTask=ae;const ke=Re.__symbol__("BLACK_LISTED_EVENTS"),dt=Re.__symbol__("UNPATCHED_EVENTS");je[dt]&&(je[ke]=je[dt]),je[ke]&&(Re[ke]=Re[dt]=je[ke]),ne.patchEventPrototype=Ie,ne.patchEventTarget=ve,ne.isIEOrEdge=ee,ne.ObjectDefineProperty=D,ne.ObjectGetOwnPropertyDescriptor=B,ne.ObjectCreate=i,ne.ArraySlice=n,ne.patchClass=X,ne.wrapWithCurrentZone=_,ne.filterProperties=qe,ne.attachOriginToPatched=Q,ne._redefineProperty=Object.defineProperty,ne.patchCallbacks=Ne,ne.getGlobalObjects=()=>({globalSources:le,zoneSymbolEventNames:Z,eventNames:Ee,isBrowser:F,isMix:$,isNode:L,TRUE_STR:d,FALSE_STR:y,ZONE_SYMBOL_PREFIX:E,ADD_EVENT_LISTENER_STR:c,REMOVE_EVENT_LISTENER_STR:e})});const yt=O("zoneTask");function it(je,Re,ne,Ee){let ke=null,dt=null;ne+=Ee;const Bt={};function wt(It){const $t=It.data;return $t.args[0]=function(){return It.invoke.apply(this,arguments)},$t.handleId=ke.apply(je,$t.args),It}function tn(It){return dt.call(je,It.data.handleId)}ke=K(je,Re+=Ee,It=>function($t,Zt){if("function"==typeof Zt[0]){const mn={isPeriodic:"Interval"===Ee,delay:"Timeout"===Ee||"Interval"===Ee?Zt[1]||0:void 0,args:Zt},Rn=Zt[0];Zt[0]=function(){try{return Rn.apply(this,arguments)}finally{mn.isPeriodic||("number"==typeof mn.handleId?delete Bt[mn.handleId]:mn.handleId&&(mn.handleId[yt]=null))}};const os=b(Re,Zt[0],mn,wt,tn);if(!os)return os;const Mn=os.data.handleId;return"number"==typeof Mn?Bt[Mn]=os:Mn&&(Mn[yt]=os),Mn&&Mn.ref&&Mn.unref&&"function"==typeof Mn.ref&&"function"==typeof Mn.unref&&(os.ref=Mn.ref.bind(Mn),os.unref=Mn.unref.bind(Mn)),"number"==typeof Mn||Mn?Mn:os}return It.apply(je,Zt)}),dt=K(je,ne,It=>function($t,Zt){const mn=Zt[0];let Rn;"number"==typeof mn?Rn=Bt[mn]:(Rn=mn&&mn[yt],Rn||(Rn=mn)),Rn&&"string"==typeof Rn.type?"notScheduled"!==Rn.state&&(Rn.cancelFn&&Rn.data.isPeriodic||0===Rn.runCount)&&("number"==typeof mn?delete Bt[mn]:mn&&(mn[yt]=null),Rn.zone.cancelTask(Rn)):It.apply(je,Zt)})}Zone.__load_patch("legacy",je=>{const Re=je[Zone.__symbol__("legacyPatch")];Re&&Re()}),Zone.__load_patch("timers",je=>{const ne="clear";it(je,"set",ne,"Timeout"),it(je,"set",ne,"Interval"),it(je,"set",ne,"Immediate")}),Zone.__load_patch("requestAnimationFrame",je=>{it(je,"request","cancel","AnimationFrame"),it(je,"mozRequest","mozCancel","AnimationFrame"),it(je,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(je,Re)=>{const ne=["alert","prompt","confirm"];for(let Ee=0;Ee<ne.length;Ee++)K(je,ne[Ee],(dt,Bt,wt)=>function(tn,It){return Re.current.run(dt,je,It,wt)})}),Zone.__load_patch("EventTarget",(je,Re,ne)=>{(function nn(je,Re){Re.patchEventPrototype(je,Re)})(je,ne),function Yt(je,Re){if(Zone[Re.symbol("patchEventTarget")])return;const{eventNames:ne,zoneSymbolEventNames:Ee,TRUE_STR:ke,FALSE_STR:dt,ZONE_SYMBOL_PREFIX:Bt}=Re.getGlobalObjects();for(let tn=0;tn<ne.length;tn++){const It=ne[tn],mn=Bt+(It+dt),Rn=Bt+(It+ke);Ee[It]={},Ee[It][dt]=mn,Ee[It][ke]=Rn}const wt=je.EventTarget;wt&&wt.prototype&&Re.patchEventTarget(je,Re,[wt&&wt.prototype])}(je,ne);const Ee=je.XMLHttpRequestEventTarget;Ee&&Ee.prototype&&ne.patchEventTarget(je,ne,[Ee.prototype])}),Zone.__load_patch("MutationObserver",(je,Re,ne)=>{X("MutationObserver"),X("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(je,Re,ne)=>{X("IntersectionObserver")}),Zone.__load_patch("FileReader",(je,Re,ne)=>{X("FileReader")}),Zone.__load_patch("on_property",(je,Re,ne)=>{!function Ve(je,Re){if(L&&!$||Zone[je.symbol("patchEvents")])return;const ne=Re.__Zone_ignore_on_properties;let Ee=[];if(F){const ke=window;Ee=Ee.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const dt=function q(){try{const je=T.navigator.userAgent;if(-1!==je.indexOf("MSIE ")||-1!==je.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:ke,ignoreProperties:["error"]}]:[];we(ke,Be(ke),ne&&ne.concat(dt),t(ke))}Ee=Ee.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let ke=0;ke<Ee.length;ke++){const dt=Re[Ee[ke]];dt&&dt.prototype&&we(dt.prototype,Be(dt.prototype),ne)}}(ne,je)}),Zone.__load_patch("customElements",(je,Re,ne)=>{!function at(je,Re){const{isBrowser:ne,isMix:Ee}=Re.getGlobalObjects();(ne||Ee)&&je.customElements&&"customElements"in je&&Re.patchCallbacks(Re,je.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(je,ne)}),Zone.__load_patch("XHR",(je,Re)=>{!function tn(It){const $t=It.XMLHttpRequest;if(!$t)return;const Zt=$t.prototype;let Rn=Zt[f],os=Zt[g];if(!Rn){const Ct=It.XMLHttpRequestEventTarget;if(Ct){const Qe=Ct.prototype;Rn=Qe[f],os=Qe[g]}}const Mn="readystatechange",xs="scheduled";function rn(Ct){const Qe=Ct.data,Ot=Qe.target;Ot[dt]=!1,Ot[wt]=!1;const Dt=Ot[ke];Rn||(Rn=Ot[f],os=Ot[g]),Dt&&os.call(Ot,Mn,Dt);const Wt=Ot[ke]=()=>{if(Ot.readyState===Ot.DONE)if(!Qe.aborted&&Ot[dt]&&Ct.state===xs){const Pn=Ot[Re.__symbol__("loadfalse")];if(0!==Ot.status&&Pn&&Pn.length>0){const ps=Ct.invoke;Ct.invoke=function(){const ks=Ot[Re.__symbol__("loadfalse")];for(let Fs=0;Fs<ks.length;Fs++)ks[Fs]===Ct&&ks.splice(Fs,1);!Qe.aborted&&Ct.state===xs&&ps.call(Ct)},Pn.push(Ct)}else Ct.invoke()}else!Qe.aborted&&!1===Ot[dt]&&(Ot[wt]=!0)};return Rn.call(Ot,Mn,Wt),Ot[ne]||(Ot[ne]=Ct),He.apply(Ot,Qe.args),Ot[dt]=!0,Ct}function Dn(){}function Lt(Ct){const Qe=Ct.data;return Qe.aborted=!0,We.apply(Qe.target,Qe.args)}const zt=K(Zt,"open",()=>function(Ct,Qe){return Ct[Ee]=0==Qe[2],Ct[Bt]=Qe[1],zt.apply(Ct,Qe)}),Ke=O("fetchTaskAborting"),Ze=O("fetchTaskScheduling"),He=K(Zt,"send",()=>function(Ct,Qe){if(!0===Re.current[Ze]||Ct[Ee])return He.apply(Ct,Qe);{const Ot={target:Ct,url:Ct[Bt],isPeriodic:!1,args:Qe,aborted:!1},Dt=b("XMLHttpRequest.send",Dn,Ot,rn,Lt);Ct&&!0===Ct[wt]&&!Ot.aborted&&Dt.state===xs&&Dt.invoke()}}),We=K(Zt,"abort",()=>function(Ct,Qe){const Ot=function mn(Ct){return Ct[ne]}(Ct);if(Ot&&"string"==typeof Ot.type){if(null==Ot.cancelFn||Ot.data&&Ot.data.aborted)return;Ot.zone.cancelTask(Ot)}else if(!0===Re.current[Ke])return We.apply(Ct,Qe)})}(je);const ne=O("xhrTask"),Ee=O("xhrSync"),ke=O("xhrListener"),dt=O("xhrScheduled"),Bt=O("xhrURL"),wt=O("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",je=>{je.navigator&&je.navigator.geolocation&&function v(je,Re){const ne=je.constructor.name;for(let Ee=0;Ee<Re.length;Ee++){const ke=Re[Ee],dt=je[ke];if(dt){if(!S(B(je,ke)))continue;je[ke]=(wt=>{const tn=function(){return wt.apply(this,w(arguments,ne+"."+ke))};return Q(tn,wt),tn})(dt)}}}(je.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(je,Re)=>{function ne(Ee){return function(ke){fe(je,Ee).forEach(Bt=>{const wt=je.PromiseRejectionEvent;if(wt){const tn=new wt(Ee,{promise:ke.promise,reason:ke.rejection});Bt.invoke(tn)}})}}je.PromiseRejectionEvent&&(Re[O("unhandledPromiseRejectionHandler")]=ne("unhandledrejection"),Re[O("rejectionHandledHandler")]=ne("rejectionhandled"))}),Zone.__load_patch("queueMicrotask",(je,Re,ne)=>{!function et(je,Re){Re.patchMethod(je,"queueMicrotask",ne=>function(Ee,ke){Zone.current.scheduleMicroTask("queueMicrotask",ke[0])})}(je,ne)})},48832:(B,D,t)=>{var i={"./custom/app/admin/admin-sidebar/admin-sidebar.component":[66297,6297]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=48832,B.exports=n},32012:(B,D,t)=>{var i={"./custom/app/breadcrumbs/breadcrumbs.component":[3093,3093]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=32012,B.exports=n},43562:(B,D,t)=>{var i={"./custom/app/footer/footer.component":[88029,410]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=43562,B.exports=n},30130:(B,D,t)=>{var i={"./custom/app/forbidden/forbidden.component":[69873,9873]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=30130,B.exports=n},20991:(B,D,t)=>{var i={"./custom/app/header-nav-wrapper/header-navbar-wrapper.component":[94754,4754],"./dspace/app/header-nav-wrapper/header-navbar-wrapper.component":[92161,2161],"./poltekkes/app/header-nav-wrapper/header-navbar-wrapper.component":[38793]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return Promise.all(e.slice(1).map(t.e)).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=20991,B.exports=n},16722:(B,D,t)=>{var i={"./custom/app/header/header.component":[40877,877],"./dspace/app/header/header.component":[73692,3692],"./poltekkes/app/header/header.component":[33396]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return Promise.all(e.slice(1).map(t.e)).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=16722,B.exports=n},52636:(B,D,t)=>{var i={"./custom/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component":[71233,1233]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=52636,B.exports=n},61196:(B,D,t)=>{var i={"./custom/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component":[57965,7965]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=61196,B.exports=n},5452:(B,D,t)=>{var i={"./custom/app/item-page/media-viewer/media-viewer.component":[23723,3723]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=5452,B.exports=n},78373:(B,D,t)=>{var i={"./custom/app/item-page/simple/field-components/file-section/file-section.component":[21726,1726]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=78373,B.exports=n},17026:(B,D,t)=>{var i={"./custom/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component":[41845,1845]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=17026,B.exports=n},89979:(B,D,t)=>{var i={"./custom/app/item-page/simple/metadata-representation-list/metadata-representation-list.component":[3828,3828]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=89979,B.exports=n},88289:(B,D,t)=>{var i={"./custom/app/navbar/expandable-navbar-section/expandable-navbar-section.component":[30416,416]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=88289,B.exports=n},19318:(B,D,t)=>{var i={"./custom/app/navbar/navbar.component":[91619,1619],"./dspace/app/navbar/navbar.component":[44570,4570],"./poltekkes/app/navbar/navbar.component":[56242]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return Promise.all(e.slice(1).map(t.e)).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=19318,B.exports=n},18400:B=>{function D(t){return Promise.resolve().then(()=>{var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i})}D.keys=()=>[],D.resolve=D,D.id=18400,B.exports=D},46544:B=>{function D(t){return Promise.resolve().then(()=>{var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i})}D.keys=()=>[],D.resolve=D,D.id=46544,B.exports=D},94826:(B,D,t)=>{var i={"./custom/app/pagenotfound/pagenotfound.component":[29027,9027]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=94826,B.exports=n},94634:(B,D,t)=>{var i={"./custom/app/root/root.component":[8411,8411]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=94634,B.exports=n},28754:(B,D,t)=>{var i={"./custom/app/search-navbar/search-navbar.component":[39977,9977]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=28754,B.exports=n},21133:(B,D,t)=>{var i={"./custom/app/search-page/configuration-search-page.component":[16858,6858]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=21133,B.exports=n},51808:(B,D,t)=>{var i={"./custom/app/shared/auth-nav-menu/auth-nav-menu.component":[64235,4235]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=51808,B.exports=n},13361:(B,D,t)=>{var i={"./custom/app/shared/auth-nav-menu/user-menu/user-menu.component":[8902,8902]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=13361,B.exports=n},60939:(B,D,t)=>{var i={"./custom/app/shared/browse-by/browse-by.component.ts":[91079,1079]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=60939,B.exports=n},80882:(B,D,t)=>{var i={"./custom/app/shared/collection-dropdown/collection-dropdown.component":[77019,7019]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=80882,B.exports=n},12706:(B,D,t)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component":[31145,1145]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=12706,B.exports=n},27122:(B,D,t)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component":[22077,2077]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=27122,B.exports=n},25074:(B,D,t)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component":[51965,1965]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=25074,B.exports=n},61130:(B,D,t)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component":[38661,8661]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=61130,B.exports=n},11452:(B,D,t)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component":[23561,3561]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=11452,B.exports=n},6122:(B,D,t)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component":[8359,8359]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=6122,B.exports=n},72834:(B,D,t)=>{var i={"./custom/app/shared/file-download-link/file-download-link.component":[59597,9597]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=72834,B.exports=n},90331:(B,D,t)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component":[28522,8522]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=90331,B.exports=n},14651:(B,D,t)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component":[91694,1694]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=14651,B.exports=n},37919:(B,D,t)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component":[16020,6020]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=37919,B.exports=n},97394:(B,D,t)=>{var i={"./custom/app/shared/lang-switch/lang-switch.component":[12555,2555]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=97394,B.exports=n},54512:(B,D,t)=>{var i={"./custom/app/shared/loading/loading.component":[26295,2076,6295]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return Promise.all(e.slice(1).map(t.e)).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=54512,B.exports=n},43800:(B,D,t)=>{var i={"./custom/app/shared/log-in/log-in.component":[42857,2857]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=43800,B.exports=n},50822:(B,D,t)=>{var i={"./custom/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component":[6299,6299]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=50822,B.exports=n},70295:(B,D,t)=>{var i={"./custom/app/shared/object-collection/shared/badges/badges.component":[30060,60]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=70295,B.exports=n},87596:(B,D,t)=>{var i={"./custom/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component":[95994,5994]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=87596,B.exports=n},52504:(B,D,t)=>{var i={"./custom/app/shared/object-collection/shared/badges/status-badge/status-badge.component":[78425,8425]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=52504,B.exports=n},45796:(B,D,t)=>{var i={"./custom/app/shared/object-collection/shared/badges/type-badge/type-badge.component":[18029,8029]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=45796,B.exports=n},4026:(B,D,t)=>{var i={"./custom/app/shared/object-detail/my-dspace-result-detail-element/item-detail-preview/item-detail-preview-field/item-detail-preview-field.component":[31563,1563]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=4026,B.exports=n},71931:(B,D,t)=>{var i={"./custom/app/shared/object-list/my-dspace-result-list-element/item-list-preview/item-list-preview.component":[22150,2150]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=71931,B.exports=n},8894:(B,D,t)=>{var i={"./custom/app/shared/object-list/object-list.component":[60359,359]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=8894,B.exports=n},79086:(B,D,t)=>{var i={"./custom/app/shared/results-back-button/results-back-button.component":[78871,2076,8871]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return Promise.all(e.slice(1).map(t.e)).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=79086,B.exports=n},76142:(B,D,t)=>{var i={"./custom/app/shared/search-form/search-form.component":[6907,6907]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=76142,B.exports=n},64565:(B,D,t)=>{var i={"./custom/app/shared/search/search-filters/search-filters.component":[63610,3610]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=64565,B.exports=n},18527:(B,D,t)=>{var i={"./custom/app/shared/search/search-results/search-results.component":[10732,732]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=18527,B.exports=n},60911:(B,D,t)=>{var i={"./custom/app/shared/search/search-settings/search-settings.component":[25872,5872]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=60911,B.exports=n},98587:(B,D,t)=>{var i={"./custom/app/shared/search/search-sidebar/search-sidebar.component":[44216,4216]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=98587,B.exports=n},13390:(B,D,t)=>{var i={"./custom/app/shared/search/search.component":[64641,4641]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=13390,B.exports=n},572:(B,D,t)=>{var i={"./custom/app/thumbnail/thumbnail.component":[18585,8585]};function n(c){if(!t.o(i,c))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g});var e=i[c],f=e[0];return t.e(e[1]).then(()=>t(f))}n.keys=()=>Object.keys(i),n.id=572,B.exports=n},46611:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function t(i,n,c,e,f,g,d){var y=new Date(0);return y.setUTCFullYear(i,n,c),y.setUTCHours(e,f,g,d),y},B.exports=D.default},71250:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function t(e,f,g){var d=function c(e,f,g){if(g&&!g.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(g?[g.code,"en-US"]:void 0,{timeZone:f,timeZoneName:e})}(e,g.timeZone,g.locale);return d.formatToParts?function i(e,f){for(var g=e.formatToParts(f),d=g.length-1;d>=0;--d)if("timeZoneName"===g[d].type)return g[d].value}(d,f):function n(e,f){var g=e.format(f).replace(/\u200E/g,""),d=/ [\w-+ ]+$/.exec(g);return d?d[0].substr(1):""}(d,f)},B.exports=D.default},36883:(B,D,t)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function d(T,R,u){var w,v,S;if(!T||(w=g.timezoneZ.exec(T)))return 0;if(w=g.timezoneHH.exec(T))return b(S=parseInt(w[1],10))?-S*e:NaN;if(w=g.timezoneHHMM.exec(T)){S=parseInt(w[1],10);var M=parseInt(w[2],10);return b(S,M)?(v=Math.abs(S)*e+M*f,S>0?-v:v):NaN}if(function I(T){if(O[T])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:T}),O[T]=!0,!0}catch{return!1}}(T)){R=new Date(R||Date.now());var L=u?R:function y(T){return(0,n.default)(T.getFullYear(),T.getMonth(),T.getDate(),T.getHours(),T.getMinutes(),T.getSeconds(),T.getMilliseconds())}(R),F=E(L,T),$=u?F:function _(T,R,u){var v=T.getTime()-R,S=E(new Date(v),u);if(R===S)return R;v-=S-R;var M=E(new Date(v),u);return S===M?S:Math.max(S,M)}(R,F,T);return-$}return NaN};var i=c(t(68480)),n=c(t(46611));function c(T){return T&&T.__esModule?T:{default:T}}var e=36e5,f=6e4,g={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function E(T,R){var u=(0,i.default)(T,R),w=(0,n.default)(u[0],u[1]-1,u[2],u[3]%24,u[4],u[5],0).getTime(),v=T.getTime(),S=v%1e3;return w-(v-(S>=0?S:1e3+S))}function b(T,R){return-23<=T&&T<=23&&(null==R||0<=R&&R<=59)}var O={};B.exports=D.default},11465:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0,D.default=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,B.exports=D.default},68480:(B,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function t(g,d){var y=function f(g){if(!e[g]){var d=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));e[g]="06/25/2014, 00:00:00"===d||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===d?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:g,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:g,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return e[g]}(d);return y.formatToParts?function n(g,d){try{for(var y=g.formatToParts(d),E=[],_=0;_<y.length;_++){var b=i[y[_].type];b>=0&&(E[b]=parseInt(y[_].value,10))}return E}catch(O){if(O instanceof RangeError)return[NaN];throw O}}(y,g):function c(g,d){var y=g.format(d).replace(/\u200E/g,""),E=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(y);return[E[3],E[1],E[2],E[4],E[5],E[6]]}(y,g)};var i={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};B.exports=D.default},22265:(B,D,t)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function f(g,d,y,E){var _=(0,i.default)(E);return _.timeZone=d,(0,n.default)((0,c.default)(g,d),y,_)};var i=e(t(67331)),n=e(t(9177)),c=e(t(50092));function e(g){return g&&g.__esModule?g:{default:g}}B.exports=D.default},55117:(B,D,t)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var i=c(t(71250)),n=c(t(36883));function c(O){return O&&O.__esModule?O:{default:O}}function g(O,I){var T=O?(0,n.default)(O,I,!0)/6e4:I.getTimezoneOffset();if(Number.isNaN(T))throw new RangeError("Invalid time zone specified: "+O);return T}function d(O,I){for(var T=O<0?"-":"",R=Math.abs(O).toString();R.length<I;)R="0"+R;return T+R}function y(O,I){var T=I||"",R=O>0?"-":"+",u=Math.abs(O);return R+d(Math.floor(u/60),2)+T+d(Math.floor(u%60),2)}function E(O,I){return O%60==0?(O>0?"-":"+")+d(Math.abs(O)/60,2):y(O,I)}D.default={X:function(O,I,T,R){var u=g(R.timeZone,R._originalDate||O);if(0===u)return"Z";switch(I){case"X":return E(u);case"XXXX":case"XX":return y(u);default:return y(u,":")}},x:function(O,I,T,R){var u=g(R.timeZone,R._originalDate||O);switch(I){case"x":return E(u);case"xxxx":case"xx":return y(u);default:return y(u,":")}},O:function(O,I,T,R){var u=g(R.timeZone,R._originalDate||O);switch(I){case"O":case"OO":case"OOO":return"GMT"+function _(O,I){var T=O>0?"-":"+",R=Math.abs(O),u=Math.floor(R/60),w=R%60;if(0===w)return T+String(u);var v=I||"";return T+String(u)+v+d(w,2)}(u,":");default:return"GMT"+y(u,":")}},z:function(O,I,T,R){var u=R._originalDate||O;switch(I){case"z":case"zz":case"zzz":return(0,i.default)("short",u,R);default:return(0,i.default)("long",u,R)}}},B.exports=D.default},9177:(B,D,t)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function g(d,y,E){var _=String(y),b=E||{},O=_.match(f);if(O){var I=(0,c.default)(d,b);_=O.reduce(function(T,R){if("'"===R[0])return T;var u=T.indexOf(R),w="'"===T[u-1],v=T.replace(R,"'"+n.default[R[0]](I,R,null,b)+"'");return w?v.substring(0,u-1)+v.substring(u+1):v},_)}return(0,i.default)(d,_,b)};var i=e(t(41401)),n=e(t(55117)),c=e(t(72599));function e(d){return d&&d.__esModule?d:{default:d}}var f=/([xXOz]+)|''|'(''|[^'])+('|$)/g;B.exports=D.default},82622:(B,D,t)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function c(e,f){return-(0,i.default)(e,f)};var i=function n(e){return e&&e.__esModule?e:{default:e}}(t(36883));B.exports=D.default},95793:(B,D,t)=>{"use strict";B.exports={format:t(9177),formatInTimeZone:t(22265),getTimezoneOffset:t(82622),toDate:t(72599),utcToZonedTime:t(50092),zonedTimeToUtc:t(63842)}},72599:(B,D,t)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function _($,j){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===$)return new Date(NaN);var x=j||{},G=null==x.additionalDigits?y:(0,i.default)(x.additionalDigits);if(2!==G&&1!==G&&0!==G)throw new RangeError("additionalDigits must be 0, 1 or 2");if($ instanceof Date||"object"==typeof $&&"[object Date]"===Object.prototype.toString.call($))return new Date($.getTime());if("number"==typeof $||"[object Number]"===Object.prototype.toString.call($))return new Date($);if("string"!=typeof $&&"[object String]"!==Object.prototype.toString.call($))return new Date(NaN);var Y=function b($){var G,j={},x=E.dateTimePattern.exec($);if(x?(j.date=x[1],G=x[3]):(x=E.datePattern.exec($))?(j.date=x[1],G=x[2]):(j.date=null,G=$),G){var Y=E.timeZone.exec(G);Y?(j.time=G.replace(Y[1],""),j.timeZone=Y[1].trim()):j.time=G}return j}($),V=function O($,j){var Y,x=E.YYY[j],G=E.YYYYY[j];if(Y=E.YYYY.exec($)||G.exec($)){var V=Y[1];return{year:parseInt(V,10),restDateString:$.slice(V.length)}}if(Y=E.YY.exec($)||x.exec($)){var X=Y[1];return{year:100*parseInt(X,10),restDateString:$.slice(X.length)}}return{year:null}}(Y.date,G),ae=function I($,j){if(null===j)return null;var x,G,Y,V;if(0===$.length)return(G=new Date(0)).setUTCFullYear(j),G;if(x=E.MM.exec($))return G=new Date(0),S(j,Y=parseInt(x[1],10)-1)?(G.setUTCFullYear(j,Y),G):new Date(NaN);if(x=E.DDD.exec($)){G=new Date(0);var X=parseInt(x[1],10);return function M($,j){if(j<1)return!1;var x=v($);return!(x&&j>366||!x&&j>365)}(j,X)?(G.setUTCFullYear(j,0,X),G):new Date(NaN)}if(x=E.MMDD.exec($)){G=new Date(0),Y=parseInt(x[1],10)-1;var K=parseInt(x[2],10);return S(j,Y,K)?(G.setUTCFullYear(j,Y,K),G):new Date(NaN)}if(x=E.Www.exec($))return L(0,V=parseInt(x[1],10)-1)?R(j,V):new Date(NaN);if(x=E.WwwD.exec($)){V=parseInt(x[1],10)-1;var ae=parseInt(x[2],10)-1;return L(0,V,ae)?R(j,V,ae):new Date(NaN)}return null}(V.restDateString,V.year);if(isNaN(ae))return new Date(NaN);if(ae){var z,Q=ae.getTime(),J=0;if(Y.time&&(J=function T($){var j,x,G;if(j=E.HH.exec($))return F(x=parseFloat(j[1].replace(",",".")))?x%24*g:NaN;if(j=E.HHMM.exec($))return F(x=parseInt(j[1],10),G=parseFloat(j[2].replace(",",".")))?x%24*g+G*d:NaN;if(j=E.HHMMSS.exec($)){x=parseInt(j[1],10),G=parseInt(j[2],10);var Y=parseFloat(j[3].replace(",","."));return F(x,G,Y)?x%24*g+G*d+1e3*Y:NaN}return null}(Y.time),isNaN(J)))return new Date(NaN);if(Y.timeZone||x.timeZone){if(z=(0,c.default)(Y.timeZone||x.timeZone,new Date(Q+J)),isNaN(z))return new Date(NaN)}else z=(0,n.default)(new Date(Q+J)),z=(0,n.default)(new Date(Q+J+z));return new Date(Q+J+z)}return new Date(NaN)};var i=f(t(50128)),n=f(t(67920)),c=f(t(36883)),e=f(t(11465));function f($){return $&&$.__esModule?$:{default:$}}var g=36e5,d=6e4,y=2,E={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:e.default};function R($,j,x){j=j||0,x=x||0;var G=new Date(0);G.setUTCFullYear($,0,4);var V=7*j+x+1-(G.getUTCDay()||7);return G.setUTCDate(G.getUTCDate()+V),G}var u=[31,28,31,30,31,30,31,31,30,31,30,31],w=[31,29,31,30,31,30,31,31,30,31,30,31];function v($){return $%400==0||$%4==0&&$%100!=0}function S($,j,x){if(j<0||j>11)return!1;if(null!=x){if(x<1)return!1;var G=v($);if(G&&x>w[j]||!G&&x>u[j])return!1}return!0}function L($,j,x){return!(j<0||j>52||null!=x&&(x<0||x>6))}function F($,j,x){return!(null!=$&&($<0||$>=25)||null!=j&&(j<0||j>=60)||null!=x&&(x<0||x>=60))}B.exports=D.default},50092:(B,D,t)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function e(f,g,d){var y=(0,n.default)(f,d),E=(0,i.default)(g,y,!0),_=new Date(y.getTime()-E),b=new Date(0);return b.setFullYear(_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate()),b.setHours(_.getUTCHours(),_.getUTCMinutes(),_.getUTCSeconds(),_.getUTCMilliseconds()),b};var i=c(t(36883)),n=c(t(72599));function c(f){return f&&f.__esModule?f:{default:f}}B.exports=D.default},63842:(B,D,t)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function d(y,E,_){if("string"==typeof y&&!y.match(c.default)){var b=(0,i.default)(_);return b.timeZone=E,(0,n.default)(y,b)}var O=(0,n.default)(y,_),I=(0,f.default)(O.getFullYear(),O.getMonth(),O.getDate(),O.getHours(),O.getMinutes(),O.getSeconds(),O.getMilliseconds()).getTime(),T=(0,e.default)(E,new Date(I));return new Date(I+T)};var i=g(t(67331)),n=g(t(72599)),c=g(t(11465)),e=g(t(36883)),f=g(t(46611));function g(y){return y&&y.__esModule?y:{default:y}}B.exports=D.default},82374:(B,D,t)=>{"use strict";t(26099),t(39796),t(60825),t(87411),t(21211),t(40888),t(9065),t(86565),t(32812),t(84634),t(71137),t(30985),t(34268),t(34873),t(15472);var i=t(19167);B.exports=i.Reflect},79306:(B,D,t)=>{"use strict";var i=t(94901),n=t(16823),c=TypeError;B.exports=function(e){if(i(e))return e;throw new c(n(e)+" is not a function")}},35548:(B,D,t)=>{"use strict";var i=t(33517),n=t(16823),c=TypeError;B.exports=function(e){if(i(e))return e;throw new c(n(e)+" is not a constructor")}},73506:(B,D,t)=>{"use strict";var i=t(13925),n=String,c=TypeError;B.exports=function(e){if(i(e))return e;throw new c("Can't set "+n(e)+" as a prototype")}},28551:(B,D,t)=>{"use strict";var i=t(20034),n=String,c=TypeError;B.exports=function(e){if(i(e))return e;throw new c(n(e)+" is not an object")}},15652:(B,D,t)=>{"use strict";var i=t(79039);B.exports=i(function(){if("function"==typeof ArrayBuffer){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}})},19617:(B,D,t)=>{"use strict";var i=t(25397),n=t(35610),c=t(26198),e=function(f){return function(g,d,y){var E=i(g),_=c(E);if(0===_)return!f&&-1;var O,b=n(y,_);if(f&&d!=d){for(;_>b;)if((O=E[b++])!=O)return!0}else for(;_>b;b++)if((f||b in E)&&E[b]===d)return f||b||0;return!f&&-1}};B.exports={includes:e(!0),indexOf:e(!1)}},67680:(B,D,t)=>{"use strict";var i=t(79504);B.exports=i([].slice)},44576:(B,D,t)=>{"use strict";var i=t(79504),n=i({}.toString),c=i("".slice);B.exports=function(e){return c(n(e),8,-1)}},36955:(B,D,t)=>{"use strict";var i=t(92140),n=t(94901),c=t(44576),f=t(78227)("toStringTag"),g=Object,d="Arguments"===c(function(){return arguments}());B.exports=i?c:function(E){var _,b,O;return void 0===E?"Undefined":null===E?"Null":"string"==typeof(b=function(E,_){try{return E[_]}catch{}}(_=g(E),f))?b:d?c(_):"Object"===(O=c(_))&&n(_.callee)?"Arguments":O}},77740:(B,D,t)=>{"use strict";var i=t(39297),n=t(35031),c=t(77347),e=t(24913);B.exports=function(f,g,d){for(var y=n(g),E=e.f,_=c.f,b=0;b<y.length;b++){var O=y[b];!i(f,O)&&(!d||!i(d,O))&&E(f,O,_(g,O))}}},12211:(B,D,t)=>{"use strict";var i=t(79039);B.exports=!i(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype})},66699:(B,D,t)=>{"use strict";var i=t(43724),n=t(24913),c=t(6980);B.exports=i?function(e,f,g){return n.f(e,f,c(1,g))}:function(e,f,g){return e[f]=g,e}},6980:B=>{"use strict";B.exports=function(D,t){return{enumerable:!(1&D),configurable:!(2&D),writable:!(4&D),value:t}}},36840:(B,D,t)=>{"use strict";var i=t(94901),n=t(24913),c=t(50283),e=t(39433);B.exports=function(f,g,d,y){y||(y={});var E=y.enumerable,_=void 0!==y.name?y.name:g;if(i(d)&&c(d,_,y),y.global)E?f[g]=d:e(g,d);else{try{y.unsafe?f[g]&&(E=!0):delete f[g]}catch{}E?f[g]=d:n.f(f,g,{value:d,enumerable:!1,configurable:!y.nonConfigurable,writable:!y.nonWritable})}return f}},39433:(B,D,t)=>{"use strict";var i=t(24475),n=Object.defineProperty;B.exports=function(c,e){try{n(i,c,{value:e,configurable:!0,writable:!0})}catch{i[c]=e}return e}},43724:(B,D,t)=>{"use strict";var i=t(79039);B.exports=!i(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4055:(B,D,t)=>{"use strict";var i=t(24475),n=t(20034),c=i.document,e=n(c)&&n(c.createElement);B.exports=function(f){return e?c.createElement(f):{}}},79392:B=>{"use strict";B.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},77388:(B,D,t)=>{"use strict";var d,y,i=t(24475),n=t(79392),c=i.process,e=i.Deno,f=c&&c.versions||e&&e.version,g=f&&f.v8;g&&(y=(d=g.split("."))[0]>0&&d[0]<4?1:+(d[0]+d[1])),!y&&n&&(!(d=n.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=n.match(/Chrome\/(\d+)/))&&(y=+d[1]),B.exports=y},88727:B=>{"use strict";B.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},46518:(B,D,t)=>{"use strict";var i=t(24475),n=t(77347).f,c=t(66699),e=t(36840),f=t(39433),g=t(77740),d=t(92796);B.exports=function(y,E){var T,R,u,w,v,_=y.target,b=y.global,O=y.stat;if(T=b?i:O?i[_]||f(_,{}):i[_]&&i[_].prototype)for(R in E){if(w=E[R],u=y.dontCallGetSet?(v=n(T,R))&&v.value:T[R],!d(b?R:_+(O?".":"#")+R,y.forced)&&void 0!==u){if(typeof w==typeof u)continue;g(w,u)}(y.sham||u&&u.sham)&&c(w,"sham",!0),e(T,R,w,y)}}},79039:B=>{"use strict";B.exports=function(D){try{return!!D()}catch{return!0}}},92744:(B,D,t)=>{"use strict";var i=t(79039);B.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},18745:(B,D,t)=>{"use strict";var i=t(40616),n=Function.prototype,c=n.apply,e=n.call;B.exports="object"==typeof Reflect&&Reflect.apply||(i?e.bind(c):function(){return e.apply(c,arguments)})},40616:(B,D,t)=>{"use strict";var i=t(79039);B.exports=!i(function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")})},30566:(B,D,t)=>{"use strict";var i=t(79504),n=t(79306),c=t(20034),e=t(39297),f=t(67680),g=t(40616),d=Function,y=i([].concat),E=i([].join),_={};B.exports=g?d.bind:function(I){var T=n(this),R=T.prototype,u=f(arguments,1),w=function(){var S=y(u,f(arguments));return this instanceof w?function(O,I,T){if(!e(_,I)){for(var R=[],u=0;u<I;u++)R[u]="a["+u+"]";_[I]=d("C,a","return new C("+E(R,",")+")")}return _[I](O,T)}(T,S.length,S):T.apply(I,S)};return c(R)&&(w.prototype=R),w}},69565:(B,D,t)=>{"use strict";var i=t(40616),n=Function.prototype.call;B.exports=i?n.bind(n):function(){return n.apply(n,arguments)}},10350:(B,D,t)=>{"use strict";var i=t(43724),n=t(39297),c=Function.prototype,e=i&&Object.getOwnPropertyDescriptor,f=n(c,"name"),g=f&&"something"===function(){}.name,d=f&&(!i||i&&e(c,"name").configurable);B.exports={EXISTS:f,PROPER:g,CONFIGURABLE:d}},46706:(B,D,t)=>{"use strict";var i=t(79504),n=t(79306);B.exports=function(c,e,f){try{return i(n(Object.getOwnPropertyDescriptor(c,e)[f]))}catch{}}},79504:(B,D,t)=>{"use strict";var i=t(40616),n=Function.prototype,c=n.call,e=i&&n.bind.bind(c,c);B.exports=i?e:function(f){return function(){return c.apply(f,arguments)}}},97751:(B,D,t)=>{"use strict";var i=t(24475),n=t(94901);B.exports=function(e,f){return arguments.length<2?function(e){return n(e)?e:void 0}(i[e]):i[e]&&i[e][f]}},55966:(B,D,t)=>{"use strict";var i=t(79306),n=t(64117);B.exports=function(c,e){var f=c[e];return n(f)?void 0:i(f)}},24475:function(B){"use strict";var D=function(t){return t&&t.Math===Math&&t};B.exports=D("object"==typeof globalThis&&globalThis)||D("object"==typeof window&&window)||D("object"==typeof self&&self)||D("object"==typeof global&&global)||D("object"==typeof this&&this)||function(){return this}()||Function("return this")()},39297:(B,D,t)=>{"use strict";var i=t(79504),n=t(48981),c=i({}.hasOwnProperty);B.exports=Object.hasOwn||function(f,g){return c(n(f),g)}},30421:B=>{"use strict";B.exports={}},20397:(B,D,t)=>{"use strict";var i=t(97751);B.exports=i("document","documentElement")},35917:(B,D,t)=>{"use strict";var i=t(43724),n=t(79039),c=t(4055);B.exports=!i&&!n(function(){return 7!==Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a})},47055:(B,D,t)=>{"use strict";var i=t(79504),n=t(79039),c=t(44576),e=Object,f=i("".split);B.exports=n(function(){return!e("z").propertyIsEnumerable(0)})?function(g){return"String"===c(g)?f(g,""):e(g)}:e},33706:(B,D,t)=>{"use strict";var i=t(79504),n=t(94901),c=t(77629),e=i(Function.toString);n(c.inspectSource)||(c.inspectSource=function(f){return e(f)}),B.exports=c.inspectSource},91181:(B,D,t)=>{"use strict";var O,I,T,i=t(58622),n=t(24475),c=t(20034),e=t(66699),f=t(39297),g=t(77629),d=t(66119),y=t(30421),E="Object already initialized",_=n.TypeError;if(i||g.state){var w=g.state||(g.state=new(0,n.WeakMap));w.get=w.get,w.has=w.has,w.set=w.set,O=function(S,M){if(w.has(S))throw new _(E);return M.facade=S,w.set(S,M),M},I=function(S){return w.get(S)||{}},T=function(S){return w.has(S)}}else{var v=d("state");y[v]=!0,O=function(S,M){if(f(S,v))throw new _(E);return M.facade=S,e(S,v,M),M},I=function(S){return f(S,v)?S[v]:{}},T=function(S){return f(S,v)}}B.exports={set:O,get:I,has:T,enforce:function(S){return T(S)?I(S):O(S,{})},getterFor:function(S){return function(M){var L;if(!c(M)||(L=I(M)).type!==S)throw new _("Incompatible receiver, "+S+" required");return L}}}},94901:B=>{"use strict";var D="object"==typeof document&&document.all;B.exports=typeof D>"u"&&void 0!==D?function(t){return"function"==typeof t||t===D}:function(t){return"function"==typeof t}},33517:(B,D,t)=>{"use strict";var i=t(79504),n=t(79039),c=t(94901),e=t(36955),f=t(97751),g=t(33706),d=function(){},y=f("Reflect","construct"),E=/^\s*(?:class|function)\b/,_=i(E.exec),b=!E.test(d),O=function(R){if(!c(R))return!1;try{return y(d,[],R),!0}catch{return!1}},I=function(R){if(!c(R))return!1;switch(e(R)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return b||!!_(E,g(R))}catch{return!0}};I.sham=!0,B.exports=!y||n(function(){var T;return O(O.call)||!O(Object)||!O(function(){T=!0})||T})?I:O},16575:(B,D,t)=>{"use strict";var i=t(39297);B.exports=function(n){return void 0!==n&&(i(n,"value")||i(n,"writable"))}},92796:(B,D,t)=>{"use strict";var i=t(79039),n=t(94901),c=/#|\.prototype\./,e=function(E,_){var b=g[f(E)];return b===y||b!==d&&(n(_)?i(_):!!_)},f=e.normalize=function(E){return String(E).replace(c,".").toLowerCase()},g=e.data={},d=e.NATIVE="N",y=e.POLYFILL="P";B.exports=e},64117:B=>{"use strict";B.exports=function(D){return null==D}},20034:(B,D,t)=>{"use strict";var i=t(94901);B.exports=function(n){return"object"==typeof n?null!==n:i(n)}},13925:(B,D,t)=>{"use strict";var i=t(20034);B.exports=function(n){return i(n)||null===n}},96395:B=>{"use strict";B.exports=!1},10757:(B,D,t)=>{"use strict";var i=t(97751),n=t(94901),c=t(1625),e=t(7040),f=Object;B.exports=e?function(g){return"symbol"==typeof g}:function(g){var d=i("Symbol");return n(d)&&c(d.prototype,f(g))}},26198:(B,D,t)=>{"use strict";var i=t(18014);B.exports=function(n){return i(n.length)}},50283:(B,D,t)=>{"use strict";var i=t(79504),n=t(79039),c=t(94901),e=t(39297),f=t(43724),g=t(10350).CONFIGURABLE,d=t(33706),y=t(91181),E=y.enforce,_=y.get,b=String,O=Object.defineProperty,I=i("".slice),T=i("".replace),R=i([].join),u=f&&!n(function(){return 8!==O(function(){},"length",{value:8}).length}),w=String(String).split("String"),v=B.exports=function(S,M,L){"Symbol("===I(b(M),0,7)&&(M="["+T(b(M),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),L&&L.getter&&(M="get "+M),L&&L.setter&&(M="set "+M),(!e(S,"name")||g&&S.name!==M)&&(f?O(S,"name",{value:M,configurable:!0}):S.name=M),u&&L&&e(L,"arity")&&S.length!==L.arity&&O(S,"length",{value:L.arity});try{L&&e(L,"constructor")&&L.constructor?f&&O(S,"prototype",{writable:!1}):S.prototype&&(S.prototype=void 0)}catch{}var F=E(S);return e(F,"source")||(F.source=R(w,"string"==typeof M?M:"")),S};Function.prototype.toString=v(function(){return c(this)&&_(this).source||d(this)},"toString")},80741:B=>{"use strict";var D=Math.ceil,t=Math.floor;B.exports=Math.trunc||function(n){var c=+n;return(c>0?t:D)(c)}},2360:(B,D,t)=>{"use strict";var w,i=t(28551),n=t(96801),c=t(88727),e=t(30421),f=t(20397),g=t(4055),d=t(66119),_="prototype",b="script",O=d("IE_PROTO"),I=function(){},T=function(S){return"<"+b+">"+S+"</"+b+">"},R=function(S){S.write(T("")),S.close();var M=S.parentWindow.Object;return S=null,M},v=function(){try{w=new ActiveXObject("htmlfile")}catch{}v=typeof document<"u"?document.domain&&w?R(w):function(){var L,S=g("iframe"),M="java"+b+":";return S.style.display="none",f.appendChild(S),S.src=String(M),(L=S.contentWindow.document).open(),L.write(T("document.F=Object")),L.close(),L.F}():R(w);for(var S=c.length;S--;)delete v[_][c[S]];return v()};e[O]=!0,B.exports=Object.create||function(M,L){var F;return null!==M?(I[_]=i(M),F=new I,I[_]=null,F[O]=M):F=v(),void 0===L?F:n.f(F,L)}},96801:(B,D,t)=>{"use strict";var i=t(43724),n=t(48686),c=t(24913),e=t(28551),f=t(25397),g=t(71072);D.f=i&&!n?Object.defineProperties:function(y,E){e(y);for(var T,_=f(E),b=g(E),O=b.length,I=0;O>I;)c.f(y,T=b[I++],_[T]);return y}},24913:(B,D,t)=>{"use strict";var i=t(43724),n=t(35917),c=t(48686),e=t(28551),f=t(56969),g=TypeError,d=Object.defineProperty,y=Object.getOwnPropertyDescriptor,E="enumerable",_="configurable",b="writable";D.f=i?c?function(I,T,R){if(e(I),T=f(T),e(R),"function"==typeof I&&"prototype"===T&&"value"in R&&b in R&&!R[b]){var u=y(I,T);u&&u[b]&&(I[T]=R.value,R={configurable:_ in R?R[_]:u[_],enumerable:E in R?R[E]:u[E],writable:!1})}return d(I,T,R)}:d:function(I,T,R){if(e(I),T=f(T),e(R),n)try{return d(I,T,R)}catch{}if("get"in R||"set"in R)throw new g("Accessors not supported");return"value"in R&&(I[T]=R.value),I}},77347:(B,D,t)=>{"use strict";var i=t(43724),n=t(69565),c=t(48773),e=t(6980),f=t(25397),g=t(56969),d=t(39297),y=t(35917),E=Object.getOwnPropertyDescriptor;D.f=i?E:function(b,O){if(b=f(b),O=g(O),y)try{return E(b,O)}catch{}if(d(b,O))return e(!n(c.f,b,O),b[O])}},38480:(B,D,t)=>{"use strict";var i=t(61828),c=t(88727).concat("length","prototype");D.f=Object.getOwnPropertyNames||function(f){return i(f,c)}},33717:(B,D)=>{"use strict";D.f=Object.getOwnPropertySymbols},42787:(B,D,t)=>{"use strict";var i=t(39297),n=t(94901),c=t(48981),e=t(66119),f=t(12211),g=e("IE_PROTO"),d=Object,y=d.prototype;B.exports=f?d.getPrototypeOf:function(E){var _=c(E);if(i(_,g))return _[g];var b=_.constructor;return n(b)&&_ instanceof b?b.prototype:_ instanceof d?y:null}},34124:(B,D,t)=>{"use strict";var i=t(79039),n=t(20034),c=t(44576),e=t(15652),f=Object.isExtensible,g=i(function(){f(1)});B.exports=g||e?function(y){return!(!n(y)||e&&"ArrayBuffer"===c(y))&&(!f||f(y))}:f},1625:(B,D,t)=>{"use strict";var i=t(79504);B.exports=i({}.isPrototypeOf)},61828:(B,D,t)=>{"use strict";var i=t(79504),n=t(39297),c=t(25397),e=t(19617).indexOf,f=t(30421),g=i([].push);B.exports=function(d,y){var O,E=c(d),_=0,b=[];for(O in E)!n(f,O)&&n(E,O)&&g(b,O);for(;y.length>_;)n(E,O=y[_++])&&(~e(b,O)||g(b,O));return b}},71072:(B,D,t)=>{"use strict";var i=t(61828),n=t(88727);B.exports=Object.keys||function(e){return i(e,n)}},48773:(B,D)=>{"use strict";var t={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!t.call({1:2},1);D.f=n?function(e){var f=i(this,e);return!!f&&f.enumerable}:t},52967:(B,D,t)=>{"use strict";var i=t(46706),n=t(28551),c=t(73506);B.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,e=!1,f={};try{(g=i(Object.prototype,"__proto__","set"))(f,[]),e=f instanceof Array}catch{}return function(y,E){return n(y),c(E),e?g(y,E):y.__proto__=E,y}}():void 0)},53179:(B,D,t)=>{"use strict";var i=t(92140),n=t(36955);B.exports=i?{}.toString:function(){return"[object "+n(this)+"]"}},84270:(B,D,t)=>{"use strict";var i=t(69565),n=t(94901),c=t(20034),e=TypeError;B.exports=function(f,g){var d,y;if("string"===g&&n(d=f.toString)&&!c(y=i(d,f))||n(d=f.valueOf)&&!c(y=i(d,f))||"string"!==g&&n(d=f.toString)&&!c(y=i(d,f)))return y;throw new e("Can't convert object to primitive value")}},35031:(B,D,t)=>{"use strict";var i=t(97751),n=t(79504),c=t(38480),e=t(33717),f=t(28551),g=n([].concat);B.exports=i("Reflect","ownKeys")||function(y){var E=c.f(f(y)),_=e.f;return _?g(E,_(y)):E}},19167:(B,D,t)=>{"use strict";var i=t(24475);B.exports=i},67750:(B,D,t)=>{"use strict";var i=t(64117),n=TypeError;B.exports=function(c){if(i(c))throw new n("Can't call method on "+c);return c}},10687:(B,D,t)=>{"use strict";var i=t(24913).f,n=t(39297),e=t(78227)("toStringTag");B.exports=function(f,g,d){f&&!d&&(f=f.prototype),f&&!n(f,e)&&i(f,e,{configurable:!0,value:g})}},66119:(B,D,t)=>{"use strict";var i=t(25745),n=t(33392),c=i("keys");B.exports=function(e){return c[e]||(c[e]=n(e))}},77629:(B,D,t)=>{"use strict";var i=t(96395),n=t(24475),c=t(39433),e="__core-js_shared__",f=B.exports=n[e]||c(e,{});(f.versions||(f.versions=[])).push({version:"3.36.0",mode:i?"pure":"global",copyright:"\xa9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.0/LICENSE",source:"https://github.com/zloirock/core-js"})},25745:(B,D,t)=>{"use strict";var i=t(77629);B.exports=function(n,c){return i[n]||(i[n]=c||{})}},4495:(B,D,t)=>{"use strict";var i=t(77388),n=t(79039),e=t(24475).String;B.exports=!!Object.getOwnPropertySymbols&&!n(function(){var f=Symbol("symbol detection");return!e(f)||!(Object(f)instanceof Symbol)||!Symbol.sham&&i&&i<41})},35610:(B,D,t)=>{"use strict";var i=t(91291),n=Math.max,c=Math.min;B.exports=function(e,f){var g=i(e);return g<0?n(g+f,0):c(g,f)}},25397:(B,D,t)=>{"use strict";var i=t(47055),n=t(67750);B.exports=function(c){return i(n(c))}},91291:(B,D,t)=>{"use strict";var i=t(80741);B.exports=function(n){var c=+n;return c!=c||0===c?0:i(c)}},18014:(B,D,t)=>{"use strict";var i=t(91291),n=Math.min;B.exports=function(c){var e=i(c);return e>0?n(e,9007199254740991):0}},48981:(B,D,t)=>{"use strict";var i=t(67750),n=Object;B.exports=function(c){return n(i(c))}},72777:(B,D,t)=>{"use strict";var i=t(69565),n=t(20034),c=t(10757),e=t(55966),f=t(84270),g=t(78227),d=TypeError,y=g("toPrimitive");B.exports=function(E,_){if(!n(E)||c(E))return E;var O,b=e(E,y);if(b){if(void 0===_&&(_="default"),O=i(b,E,_),!n(O)||c(O))return O;throw new d("Can't convert object to primitive value")}return void 0===_&&(_="number"),f(E,_)}},56969:(B,D,t)=>{"use strict";var i=t(72777),n=t(10757);B.exports=function(c){var e=i(c,"string");return n(e)?e:e+""}},92140:(B,D,t)=>{"use strict";var c={};c[t(78227)("toStringTag")]="z",B.exports="[object z]"===String(c)},16823:B=>{"use strict";var D=String;B.exports=function(t){try{return D(t)}catch{return"Object"}}},33392:(B,D,t)=>{"use strict";var i=t(79504),n=0,c=Math.random(),e=i(1..toString);B.exports=function(f){return"Symbol("+(void 0===f?"":f)+")_"+e(++n+c,36)}},7040:(B,D,t)=>{"use strict";var i=t(4495);B.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},48686:(B,D,t)=>{"use strict";var i=t(43724),n=t(79039);B.exports=i&&n(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},58622:(B,D,t)=>{"use strict";var i=t(24475),n=t(94901),c=i.WeakMap;B.exports=n(c)&&/native code/.test(String(c))},78227:(B,D,t)=>{"use strict";var i=t(24475),n=t(25745),c=t(39297),e=t(33392),f=t(4495),g=t(7040),d=i.Symbol,y=n("wks"),E=g?d.for||d:d&&d.withoutSetter||e;B.exports=function(_){return c(y,_)||(y[_]=f&&c(d,_)?d[_]:E("Symbol."+_)),y[_]}},26099:(B,D,t)=>{"use strict";var i=t(92140),n=t(36840),c=t(53179);i||n(Object.prototype,"toString",c,{unsafe:!0})},39796:(B,D,t)=>{"use strict";var i=t(46518),n=t(18745),c=t(79306),e=t(28551);i({target:"Reflect",stat:!0,forced:!t(79039)(function(){Reflect.apply(function(){})})},{apply:function(y,E,_){return n(c(y),E,e(_))}})},60825:(B,D,t)=>{"use strict";var i=t(46518),n=t(97751),c=t(18745),e=t(30566),f=t(35548),g=t(28551),d=t(20034),y=t(2360),E=t(79039),_=n("Reflect","construct"),b=Object.prototype,O=[].push,I=E(function(){function u(){}return!(_(function(){},[],u)instanceof u)}),T=!E(function(){_(function(){})}),R=I||T;i({target:"Reflect",stat:!0,forced:R,sham:R},{construct:function(w,v){f(w),g(v);var S=arguments.length<3?w:f(arguments[2]);if(T&&!I)return _(w,v,S);if(w===S){switch(v.length){case 0:return new w;case 1:return new w(v[0]);case 2:return new w(v[0],v[1]);case 3:return new w(v[0],v[1],v[2]);case 4:return new w(v[0],v[1],v[2],v[3])}var M=[null];return c(O,M,v),new(c(e,w,M))}var L=S.prototype,F=y(d(L)?L:b),$=c(w,F,v);return d($)?$:F}})},87411:(B,D,t)=>{"use strict";var i=t(46518),n=t(43724),c=t(28551),e=t(56969),f=t(24913);i({target:"Reflect",stat:!0,forced:t(79039)(function(){Reflect.defineProperty(f.f({},1,{value:1}),1,{value:2})}),sham:!n},{defineProperty:function(E,_,b){c(E);var O=e(_);c(b);try{return f.f(E,O,b),!0}catch{return!1}}})},21211:(B,D,t)=>{"use strict";var i=t(46518),n=t(28551),c=t(77347).f;i({target:"Reflect",stat:!0},{deleteProperty:function(f,g){var d=c(n(f),g);return!(d&&!d.configurable)&&delete f[g]}})},9065:(B,D,t)=>{"use strict";var i=t(46518),n=t(43724),c=t(28551),e=t(77347);i({target:"Reflect",stat:!0,sham:!n},{getOwnPropertyDescriptor:function(g,d){return e.f(c(g),d)}})},86565:(B,D,t)=>{"use strict";var i=t(46518),n=t(28551),c=t(42787);i({target:"Reflect",stat:!0,sham:!t(12211)},{getPrototypeOf:function(g){return c(n(g))}})},40888:(B,D,t)=>{"use strict";var i=t(46518),n=t(69565),c=t(20034),e=t(28551),f=t(16575),g=t(77347),d=t(42787);i({target:"Reflect",stat:!0},{get:function y(E,_){var O,I,b=arguments.length<3?E:arguments[2];return e(E)===b?E[_]:(O=g.f(E,_))?f(O)?O.value:void 0===O.get?void 0:n(O.get,b):c(I=d(E))?y(I,_,b):void 0}})},32812:(B,D,t)=>{"use strict";t(46518)({target:"Reflect",stat:!0},{has:function(c,e){return e in c}})},84634:(B,D,t)=>{"use strict";var i=t(46518),n=t(28551),c=t(34124);i({target:"Reflect",stat:!0},{isExtensible:function(f){return n(f),c(f)}})},71137:(B,D,t)=>{"use strict";t(46518)({target:"Reflect",stat:!0},{ownKeys:t(35031)})},30985:(B,D,t)=>{"use strict";var i=t(46518),n=t(97751),c=t(28551);i({target:"Reflect",stat:!0,sham:!t(92744)},{preventExtensions:function(g){c(g);try{var d=n("Object","preventExtensions");return d&&d(g),!0}catch{return!1}}})},34873:(B,D,t)=>{"use strict";var i=t(46518),n=t(28551),c=t(73506),e=t(52967);e&&i({target:"Reflect",stat:!0},{setPrototypeOf:function(g,d){n(g),c(d);try{return e(g,d),!0}catch{return!1}}})},34268:(B,D,t)=>{"use strict";var i=t(46518),n=t(69565),c=t(28551),e=t(20034),f=t(16575),g=t(79039),d=t(24913),y=t(77347),E=t(42787),_=t(6980);i({target:"Reflect",stat:!0,forced:g(function(){var I=function(){},T=d.f(new I,"a",{configurable:!0});return!1!==Reflect.set(I.prototype,"a",1,T)})},{set:function b(I,T,R){var v,S,M,u=arguments.length<4?I:arguments[3],w=y.f(c(I),T);if(!w){if(e(S=E(I)))return b(S,T,R,u);w=_(0)}if(f(w)){if(!1===w.writable||!e(u))return!1;if(v=y.f(u,T)){if(v.get||v.set||!1===v.writable)return!1;v.value=R,d.f(u,T,v)}else d.f(u,T,_(0,R))}else{if(void 0===(M=w.set))return!1;n(M,u,R)}return!0}})},15472:(B,D,t)=>{"use strict";var i=t(46518),n=t(24475),c=t(10687);i({global:!0},{Reflect:{}}),c(n.Reflect,"Reflect",!0)},85094:B=>{B.exports=function D(t){return t&&t.__esModule?t:{default:t}},B.exports.__esModule=!0,B.exports.default=B.exports},10318:B=>{function D(t){return B.exports=D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},B.exports.__esModule=!0,B.exports.default=B.exports,D(t)}B.exports=D,B.exports.__esModule=!0,B.exports.default=B.exports},71204:(B,D,t)=>{"use strict";t.d(D,{FX:()=>G,If:()=>i,K2:()=>g,MA:()=>O,Os:()=>f,P:()=>T,hZ:()=>c,i0:()=>e,iF:()=>d,kY:()=>_,kp:()=>n,sf:()=>j,ui:()=>x,wk:()=>y});var i=function(Y){return Y[Y.State=0]="State",Y[Y.Transition=1]="Transition",Y[Y.Sequence=2]="Sequence",Y[Y.Group=3]="Group",Y[Y.Animate=4]="Animate",Y[Y.Keyframes=5]="Keyframes",Y[Y.Style=6]="Style",Y[Y.Trigger=7]="Trigger",Y[Y.Reference=8]="Reference",Y[Y.AnimateChild=9]="AnimateChild",Y[Y.AnimateRef=10]="AnimateRef",Y[Y.Query=11]="Query",Y[Y.Stagger=12]="Stagger",Y}(i||{});const n="*";function c(Y,V){return{type:i.Trigger,name:Y,definitions:V,options:{}}}function e(Y,V=null){return{type:i.Animate,styles:V,timings:Y}}function f(Y,V=null){return{type:i.Group,steps:Y,options:V}}function g(Y,V=null){return{type:i.Sequence,steps:Y,options:V}}function d(Y){return{type:i.Style,styles:Y,offset:null}}function y(Y,V,X){return{type:i.State,name:Y,styles:V,options:X}}function _(Y,V,X=null){return{type:i.Transition,expr:Y,animation:V,options:X}}function O(Y=null){return{type:i.AnimateChild,options:Y}}function T(Y,V,X=null){return{type:i.Query,selector:Y,animation:V,options:X}}class j{constructor(V=0,X=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=V+X}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(V=>V()),this._onDoneFns=[])}onStart(V){this._originalOnStartFns.push(V),this._onStartFns.push(V)}onDone(V){this._originalOnDoneFns.push(V),this._onDoneFns.push(V)}onDestroy(V){this._onDestroyFns.push(V)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(V=>V()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(V=>V()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(V){this._position=this.totalTime?V*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(V){const X="start"==V?this._onStartFns:this._onDoneFns;X.forEach(K=>K()),X.length=0}}class x{constructor(V){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=V;let X=0,K=0,ae=0;const Q=this.players.length;0==Q?queueMicrotask(()=>this._onFinish()):this.players.forEach(J=>{J.onDone(()=>{++X==Q&&this._onFinish()}),J.onDestroy(()=>{++K==Q&&this._onDestroy()}),J.onStart(()=>{++ae==Q&&this._onStart()})}),this.totalTime=this.players.reduce((J,z)=>Math.max(J,z.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(V=>V()),this._onDoneFns=[])}init(){this.players.forEach(V=>V.init())}onStart(V){this._onStartFns.push(V)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(V=>V()),this._onStartFns=[])}onDone(V){this._onDoneFns.push(V)}onDestroy(V){this._onDestroyFns.push(V)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(V=>V.play())}pause(){this.players.forEach(V=>V.pause())}restart(){this.players.forEach(V=>V.restart())}finish(){this._onFinish(),this.players.forEach(V=>V.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(V=>V.destroy()),this._onDestroyFns.forEach(V=>V()),this._onDestroyFns=[])}reset(){this.players.forEach(V=>V.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(V){const X=V*this.totalTime;this.players.forEach(K=>{const ae=K.totalTime?Math.min(1,X/K.totalTime):1;K.setPosition(ae)})}getPosition(){const V=this.players.reduce((X,K)=>null===X||K.totalTime>X.totalTime?K:X,null);return null!=V?V.getPosition():0}beforeDestroy(){this.players.forEach(V=>{V.beforeDestroy&&V.beforeDestroy()})}triggerCallback(V){const X="start"==V?this._onStartFns:this._onDoneFns;X.forEach(K=>K()),X.length=0}}const G="!"},82944:(B,D,t)=>{"use strict";t.d(D,{dS:()=>d});var i=t(53107),n=t(54460);const c=new i.nKC("cdk-dir-doc",{providedIn:"root",factory:function e(){return(0,i.WQX)(n.qQ)}}),f=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let d=(()=>{class _{constructor(O){this.value="ltr",this.change=new i.bkB,O&&(this.value=function g(_){const b=_?.toLowerCase()||"";return"auto"===b&&typeof navigator<"u"&&navigator?.language?f.test(navigator.language)?"rtl":"ltr":"rtl"===b?"rtl":"ltr"}((O.body?O.body.dir:null)||(O.documentElement?O.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(I){return new(I||_)(i.KVO(c,8))};static#t=this.\u0275prov=i.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},1349:(B,D,t)=>{"use strict";t.d(D,{CB:()=>I,qS:()=>g,y4:()=>d});var i=t(51642),e=(t(11531),t(63016),t(18447));t(53107);class g{}function d(u){return u&&"function"==typeof u.connect&&!(u instanceof i.G)}class I{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(w=!1,v,S=!0,M){this._multiple=w,this._emitChanges=S,this.compareWith=M,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new e.B,v&&v.length&&(w?v.forEach(L=>this._markSelected(L)):this._markSelected(v[0]),this._selectedToEmit.length=0)}select(...w){this._verifyValueAssignment(w),w.forEach(S=>this._markSelected(S));const v=this._hasQueuedChanges();return this._emitChangeEvent(),v}deselect(...w){this._verifyValueAssignment(w),w.forEach(S=>this._unmarkSelected(S));const v=this._hasQueuedChanges();return this._emitChangeEvent(),v}setSelection(...w){this._verifyValueAssignment(w);const v=this.selected,S=new Set(w);w.forEach(L=>this._markSelected(L)),v.filter(L=>!S.has(this._getConcreteValue(L,S))).forEach(L=>this._unmarkSelected(L));const M=this._hasQueuedChanges();return this._emitChangeEvent(),M}toggle(w){return this.isSelected(w)?this.deselect(w):this.select(w)}clear(w=!0){this._unmarkAll();const v=this._hasQueuedChanges();return w&&this._emitChangeEvent(),v}isSelected(w){return this._selection.has(this._getConcreteValue(w))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(w){this._multiple&&this.selected&&this._selected.sort(w)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(w){w=this._getConcreteValue(w),this.isSelected(w)||(this._multiple||this._unmarkAll(),this.isSelected(w)||this._selection.add(w),this._emitChanges&&this._selectedToEmit.push(w))}_unmarkSelected(w){w=this._getConcreteValue(w),this.isSelected(w)&&(this._selection.delete(w),this._emitChanges&&this._deselectedToEmit.push(w))}_unmarkAll(){this.isEmpty()||this._selection.forEach(w=>this._unmarkSelected(w))}_verifyValueAssignment(w){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(w,v){if(this.compareWith){v=v??this._selection;for(let S of v)if(this.compareWith(w,S))return S;return w}return w}}},85102:(B,D,t)=>{"use strict";t.d(D,{T1:()=>Jr,Fb:()=>Rr,O7:()=>Qa,HD:()=>Us});var i=t(53107),n=t(54460);function e(Me,ye=0){return function f(Me){return!isNaN(parseFloat(Me))&&!isNaN(Number(Me))}(Me)?Number(Me):ye}function y(Me){return Me instanceof i.aKT?Me.nativeElement:Me}var _=t(18447),b=t(63016),O=t(51698),I=t(909),T=t(19899),R=t(85710);const u={schedule(Me){let ye=requestAnimationFrame,oe=cancelAnimationFrame;const{delegate:Se}=u;Se&&(ye=Se.requestAnimationFrame,oe=Se.cancelAnimationFrame);const rt=ye(Mt=>{oe=void 0,Me(Mt)});return new R.yU(()=>oe?.(rt))},requestAnimationFrame(...Me){const{delegate:ye}=u;return(ye?.requestAnimationFrame||requestAnimationFrame)(...Me)},cancelAnimationFrame(...Me){const{delegate:ye}=u;return(ye?.cancelAnimationFrame||cancelAnimationFrame)(...Me)},delegate:void 0};var v=t(48050);const M=new class S extends v.q{flush(ye){this._active=!0;const oe=this._scheduled;this._scheduled=void 0;const{actions:Se}=this;let rt;ye=ye||Se.shift();do{if(rt=ye.execute(ye.state,ye.delay))break}while((ye=Se[0])&&ye.id===oe&&Se.shift());if(this._active=!1,rt){for(;(ye=Se[0])&&ye.id===oe&&Se.shift();)ye.unsubscribe();throw rt}}}(class w extends T.R{constructor(ye,oe){super(ye,oe),this.scheduler=ye,this.work=oe}requestAsyncId(ye,oe,Se=0){return null!==Se&&Se>0?super.requestAsyncId(ye,oe,Se):(ye.actions.push(this),ye._scheduled||(ye._scheduled=u.requestAnimationFrame(()=>ye.flush(void 0))))}recycleAsyncId(ye,oe,Se=0){var rt;if(null!=Se?Se>0:this.delay>0)return super.recycleAsyncId(ye,oe,Se);const{actions:Mt}=ye;null!=oe&&(null===(rt=Mt[Mt.length-1])||void 0===rt?void 0:rt.id)!==oe&&(u.cancelAnimationFrame(oe),ye._scheduled=void 0)}});t(74984);var $=t(26061),j=t(15351),x=t(7225),G=t(42483),V=t(49587);function X(Me,ye=$.E){return function Y(Me){return(0,j.N)((ye,oe)=>{let Se=!1,rt=null,Mt=null,en=!1;const _n=()=>{if(Mt?.unsubscribe(),Mt=null,Se){Se=!1;const is=rt;rt=null,oe.next(is)}en&&oe.complete()},zn=()=>{Mt=null,en&&oe.complete()};ye.subscribe((0,G._)(oe,is=>{Se=!0,rt=is,Mt||(0,x.Tg)(Me(is)).subscribe(Mt=(0,G._)(oe,_n,zn))},()=>{en=!0,(!Se||!Mt||Mt.closed)&&oe.complete()}))})}(()=>(0,V.O)(Me,ye))}var K=t(41483);let ae;try{ae=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ae=!1}let de,fe,Q=(()=>{class Me{constructor(oe){this._platformId=oe,this.isBrowser=this._platformId?(0,n.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ae)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Se){return new(Se||Me)(i.KVO(i.Agw))};static#t=this.\u0275prov=i.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})();function Z(Me){return function Ce(){if(null==de&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>de=!0}))}finally{de=de||!1}return de}()?Me:!!Me.capture}function Ne(Me){if(function Ie(){if(null==fe){const Me=typeof document<"u"?document.head:null;fe=!(!Me||!Me.createShadowRoot&&!Me.attachShadow)}return fe}()){const ye=Me.getRootNode?Me.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&ye instanceof ShadowRoot)return ye}return null}function we(Me){return Me.composedPath?Me.composedPath()[0]:Me.target}let je=(()=>{class Me{constructor(oe,Se,rt){this._ngZone=oe,this._platform=Se,this._scrolled=new _.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=rt}register(oe){this.scrollContainers.has(oe)||this.scrollContainers.set(oe,oe.elementScrolled().subscribe(()=>this._scrolled.next(oe)))}deregister(oe){const Se=this.scrollContainers.get(oe);Se&&(Se.unsubscribe(),this.scrollContainers.delete(oe))}scrolled(oe=20){return this._platform.isBrowser?new O.c(Se=>{this._globalSubscription||this._addGlobalListener();const rt=oe>0?this._scrolled.pipe(X(oe)).subscribe(Se):this._scrolled.subscribe(Se);return this._scrolledCount++,()=>{rt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,b.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((oe,Se)=>this.deregister(Se)),this._scrolled.complete()}ancestorScrolled(oe,Se){const rt=this.getAncestorScrollContainers(oe);return this.scrolled(Se).pipe((0,K.p)(Mt=>!Mt||rt.indexOf(Mt)>-1))}getAncestorScrollContainers(oe){const Se=[];return this.scrollContainers.forEach((rt,Mt)=>{this._scrollableContainsElement(Mt,oe)&&Se.push(Mt)}),Se}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(oe,Se){let rt=y(Se),Mt=oe.getElementRef().nativeElement;do{if(rt==Mt)return!0}while(rt=rt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const oe=this._getWindow();return(0,I.R)(oe.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Se){return new(Se||Me)(i.KVO(i.SKi),i.KVO(Q),i.KVO(n.qQ,8))};static#t=this.\u0275prov=i.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})(),Ee=(()=>{class Me{constructor(oe,Se,rt){this._platform=oe,this._change=new _.B,this._changeListener=Mt=>{this._change.next(Mt)},this._document=rt,Se.runOutsideAngular(()=>{if(oe.isBrowser){const Mt=this._getWindow();Mt.addEventListener("resize",this._changeListener),Mt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const oe=this._getWindow();oe.removeEventListener("resize",this._changeListener),oe.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const oe={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),oe}getViewportRect(){const oe=this.getViewportScrollPosition(),{width:Se,height:rt}=this.getViewportSize();return{top:oe.top,left:oe.left,bottom:oe.top+rt,right:oe.left+Se,height:rt,width:Se}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const oe=this._document,Se=this._getWindow(),rt=oe.documentElement,Mt=rt.getBoundingClientRect();return{top:-Mt.top||oe.body.scrollTop||Se.scrollY||rt.scrollTop||0,left:-Mt.left||oe.body.scrollLeft||Se.scrollX||rt.scrollLeft||0}}change(oe=20){return oe>0?this._change.pipe(X(oe)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const oe=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:oe.innerWidth,height:oe.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Se){return new(Se||Me)(i.KVO(Q),i.KVO(i.SKi),i.KVO(n.qQ,8))};static#t=this.\u0275prov=i.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})();var gr=t(82040),Yo=(t(88627),t(47947)),Xr=t(37610),zs=t(69372),Fi=t(17509),Di=t(71217),Zi=t(5424),Ki=t(22867),Kn=t(30593),Or=t(82944);function Ka(Me,ye,oe){for(let Se in ye)if(ye.hasOwnProperty(Se)){const rt=ye[Se];rt?Me.setProperty(Se,rt,oe?.has(Se)?"important":""):Me.removeProperty(Se)}return Me}function Mr(Me,ye){const oe=ye?"":"none";Ka(Me.style,{"touch-action":ye?"":"none","-webkit-user-drag":ye?"":"none","-webkit-tap-highlight-color":ye?"":"transparent","user-select":oe,"-ms-user-select":oe,"-webkit-user-select":oe,"-moz-user-select":oe})}function Jo(Me,ye,oe){Ka(Me.style,{position:ye?"":"fixed",top:ye?"":"0",opacity:ye?"":"0",left:ye?"":"-999em"},oe)}function ma(Me,ye){return ye&&"none"!=ye?Me+" "+ye:Me}function _e(Me,ye){Me.style.width=`${ye.width}px`,Me.style.height=`${ye.height}px`,Me.style.transform=nt(ye.left,ye.top)}function nt(Me,ye){return`translate3d(${Math.round(Me)}px, ${Math.round(ye)}px, 0)`}function Pe(Me){const ye=Me.getBoundingClientRect();return{top:ye.top,right:ye.right,bottom:ye.bottom,left:ye.left,width:ye.width,height:ye.height,x:ye.x,y:ye.y}}function Je(Me,ye,oe){const{top:Se,bottom:rt,left:Mt,right:en}=Me;return oe>=Se&&oe<=rt&&ye>=Mt&&ye<=en}function St(Me,ye,oe){Me.top+=ye,Me.bottom=Me.top+Me.height,Me.left+=oe,Me.right=Me.left+Me.width}function dn(Me,ye,oe,Se){const{top:rt,right:Mt,bottom:en,left:_n,width:zn,height:is}=Me,ui=zn*ye,zi=is*ye;return Se>rt-zi&&Se<en+zi&&oe>_n-ui&&oe<Mt+ui}class En{constructor(ye){this._document=ye,this.positions=new Map}clear(){this.positions.clear()}cache(ye){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),ye.forEach(oe=>{this.positions.set(oe,{scrollPosition:{top:oe.scrollTop,left:oe.scrollLeft},clientRect:Pe(oe)})})}handleScroll(ye){const oe=we(ye),Se=this.positions.get(oe);if(!Se)return null;const rt=Se.scrollPosition;let Mt,en;if(oe===this._document){const is=this.getViewportScrollPosition();Mt=is.top,en=is.left}else Mt=oe.scrollTop,en=oe.scrollLeft;const _n=rt.top-Mt,zn=rt.left-en;return this.positions.forEach((is,ui)=>{is.clientRect&&oe!==ui&&oe.contains(ui)&&St(is.clientRect,_n,zn)}),rt.top=Mt,rt.left=en,{top:_n,left:zn}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function un(Me){const ye=Me.cloneNode(!0),oe=ye.querySelectorAll("[id]"),Se=Me.nodeName.toLowerCase();ye.removeAttribute("id");for(let rt=0;rt<oe.length;rt++)oe[rt].removeAttribute("id");return"canvas"===Se?qs(Me,ye):("input"===Se||"select"===Se||"textarea"===Se)&&Ii(Me,ye),Bs("canvas",Me,ye,qs),Bs("input, textarea, select",Me,ye,Ii),ye}function Bs(Me,ye,oe,Se){const rt=ye.querySelectorAll(Me);if(rt.length){const Mt=oe.querySelectorAll(Me);for(let en=0;en<rt.length;en++)Se(rt[en],Mt[en])}}let Qs=0;function Ii(Me,ye){"file"!==ye.type&&(ye.value=Me.value),"radio"===ye.type&&ye.name&&(ye.name=`mat-clone-${ye.name}-${Qs++}`)}function qs(Me,ye){const oe=ye.getContext("2d");if(oe)try{oe.drawImage(Me,0,0)}catch{}}function Ui(Me,ye){const oe=Me.rootNodes;if(1===oe.length&&oe[0].nodeType===ye.ELEMENT_NODE)return oe[0];const Se=ye.createElement("div");return oe.forEach(rt=>Se.appendChild(rt)),Se}function Si(Me){const ye=Me.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(Me)*ye}function Gr(Me,ye){return Me.getPropertyValue(ye).split(",").map(Se=>Se.trim())}const pi=new Set(["position"]);class $n{constructor(ye,oe,Se,rt,Mt,en,_n,zn,is){this._document=ye,this._rootElement=oe,this._direction=Se,this._initialDomRect=rt,this._previewTemplate=Mt,this._previewClass=en,this._pickupPositionOnPage=_n,this._initialTransform=zn,this._zIndex=is}attach(ye){this._preview=this._createPreview(),ye.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(ye){this._preview.style.transform=ye}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(ye){this._preview.classList.add(ye)}getTransitionDuration(){return function dr(Me){const ye=getComputedStyle(Me),oe=Gr(ye,"transition-property"),Se=oe.find(_n=>"transform"===_n||"all"===_n);if(!Se)return 0;const rt=oe.indexOf(Se),Mt=Gr(ye,"transition-duration"),en=Gr(ye,"transition-delay");return Si(Mt[rt])+Si(en[rt])}(this._preview)}addEventListener(ye,oe){this._preview.addEventListener(ye,oe)}removeEventListener(ye,oe){this._preview.removeEventListener(ye,oe)}_createPreview(){const ye=this._previewTemplate,oe=this._previewClass,Se=ye?ye.template:null;let rt;if(Se&&ye){const Mt=ye.matchSize?this._initialDomRect:null,en=ye.viewContainer.createEmbeddedView(Se,ye.context);en.detectChanges(),rt=Ui(en,this._document),this._previewEmbeddedView=en,ye.matchSize?_e(rt,Mt):rt.style.transform=nt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else rt=un(this._rootElement),_e(rt,this._initialDomRect),this._initialTransform&&(rt.style.transform=this._initialTransform);return Ka(rt.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},pi),Mr(rt,!1),rt.classList.add("cdk-drag-preview"),rt.setAttribute("popover","manual"),rt.setAttribute("dir",this._direction),oe&&(Array.isArray(oe)?oe.forEach(Mt=>rt.classList.add(Mt)):rt.classList.add(oe)),rt}}const ms=Z({passive:!0}),Ti=Z({passive:!1}),_r=Z({passive:!1,capture:!0}),xr=new Set(["position"]);class Ir{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(ye){ye!==this._disabled&&(this._disabled=ye,this._toggleNativeDragInteractions(),this._handles.forEach(oe=>Mr(oe,ye)))}constructor(ye,oe,Se,rt,Mt,en){this._config=oe,this._document=Se,this._ngZone=rt,this._viewportRuler=Mt,this._dragDropRegistry=en,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new _.B,this._pointerMoveSubscription=R.yU.EMPTY,this._pointerUpSubscription=R.yU.EMPTY,this._scrollSubscription=R.yU.EMPTY,this._resizeSubscription=R.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new _.B,this.started=new _.B,this.released=new _.B,this.ended=new _.B,this.entered=new _.B,this.exited=new _.B,this.dropped=new _.B,this.moved=this._moveEvents,this._pointerDown=_n=>{if(this.beforeStarted.next(),this._handles.length){const zn=this._getTargetHandle(_n);zn&&!this._disabledHandles.has(zn)&&!this.disabled&&this._initializeDragSequence(zn,_n)}else this.disabled||this._initializeDragSequence(this._rootElement,_n)},this._pointerMove=_n=>{const zn=this._getPointerPositionOnPage(_n);if(!this._hasStartedDragging){if(Math.abs(zn.x-this._pickupPositionOnPage.x)+Math.abs(zn.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Za=Date.now()>=this._dragStartTime+this._getDragStartDelay(_n),gl=this._dropContainer;if(!Za)return void this._endDragSequence(_n);(!gl||!gl.isDragging()&&!gl.isReceiving())&&(_n.cancelable&&_n.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(_n)))}return}_n.cancelable&&_n.preventDefault();const is=this._getConstrainedPointerPosition(zn);if(this._hasMoved=!0,this._lastKnownPointerPosition=zn,this._updatePointerDirectionDelta(is),this._dropContainer)this._updateActiveDropContainer(is,zn);else{const ui=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,zi=this._activeTransform;zi.x=is.x-ui.x+this._passiveTransform.x,zi.y=is.y-ui.y+this._passiveTransform.y,this._applyRootElementTransform(zi.x,zi.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:is,event:_n,distance:this._getDragDistance(is),delta:this._pointerDirectionDelta})})},this._pointerUp=_n=>{this._endDragSequence(_n)},this._nativeDragStart=_n=>{if(this._handles.length){const zn=this._getTargetHandle(_n);zn&&!this._disabledHandles.has(zn)&&!this.disabled&&_n.preventDefault()}else this.disabled||_n.preventDefault()},this.withRootElement(ye).withParent(oe.parentDragRef||null),this._parentPositions=new En(Se),en.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(ye){this._handles=ye.map(Se=>y(Se)),this._handles.forEach(Se=>Mr(Se,this.disabled)),this._toggleNativeDragInteractions();const oe=new Set;return this._disabledHandles.forEach(Se=>{this._handles.indexOf(Se)>-1&&oe.add(Se)}),this._disabledHandles=oe,this}withPreviewTemplate(ye){return this._previewTemplate=ye,this}withPlaceholderTemplate(ye){return this._placeholderTemplate=ye,this}withRootElement(ye){const oe=y(ye);return oe!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{oe.addEventListener("mousedown",this._pointerDown,Ti),oe.addEventListener("touchstart",this._pointerDown,ms),oe.addEventListener("dragstart",this._nativeDragStart,Ti)}),this._initialTransform=void 0,this._rootElement=oe),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(ye){return this._boundaryElement=ye?y(ye):null,this._resizeSubscription.unsubscribe(),ye&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(ye){return this._parentDragRef=ye,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(ye){!this._disabledHandles.has(ye)&&this._handles.indexOf(ye)>-1&&(this._disabledHandles.add(ye),Mr(ye,!0))}enableHandle(ye){this._disabledHandles.has(ye)&&(this._disabledHandles.delete(ye),Mr(ye,this.disabled))}withDirection(ye){return this._direction=ye,this}_withDropContainer(ye){this._dropContainer=ye}getFreeDragPosition(){const ye=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:ye.x,y:ye.y}}setFreeDragPosition(ye){return this._activeTransform={x:0,y:0},this._passiveTransform.x=ye.x,this._passiveTransform.y=ye.y,this._dropContainer||this._applyRootElementTransform(ye.x,ye.y),this}withPreviewContainer(ye){return this._previewContainer=ye,this}_sortFromLastPointerPosition(){const ye=this._lastKnownPointerPosition;ye&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(ye),ye)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",fo,_r)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(ye){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:ye}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(ye),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const oe=this._getPointerPositionOnPage(ye);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(oe),dropPoint:oe,event:ye})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(ye){Hi(ye)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const oe=this._getShadowRoot(),Se=this._dropContainer;if(oe&&this._ngZone.runOutsideAngular(()=>{oe.addEventListener("selectstart",fo,_r)}),Se){const rt=this._rootElement,Mt=rt.parentNode,en=this._placeholder=this._createPlaceholderElement(),_n=this._anchor=this._anchor||this._document.createComment("");Mt.insertBefore(_n,rt),this._initialTransform=rt.style.transform||"",this._preview=new $n(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(Mt,oe)),Jo(rt,!1,xr),this._document.body.appendChild(Mt.replaceChild(en,rt)),this.started.next({source:this,event:ye}),Se.start(),this._initialContainer=Se,this._initialIndex=Se.getItemIndex(this)}else this.started.next({source:this,event:ye}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(Se?Se.getScrollableParents():[])}_initializeDragSequence(ye,oe){this._parentDragRef&&oe.stopPropagation();const Se=this.isDragging(),rt=Hi(oe),Mt=!rt&&0!==oe.button,en=this._rootElement,_n=we(oe),zn=!rt&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),is=rt?function po(Me){const ye=Me.touches&&Me.touches[0]||Me.changedTouches&&Me.changedTouches[0];return!(!ye||-1!==ye.identifier||null!=ye.radiusX&&1!==ye.radiusX||null!=ye.radiusY&&1!==ye.radiusY)}(oe):function oa(Me){return 0===Me.buttons||0===Me.detail}(oe);if(_n&&_n.draggable&&"mousedown"===oe.type&&oe.preventDefault(),Se||Mt||zn||is)return;if(this._handles.length){const la=en.style;this._rootElementTapHighlight=la.webkitTapHighlightColor||"",la.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(la=>this._updateOnScroll(la)),this._boundaryElement&&(this._boundaryRect=Pe(this._boundaryElement));const ui=this._previewTemplate;this._pickupPositionInElement=ui&&ui.template&&!ui.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,ye,oe);const zi=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(oe);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:zi.x,y:zi.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,oe)}_cleanupDragArtifacts(ye){Jo(this._rootElement,!0,xr),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const oe=this._dropContainer,Se=oe.getItemIndex(this),rt=this._getPointerPositionOnPage(ye),Mt=this._getDragDistance(rt),en=oe._isOverContainer(rt.x,rt.y);this.ended.next({source:this,distance:Mt,dropPoint:rt,event:ye}),this.dropped.next({item:this,currentIndex:Se,previousIndex:this._initialIndex,container:oe,previousContainer:this._initialContainer,isPointerOverContainer:en,distance:Mt,dropPoint:rt,event:ye}),oe.drop(this,Se,this._initialIndex,this._initialContainer,en,Mt,rt,ye),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:ye,y:oe},{x:Se,y:rt}){let Mt=this._initialContainer._getSiblingContainerFromPosition(this,ye,oe);!Mt&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(ye,oe)&&(Mt=this._initialContainer),Mt&&Mt!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=Mt,this._dropContainer.enter(this,ye,oe,Mt===this._initialContainer&&Mt.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:Mt,currentIndex:Mt.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(Se,rt),this._dropContainer._sortItem(this,ye,oe,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(ye,oe):this._applyPreviewTransform(ye-this._pickupPositionInElement.x,oe-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const ye=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(ye.left,ye.top);const oe=this._preview.getTransitionDuration();return 0===oe?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(Se=>{const rt=en=>{(!en||we(en)===this._preview&&"transform"===en.propertyName)&&(this._preview?.removeEventListener("transitionend",rt),Se(),clearTimeout(Mt))},Mt=setTimeout(rt,1.5*oe);this._preview.addEventListener("transitionend",rt)}))}_createPlaceholderElement(){const ye=this._placeholderTemplate,oe=ye?ye.template:null;let Se;return oe?(this._placeholderRef=ye.viewContainer.createEmbeddedView(oe,ye.context),this._placeholderRef.detectChanges(),Se=Ui(this._placeholderRef,this._document)):Se=un(this._rootElement),Se.style.pointerEvents="none",Se.classList.add("cdk-drag-placeholder"),Se}_getPointerPositionInElement(ye,oe,Se){const rt=oe===this._rootElement?null:oe,Mt=rt?rt.getBoundingClientRect():ye,en=Hi(Se)?Se.targetTouches[0]:Se,_n=this._getViewportScrollPosition();return{x:Mt.left-ye.left+(en.pageX-Mt.left-_n.left),y:Mt.top-ye.top+(en.pageY-Mt.top-_n.top)}}_getPointerPositionOnPage(ye){const oe=this._getViewportScrollPosition(),Se=Hi(ye)?ye.touches[0]||ye.changedTouches[0]||{pageX:0,pageY:0}:ye,rt=Se.pageX-oe.left,Mt=Se.pageY-oe.top;if(this._ownerSVGElement){const en=this._ownerSVGElement.getScreenCTM();if(en){const _n=this._ownerSVGElement.createSVGPoint();return _n.x=rt,_n.y=Mt,_n.matrixTransform(en.inverse())}}return{x:rt,y:Mt}}_getConstrainedPointerPosition(ye){const oe=this._dropContainer?this._dropContainer.lockAxis:null;let{x:Se,y:rt}=this.constrainPosition?this.constrainPosition(ye,this,this._initialDomRect,this._pickupPositionInElement):ye;if("x"===this.lockAxis||"x"===oe?rt=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===oe)&&(Se=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:Mt,y:en}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,_n=this._boundaryRect,{width:zn,height:is}=this._getPreviewRect(),ui=_n.top+en,zi=_n.bottom-(is-en);Se=Pi(Se,_n.left+Mt,_n.right-(zn-Mt)),rt=Pi(rt,ui,zi)}return{x:Se,y:rt}}_updatePointerDirectionDelta(ye){const{x:oe,y:Se}=ye,rt=this._pointerDirectionDelta,Mt=this._pointerPositionAtLastDirectionChange,en=Math.abs(oe-Mt.x),_n=Math.abs(Se-Mt.y);return en>this._config.pointerDirectionChangeThreshold&&(rt.x=oe>Mt.x?1:-1,Mt.x=oe),_n>this._config.pointerDirectionChangeThreshold&&(rt.y=Se>Mt.y?1:-1,Mt.y=Se),rt}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const ye=this._handles.length>0||!this.isDragging();ye!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=ye,Mr(this._rootElement,ye))}_removeRootElementListeners(ye){ye.removeEventListener("mousedown",this._pointerDown,Ti),ye.removeEventListener("touchstart",this._pointerDown,ms),ye.removeEventListener("dragstart",this._nativeDragStart,Ti)}_applyRootElementTransform(ye,oe){const Se=nt(ye,oe),rt=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=rt.transform&&"none"!=rt.transform?rt.transform:""),rt.transform=ma(Se,this._initialTransform)}_applyPreviewTransform(ye,oe){const Se=this._previewTemplate?.template?void 0:this._initialTransform,rt=nt(ye,oe);this._preview.setTransform(ma(rt,Se))}_getDragDistance(ye){const oe=this._pickupPositionOnPage;return oe?{x:ye.x-oe.x,y:ye.y-oe.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:ye,y:oe}=this._passiveTransform;if(0===ye&&0===oe||this.isDragging()||!this._boundaryElement)return;const Se=this._rootElement.getBoundingClientRect(),rt=this._boundaryElement.getBoundingClientRect();if(0===rt.width&&0===rt.height||0===Se.width&&0===Se.height)return;const Mt=rt.left-Se.left,en=Se.right-rt.right,_n=rt.top-Se.top,zn=Se.bottom-rt.bottom;rt.width>Se.width?(Mt>0&&(ye+=Mt),en>0&&(ye-=en)):ye=0,rt.height>Se.height?(_n>0&&(oe+=_n),zn>0&&(oe-=zn)):oe=0,(ye!==this._passiveTransform.x||oe!==this._passiveTransform.y)&&this.setFreeDragPosition({y:oe,x:ye})}_getDragStartDelay(ye){const oe=this.dragStartDelay;return"number"==typeof oe?oe:Hi(ye)?oe.touch:oe?oe.mouse:0}_updateOnScroll(ye){const oe=this._parentPositions.handleScroll(ye);if(oe){const Se=we(ye);this._boundaryRect&&Se!==this._boundaryElement&&Se.contains(this._boundaryElement)&&St(this._boundaryRect,oe.top,oe.left),this._pickupPositionOnPage.x+=oe.left,this._pickupPositionOnPage.y+=oe.top,this._dropContainer||(this._activeTransform.x-=oe.left,this._activeTransform.y-=oe.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Ne(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(ye,oe){const Se=this._previewContainer||"global";if("parent"===Se)return ye;if("global"===Se){const rt=this._document;return oe||rt.fullscreenElement||rt.webkitFullscreenElement||rt.mozFullScreenElement||rt.msFullscreenElement||rt.body}return y(Se)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(ye){return this._handles.find(oe=>ye.target&&(ye.target===oe||oe.contains(ye.target)))}}function Pi(Me,ye,oe){return Math.max(ye,Math.min(oe,Me))}function Hi(Me){return"t"===Me.type[0]}function fo(Me){Me.preventDefault()}function Us(Me,ye,oe){const Se=Do(ye,Me.length-1),rt=Do(oe,Me.length-1);if(Se===rt)return;const Mt=Me[Se],en=rt<Se?-1:1;for(let _n=Se;_n!==rt;_n+=en)Me[_n]=Me[_n+en];Me[rt]=Mt}function Do(Me,ye){return Math.max(0,Math.min(ye,Me))}class ar{constructor(ye,oe){this._element=ye,this._dragDropRegistry=oe,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(ye){this.withItems(ye)}sort(ye,oe,Se,rt){const Mt=this._itemPositions,en=this._getItemIndexFromPointerPosition(ye,oe,Se,rt);if(-1===en&&Mt.length>0)return null;const _n="horizontal"===this.orientation,zn=Mt.findIndex(wo=>wo.drag===ye),is=Mt[en],zi=is.clientRect,la=zn>en?1:-1,Za=this._getItemOffsetPx(Mt[zn].clientRect,zi,la),gl=this._getSiblingOffsetPx(zn,Mt,la),Oc=Mt.slice();return Us(Mt,zn,en),Mt.forEach((wo,Zl)=>{if(Oc[Zl]===wo)return;const ql=wo.drag===ye,ec=ql?Za:gl,ld=ql?ye.getPlaceholderElement():wo.drag.getRootElement();wo.offset+=ec,_n?(ld.style.transform=ma(`translate3d(${Math.round(wo.offset)}px, 0, 0)`,wo.initialTransform),St(wo.clientRect,0,ec)):(ld.style.transform=ma(`translate3d(0, ${Math.round(wo.offset)}px, 0)`,wo.initialTransform),St(wo.clientRect,ec,0))}),this._previousSwap.overlaps=Je(zi,oe,Se),this._previousSwap.drag=is.drag,this._previousSwap.delta=_n?rt.x:rt.y,{previousIndex:zn,currentIndex:en}}enter(ye,oe,Se,rt){const Mt=null==rt||rt<0?this._getItemIndexFromPointerPosition(ye,oe,Se):rt,en=this._activeDraggables,_n=en.indexOf(ye),zn=ye.getPlaceholderElement();let is=en[Mt];if(is===ye&&(is=en[Mt+1]),!is&&(null==Mt||-1===Mt||Mt<en.length-1)&&this._shouldEnterAsFirstChild(oe,Se)&&(is=en[0]),_n>-1&&en.splice(_n,1),is&&!this._dragDropRegistry.isDragging(is)){const ui=is.getRootElement();ui.parentElement.insertBefore(zn,ui),en.splice(Mt,0,ye)}else y(this._element).appendChild(zn),en.push(ye);zn.style.transform="",this._cacheItemPositions()}withItems(ye){this._activeDraggables=ye.slice(),this._cacheItemPositions()}withSortPredicate(ye){this._sortPredicate=ye}reset(){this._activeDraggables.forEach(ye=>{const oe=ye.getRootElement();if(oe){const Se=this._itemPositions.find(rt=>rt.drag===ye)?.initialTransform;oe.style.transform=Se||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(ye){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(Se=>Se.drag===ye)}updateOnScroll(ye,oe){this._itemPositions.forEach(({clientRect:Se})=>{St(Se,ye,oe)}),this._itemPositions.forEach(({drag:Se})=>{this._dragDropRegistry.isDragging(Se)&&Se._sortFromLastPointerPosition()})}_cacheItemPositions(){const ye="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(oe=>{const Se=oe.getVisibleElement();return{drag:oe,offset:0,initialTransform:Se.style.transform||"",clientRect:Pe(Se)}}).sort((oe,Se)=>ye?oe.clientRect.left-Se.clientRect.left:oe.clientRect.top-Se.clientRect.top)}_getItemOffsetPx(ye,oe,Se){const rt="horizontal"===this.orientation;let Mt=rt?oe.left-ye.left:oe.top-ye.top;return-1===Se&&(Mt+=rt?oe.width-ye.width:oe.height-ye.height),Mt}_getSiblingOffsetPx(ye,oe,Se){const rt="horizontal"===this.orientation,Mt=oe[ye].clientRect,en=oe[ye+-1*Se];let _n=Mt[rt?"width":"height"]*Se;if(en){const zn=rt?"left":"top",is=rt?"right":"bottom";-1===Se?_n-=en.clientRect[zn]-Mt[is]:_n+=Mt[zn]-en.clientRect[is]}return _n}_shouldEnterAsFirstChild(ye,oe){if(!this._activeDraggables.length)return!1;const Se=this._itemPositions,rt="horizontal"===this.orientation;if(Se[0].drag!==this._activeDraggables[0]){const en=Se[Se.length-1].clientRect;return rt?ye>=en.right:oe>=en.bottom}{const en=Se[0].clientRect;return rt?ye<=en.left:oe<=en.top}}_getItemIndexFromPointerPosition(ye,oe,Se,rt){const Mt="horizontal"===this.orientation,en=this._itemPositions.findIndex(({drag:_n,clientRect:zn})=>_n!==ye&&((!rt||_n!==this._previousSwap.drag||!this._previousSwap.overlaps||(Mt?rt.x:rt.y)!==this._previousSwap.delta)&&(Mt?oe>=Math.floor(zn.left)&&oe<Math.floor(zn.right):Se>=Math.floor(zn.top)&&Se<Math.floor(zn.bottom))));return-1!==en&&this._sortPredicate(en,ye)?en:-1}}var hr=function(Me){return Me[Me.NONE=0]="NONE",Me[Me.UP=1]="UP",Me[Me.DOWN=2]="DOWN",Me}(hr||{}),Sr=function(Me){return Me[Me.NONE=0]="NONE",Me[Me.LEFT=1]="LEFT",Me[Me.RIGHT=2]="RIGHT",Me}(Sr||{});class ad{constructor(ye,oe,Se,rt,Mt){this._dragDropRegistry=oe,this._ngZone=rt,this._viewportRuler=Mt,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new _.B,this.entered=new _.B,this.exited=new _.B,this.dropped=new _.B,this.sorted=new _.B,this.receivingStarted=new _.B,this.receivingStopped=new _.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=R.yU.EMPTY,this._verticalScrollDirection=hr.NONE,this._horizontalScrollDirection=Sr.NONE,this._stopScrollTimers=new _.B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,zs.Y)(0,M).pipe((0,Zi.Q)(this._stopScrollTimers)).subscribe(()=>{const en=this._scrollNode,_n=this.autoScrollStep;this._verticalScrollDirection===hr.UP?en.scrollBy(0,-_n):this._verticalScrollDirection===hr.DOWN&&en.scrollBy(0,_n),this._horizontalScrollDirection===Sr.LEFT?en.scrollBy(-_n,0):this._horizontalScrollDirection===Sr.RIGHT&&en.scrollBy(_n,0)})},this.element=y(ye),this._document=Se,this.withScrollableParents([this.element]),oe.registerDropContainer(this),this._parentPositions=new En(Se),this._sortStrategy=new ar(this.element,oe),this._sortStrategy.withSortPredicate((en,_n)=>this.sortPredicate(en,_n,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(ye,oe,Se,rt){this._draggingStarted(),null==rt&&this.sortingDisabled&&(rt=this._draggables.indexOf(ye)),this._sortStrategy.enter(ye,oe,Se,rt),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:ye,container:this,currentIndex:this.getItemIndex(ye)})}exit(ye){this._reset(),this.exited.next({item:ye,container:this})}drop(ye,oe,Se,rt,Mt,en,_n,zn={}){this._reset(),this.dropped.next({item:ye,currentIndex:oe,previousIndex:Se,container:this,previousContainer:rt,isPointerOverContainer:Mt,distance:en,dropPoint:_n,event:zn})}withItems(ye){const oe=this._draggables;return this._draggables=ye,ye.forEach(Se=>Se._withDropContainer(this)),this.isDragging()&&(oe.filter(rt=>rt.isDragging()).every(rt=>-1===ye.indexOf(rt))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(ye){return this._sortStrategy.direction=ye,this}connectedTo(ye){return this._siblings=ye.slice(),this}withOrientation(ye){return this._sortStrategy.orientation=ye,this}withScrollableParents(ye){const oe=y(this.element);return this._scrollableElements=-1===ye.indexOf(oe)?[oe,...ye]:ye.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(ye){return this._isDragging?this._sortStrategy.getItemIndex(ye):this._draggables.indexOf(ye)}isReceiving(){return this._activeSiblings.size>0}_sortItem(ye,oe,Se,rt){if(this.sortingDisabled||!this._domRect||!dn(this._domRect,.05,oe,Se))return;const Mt=this._sortStrategy.sort(ye,oe,Se,rt);Mt&&this.sorted.next({previousIndex:Mt.previousIndex,currentIndex:Mt.currentIndex,container:this,item:ye})}_startScrollingIfNecessary(ye,oe){if(this.autoScrollDisabled)return;let Se,rt=hr.NONE,Mt=Sr.NONE;if(this._parentPositions.positions.forEach((en,_n)=>{_n===this._document||!en.clientRect||Se||dn(en.clientRect,.05,ye,oe)&&([rt,Mt]=function ko(Me,ye,oe,Se,rt){const Mt=za(ye,rt),en=Dc(ye,Se);let _n=hr.NONE,zn=Sr.NONE;if(Mt){const is=Me.scrollTop;Mt===hr.UP?is>0&&(_n=hr.UP):Me.scrollHeight-is>Me.clientHeight&&(_n=hr.DOWN)}if(en){const is=Me.scrollLeft;"rtl"===oe?en===Sr.RIGHT?is<0&&(zn=Sr.RIGHT):Me.scrollWidth+is>Me.clientWidth&&(zn=Sr.LEFT):en===Sr.LEFT?is>0&&(zn=Sr.LEFT):Me.scrollWidth-is>Me.clientWidth&&(zn=Sr.RIGHT)}return[_n,zn]}(_n,en.clientRect,this._sortStrategy.direction,ye,oe),(rt||Mt)&&(Se=_n))}),!rt&&!Mt){const{width:en,height:_n}=this._viewportRuler.getViewportSize(),zn={width:en,height:_n,top:0,right:en,bottom:_n,left:0};rt=za(zn,oe),Mt=Dc(zn,ye),Se=window}Se&&(rt!==this._verticalScrollDirection||Mt!==this._horizontalScrollDirection||Se!==this._scrollNode)&&(this._verticalScrollDirection=rt,this._horizontalScrollDirection=Mt,this._scrollNode=Se,(rt||Mt)&&Se?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const ye=y(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=ye.msScrollSnapType||ye.scrollSnapType||"",ye.scrollSnapType=ye.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const ye=y(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(ye).clientRect}_reset(){this._isDragging=!1;const ye=y(this.element).style;ye.scrollSnapType=ye.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(oe=>oe._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(ye,oe){return null!=this._domRect&&Je(this._domRect,ye,oe)}_getSiblingContainerFromPosition(ye,oe,Se){return this._siblings.find(rt=>rt._canReceive(ye,oe,Se))}_canReceive(ye,oe,Se){if(!this._domRect||!Je(this._domRect,oe,Se)||!this.enterPredicate(ye,this))return!1;const rt=this._getShadowRoot().elementFromPoint(oe,Se);if(!rt)return!1;const Mt=y(this.element);return rt===Mt||Mt.contains(rt)}_startReceiving(ye,oe){const Se=this._activeSiblings;!Se.has(ye)&&oe.every(rt=>this.enterPredicate(rt,this)||this._draggables.indexOf(rt)>-1)&&(Se.add(ye),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:ye,receiver:this,items:oe}))}_stopReceiving(ye){this._activeSiblings.delete(ye),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:ye,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ye=>{if(this.isDragging()){const oe=this._parentPositions.handleScroll(ye);oe&&this._sortStrategy.updateOnScroll(oe.top,oe.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const ye=Ne(y(this.element));this._cachedShadowRoot=ye||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const ye=this._sortStrategy.getActiveItemsSnapshot().filter(oe=>oe.isDragging());this._siblings.forEach(oe=>oe._startReceiving(this,ye))}}function za(Me,ye){const{top:oe,bottom:Se,height:rt}=Me,Mt=.05*rt;return ye>=oe-Mt&&ye<=oe+Mt?hr.UP:ye>=Se-Mt&&ye<=Se+Mt?hr.DOWN:hr.NONE}function Dc(Me,ye){const{left:oe,right:Se,width:rt}=Me,Mt=.05*rt;return ye>=oe-Mt&&ye<=oe+Mt?Sr.LEFT:ye>=Se-Mt&&ye<=Se+Mt?Sr.RIGHT:Sr.NONE}const Fn=Z({passive:!1,capture:!0}),va=new Set;let ml=(()=>{class Me{static#e=this.\u0275fac=function(Se){return new(Se||Me)};static#t=this.\u0275cmp=i.VBU({type:Me,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(Se,rt){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0})}return Me})(),Zo=(()=>{class Me{constructor(oe,Se){this._ngZone=oe,this._appRef=(0,i.WQX)(i.o8S),this._environmentInjector=(0,i.WQX)(i.uvJ),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=rt=>rt.isDragging(),this.pointerMove=new _.B,this.pointerUp=new _.B,this.scroll=new _.B,this._preventDefaultWhileDragging=rt=>{this._activeDragInstances.length>0&&rt.preventDefault()},this._persistentTouchmoveListener=rt=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&rt.preventDefault(),this.pointerMove.next(rt))},this._document=Se}registerDropContainer(oe){this._dropInstances.has(oe)||this._dropInstances.add(oe)}registerDragItem(oe){this._dragInstances.add(oe),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Fn)})}removeDropContainer(oe){this._dropInstances.delete(oe)}removeDragItem(oe){this._dragInstances.delete(oe),this.stopDragging(oe),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Fn)}startDragging(oe,Se){if(!(this._activeDragInstances.indexOf(oe)>-1)&&(this._loadResets(),this._activeDragInstances.push(oe),1===this._activeDragInstances.length)){const rt=Se.type.startsWith("touch");this._globalListeners.set(rt?"touchend":"mouseup",{handler:Mt=>this.pointerUp.next(Mt),options:!0}).set("scroll",{handler:Mt=>this.scroll.next(Mt),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Fn}),rt||this._globalListeners.set("mousemove",{handler:Mt=>this.pointerMove.next(Mt),options:Fn}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((Mt,en)=>{this._document.addEventListener(en,Mt.handler,Mt.options)})})}}stopDragging(oe){const Se=this._activeDragInstances.indexOf(oe);Se>-1&&(this._activeDragInstances.splice(Se,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(oe){return this._activeDragInstances.indexOf(oe)>-1}scrolled(oe){const Se=[this.scroll];return oe&&oe!==this._document&&Se.push(new O.c(rt=>this._ngZone.runOutsideAngular(()=>{const en=_n=>{this._activeDragInstances.length&&rt.next(_n)};return oe.addEventListener("scroll",en,!0),()=>{oe.removeEventListener("scroll",en,!0)}}))),(0,Fi.h)(...Se)}ngOnDestroy(){this._dragInstances.forEach(oe=>this.removeDragItem(oe)),this._dropInstances.forEach(oe=>this.removeDropContainer(oe)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((oe,Se)=>{this._document.removeEventListener(Se,oe.handler,oe.options)}),this._globalListeners.clear()}_loadResets(){if(!va.has(this._appRef)){va.add(this._appRef);const oe=(0,i.a0P)(ml,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{va.delete(this._appRef),0===va.size&&oe.destroy()})}}static#e=this.\u0275fac=function(Se){return new(Se||Me)(i.KVO(i.SKi),i.KVO(n.qQ))};static#t=this.\u0275prov=i.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})();const qi={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ya=(()=>{class Me{constructor(oe,Se,rt,Mt){this._document=oe,this._ngZone=Se,this._viewportRuler=rt,this._dragDropRegistry=Mt}createDrag(oe,Se=qi){return new Ir(oe,Se,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(oe){return new ad(oe,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(Se){return new(Se||Me)(i.KVO(n.qQ),i.KVO(i.SKi),i.KVO(Ee),i.KVO(Zo))};static#t=this.\u0275prov=i.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})();const ki=new i.nKC("CDK_DRAG_PARENT"),Pr=new i.nKC("CdkDragHandle");let Rr=(()=>{class Me{get disabled(){return this._disabled}set disabled(oe){this._disabled=oe,this._stateChanges.next(this)}constructor(oe,Se){this.element=oe,this._parentDrag=Se,this._stateChanges=new _.B,this._disabled=!1,Se?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static#e=this.\u0275fac=function(Se){return new(Se||Me)(i.rXU(i.aKT),i.rXU(ki,12))};static#t=this.\u0275dir=i.FsC({type:Me,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDragHandleDisabled","disabled",i.L39]},standalone:!0,features:[i.Jv_([{provide:Pr,useExisting:Me}]),i.GFd]})}return Me})();const ya=new i.nKC("CDK_DRAG_CONFIG"),Xa=new i.nKC("CdkDropList");let Jr=(()=>{class Me{static#e=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(oe){this._disabled=oe,this._dragRef.disabled=this._disabled}constructor(oe,Se,rt,Mt,en,_n,zn,is,ui,zi,la){this.element=oe,this.dropContainer=Se,this._ngZone=Mt,this._viewContainerRef=en,this._dir=zn,this._changeDetectorRef=ui,this._selfHandle=zi,this._parentDrag=la,this._destroyed=new _.B,this._handles=new Di.t([]),this.started=new i.bkB,this.released=new i.bkB,this.ended=new i.bkB,this.entered=new i.bkB,this.exited=new i.bkB,this.dropped=new i.bkB,this.moved=new O.c(Za=>{const gl=this._dragRef.moved.pipe((0,Yo.T)(Oc=>({source:this,pointerPosition:Oc.pointerPosition,event:Oc.event,delta:Oc.delta,distance:Oc.distance}))).subscribe(Za);return()=>{gl.unsubscribe()}}),this._dragRef=is.createDrag(oe,{dragStartThreshold:_n&&null!=_n.dragStartThreshold?_n.dragStartThreshold:5,pointerDirectionChangeThreshold:_n&&null!=_n.pointerDirectionChangeThreshold?_n.pointerDirectionChangeThreshold:5,zIndex:_n?.zIndex}),this._dragRef.data=this,Me._dragInstances.push(this),_n&&this._assignDefaults(_n),Se&&(this._dragRef._withDropContainer(Se._dropListRef),Se.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(oe){this._dragRef.setFreeDragPosition(oe)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Xr.s)(1),(0,Zi.Q)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(oe){const Se=oe.rootElementSelector,rt=oe.freeDragPosition;Se&&!Se.firstChange&&this._updateRootElement(),rt&&!rt.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const oe=Me._dragInstances.indexOf(this);oe>-1&&Me._dragInstances.splice(oe,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(oe){const Se=this._handles.getValue();Se.push(oe),this._handles.next(Se)}_removeHandle(oe){const Se=this._handles.getValue(),rt=Se.indexOf(oe);rt>-1&&(Se.splice(rt,1),this._handles.next(Se))}_setPreviewTemplate(oe){this._previewTemplate=oe}_resetPreviewTemplate(oe){oe===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(oe){this._placeholderTemplate=oe}_resetPlaceholderTemplate(oe){oe===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const oe=this.element.nativeElement;let Se=oe;this.rootElementSelector&&(Se=void 0!==oe.closest?oe.closest(this.rootElementSelector):oe.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(Se||oe)}_getBoundaryElement(){const oe=this.boundaryElement;return oe?"string"==typeof oe?this.element.nativeElement.closest(oe):y(oe):null}_syncInputs(oe){oe.beforeStarted.subscribe(()=>{if(!oe.isDragging()){const Se=this._dir,rt=this.dragStartDelay,Mt=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,en=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;oe.disabled=this.disabled,oe.lockAxis=this.lockAxis,oe.dragStartDelay="object"==typeof rt&&rt?rt:e(rt),oe.constrainPosition=this.constrainPosition,oe.previewClass=this.previewClass,oe.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(Mt).withPreviewTemplate(en).withPreviewContainer(this.previewContainer||"global"),Se&&oe.withDirection(Se.value)}}),oe.beforeStarted.pipe((0,Xr.s)(1)).subscribe(()=>{if(this._parentDrag)return void oe.withParent(this._parentDrag._dragRef);let Se=this.element.nativeElement.parentElement;for(;Se;){if(Se.classList.contains("cdk-drag")){oe.withParent(Me._dragInstances.find(rt=>rt.element.nativeElement===Se)?._dragRef||null);break}Se=Se.parentElement}})}_handleEvents(oe){oe.started.subscribe(Se=>{this.started.emit({source:this,event:Se.event}),this._changeDetectorRef.markForCheck()}),oe.released.subscribe(Se=>{this.released.emit({source:this,event:Se.event})}),oe.ended.subscribe(Se=>{this.ended.emit({source:this,distance:Se.distance,dropPoint:Se.dropPoint,event:Se.event}),this._changeDetectorRef.markForCheck()}),oe.entered.subscribe(Se=>{this.entered.emit({container:Se.container.data,item:this,currentIndex:Se.currentIndex})}),oe.exited.subscribe(Se=>{this.exited.emit({container:Se.container.data,item:this})}),oe.dropped.subscribe(Se=>{this.dropped.emit({previousIndex:Se.previousIndex,currentIndex:Se.currentIndex,previousContainer:Se.previousContainer.data,container:Se.container.data,isPointerOverContainer:Se.isPointerOverContainer,item:this,distance:Se.distance,dropPoint:Se.dropPoint,event:Se.event})})}_assignDefaults(oe){const{lockAxis:Se,dragStartDelay:rt,constrainPosition:Mt,previewClass:en,boundaryElement:_n,draggingDisabled:zn,rootElementSelector:is,previewContainer:ui}=oe;this.disabled=zn??!1,this.dragStartDelay=rt||0,Se&&(this.lockAxis=Se),Mt&&(this.constrainPosition=Mt),en&&(this.previewClass=en),_n&&(this.boundaryElement=_n),is&&(this.rootElementSelector=is),ui&&(this.previewContainer=ui)}_setupHandlesListener(){this._handles.pipe((0,gr.M)(oe=>{const Se=oe.map(rt=>rt.element);this._selfHandle&&this.rootElementSelector&&Se.push(this.element),this._dragRef.withHandles(Se)}),(0,Ki.n)(oe=>(0,Fi.h)(...oe.map(Se=>Se._stateChanges.pipe((0,Kn.Z)(Se))))),(0,Zi.Q)(this._destroyed)).subscribe(oe=>{const Se=this._dragRef,rt=oe.element.nativeElement;oe.disabled?Se.disableHandle(rt):Se.enableHandle(rt)})}static#t=this.\u0275fac=function(Se){return new(Se||Me)(i.rXU(i.aKT),i.rXU(Xa,12),i.rXU(n.qQ),i.rXU(i.SKi),i.rXU(i.c1b),i.rXU(ya,8),i.rXU(Or.dS,8),i.rXU(Ya),i.rXU(i.gRc),i.rXU(Pr,10),i.rXU(ki,12))};static#n=this.\u0275dir=i.FsC({type:Me,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(Se,rt){2&Se&&i.AVh("cdk-drag-disabled",rt.disabled)("cdk-drag-dragging",rt._dragRef.isDragging())},inputs:{data:[i.Mj6.None,"cdkDragData","data"],lockAxis:[i.Mj6.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[i.Mj6.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[i.Mj6.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[i.Mj6.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[i.Mj6.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDragDisabled","disabled",i.L39],constrainPosition:[i.Mj6.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[i.Mj6.None,"cdkDragPreviewClass","previewClass"],previewContainer:[i.Mj6.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[i.Jv_([{provide:ki,useExisting:Me}]),i.GFd,i.OA$]})}return Me})();const wl=new i.nKC("CdkDropListGroup");let Ja=0,Qa=(()=>{class Me{static#e=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(oe){this._dropListRef.disabled=this._disabled=oe}constructor(oe,Se,rt,Mt,en,_n,zn){this.element=oe,this._changeDetectorRef=rt,this._scrollDispatcher=Mt,this._dir=en,this._group=_n,this._destroyed=new _.B,this.connectedTo=[],this.id="cdk-drop-list-"+Ja++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new i.bkB,this.entered=new i.bkB,this.exited=new i.bkB,this.sorted=new i.bkB,this._unsortedItems=new Set,this._dropListRef=Se.createDropList(oe),this._dropListRef.data=this,zn&&this._assignDefaults(zn),this._dropListRef.enterPredicate=(is,ui)=>this.enterPredicate(is.data,ui.data),this._dropListRef.sortPredicate=(is,ui,zi)=>this.sortPredicate(is,ui.data,zi.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),Me._dropLists.push(this),_n&&_n._items.add(this)}addItem(oe){this._unsortedItems.add(oe),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(oe){this._unsortedItems.delete(oe),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((oe,Se)=>oe._dragRef.getVisibleElement().compareDocumentPosition(Se._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const oe=Me._dropLists.indexOf(this);oe>-1&&Me._dropLists.splice(oe,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(oe){this._dir&&this._dir.change.pipe((0,Kn.Z)(this._dir.value),(0,Zi.Q)(this._destroyed)).subscribe(Se=>oe.withDirection(Se)),oe.beforeStarted.subscribe(()=>{const Se=function g(Me){return Array.isArray(Me)?Me:[Me]}(this.connectedTo).map(rt=>"string"==typeof rt?Me._dropLists.find(en=>en.id===rt):rt);if(this._group&&this._group._items.forEach(rt=>{-1===Se.indexOf(rt)&&Se.push(rt)}),!this._scrollableParentsResolved){const rt=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(Mt=>Mt.getElementRef().nativeElement);this._dropListRef.withScrollableParents(rt),this._scrollableParentsResolved=!0}oe.disabled=this.disabled,oe.lockAxis=this.lockAxis,oe.sortingDisabled=this.sortingDisabled,oe.autoScrollDisabled=this.autoScrollDisabled,oe.autoScrollStep=e(this.autoScrollStep,2),oe.connectedTo(Se.filter(rt=>rt&&rt!==this).map(rt=>rt._dropListRef)).withOrientation(this.orientation)})}_handleEvents(oe){oe.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),oe.entered.subscribe(Se=>{this.entered.emit({container:this,item:Se.item.data,currentIndex:Se.currentIndex})}),oe.exited.subscribe(Se=>{this.exited.emit({container:this,item:Se.item.data}),this._changeDetectorRef.markForCheck()}),oe.sorted.subscribe(Se=>{this.sorted.emit({previousIndex:Se.previousIndex,currentIndex:Se.currentIndex,container:this,item:Se.item.data})}),oe.dropped.subscribe(Se=>{this.dropped.emit({previousIndex:Se.previousIndex,currentIndex:Se.currentIndex,previousContainer:Se.previousContainer.data,container:Se.container.data,item:Se.item.data,isPointerOverContainer:Se.isPointerOverContainer,distance:Se.distance,dropPoint:Se.dropPoint,event:Se.event}),this._changeDetectorRef.markForCheck()}),(0,Fi.h)(oe.receivingStarted,oe.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(oe){const{lockAxis:Se,draggingDisabled:rt,sortingDisabled:Mt,listAutoScrollDisabled:en,listOrientation:_n}=oe;this.disabled=rt??!1,this.sortingDisabled=Mt??!1,this.autoScrollDisabled=en??!1,this.orientation=_n||"vertical",Se&&(this.lockAxis=Se)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(oe=>oe._dragRef))}static#t=this.\u0275fac=function(Se){return new(Se||Me)(i.rXU(i.aKT),i.rXU(Ya),i.rXU(i.gRc),i.rXU(je),i.rXU(Or.dS,8),i.rXU(wl,12),i.rXU(ya,8))};static#n=this.\u0275dir=i.FsC({type:Me,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(Se,rt){2&Se&&(i.BMQ("id",rt.id),i.AVh("cdk-drop-list-disabled",rt.disabled)("cdk-drop-list-dragging",rt._dropListRef.isDragging())("cdk-drop-list-receiving",rt._dropListRef.isReceiving()))},inputs:{connectedTo:[i.Mj6.None,"cdkDropListConnectedTo","connectedTo"],data:[i.Mj6.None,"cdkDropListData","data"],orientation:[i.Mj6.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[i.Mj6.None,"cdkDropListLockAxis","lockAxis"],disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",i.L39],sortingDisabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",i.L39],enterPredicate:[i.Mj6.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[i.Mj6.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",i.L39],autoScrollStep:[i.Mj6.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[i.Jv_([{provide:wl,useValue:void 0},{provide:Xa,useExisting:Me}]),i.GFd]})}return Me})()},50282:(B,D,t)=>{"use strict";t.d(D,{Dc:()=>Q,Hy:()=>K,NL:()=>$,Sz:()=>w,XW:()=>O,aI:()=>X,xn:()=>j});var i=t(1349),n=t(11531),c=t(18447),e=t(71217),f=t(63016),y=(t(37610),t(41483),t(5424)),E=t(53107),_=t(82944);class b{constructor(){this.expansionModel=new i.CB(!0)}toggle(z){this.expansionModel.toggle(this._trackByValue(z))}expand(z){this.expansionModel.select(this._trackByValue(z))}collapse(z){this.expansionModel.deselect(this._trackByValue(z))}isExpanded(z){return this.expansionModel.isSelected(this._trackByValue(z))}toggleDescendants(z){this.expansionModel.isSelected(this._trackByValue(z))?this.collapseDescendants(z):this.expandDescendants(z)}collapseAll(){this.expansionModel.clear()}expandDescendants(z){let q=[z];q.push(...this.getDescendants(z)),this.expansionModel.select(...q.map(ee=>this._trackByValue(ee)))}collapseDescendants(z){let q=[z];q.push(...this.getDescendants(z)),this.expansionModel.deselect(...q.map(ee=>this._trackByValue(ee)))}_trackByValue(z){return this.trackBy?this.trackBy(z):z}}class O extends b{constructor(z,q,ee){super(),this.getLevel=z,this.isExpandable=q,this.options=ee,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(z){const ee=[];for(let de=this.dataNodes.indexOf(z)+1;de<this.dataNodes.length&&this.getLevel(z)<this.getLevel(this.dataNodes[de]);de++)ee.push(this.dataNodes[de]);return ee}expandAll(){this.expansionModel.select(...this.dataNodes.map(z=>this._trackByValue(z)))}}const T=new E.nKC("CDK_TREE_NODE_OUTLET_NODE");let R=(()=>{class J{constructor(q,ee){this.viewContainer=q,this._node=ee}static#e=this.\u0275fac=function(ee){return new(ee||J)(E.rXU(E.c1b),E.rXU(T,8))};static#t=this.\u0275dir=E.FsC({type:J,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0})}return J})();class u{constructor(z){this.$implicit=z}}let w=(()=>{class J{constructor(q){this.template=q}static#e=this.\u0275fac=function(ee){return new(ee||J)(E.rXU(E.C4Q))};static#t=this.\u0275dir=E.FsC({type:J,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[E.Mj6.None,"cdkTreeNodeDefWhen","when"]},standalone:!0})}return J})(),$=(()=>{class J{get dataSource(){return this._dataSource}set dataSource(q){this._dataSource!==q&&this._switchDataSource(q)}constructor(q,ee){this._differs=q,this._changeDetectorRef=ee,this._onDestroy=new c.B,this._levels=new Map,this.viewChange=new e.t({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const q=this._nodeDefs.filter(ee=>!ee.when);this._defaultNodeDef=q[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(q){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),q||this._nodeOutlet.viewContainer.clear(),this._dataSource=q,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let q;(0,i.y4)(this._dataSource)?q=this._dataSource.connect(this):(0,n.A)(this._dataSource)?q=this._dataSource:Array.isArray(this._dataSource)&&(q=(0,f.of)(this._dataSource)),q&&(this._dataSubscription=q.pipe((0,y.Q)(this._onDestroy)).subscribe(ee=>this.renderNodeChanges(ee)))}renderNodeChanges(q,ee=this._dataDiffer,de=this._nodeOutlet.viewContainer,Ce){const Z=ee.diff(q);Z&&(Z.forEachOperation((le,De,pe)=>{if(null==le.previousIndex)this.insertNode(q[pe],pe,de,Ce);else if(null==pe)de.remove(De),this._levels.delete(le.item);else{const re=de.get(De);de.move(re,pe)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(q,ee){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(Ce=>Ce.when&&Ce.when(ee,q))||this._defaultNodeDef}insertNode(q,ee,de,Ce){const Z=this._getNodeDef(q,ee),le=new u(q);le.level=this.treeControl.getLevel?this.treeControl.getLevel(q):typeof Ce<"u"&&this._levels.has(Ce)?this._levels.get(Ce)+1:0,this._levels.set(q,le.level),(de||this._nodeOutlet.viewContainer).createEmbeddedView(Z.template,le,ee),j.mostRecentTreeNode&&(j.mostRecentTreeNode.data=q)}static#e=this.\u0275fac=function(ee){return new(ee||J)(E.rXU(E._q3),E.rXU(E.gRc))};static#t=this.\u0275cmp=E.VBU({type:J,selectors:[["cdk-tree"]],contentQueries:function(ee,de,Ce){if(1&ee&&E.wni(Ce,w,5),2&ee){let Z;E.mGM(Z=E.lsd())&&(de._nodeDefs=Z)}},viewQuery:function(ee,de){if(1&ee&&E.GBs(R,7),2&ee){let Ce;E.mGM(Ce=E.lsd())&&(de._nodeOutlet=Ce.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],standalone:!0,features:[E.aNF],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(ee,de){1&ee&&E.eu8(0,0)},dependencies:[R],encapsulation:2})}return J})(),j=(()=>{class J{get role(){return"treeitem"}set role(q){this._elementRef.nativeElement.setAttribute("role",q)}static#e=this.mostRecentTreeNode=null;get data(){return this._data}set data(q){q!==this._data&&(this._data=q,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(q,ee){this._elementRef=q,this._tree=ee,this._destroyed=new c.B,this._dataChanges=new c.B,J.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function x(J){let z=J.parentElement;for(;z&&!G(z);)z=z.parentElement;return z?z.classList.contains("cdk-nested-tree-node")?(0,E.Udg)(z.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){J.mostRecentTreeNode===this&&(J.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}static#t=this.\u0275fac=function(ee){return new(ee||J)(E.rXU(E.aKT),E.rXU($))};static#n=this.\u0275dir=E.FsC({type:J,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(ee,de){2&ee&&E.BMQ("aria-expanded",de.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"],standalone:!0})}return J})();function G(J){const z=J.classList;return!(!z?.contains("cdk-nested-tree-node")&&!z?.contains("cdk-tree"))}const V=/([A-Za-z%]+)$/;let X=(()=>{class J{get level(){return this._level}set level(q){this._setLevelInput(q)}get indent(){return this._indent}set indent(q){this._setIndentInput(q)}constructor(q,ee,de,Ce){this._treeNode=q,this._tree=ee,this._element=de,this._dir=Ce,this._destroyed=new c.B,this.indentUnits="px",this._indent=40,this._setPadding(),Ce&&Ce.change.pipe((0,y.Q)(this._destroyed)).subscribe(()=>this._setPadding(!0)),q._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const q=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,ee=null==this._level?q:this._level;return"number"==typeof ee?`${ee*this._indent}${this.indentUnits}`:null}_setPadding(q=!1){const ee=this._paddingIndent();if(ee!==this._currentPadding||q){const de=this._element.nativeElement,Ce=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",Z="paddingLeft"===Ce?"paddingRight":"paddingLeft";de.style[Ce]=ee||"",de.style[Z]="",this._currentPadding=ee}}_setLevelInput(q){this._level=isNaN(q)?null:q,this._setPadding()}_setIndentInput(q){let ee=q,de="px";if("string"==typeof q){const Ce=q.split(V);ee=Ce[0],de=Ce[1]||de}this.indentUnits=de,this._indent=(0,E.Udg)(ee),this._setPadding()}static#e=this.\u0275fac=function(ee){return new(ee||J)(E.rXU(j),E.rXU($),E.rXU(E.aKT),E.rXU(_.dS,8))};static#t=this.\u0275dir=E.FsC({type:J,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[E.Mj6.HasDecoratorInputTransform,"cdkTreeNodePadding","level",E.Udg],indent:[E.Mj6.None,"cdkTreeNodePaddingIndent","indent"]},standalone:!0,features:[E.GFd]})}return J})(),K=(()=>{class J{constructor(q,ee){this._tree=q,this._treeNode=ee,this.recursive=!1}_toggle(q){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),q.stopPropagation()}static#e=this.\u0275fac=function(ee){return new(ee||J)(E.rXU($),E.rXU(j))};static#t=this.\u0275dir=E.FsC({type:J,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(ee,de){1&ee&&E.bIt("click",function(Z){return de._toggle(Z)})},inputs:{recursive:[E.Mj6.HasDecoratorInputTransform,"cdkTreeNodeToggleRecursive","recursive",E.L39]},standalone:!0,features:[E.GFd]})}return J})(),Q=(()=>{class J{static#e=this.\u0275fac=function(ee){return new(ee||J)};static#t=this.\u0275mod=E.$C({type:J});static#n=this.\u0275inj=E.G2t({})}return J})()},54460:(B,D,t)=>{"use strict";t.d(D,{AJ:()=>Er,B3:()=>cr,GH:()=>Ut,Jj:()=>Kt,MD:()=>So,N0:()=>bs,OI:()=>mt,PV:()=>kn,QT:()=>c,Sm:()=>u,Sq:()=>jn,T3:()=>gs,UE:()=>zr,VF:()=>f,Vy:()=>Co,XO:()=>J,Xr:()=>Rt,YU:()=>ut,Yq:()=>dt,ZD:()=>e,_b:()=>ft,aZ:()=>v,bT:()=>Ks,cH:()=>Y,e1:()=>Hs,fw:()=>w,hb:()=>T,hj:()=>E,kB:()=>R,lG:()=>lo,oV:()=>G,pM:()=>jn,qQ:()=>d,rd:()=>Q,tL:()=>z,ux:()=>Ss,vh:()=>li});var i=t(53107);let n=null;function c(){return n}function e(_e){n??=_e}class f{}const d=new i.nKC("");let y=(()=>{class _e{historyGo(Pe){throw new Error("")}static#e=this.\u0275fac=function(Je){return new(Je||_e)};static#t=this.\u0275prov=i.jDH({token:_e,factory:()=>(0,i.WQX)(_),providedIn:"platform"})}return _e})();const E=new i.nKC("");let _=(()=>{class _e extends y{constructor(){super(),this._doc=(0,i.WQX)(d),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return c().getBaseHref(this._doc)}onPopState(Pe){const Je=c().getGlobalEventTarget(this._doc,"window");return Je.addEventListener("popstate",Pe,!1),()=>Je.removeEventListener("popstate",Pe)}onHashChange(Pe){const Je=c().getGlobalEventTarget(this._doc,"window");return Je.addEventListener("hashchange",Pe,!1),()=>Je.removeEventListener("hashchange",Pe)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Pe){this._location.pathname=Pe}pushState(Pe,Je,St){this._history.pushState(Pe,Je,St)}replaceState(Pe,Je,St){this._history.replaceState(Pe,Je,St)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Pe=0){this._history.go(Pe)}getState(){return this._history.state}static#e=this.\u0275fac=function(Je){return new(Je||_e)};static#t=this.\u0275prov=i.jDH({token:_e,factory:()=>new _e,providedIn:"platform"})}return _e})();function b(_e,nt){if(0==_e.length)return nt;if(0==nt.length)return _e;let Pe=0;return _e.endsWith("/")&&Pe++,nt.startsWith("/")&&Pe++,2==Pe?_e+nt.substring(1):1==Pe?_e+nt:_e+"/"+nt}function O(_e){const nt=_e.match(/#|\?|$/),Pe=nt&&nt.index||_e.length;return _e.slice(0,Pe-("/"===_e[Pe-1]?1:0))+_e.slice(Pe)}function I(_e){return _e&&"?"!==_e[0]?"?"+_e:_e}let T=(()=>{class _e{historyGo(Pe){throw new Error("")}static#e=this.\u0275fac=function(Je){return new(Je||_e)};static#t=this.\u0275prov=i.jDH({token:_e,factory:()=>(0,i.WQX)(u),providedIn:"root"})}return _e})();const R=new i.nKC("");let u=(()=>{class _e extends T{constructor(Pe,Je){super(),this._platformLocation=Pe,this._removeListenerFns=[],this._baseHref=Je??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(d).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Pe){this._removeListenerFns.push(this._platformLocation.onPopState(Pe),this._platformLocation.onHashChange(Pe))}getBaseHref(){return this._baseHref}prepareExternalUrl(Pe){return b(this._baseHref,Pe)}path(Pe=!1){const Je=this._platformLocation.pathname+I(this._platformLocation.search),St=this._platformLocation.hash;return St&&Pe?`${Je}${St}`:Je}pushState(Pe,Je,St,dn){const En=this.prepareExternalUrl(St+I(dn));this._platformLocation.pushState(Pe,Je,En)}replaceState(Pe,Je,St,dn){const En=this.prepareExternalUrl(St+I(dn));this._platformLocation.replaceState(Pe,Je,En)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Pe=0){this._platformLocation.historyGo?.(Pe)}static#e=this.\u0275fac=function(Je){return new(Je||_e)(i.KVO(y),i.KVO(R,8))};static#t=this.\u0275prov=i.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),w=(()=>{class _e extends T{constructor(Pe,Je){super(),this._platformLocation=Pe,this._baseHref="",this._removeListenerFns=[],null!=Je&&(this._baseHref=Je)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Pe){this._removeListenerFns.push(this._platformLocation.onPopState(Pe),this._platformLocation.onHashChange(Pe))}getBaseHref(){return this._baseHref}path(Pe=!1){const Je=this._platformLocation.hash??"#";return Je.length>0?Je.substring(1):Je}prepareExternalUrl(Pe){const Je=b(this._baseHref,Pe);return Je.length>0?"#"+Je:Je}pushState(Pe,Je,St,dn){let En=this.prepareExternalUrl(St+I(dn));0==En.length&&(En=this._platformLocation.pathname),this._platformLocation.pushState(Pe,Je,En)}replaceState(Pe,Je,St,dn){let En=this.prepareExternalUrl(St+I(dn));0==En.length&&(En=this._platformLocation.pathname),this._platformLocation.replaceState(Pe,Je,En)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Pe=0){this._platformLocation.historyGo?.(Pe)}static#e=this.\u0275fac=function(Je){return new(Je||_e)(i.KVO(y),i.KVO(R,8))};static#t=this.\u0275prov=i.jDH({token:_e,factory:_e.\u0275fac})}return _e})(),v=(()=>{class _e{constructor(Pe){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Pe;const Je=this._locationStrategy.getBaseHref();this._basePath=function F(_e){if(new RegExp("^(https?:)?//").test(_e)){const[,Pe]=_e.split(/\/\/[^\/]+/);return Pe}return _e}(O(L(Je))),this._locationStrategy.onPopState(St=>{this._subject.emit({url:this.path(!0),pop:!0,state:St.state,type:St.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Pe=!1){return this.normalize(this._locationStrategy.path(Pe))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Pe,Je=""){return this.path()==this.normalize(Pe+I(Je))}normalize(Pe){return _e.stripTrailingSlash(function M(_e,nt){if(!_e||!nt.startsWith(_e))return nt;const Pe=nt.substring(_e.length);return""===Pe||["/",";","?","#"].includes(Pe[0])?Pe:nt}(this._basePath,L(Pe)))}prepareExternalUrl(Pe){return Pe&&"/"!==Pe[0]&&(Pe="/"+Pe),this._locationStrategy.prepareExternalUrl(Pe)}go(Pe,Je="",St=null){this._locationStrategy.pushState(St,"",Pe,Je),this._notifyUrlChangeListeners(this.prepareExternalUrl(Pe+I(Je)),St)}replaceState(Pe,Je="",St=null){this._locationStrategy.replaceState(St,"",Pe,Je),this._notifyUrlChangeListeners(this.prepareExternalUrl(Pe+I(Je)),St)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Pe=0){this._locationStrategy.historyGo?.(Pe)}onUrlChange(Pe){return this._urlChangeListeners.push(Pe),this._urlChangeSubscription??=this.subscribe(Je=>{this._notifyUrlChangeListeners(Je.url,Je.state)}),()=>{const Je=this._urlChangeListeners.indexOf(Pe);this._urlChangeListeners.splice(Je,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Pe="",Je){this._urlChangeListeners.forEach(St=>St(Pe,Je))}subscribe(Pe,Je,St){return this._subject.subscribe({next:Pe,error:Je,complete:St})}static#e=this.normalizeQueryParams=I;static#t=this.joinWithSlash=b;static#n=this.stripTrailingSlash=O;static#s=this.\u0275fac=function(Je){return new(Je||_e)(i.KVO(T))};static#i=this.\u0275prov=i.jDH({token:_e,factory:()=>function S(){return new v((0,i.KVO)(T))}(),providedIn:"root"})}return _e})();function L(_e){return _e.replace(/\/index.html$/,"")}var G=function(_e){return _e[_e.Format=0]="Format",_e[_e.Standalone=1]="Standalone",_e}(G||{}),Y=function(_e){return _e[_e.Narrow=0]="Narrow",_e[_e.Abbreviated=1]="Abbreviated",_e[_e.Wide=2]="Wide",_e[_e.Short=3]="Short",_e}(Y||{}),V=function(_e){return _e[_e.Short=0]="Short",_e[_e.Medium=1]="Medium",_e[_e.Long=2]="Long",_e[_e.Full=3]="Full",_e}(V||{});const X={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Q(_e,nt,Pe){const Je=(0,i.H5H)(_e),dn=et([Je[i.KH2.DayPeriodsFormat],Je[i.KH2.DayPeriodsStandalone]],nt);return et(dn,Pe)}function J(_e,nt,Pe){const Je=(0,i.H5H)(_e),dn=et([Je[i.KH2.DaysFormat],Je[i.KH2.DaysStandalone]],nt);return et(dn,Pe)}function z(_e,nt,Pe){const Je=(0,i.H5H)(_e),dn=et([Je[i.KH2.MonthsFormat],Je[i.KH2.MonthsStandalone]],nt);return et(dn,Pe)}function Ce(_e,nt){return et((0,i.H5H)(_e)[i.KH2.DateFormat],nt)}function Z(_e,nt){return et((0,i.H5H)(_e)[i.KH2.TimeFormat],nt)}function le(_e,nt){return et((0,i.H5H)(_e)[i.KH2.DateTimeFormat],nt)}function De(_e,nt){const Pe=(0,i.H5H)(_e),Je=Pe[i.KH2.NumberSymbols][nt];if(typeof Je>"u"){if(nt===X.CurrencyDecimal)return Pe[i.KH2.NumberSymbols][X.Decimal];if(nt===X.CurrencyGroup)return Pe[i.KH2.NumberSymbols][X.Group]}return Je}function qe(_e){if(!_e[i.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${_e[i.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function et(_e,nt){for(let Pe=nt;Pe>-1;Pe--)if(typeof _e[Pe]<"u")return _e[Pe];throw new Error("Locale data API: locale data undefined")}function yt(_e){const[nt,Pe]=_e.split(":");return{hours:+nt,minutes:+Pe}}const nn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,je={},Re=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ne=function(_e){return _e[_e.Short=0]="Short",_e[_e.ShortGMT=1]="ShortGMT",_e[_e.Long=2]="Long",_e[_e.Extended=3]="Extended",_e}(ne||{}),Ee=function(_e){return _e[_e.FullYear=0]="FullYear",_e[_e.Month=1]="Month",_e[_e.Date=2]="Date",_e[_e.Hours=3]="Hours",_e[_e.Minutes=4]="Minutes",_e[_e.Seconds=5]="Seconds",_e[_e.FractionalSeconds=6]="FractionalSeconds",_e[_e.Day=7]="Day",_e}(Ee||{}),ke=function(_e){return _e[_e.DayPeriods=0]="DayPeriods",_e[_e.Days=1]="Days",_e[_e.Months=2]="Months",_e[_e.Eras=3]="Eras",_e}(ke||{});function dt(_e,nt,Pe,Je){let St=function Qe(_e){if(Dt(_e))return _e;if("number"==typeof _e&&!isNaN(_e))return new Date(_e);if("string"==typeof _e){if(_e=_e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(_e)){const[St,dn=1,En=1]=_e.split("-").map(un=>+un);return Bt(St,dn-1,En)}const Pe=parseFloat(_e);if(!isNaN(_e-Pe))return new Date(Pe);let Je;if(Je=_e.match(nn))return function Ot(_e){const nt=new Date(0);let Pe=0,Je=0;const St=_e[8]?nt.setUTCFullYear:nt.setFullYear,dn=_e[8]?nt.setUTCHours:nt.setHours;_e[9]&&(Pe=Number(_e[9]+_e[10]),Je=Number(_e[9]+_e[11])),St.call(nt,Number(_e[1]),Number(_e[2])-1,Number(_e[3]));const En=Number(_e[4]||0)-Pe,un=Number(_e[5]||0)-Je,Bs=Number(_e[6]||0),Qs=Math.floor(1e3*parseFloat("0."+(_e[7]||0)));return dn.call(nt,En,un,Bs,Qs),nt}(Je)}const nt=new Date(_e);if(!Dt(nt))throw new Error(`Unable to convert "${_e}" into a date`);return nt}(_e);nt=wt(Pe,nt)||nt;let un,En=[];for(;nt;){if(un=Re.exec(nt),!un){En.push(nt);break}{En=En.concat(un.slice(1));const Ii=En.pop();if(!Ii)break;nt=Ii}}let Bs=St.getTimezoneOffset();Je&&(Bs=He(Je,Bs),St=function Ct(_e,nt,Pe){const Je=Pe?-1:1,St=_e.getTimezoneOffset();return function We(_e,nt){return(_e=new Date(_e.getTime())).setMinutes(_e.getMinutes()+nt),_e}(_e,Je*(He(nt,St)-St))}(St,Je,!0));let Qs="";return En.forEach(Ii=>{const qs=function Ze(_e){if(Ke[_e])return Ke[_e];let nt;switch(_e){case"G":case"GG":case"GGG":nt=Rn(ke.Eras,Y.Abbreviated);break;case"GGGG":nt=Rn(ke.Eras,Y.Wide);break;case"GGGGG":nt=Rn(ke.Eras,Y.Narrow);break;case"y":nt=Zt(Ee.FullYear,1,0,!1,!0);break;case"yy":nt=Zt(Ee.FullYear,2,0,!0,!0);break;case"yyy":nt=Zt(Ee.FullYear,3,0,!1,!0);break;case"yyyy":nt=Zt(Ee.FullYear,4,0,!1,!0);break;case"Y":nt=gt(1);break;case"YY":nt=gt(2,!0);break;case"YYY":nt=gt(3);break;case"YYYY":nt=gt(4);break;case"M":case"L":nt=Zt(Ee.Month,1,1);break;case"MM":case"LL":nt=Zt(Ee.Month,2,1);break;case"MMM":nt=Rn(ke.Months,Y.Abbreviated);break;case"MMMM":nt=Rn(ke.Months,Y.Wide);break;case"MMMMM":nt=Rn(ke.Months,Y.Narrow);break;case"LLL":nt=Rn(ke.Months,Y.Abbreviated,G.Standalone);break;case"LLLL":nt=Rn(ke.Months,Y.Wide,G.Standalone);break;case"LLLLL":nt=Rn(ke.Months,Y.Narrow,G.Standalone);break;case"w":nt=zt(1);break;case"ww":nt=zt(2);break;case"W":nt=zt(1,!0);break;case"d":nt=Zt(Ee.Date,1);break;case"dd":nt=Zt(Ee.Date,2);break;case"c":case"cc":nt=Zt(Ee.Day,1);break;case"ccc":nt=Rn(ke.Days,Y.Abbreviated,G.Standalone);break;case"cccc":nt=Rn(ke.Days,Y.Wide,G.Standalone);break;case"ccccc":nt=Rn(ke.Days,Y.Narrow,G.Standalone);break;case"cccccc":nt=Rn(ke.Days,Y.Short,G.Standalone);break;case"E":case"EE":case"EEE":nt=Rn(ke.Days,Y.Abbreviated);break;case"EEEE":nt=Rn(ke.Days,Y.Wide);break;case"EEEEE":nt=Rn(ke.Days,Y.Narrow);break;case"EEEEEE":nt=Rn(ke.Days,Y.Short);break;case"a":case"aa":case"aaa":nt=Rn(ke.DayPeriods,Y.Abbreviated);break;case"aaaa":nt=Rn(ke.DayPeriods,Y.Wide);break;case"aaaaa":nt=Rn(ke.DayPeriods,Y.Narrow);break;case"b":case"bb":case"bbb":nt=Rn(ke.DayPeriods,Y.Abbreviated,G.Standalone,!0);break;case"bbbb":nt=Rn(ke.DayPeriods,Y.Wide,G.Standalone,!0);break;case"bbbbb":nt=Rn(ke.DayPeriods,Y.Narrow,G.Standalone,!0);break;case"B":case"BB":case"BBB":nt=Rn(ke.DayPeriods,Y.Abbreviated,G.Format,!0);break;case"BBBB":nt=Rn(ke.DayPeriods,Y.Wide,G.Format,!0);break;case"BBBBB":nt=Rn(ke.DayPeriods,Y.Narrow,G.Format,!0);break;case"h":nt=Zt(Ee.Hours,1,-12);break;case"hh":nt=Zt(Ee.Hours,2,-12);break;case"H":nt=Zt(Ee.Hours,1);break;case"HH":nt=Zt(Ee.Hours,2);break;case"m":nt=Zt(Ee.Minutes,1);break;case"mm":nt=Zt(Ee.Minutes,2);break;case"s":nt=Zt(Ee.Seconds,1);break;case"ss":nt=Zt(Ee.Seconds,2);break;case"S":nt=Zt(Ee.FractionalSeconds,1);break;case"SS":nt=Zt(Ee.FractionalSeconds,2);break;case"SSS":nt=Zt(Ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":nt=Mn(ne.Short);break;case"ZZZZZ":nt=Mn(ne.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":nt=Mn(ne.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":nt=Mn(ne.Long);break;default:return null}return Ke[_e]=nt,nt}(Ii);Qs+=qs?qs(St,Pe,Bs):"''"===Ii?"'":Ii.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Qs}function Bt(_e,nt,Pe){const Je=new Date(0);return Je.setFullYear(_e,nt,Pe),Je.setHours(0,0,0),Je}function wt(_e,nt){const Pe=function ae(_e){return(0,i.H5H)(_e)[i.KH2.LocaleId]}(_e);if(je[Pe]??={},je[Pe][nt])return je[Pe][nt];let Je="";switch(nt){case"shortDate":Je=Ce(_e,V.Short);break;case"mediumDate":Je=Ce(_e,V.Medium);break;case"longDate":Je=Ce(_e,V.Long);break;case"fullDate":Je=Ce(_e,V.Full);break;case"shortTime":Je=Z(_e,V.Short);break;case"mediumTime":Je=Z(_e,V.Medium);break;case"longTime":Je=Z(_e,V.Long);break;case"fullTime":Je=Z(_e,V.Full);break;case"short":const St=wt(_e,"shortTime"),dn=wt(_e,"shortDate");Je=tn(le(_e,V.Short),[St,dn]);break;case"medium":const En=wt(_e,"mediumTime"),un=wt(_e,"mediumDate");Je=tn(le(_e,V.Medium),[En,un]);break;case"long":const Bs=wt(_e,"longTime"),Qs=wt(_e,"longDate");Je=tn(le(_e,V.Long),[Bs,Qs]);break;case"full":const Ii=wt(_e,"fullTime"),qs=wt(_e,"fullDate");Je=tn(le(_e,V.Full),[Ii,qs])}return Je&&(je[Pe][nt]=Je),Je}function tn(_e,nt){return nt&&(_e=_e.replace(/\{([^}]+)}/g,function(Pe,Je){return null!=nt&&Je in nt?nt[Je]:Pe})),_e}function It(_e,nt,Pe="-",Je,St){let dn="";(_e<0||St&&_e<=0)&&(St?_e=1-_e:(_e=-_e,dn=Pe));let En=String(_e);for(;En.length<nt;)En="0"+En;return Je&&(En=En.slice(En.length-nt)),dn+En}function Zt(_e,nt,Pe=0,Je=!1,St=!1){return function(dn,En){let un=function mn(_e,nt){switch(_e){case Ee.FullYear:return nt.getFullYear();case Ee.Month:return nt.getMonth();case Ee.Date:return nt.getDate();case Ee.Hours:return nt.getHours();case Ee.Minutes:return nt.getMinutes();case Ee.Seconds:return nt.getSeconds();case Ee.FractionalSeconds:return nt.getMilliseconds();case Ee.Day:return nt.getDay();default:throw new Error(`Unknown DateType value "${_e}".`)}}(_e,dn);if((Pe>0||un>-Pe)&&(un+=Pe),_e===Ee.Hours)0===un&&-12===Pe&&(un=12);else if(_e===Ee.FractionalSeconds)return function $t(_e,nt){return It(_e,3).substring(0,nt)}(un,nt);const Bs=De(En,X.MinusSign);return It(un,nt,Bs,Je,St)}}function Rn(_e,nt,Pe=G.Format,Je=!1){return function(St,dn){return function os(_e,nt,Pe,Je,St,dn){switch(Pe){case ke.Months:return z(nt,St,Je)[_e.getMonth()];case ke.Days:return J(nt,St,Je)[_e.getDay()];case ke.DayPeriods:const En=_e.getHours(),un=_e.getMinutes();if(dn){const Qs=function we(_e){const nt=(0,i.H5H)(_e);return qe(nt),(nt[i.KH2.ExtraData][2]||[]).map(Je=>"string"==typeof Je?yt(Je):[yt(Je[0]),yt(Je[1])])}(nt),Ii=function Be(_e,nt,Pe){const Je=(0,i.H5H)(_e);qe(Je);const dn=et([Je[i.KH2.ExtraData][0],Je[i.KH2.ExtraData][1]],nt)||[];return et(dn,Pe)||[]}(nt,St,Je),qs=Qs.findIndex(Ui=>{if(Array.isArray(Ui)){const[Si,dr]=Ui,Gr=En>=Si.hours&&un>=Si.minutes,pi=En<dr.hours||En===dr.hours&&un<dr.minutes;if(Si.hours<dr.hours){if(Gr&&pi)return!0}else if(Gr||pi)return!0}else if(Ui.hours===En&&Ui.minutes===un)return!0;return!1});if(-1!==qs)return Ii[qs]}return Q(nt,St,Je)[En<12?0:1];case ke.Eras:return function q(_e,nt){return et((0,i.H5H)(_e)[i.KH2.Eras],nt)}(nt,Je)[_e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Pe}`)}}(St,dn,_e,nt,Pe,Je)}}function Mn(_e){return function(nt,Pe,Je){const St=-1*Je,dn=De(Pe,X.MinusSign),En=St>0?Math.floor(St/60):Math.ceil(St/60);switch(_e){case ne.Short:return(St>=0?"+":"")+It(En,2,dn)+It(Math.abs(St%60),2,dn);case ne.ShortGMT:return"GMT"+(St>=0?"+":"")+It(En,1,dn);case ne.Long:return"GMT"+(St>=0?"+":"")+It(En,2,dn)+":"+It(Math.abs(St%60),2,dn);case ne.Extended:return 0===Je?"Z":(St>=0?"+":"")+It(En,2,dn)+":"+It(Math.abs(St%60),2,dn);default:throw new Error(`Unknown zone width "${_e}"`)}}}const xs=0,rn=4;function Lt(_e){const nt=_e.getDay(),Pe=0===nt?-3:rn-nt;return Bt(_e.getFullYear(),_e.getMonth(),_e.getDate()+Pe)}function zt(_e,nt=!1){return function(Pe,Je){let St;if(nt){const dn=new Date(Pe.getFullYear(),Pe.getMonth(),1).getDay()-1,En=Pe.getDate();St=1+Math.floor((En+dn)/7)}else{const dn=Lt(Pe),En=function Dn(_e){const nt=Bt(_e,xs,1).getDay();return Bt(_e,0,1+(nt<=rn?rn:rn+7)-nt)}(dn.getFullYear()),un=dn.getTime()-En.getTime();St=1+Math.round(un/6048e5)}return It(St,_e,De(Je,X.MinusSign))}}function gt(_e,nt=!1){return function(Pe,Je){return It(Lt(Pe).getFullYear(),_e,De(Je,X.MinusSign),nt)}}const Ke={};function He(_e,nt){_e=_e.replace(/:/g,"");const Pe=Date.parse("Jan 01, 1970 00:00:00 "+_e)/6e4;return isNaN(Pe)?nt:Pe}function Dt(_e){return _e instanceof Date&&!isNaN(_e.valueOf())}function ft(_e,nt){nt=encodeURIComponent(nt);for(const Pe of _e.split(";")){const Je=Pe.indexOf("="),[St,dn]=-1==Je?[Pe,""]:[Pe.slice(0,Je),Pe.slice(Je+1)];if(St.trim()===nt)return decodeURIComponent(dn)}return null}const Ye=/\s+/,Et=[];let ut=(()=>{class _e{constructor(Pe,Je){this._ngEl=Pe,this._renderer=Je,this.initialClasses=Et,this.stateMap=new Map}set klass(Pe){this.initialClasses=null!=Pe?Pe.trim().split(Ye):Et}set ngClass(Pe){this.rawClass="string"==typeof Pe?Pe.trim().split(Ye):Pe}ngDoCheck(){for(const Je of this.initialClasses)this._updateState(Je,!0);const Pe=this.rawClass;if(Array.isArray(Pe)||Pe instanceof Set)for(const Je of Pe)this._updateState(Je,!0);else if(null!=Pe)for(const Je of Object.keys(Pe))this._updateState(Je,!!Pe[Je]);this._applyStateDiff()}_updateState(Pe,Je){const St=this.stateMap.get(Pe);void 0!==St?(St.enabled!==Je&&(St.changed=!0,St.enabled=Je),St.touched=!0):this.stateMap.set(Pe,{enabled:Je,changed:!0,touched:!0})}_applyStateDiff(){for(const Pe of this.stateMap){const Je=Pe[0],St=Pe[1];St.changed?(this._toggleClass(Je,St.enabled),St.changed=!1):St.touched||(St.enabled&&this._toggleClass(Je,!1),this.stateMap.delete(Je)),St.touched=!1}}_toggleClass(Pe,Je){(Pe=Pe.trim()).length>0&&Pe.split(Ye).forEach(St=>{Je?this._renderer.addClass(this._ngEl.nativeElement,St):this._renderer.removeClass(this._ngEl.nativeElement,St)})}static#e=this.\u0275fac=function(Je){return new(Je||_e)(i.rXU(i.aKT),i.rXU(i.sFG))};static#t=this.\u0275dir=i.FsC({type:_e,selectors:[["","ngClass",""]],inputs:{klass:[i.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return _e})(),mt=(()=>{class _e{constructor(Pe){this._viewContainerRef=Pe,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Pe){return void 0!==Pe.ngComponentOutletNgModule||void 0!==Pe.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Pe){return void 0!==Pe.ngComponentOutlet||void 0!==Pe.ngComponentOutletContent||void 0!==Pe.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Pe)}ngOnChanges(Pe){if(this._needToReCreateComponentInstance(Pe)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const Je=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Pe)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,i.w6W)(this.ngComponentOutletNgModule,xt(Je)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(xt(Je)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:Je,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Pe of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Pe,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Pe){for(const[Je,St]of this._inputsUsed)St?(Pe.setInput(Je,this.ngComponentOutletInputs[Je]),this._inputsUsed.set(Je,!1)):(Pe.setInput(Je,void 0),this._inputsUsed.delete(Je))}static#e=this.\u0275fac=function(Je){return new(Je||_e)(i.rXU(i.c1b))};static#t=this.\u0275dir=i.FsC({type:_e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[i.OA$]})}return _e})();function xt(_e){return _e.get(i.Vns).injector}class sn{constructor(nt,Pe,Je,St){this.$implicit=nt,this.ngForOf=Pe,this.index=Je,this.count=St}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jn=(()=>{class _e{set ngForOf(Pe){this._ngForOf=Pe,this._ngForOfDirty=!0}set ngForTrackBy(Pe){this._trackByFn=Pe}get ngForTrackBy(){return this._trackByFn}constructor(Pe,Je,St){this._viewContainer=Pe,this._template=Je,this._differs=St,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Pe){Pe&&(this._template=Pe)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Pe=this._ngForOf;!this._differ&&Pe&&(this._differ=this._differs.find(Pe).create(this.ngForTrackBy))}if(this._differ){const Pe=this._differ.diff(this._ngForOf);Pe&&this._applyChanges(Pe)}}_applyChanges(Pe){const Je=this._viewContainer;Pe.forEachOperation((St,dn,En)=>{if(null==St.previousIndex)Je.createEmbeddedView(this._template,new sn(St.item,this._ngForOf,-1,-1),null===En?void 0:En);else if(null==En)Je.remove(null===dn?void 0:dn);else if(null!==dn){const un=Je.get(dn);Je.move(un,En),An(un,St)}});for(let St=0,dn=Je.length;St<dn;St++){const un=Je.get(St).context;un.index=St,un.count=dn,un.ngForOf=this._ngForOf}Pe.forEachIdentityChange(St=>{An(Je.get(St.currentIndex),St)})}static ngTemplateContextGuard(Pe,Je){return!0}static#e=this.\u0275fac=function(Je){return new(Je||_e)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))};static#t=this.\u0275dir=i.FsC({type:_e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return _e})();function An(_e,nt){_e.context.$implicit=nt.item}let Ks=(()=>{class _e{constructor(Pe,Je){this._viewContainer=Pe,this._context=new Cs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Je}set ngIf(Pe){this._context.$implicit=this._context.ngIf=Pe,this._updateView()}set ngIfThen(Pe){yi("ngIfThen",Pe),this._thenTemplateRef=Pe,this._thenViewRef=null,this._updateView()}set ngIfElse(Pe){yi("ngIfElse",Pe),this._elseTemplateRef=Pe,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Pe,Je){return!0}static#e=this.\u0275fac=function(Je){return new(Je||_e)(i.rXU(i.c1b),i.rXU(i.C4Q))};static#t=this.\u0275dir=i.FsC({type:_e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return _e})();class Cs{constructor(){this.$implicit=null,this.ngIf=null}}function yi(_e,nt){if(nt&&!nt.createEmbeddedView)throw new Error(`${_e} must be a TemplateRef, but received '${(0,i.Tbb)(nt)}'.`)}class Mi{constructor(nt,Pe){this._viewContainerRef=nt,this._templateRef=Pe,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(nt){nt&&!this._created?this.create():!nt&&this._created&&this.destroy()}}let Ss=(()=>{class _e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Pe){this._ngSwitch=Pe,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Pe){this._defaultViews.push(Pe)}_matchCase(Pe){const Je=Pe===this._ngSwitch;return this._lastCasesMatched||=Je,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Je}_updateDefaultCases(Pe){if(this._defaultViews.length>0&&Pe!==this._defaultUsed){this._defaultUsed=Pe;for(const Je of this._defaultViews)Je.enforceState(Pe)}}static#e=this.\u0275fac=function(Je){return new(Je||_e)};static#t=this.\u0275dir=i.FsC({type:_e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return _e})(),Hs=(()=>{class _e{constructor(Pe,Je,St){this.ngSwitch=St,St._addCase(),this._view=new Mi(Pe,Je)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(Je){return new(Je||_e)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(Ss,9))};static#t=this.\u0275dir=i.FsC({type:_e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return _e})(),cr=(()=>{class _e{constructor(Pe,Je,St){this._ngEl=Pe,this._differs=Je,this._renderer=St,this._ngStyle=null,this._differ=null}set ngStyle(Pe){this._ngStyle=Pe,!this._differ&&Pe&&(this._differ=this._differs.find(Pe).create())}ngDoCheck(){if(this._differ){const Pe=this._differ.diff(this._ngStyle);Pe&&this._applyChanges(Pe)}}_setStyle(Pe,Je){const[St,dn]=Pe.split("."),En=-1===St.indexOf("-")?void 0:i.czy.DashCase;null!=Je?this._renderer.setStyle(this._ngEl.nativeElement,St,dn?`${Je}${dn}`:Je,En):this._renderer.removeStyle(this._ngEl.nativeElement,St,En)}_applyChanges(Pe){Pe.forEachRemovedItem(Je=>this._setStyle(Je.key,null)),Pe.forEachAddedItem(Je=>this._setStyle(Je.key,Je.currentValue)),Pe.forEachChangedItem(Je=>this._setStyle(Je.key,Je.currentValue))}static#e=this.\u0275fac=function(Je){return new(Je||_e)(i.rXU(i.aKT),i.rXU(i.MKu),i.rXU(i.sFG))};static#t=this.\u0275dir=i.FsC({type:_e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return _e})(),gs=(()=>{class _e{constructor(Pe){this._viewContainerRef=Pe,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Pe){if(this._shouldRecreateView(Pe)){const Je=this._viewContainerRef;if(this._viewRef&&Je.remove(Je.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const St=this._createContextForwardProxy();this._viewRef=Je.createEmbeddedView(this.ngTemplateOutlet,St,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Pe){return!!Pe.ngTemplateOutlet||!!Pe.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Pe,Je,St)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Je,St),get:(Pe,Je,St)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Je,St)}})}static#e=this.\u0275fac=function(Je){return new(Je||_e)(i.rXU(i.c1b))};static#t=this.\u0275dir=i.FsC({type:_e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[i.OA$]})}return _e})();function yr(_e,nt){return new i.wOt(2100,!1)}class Ho{createSubscription(nt,Pe){return(0,i.O8t)(()=>nt.subscribe({next:Pe,error:Je=>{throw Je}}))}dispose(nt){(0,i.O8t)(()=>nt.unsubscribe())}}class Bi{createSubscription(nt,Pe){return nt.then(Pe,Je=>{throw Je})}dispose(nt){}}const Pt=new Bi,cn=new Ho;let Kt=(()=>{class _e{constructor(Pe){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Pe}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Pe){if(!this._obj){if(Pe)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Pe)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Pe!==this._obj?(this._dispose(),this.transform(Pe)):this._latestValue}_subscribe(Pe){this._obj=Pe,this._strategy=this._selectStrategy(Pe),this._subscription=this._strategy.createSubscription(Pe,Je=>this._updateLatestValue(Pe,Je))}_selectStrategy(Pe){if((0,i.jNT)(Pe))return Pt;if((0,i.zjR)(Pe))return cn;throw yr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Pe,Je){Pe===this._obj&&(this._latestValue=Je,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(Je){return new(Je||_e)(i.rXU(i.gRc,16))};static#t=this.\u0275pipe=i.EJ8({name:"async",type:_e,pure:!1,standalone:!0})}return _e})(),Ut=(()=>{class _e{transform(Pe){if(null==Pe)return null;if("string"!=typeof Pe)throw yr();return Pe.toLowerCase()}static#e=this.\u0275fac=function(Je){return new(Je||_e)};static#t=this.\u0275pipe=i.EJ8({name:"lowercase",type:_e,pure:!0,standalone:!0})}return _e})();const Cn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let kn=(()=>{class _e{transform(Pe){if(null==Pe)return null;if("string"!=typeof Pe)throw yr();return Pe.replace(Cn,Je=>Je[0].toUpperCase()+Je.slice(1).toLowerCase())}static#e=this.\u0275fac=function(Je){return new(Je||_e)};static#t=this.\u0275pipe=i.EJ8({name:"titlecase",type:_e,pure:!0,standalone:!0})}return _e})();const Ei=new i.nKC(""),ir=new i.nKC("");let li=(()=>{class _e{constructor(Pe,Je,St){this.locale=Pe,this.defaultTimezone=Je,this.defaultOptions=St}transform(Pe,Je,St,dn){if(null==Pe||""===Pe||Pe!=Pe)return null;try{return dt(Pe,Je??this.defaultOptions?.dateFormat??"mediumDate",dn||this.locale,St??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(En){throw yr()}}static#e=this.\u0275fac=function(Je){return new(Je||_e)(i.rXU(i.xe9,16),i.rXU(Ei,24),i.rXU(ir,24))};static#t=this.\u0275pipe=i.EJ8({name:"date",type:_e,pure:!0,standalone:!0})}return _e})(),lo=(()=>{class _e{constructor(Pe){this.differs=Pe,this.keyValues=[],this.compareFn=jr}transform(Pe,Je=jr){if(!Pe||!(Pe instanceof Map)&&"object"!=typeof Pe)return null;this.differ??=this.differs.find(Pe).create();const St=this.differ.diff(Pe),dn=Je!==this.compareFn;return St&&(this.keyValues=[],St.forEachItem(En=>{this.keyValues.push(function Io(_e,nt){return{key:_e,value:nt}}(En.key,En.currentValue))})),(St||dn)&&(this.keyValues.sort(Je),this.compareFn=Je),this.keyValues}static#e=this.\u0275fac=function(Je){return new(Je||_e)(i.rXU(i.MKu,16))};static#t=this.\u0275pipe=i.EJ8({name:"keyvalue",type:_e,pure:!1,standalone:!0})}return _e})();function jr(_e,nt){const Pe=_e.key,Je=nt.key;if(Pe===Je)return 0;if(void 0===Pe)return 1;if(void 0===Je)return-1;if(null===Pe)return 1;if(null===Je)return-1;if("string"==typeof Pe&&"string"==typeof Je)return Pe<Je?-1:1;if("number"==typeof Pe&&"number"==typeof Je)return Pe-Je;if("boolean"==typeof Pe&&"boolean"==typeof Je)return Pe<Je?-1:1;const St=String(Pe),dn=String(Je);return St==dn?0:St<dn?-1:1}let So=(()=>{class _e{static#e=this.\u0275fac=function(Je){return new(Je||_e)};static#t=this.\u0275mod=i.$C({type:_e});static#n=this.\u0275inj=i.G2t({})}return _e})();const Er="browser",uo="server";function zr(_e){return _e===Er}function Co(_e){return _e===uo}let Rt=(()=>{class _e{static#e=this.\u0275prov=(0,i.jDH)({token:_e,providedIn:"root",factory:()=>zr((0,i.WQX)(i.Agw))?new At((0,i.WQX)(d),window):new Jn})}return _e})();class At{constructor(nt,Pe){this.document=nt,this.window=Pe,this.offset=()=>[0,0]}setOffset(nt){this.offset=Array.isArray(nt)?()=>nt:nt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(nt){this.window.scrollTo(nt[0],nt[1])}scrollToAnchor(nt){const Pe=function gn(_e,nt){const Pe=_e.getElementById(nt)||_e.getElementsByName(nt)[0];if(Pe)return Pe;if("function"==typeof _e.createTreeWalker&&_e.body&&"function"==typeof _e.body.attachShadow){const Je=_e.createTreeWalker(_e.body,NodeFilter.SHOW_ELEMENT);let St=Je.currentNode;for(;St;){const dn=St.shadowRoot;if(dn){const En=dn.getElementById(nt)||dn.querySelector(`[name="${nt}"]`);if(En)return En}St=Je.nextNode()}}return null}(this.document,nt);Pe&&(this.scrollToElement(Pe),Pe.focus())}setHistoryScrollRestoration(nt){this.window.history.scrollRestoration=nt}scrollToElement(nt){const Pe=nt.getBoundingClientRect(),Je=Pe.left+this.window.pageXOffset,St=Pe.top+this.window.pageYOffset,dn=this.offset();this.window.scrollTo(Je-dn[0],St-dn[1])}}class Jn{setOffset(nt){}getScrollPosition(){return[0,0]}scrollToPosition(nt){}scrollToAnchor(nt){}setHistoryScrollRestoration(nt){}}class bs{}},27691:(B,D,t)=>{"use strict";t.d(D,{$R:()=>We,$m:()=>_s,B3:()=>Lt,Lr:()=>R,Nl:()=>$,Qq:()=>Z,Sx:()=>Ot,a7:()=>Be,cS:()=>q,yz:()=>ee}),t(73014);var n=t(53107),c=t(63016),e=t(51698),f=t(33325),g=t(81459),d=t(41483),y=t(47947),E=t(24447),_=t(22867),b=t(82040),O=t(54460);class I{}class T{}class R{constructor(Ye){this.normalizedNames=new Map,this.lazyUpdate=null,Ye?"string"==typeof Ye?this.lazyInit=()=>{this.headers=new Map,Ye.split("\n").forEach(Et=>{const ut=Et.indexOf(":");if(ut>0){const mt=Et.slice(0,ut),xt=mt.toLowerCase(),sn=Et.slice(ut+1).trim();this.maybeSetNormalizedName(mt,xt),this.headers.has(xt)?this.headers.get(xt).push(sn):this.headers.set(xt,[sn])}})}:typeof Headers<"u"&&Ye instanceof Headers?(this.headers=new Map,Ye.forEach((Et,ut)=>{this.setHeaderEntries(ut,Et)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ye).forEach(([Et,ut])=>{this.setHeaderEntries(Et,ut)})}:this.headers=new Map}has(Ye){return this.init(),this.headers.has(Ye.toLowerCase())}get(Ye){this.init();const Et=this.headers.get(Ye.toLowerCase());return Et&&Et.length>0?Et[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ye){return this.init(),this.headers.get(Ye.toLowerCase())||null}append(Ye,Et){return this.clone({name:Ye,value:Et,op:"a"})}set(Ye,Et){return this.clone({name:Ye,value:Et,op:"s"})}delete(Ye,Et){return this.clone({name:Ye,value:Et,op:"d"})}maybeSetNormalizedName(Ye,Et){this.normalizedNames.has(Et)||this.normalizedNames.set(Et,Ye)}init(){this.lazyInit&&(this.lazyInit instanceof R?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ye=>this.applyUpdate(Ye)),this.lazyUpdate=null))}copyFrom(Ye){Ye.init(),Array.from(Ye.headers.keys()).forEach(Et=>{this.headers.set(Et,Ye.headers.get(Et)),this.normalizedNames.set(Et,Ye.normalizedNames.get(Et))})}clone(Ye){const Et=new R;return Et.lazyInit=this.lazyInit&&this.lazyInit instanceof R?this.lazyInit:this,Et.lazyUpdate=(this.lazyUpdate||[]).concat([Ye]),Et}applyUpdate(Ye){const Et=Ye.name.toLowerCase();switch(Ye.op){case"a":case"s":let ut=Ye.value;if("string"==typeof ut&&(ut=[ut]),0===ut.length)return;this.maybeSetNormalizedName(Ye.name,Et);const mt=("a"===Ye.op?this.headers.get(Et):void 0)||[];mt.push(...ut),this.headers.set(Et,mt);break;case"d":const xt=Ye.value;if(xt){let sn=this.headers.get(Et);if(!sn)return;sn=sn.filter(jn=>-1===xt.indexOf(jn)),0===sn.length?(this.headers.delete(Et),this.normalizedNames.delete(Et)):this.headers.set(Et,sn)}else this.headers.delete(Et),this.normalizedNames.delete(Et)}}setHeaderEntries(Ye,Et){const ut=(Array.isArray(Et)?Et:[Et]).map(xt=>xt.toString()),mt=Ye.toLowerCase();this.headers.set(mt,ut),this.maybeSetNormalizedName(Ye,mt)}forEach(Ye){this.init(),Array.from(this.normalizedNames.keys()).forEach(Et=>Ye(this.normalizedNames.get(Et),this.headers.get(Et)))}}class w{encodeKey(Ye){return L(Ye)}encodeValue(Ye){return L(Ye)}decodeKey(Ye){return decodeURIComponent(Ye)}decodeValue(Ye){return decodeURIComponent(Ye)}}const S=/%(\d[a-f0-9])/gi,M={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function L(ft){return encodeURIComponent(ft).replace(S,(Ye,Et)=>M[Et]??Ye)}function F(ft){return`${ft}`}class ${constructor(Ye={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ye.encoder||new w,Ye.fromString){if(Ye.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function v(ft,Ye){const Et=new Map;return ft.length>0&&ft.replace(/^\?/,"").split("&").forEach(mt=>{const xt=mt.indexOf("="),[sn,jn]=-1==xt?[Ye.decodeKey(mt),""]:[Ye.decodeKey(mt.slice(0,xt)),Ye.decodeValue(mt.slice(xt+1))],An=Et.get(sn)||[];An.push(jn),Et.set(sn,An)}),Et}(Ye.fromString,this.encoder)}else Ye.fromObject?(this.map=new Map,Object.keys(Ye.fromObject).forEach(Et=>{const ut=Ye.fromObject[Et],mt=Array.isArray(ut)?ut.map(F):[F(ut)];this.map.set(Et,mt)})):this.map=null}has(Ye){return this.init(),this.map.has(Ye)}get(Ye){this.init();const Et=this.map.get(Ye);return Et?Et[0]:null}getAll(Ye){return this.init(),this.map.get(Ye)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ye,Et){return this.clone({param:Ye,value:Et,op:"a"})}appendAll(Ye){const Et=[];return Object.keys(Ye).forEach(ut=>{const mt=Ye[ut];Array.isArray(mt)?mt.forEach(xt=>{Et.push({param:ut,value:xt,op:"a"})}):Et.push({param:ut,value:mt,op:"a"})}),this.clone(Et)}set(Ye,Et){return this.clone({param:Ye,value:Et,op:"s"})}delete(Ye,Et){return this.clone({param:Ye,value:Et,op:"d"})}toString(){return this.init(),this.keys().map(Ye=>{const Et=this.encoder.encodeKey(Ye);return this.map.get(Ye).map(ut=>Et+"="+this.encoder.encodeValue(ut)).join("&")}).filter(Ye=>""!==Ye).join("&")}clone(Ye){const Et=new $({encoder:this.encoder});return Et.cloneFrom=this.cloneFrom||this,Et.updates=(this.updates||[]).concat(Ye),Et}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ye=>this.map.set(Ye,this.cloneFrom.map.get(Ye))),this.updates.forEach(Ye=>{switch(Ye.op){case"a":case"s":const Et=("a"===Ye.op?this.map.get(Ye.param):void 0)||[];Et.push(F(Ye.value)),this.map.set(Ye.param,Et);break;case"d":if(void 0===Ye.value){this.map.delete(Ye.param);break}{let ut=this.map.get(Ye.param)||[];const mt=ut.indexOf(F(Ye.value));-1!==mt&&ut.splice(mt,1),ut.length>0?this.map.set(Ye.param,ut):this.map.delete(Ye.param)}}}),this.cloneFrom=this.updates=null)}}class x{constructor(){this.map=new Map}set(Ye,Et){return this.map.set(Ye,Et),this}get(Ye){return this.map.has(Ye)||this.map.set(Ye,Ye.defaultValue()),this.map.get(Ye)}delete(Ye){return this.map.delete(Ye),this}has(Ye){return this.map.has(Ye)}keys(){return this.map.keys()}}function Y(ft){return typeof ArrayBuffer<"u"&&ft instanceof ArrayBuffer}function V(ft){return typeof Blob<"u"&&ft instanceof Blob}function X(ft){return typeof FormData<"u"&&ft instanceof FormData}class ae{constructor(Ye,Et,ut,mt){let xt;if(this.url=Et,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ye.toUpperCase(),function G(ft){switch(ft){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||mt?(this.body=void 0!==ut?ut:null,xt=mt):xt=ut,xt&&(this.reportProgress=!!xt.reportProgress,this.withCredentials=!!xt.withCredentials,xt.responseType&&(this.responseType=xt.responseType),xt.headers&&(this.headers=xt.headers),xt.context&&(this.context=xt.context),xt.params&&(this.params=xt.params),this.transferCache=xt.transferCache),this.headers??=new R,this.context??=new x,this.params){const sn=this.params.toString();if(0===sn.length)this.urlWithParams=Et;else{const jn=Et.indexOf("?");this.urlWithParams=Et+(-1===jn?"?":jn<Et.length-1?"&":"")+sn}}else this.params=new $,this.urlWithParams=Et}serializeBody(){return null===this.body?null:"string"==typeof this.body||Y(this.body)||V(this.body)||X(this.body)||function K(ft){return typeof URLSearchParams<"u"&&ft instanceof URLSearchParams}(this.body)?this.body:this.body instanceof $?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||X(this.body)?null:V(this.body)?this.body.type||null:Y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ye={}){const Et=Ye.method||this.method,ut=Ye.url||this.url,mt=Ye.responseType||this.responseType,xt=Ye.transferCache??this.transferCache,sn=void 0!==Ye.body?Ye.body:this.body,jn=Ye.withCredentials??this.withCredentials,An=Ye.reportProgress??this.reportProgress;let ds=Ye.headers||this.headers,Ks=Ye.params||this.params;const Cs=Ye.context??this.context;return void 0!==Ye.setHeaders&&(ds=Object.keys(Ye.setHeaders).reduce((yi,Yi)=>yi.set(Yi,Ye.setHeaders[Yi]),ds)),Ye.setParams&&(Ks=Object.keys(Ye.setParams).reduce((yi,Yi)=>yi.set(Yi,Ye.setParams[Yi]),Ks)),new ae(Et,ut,sn,{params:Ks,headers:ds,context:Cs,reportProgress:An,responseType:mt,withCredentials:jn,transferCache:xt})}}var Q=function(ft){return ft[ft.Sent=0]="Sent",ft[ft.UploadProgress=1]="UploadProgress",ft[ft.ResponseHeader=2]="ResponseHeader",ft[ft.DownloadProgress=3]="DownloadProgress",ft[ft.Response=4]="Response",ft[ft.User=5]="User",ft}(Q||{});class J{constructor(Ye,Et=de.Ok,ut="OK"){this.headers=Ye.headers||new R,this.status=void 0!==Ye.status?Ye.status:Et,this.statusText=Ye.statusText||ut,this.url=Ye.url||null,this.ok=this.status>=200&&this.status<300}}class z extends J{constructor(Ye={}){super(Ye),this.type=Q.ResponseHeader}clone(Ye={}){return new z({headers:Ye.headers||this.headers,status:void 0!==Ye.status?Ye.status:this.status,statusText:Ye.statusText||this.statusText,url:Ye.url||this.url||void 0})}}class q extends J{constructor(Ye={}){super(Ye),this.type=Q.Response,this.body=void 0!==Ye.body?Ye.body:null}clone(Ye={}){return new q({body:void 0!==Ye.body?Ye.body:this.body,headers:Ye.headers||this.headers,status:void 0!==Ye.status?Ye.status:this.status,statusText:Ye.statusText||this.statusText,url:Ye.url||this.url||void 0})}}class ee extends J{constructor(Ye){super(Ye,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ye.url||"(unknown url)"}`:`Http failure response for ${Ye.url||"(unknown url)"}: ${Ye.status} ${Ye.statusText}`,this.error=Ye.error||null}}var de=function(ft){return ft[ft.Continue=100]="Continue",ft[ft.SwitchingProtocols=101]="SwitchingProtocols",ft[ft.Processing=102]="Processing",ft[ft.EarlyHints=103]="EarlyHints",ft[ft.Ok=200]="Ok",ft[ft.Created=201]="Created",ft[ft.Accepted=202]="Accepted",ft[ft.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",ft[ft.NoContent=204]="NoContent",ft[ft.ResetContent=205]="ResetContent",ft[ft.PartialContent=206]="PartialContent",ft[ft.MultiStatus=207]="MultiStatus",ft[ft.AlreadyReported=208]="AlreadyReported",ft[ft.ImUsed=226]="ImUsed",ft[ft.MultipleChoices=300]="MultipleChoices",ft[ft.MovedPermanently=301]="MovedPermanently",ft[ft.Found=302]="Found",ft[ft.SeeOther=303]="SeeOther",ft[ft.NotModified=304]="NotModified",ft[ft.UseProxy=305]="UseProxy",ft[ft.Unused=306]="Unused",ft[ft.TemporaryRedirect=307]="TemporaryRedirect",ft[ft.PermanentRedirect=308]="PermanentRedirect",ft[ft.BadRequest=400]="BadRequest",ft[ft.Unauthorized=401]="Unauthorized",ft[ft.PaymentRequired=402]="PaymentRequired",ft[ft.Forbidden=403]="Forbidden",ft[ft.NotFound=404]="NotFound",ft[ft.MethodNotAllowed=405]="MethodNotAllowed",ft[ft.NotAcceptable=406]="NotAcceptable",ft[ft.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",ft[ft.RequestTimeout=408]="RequestTimeout",ft[ft.Conflict=409]="Conflict",ft[ft.Gone=410]="Gone",ft[ft.LengthRequired=411]="LengthRequired",ft[ft.PreconditionFailed=412]="PreconditionFailed",ft[ft.PayloadTooLarge=413]="PayloadTooLarge",ft[ft.UriTooLong=414]="UriTooLong",ft[ft.UnsupportedMediaType=415]="UnsupportedMediaType",ft[ft.RangeNotSatisfiable=416]="RangeNotSatisfiable",ft[ft.ExpectationFailed=417]="ExpectationFailed",ft[ft.ImATeapot=418]="ImATeapot",ft[ft.MisdirectedRequest=421]="MisdirectedRequest",ft[ft.UnprocessableEntity=422]="UnprocessableEntity",ft[ft.Locked=423]="Locked",ft[ft.FailedDependency=424]="FailedDependency",ft[ft.TooEarly=425]="TooEarly",ft[ft.UpgradeRequired=426]="UpgradeRequired",ft[ft.PreconditionRequired=428]="PreconditionRequired",ft[ft.TooManyRequests=429]="TooManyRequests",ft[ft.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",ft[ft.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",ft[ft.InternalServerError=500]="InternalServerError",ft[ft.NotImplemented=501]="NotImplemented",ft[ft.BadGateway=502]="BadGateway",ft[ft.ServiceUnavailable=503]="ServiceUnavailable",ft[ft.GatewayTimeout=504]="GatewayTimeout",ft[ft.HttpVersionNotSupported=505]="HttpVersionNotSupported",ft[ft.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",ft[ft.InsufficientStorage=507]="InsufficientStorage",ft[ft.LoopDetected=508]="LoopDetected",ft[ft.NotExtended=510]="NotExtended",ft[ft.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",ft}(de||{});function Ce(ft,Ye){return{body:Ye,headers:ft.headers,context:ft.context,observe:ft.observe,params:ft.params,reportProgress:ft.reportProgress,responseType:ft.responseType,withCredentials:ft.withCredentials,transferCache:ft.transferCache}}let Z=(()=>{class ft{constructor(Et){this.handler=Et}request(Et,ut,mt={}){let xt;if(Et instanceof ae)xt=Et;else{let An,ds;An=mt.headers instanceof R?mt.headers:new R(mt.headers),mt.params&&(ds=mt.params instanceof $?mt.params:new $({fromObject:mt.params})),xt=new ae(Et,ut,void 0!==mt.body?mt.body:null,{headers:An,context:mt.context,params:ds,reportProgress:mt.reportProgress,responseType:mt.responseType||"json",withCredentials:mt.withCredentials,transferCache:mt.transferCache})}const sn=(0,c.of)(xt).pipe((0,g.H)(An=>this.handler.handle(An)));if(Et instanceof ae||"events"===mt.observe)return sn;const jn=sn.pipe((0,d.p)(An=>An instanceof q));switch(mt.observe||"body"){case"body":switch(xt.responseType){case"arraybuffer":return jn.pipe((0,y.T)(An=>{if(null!==An.body&&!(An.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return An.body}));case"blob":return jn.pipe((0,y.T)(An=>{if(null!==An.body&&!(An.body instanceof Blob))throw new Error("Response is not a Blob.");return An.body}));case"text":return jn.pipe((0,y.T)(An=>{if(null!==An.body&&"string"!=typeof An.body)throw new Error("Response is not a string.");return An.body}));default:return jn.pipe((0,y.T)(An=>An.body))}case"response":return jn;default:throw new Error(`Unreachable: unhandled observe type ${mt.observe}}`)}}delete(Et,ut={}){return this.request("DELETE",Et,ut)}get(Et,ut={}){return this.request("GET",Et,ut)}head(Et,ut={}){return this.request("HEAD",Et,ut)}jsonp(Et,ut){return this.request("JSONP",Et,{params:(new $).append(ut,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Et,ut={}){return this.request("OPTIONS",Et,ut)}patch(Et,ut,mt={}){return this.request("PATCH",Et,Ce(mt,ut))}post(Et,ut,mt={}){return this.request("POST",Et,Ce(mt,ut))}put(Et,ut,mt={}){return this.request("PUT",Et,Ce(mt,ut))}static#e=this.\u0275fac=function(ut){return new(ut||ft)(n.KVO(I))};static#t=this.\u0275prov=n.jDH({token:ft,factory:ft.\u0275fac})}return ft})();function Ne(ft,Ye){return Ye(ft)}function qe(ft,Ye){return(Et,ut)=>Ye.intercept(Et,{handle:mt=>ft(mt,ut)})}const Be=new n.nKC(""),Ve=new n.nKC(""),et=new n.nKC(""),yt=new n.nKC("");function it(){let ft=null;return(Ye,Et)=>{null===ft&&(ft=((0,n.WQX)(Be,{optional:!0})??[]).reduceRight(qe,Ne));const ut=(0,n.WQX)(n.TgB),mt=ut.add();return ft(Ye,Et).pipe((0,E.j)(()=>ut.remove(mt)))}}let nn=(()=>{class ft extends I{constructor(Et,ut){super(),this.backend=Et,this.injector=ut,this.chain=null,this.pendingTasks=(0,n.WQX)(n.TgB);const mt=(0,n.WQX)(yt,{optional:!0});this.backend=mt??Et}handle(Et){if(null===this.chain){const mt=Array.from(new Set([...this.injector.get(Ve),...this.injector.get(et,[])]));this.chain=mt.reduceRight((xt,sn)=>function we(ft,Ye,Et){return(ut,mt)=>(0,n.N4e)(Et,()=>Ye(ut,xt=>ft(xt,mt)))}(xt,sn,this.injector),Ne)}const ut=this.pendingTasks.add();return this.chain(Et,mt=>this.backend.handle(mt)).pipe((0,E.j)(()=>this.pendingTasks.remove(ut)))}static#e=this.\u0275fac=function(ut){return new(ut||ft)(n.KVO(T),n.KVO(n.uvJ))};static#t=this.\u0275prov=n.jDH({token:ft,factory:ft.\u0275fac})}return ft})();const Zt=/^\)\]\}',?\n/;let Rn=(()=>{class ft{constructor(Et){this.xhrFactory=Et}handle(Et){if("JSONP"===Et.method)throw new n.wOt(-2800,!1);const ut=this.xhrFactory;return(ut.\u0275loadImpl?(0,f.H)(ut.\u0275loadImpl()):(0,c.of)(null)).pipe((0,_.n)(()=>new e.c(xt=>{const sn=ut.build();if(sn.open(Et.method,Et.urlWithParams),Et.withCredentials&&(sn.withCredentials=!0),Et.headers.forEach((Ss,Hs)=>sn.setRequestHeader(Ss,Hs.join(","))),Et.headers.has("Accept")||sn.setRequestHeader("Accept","application/json, text/plain, */*"),!Et.headers.has("Content-Type")){const Ss=Et.detectContentTypeHeader();null!==Ss&&sn.setRequestHeader("Content-Type",Ss)}if(Et.responseType){const Ss=Et.responseType.toLowerCase();sn.responseType="json"!==Ss?Ss:"text"}const jn=Et.serializeBody();let An=null;const ds=()=>{if(null!==An)return An;const Ss=sn.statusText||"OK",Hs=new R(sn.getAllResponseHeaders()),gi=function mn(ft){return"responseURL"in ft&&ft.responseURL?ft.responseURL:/^X-Request-URL:/m.test(ft.getAllResponseHeaders())?ft.getResponseHeader("X-Request-URL"):null}(sn)||Et.url;return An=new z({headers:Hs,status:sn.status,statusText:Ss,url:gi}),An},Ks=()=>{let{headers:Ss,status:Hs,statusText:gi,url:Xi}=ds(),sr=null;Hs!==de.NoContent&&(sr=typeof sn.response>"u"?sn.responseText:sn.response),0===Hs&&(Hs=sr?de.Ok:0);let Ji=Hs>=200&&Hs<300;if("json"===Et.responseType&&"string"==typeof sr){const Hr=sr;sr=sr.replace(Zt,"");try{sr=""!==sr?JSON.parse(sr):null}catch(cr){sr=Hr,Ji&&(Ji=!1,sr={error:cr,text:sr})}}Ji?(xt.next(new q({body:sr,headers:Ss,status:Hs,statusText:gi,url:Xi||void 0})),xt.complete()):xt.error(new ee({error:sr,headers:Ss,status:Hs,statusText:gi,url:Xi||void 0}))},Cs=Ss=>{const{url:Hs}=ds(),gi=new ee({error:Ss,status:sn.status||0,statusText:sn.statusText||"Unknown Error",url:Hs||void 0});xt.error(gi)};let yi=!1;const Yi=Ss=>{yi||(xt.next(ds()),yi=!0);let Hs={type:Q.DownloadProgress,loaded:Ss.loaded};Ss.lengthComputable&&(Hs.total=Ss.total),"text"===Et.responseType&&sn.responseText&&(Hs.partialText=sn.responseText),xt.next(Hs)},Mi=Ss=>{let Hs={type:Q.UploadProgress,loaded:Ss.loaded};Ss.lengthComputable&&(Hs.total=Ss.total),xt.next(Hs)};return sn.addEventListener("load",Ks),sn.addEventListener("error",Cs),sn.addEventListener("timeout",Cs),sn.addEventListener("abort",Cs),Et.reportProgress&&(sn.addEventListener("progress",Yi),null!==jn&&sn.upload&&sn.upload.addEventListener("progress",Mi)),sn.send(jn),xt.next({type:Q.Sent}),()=>{sn.removeEventListener("error",Cs),sn.removeEventListener("abort",Cs),sn.removeEventListener("load",Ks),sn.removeEventListener("timeout",Cs),Et.reportProgress&&(sn.removeEventListener("progress",Yi),null!==jn&&sn.upload&&sn.upload.removeEventListener("progress",Mi)),sn.readyState!==sn.DONE&&sn.abort()}})))}static#e=this.\u0275fac=function(ut){return new(ut||ft)(n.KVO(O.N0))};static#t=this.\u0275prov=n.jDH({token:ft,factory:ft.\u0275fac})}return ft})();const os=new n.nKC(""),xs=new n.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Dn=new n.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Lt{}let zt=(()=>{class ft{constructor(Et,ut,mt){this.doc=Et,this.platform=ut,this.cookieName=mt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Et=this.doc.cookie||"";return Et!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,O._b)(Et,this.cookieName),this.lastCookieString=Et),this.lastToken}static#e=this.\u0275fac=function(ut){return new(ut||ft)(n.KVO(O.qQ),n.KVO(n.Agw),n.KVO(xs))};static#t=this.\u0275prov=n.jDH({token:ft,factory:ft.\u0275fac})}return ft})();function gt(ft,Ye){const Et=ft.url.toLowerCase();if(!(0,n.WQX)(os)||"GET"===ft.method||"HEAD"===ft.method||Et.startsWith("http://")||Et.startsWith("https://"))return Ye(ft);const ut=(0,n.WQX)(Lt).getToken(),mt=(0,n.WQX)(Dn);return null!=ut&&!ft.headers.has(mt)&&(ft=ft.clone({headers:ft.headers.set(mt,ut)})),Ye(ft)}var Ze=function(ft){return ft[ft.Interceptors=0]="Interceptors",ft[ft.LegacyInterceptors=1]="LegacyInterceptors",ft[ft.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ft[ft.NoXsrfProtection=3]="NoXsrfProtection",ft[ft.JsonpSupport=4]="JsonpSupport",ft[ft.RequestsMadeViaParent=5]="RequestsMadeViaParent",ft[ft.Fetch=6]="Fetch",ft}(Ze||{});function We(...ft){const Ye=[Z,Rn,nn,{provide:I,useExisting:nn},{provide:T,useExisting:Rn},{provide:Ve,useValue:gt,multi:!0},{provide:os,useValue:!0},{provide:Lt,useClass:zt}];for(const Et of ft)Ye.push(...Et.\u0275providers);return(0,n.EmA)(Ye)}const Qe=new n.nKC("");function Ot(){return function He(ft,Ye){return{\u0275kind:ft,\u0275providers:Ye}}(Ze.LegacyInterceptors,[{provide:Qe,useFactory:it},{provide:Ve,useExisting:Qe,multi:!0}])}const ht="b",lt="h",jt="s",Ln="st",ls="u",As="rt",In=new n.nKC(""),yn=["GET","HEAD"];function hn(ft,Ye){const{isCacheActive:Et,...ut}=(0,n.WQX)(In),{transferCache:mt,method:xt}=ft;if(!Et||"POST"===xt&&!ut.includePostRequests&&!mt||"POST"!==xt&&!yn.includes(xt)||!1===mt||!1===ut.filter?.(ft))return Ye(ft);const sn=(0,n.WQX)(n.pJN),jn=function fs(ft){const{params:Ye,method:Et,responseType:ut,url:mt}=ft,xt=ns(Ye);let sn=ft.serializeBody();sn instanceof URLSearchParams?sn=ns(sn):"string"!=typeof sn&&(sn="");const An=function Zn(ft){let Ye=0;for(const Et of ft)Ye=Math.imul(31,Ye)+Et.charCodeAt(0)|0;return Ye+=2147483648,Ye.toString()}([Et,ut,mt,sn,xt].join("|"));return(0,n.zw6)(An)}(ft),An=sn.get(jn,null);let ds=ut.includeHeaders;if("object"==typeof mt&&mt.includeHeaders&&(ds=mt.includeHeaders),An){const{[ht]:Cs,[As]:yi,[lt]:Yi,[jt]:Mi,[Ln]:Ss,[ls]:Hs}=An;let gi=Cs;switch(yi){case"arraybuffer":gi=(new TextEncoder).encode(Cs).buffer;break;case"blob":gi=new Blob([Cs])}let Xi=new R(Yi);return(0,c.of)(new q({body:gi,headers:Xi,status:Mi,statusText:Ss,url:Hs}))}const Ks=(0,O.Vy)((0,n.WQX)(n.Agw));return Ye(ft).pipe((0,b.M)(Cs=>{Cs instanceof q&&Ks&&sn.set(jn,{[ht]:Cs.body,[lt]:Un(Cs.headers,ds),[jt]:Cs.status,[Ln]:Cs.statusText,[ls]:Cs.url||"",[As]:ft.responseType})}))}function Un(ft,Ye){if(!Ye)return{};const Et={};for(const ut of Ye){const mt=ft.getAll(ut);null!==mt&&(Et[ut]=mt)}return Et}function ns(ft){return[...ft.keys()].sort().map(Ye=>`${Ye}=${ft.getAll(Ye)}`).join("&")}function _s(ft){return[{provide:In,useFactory:()=>((0,n.ngT)("NgHttpTransferCache"),{isCacheActive:!0,...ft})},{provide:et,useValue:hn,multi:!0,deps:[n.pJN,In]},{provide:n.iLQ,multi:!0,useFactory:()=>{const Ye=(0,n.WQX)(n.o8S),Et=(0,n.WQX)(In);return()=>{(0,n.zuW)(Ye).then(()=>{Et.isCacheActive=!1})}}}]}},53107:(B,D,t)=>{"use strict";function n(r,o){return Object.is(r,o)}t.d(D,{bc$:()=>Ng,iLQ:()=>N,sZ2:()=>sl,hnV:()=>a,o8S:()=>Qt,BIS:()=>vd,gRc:()=>TA,Ql9:()=>Tr,OM3:()=>Su,Ocv:()=>Ys,abz:()=>Ue,Z63:()=>mr,aKT:()=>cf,uvJ:()=>ci,zcH:()=>yl,bkB:()=>rc,y_5:()=>zr,$GK:()=>Ut,nKC:()=>mt,zZn:()=>Na,_q3:()=>hP,MKu:()=>pP,xe9:()=>Ms,Co$:()=>fm,Vns:()=>Fd,SKi:()=>Wr,Xx1:()=>Co,Agw:()=>Gl,PLl:()=>xg,rOR:()=>df,sFG:()=>_O,_9s:()=>h_,czy:()=>xf,WPN:()=>Td,kdw:()=>ot,C4Q:()=>qh,NYb:()=>aP,giA:()=>jv,pJN:()=>Oh,RxE:()=>Bv,c1b:()=>rm,gXe:()=>Xr,mal:()=>Hy,Af3:()=>_e,tdH:()=>EO,L39:()=>J2,EWP:()=>q2,a0P:()=>rw,Ol2:()=>B_,w6W:()=>PR,QZP:()=>t2,SmG:()=>o2,Rfq:()=>gt,oKB:()=>wa,WQX:()=>Ps,naY:()=>r2,Hps:()=>T_,QuC:()=>jo,EmA:()=>Ro,zw6:()=>lc,v7R:()=>aw,Udg:()=>Q2,HJs:()=>ow,N4e:()=>Jo,vPA:()=>pE,O8t:()=>ew,An2:()=>Ld,H3F:()=>JC,H8p:()=>Sn,KH2:()=>bc,TgB:()=>xu,wOt:()=>at,WHO:()=>tb,e01:()=>nb,lNU:()=>it,h9k:()=>If,$MX:()=>Of,ZF7:()=>Dd,Kcf:()=>HD,e5t:()=>wh,UyX:()=>YD,cWb:()=>zD,osQ:()=>XD,H5H:()=>lv,Zy3:()=>Yt,mq5:()=>b1,JZv:()=>mn,TL3:()=>x2,LfX:()=>fs,plB:()=>ol,jNT:()=>p,zjR:()=>C,ngT:()=>Pl,TL$:()=>UD,Tbb:()=>rn,zUL:()=>Lt,rcV:()=>pc,zuW:()=>Nn,M8M:()=>U2,Vt3:()=>dm,Mj6:()=>kr,GFd:()=>PE,OA$:()=>Zl,Jv_:()=>DC,aNF:()=>Sv,R7$:()=>uy,BMQ:()=>Gu,HbH:()=>r1,ZvI:()=>h1,STu:()=>Pp,ZBM:()=>p1,AVh:()=>Xu,wni:()=>oC,VBU:()=>Bo,FsC:()=>Aa,jDH:()=>yn,G2t:()=>Un,$C:()=>ra,EJ8:()=>Po,rXU:()=>Du,nrm:()=>av,eu8:()=>nd,bVm:()=>Um,qex:()=>Bm,k0s:()=>Nm,j41:()=>xm,RV6:()=>jm,xGo:()=>t0,Mr5:()=>Ju,pXf:()=>Y1,nnv:()=>Ym,uP7:()=>_v,KVO:()=>rr,kS0:()=>rf,QTQ:()=>Tu,bIt:()=>X1,lsd:()=>cC,XpG:()=>Z1,nI1:()=>LC,bMT:()=>xC,i5U:()=>NC,brH:()=>FC,SdG:()=>Jm,NAR:()=>q1,Y8G:()=>tv,FS9:()=>yv,Mz_:()=>Qm,FCK:()=>Zm,lJ4:()=>Rv,eq3:()=>fS,l_i:()=>mS,sMw:()=>MC,ziG:()=>IC,mGM:()=>lC,sdS:()=>dC,Njj:()=>zp,EBC:()=>W0,tSv:()=>$0,eBV:()=>Sc,npT:()=>U0,f$h:()=>Hg,B4B:()=>vo,n$t:()=>j0,xc7:()=>sv,DNE:()=>vc,C5r:()=>BC,EFF:()=>gC,JRh:()=>bv,SpI:()=>qm,Lme:()=>Dv,E5c:()=>Tv,LHq:()=>vC,DH7:()=>dS,mxI:()=>yC,R50:()=>Ov,GBs:()=>aC}),t(73014);let c=null,e=!1,f=1;const g=Symbol("SIGNAL");function d(r){const o=c;return c=r,o}const b={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function O(r){if(e)throw new Error("");if(null===c)return;c.consumerOnSignalRead(r);const o=c.nextProducerIndex++;x(c),o<c.producerNode.length&&c.producerNode[o]!==r&&j(c)&&$(c.producerNode[o],c.producerIndexOfThis[o]),c.producerNode[o]!==r&&(c.producerNode[o]=r,c.producerIndexOfThis[o]=j(c)?F(r,c,o):0),c.producerLastReadVersion[o]=r.version}function T(r){if((!j(r)||r.dirty)&&(r.dirty||r.lastCleanEpoch!==f)){if(!r.producerMustRecompute(r)&&!M(r))return r.dirty=!1,void(r.lastCleanEpoch=f);r.producerRecomputeValue(r),r.dirty=!1,r.lastCleanEpoch=f}}function R(r){if(void 0===r.liveConsumerNode)return;const o=e;e=!0;try{for(const l of r.liveConsumerNode)l.dirty||w(l)}finally{e=o}}function u(){return!1!==c?.consumerAllowSignalWrites}function w(r){r.dirty=!0,R(r),r.consumerMarkedDirty?.(r)}function v(r){return r&&(r.nextProducerIndex=0),d(r)}function S(r,o){if(d(o),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(j(r))for(let l=r.nextProducerIndex;l<r.producerNode.length;l++)$(r.producerNode[l],r.producerIndexOfThis[l]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function M(r){x(r);for(let o=0;o<r.producerNode.length;o++){const l=r.producerNode[o],m=r.producerLastReadVersion[o];if(m!==l.version||(T(l),m!==l.version))return!0}return!1}function L(r){if(x(r),j(r))for(let o=0;o<r.producerNode.length;o++)$(r.producerNode[o],r.producerIndexOfThis[o]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function F(r,o,l){if(G(r),x(r),0===r.liveConsumerNode.length)for(let m=0;m<r.producerNode.length;m++)r.producerIndexOfThis[m]=F(r.producerNode[m],r,m);return r.liveConsumerIndexOfThis.push(l),r.liveConsumerNode.push(o)-1}function $(r,o){if(G(r),x(r),1===r.liveConsumerNode.length)for(let m=0;m<r.producerNode.length;m++)$(r.producerNode[m],r.producerIndexOfThis[m]);const l=r.liveConsumerNode.length-1;if(r.liveConsumerNode[o]=r.liveConsumerNode[l],r.liveConsumerIndexOfThis[o]=r.liveConsumerIndexOfThis[l],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,o<r.liveConsumerNode.length){const m=r.liveConsumerIndexOfThis[o],P=r.liveConsumerNode[o];x(P),P.producerIndexOfThis[m]=o}}function j(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function x(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function G(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}const V=Symbol("UNSET"),X=Symbol("COMPUTING"),K=Symbol("ERRORED"),ae={...b,value:V,dirty:!0,error:null,equal:n,producerMustRecompute:r=>r.value===V||r.value===X,producerRecomputeValue(r){if(r.value===X)throw new Error("Detected cycle in computations.");const o=r.value;r.value=X;const l=v(r);let m;try{m=r.computation()}catch(P){m=K,r.error=P}finally{S(r,l)}o!==V&&o!==K&&m!==K&&r.equal(o,m)?r.value=o:(r.value=m,r.version++)}};let J=function Q(){throw new Error};function z(){J()}let ee=null;function le(r,o){u()||z(),r.equal(r.value,o)||(r.value=o,function re(r){r.version++,function I(){f++}(),R(r),ee?.()}(r))}const pe={...b,equal:n,value:void 0};const fe=()=>{},Ie={...b,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{null!==r.schedule&&r.schedule(r.ref)},hasRun:!1,cleanupFn:fe};var qe=t(18447),we=t(85710),Be=t(71217),Ve=t(47947),et=t(1703);const it="https://g.co/ng/security#xss";class at extends Error{constructor(o,l){super(Yt(o,l)),this.code=o}}function Yt(r,o){return`NG0${Math.abs(r)}${o?": "+o:""}`}function ke(r){return{toString:r}.toString()}const Bt="__parameters__";function $t(r,o,l){return ke(()=>{const m=function It(r){return function(...l){if(r){const m=r(...l);for(const P in m)this[P]=m[P]}}}(o);function P(...U){if(this instanceof P)return m.apply(this,U),this;const H=new P(...U);return te.annotation=H,te;function te(ge,xe,tt){const Tt=ge.hasOwnProperty(Bt)?ge[Bt]:Object.defineProperty(ge,Bt,{value:[]})[Bt];for(;Tt.length<=tt;)Tt.push(null);return(Tt[tt]=Tt[tt]||[]).push(H),ge}}return l&&(P.prototype=Object.create(l.prototype)),P.prototype.ngMetadataName=r,P.annotationCls=P,P})}const mn=globalThis;function Mn(r){for(let o in r)if(r[o]===Mn)return o;throw Error("Could not find renamed property on target object.")}function xs(r,o){for(const l in o)o.hasOwnProperty(l)&&!r.hasOwnProperty(l)&&(r[l]=o[l])}function rn(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(rn).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const o=r.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function Dn(r,o){return null==r||""===r?null===o?"":o:null==o||""===o?r:r+" "+o}function Lt(r,o=100){if(!r||o<1||r.length<=o)return r;if(1==o)return r.substring(0,1)+"...";const l=Math.round(o/2);return r.substring(0,l)+"..."+r.substring(r.length-l)}const zt=Mn({__forward_ref__:Mn});function gt(r){return r.__forward_ref__=gt,r.toString=function(){return rn(this())},r}function Ke(r){return Ze(r)?r():r}function Ze(r){return"function"==typeof r&&r.hasOwnProperty(zt)&&r.__forward_ref__===gt}function Ot(r,o,l){r!=o&&function lt(r,o,l,m){throw new Error(`ASSERTION ERROR: ${r}`+(null==m?"":` [Expected=> ${l} ${m} ${o} <=Actual]`))}(l,r,o,"==")}function yn(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Un(r){return{providers:r.providers||[],imports:r.imports||[]}}function ns(r){return Zn(r,ft)||Zn(r,Et)}function fs(r){return null!==ns(r)}function Zn(r,o){return r.hasOwnProperty(o)?r[o]:null}function Ds(r){return r&&(r.hasOwnProperty(Ye)||r.hasOwnProperty(ut))?r[Ye]:null}const ft=Mn({\u0275prov:Mn}),Ye=Mn({\u0275inj:Mn}),Et=Mn({ngInjectableDef:Mn}),ut=Mn({ngInjectorDef:Mn});class mt{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=yn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ss(r){return r&&!!r.\u0275providers}const Hs=Mn({\u0275cmp:Mn}),gi=Mn({\u0275dir:Mn}),Xi=Mn({\u0275pipe:Mn}),sr=Mn({\u0275mod:Mn}),Ji=Mn({\u0275fac:Mn}),Hr=Mn({__NG_ELEMENT_ID__:Mn}),cr=Mn({__NG_ENV_ID__:Mn});function gs(r){return"string"==typeof r?r:null==r?"":String(r)}function Kt(r,o){throw new at(-201,!1)}var Ut=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Ut||{});let Cn;function kn(){return Cn}function cs(r){const o=Cn;return Cn=r,o}function ai(r,o,l){const m=ns(r);return m&&"root"==m.providedIn?void 0===m.value?m.value=m.factory():m.value:l&Ut.Optional?null:void 0!==o?o:void Kt()}const li={},xi="__NG_DI_FLAG__",ao="ngTempTokenPath",wr=/\n/gm,lo="__source";let jr;function Ri(r){const o=jr;return jr=r,o}function No(r,o=Ut.Default){if(void 0===jr)throw new at(-203,!1);return null===jr?ai(r,void 0,o):jr.get(r,o&Ut.Optional?null:void 0,o)}function rr(r,o=Ut.Default){return(kn()||No)(Ke(r),o)}function Ps(r,o=Ut.Default){return rr(r,sa(o))}function sa(r){return typeof r>"u"||"number"==typeof r?r:(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function So(r){const o=[];for(let l=0;l<r.length;l++){const m=Ke(r[l]);if(Array.isArray(m)){if(0===m.length)throw new at(900,!1);let P,U=Ut.Default;for(let H=0;H<m.length;H++){const te=m[H],ge=uo(te);"number"==typeof ge?-1===ge?P=te.token:U|=ge:P=te}o.push(rr(P,U))}else o.push(rr(m))}return o}function Er(r,o){return r[xi]=o,r.prototype[xi]=o,r}function uo(r){return r[xi]}const zr=Er($t("Inject",r=>({token:r})),-1),Co=Er($t("Optional"),8),ot=Er($t("SkipSelf"),4);function Rt(r,o){return r.hasOwnProperty(Ji)?r[Ji]:null}function Jn(r,o){r.forEach(l=>Array.isArray(l)?Jn(l,o):o(l))}function bs(r,o,l){o>=r.length?r.push(l):r.splice(o,0,l)}function us(r,o){return o>=r.length-1?r.pop():r.splice(o,1)[0]}function $s(r,o,l){let m=Cr(r,o);return m>=0?r[1|m]=l:(m=~m,function Gs(r,o,l,m){let P=r.length;if(P==o)r.push(l,m);else if(1===P)r.push(m,r[0]),r[0]=l;else{for(P--,r.push(r[P-1],r[P]);P>o;)r[P]=r[P-2],P--;r[o]=l,r[o+1]=m}}(r,m,o,l)),m}function Gi(r,o){const l=Cr(r,o);if(l>=0)return r[1|l]}function Cr(r,o){return function ho(r,o,l){let m=0,P=r.length>>l;for(;P!==m;){const U=m+(P-m>>1),H=r[U<<l];if(o===H)return U<<l;H>o?P=U:m=U+1}return~(P<<l)}(r,o,1)}const $i={},Js=[],mr=new mt(""),br=new mt("",-1),gr=new mt("");class Dr{get(o,l=li){if(l===li){const m=new Error(`NullInjectorError: No provider for ${rn(o)}!`);throw m.name="NullInjectorError",m}return l}}var Yo=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Yo||{}),Xr=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(Xr||{}),kr=function(r){return r[r.None=0]="None",r[r.SignalBased=1]="SignalBased",r[r.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",r}(kr||{});function pa(r,o,l){let m=r.length;for(;;){const P=r.indexOf(o,l);if(-1===P)return P;if(0===P||r.charCodeAt(P-1)<=32){const U=o.length;if(P+U===m||r.charCodeAt(P+U)<=32)return P}l=P+1}}function Ge(r,o,l){let m=0;for(;m<l.length;){const P=l[m];if("number"==typeof P){if(0!==P)break;m++;const U=l[m++],H=l[m++],te=l[m++];r.setAttribute(o,H,te,U)}else{const U=P,H=l[++m];se(U)?r.setProperty(o,U,H):r.setAttribute(o,U,H),m++}}return m}function Xe(r){return 3===r||4===r||6===r}function se(r){return 64===r.charCodeAt(0)}function $e(r,o){if(null!==o&&0!==o.length)if(null===r||0===r.length)r=o.slice();else{let l=-1;for(let m=0;m<o.length;m++){const P=o[m];"number"==typeof P?l=P:0===l||me(r,l,P,null,-1===l||2===l?o[++m]:null)}}return r}function me(r,o,l,m,P){let U=0,H=r.length;if(-1===o)H=-1;else for(;U<r.length;){const te=r[U++];if("number"==typeof te){if(te===o){H=-1;break}if(te>o){H=U-1;break}}}for(;U<r.length;){const te=r[U];if("number"==typeof te)break;if(te===l){if(null===m)return void(null!==P&&(r[U+1]=P));if(m===r[U+1])return void(r[U+2]=P)}U++,null!==m&&U++,null!==P&&U++}-1!==H&&(r.splice(H,0,o),U=H+1),r.splice(U++,0,l),null!==m&&r.splice(U++,0,m),null!==P&&r.splice(U++,0,P)}const bt="ng-template";function kt(r,o,l,m){let P=0;if(m){for(;P<o.length&&"string"==typeof o[P];P+=2)if("class"===o[P]&&-1!==pa(o[P+1].toLowerCase(),l,0))return!0}else if(pn(r))return!1;if(P=o.indexOf(1,P),P>-1){let U;for(;++P<o.length&&"string"==typeof(U=o[P]);)if(U.toLowerCase()===l)return!0}return!1}function pn(r){return 4===r.type&&r.value!==bt}function Hn(r,o,l){return o===(4!==r.type||l?r.value:bt)}function ss(r,o,l){let m=4;const P=r.attrs,U=null!==P?function Ci(r){for(let o=0;o<r.length;o++)if(Xe(r[o]))return o;return r.length}(P):0;let H=!1;for(let te=0;te<o.length;te++){const ge=o[te];if("number"!=typeof ge){if(!H)if(4&m){if(m=2|1&m,""!==ge&&!Hn(r,ge,l)||""===ge&&1===o.length){if(ys(m))return!1;H=!0}}else if(8&m){if(null===P||!kt(r,P,ge,l)){if(ys(m))return!1;H=!0}}else{const xe=o[++te],tt=ji(ge,P,pn(r),l);if(-1===tt){if(ys(m))return!1;H=!0;continue}if(""!==xe){let Tt;if(Tt=tt>U?"":P[tt+1].toLowerCase(),2&m&&xe!==Tt){if(ys(m))return!1;H=!0}}}}else{if(!H&&!ys(m)&&!ys(ge))return!1;if(H&&ys(ge))continue;H=!1,m=ge|1&m}}return ys(m)||H}function ys(r){return!(1&r)}function ji(r,o,l,m){if(null===o)return-1;let P=0;if(m||!l){let U=!1;for(;P<o.length;){const H=o[P];if(H===r)return P;if(3===H||6===H)U=!0;else{if(1===H||2===H){let te=o[++P];for(;"string"==typeof te;)te=o[++P];continue}if(4===H)break;if(0===H){P+=4;continue}}P+=U?1:2}return-1}return function ia(r,o){let l=r.indexOf(4);if(l>-1)for(l++;l<r.length;){const m=r[l];if("number"==typeof m)return-1;if(m===o)return l;l++}return-1}(o,r)}function Ni(r,o,l=!1){for(let m=0;m<o.length;m++)if(ss(r,o[m],l))return!0;return!1}function Fo(r,o){e:for(let l=0;l<o.length;l++){const m=o[l];if(r.length===m.length){for(let P=0;P<r.length;P++)if(r[P]!==m[P])continue e;return!0}}return!1}function Pa(r,o){return r?":not("+o.trim()+")":o}function bo(r){let o=r[0],l=1,m=2,P="",U=!1;for(;l<r.length;){let H=r[l];if("string"==typeof H)if(2&m){const te=r[++l];P+="["+H+(te.length>0?'="'+te+'"':"")+"]"}else 8&m?P+="."+H:4&m&&(P+=" "+H);else""!==P&&!ys(H)&&(o+=Pa(U,P),P=""),m=H,U=U||!ys(m);l++}return""!==P&&(o+=Pa(U,P)),o}function Bo(r){return ke(()=>{const o=$a(r),l={...o,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Yo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||Xr.Emulated,styles:r.styles||Js,_:null,schemas:r.schemas||null,tView:null,id:""};oa(l);const m=r.dependencies;return l.directiveDefs=po(m,!1),l.pipeDefs=po(m,!0),l.id=function Wa(r){let o=0;const l=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const P of l)o=Math.imul(31,o)+P.charCodeAt(0)|0;return o+=2147483648,"c"+o}(l),l})}function Ra(r){return vs(r)||Wi(r)}function fa(r){return null!==r}function ra(r){return ke(()=>({type:r.type,bootstrap:r.bootstrap||Js,declarations:r.declarations||Js,imports:r.imports||Js,exports:r.exports||Js,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Uo(r,o){if(null==r)return $i;const l={};for(const m in r)if(r.hasOwnProperty(m)){const P=r[m];let U,H,te=kr.None;Array.isArray(P)?(te=P[0],U=P[1],H=P[2]??U):(U=P,H=P),o?(l[U]=te!==kr.None?[m,te]:m,o[U]=H):l[U]=m}return l}function Aa(r){return ke(()=>{const o=$a(r);return oa(o),o})}function Po(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function vs(r){return r[Hs]||null}function Wi(r){return r[gi]||null}function Qi(r){return r[Xi]||null}function jo(r){const o=vs(r)||Wi(r)||Qi(r);return null!==o&&o.standalone}function Ts(r,o){const l=r[sr]||null;if(!l&&!0===o)throw new Error(`Type ${rn(r)} does not have '\u0275mod' property.`);return l}function $a(r){const o={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:r.inputs||$i,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||Js,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Uo(r.inputs,o),outputs:Uo(r.outputs),debugInfo:null}}function oa(r){r.features?.forEach(o=>o(r))}function po(r,o){if(!r)return null;const l=o?Qi:Ra;return()=>("function"==typeof r?r():r).map(m=>l(m)).filter(fa)}function Ro(r){return{\u0275providers:r}}function wa(...r){return{\u0275providers:Lr(0,r),\u0275fromNgModule:!0}}function Lr(r,...o){const l=[],m=new Set;let P;const U=H=>{l.push(H)};return Jn(o,H=>{const te=H;La(te,U,[],m)&&(P||=[],P.push(te))}),void 0!==P&&eo(P,U),l}function eo(r,o){for(let l=0;l<r.length;l++){const{ngModule:m,providers:P}=r[l];Rs(P,U=>{o(U,m)})}}function La(r,o,l,m){if(!(r=Ke(r)))return!1;let P=null,U=Ds(r);const H=!U&&vs(r);if(U||H){if(H&&!H.standalone)return!1;P=r}else{const ge=r.ngModule;if(U=Ds(ge),!U)return!1;P=ge}const te=m.has(P);if(H){if(te)return!1;if(m.add(P),H.dependencies){const ge="function"==typeof H.dependencies?H.dependencies():H.dependencies;for(const xe of ge)La(xe,o,l,m)}}else{if(!U)return!1;{if(null!=U.imports&&!te){let xe;m.add(P);try{Jn(U.imports,tt=>{La(tt,o,l,m)&&(xe||=[],xe.push(tt))})}finally{}void 0!==xe&&eo(xe,o)}if(!te){const xe=Rt(P)||(()=>new P);o({provide:P,useFactory:xe,deps:Js},P),o({provide:gr,useValue:P,multi:!0},P),o({provide:mr,useValue:()=>rr(P),multi:!0},P)}const ge=U.providers;if(null!=ge&&!te){const xe=r;Rs(ge,tt=>{o(tt,xe)})}}}return P!==r&&void 0!==r.providers}function Rs(r,o){for(let l of r)Ss(l)&&(l=l.\u0275providers),Array.isArray(l)?Rs(l,o):o(l)}const hl=Mn({provide:String,useValue:Mn});function pl(r){return null!==r&&"object"==typeof r&&hl in r}function Jt(r){return"function"==typeof r}const Sn=new mt(""),qn={},Ht={};let ts;function Gn(){return void 0===ts&&(ts=new Dr),ts}class ci{}class bi extends ci{get destroyed(){return this._destroyed}constructor(o,l,m,P){super(),this.parent=l,this.source=m,this.scopes=P,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mr(o,H=>this.processProvider(H)),this.records.set(br,Ki(void 0,this)),P.has("environment")&&this.records.set(ci,Ki(void 0,this));const U=this.records.get(Sn);null!=U&&"string"==typeof U.value&&this.scopes.add(U.value),this.injectorDefTypes=new Set(this.get(gr,Js,Ut.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const o=d(null);try{for(const m of this._ngOnDestroyHooks)m.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const m of l)m()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),d(o)}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const l=Ri(this),m=cs(void 0);try{return o()}finally{Ri(l),cs(m)}}get(o,l=li,m=Ut.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(cr))return o[cr](this);m=sa(m);const U=Ri(this),H=cs(void 0);try{if(!(m&Ut.SkipSelf)){let ge=this.records.get(o);if(void 0===ge){const xe=function Ka(r){return"function"==typeof r||"object"==typeof r&&r instanceof mt}(o)&&ns(o);ge=xe&&this.injectableDefInScope(xe)?Ki(zs(o),qn):null,this.records.set(o,ge)}if(null!=ge)return this.hydrate(o,ge)}return(m&Ut.Self?Gn():this.parent).get(o,l=m&Ut.Optional&&l===li?null:l)}catch(te){if("NullInjectorError"===te.name){if((te[ao]=te[ao]||[]).unshift(rn(o)),U)throw te;return function zo(r,o,l,m){const P=r[ao];throw o[lo]&&P.unshift(o[lo]),r.message=function Eo(r,o,l,m=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let P=rn(o);if(Array.isArray(o))P=o.map(rn).join(" -> ");else if("object"==typeof o){let U=[];for(let H in o)if(o.hasOwnProperty(H)){let te=o[H];U.push(H+":"+("string"==typeof te?JSON.stringify(te):rn(te)))}P=`{${U.join(", ")}}`}return`${l}${m?"("+m+")":""}[${P}]: ${r.replace(wr,"\n  ")}`}("\n"+r.message,P,l,m),r.ngTokenPath=P,r[ao]=null,r}(te,o,"R3InjectorError",this.source)}throw te}finally{cs(H),Ri(U)}}resolveInjectorInitializers(){const o=d(null),l=Ri(this),m=cs(void 0);try{const U=this.get(mr,Js,Ut.Self);for(const H of U)H()}finally{Ri(l),cs(m),d(o)}}toString(){const o=[],l=this.records;for(const m of l.keys())o.push(rn(m));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new at(205,!1)}processProvider(o){let l=Jt(o=Ke(o))?o:Ke(o&&o.provide);const m=function Di(r){return pl(r)?Ki(void 0,r.useValue):Ki(Zi(r),qn)}(o);if(!Jt(o)&&!0===o.multi){let P=this.records.get(l);P||(P=Ki(void 0,qn,!0),P.factory=()=>So(P.multi),this.records.set(l,P)),l=o,P.multi.push(o)}this.records.set(l,m)}hydrate(o,l){const m=d(null);try{return l.value===qn&&(l.value=Ht,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Or(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}finally{d(m)}}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Ke(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(o){const l=this._onDestroyHooks.indexOf(o);-1!==l&&this._onDestroyHooks.splice(l,1)}}function zs(r){const o=ns(r),l=null!==o?o.factory:Rt(r);if(null!==l)return l;if(r instanceof mt)throw new at(204,!1);if(r instanceof Function)return function Fi(r){if(r.length>0)throw new at(204,!1);const l=function _s(r){return r&&(r[ft]||r[Et])||null}(r);return null!==l?()=>l.factory(r):()=>new r}(r);throw new at(204,!1)}function Zi(r,o,l){let m;if(Jt(r)){const P=Ke(r);return Rt(P)||zs(P)}if(pl(r))m=()=>Ke(r.useValue);else if(function Nt(r){return!(!r||!r.useFactory)}(r))m=()=>r.useFactory(...So(r.deps||[]));else if(function Xo(r){return!(!r||!r.useExisting)}(r))m=()=>rr(Ke(r.useExisting));else{const P=Ke(r&&(r.useClass||r.provide));if(!function Kn(r){return!!r.deps}(r))return Rt(P)||zs(P);m=()=>new P(...So(r.deps))}return m}function Ki(r,o,l=!1){return{factory:r,value:o,multi:l?[]:void 0}}function Mr(r,o){for(const l of r)Array.isArray(l)?Mr(l,o):l&&Ss(l)?Mr(l.\u0275providers,o):o(l)}function Jo(r,o){r instanceof bi&&r.assertNotDestroyed();const m=Ri(r),P=cs(void 0);try{return o()}finally{Ri(m),cs(P)}}function ma(){return void 0!==kn()||null!=function co(){return jr}()}function _e(r){if(!ma())throw new at(-203,!1)}const pi=0,$n=1,ms=2,Ti=3,_r=4,ur=5,xr=6,Ir=7,Pi=8,Hi=9,fo=10,Us=11,Qo=12,_a=13,Do=14,ar=15,Ha=16,fl=17,hr=18,Sr=19,ad=20,za=21,Dc=22,ko=23,Fn=25,va=1,ml=6,Zo=7,Ya=9,ki=10;var Ql=function(r){return r[r.None=0]="None",r[r.HasTransplantedViews=2]="HasTransplantedViews",r}(Ql||{});function Pr(r){return Array.isArray(r)&&"object"==typeof r[va]}function Rr(r){return Array.isArray(r)&&!0===r[va]}function ya(r){return!!(4&r.flags)}function Ao(r){return r.componentOffset>-1}function Xa(r){return!(1&~r.flags)}function Jr(r){return!!r.template}function wl(r){return!!(512&r[ms])}class Oc{constructor(o,l,m){this.previousValue=o,this.currentValue=l,this.firstChange=m}isFirstChange(){return this.firstChange}}function wo(r,o,l,m){null!==o?o.applyValueToInputSignal(o,m):r[l]=m}function Zl(){return ql}function ql(r){return r.type.prototype.ngOnChanges&&(r.setInput=ld),ec}function ec(){const r=Qd(this),o=r?.current;if(o){const l=r.previous;if(l===$i)r.previous=o;else for(let m in o)l[m]=o[m];r.current=null,this.ngOnChanges(o)}}function ld(r,o,l,m,P){const U=this.declaredInputs[m],H=Qd(r)||function dg(r,o){return r[Jd]=o}(r,{previous:$i,current:null}),te=H.current||(H.current={}),ge=H.previous,xe=ge[U];te[U]=new Oc(xe&&xe.currentValue,l,ge===$i),wo(r,o,P,l)}Zl.ngInherit=!0;const Jd="__ngSimpleChanges__";function Qd(r){return r[Jd]||null}const Es=function(r,o,l){};let dd=!1;function lr(r){for(;Array.isArray(r);)r=r[pi];return r}function ii(r,o){return lr(o[r])}function Nr(r,o){return lr(o[r.index])}function _l(r,o){return r.data[o]}function ud(r,o){return r[o]}function Fr(r,o){const l=o[r];return Pr(l)?l:l[pi]}function ws(r){return!(128&~r[ms])}function Xs(r,o){return null==o?null:r[o]}function go(r){r[fl]=0}function tc(r){1024&r[ms]||(r[ms]|=1024,ws(r)&&qa(r))}function Ll(r){return!!(9216&r[ms]||r[ko]?.dirty)}function uh(r){r[fo].changeDetectionScheduler?.notify(1),Ll(r)?qa(r):64&r[ms]&&(function mo(){return dd}()?(r[ms]|=1024,qa(r)):r[fo].changeDetectionScheduler?.notify())}function qa(r){r[fo].changeDetectionScheduler?.notify();let o=xl(r);for(;null!==o&&!(8192&o[ms])&&(o[ms]|=8192,ws(o));)o=xl(o)}function qd(r,o){if(!(256&~r[ms]))throw new at(911,!1);null===r[za]&&(r[za]=[]),r[za].push(o)}function xl(r){const o=r[Ti];return Rr(o)?o[Ti]:o}const ei={lFrame:to(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ea(){return ei.bindingsEnabled}function hd(){return null!==ei.skipHydrationRootTNode}function Tn(){return ei.lFrame.lView}function _i(){return ei.lFrame.tView}function Sc(r){return ei.lFrame.contextLView=r,r[Pi]}function zp(r){return ei.lFrame.contextLView=null,r}function ti(){let r=tu();for(;null!==r&&64===r.type;)r=r.parent;return r}function tu(){return ei.lFrame.currentTNode}function nc(){const r=ei.lFrame,o=r.currentTNode;return r.isParent?o:o.parent}function xa(r,o){const l=ei.lFrame;l.currentTNode=r,l.isParent=o}function Nl(){return ei.lFrame.isParent}function fh(){ei.lFrame.isParent=!1}function Vo(){const r=ei.lFrame;let o=r.bindingRootIndex;return-1===o&&(o=r.bindingRootIndex=r.tView.bindingStartIndex),o}function k(){return ei.lFrame.bindingIndex}function A(){return ei.lFrame.bindingIndex++}function W(r){const o=ei.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+r,l}function Fe(r){ei.lFrame.inI18n=r}function Vt(r,o){const l=ei.lFrame;l.bindingIndex=l.bindingRootIndex=r,vn(o)}function vn(r){ei.lFrame.currentDirectiveIndex=r}function es(){return ei.lFrame.currentQueryIndex}function Ls(r){ei.lFrame.currentQueryIndex=r}function hs(r){const o=r[$n];return 2===o.type?o.declTNode:1===o.type?r[ur]:null}function js(r,o,l){if(l&Ut.SkipSelf){let P=o,U=r;for(;!(P=P.parent,null!==P||l&Ut.Host||(P=hs(U),null===P||(U=U[Do],10&P.type))););if(null===P)return!1;o=P,r=U}const m=ei.lFrame=er();return m.currentTNode=o,m.lView=r,!0}function wi(r){const o=er(),l=r[$n];ei.lFrame=o,o.currentTNode=l.firstChild,o.lView=r,o.tView=l,o.contextLView=r,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function er(){const r=ei.lFrame,o=null===r?null:r.child;return null===o?to(r):o}function to(r){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=o),o}function Go(){const r=ei.lFrame;return ei.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const _o=Go;function nu(){const r=Go();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function no(){return ei.lFrame.selectedIndex}function Fl(r){ei.lFrame.selectedIndex=r}function pr(){const r=ei.lFrame;return _l(r.tView,r.selectedIndex)}function CD(){return ei.lFrame.currentNamespace}let Kv=!0;function gh(){return Kv}function Bl(r){Kv=r}function Xp(r,o){for(let l=o.directiveStart,m=o.directiveEnd;l<m;l++){const U=r.data[l].type.prototype,{ngAfterContentInit:H,ngAfterContentChecked:te,ngAfterViewInit:ge,ngAfterViewChecked:xe,ngOnDestroy:tt}=U;H&&(r.contentHooks??=[]).push(-l,H),te&&((r.contentHooks??=[]).push(l,te),(r.contentCheckHooks??=[]).push(l,te)),ge&&(r.viewHooks??=[]).push(-l,ge),xe&&((r.viewHooks??=[]).push(l,xe),(r.viewCheckHooks??=[]).push(l,xe)),null!=tt&&(r.destroyHooks??=[]).push(l,tt)}}function Jp(r,o,l){su(r,o,3,l)}function Qp(r,o,l,m){(3&r[ms])===l&&su(r,o,l,m)}function Os(r,o){let l=r[ms];(3&l)===o&&(l&=16383,l+=1,r[ms]=l)}function su(r,o,l,m){const U=m??-1,H=o.length-1;let te=0;for(let ge=void 0!==m?65535&r[fl]:0;ge<H;ge++)if("number"==typeof o[ge+1]){if(te=o[ge],null!=m&&te>=m)break}else o[ge]<0&&(r[fl]+=65536),(te<U||-1==U)&&(mg(r,l,o,ge),r[fl]=(4294901760&r[fl])+ge+2),ge++}function iu(r,o){Es(4,r,o);const l=d(null);try{o.call(r)}finally{d(l),Es(5,r,o)}}function mg(r,o,l,m){const P=l[m]<0,U=l[m+1],te=r[P?-l[m]:l[m]];P?r[ms]>>14<r[fl]>>16&&(3&r[ms])===o&&(r[ms]+=16384,iu(te,U)):iu(te,U)}const ic=-1;class pd{constructor(o,l,m){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=m}}function _g(r){return r!==ic}function hi(r){return 32767&r}function _h(r,o){let l=function TD(r){return r>>16}(r),m=o;for(;l>0;)m=m[Do],l--;return m}let vg=!0;function ef(r){const o=vg;return vg=r,o}const zv=255,Yv=5;let Xv=0;const Ca={};function vh(r,o){const l=Qv(r,o);if(-1!==l)return l;const m=o[$n];m.firstCreatePass&&(r.injectorIndex=o.length,yg(m.data,r),yg(o,null),yg(m.blueprint,null));const P=nf(r,o),U=r.injectorIndex;if(_g(P)){const H=hi(P),te=_h(P,o),ge=te[$n].data;for(let xe=0;xe<8;xe++)o[U+xe]=te[H+xe]|ge[H+xe]}return o[U+8]=P,U}function yg(r,o){r.push(0,0,0,0,0,0,0,0,o)}function Qv(r,o){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===o[r.injectorIndex+8]?-1:r.injectorIndex}function nf(r,o){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let l=0,m=null,P=o;for(;null!==P;){if(m=n0(P),null===m)return ic;if(l++,P=P[Do],-1!==m.injectorIndex)return m.injectorIndex|l<<16}return ic}function vl(r,o,l){!function Jv(r,o,l){let m;"string"==typeof l?m=l.charCodeAt(0)||0:l.hasOwnProperty(Hr)&&(m=l[Hr]),null==m&&(m=l[Hr]=Xv++);const P=m&zv;o.data[r+(P>>Yv)]|=1<<P}(r,o,l)}function Zv(r,o,l){if(l&Ut.Optional||void 0!==r)return r;Kt()}function ru(r,o,l,m){if(l&Ut.Optional&&void 0===m&&(m=null),!(l&(Ut.Self|Ut.Host))){const P=r[Hi],U=cs(void 0);try{return P?P.get(o,m,l&Ut.Optional):ai(o,m,l&Ut.Optional)}finally{cs(U)}}return Zv(m,0,l)}function qv(r,o,l,m=Ut.Default,P){if(null!==r){if(2048&o[ms]&&!(m&Ut.Self)){const H=function ID(r,o,l,m,P){let U=r,H=o;for(;null!==U&&null!==H&&2048&H[ms]&&!(512&H[ms]);){const te=sf(U,H,l,m|Ut.Self,Ca);if(te!==Ca)return te;let ge=U.parent;if(!ge){const xe=H[ad];if(xe){const tt=xe.get(l,Ca,m);if(tt!==Ca)return tt}ge=n0(H),H=H[Do]}U=ge}return P}(r,o,l,m,Ca);if(H!==Ca)return H}const U=sf(r,o,l,m,Ca);if(U!==Ca)return U}return ru(o,l,m,P)}function sf(r,o,l,m,P){const U=function MD(r){if("string"==typeof r)return r.charCodeAt(0)||0;const o=r.hasOwnProperty(Hr)?r[Hr]:void 0;return"number"==typeof o?o>=0?o&zv:Eg:o}(l);if("function"==typeof U){if(!js(o,r,m))return m&Ut.Host?Zv(P,0,m):ru(o,l,m,P);try{let H;if(H=U(m),null!=H||m&Ut.Optional)return H;Kt()}finally{_o()}}else if("number"==typeof U){let H=null,te=Qv(r,o),ge=ic,xe=m&Ut.Host?o[ar][ur]:null;for((-1===te||m&Ut.SkipSelf)&&(ge=-1===te?nf(r,o):o[te+8],ge!==ic&&e0(m,!1)?(H=o[$n],te=hi(ge),o=_h(ge,o)):te=-1);-1!==te;){const tt=o[$n];if(yh(U,te,tt.data)){const Tt=OD(te,o,l,H,m,xe);if(Tt!==Ca)return Tt}ge=o[te+8],ge!==ic&&e0(m,o[$n].data[te+8]===xe)&&yh(U,te,o)?(H=tt,te=hi(ge),o=_h(ge,o)):te=-1}}return P}function OD(r,o,l,m,P,U){const H=o[$n],te=H.data[r+8],tt=Pc(te,H,l,null==m?Ao(te)&&vg:m!=H&&!!(3&te.type),P&Ut.Host&&U===te);return null!==tt?fd(o,H,tt,te):Ca}function Pc(r,o,l,m,P){const U=r.providerIndexes,H=o.data,te=1048575&U,ge=r.directiveStart,tt=U>>20,Gt=P?te+tt:r.directiveEnd;for(let Xt=m?te:te+tt;Xt<Gt;Xt++){const on=H[Xt];if(Xt<ge&&l===on||Xt>=ge&&on.type===l)return Xt}if(P){const Xt=H[ge];if(Xt&&Jr(Xt)&&Xt.type===l)return ge}return null}function fd(r,o,l,m){let P=r[l];const U=o.data;if(function Hv(r){return r instanceof pd}(P)){const H=P;H.resolving&&function Bi(r,o){throw o&&o.join(" > "),new at(-200,r)}(function Zs(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():gs(r)}(U[l]));const te=ef(H.canSeeViewProviders);H.resolving=!0;const xe=H.injectImpl?cs(H.injectImpl):null;js(r,m,Ut.Default);try{P=r[l]=H.factory(void 0,U,r,m),o.firstCreatePass&&l>=m.directiveStart&&function $P(r,o,l){const{ngOnChanges:m,ngOnInit:P,ngDoCheck:U}=o.type.prototype;if(m){const H=ql(o);(l.preOrderHooks??=[]).push(r,H),(l.preOrderCheckHooks??=[]).push(r,H)}P&&(l.preOrderHooks??=[]).push(0-r,P),U&&((l.preOrderHooks??=[]).push(r,U),(l.preOrderCheckHooks??=[]).push(r,U))}(l,U[l],o)}finally{null!==xe&&cs(xe),ef(te),H.resolving=!1,_o()}}return P}function yh(r,o,l){return!!(l[o+(r>>Yv)]&1<<r)}function e0(r,o){return!(r&Ut.Self||r&Ut.Host&&o)}class vr{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,m){return qv(this._tNode,this._lView,o,sa(m),l)}}function Eg(){return new vr(ti(),Tn())}function t0(r){return ke(()=>{const o=r.prototype.constructor,l=o[Ji]||Cg(o),m=Object.prototype;let P=Object.getPrototypeOf(r.prototype).constructor;for(;P&&P!==m;){const U=P[Ji]||Cg(P);if(U&&U!==l)return U;P=Object.getPrototypeOf(P)}return U=>new U})}function Cg(r){return Ze(r)?()=>{const o=Cg(Ke(r));return o&&o()}:Rt(r)}function n0(r){const o=r[$n],l=o.type;return 2===l?o.declTNode:1===l?r[ur]:null}function rf(r){return function KP(r,o){if("class"===o)return r.classes;if("style"===o)return r.styles;const l=r.attrs;if(l){const m=l.length;let P=0;for(;P<m;){const U=l[P];if(Xe(U))break;if(0===U)P+=2;else if("number"==typeof U)for(P++;P<m&&"string"==typeof l[P];)P++;else{if(U===o)return l[P+1];P+=2}}}return null}(ti(),r)}function Dg(r,o=null,l=null,m){const P=md(r,o,l,m);return P.resolveInjectorInitializers(),P}function md(r,o=null,l=null,m,P=new Set){const U=[l||Js,wa(r)];return m=m||("object"==typeof r?void 0:rn(r)),new bi(U,o||Gn(),m||null,P)}let Na=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=li;static#t=this.NULL=new Dr;static create(l,m){if(Array.isArray(l))return Dg({name:""},m,l,"");{const P=l.name??"";return Dg({name:P},l.parent,l.providers,P)}}static#n=this.\u0275prov=yn({token:r,providedIn:"any",factory:()=>rr(br)});static#s=this.__NG_ELEMENT_ID__=-1}return r})();function Tg(r){return r.ngOriginalError}class yl{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Tg(o);for(;l&&Tg(l);)l=Tg(l);return l||null}}const d0=new mt("",{providedIn:"root",factory:()=>Ps(yl).handleError.bind(void 0)});let Ue=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=ni;static#t=this.__NG_ENV_ID__=l=>l}return r})();class qt extends Ue{constructor(o){super(),this._lView=o}onDestroy(o){return qd(this._lView,o),()=>function hh(r,o){if(null===r[za])return;const l=r[za].indexOf(o);-1!==l&&r[za].splice(l,1)}(this._lView,o)}}function ni(){return new qt(Tn())}function u0(){return el(ti(),Tn())}function el(r,o){return new cf(Nr(r,o))}let cf=(()=>{class r{constructor(l){this.nativeElement=l}static#e=this.__NG_ELEMENT_ID__=u0}return r})();function h0(r){return r instanceof cf?r.nativeElement:r}function cu(r){return o=>{setTimeout(r,void 0,o)}}const rc=class wD extends qe.B{constructor(o=!1){super(),this.destroyRef=void 0,this.__isAsync=o,ma()&&(this.destroyRef=Ps(Ue,{optional:!0})??void 0)}emit(o){const l=d(null);try{super.next(o)}finally{d(l)}}subscribe(o,l,m){let P=o,U=l||(()=>null),H=m;if(o&&"object"==typeof o){const ge=o;P=ge.next?.bind(ge),U=ge.error?.bind(ge),H=ge.complete?.bind(ge)}this.__isAsync&&(U=cu(U),P&&(P=cu(P)),H&&(H=cu(H)));const te=super.subscribe({next:P,error:U,complete:H});return o instanceof we.yU&&o.add(te),te}};function p0(){return this._results[Symbol.iterator]()}class df{static#e=Symbol.iterator;get changes(){return this._changes??=new rc}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const l=df.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=p0)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){this.dirty=!1;const m=function gn(r){return r.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function At(r,o,l){if(r.length!==o.length)return!1;for(let m=0;m<r.length;m++){let P=r[m],U=o[m];if(l&&(P=l(P),U=l(U)),U!==P)return!1}return!0}(this._results,m,l))&&(this._results=m,this.length=m.length,this.last=m[this.length-1],this.first=m[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(o){this._onDirty=o}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}const bh="ngSkipHydration",f0="ngskiphydration";function Rc(r){const o=r.mergedAttrs;if(null===o)return!1;for(let l=0;l<o.length;l+=2){const m=o[l];if("number"==typeof m)return!1;if("string"==typeof m&&m.toLowerCase()===f0)return!0}return!1}function Mg(r){return r.hasAttribute(bh)}function oc(r){return!(128&~r.flags)}const hf=new Map;let YP=0;const Ig="__ngContext__";function qo(r,o){Pr(o)?(r[Ig]=o[Sr],function LD(r){hf.set(r[Sr],r)}(o)):r[Ig]=o}function ac(r){return kl(r[Qo])}function Sg(r){return kl(r[_r])}function kl(r){for(;null!==r&&!Rr(r);)r=r[_r];return r}let Lg;function UD(r){Lg=r}function xc(){if(void 0!==Lg)return Lg;if(typeof document<"u")return document;throw new at(210,!1)}const sl=new mt("",{providedIn:"root",factory:()=>T0}),T0="ng",xg=new mt(""),Gl=new mt("",{providedIn:"platform",factory:()=>"unknown"}),Ng=new mt(""),vd=new mt("",{providedIn:"root",factory:()=>xc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function lc(r){return r}function VD(){const r=new Oh;return"browser"===Ps(Gl)&&(r.store=function GD(r,o){const l=r.getElementById(o+"-state");if(l?.textContent)try{return JSON.parse(l.textContent)}catch(m){console.warn("Exception while restoring TransferState for app "+o,m)}return{}}(xc(),Ps(sl))),r}let Oh=(()=>{class r{constructor(){this.store={},this.onSerializeCallbacks={}}static#e=this.\u0275prov=yn({token:r,providedIn:"root",factory:VD});get(l,m){return void 0!==this.store[l]?this.store[l]:m}set(l,m){this.store[l]=m}remove(l){delete this.store[l]}hasKey(l){return this.store.hasOwnProperty(l)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(l,m){this.onSerializeCallbacks[l]=m}toJson(){for(const l in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(l))try{this.store[l]=this.onSerializeCallbacks[l]()}catch(m){console.warn("Exception in onSerialize callback: ",m)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return r})();const Fg="h",mf="b";var $l=function(r){return r.FirstChild="f",r.NextSibling="n",r}($l||{});const Bg="e",gf="t",Mh="c",Tl="x",yd="r",Ih="i",_f="n",vf="d",jg="__nghData__",Sh="ngh",O0="nghm";let kg=()=>null;function cc(r,o,l=!1){let m=r.getAttribute(Sh);if(null==m)return null;const[P,U]=m.split("|");if(m=l?U:P,!m)return null;const te=l?P:U?`|${U}`:"";let ge={};if(""!==m){const tt=o.get(Oh,null,{optional:!0});null!==tt&&(ge=tt.get(jg,[])[Number(m)])}const xe={data:ge,firstChild:r.firstChild??null};return l&&(xe.firstChild=r,Rh(xe,0,r.nextSibling)),te?r.setAttribute(Sh,te):r.removeAttribute(Sh),xe}function du(r,o,l=!1){return kg(r,o,l)}function Vg(r){let o=r._lView;return 2===o[$n].type?null:(wl(o)&&(o=o[Fn]),o)}function Rh(r,o,l){r.segmentHeads??={},r.segmentHeads[o]=l}function Cf(r,o){return r.segmentHeads?.[o]??null}function I0(r,o){return r.data[Mh]?.[o]??null}function Cd(r,o){const l=I0(r,o)??[];let m=0;for(let P of l)m+=P[yd]*(P[Tl]??1);return m}function bd(r,o){if(typeof r.disconnectedNodes>"u"){const l=r.data[vf];r.disconnectedNodes=l?new Set(l):null}return!!r.disconnectedNodes?.has(o)}const bf=new mt(""),uc=new mt("",{providedIn:"root",factory:()=>!1}),S0=new mt("");let Df,Vn;function hc(r){return function P0(){if(void 0===Df&&(Df=null,mn.trustedTypes))try{Df=mn.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Df}()?.createHTML(r)||r}function Nc(){if(void 0===Vn&&(Vn=null,mn.trustedTypes))try{Vn=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Vn}function Wn(r){return Nc()?.createHTML(r)||r}function Lo(r){return Nc()?.createScriptURL(r)||r}class Vi{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}class Oo extends Vi{getTypeName(){return"HTML"}}class Oi extends Vi{getTypeName(){return"Style"}}class Ah extends Vi{getTypeName(){return"Script"}}class Ur extends Vi{getTypeName(){return"URL"}}class Fc extends Vi{getTypeName(){return"ResourceURL"}}function pc(r){return r instanceof Vi?r.changingThisBreaksApplicationSecurity:r}function Dd(r,o){const l=function KD(r){return r instanceof Vi&&r.getTypeName()||null}(r);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${it})`)}return l===o}function HD(r){return new Oo(r)}function zD(r){return new Oi(r)}function YD(r){return new Ah(r)}function XD(r){return new Ur(r)}function wh(r){return new Fc(r)}function A0(r){const o=new pu(r);return function JD(){try{return!!(new window.DOMParser).parseFromString(hc(""),"text/html")}catch{return!1}}()?new Tf(o):o}class Tf{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(hc(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class pu{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const l=this.inertDocument.createElement("template");return l.innerHTML=hc(o),l}}const w0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Of(r){return(r=String(r)).match(w0)?r:"unsafe:"+r}function fc(r){const o={};for(const l of r.split(","))o[l]=!0;return o}function Lh(...r){const o={};for(const l of r)for(const m in l)l.hasOwnProperty(m)&&(o[m]=!0);return o}const L0=fc("area,br,col,hr,img,wbr"),x0=fc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fu=fc("rp,rt"),ea=Lh(L0,Lh(x0,fc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lh(fu,fc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lh(fu,x0)),il=fc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bc=Lh(il,fc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),QD=fc("script,style,template");class ZD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,m=!0,P=[];for(;l;)if(l.nodeType===Node.ELEMENT_NODE?m=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,m&&l.firstChild)P.push(l),l=tT(l);else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let U=eT(l);if(U){l=U;break}l=P.pop()}return this.buf.join("")}startElement(o){const l=N0(o).toLowerCase();if(!ea.hasOwnProperty(l))return this.sanitizedSomething=!0,!QD.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const m=o.attributes;for(let P=0;P<m.length;P++){const U=m.item(P),H=U.name,te=H.toLowerCase();if(!Bc.hasOwnProperty(te)){this.sanitizedSomething=!0;continue}let ge=U.value;il[te]&&(ge=Of(ge)),this.buf.push(" ",H,'="',B0(ge),'"')}return this.buf.push(">"),!0}endElement(o){const l=N0(o).toLowerCase();ea.hasOwnProperty(l)&&!L0.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(B0(o))}}function eT(r){const o=r.nextSibling;if(o&&r!==o.previousSibling)throw F0(o);return o}function tT(r){const o=r.firstChild;if(o&&function qD(r,o){return(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(r,o))throw F0(o);return o}function N0(r){const o=r.nodeName;return"string"==typeof o?o:"FORM"}function F0(r){return new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`)}const nT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sT=/([^\#-~ |!])/g;function B0(r){return r.replace(/&/g,"&amp;").replace(nT,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(sT,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mf;function If(r,o){let l=null;try{Mf=Mf||A0(r);let m=o?String(o):"";l=Mf.getInertBodyElement(m);let P=5,U=m;do{if(0===P)throw new Error("Failed to sanitize html because the input is unstable");P--,m=U,U=l.innerHTML,l=Mf.getInertBodyElement(m)}while(m!==U);return hc((new ZD).sanitizeChildren(Kg(l)||l))}finally{if(l){const m=Kg(l)||l;for(;m.firstChild;)m.removeChild(m.firstChild)}}}function Kg(r){return"content"in r&&function iT(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Td=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Td||{});function U0(r){const o=Uc();return o?Wn(o.sanitize(Td.HTML,r)||""):Dd(r,"HTML")?Wn(pc(r)):If(xc(),gs(r))}function vo(r){const o=Uc();return o?o.sanitize(Td.URL,r)||"":Dd(r,"URL")?pc(r):Of(gs(r))}function Hg(r){const o=Uc();if(o)return Lo(o.sanitize(Td.RESOURCE_URL,r)||"");if(Dd(r,"ResourceURL"))return Lo(pc(r));throw new at(904,!1)}function j0(r,o,l){return function lT(r,o){return"src"===o&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===o&&("base"===r||"link"===r)?Hg:vo}(o,l)(r)}function Uc(){const r=Tn();return r&&r[fo].sanitizer}const cT=/^>|^->|<!--|-->|--!>|<!-$/g,dT=/(<|>)/g,uT="\u200b$1\u200b";function $0(r){return r.ownerDocument.defaultView}function W0(r){return r.ownerDocument}function Ba(r){return r instanceof Function?r():r}function yo(r){return"browser"===(r??Ps(Na)).get(Gl)}var xf=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(xf||{});let Uh;function Eu(r,o){return Uh(r,o)}function Cu(r,o,l,m,P){if(null!=m){let U,H=!1;Rr(m)?U=m:Pr(m)&&(H=!0,m=m[pi]);const te=lr(m);0===r&&null!==l?null==P?ey(o,l,te):kc(o,l,te,P||null,!0):1===r&&null!==l?kc(o,l,te,P||null,!0):2===r?kh(o,te,H):3===r&&o.destroyNode(te),null!=U&&function Vf(r,o,l,m,P){const U=l[Zo];U!==lr(l)&&Cu(o,r,m,U,P);for(let te=ki;te<l.length;te++){const ge=l[te];Vc(ge[$n],ge,r,o,m,U)}}(o,r,U,l,P)}}function zg(r,o){return r.createText(o)}function J0(r,o,l){r.setValue(o,l)}function bu(r,o){return r.createComment(function k0(r){return r.replace(cT,o=>o.replace(dT,uT))}(o))}function Md(r,o,l){return r.createElement(o,l)}function Q0(r,o){o[fo].changeDetectionScheduler?.notify(1),Vc(r,o,o[Us],2,null,null)}function Z0(r,o){const l=r[Ya],m=l.indexOf(o);l.splice(m,1)}function jc(r,o){if(r.length<=ki)return;const l=ki+o,m=r[l];if(m){const P=m[Ha];null!==P&&P!==r&&Z0(P,m),o>0&&(r[l-1][_r]=m[_r]);const U=us(r,ki+o);!function vT(r,o){Q0(r,o),o[pi]=null,o[ur]=null}(m[$n],m);const H=U[hr];null!==H&&H.detachView(U[$n]),m[Ti]=null,m[_r]=null,m[ms]&=-129}return m}function Ml(r,o){if(!(256&o[ms])){const l=o[Us];l.destroyNode&&Vc(r,o,l,3,null,null),function Nf(r){let o=r[Qo];if(!o)return q0(r[$n],r);for(;o;){let l=null;if(Pr(o))l=o[Qo];else{const m=o[ki];m&&(l=m)}if(!l){for(;o&&!o[_r]&&o!==r;)Pr(o)&&q0(o[$n],o),o=o[Ti];null===o&&(o=r),Pr(o)&&q0(o[$n],o),l=o&&o[_r]}o=l}}(o)}}function q0(r,o){if(256&o[ms])return;const l=d(null);try{o[ms]&=-129,o[ms]|=256,o[ko]&&L(o[ko]),function $r(r,o){let l;if(null!=r&&null!=(l=r.destroyHooks))for(let m=0;m<l.length;m+=2){const P=o[l[m]];if(!(P instanceof pd)){const U=l[m+1];if(Array.isArray(U))for(let H=0;H<U.length;H+=2){const te=P[U[H]],ge=U[H+1];Es(4,te,ge);try{ge.call(te)}finally{Es(5,te,ge)}}else{Es(4,P,U);try{U.call(P)}finally{Es(5,P,U)}}}}}(r,o),function Ua(r,o){const l=r.cleanup,m=o[Ir];if(null!==l)for(let U=0;U<l.length-1;U+=2)if("string"==typeof l[U]){const H=l[U+3];H>=0?m[H]():m[-H].unsubscribe(),U+=2}else l[U].call(m[l[U+1]]);null!==m&&(o[Ir]=null);const P=o[za];if(null!==P){o[za]=null;for(let U=0;U<P.length;U++)(0,P[U])()}}(r,o),1===o[$n].type&&o[Us].destroy();const m=o[Ha];if(null!==m&&Rr(o[Ti])){m!==o[Ti]&&Z0(m,o);const P=o[hr];null!==P&&P.detachView(r)}!function wc(r){hf.delete(r[Sr])}(o)}finally{d(l)}}function Bf(r,o,l){return Yg(r,o.parent,l)}function Yg(r,o,l){let m=o;for(;null!==m&&40&m.type;)m=(o=m).parent;if(null===m)return l[pi];{const{componentOffset:P}=m;if(P>-1){const{encapsulation:U}=r.data[m.directiveStart+P];if(U===Xr.None||U===Xr.Emulated)return null}return Nr(m,l)}}function kc(r,o,l,m,P){r.insertBefore(o,l,m,P)}function ey(r,o,l){r.appendChild(o,l)}function ty(r,o,l,m,P){null!==m?kc(r,o,l,m,P):ey(r,o,l)}function Uf(r,o){return r.parentNode(o)}function ny(r,o,l){return rl(r,o,l)}function sy(r,o,l){return 40&r.type?Nr(r,l):null}let jf,rl=sy;function Xg(r,o){rl=r,jf=o}function kf(r,o,l,m){const P=Bf(r,m,o),U=o[Us],te=ny(m.parent||o[ur],m,o);if(null!=P)if(Array.isArray(l))for(let ge=0;ge<l.length;ge++)ty(U,P,l[ge],te,!1);else ty(U,P,l,te,!1);void 0!==jf&&jf(U,m,o,l,P)}function jh(r,o){if(null!==o){const l=o.type;if(3&l)return Nr(o,r);if(4&l)return Jg(-1,r[o.index]);if(8&l){const m=o.child;if(null!==m)return jh(r,m);{const P=r[o.index];return Rr(P)?Jg(-1,P):lr(P)}}if(32&l)return Eu(o,r)()||lr(r[o.index]);{const m=iy(r,o);return null!==m?Array.isArray(m)?m[0]:jh(xl(r[ar]),m):jh(r,o.next)}}return null}function iy(r,o){return null!==o?r[ar][ur].projection[o.projection]:null}function Jg(r,o){const l=ki+r+1;if(l<o.length){const m=o[l],P=m[$n].firstChild;if(null!==P)return jh(m,P)}return o[Zo]}function kh(r,o,l){const m=Uf(r,o);m&&function CT(r,o,l,m){r.removeChild(o,l,m)}(r,m,o,l)}function ry(r){r.textContent=""}function Qg(r,o,l,m,P,U,H){for(;null!=l;){const te=m[l.index],ge=l.type;if(H&&0===o&&(te&&qo(lr(te),m),l.flags|=2),32&~l.flags)if(8&ge)Qg(r,o,l.child,m,P,U,!1),Cu(o,r,P,te,U);else if(32&ge){const xe=Eu(l,m);let tt;for(;tt=xe();)Cu(o,r,P,tt,U);Cu(o,r,P,te,U)}else 16&ge?oy(r,o,m,l,P,U):Cu(o,r,P,te,U);l=H?l.projectionNext:l.next}}function Vc(r,o,l,m,P,U){Qg(l,m,r.firstChild,o,P,U,!1)}function oy(r,o,l,m,P,U){const H=l[ar],ge=H[ur].projection[m.projection];if(Array.isArray(ge))for(let xe=0;xe<ge.length;xe++)Cu(o,r,P,ge[xe],U);else{let xe=ge;const tt=H[Ti];oc(m)&&(xe.flags|=128),Qg(r,o,xe,tt,P,U,!0)}}function cy(r,o,l){""===l?r.removeAttribute(o,"class"):r.setAttribute(o,"class",l)}function dy(r,o,l){const{mergedAttrs:m,classes:P,styles:U}=l;null!==m&&Ge(r,o,m),null!==P&&cy(r,o,P),null!==U&&function ly(r,o,l){r.setAttribute(o,"style",l)}(r,o,U)}const fi={};function uy(r=1){hy(_i(),Tn(),no()+r,!1)}function hy(r,o,l,m){if(!m)if(3&~o[ms]){const U=r.preOrderHooks;null!==U&&Qp(o,U,0,l)}else{const U=r.preOrderCheckHooks;null!==U&&Jp(o,U,l)}Fl(l)}function Du(r,o=Ut.Default){const l=Tn();return null===l?rr(r,o):qv(ti(),l,Ke(r),o)}function Tu(){throw new Error("invalid")}function py(r,o,l,m,P,U){const H=d(null);try{let te=null;P&kr.SignalBased&&(te=o[m][g]),null!==te&&void 0!==te.transformFn&&(U=te.transformFn(U)),P&kr.HasDecoratorInputTransform&&(U=r.inputTransforms[m].call(o,U)),null!==r.setInput?r.setInput(o,te,U,l,m):wo(o,te,m,U)}finally{d(H)}}function Id(r,o,l,m,P,U,H,te,ge,xe,tt){const Tt=o.blueprint.slice();return Tt[pi]=P,Tt[ms]=204|m,(null!==xe||r&&2048&r[ms])&&(Tt[ms]|=2048),go(Tt),Tt[Ti]=Tt[Do]=r,Tt[Pi]=l,Tt[fo]=H||r&&r[fo],Tt[Us]=te||r&&r[Us],Tt[Hi]=ge||r&&r[Hi]||null,Tt[ur]=U,Tt[Sr]=function Ac(){return YP++}(),Tt[xr]=tt,Tt[ad]=xe,Tt[ar]=2==o.type?r[ar]:Tt,Tt}function Sd(r,o,l,m,P){let U=r.data[o];if(null===U)U=Gf(r,o,l,m,P),function be(){return ei.lFrame.inI18n}()&&(U.flags|=32);else if(64&U.type){U.type=l,U.value=m,U.attrs=P;const H=nc();U.injectorIndex=null===H?-1:H.injectorIndex}return xa(U,!0),U}function Gf(r,o,l,m,P){const U=tu(),H=Nl(),ge=r.data[o]=function ST(r,o,l,m,P,U){let H=o?o.injectorIndex:-1,te=0;return hd()&&(te|=128),{type:l,index:m,insertBeforeIndex:null,injectorIndex:H,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:te,providerIndexes:0,value:P,attrs:U,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,H?U:U&&U.parent,l,o,m,P);return null===r.firstChild&&(r.firstChild=ge),null!==U&&(H?null==U.child&&null!==ge.parent&&(U.child=ge):null===U.next&&(U.next=ge,ge.prev=U)),ge}function Vh(r,o,l,m){if(0===l)return-1;const P=o.length;for(let U=0;U<l;U++)o.push(m),r.blueprint.push(m),r.data.push(null);return P}function fy(r,o,l,m,P){const U=no(),H=2&m;try{Fl(-1),H&&o.length>Fn&&hy(r,o,Fn,!1),Es(H?2:0,P),l(m,P)}finally{Fl(U),Es(H?3:1,P)}}function Zg(r,o,l){if(ya(o)){const m=d(null);try{const U=o.directiveEnd;for(let H=o.directiveStart;H<U;H++){const te=r.data[H];te.contentQueries&&te.contentQueries(1,l[H],H)}}finally{d(m)}}}function qg(r,o,l){Ea()&&(function by(r,o,l,m){const P=l.directiveStart,U=l.directiveEnd;Ao(l)&&function UT(r,o,l){const m=Nr(o,r),P=my(l);let H=16;l.signals?H=4096:l.onPush&&(H=64);const te=Kh(r,Id(r,P,null,H,m,o,null,r[fo].rendererFactory.createRenderer(m,l),null,null,null));r[o.index]=te}(o,l,r.data[P+l.componentOffset]),r.firstCreatePass||vh(l,o),qo(m,o);const H=l.initialInputs;for(let te=P;te<U;te++){const ge=r.data[te],xe=fd(o,r,te,l);qo(xe,o),null!==H&&jT(0,te-P,xe,ge,0,H),Jr(ge)&&(Fr(l.index,o)[Pi]=fd(o,r,te,l))}}(r,o,l,Nr(l,o)),!(64&~l.flags)&&Dy(r,o,l))}function e_(r,o,l=Nr){const m=o.localNames;if(null!==m){let P=o.index+1;for(let U=0;U<m.length;U+=2){const H=m[U+1],te=-1===H?l(o,r):r[H];r[P++]=te}}}function my(r){const o=r.tView;return null===o||o.incompleteFirstPass?r.tView=Pd(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):o}function Pd(r,o,l,m,P,U,H,te,ge,xe,tt){const Tt=Fn+m,Gt=Tt+P,Xt=function OT(r,o){const l=[];for(let m=0;m<o;m++)l.push(m<r?null:fi);return l}(Tt,Gt),on="function"==typeof xe?xe():xe;return Xt[$n]={type:r,blueprint:Xt,template:l,queries:null,viewQuery:te,declTNode:o,data:Xt.slice().fill(null,Tt),bindingStartIndex:Tt,expandoStartIndex:Gt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof U?U():U,pipeRegistry:"function"==typeof H?H():H,firstChild:null,schemas:ge,consts:on,incompleteFirstPass:!1,ssrId:tt}}let mc=()=>null;function gy(r){Mg(r)?ry(r):function M0(r){const o=xc(),l=o.createNodeIterator(r,NodeFilter.SHOW_COMMENT,{acceptNode(U){const H=function Ed(r){return r.textContent?.replace(/\s/gm,"")}(U);return"ngetn"===H||"ngtns"===H?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let m;const P=[];for(;m=l.nextNode();)P.push(m);for(const U of P)"ngetn"===U.textContent?U.replaceWith(o.createTextNode("")):U.remove()}(r)}function vy(r,o,l,m,P){for(let U in o){if(!o.hasOwnProperty(U))continue;const H=o[U];if(void 0===H)continue;m??={};let te,ge=kr.None;Array.isArray(H)?(te=H[0],ge=H[1]):te=H;let xe=U;if(null!==P){if(!P.hasOwnProperty(U))continue;xe=P[U]}0===r?yy(m,l,xe,te,ge):yy(m,l,xe,te)}return m}function yy(r,o,l,m,P){let U;r.hasOwnProperty(l)?(U=r[l]).push(o,m):U=r[l]=[o,m],void 0!==P&&U.push(P)}function ba(r,o,l,m,P,U,H,te){const ge=Nr(o,l);let tt,xe=o.inputs;!te&&null!=xe&&(tt=xe[m])?(i_(r,l,tt,m,P),Ao(o)&&function AT(r,o){const l=Fr(o,r);16&l[ms]||(l[ms]|=64)}(l,o.index)):3&o.type&&(m=function RT(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(m),P=null!=H?H(P,o.value||"",m):P,U.setProperty(ge,m,P))}function t_(r,o,l,m){if(Ea()){const P=null===m?null:{"":-1},U=function LT(r,o){const l=r.directiveRegistry;let m=null,P=null;if(l)for(let U=0;U<l.length;U++){const H=l[U];if(Ni(o,H.selectors,!1))if(m||(m=[]),Jr(H))if(null!==H.findHostDirectiveDefs){const te=[];P=P||new Map,H.findHostDirectiveDefs(H,te,P),m.unshift(...te,H),n_(r,o,te.length)}else m.unshift(H),n_(r,o,0);else P=P||new Map,H.findHostDirectiveDefs?.(H,m,P),m.push(H)}return null===m?null:[m,P]}(r,l);let H,te;null===U?H=te=null:[H,te]=U,null!==H&&$h(r,o,l,H,P,te),P&&function xT(r,o,l){if(o){const m=r.localNames=[];for(let P=0;P<o.length;P+=2){const U=l[o[P+1]];if(null==U)throw new at(-301,!1);m.push(o[P],U)}}}(l,m,P)}l.mergedAttrs=$e(l.mergedAttrs,l.attrs)}function $h(r,o,l,m,P,U){for(let xe=0;xe<m.length;xe++)vl(vh(l,o),r,m[xe].type);!function FT(r,o,l){r.flags|=1,r.directiveStart=o,r.directiveEnd=o+l,r.providerIndexes=o}(l,r.data.length,m.length);for(let xe=0;xe<m.length;xe++){const tt=m[xe];tt.providersResolver&&tt.providersResolver(tt)}let H=!1,te=!1,ge=Vh(r,o,m.length,null);for(let xe=0;xe<m.length;xe++){const tt=m[xe];l.mergedAttrs=$e(l.mergedAttrs,tt.hostAttrs),BT(r,l,o,ge,tt),NT(ge,tt,P),null!==tt.contentQueries&&(l.flags|=4),(null!==tt.hostBindings||null!==tt.hostAttrs||0!==tt.hostVars)&&(l.flags|=64);const Tt=tt.type.prototype;!H&&(Tt.ngOnChanges||Tt.ngOnInit||Tt.ngDoCheck)&&((r.preOrderHooks??=[]).push(l.index),H=!0),!te&&(Tt.ngOnChanges||Tt.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(l.index),te=!0),ge++}!function PT(r,o,l){const P=o.directiveEnd,U=r.data,H=o.attrs,te=[];let ge=null,xe=null;for(let tt=o.directiveStart;tt<P;tt++){const Tt=U[tt],Gt=l?l.get(Tt):null,on=Gt?Gt.outputs:null;ge=vy(0,Tt.inputs,tt,ge,Gt?Gt.inputs:null),xe=vy(1,Tt.outputs,tt,xe,on);const On=null===ge||null===H||pn(o)?null:kT(ge,tt,H);te.push(On)}null!==ge&&(ge.hasOwnProperty("class")&&(o.flags|=8),ge.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=te,o.inputs=ge,o.outputs=xe}(r,l,U)}function Dy(r,o,l){const m=l.directiveStart,P=l.directiveEnd,U=l.index,H=function an(){return ei.lFrame.currentDirectiveIndex}();try{Fl(U);for(let te=m;te<P;te++){const ge=r.data[te],xe=o[te];vn(te),(null!==ge.hostBindings||0!==ge.hostVars||null!==ge.hostAttrs)&&wT(ge,xe)}}finally{Fl(-1),vn(H)}}function wT(r,o){null!==r.hostBindings&&r.hostBindings(1,o)}function n_(r,o,l){o.componentOffset=l,(r.components??=[]).push(o.index)}function NT(r,o,l){if(l){if(o.exportAs)for(let m=0;m<o.exportAs.length;m++)l[o.exportAs[m]]=r;Jr(o)&&(l[""]=r)}}function BT(r,o,l,m,P){r.data[m]=P;const U=P.factory||(P.factory=Rt(P.type)),H=new pd(U,Jr(P),Du);r.blueprint[m]=H,l[m]=H,function Ey(r,o,l,m,P){const U=P.hostBindings;if(U){let H=r.hostBindingOpCodes;null===H&&(H=r.hostBindingOpCodes=[]);const te=~o.index;(function Cy(r){let o=r.length;for(;o>0;){const l=r[--o];if("number"==typeof l&&l<0)return l}return 0})(H)!=te&&H.push(te),H.push(l,m,U)}}(r,o,m,Vh(r,l,P.hostVars,fi),P)}function Rd(r,o,l,m,P,U,H){if(null==U)r.removeAttribute(o,P,l);else{const te=null==H?gs(U):H(U,m||"",P);r.setAttribute(o,P,te,l)}}function jT(r,o,l,m,P,U){const H=U[o];if(null!==H)for(let te=0;te<H.length;)py(m,l,H[te++],H[te++],H[te++],H[te++])}function kT(r,o,l){let m=null,P=0;for(;P<l.length;){const U=l[P];if(0!==U)if(5!==U){if("number"==typeof U)break;if(r.hasOwnProperty(U)){null===m&&(m=[]);const H=r[U];for(let te=0;te<H.length;te+=3)if(H[te]===o){m.push(U,H[te+1],H[te+2],l[P+1]);break}}P+=2}else P+=2;else P+=4}return m}function Wh(r,o,l,m){return[r,!0,0,o,null,m,null,l,null,null]}function s_(r,o){const l=r.contentQueries;if(null!==l){const m=d(null);try{for(let P=0;P<l.length;P+=2){const H=l[P+1];if(-1!==H){const te=r.data[H];Ls(l[P]),te.contentQueries(2,o[H],H)}}}finally{d(m)}}}function Kh(r,o){return r[Qo]?r[_a][_r]=o:r[Qo]=o,r[_a]=o,o}function Wf(r,o,l){Ls(0);const m=d(null);try{o(r,l)}finally{d(m)}}function Ty(r){return r[Ir]||(r[Ir]=[])}function Oy(r){return r.cleanup||(r.cleanup=[])}function Kf(r,o){const l=r[Hi],m=l?l.get(yl,null):null;m&&m.handleError(o)}function i_(r,o,l,m,P){for(let U=0;U<l.length;){const H=l[U++],te=l[U++],ge=l[U++];py(r.data[H],o[H],m,te,ge,P)}}function gc(r,o,l){const m=ii(o,r);J0(r[Us],m,l)}function VT(r,o){const l=Fr(o,r),m=l[$n];!function GT(r,o){for(let l=o.length;l<r.blueprint.length;l++)o.push(r.blueprint[l])}(m,l);const P=l[pi];null!==P&&null===l[xr]&&(l[xr]=du(P,l[Hi])),r_(m,l,l[Pi])}function r_(r,o,l){wi(o);try{const m=r.viewQuery;null!==m&&Wf(1,m,l);const P=r.template;null!==P&&fy(r,o,P,1,l),r.firstCreatePass&&(r.firstCreatePass=!1),o[hr]?.finishViewCreation(r),r.staticContentQueries&&s_(r,o),r.staticViewQueries&&Wf(2,r.viewQuery,l);const U=r.components;null!==U&&function Hh(r,o){for(let l=0;l<o.length;l++)VT(r,o[l])}(o,U)}catch(m){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),m}finally{o[ms]&=-5,nu()}}function _c(r,o){return!o||null===o.firstChild||oc(r)}function Yh(r,o,l,m=!0){const P=o[$n];if(function ET(r,o,l,m){const P=ki+m,U=l.length;m>0&&(l[P-1][_r]=o),m<U-ki?(o[_r]=l[P],bs(l,ki+m,o)):(l.push(o),o[_r]=null),o[Ti]=l;const H=o[Ha];null!==H&&l!==H&&function Ff(r,o){const l=r[Ya];o[ar]!==o[Ti][Ti][ar]&&(r[ms]|=Ql.HasTransplantedViews),null===l?r[Ya]=[o]:l.push(o)}(H,o);const te=o[hr];null!==te&&te.insertView(r),uh(o),o[ms]|=128}(P,o,r,l),m){const H=Jg(l,r),te=o[Us],ge=Uf(te,r[Zo]);null!==ge&&function yT(r,o,l,m,P,U){m[pi]=P,m[ur]=o,Vc(r,m,l,1,P,U)}(P,r[ur],te,o,ge,H)}const U=o[xr];null!==U&&null!==U.firstChild&&(U.firstChild=null)}function Xh(r,o,l,m,P=!1){for(;null!==l;){const U=o[l.index];null!==U&&m.push(lr(U)),Rr(U)&&Jh(U,m);const H=l.type;if(8&H)Xh(r,o,l.child,m);else if(32&H){const te=Eu(l,o);let ge;for(;ge=te();)m.push(ge)}else if(16&H){const te=iy(o,l);if(Array.isArray(te))m.push(...te);else{const ge=xl(o[ar]);Xh(ge[$n],ge,te,m,!0)}}l=P?l.projectionNext:l.next}return m}function Jh(r,o){for(let l=ki;l<r.length;l++){const m=r[l],P=m[$n].firstChild;null!==P&&Xh(m[$n],m,P,o)}r[Zo]!==r[pi]&&o.push(r[Zo])}let Sy=[];const WT={...b,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{qa(r.lView)},consumerOnSignalRead(){this.lView[ko]=this}},Da=100;function Yf(r,o=!0,l=0){const m=r[fo],P=m.rendererFactory;P.begin?.();try{!function o_(r,o){a_(r,o);let l=0;for(;Ll(r);){if(l===Da)throw new at(103,!1);l++,a_(r,1)}}(r,l)}catch(H){throw o&&Kf(r,H),H}finally{P.end?.(),m.inlineEffectRunner?.flush()}}function KT(r,o,l,m){const P=o[ms];if(!(256&~P))return;o[fo].inlineEffectRunner?.flush(),wi(o);let H=null,te=null;(function HT(r){return 2!==r.type})(r)&&(te=function Hf(r){return r[ko]??function $T(r){const o=Sy.pop()??Object.create(WT);return o.lView=r,o}(r)}(o),H=v(te));try{go(o),function ue(r){return ei.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==l&&fy(r,o,l,2,m);const ge=!(3&~P);if(ge){const Tt=r.preOrderCheckHooks;null!==Tt&&Jp(o,Tt,null)}else{const Tt=r.preOrderHooks;null!==Tt&&Qp(o,Tt,0,null),Os(o,0)}if(function zT(r){for(let o=ac(r);null!==o;o=Sg(o)){if(!(o[ms]&Ql.HasTransplantedViews))continue;const l=o[Ya];for(let m=0;m<l.length;m++){tc(l[m])}}}(o),Py(o,0),null!==r.contentQueries&&s_(r,o),ge){const Tt=r.contentCheckHooks;null!==Tt&&Jp(o,Tt)}else{const Tt=r.contentHooks;null!==Tt&&Qp(o,Tt,1),Os(o,1)}!function TT(r,o){const l=r.hostBindingOpCodes;if(null!==l)try{for(let m=0;m<l.length;m++){const P=l[m];if(P<0)Fl(~P);else{const U=P,H=l[++m],te=l[++m];Vt(H,U),te(2,o[U])}}}finally{Fl(-1)}}(r,o);const xe=r.components;null!==xe&&Ay(o,xe,0);const tt=r.viewQuery;if(null!==tt&&Wf(2,tt,m),ge){const Tt=r.viewCheckHooks;null!==Tt&&Jp(o,Tt)}else{const Tt=r.viewHooks;null!==Tt&&Qp(o,Tt,2),Os(o,2)}if(!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),o[Dc]){for(const Tt of o[Dc])Tt();o[Dc]=null}o[ms]&=-73}catch(ge){throw qa(o),ge}finally{null!==te&&(S(te,H),function zf(r){r.lView[ko]!==r&&(r.lView=null,Sy.push(r))}(te)),nu()}}function Py(r,o){for(let l=ac(r);null!==l;l=Sg(l))for(let m=ki;m<l.length;m++)Ry(l[m],o)}function YT(r,o,l){Ry(Fr(o,r),l)}function Ry(r,o){ws(r)&&a_(r,o)}function a_(r,o){const m=r[$n],P=r[ms],U=r[ko];let H=!!(0===o&&16&P);if(H||=!!(64&P&&0===o),H||=!!(1024&P),H||=!(!U?.dirty||!M(U)),U&&(U.dirty=!1),r[ms]&=-9217,H)KT(m,r,m.template,r[Pi]);else if(8192&P){Py(r,1);const te=m.components;null!==te&&Ay(r,te,1)}}function Ay(r,o,l){for(let m=0;m<o.length;m++)YT(r,o[m],l)}function Qh(r){for(r[fo].changeDetectionScheduler?.notify();r;){r[ms]|=64;const o=xl(r);if(wl(r)&&!o)return r;r=o}return null}class Zh{get rootNodes(){const o=this._lView,l=o[$n];return Xh(l,o,l.firstChild,[])}constructor(o,l,m=!0){this._lView=o,this._cdRefInjectingView=l,this.notifyErrorHandler=m,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pi]}set context(o){this._lView[Pi]=o}get destroyed(){return!(256&~this._lView[ms])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Ti];if(Rr(o)){const l=o[8],m=l?l.indexOf(this):-1;m>-1&&(jc(o,m),us(l,m))}this._attachedToViewContainer=!1}Ml(this._lView[$n],this._lView)}onDestroy(o){qd(this._lView,o)}markForCheck(){Qh(this._cdRefInjectingView||this._lView)}detach(){this._lView[ms]&=-129}reattach(){uh(this._lView),this._lView[ms]|=128}detectChanges(){this._lView[ms]|=1024,Yf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new at(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Q0(this._lView[$n],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new at(902,!1);this._appRef=o,uh(this._lView)}}let qh=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=JT}return r})();const XT=qh,Ou=class extends XT{constructor(o,l,m){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=m}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,l){return this.createEmbeddedViewImpl(o,l)}createEmbeddedViewImpl(o,l,m){const P=function zh(r,o,l,m){const P=d(null);try{const U=o.tView,ge=Id(r,U,l,4096&r[ms]?4096:16,null,o,null,null,m?.injector??null,m?.embeddedViewInjector??null,m?.dehydratedView??null);ge[Ha]=r[o.index];const tt=r[hr];return null!==tt&&(ge[hr]=tt.createEmbeddedView(U)),r_(U,ge,l),ge}finally{d(P)}}(this._declarationLView,this._declarationTContainer,o,{embeddedViewInjector:l,dehydratedView:m});return new Zh(P)}};function JT(){return Gc(ti(),Tn())}function Gc(r,o){return 4&r.type?new Ou(o,r,el(r,o)):null}function xy(r){const o=r[ml]??[],m=r[Ti][Us];for(const P of o)iO(P,m);r[ml]=Js}function iO(r,o){let l=0,m=r.firstChild;if(m){const P=r.data[yd];for(;l<P;){const U=m.nextSibling;kh(o,m,!1),m=U,l++}}}function Ny(r){xy(r);for(let o=ki;o<r.length;o++)Jf(r[o])}function Jf(r){!function rO(r){const o=r[xr]?.i18nNodes;if(o){const l=r[Us];for(const m of o.values())kh(l,m,!1);r[xr].i18nNodes=void 0}}(r);const o=r[$n];for(let l=Fn;l<o.bindingStartIndex;l++)Rr(r[l])?Ny(r[l]):Pr(r[l])&&Jf(r[l])}const aO=new RegExp(`^(\\d+)*(${mf}|${Fg})*(.*)`);function d_(r){return r.index-Fn}function Qf(r,o,l,m){const P=d_(m);let U=function lO(r,o){const l=r.i18nNodes;if(l){const m=l.get(o);return m&&l.delete(o),m}return null}(r,P);if(!U){const H=r.data[_f];if(H?.[P])U=function Zf(r,o){const[l,...m]=function Kc(r){const o=r.match(aO),[l,m,P,U]=o,H=m?parseInt(m,10):P,te=[];for(const[ge,xe,tt]of U.matchAll(/(f|n)(\d*)/g)){const Tt=parseInt(tt,10)||1;te.push(xe,Tt)}return[H,...te]}(r);let P;return P=l===Fg?o[ar][pi]:l===mf?function K0(r){return r.ownerDocument.body}(o[ar][pi]):lr(o[Number(l)+Fn]),function cO(r,o){let l=r;for(let m=0;m<o.length;m+=2){const P=o[m],U=o[m+1];for(let H=0;H<U;H++)switch(P){case $l.FirstChild:l=l.firstChild;break;case $l.NextSibling:l=l.nextSibling}}return l}(P,m)}(H[P],l);else if(o.firstChild===m)U=r.firstChild;else{const te=null===m.prev,ge=m.prev??m.parent;if(function Hc(r){return!r.prev&&8===r.parent?.type}(m))U=Cf(r,d_(m.parent));else{let xe=Nr(ge,l);if(te)U=xe.firstChild;else{const tt=d_(ge),Tt=Cf(r,tt);U=2===ge.type&&Tt?np(Cd(r,tt)+1,Tt):xe.nextSibling}}}}return U}function np(r,o){let l=o;for(let m=0;m<r;m++)l=l.nextSibling;return l}let By=()=>null;function pO(r,o){const l=r[ml];return o&&null!==l&&0!==l.length?l[0].data[Ih]===o?l.shift():(xy(r),null):null}function Iu(r,o){return By(r,o)}class Ld{}class mO{}class Uy{}class qf{resolveComponentFactory(o){throw function gO(r){const o=Error(`No component factory found for ${rn(r)}.`);return o.ngComponent=r,o}(o)}}let Su=(()=>{class r{static#e=this.NULL=new qf}return r})();class h_{}let _O=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function vO(){const r=Tn(),l=Fr(ti().index,r);return(Pr(l)?l:r)[Us]}()}return r})(),yO=(()=>{class r{static#e=this.\u0275prov=yn({token:r,providedIn:"root",factory:()=>null})}return r})();const p_={};function EO(r,o){if(null!==function y(){return c}())throw new at(-602,!1)}const ky=new Set;function Pl(r){ky.has(r)||(ky.add(r),performance?.mark?.("mark_feature_usage",{detail:{feature:r}}))}function Pu(...r){}class Wr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:m=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rc(!1),this.onMicrotaskEmpty=new rc(!1),this.onStable=new rc(!1),this.onError=new rc(!1),typeof Zone>"u")throw new at(908,!1);Zone.assertZonePatched();const P=this;P._nesting=0,P._outer=P._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(P._inner=P._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(P._inner=P._inner.fork(Zone.longStackTraceZoneSpec)),P.shouldCoalesceEventChangeDetection=!m&&l,P.shouldCoalesceRunChangeDetection=m,P.lastRequestAnimationFrameId=-1,P.nativeRequestAnimationFrame=function CO(){const r="function"==typeof mn.requestAnimationFrame;let o=mn[r?"requestAnimationFrame":"setTimeout"],l=mn[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&l){const m=o[Zone.__symbol__("OriginalDelegate")];m&&(o=m);const P=l[Zone.__symbol__("OriginalDelegate")];P&&(l=P)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function DO(r){const o=()=>{!function bO(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(mn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,f_(r),r.isCheckStableRunning=!0,em(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),f_(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,m,P,U,H,te)=>{if(function ip(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(te))return l.invokeTask(P,U,H,te);try{return Gy(r),l.invokeTask(P,U,H,te)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===U.type||r.shouldCoalesceRunChangeDetection)&&o(),$y(r)}},onInvoke:(l,m,P,U,H,te,ge)=>{try{return Gy(r),l.invoke(P,U,H,te,ge)}finally{r.shouldCoalesceRunChangeDetection&&o(),$y(r)}},onHasTask:(l,m,P,U)=>{l.hasTask(P,U),m===P&&("microTask"==U.change?(r._hasPendingMicrotasks=U.microTask,f_(r),em(r)):"macroTask"==U.change&&(r.hasPendingMacrotasks=U.macroTask))},onHandleError:(l,m,P,U)=>(l.handleError(P,U),r.runOutsideAngular(()=>r.onError.emit(U)),!1)})}(P)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wr.isInAngularZone())throw new at(909,!1)}static assertNotInAngularZone(){if(Wr.isInAngularZone())throw new at(909,!1)}run(o,l,m){return this._inner.run(o,l,m)}runTask(o,l,m,P){const U=this._inner,H=U.scheduleEventTask("NgZoneEvent: "+P,o,Vy,Pu,Pu);try{return U.runTask(H,l,m)}finally{U.cancelTask(H)}}runGuarded(o,l,m){return this._inner.runGuarded(o,l,m)}runOutsideAngular(o){return this._outer.run(o)}}const Vy={};function em(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function f_(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Gy(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function $y(r){r._nesting--,em(r)}var xd=function(r){return r[r.EarlyRead=0]="EarlyRead",r[r.Write=1]="Write",r[r.MixedReadWrite=2]="MixedReadWrite",r[r.Read=3]="Read",r}(xd||{});const rp={destroy(){}};function Hy(r,o){!o&&_e();const l=o?.injector??Ps(Na);if(!yo(l))return rp;Pl("NgAfterNextRender");const m=l.get(op),P=m.handler??=new Yy,U=o?.phase??xd.MixedReadWrite,H=()=>{P.unregister(ge),te()},te=l.get(Ue).onDestroy(H),ge=Jo(l,()=>new zy(U,()=>{H(),r()}));return P.register(ge),{destroy:H}}class zy{constructor(o,l){this.phase=o,this.callbackFn=l,this.zone=Ps(Wr),this.errorHandler=Ps(yl,{optional:!0}),Ps(Ld,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(o){this.errorHandler?.handleError(o)}}}class Yy{constructor(){this.executingCallbacks=!1,this.buckets={[xd.EarlyRead]:new Set,[xd.Write]:new Set,[xd.MixedReadWrite]:new Set,[xd.Read]:new Set},this.deferredCallbacks=new Set}register(o){(this.executingCallbacks?this.deferredCallbacks:this.buckets[o.phase]).add(o)}unregister(o){this.buckets[o.phase].delete(o),this.deferredCallbacks.delete(o)}execute(){this.executingCallbacks=!0;for(const o of Object.values(this.buckets))for(const l of o)l.invoke();this.executingCallbacks=!1;for(const o of this.deferredCallbacks)this.buckets[o.phase].add(o);this.deferredCallbacks.clear()}destroy(){for(const o of Object.values(this.buckets))o.clear();this.deferredCallbacks.clear()}}let op=(()=>{class r{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const l=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const m of l)m()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=yn({token:r,providedIn:"root",factory:()=>new r})}return r})();function ol(r){return!!Ts(r)}function sm(r,o,l){let m=l?r.styles:null,P=l?r.classes:null,U=0;if(null!==o)for(let H=0;H<o.length;H++){const te=o[H];"number"==typeof te?U=te:1==U?P=Dn(P,te):2==U&&(m=Dn(m,te+": "+o[++H]+";"))}l?r.styles=m:r.stylesWithoutHost=m,l?r.classes=P:r.classesWithoutHost=P}class Zy extends Su{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=vs(o);return new Xc(l,this.ngModule)}}function Ru(r){const o=[];for(const l in r){if(!r.hasOwnProperty(l))continue;const m=r[l];void 0!==m&&o.push({propName:Array.isArray(m)?m[0]:m,templateName:l})}return o}class im{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,m){m=sa(m);const P=this.injector.get(o,p_,m);return P!==p_||l===p_?P:this.parentInjector.get(o,l,m)}}class Xc extends Uy{get inputs(){const o=this.componentDef,l=o.inputTransforms,m=Ru(o.inputs);if(null!==l)for(const P of m)l.hasOwnProperty(P.propName)&&(P.transform=l[P.propName]);return m}get outputs(){return Ru(this.componentDef.outputs)}constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Ga(r){return r.map(bo).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}create(o,l,m,P){const U=d(null);try{let H=(P=P||this.ngModule)instanceof ci?P:P?.injector;H&&null!==this.componentDef.getStandaloneInjector&&(H=this.componentDef.getStandaloneInjector(H)||H);const te=H?new im(o,H):o,ge=te.get(h_,null);if(null===ge)throw new at(407,!1);const xe=te.get(yO,null),Gt={rendererFactory:ge,sanitizer:xe,inlineEffectRunner:null,afterRenderEventManager:te.get(op,null),changeDetectionScheduler:te.get(Ld,null)},Xt=ge.createRenderer(null,this.componentDef),on=this.componentDef.selectors[0][0]||"div",On=m?function MT(r,o,l,m){const U=m.get(uc,!1)||l===Xr.ShadowDom,H=r.selectRootElement(o,U);return function $f(r){mc(r)}(H),H}(Xt,m,this.componentDef.encapsulation,te):Md(Xt,on,function MO(r){const o=r.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(on));let Xn=512;this.componentDef.signals?Xn|=4096:this.componentDef.onPush||(Xn|=16);let rs=null;null!==On&&(rs=du(On,te,!0));const Bn=Pd(0,null,null,1,0,null,null,null,null,null,null),si=Id(null,Bn,null,Xn,null,null,Gt,Xt,te,null,rs);let nr,Ar;wi(si);try{const Ko=this.componentDef;let dl,cg=null;Ko.findHostDirectiveDefs?(dl=[],cg=new Map,Ko.findHostDirectiveDefs(Ko,dl,cg),dl.push(Ko)):dl=[Ko];const n2=function eE(r,o){const l=r[$n],m=Fn;return r[m]=o,Sd(l,m,2,"#host",null)}(si,On),lw=function IO(r,o,l,m,P,U,H){const te=P[$n];!function SO(r,o,l,m){for(const P of r)o.mergedAttrs=$e(o.mergedAttrs,P.hostAttrs);null!==o.mergedAttrs&&(sm(o,o.mergedAttrs,!0),null!==l&&dy(m,l,o))}(m,r,o,H);let ge=null;null!==o&&(ge=du(o,P[Hi]));const xe=U.rendererFactory.createRenderer(o,l);let tt=16;l.signals?tt=4096:l.onPush&&(tt=64);const Tt=Id(P,my(l),null,tt,P[r.index],r,U,xe,null,null,ge);return te.firstCreatePass&&n_(te,r,m.length-1),Kh(P,Tt),P[r.index]=Tt}(n2,On,Ko,dl,si,Gt,Xt);Ar=_l(Bn,Fn),On&&function RO(r,o,l,m){if(m)Ge(r,l,["ng-version","17.3.11"]);else{const{attrs:P,classes:U}=function ul(r){const o=[],l=[];let m=1,P=2;for(;m<r.length;){let U=r[m];if("string"==typeof U)2===P?""!==U&&o.push(U,r[++m]):8===P&&l.push(U);else{if(!ys(P))break;P=U}m++}return{attrs:o,classes:l}}(o.selectors[0]);P&&Ge(r,l,P),U&&U.length>0&&cy(r,l,U.join(" "))}}(Xt,Ko,On,m),void 0!==l&&function AO(r,o,l){const m=r.projection=[];for(let P=0;P<o.length;P++){const U=l[P];m.push(null!=U?Array.from(U):null)}}(Ar,this.ngContentSelectors,l),nr=function PO(r,o,l,m,P,U){const H=ti(),te=P[$n],ge=Nr(H,P);$h(te,P,H,l,null,m);for(let tt=0;tt<l.length;tt++)qo(fd(P,te,H.directiveStart+tt,H),P);Dy(te,P,H),ge&&qo(ge,P);const xe=fd(P,te,H.directiveStart+H.componentOffset,H);if(r[Pi]=P[Pi]=xe,null!==U)for(const tt of U)tt(xe,o);return Zg(te,H,P),xe}(lw,Ko,dl,cg,si,[wO]),r_(Bn,si,null)}finally{nu()}return new qy(this.componentType,nr,el(Ar,si),si,Ar)}finally{d(U)}}}class qy extends mO{constructor(o,l,m,P,U){super(),this.location=m,this._rootLView=P,this._tNode=U,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new Zh(P,void 0,!1),this.componentType=o}setInput(o,l){const m=this._tNode.inputs;let P;if(null!==m&&(P=m[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),l))return;const U=this._rootLView;i_(U[$n],U,P,o,l),this.previousInputValues.set(o,l),Qh(Fr(this._tNode.index,U))}}get injector(){return new vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function wO(){const r=ti();Xp(Tn()[$n],r)}let rm=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=LO}return r})();function LO(){return __(ti(),Tn())}const lp=rm,tE=class extends lp{constructor(o,l,m){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=m}get element(){return el(this._hostTNode,this._hostLView)}get injector(){return new vr(this._hostTNode,this._hostLView)}get parentInjector(){const o=nf(this._hostTNode,this._hostLView);if(_g(o)){const l=_h(o,this._hostLView),m=hi(o);return new vr(l[$n].data[m+8],l)}return new vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=nE(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-ki}createEmbeddedView(o,l,m){let P,U;"number"==typeof m?P=m:null!=m&&(P=m.index,U=m.injector);const H=Iu(this._lContainer,o.ssrId),te=o.createEmbeddedViewImpl(l||{},U,H);return this.insertImpl(te,P,_c(this._hostTNode,H)),te}createComponent(o,l,m,P,U){const H=o&&!function un(r){return"function"==typeof r}(o);let te;if(H)te=l;else{const on=l||{};te=on.index,m=on.injector,P=on.projectableNodes,U=on.environmentInjector||on.ngModuleRef}const ge=H?o:new Xc(vs(o)),xe=m||this.parentInjector;if(!U&&null==ge.ngModule){const On=(H?xe:this.parentInjector).get(ci,null);On&&(U=On)}const tt=vs(ge.componentType??{}),Tt=Iu(this._lContainer,tt?.id??null),Xt=ge.create(xe,P,Tt?.firstChild??null,U);return this.insertImpl(Xt.hostView,te,_c(this._hostTNode,Tt)),Xt}insert(o,l){return this.insertImpl(o,l,!0)}insertImpl(o,l,m){const P=o._lView;if(function dh(r){return Rr(r[Ti])}(P)){const te=this.indexOf(o);if(-1!==te)this.detach(te);else{const ge=P[Ti],xe=new tE(ge,ge[ur],ge[Ti]);xe.detach(xe.indexOf(o))}}const U=this._adjustIndex(l),H=this._lContainer;return Yh(H,P,U,m),o.attachToViewContainerRef(),bs(Au(H),U,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=nE(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),m=jc(this._lContainer,l);m&&(us(Au(this._lContainer),l),Ml(m[$n],m))}detach(o){const l=this._adjustIndex(o,-1),m=jc(this._lContainer,l);return m&&null!=us(Au(this._lContainer),l)?new Zh(m):null}_adjustIndex(o,l=0){return o??this.length+l}};function nE(r){return r[8]}function Au(r){return r[8]||(r[8]=[])}function __(r,o){let l;const m=o[r.index];return Rr(m)?l=m:(l=Wh(m,o,null,r),o[r.index]=l,Kh(o,l)),sE(l,o,r,m),new tE(l,r,o)}let sE=rE,v_=()=>!1;function rE(r,o,l,m){if(r[Zo])return;let P;P=8&l.type?lr(m):function xO(r,o){const l=r[Us],m=l.createComment(""),P=Nr(o,r);return kc(l,Uf(l,P),m,function bT(r,o){return r.nextSibling(o)}(l,P),!1),m}(o,l),r[Zo]=P}function NO(r,o,l){if(r[Zo]&&r[ml])return!0;const m=l[xr],P=o.index-Fn;if(!m||function uf(r){if(oc(r))return!0;let o=r.parent;for(;o;){if(oc(r)||Rc(o))return!0;o=o.parent}return!1}(o)||bd(m,P))return!1;const H=Cf(m,P),te=m.data[Mh]?.[P],[ge,xe]=function hO(r,o){const l=[];for(const m of o)for(let P=0;P<(m[Tl]??1);P++){const U={data:m,firstChild:null};m[yd]>0&&(U.firstChild=r,r=np(m[yd],r)),l.push(U)}return[r,l]}(H,te);return r[Zo]=ge,r[ml]=xe,!0}function cp(r,o,l,m){v_(r,l,o)||rE(r,o,l,m)}class y_{constructor(o){this.queryList=o,this.matches=null}clone(){return new y_(this.queryList)}setDirty(){this.queryList.setDirty()}}class wu{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const m=null!==o.contentQueries?o.contentQueries[0]:l.length,P=[];for(let U=0;U<m;U++){const H=l.getByIndex(U);P.push(this.queries[H.indexInDeclarationView].clone())}return new wu(P)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}finishViewCreation(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==D_(o,l).matches&&this.queries[l].setDirty()}}class oE{constructor(o,l,m=null){this.flags=l,this.read=m,this.predicate="string"==typeof o?function jO(r){return r.split(",").map(o=>o.trim())}(o):o}}class Lu{constructor(o=[]){this.queries=o}elementStart(o,l){for(let m=0;m<this.queries.length;m++)this.queries[m].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let m=0;m<this.length;m++){const P=null!==l?l.length:0,U=this.getByIndex(m).embeddedTView(o,P);U&&(U.indexInDeclarationView=m,null!==l?l.push(U):l=[U])}return null!==l?new Lu(l):null}template(o,l){for(let m=0;m<this.queries.length;m++)this.queries[m].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class E_{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new E_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1&~this.metadata.flags){const l=this._declarationNodeIndex;let m=o.parent;for(;null!==m&&8&m.type&&m.index!==l;)m=m.parent;return l===(null!==m?m.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const m=this.metadata.predicate;if(Array.isArray(m))for(let P=0;P<m.length;P++){const U=m[P];this.matchTNodeWithReadOption(o,l,om(l,U)),this.matchTNodeWithReadOption(o,l,Pc(l,o,U,!1,!1))}else m===qh?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Pc(l,o,m,!1,!1))}matchTNodeWithReadOption(o,l,m){if(null!==m){const P=this.metadata.read;if(null!==P)if(P===cf||P===rm||P===qh&&4&l.type)this.addMatch(l.index,-2);else{const U=Pc(l,o,P,!1,!1);null!==U&&this.addMatch(l.index,U)}else this.addMatch(l.index,m)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function om(r,o){const l=r.localNames;if(null!==l)for(let m=0;m<l.length;m+=2)if(l[m]===o)return l[m+1];return null}function am(r,o,l,m){return-1===l?function BO(r,o){return 11&r.type?el(r,o):4&r.type?Gc(r,o):null}(o,r):-2===l?function UO(r,o,l){return l===cf?el(o,r):l===qh?Gc(o,r):l===rm?__(o,r):void 0}(r,o,m):fd(r,r[$n],l,o)}function aE(r,o,l,m){const P=o[hr].queries[m];if(null===P.matches){const U=r.data,H=l.matches,te=[];for(let ge=0;null!==H&&ge<H.length;ge+=2){const xe=H[ge];te.push(xe<0?null:am(o,U[xe],H[ge+1],l.metadata.read))}P.matches=te}return P.matches}function C_(r,o,l,m){const P=r.queries.getByIndex(l),U=P.matches;if(null!==U){const H=aE(r,o,P,l);for(let te=0;te<U.length;te+=2){const ge=U[te];if(ge>0)m.push(H[te/2]);else{const xe=U[te+1],tt=o[-ge];for(let Tt=ki;Tt<tt.length;Tt++){const Gt=tt[Tt];Gt[Ha]===Gt[Ti]&&C_(Gt[$n],Gt,xe,m)}if(null!==tt[Ya]){const Tt=tt[Ya];for(let Gt=0;Gt<Tt.length;Gt++){const Xt=Tt[Gt];C_(Xt[$n],Xt,xe,m)}}}}}return m}function lE(r,o,l){const m=new df(!(4&~l));return function IT(r,o,l,m){const P=Ty(o);P.push(l),r.firstCreatePass&&Oy(r).push(m,P.length-1)}(r,o,m,m.destroy),(o[hr]??=new wu).queries.push(new y_(m))-1}function uE(r,o,l){null===r.queries&&(r.queries=new Lu),r.queries.track(new E_(o,l))}function D_(r,o){return r.queries.getByIndex(o)}function hE(r,o){const l=r[$n],m=D_(l,o);return m.crossesNgTemplate?C_(l,r,o,[]):aE(l,r,m,o)}function T_(r){return"function"==typeof r&&void 0!==r[g]}function pE(r,o){Pl("NgSignals");const l=function de(r){const o=Object.create(pe);o.value=r;const l=()=>(O(o),o.value);return l[g]=o,l}(r),m=l[g];return o?.equal&&(m.equal=o.equal),l.set=P=>le(m,P),l.update=P=>function De(r,o){u()||z(),le(r,o(r.value))}(m,P),l.asReadonly=fE.bind(l),l}function fE(){const r=this[g];if(void 0===r.readonlyFn){const o=()=>this();o[g]=r,r.readonlyFn=o}return r.readonlyFn}function mE(r){return T_(r)&&"function"==typeof r.set}function dm(r){let o=function A_(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),l=!0;const m=[r];for(;o;){let P;if(Jr(r))P=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new at(903,!1);P=o.\u0275dir}if(P){if(l){m.push(P);const H=r;H.inputs=um(r.inputs),H.inputTransforms=um(r.inputTransforms),H.declaredInputs=um(r.declaredInputs),H.outputs=um(r.outputs);const te=P.hostBindings;te&&hm(r,te);const ge=P.viewQuery,xe=P.contentQueries;if(ge&&ZO(r,ge),xe&&qO(r,xe),JO(r,P),xs(r.outputs,P.outputs),Jr(P)&&P.data.animation){const tt=r.data;tt.animation=(tt.animation||[]).concat(P.data.animation)}}const U=P.features;if(U)for(let H=0;H<U.length;H++){const te=U[H];te&&te.ngInherit&&te(r),te===dm&&(l=!1)}}o=Object.getPrototypeOf(o)}!function QO(r){let o=0,l=null;for(let m=r.length-1;m>=0;m--){const P=r[m];P.hostVars=o+=P.hostVars,P.hostAttrs=$e(P.hostAttrs,l=$e(l,P.hostAttrs))}}(m)}function JO(r,o){for(const l in o.inputs){if(!o.inputs.hasOwnProperty(l)||r.inputs.hasOwnProperty(l))continue;const m=o.inputs[l];if(void 0!==m&&(r.inputs[l]=m,r.declaredInputs[l]=o.declaredInputs[l],null!==o.inputTransforms)){const P=Array.isArray(m)?m[0]:m;if(!o.inputTransforms.hasOwnProperty(P))continue;r.inputTransforms??={},r.inputTransforms[P]=o.inputTransforms[P]}}}function um(r){return r===$i?{}:r===Js?[]:r}function ZO(r,o){const l=r.viewQuery;r.viewQuery=l?(m,P)=>{o(m,P),l(m,P)}:o}function qO(r,o){const l=r.contentQueries;r.contentQueries=l?(m,P,U)=>{o(m,P,U),l(m,P,U)}:o}function hm(r,o){const l=r.hostBindings;r.hostBindings=l?(m,P)=>{o(m,P),l(m,P)}:o}function PE(r){const o=r.inputConfig,l={};for(const m in o)if(o.hasOwnProperty(m)){const P=o[m];Array.isArray(P)&&P[3]&&(l[m]=P[3])}r.inputTransforms=l}class Fd{}class fm{}function PR(r,o){return new N_(r,o??null,[])}class N_ extends Fd{constructor(o,l,m){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zy(this);const P=Ts(o);this._bootstrapComponents=Ba(P.bootstrap),this._r3Injector=md(o,l,[{provide:Fd,useValue:this},{provide:Su,useValue:this.componentFactoryResolver},...m],rn(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class hp extends fm{constructor(o){super(),this.moduleType=o}create(o){return new N_(this.moduleType,o,[])}}class mm extends Fd{constructor(o){super(),this.componentFactoryResolver=new Zy(this),this.instance=null;const l=new bi([...o.providers,{provide:Fd,useValue:this},{provide:Su,useValue:this.componentFactoryResolver}],o.parent||Gn(),o.debugName,new Set(["environment"]));this.injector=l,o.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function B_(r,o,l=null){return new mm({providers:r,parent:o,debugName:l,runEnvironmentInitializers:!0}).injector}let xu=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Be.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(m){return new(m||r)};static#t=this.\u0275prov=yn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function _m(r){return!!U_(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function U_(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function zl(r,o,l){return r[o]=l}function io(r,o,l){return!Object.is(r[o],l)&&(r[o]=l,!0)}function Bd(r,o,l,m){const P=io(r,o,l);return io(r,o+1,m)||P}function vm(r,o,l,m,P){const U=Bd(r,o,l,m);return io(r,o+2,P)||U}function al(r,o,l,m,P,U){const H=Bd(r,o,l,m);return Bd(r,o+2,P,U)||H}function fp(r){return!(32&~r.flags)}function vc(r,o,l,m,P,U,H,te){const ge=Tn(),xe=_i(),tt=r+Fn,Tt=xe.firstCreatePass?function aM(r,o,l,m,P,U,H,te,ge){const xe=o.consts,tt=Sd(o,r,4,H||null,Xs(xe,te));t_(o,l,tt,Xs(xe,ge)),Xp(o,tt);const Tt=tt.tView=Pd(2,tt,m,P,U,o.directiveRegistry,o.pipeRegistry,null,o.schemas,xe,null);return null!==o.queries&&(o.queries.template(o,tt),Tt.queries=o.queries.embeddedTView(tt)),tt}(tt,xe,ge,o,l,m,P,U,H):xe.data[tt];xa(Tt,!1);const Gt=j_(xe,ge,Tt,r);gh()&&kf(xe,ge,Gt,Tt),qo(Gt,ge);const Xt=Wh(Gt,ge,Gt,Tt);return ge[tt]=Xt,Kh(ge,Xt),function iE(r,o,l){return v_(r,o,l)}(Xt,Tt,ge),Xa(Tt)&&qg(xe,ge,Tt),null!=H&&e_(ge,Tt,te),vc}let j_=AE;function AE(r,o,l,m){return Bl(!0),o[Us].createComment("")}function lM(r,o,l,m){const P=o[xr],U=!P||hd()||fp(l)||bd(P,m);if(Bl(U),U)return AE(0,o);const H=P.data[gf]?.[m]??null;null!==H&&null!==l.tView&&null===l.tView.ssrId&&(l.tView.ssrId=H);const te=Qf(P,r,o,l);return Rh(P,m,te),np(Cd(P,m),te)}function Gu(r,o,l,m){const P=Tn();return io(P,A(),o)&&(_i(),function Kl(r,o,l,m,P,U){const H=Nr(r,o);Rd(o[Us],H,U,r.value,l,m,P)}(pr(),P,r,o,l,m)),Gu}function $u(r,o,l,m){return io(r,A(),l)?o+gs(l)+m:fi}function Wu(r,o,l,m,P,U){const te=Bd(r,k(),l,P);return W(2),te?o+gs(l)+m+gs(P)+U:fi}function Tp(r,o){return r<<17|o<<2}function Zc(r){return r>>17&32767}function Op(r){return 2|r}function Cc(r){return(131068&r)>>2}function X_(r,o){return-131069&r|o<<2}function J_(r){return 1|r}function qE(r,o,l,m){const P=r[l+1],U=null===o;let H=m?Zc(P):Cc(P),te=!1;for(;0!==H&&(!1===te||U);){const xe=r[H+1];UM(r[H],o)&&(te=!0,r[H+1]=m?J_(xe):Op(xe)),H=m?Zc(xe):Cc(xe)}te&&(r[l+1]=m?Op(P):J_(P))}function UM(r,o){return null===r||null==o||(Array.isArray(r)?r[1]:r)===o||!(!Array.isArray(r)||"string"!=typeof o)&&Cr(r,o)>=0}const Mo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function e1(r){return r.substring(Mo.key,Mo.keyEnd)}function t1(r,o){const l=Mo.textEnd;return l===o?-1:(o=Mo.keyEnd=function kM(r,o,l){for(;o<l&&r.charCodeAt(o)>32;)o++;return o}(r,Mo.key=o,l),Ip(r,o,l))}function Ip(r,o,l){for(;o<l&&r.charCodeAt(o)<=32;)o++;return o}function tv(r,o,l){const m=Tn();return io(m,A(),o)&&ba(_i(),pr(),m,r,o,m[Us],l,!1),tv}function nv(r,o,l,m,P){const H=P?"class":"style";i_(r,l,o.inputs[H],H,m)}function sv(r,o,l){return Ta(r,o,l,!1),sv}function Xu(r,o){return Ta(r,o,null,!0),Xu}function r1(r){Rl(HM,ka,r,!0)}function ka(r,o){for(let l=function q_(r){return function n1(r){Mo.key=0,Mo.keyEnd=0,Mo.value=0,Mo.valueEnd=0,Mo.textEnd=r.length}(r),t1(r,Ip(r,0,Mo.textEnd))}(o);l>=0;l=t1(o,l))$s(r,e1(o),!0)}function Ta(r,o,l,m){const P=Tn(),U=_i(),H=W(2);U.firstUpdatePass&&a1(U,r,H,m),o!==fi&&io(P,H,o)&&d1(U,U.data[no()],P,P[Us],r,P[H+1]=function zM(r,o){return null==r||""===r||("string"==typeof o?r+=o:"object"==typeof r&&(r=rn(pc(r)))),r}(o,l),m,H)}function Rl(r,o,l,m){const P=_i(),U=W(2);P.firstUpdatePass&&a1(P,null,U,m);const H=Tn();if(l!==fi&&io(H,U,l)){const te=P.data[no()];if(Sp(te,m)&&!o1(P,U)){let ge=m?te.classesWithoutHost:te.stylesWithoutHost;null!==ge&&(l=Dn(ge,l||"")),nv(P,te,H,l,m)}else!function Am(r,o,l,m,P,U,H,te){P===fi&&(P=Js);let ge=0,xe=0,tt=0<P.length?P[0]:null,Tt=0<U.length?U[0]:null;for(;null!==tt||null!==Tt;){const Gt=ge<P.length?P[ge+1]:void 0,Xt=xe<U.length?U[xe+1]:void 0;let On,on=null;tt===Tt?(ge+=2,xe+=2,Gt!==Xt&&(on=Tt,On=Xt)):null===Tt||null!==tt&&tt<Tt?(ge+=2,on=tt):(xe+=2,on=Tt,On=Xt),null!==on&&d1(r,o,l,m,on,On,H,te),tt=ge<P.length?P[ge]:null,Tt=xe<U.length?U[xe]:null}}(P,te,H,H[Us],H[U+1],H[U+1]=function l1(r,o,l){if(null==l||""===l)return Js;const m=[],P=pc(l);if(Array.isArray(P))for(let U=0;U<P.length;U++)r(m,P[U],!0);else if("object"==typeof P)for(const U in P)P.hasOwnProperty(U)&&r(m,U,P[U]);else"string"==typeof P&&o(m,P);return m}(r,o,l),m,U)}}function o1(r,o){return o>=r.expandoStartIndex}function a1(r,o,l,m){const P=r.data;if(null===P[l+1]){const U=P[no()],H=o1(r,l);Sp(U,m)&&null===o&&!H&&(o=!1),o=function Pm(r,o,l,m){const P=function xn(r){const o=ei.lFrame.currentDirectiveIndex;return-1===o?null:r[o]}(r);let U=m?o.residualClasses:o.residualStyles;if(null===P)0===(m?o.classBindings:o.styleBindings)&&(l=ed(l=iv(null,r,o,l,m),o.attrs,m),U=null);else{const H=o.directiveStylingLast;if(-1===H||r[H]!==P)if(l=iv(P,r,o,l,m),null===U){let ge=function Rm(r,o,l){const m=l?o.classBindings:o.styleBindings;if(0!==Cc(m))return r[Zc(m)]}(r,o,m);void 0!==ge&&Array.isArray(ge)&&(ge=iv(null,r,o,ge[1],m),ge=ed(ge,o.attrs,m),function WM(r,o,l,m){r[Zc(l?o.classBindings:o.styleBindings)]=m}(r,o,m,ge))}else U=function KM(r,o,l){let m;const P=o.directiveEnd;for(let U=1+o.directiveStylingLast;U<P;U++)m=ed(m,r[U].hostAttrs,l);return ed(m,o.attrs,l)}(r,o,m)}return void 0!==U&&(m?o.residualClasses=U:o.residualStyles=U),l}(P,U,o,m),function Q_(r,o,l,m,P,U){let H=U?o.classBindings:o.styleBindings,te=Zc(H),ge=Cc(H);r[m]=l;let tt,xe=!1;if(Array.isArray(l)?(tt=l[1],(null===tt||Cr(l,tt)>0)&&(xe=!0)):tt=l,P)if(0!==ge){const Gt=Zc(r[te+1]);r[m+1]=Tp(Gt,te),0!==Gt&&(r[Gt+1]=X_(r[Gt+1],m)),r[te+1]=function NM(r,o){return 131071&r|o<<17}(r[te+1],m)}else r[m+1]=Tp(te,0),0!==te&&(r[te+1]=X_(r[te+1],m)),te=m;else r[m+1]=Tp(ge,0),0===te?te=m:r[ge+1]=X_(r[ge+1],m),ge=m;xe&&(r[m+1]=Op(r[m+1])),qE(r,tt,m,!0),qE(r,tt,m,!1),function BM(r,o,l,m,P){const U=P?r.residualClasses:r.residualStyles;null!=U&&"string"==typeof o&&Cr(U,o)>=0&&(l[m+1]=J_(l[m+1]))}(o,tt,r,m,U),H=Tp(te,ge),U?o.classBindings=H:o.styleBindings=H}(P,U,o,l,H,m)}}function iv(r,o,l,m,P){let U=null;const H=l.directiveEnd;let te=l.directiveStylingLast;for(-1===te?te=l.directiveStart:te++;te<H&&(U=o[te],m=ed(m,U.hostAttrs,P),U!==r);)te++;return null!==r&&(l.directiveStylingLast=te),m}function ed(r,o,l){const m=l?1:2;let P=-1;if(null!==o)for(let U=0;U<o.length;U++){const H=o[U];"number"==typeof H?P=H:P===m&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),$s(r,H,!!l||o[++U]))}return void 0===r?null:r}function HM(r,o,l){const m=String(o);""!==m&&!m.includes(" ")&&$s(r,m,l)}function d1(r,o,l,m,P,U,H,te){if(!(3&o.type))return;const ge=r.data,xe=ge[te+1],tt=function FM(r){return!(1&~r)}(xe)?u1(ge,o,l,P,Cc(xe),H):void 0;Gd(tt)||(Gd(U)||function xM(r){return!(2&~r)}(xe)&&(U=u1(ge,null,l,P,te,H)),function ay(r,o,l,m,P){if(o)P?r.addClass(l,m):r.removeClass(l,m);else{let U=-1===m.indexOf("-")?void 0:xf.DashCase;null==P?r.removeStyle(l,m,U):("string"==typeof P&&P.endsWith("!important")&&(P=P.slice(0,-10),U|=xf.Important),r.setStyle(l,m,P,U))}}(m,H,ii(no(),l),P,U))}function u1(r,o,l,m,P,U){const H=null===o;let te;for(;P>0;){const ge=r[P],xe=Array.isArray(ge),tt=xe?ge[1]:ge,Tt=null===tt;let Gt=l[P+1];Gt===fi&&(Gt=Tt?Js:void 0);let Xt=Tt?Gi(Gt,m):tt===m?Gt:void 0;if(xe&&!Gd(Xt)&&(Xt=Gi(ge,m)),Gd(Xt)&&(te=Xt,H))return te;const on=r[P+1];P=H?Zc(on):Cc(on)}if(null!==o){let ge=U?o.residualClasses:o.residualStyles;null!=ge&&(te=Gi(ge,m))}return te}function Gd(r){return void 0!==r}function Sp(r,o){return!!(r.flags&(o?8:16))}function h1(r,o,l){Rl($s,ka,$u(Tn(),r,o,l),!0)}function Pp(r,o,l,m,P){Rl($s,ka,Wu(Tn(),r,o,l,m,P),!0)}function p1(r,o,l,m,P,U,H,te,ge,xe,tt){Rl($s,ka,function Ec(r,o,l,m,P,U,H,te,ge,xe,tt,Tt){const Gt=k();let Xt=al(r,Gt,l,P,H,ge);return Xt=io(r,Gt+4,tt)||Xt,W(5),Xt?o+gs(l)+m+gs(P)+U+gs(H)+te+gs(ge)+xe+gs(tt)+Tt:fi}(Tn(),r,o,l,m,P,U,H,te,ge,xe,tt),!0)}function xm(r,o,l,m){const P=Tn(),U=_i(),H=Fn+r,te=P[Us],ge=U.firstCreatePass?function nI(r,o,l,m,P,U){const H=o.consts,ge=Sd(o,r,2,m,Xs(H,P));return t_(o,l,ge,Xs(H,U)),null!==ge.attrs&&sm(ge,ge.attrs,!1),null!==ge.mergedAttrs&&sm(ge,ge.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,ge),ge}(H,U,P,o,l,m):U.data[H],xe=y1(U,P,ge,te,o,r);P[H]=xe;const tt=Xa(ge);return xa(ge,!0),dy(te,xe,ge),!fp(ge)&&gh()&&kf(U,P,xe,ge),0===function ph(){return ei.lFrame.elementDepthCount}()&&qo(xe,P),function Wv(){ei.lFrame.elementDepthCount++}(),tt&&(qg(U,P,ge),Zg(U,ge,P)),null!==m&&e_(P,ge),xm}function Nm(){let r=ti();Nl()?fh():(r=r.parent,xa(r,!1));const o=r;(function _D(r){return ei.skipHydrationRootTNode===r})(o)&&function pg(){ei.skipHydrationRootTNode=null}(),function eu(){ei.lFrame.elementDepthCount--}();const l=_i();return l.firstCreatePass&&(Xp(l,r),ya(r)&&l.queries.elementEnd(r)),null!=o.classesWithoutHost&&function bD(r){return!!(8&r.flags)}(o)&&nv(l,o,Tn(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function DD(r){return!!(16&r.flags)}(o)&&nv(l,o,Tn(),o.stylesWithoutHost,!1),Nm}function av(r,o,l,m){return xm(r,o,l,m),Nm(),av}let y1=(r,o,l,m,P,U)=>(Bl(!0),Md(m,P,CD()));function Fm(r,o,l,m,P,U){const H=o[xr],te=!H||hd()||fp(l)||bd(H,U);if(Bl(te),te)return Md(m,P,CD());const ge=Qf(H,r,o,l);return I0(H,U)&&Rh(H,U,ge.nextSibling),H&&(Rc(l)||Mg(ge))&&Ao(l)&&(function Hp(r){ei.skipHydrationRootTNode=r}(l),ry(ge)),ge}function Bm(r,o,l){const m=Tn(),P=_i(),U=r+Fn,H=P.firstCreatePass?function sI(r,o,l,m,P){const U=o.consts,H=Xs(U,m),te=Sd(o,r,8,"ng-container",H);return null!==H&&sm(te,H,!0),t_(o,l,te,Xs(U,P)),null!==o.queries&&o.queries.elementStart(o,te),te}(U,P,m,o,l):P.data[U];xa(H,!0);const te=E1(P,m,H,r);return m[U]=te,gh()&&kf(P,m,te,H),qo(te,m),Xa(H)&&(qg(P,m,H),Zg(P,H,m)),null!=l&&e_(m,H),Bm}function Um(){let r=ti();const o=_i();return Nl()?fh():(r=r.parent,xa(r,!1)),o.firstCreatePass&&(Xp(o,r),ya(r)&&o.queries.elementEnd(r)),Um}function nd(r,o,l){return Bm(r,o,l),Um(),nd}let E1=(r,o,l,m)=>(Bl(!0),bu(o[Us],""));function Rp(r,o,l,m){let P;const U=o[xr],H=!U||hd()||fp(l);if(Bl(H),H)return bu(o[Us],"");const te=Qf(U,r,o,l),ge=function WD(r,o){const l=r.data;let m=l[Bg]?.[o]??null;return null===m&&l[Mh]?.[o]&&(m=Cd(r,o)),m}(U,m);return Rh(U,m,te),P=np(ge,te),P}function jm(){return Tn()}function Ju(r,o,l){const m=Tn();return io(m,A(),o)&&ba(_i(),pr(),m,r,o,m[Us],l,!0),Ju}const $d=void 0;var Ap=["en",[["a","p"],["AM","PM"],$d],[["AM","PM"],$d,$d],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$d,"{1} 'at' {0}",$d],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function rI(r){const l=Math.floor(Math.abs(r)),m=r.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===m?1:5}];let Qu={};function lv(r){const o=function oI(r){return r.toLowerCase().replace(/_/g,"-")}(r);let l=sd(o);if(l)return l;const m=o.split("-")[0];if(l=sd(m),l)return l;if("en"===m)return Ap;throw new at(701,!1)}function b1(r){return lv(r)[bc.PluralCase]}function sd(r){return r in Qu||(Qu[r]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[r]),Qu[r]}var bc=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(bc||{});const aI=["zero","one","two","few","many"],Wd="en-US",km={marker:"element"},ll={marker:"ICU"};var Va=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Va||{});let T1=Wd;function O1(r,o,l){const m=o.insertBeforeIndex,P=Array.isArray(m)?m[0]:m;return null===P?sy(r,0,l):lr(l[P])}function M1(r,o,l,m,P){const U=o.insertBeforeIndex;if(Array.isArray(U)){let H=m,te=null;if(3&o.type||(te=H,H=P),null!==H&&-1===o.componentOffset)for(let ge=1;ge<U.length;ge++)kc(r,H,l[U[ge]],te,!1)}}function I1(r,o){if(r.push(o),r.length>1)for(let l=r.length-2;l>=0;l--){const m=r[l];S1(m)||XR(m,o)&&null===uI(m)&&hI(m,o.index)}}function S1(r){return!(64&r.type)}function XR(r,o){return S1(o)||r.index>o.index}function uI(r){const o=r.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function hI(r,o){const l=r.insertBeforeIndex;Array.isArray(l)?l[0]=o:(Xg(O1,M1),r.insertBeforeIndex=o)}function wp(r,o){const l=r.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function mI(r,o,l){const m=Gf(r,l,64,null,null);return I1(o,m),m}function Gm(r,o){const l=o[r.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function P1(r){return r>>>17}function R1(r){return(131070&r)>>>1}let Lp=0,xp=0;function w1(r,o,l){const m=r[Us];switch(l){case Node.COMMENT_NODE:return bu(m,o);case Node.TEXT_NODE:return zg(m,o);case Node.ELEMENT_NODE:return Md(m,o,null)}}let Np=(r,o,l,m)=>(Bl(!0),w1(r,l,m));function yI(r,o,l,m){return Bl(!0),w1(r,l,m)}function L1(r,o,l,m){const P=l[Us];let H,U=null;for(let te=0;te<o.length;te++){const ge=o[te];if("string"==typeof ge){const xe=o[++te];null===l[xe]&&(l[xe]=Np(l,xe,ge,Node.TEXT_NODE))}else if("number"==typeof ge)switch(1&ge){case 0:const xe=P1(ge);let tt,Tt;if(null===U&&(U=xe,H=Uf(P,m)),xe===U?(tt=m,Tt=H):(tt=null,Tt=lr(l[xe])),null!==Tt){const On=R1(ge);kc(P,Tt,l[On],tt,!1);const rs=wp(r,On);if(null!==rs&&"object"==typeof rs){const Bn=Gm(rs,l);null!==Bn&&L1(r,rs.create[Bn],l,l[rs.anchorIdx])}}break;case 1:const Xt=o[++te],on=o[++te];Rd(P,ii(ge>>>1,l),null,null,Xt,on,null)}else switch(ge){case ll:const xe=o[++te],tt=o[++te];null===l[tt]&&qo(l[tt]=Np(l,tt,xe,Node.COMMENT_NODE),l);break;case km:const Tt=o[++te],Gt=o[++te];null===l[Gt]&&qo(l[Gt]=Np(l,Gt,Tt,Node.ELEMENT_NODE),l)}}}function x1(r,o,l,m,P){for(let U=0;U<l.length;U++){const H=l[U],te=l[++U];if(H&P){let ge="";for(let xe=U+1;xe<=U+te;xe++){const tt=l[xe];if("string"==typeof tt)ge+=tt;else if("number"==typeof tt)if(tt<0)ge+=gs(o[m-tt]);else{const Tt=tt>>>2;switch(3&tt){case 1:const Gt=l[++xe],Xt=l[++xe],on=r.data[Tt];"string"==typeof on?Rd(o[Us],o[Tt],null,on,Gt,ge,Xt):ba(r,on,o,Gt,ge,o[Us],Xt,!1);break;case 0:const On=o[Tt];null!==On&&J0(o[Us],On,ge);break;case 2:JR(r,wp(r,Tt),o,ge);break;case 3:Zu(r,wp(r,Tt),m,o)}}}}else{const ge=l[U+1];if(ge>0&&!(3&~ge)){const tt=wp(r,ge>>>2);o[tt.currentCaseLViewIndex]<0&&Zu(r,tt,m,o)}}U+=te}}function Zu(r,o,l,m){let P=m[o.currentCaseLViewIndex];if(null!==P){let U=Lp;P<0&&(P=m[o.currentCaseLViewIndex]=~P,U=-1),x1(r,m,o.update[P],l,U)}}function JR(r,o,l,m){const P=function bI(r,o){let l=r.cases.indexOf(o);if(-1===l)switch(r.type){case 1:{const m=function lI(r,o){const l=b1(o)(parseInt(r,10)),m=aI[l];return void 0!==m?m:"other"}(o,function dI(){return T1}());l=r.cases.indexOf(m),-1===l&&"other"!==m&&(l=r.cases.indexOf("other"));break}case 0:l=r.cases.indexOf("other")}return-1===l?null:l}(o,m);if(Gm(o,l)!==P&&(N1(r,o,l),l[o.currentCaseLViewIndex]=null===P?null:~P,null!==P)){const H=l[o.anchorIdx];H&&L1(r,o.create[P],l,H)}}function N1(r,o,l){let m=Gm(o,l);if(null!==m){const P=o.remove[m];for(let U=0;U<P.length;U++){const H=P[U];if(H>0){const te=ii(H,l);null!==te&&kh(l[Us],te)}else N1(r,wp(r,~H),l)}}}function DI(){const r=[];let l,m,o=-1;function U(te,ge){o=0;const xe=Gm(te,ge);m=null!==xe?te.remove[xe]:Js}function H(){if(o<m.length){const te=m[o++];return te>0?l[te]:(r.push(o,m),U(l[$n].data[~te],l),H())}return 0===r.length?null:(m=r.pop(),o=r.pop(),H())}return function P(te,ge){for(l=ge;r.length;)r.pop();return U(te.value,ge),H}}const $m=/\ufffd(\d+):?\d*\ufffd/gi,OI=/\ufffd(\d+)\ufffd/,F1=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,id="\ufffd",Wm=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,MI=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,II=/\uE500/g;function U1(r,o,l,m,P,U,H){const te=Vh(r,m,1,null);let ge=te<<Va.SHIFT,xe=nc();o===xe&&(xe=null),null===xe&&(ge|=Va.APPEND_EAGERLY),H&&(ge|=Va.COMMENT,function _T(r){void 0===Uh&&(Uh=r())}(DI)),P.push(ge,null===U?"":U);const tt=Gf(r,te,H?32:1,null===U?"":U,null);I1(l,tt);const Tt=tt.index;return xa(tt,!1),null!==xe&&o!==xe&&function fI(r,o){let l=r.insertBeforeIndex;null===l?(Xg(O1,M1),l=r.insertBeforeIndex=[null,o]):(Ot(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(xe,Tt),tt}function j1(r,o,l,m,P,U,H,te){const ge=te.match($m),tt=U1(o,l,m,H,P,ge?null:te,!1).index;ge&&eh(U,te,tt,null,0,null),r.push({kind:0,index:tt})}function eh(r,o,l,m,P,U){const H=r.length,te=H+1;r.push(null,null);const ge=H+2,xe=o.split($m);let tt=0;for(let Tt=0;Tt<xe.length;Tt++){const Gt=xe[Tt];if(1&Tt){const Xt=P+parseInt(Gt,10);r.push(-1-Xt),tt|=dv(Xt)}else""!==Gt&&r.push(Gt)}return r.push(l<<2|(m?1:0)),m&&r.push(m,U),r[H]=tt,r[te]=r.length-ge,tt}function dv(r){return 1<<Math.min(r,31)}function uv(r){let o,U,l="",m=0,P=!1;for(;null!==(o=Wm.exec(r));)P?o[0]===`${id}/*${U}${id}`&&(m=o.index,P=!1):(l+=r.substring(m,o.index+o[0].length),U=o[1],P=!0);return l+=r.slice(m),l}function V1(r,o,l,m,P,U,H){let te=0;const ge={type:U.type,currentCaseLViewIndex:Vh(o,l,1,null),anchorIdx:H,cases:[],create:[],remove:[],update:[]};(function K1(r,o,l){r.push(dv(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(m,U,H),function pI(r,o,l){const m=r.data[o];null===m?r.data[o]=l:m.value=l}(o,H,ge);const xe=U.values,tt=[];for(let Tt=0;Tt<xe.length;Tt++){const Gt=xe[Tt],Xt=[];for(let On=0;On<Gt.length;On++){const Xn=Gt[On];if("string"!=typeof Xn){const rs=Xt.push(Xn)-1;Gt[On]=`\x3c!--\ufffd${rs}\ufffd--\x3e`}}const on=[];tt.push(on),te=AI(on,o,ge,l,m,P,U.cases[Tt],Gt.join(""),Xt)|te}te&&function LI(r,o,l){r.push(o,1,l<<2|3)}(m,te,H),r.push({kind:3,index:H,cases:tt,currentCaseLViewIndex:ge.currentCaseLViewIndex})}function G1(r){const o=[],l=[];let m=1,P=0;const U=hv(r=r.replace(F1,function(H,te,ge){return m="select"===ge?0:1,P=parseInt(te.slice(1),10),""}));for(let H=0;H<U.length;){let te=U[H++].trim();1===m&&(te=te.replace(/\s*(?:=)?(\w+)\s*/,"$1")),te.length&&o.push(te);const ge=hv(U[H++]);o.length>l.length&&l.push(ge)}return{type:m,mainBinding:P,cases:o,values:l}}function hv(r){if(!r)return[];let o=0;const l=[],m=[],P=/[{}]/g;let U;for(P.lastIndex=0;U=P.exec(r);){const te=U.index;if("}"==U[0]){if(l.pop(),0==l.length){const ge=r.substring(o,te);F1.test(ge)?m.push(G1(ge)):m.push(ge),o=te+1}}else{if(0==l.length){const ge=r.substring(o,te);m.push(ge),o=te+1}l.push("{")}}const H=r.substring(o);return m.push(H),m}function AI(r,o,l,m,P,U,H,te,ge){const xe=[],tt=[],Tt=[];l.cases.push(H),l.create.push(xe),l.remove.push(tt),l.update.push(Tt);const Xt=A0(xc()).getInertBodyElement(te),on=Kg(Xt)||Xt;return on?$1(r,o,l,m,P,xe,tt,Tt,on,U,ge,0):0}function $1(r,o,l,m,P,U,H,te,ge,xe,tt,Tt){let Gt=0,Xt=ge.firstChild;for(;Xt;){const on=Vh(o,m,1,null);switch(Xt.nodeType){case Node.ELEMENT_NODE:const On=Xt,Xn=On.tagName.toLowerCase();if(ea.hasOwnProperty(Xn)){pv(U,km,Xn,xe,on),o.data[on]=Xn;const nr=On.attributes;for(let Ko=0;Ko<nr.length;Ko++){const dl=nr.item(Ko),cg=dl.name.toLowerCase();dl.value.match($m)?Bc.hasOwnProperty(cg)&&eh(te,dl.value,on,dl.name,0,il[cg]?Of:null):xI(U,on,dl)}const Ar={kind:1,index:on,children:[]};r.push(Ar),Gt=$1(Ar.children,o,l,m,P,U,H,te,Xt,on,tt,Tt+1)|Gt,W1(H,on,Tt)}break;case Node.TEXT_NODE:const rs=Xt.textContent||"",Bn=rs.match($m);pv(U,null,Bn?"":rs,xe,on),W1(H,on,Tt),Bn&&(Gt=eh(te,rs,on,null,0,null)|Gt),r.push({kind:0,index:on});break;case Node.COMMENT_NODE:const si=OI.exec(Xt.textContent||"");if(si){const Ar=tt[parseInt(si[1],10)];pv(U,ll,"",xe,on),V1(r,o,m,P,xe,Ar,on),wI(H,on,Tt)}}Xt=Xt.nextSibling}return Gt}function W1(r,o,l){0===l&&r.push(o)}function wI(r,o,l){0===l&&(r.push(~o),r.push(o))}function pv(r,o,l,m,P){null!==o&&r.push(o),r.push(l,P,function gI(r,o,l){return r|o<<17|l<<1}(0,m,P))}function xI(r,o,l){r.push(o<<1|1,l.name,l.value)}function H1(r,o,l=-1){const m=_i(),P=Tn(),U=Fn+r,H=Xs(m.consts,o),te=nc();m.firstCreatePass&&function SI(r,o,l,m,P,U){const H=nc(),te=[],ge=[],xe=[[]],tt=[[]];P=function Km(r,o){if(function RI(r){return-1===r}(o))return uv(r);{const l=r.indexOf(`:${o}${id}`)+2+o.toString().length,m=r.search(new RegExp(`${id}\\/\\*\\d+:${o}${id}`));return uv(r.substring(l,m))}}(P,U);const Tt=function B1(r){return r.replace(II," ")}(P).split(MI);for(let Gt=0;Gt<Tt.length;Gt++){let Xt=Tt[Gt];if(1&Gt){const on=47===Xt.charCodeAt(0),On=Xt.charCodeAt(on?1:0),Xn=Fn+Number.parseInt(Xt.substring(on?2:1));if(on)xe.shift(),tt.shift(),xa(nc(),!1);else{const rs=mI(r,xe[0],Xn);xe.unshift([]),xa(rs,!0);const Bn={kind:2,index:Xn,children:[],type:35===On?0:1};tt[0].push(Bn),tt.unshift(Bn.children)}}else{const on=hv(Xt);for(let On=0;On<on.length;On++){let Xn=on[On];if(1&On){const rs=Xn;if("object"!=typeof rs)throw new Error(`Unable to parse ICU expression in "${P}" message.`);const si=U1(r,H,xe[0],l,te,"",!0).index;V1(tt[0],r,l,ge,o,rs,si)}else""!==Xn&&j1(tt[0],r,H,xe[0],te,ge,l,Xn)}}}r.data[m]={create:te,update:ge,ast:tt[0]}}(m,null===te?0:te.index,P,U,H,l),2===m.type?P[ar][ms]|=32:P[ms]|=32;const ge=m.data[U],tt=Yg(m,te===P[ur]?null:te,P);(function CI(r,o,l,m){const P=r[Us];for(let U=0;U<o.length;U++){const H=o[U++],xe=(H&Va.APPEND_EAGERLY)===Va.APPEND_EAGERLY,tt=H>>>Va.SHIFT;let Tt=r[tt],Gt=!1;null===Tt&&(Tt=r[tt]=Np(r,tt,o[U],(H&Va.COMMENT)===Va.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Gt=gh()),xe&&null!==l&&Gt&&kc(P,l,Tt,m,!1)}})(P,ge.create,tt,te&&8&te.type?P[te.index]:null),Fe(!0)}function Y1(r,o,l){H1(r,o,l),function z1(){Fe(!1)}()}function _v(r){return function _I(r){r&&(Lp|=1<<Math.min(xp,31)),xp++}(io(Tn(),A(),r)),_v}function Ym(r){!function vI(r,o,l){if(xp>0){const m=r.data[l];x1(r,o,Array.isArray(m)?m:m.update,k()-xp-1,Lp)}Lp=0,xp=0}(_i(),Tn(),r+Fn)}function X1(r,o,l,m){const P=Tn(),U=_i(),H=ti();return Xm(U,P,P[Us],H,r,o,m),X1}function Xm(r,o,l,m,P,U,H){const te=Xa(m),xe=r.firstCreatePass&&Oy(r),tt=o[Pi],Tt=Ty(o);let Gt=!0;if(3&m.type||H){const On=Nr(m,o),Xn=H?H(On):On,rs=Tt.length,Bn=H?nr=>H(lr(nr[m.index])):m.index;let si=null;if(!H&&te&&(si=function VI(r,o,l,m){const P=r.cleanup;if(null!=P)for(let U=0;U<P.length-1;U+=2){const H=P[U];if(H===l&&P[U+1]===m){const te=o[Ir],ge=P[U+2];return te.length>ge?te[ge]:null}"string"==typeof H&&(U+=2)}return null}(r,o,P,m.index)),null!==si)(si.__ngLastListenerFn__||si).__ngNextListenerFn__=U,si.__ngLastListenerFn__=U,Gt=!1;else{U=Q1(m,o,tt,U,!1);const nr=l.listen(Xn,P,U);Tt.push(U,nr),xe&&xe.push(P,Bn,rs,rs+1)}}else U=Q1(m,o,tt,U,!1);const Xt=m.outputs;let on;if(Gt&&null!==Xt&&(on=Xt[P])){const On=on.length;if(On)for(let Xn=0;Xn<On;Xn+=2){const Ar=o[on[Xn]][on[Xn+1]].subscribe(U),Ko=Tt.length;Tt.push(U,Ar),xe&&xe.push(P,m.index,Ko,-(Ko+1))}}}function vv(r,o,l,m){const P=d(null);try{return Es(6,o,l),!1!==l(m)}catch(U){return Kf(r,U),!1}finally{Es(7,o,l),d(P)}}function Q1(r,o,l,m,P){return function U(H){if(H===Function)return m;Qh(r.componentOffset>-1?Fr(r.index,o):o);let ge=vv(o,l,m,H),xe=U.__ngNextListenerFn__;for(;xe;)ge=vv(o,l,xe,H)&&ge,xe=xe.__ngNextListenerFn__;return P&&!1===ge&&H.preventDefault(),ge}}function Z1(r=1){return function Yp(r){return(ei.lFrame.contextLView=function Ns(r,o){for(;r>0;)o=o[Do],r--;return o}(r,ei.lFrame.contextLView))[Pi]}(r)}function GI(r,o){let l=null;const m=function or(r){const o=r.attrs;if(null!=o){const l=o.indexOf(5);if(!(1&l))return o[l+1]}return null}(r);for(let P=0;P<o.length;P++){const U=o[P];if("*"!==U){if(null===m?Ni(r,U,!0):Fo(m,U))return P}else l=P}return l}function q1(r){const o=Tn()[ar][ur];if(!o.projection){const m=o.projection=function Is(r,o){const l=[];for(let m=0;m<r;m++)l.push(o);return l}(r?r.length:1,null),P=m.slice();let U=o.child;for(;null!==U;){const H=r?GI(U,r):0;null!==H&&(P[H]?P[H].projectionNext=U:m[H]=U,P[H]=U),U=U.next}}}function Jm(r,o=0,l){const m=Tn(),P=_i(),U=Sd(P,Fn+r,16,null,l||null);null===U.projection&&(U.projection=o),fh(),(!m[xr]||hd())&&32&~U.flags&&function DT(r,o,l){oy(o[Us],0,o,l,Bf(r,l,o),ny(l.parent||o[ur],l,o))}(P,m,U)}function yv(r,o,l){return Qm(r,"",o,"",l),yv}function Qm(r,o,l,m,P){const U=Tn(),H=$u(U,o,l,m);return H!==fi&&ba(_i(),pr(),U,r,H,U[Us],P,!1),Qm}function Zm(r,o,l,m,P,U,H){const te=Tn(),ge=Wu(te,o,l,m,P,U);return ge!==fi&&ba(_i(),pr(),te,r,ge,te[Us],H,!1),Zm}function oC(r,o,l,m){!function dE(r,o,l,m){const P=_i();if(P.firstCreatePass){const U=ti();uE(P,new oE(o,l,m),U.index),function kO(r,o){const l=r.contentQueries||(r.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(r.queries.length-1,o)}(P,r),!(2&~l)&&(P.staticContentQueries=!0)}return lE(P,Tn(),l)}(r,o,l,m)}function aC(r,o,l){!function cE(r,o,l){const m=_i();return m.firstCreatePass&&(uE(m,new oE(r,o,l),-1),!(2&~o)&&(m.staticViewQueries=!0)),lE(m,Tn(),o)}(r,o,l)}function lC(r){const o=Tn(),l=_i(),m=es();Ls(m+1);const P=D_(l,m);if(r.dirty&&function To(r){return!(4&~r[ms])}(o)===!(2&~P.metadata.flags)){if(null===P.matches)r.reset([]);else{const U=hE(o,m);r.reset(U,h0),r.notifyOnChanges()}return!0}return!1}function cC(){return function b_(r,o){return r[hr].queries[o].queryList}(Tn(),es())}function dC(r){return ud(function fg(){return ei.lFrame.contextLView}(),Fn+r)}function gC(r,o=""){const l=Tn(),m=_i(),P=r+Fn,U=m.firstCreatePass?Sd(m,P,1,o,null):m.data[P],H=_C(m,l,U,o,r);l[P]=H,gh()&&kf(m,l,H,U),xa(U,!1)}let _C=(r,o,l,m,P)=>(Bl(!0),zg(o[Us],m));function sS(r,o,l,m,P){const U=o[xr],H=!U||hd()||fp(l)||bd(U,P);return Bl(H),H?zg(o[Us],m):Qf(U,r,o,l)}function bv(r){return qm("",r,""),bv}function qm(r,o,l){const m=Tn(),P=$u(m,r,o,l);return P!==fi&&gc(m,no(),P),qm}function Dv(r,o,l,m,P){const U=Tn(),H=Wu(U,r,o,l,m,P);return H!==fi&&gc(U,no(),H),Dv}function Tv(r,o,l,m,P,U,H){const te=Tn(),ge=function Ku(r,o,l,m,P,U,H,te){const xe=vm(r,k(),l,P,H);return W(3),xe?o+gs(l)+m+gs(P)+U+gs(H)+te:fi}(te,r,o,l,m,P,U,H);return ge!==fi&&gc(te,no(),ge),Tv}function vC(r,o,l,m,P,U,H,te,ge){const xe=Tn(),tt=function Hu(r,o,l,m,P,U,H,te,ge,xe){const Tt=al(r,k(),l,P,H,ge);return W(4),Tt?o+gs(l)+m+gs(P)+U+gs(H)+te+gs(ge)+xe:fi}(xe,r,o,l,m,P,U,H,te,ge);return tt!==fi&&gc(xe,no(),tt),vC}function Ov(r,o,l){mE(o)&&(o=o());const m=Tn();return io(m,A(),o)&&ba(_i(),pr(),m,r,o,m[Us],l,!1),Ov}function dS(r,o){const l=mE(r);return l&&r.set(o),l}function yC(r,o){const l=Tn(),m=_i(),P=ti();return Xm(m,l,l[Us],P,r,o),yC}function Mv(r,o,l,m,P){if(r=Ke(r),Array.isArray(r))for(let U=0;U<r.length;U++)Mv(r[U],o,l,m,P);else{const U=_i(),H=Tn(),te=ti();let ge=Jt(r)?r:Ke(r.provide);const xe=Zi(r),tt=1048575&te.providerIndexes,Tt=te.directiveStart,Gt=te.providerIndexes>>20;if(Jt(r)||!r.multi){const Xt=new pd(xe,P,Du),on=EC(ge,o,P?tt:tt+Gt,Tt);-1===on?(vl(vh(te,H),U,ge),Iv(U,r,o.length),o.push(ge),te.directiveStart++,te.directiveEnd++,P&&(te.providerIndexes+=1048576),l.push(Xt),H.push(Xt)):(l[on]=Xt,H[on]=Xt)}else{const Xt=EC(ge,o,tt+Gt,Tt),on=EC(ge,o,tt,tt+Gt),Xn=on>=0&&l[on];if(P&&!Xn||!P&&!(Xt>=0&&l[Xt])){vl(vh(te,H),U,ge);const rs=function bC(r,o,l,m,P){const U=new pd(r,l,Du);return U.multi=[],U.index=o,U.componentProviders=0,hS(U,P,m&&!l),U}(P?CC:sA,l.length,P,m,xe);!P&&Xn&&(l[on].providerFactory=rs),Iv(U,r,o.length,0),o.push(ge),te.directiveStart++,te.directiveEnd++,P&&(te.providerIndexes+=1048576),l.push(rs),H.push(rs)}else Iv(U,r,Xt>-1?Xt:on,hS(l[P?on:Xt],xe,!P&&m));!P&&m&&Xn&&l[on].componentProviders++}}}function Iv(r,o,l,m){const P=Jt(o),U=function ln(r){return!!r.useClass}(o);if(P||U){const ge=(U?Ke(o.useClass):o).prototype.ngOnDestroy;if(ge){const xe=r.destroyHooks||(r.destroyHooks=[]);if(!P&&o.multi){const tt=xe.indexOf(l);-1===tt?xe.push(l,[m,ge]):xe[tt+1].push(m,ge)}else xe.push(l,ge)}}}function hS(r,o,l){return l&&r.componentProviders++,r.multi.push(o)-1}function EC(r,o,l,m){for(let P=l;P<m;P++)if(o[P]===r)return P;return-1}function sA(r,o,l,m){return Fp(this.multi,[])}function CC(r,o,l,m){const P=this.multi;let U;if(this.providerFactory){const H=this.providerFactory.componentProviders,te=fd(l,l[$n],this.providerFactory.index,m);U=te.slice(0,H),Fp(P,U);for(let ge=H;ge<te.length;ge++)U.push(te[ge])}else U=[],Fp(P,U);return U}function Fp(r,o){for(let l=0;l<r.length;l++)o.push((0,r[l])());return o}function DC(r,o=[]){return l=>{l.providersResolver=(m,P)=>function uS(r,o,l){const m=_i();if(m.firstCreatePass){const P=Jr(r);Mv(l,m.data,m.blueprint,P,!0),Mv(o,m.data,m.blueprint,P,!1)}}(m,P?P(r):r,o)}}let TC=(()=>{class r{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const m=Lr(0,l.type),P=m.length>0?B_([m],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,P)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=yn({token:r,providedIn:"environment",factory:()=>new r(rr(ci))})}return r})();function Sv(r){Pl("NgStandalone"),r.getStandaloneInjector=o=>o.get(TC).getOrCreateStandaloneInjector(r)}function Rv(r,o,l){const m=Vo()+r,P=Tn();return P[m]===fi?zl(P,m,l?o.call(l):o()):function pp(r,o){return r[o]}(P,m)}function fS(r,o,l,m){return Av(Tn(),Vo(),r,o,l,m)}function mS(r,o,l,m,P){return PC(Tn(),Vo(),r,o,l,m,P)}function MC(r,o,l,m,P,U){return RC(Tn(),Vo(),r,o,l,m,P,U)}function IC(r,o,l,m,P,U,H){return function AC(r,o,l,m,P,U,H,te,ge){const xe=o+l;return al(r,xe,P,U,H,te)?zl(r,xe+4,ge?m.call(ge,P,U,H,te):m(P,U,H,te)):tg(r,xe+4)}(Tn(),Vo(),r,o,l,m,P,U,H)}function tg(r,o){const l=r[o];return l===fi?void 0:l}function Av(r,o,l,m,P,U){const H=o+l;return io(r,H,P)?zl(r,H+1,U?m.call(U,P):m(P)):tg(r,H+1)}function PC(r,o,l,m,P,U,H){const te=o+l;return Bd(r,te,P,U)?zl(r,te+2,H?m.call(H,P,U):m(P,U)):tg(r,te+2)}function RC(r,o,l,m,P,U,H,te){const ge=o+l;return vm(r,ge,P,U,H)?zl(r,ge+3,te?m.call(te,P,U,H):m(P,U,H)):tg(r,ge+3)}function LC(r,o){const l=_i();let m;const P=r+Fn;l.firstCreatePass?(m=function gS(r,o){if(o)for(let l=o.length-1;l>=0;l--){const m=o[l];if(r===m.name)return m}}(o,l.pipeRegistry),l.data[P]=m,m.onDestroy&&(l.destroyHooks??=[]).push(P,m.onDestroy)):m=l.data[P];const U=m.factory||(m.factory=Rt(m.type)),te=cs(Du);try{const ge=ef(!1),xe=U();return ef(ge),function HI(r,o,l,m){l>=r.data.length&&(r.data[l]=null,r.blueprint[l]=null),o[l]=m}(l,Tn(),P,xe),xe}finally{cs(te)}}function xC(r,o,l){const m=r+Fn,P=Tn(),U=ud(P,m);return Bp(P,m)?Av(P,Vo(),o,U.transform,l,U):U.transform(l)}function NC(r,o,l,m){const P=r+Fn,U=Tn(),H=ud(U,P);return Bp(U,P)?PC(U,Vo(),o,H.transform,l,m,H):H.transform(l,m)}function FC(r,o,l,m,P){const U=r+Fn,H=Tn(),te=ud(H,U);return Bp(H,U)?RC(H,Vo(),o,te.transform,l,m,P,te):te.transform(l,m,P)}function Bp(r,o){return r[$n].data[o].pure}function BC(r,o){return Gc(r,o)}class Bv{constructor(o){this.full=o;const l=o.split(".");this.major=l[0],this.minor=l[1],this.patch=l.slice(2).join(".")}}let JC=(()=>{class r{log(l){console.log(l)}warn(l){console.warn(l)}static#e=this.\u0275fac=function(m){return new(m||r)};static#t=this.\u0275prov=yn({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const tb=new mt(""),nb=new mt("");let og,aP=(()=>{class r{constructor(l,m,P){this._ngZone=l,this.registry=m,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,og||(function sb(r){og=r}(P),P.addToWindow(m)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb()}});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(m=>!m.updateCb||!m.updateCb(l)||(clearTimeout(m.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,m,P){let U=-1;m&&m>0&&(U=setTimeout(()=>{this._callbacks=this._callbacks.filter(H=>H.timeoutId!==U),l()},m)),this._callbacks.push({doneCb:l,timeoutId:U,updateCb:P})}whenStable(l,m,P){if(P&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,m,P),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,m,P){return[]}static#e=this.\u0275fac=function(m){return new(m||r)(rr(Wr),rr(jv),rr(nb))};static#t=this.\u0275prov=yn({token:r,factory:r.\u0275fac})}return r})(),jv=(()=>{class r{constructor(){this._applications=new Map}registerApplication(l,m){this._applications.set(l,m)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,m=!0){return og?.findTestabilityInTree(this,l,m)??null}static#e=this.\u0275fac=function(m){return new(m||r)};static#t=this.\u0275prov=yn({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function p(r){return!!r&&"function"==typeof r.then}function C(r){return!!r&&"function"==typeof r.subscribe}const a=new mt("");let h=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,m)=>{this.resolve=l,this.reject=m}),this.appInits=Ps(a,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const P of this.appInits){const U=P();if(p(U))l.push(U);else if(C(U)){const H=new Promise((te,ge)=>{U.subscribe({complete:te,error:ge})});l.push(H)}}const m=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{m()}).catch(P=>{this.reject(P)}),0===l.length&&m(),this.initialized=!0}static#e=this.\u0275fac=function(m){return new(m||r)};static#t=this.\u0275prov=yn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const N=new mt("");let as,Qt=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ps(d0),this.afterRenderEffectManager=Ps(op),this.externalTestViews=new Set,this.beforeRender=new qe.B,this.afterTick=new qe.B,this.componentTypes=[],this.components=[],this.isStable=Ps(xu).hasPendingTasks.pipe((0,Ve.T)(l=>!l)),this._injector=Ps(ci)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,m){const P=l instanceof Uy;if(!this._injector.get(h).done)throw!P&&jo(l),new at(405,!1);let H;H=P?l:this._injector.get(Su).resolveComponentFactory(l),this.componentTypes.push(H.componentType);const te=function Le(r){return r.isBoundToModule}(H)?void 0:this._injector.get(Fd),xe=H.create(Na.NULL,[],m||H.selector,te),tt=xe.location.nativeElement,Tt=xe.injector.get(tb,null);return Tt?.registerApplication(tt),xe.onDestroy(()=>{this.detachView(xe.hostView),Yn(this.components,xe),Tt?.unregisterApplication(tt)}),this._loadComponent(xe),xe}tick(){this._tick(!0)}_tick(l){if(this._runningTick)throw new at(101,!1);const m=d(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(l)}catch(P){this.internalErrorHandler(P)}finally{this.afterTick.next(),this._runningTick=!1,d(m)}}detectChangesInAttachedViews(l){let m=0;const P=this.afterRenderEffectManager;for(;;){if(m===Da)throw new at(103,!1);if(l){const U=0===m;this.beforeRender.next(U);for(let{_lView:H,notifyErrorHandler:te}of this._views)Qn(H,U,te)}if(m++,P.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:U})=>Vs(U))&&(P.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:U})=>Vs(U))))break}}attachView(l){const m=l;this._views.push(m),m.attachToAppRef(this)}detachView(l){const m=l;Yn(this._views,m),m.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const m=this._injector.get(N,[]);[...this._bootstrapListeners,...m].forEach(P=>P(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Yn(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new at(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(m){return new(m||r)};static#t=this.\u0275prov=yn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Yn(r,o){const l=r.indexOf(o);l>-1&&r.splice(l,1)}function Nn(r){as??=new WeakMap;const o=as.get(r);if(o)return o;const l=r.isStable.pipe((0,et.$)(m=>m)).toPromise().then(()=>{});return as.set(r,l),r.onDestroy(()=>as?.delete(r)),l}function Qn(r,o,l){!o&&!Vs(r)||function Li(r,o,l){let m;l?(m=0,r[ms]|=1024):m=64&r[ms]?0:1,Yf(r,o,m)}(r,l,o)}function Vs(r){return Ll(r)}class mi{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let Tr=(()=>{class r{compileModuleSync(l){return new hp(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const m=this.compileModuleSync(l),U=Ba(Ts(l).declarations).reduce((H,te)=>{const ge=vs(te);return ge&&H.push(new Xc(ge)),H},[]);return new mi(m,U)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}static#e=this.\u0275fac=function(m){return new(m||r)};static#t=this.\u0275prov=yn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ma=(()=>{class r{constructor(){this.zone=Ps(Wr),this.applicationRef=Ps(Qt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(m){return new(m||r)};static#t=this.\u0275prov=yn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function zd(r){return[{provide:Wr,useFactory:r},{provide:mr,multi:!0,useFactory:()=>{const o=Ps(Ma,{optional:!0});return()=>o.initialize()}},{provide:mr,multi:!0,useFactory:()=>{const o=Ps(rb);return()=>{o.initialize()}}},{provide:d0,useFactory:ib}]}function ib(){const r=Ps(Wr),o=Ps(yl);return l=>r.runOutsideAngular(()=>o.handleError(l))}function Yd(r){return Ro([[],zd(()=>new Wr(function ag(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}(r)))])}let rb=(()=>{class r{constructor(){this.subscription=new we.yU,this.initialized=!1,this.zone=Ps(Wr),this.pendingTasks=Ps(xu)}initialize(){if(this.initialized)return;this.initialized=!0;let l=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(l=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Wr.assertNotInAngularZone(),queueMicrotask(()=>{null!==l&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(l),l=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Wr.assertInAngularZone(),l??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(m){return new(m||r)};static#t=this.\u0275prov=yn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Ms=new mt("",{providedIn:"root",factory:()=>Ps(Ms,Ut.Optional|Ut.SkipSelf)||function ob(){return typeof $localize<"u"&&$localize.locale||Wd}()}),Ys=new mt("",{providedIn:"root",factory:()=>"USD"}),cl=new mt("");let ha=null;function r2(){return!1}function o2(){}let TA=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=a2}return r})();function a2(r){return function l2(r,o,l){if(Ao(r)&&!l){const m=Fr(r.index,o);return new Zh(m,m)}return 47&r.type?new Zh(o[ar],o):null}(ti(),Tn(),!(16&~r))}class SA{constructor(){}supports(o){return _m(o)}create(o){return new p2(o)}}const h2=(r,o)=>o;class p2{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||h2}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,m=this._removalsHead,P=0,U=null;for(;l||m;){const H=!m||l&&l.currentIndex<RA(m,P,U)?l:m,te=RA(H,P,U),ge=H.currentIndex;if(H===m)P--,m=m._nextRemoved;else if(l=l._next,null==H.previousIndex)P++;else{U||(U=[]);const xe=te-P,tt=ge-P;if(xe!=tt){for(let Gt=0;Gt<xe;Gt++){const Xt=Gt<U.length?U[Gt]:U[Gt]=0,on=Xt+Gt;tt<=on&&on<xe&&(U[Gt]=Xt+1)}U[H.previousIndex]=tt-xe}}te!==ge&&o(H,te,ge)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!_m(o))throw new at(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let P,U,H,l=this._itHead,m=!1;if(Array.isArray(o)){this.length=o.length;for(let te=0;te<this.length;te++)U=o[te],H=this._trackByFn(te,U),null!==l&&Object.is(l.trackById,H)?(m&&(l=this._verifyReinsertion(l,U,H,te)),Object.is(l.item,U)||this._addIdentityChange(l,U)):(l=this._mismatch(l,U,H,te),m=!0),l=l._next}else P=0,function rM(r,o){if(Array.isArray(r))for(let l=0;l<r.length;l++)o(r[l]);else{const l=r[Symbol.iterator]();let m;for(;!(m=l.next()).done;)o(m.value)}}(o,te=>{H=this._trackByFn(P,te),null!==l&&Object.is(l.trackById,H)?(m&&(l=this._verifyReinsertion(l,te,H,P)),Object.is(l.item,te)||this._addIdentityChange(l,te)):(l=this._mismatch(l,te,H,P),m=!0),l=l._next,P++}),this.length=P;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,m,P){let U;return null===o?U=this._itTail:(U=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,U,P)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(m,P))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,U,P)):o=this._addAfter(new f2(l,m),U,P),o}_verifyReinsertion(o,l,m,P){let U=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null);return null!==U?o=this._reinsertAfter(U,o._prev,P):o.currentIndex!=P&&(o.currentIndex=P,this._addToMoves(o,P)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,m){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const P=o._prevRemoved,U=o._nextRemoved;return null===P?this._removalsHead=U:P._nextRemoved=U,null===U?this._removalsTail=P:U._prevRemoved=P,this._insertAfter(o,l,m),this._addToMoves(o,m),o}_moveAfter(o,l,m){return this._unlink(o),this._insertAfter(o,l,m),this._addToMoves(o,m),o}_addAfter(o,l,m){return this._insertAfter(o,l,m),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,m){const P=null===l?this._itHead:l._next;return o._next=P,o._prev=l,null===P?this._itTail=o:P._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new PA),this._linkedRecords.put(o),o.currentIndex=m,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,m=o._next;return null===l?this._itHead=m:l._next=m,null===m?this._itTail=l:m._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PA),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class f2{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class m2{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let m;for(m=this._head;null!==m;m=m._nextDup)if((null===l||l<=m.currentIndex)&&Object.is(m.trackById,o))return m;return null}remove(o){const l=o._prevDup,m=o._nextDup;return null===l?this._head=m:l._nextDup=m,null===m?this._tail=l:m._prevDup=l,null===this._head}}class PA{constructor(){this.map=new Map}put(o){const l=o.trackById;let m=this.map.get(l);m||(m=new m2,this.map.set(l,m)),m.add(o)}get(o,l){const P=this.map.get(o);return P?P.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RA(r,o,l){const m=r.previousIndex;if(null===m)return m;let P=0;return l&&m<l.length&&(P=l[m]),m+o+P}class AA{constructor(){}supports(o){return o instanceof Map||U_(o)}create(){return new g2}}class g2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||U_(o)))throw new at(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(m,P)=>{if(l&&l.key===P)this._maybeAddToChanges(l,m),this._appendAfter=l,l=l._next;else{const U=this._getOrCreateRecordForKey(P,m);l=this._insertBeforeOrAppend(l,U)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let m=l;null!==m;m=m._nextRemoved)m===this._mapHead&&(this._mapHead=null),this._records.delete(m.key),m._nextRemoved=m._next,m.previousValue=m.currentValue,m.currentValue=null,m._prev=null,m._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const m=o._prev;return l._next=o,l._prev=m,o._prev=l,m&&(m._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const P=this._records.get(o);this._maybeAddToChanges(P,l);const U=P._prev,H=P._next;return U&&(U._next=H),H&&(H._prev=U),P._next=null,P._prev=null,P}const m=new _2(o);return this._records.set(o,m),m.currentValue=l,this._addToAdditions(m),m}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(m=>l(o[m],m))}}class _2{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wA(){return new hP([new SA])}let hP=(()=>{class r{static#e=this.\u0275prov=yn({token:r,providedIn:"root",factory:wA});constructor(l){this.factories=l}static create(l,m){if(null!=m){const P=m.factories.slice();l=l.concat(P)}return new r(l)}static extend(l){return{provide:r,useFactory:m=>r.create(l,m||wA()),deps:[[r,new ot,new Co]]}}find(l){const m=this.factories.find(P=>P.supports(l));if(null!=m)return m;throw new at(901,!1)}}return r})();function LA(){return new pP([new AA])}let pP=(()=>{class r{static#e=this.\u0275prov=yn({token:r,providedIn:"root",factory:LA});constructor(l){this.factories=l}static create(l,m){if(m){const P=m.factories.slice();l=l.concat(P)}return new r(l)}static extend(l){return{provide:r,useFactory:m=>r.create(l,m||LA()),deps:[[r,new ot,new Co]]}}find(l){const m=this.factories.find(P=>P.supports(l));if(m)return m;throw new at(901,!1)}}return r})();function x2(r){try{const{rootComponent:o,appProviders:l,platformProviders:m}=r,P=function Vv(r=[]){if(ha)return ha;const o=function $o(r=[],o){return Na.create({name:o,providers:[{provide:Sn,useValue:"platform"},{provide:cl,useValue:new Set([()=>ha=null])},...r]})}(r);return ha=o,function Ae(){!function q(r){J=r}(()=>{throw new at(600,!1)})}(),function bA(r){r.get(xg,null)?.forEach(l=>l())}(o),o}(m),U=[Yd(),...l||[]],te=new mm({providers:U,parent:P,debugName:"",runEnvironmentInitializers:!1}).injector,ge=te.get(Wr);return ge.run(()=>{te.resolveInjectorInitializers();const xe=te.get(yl,null);let tt;ge.runOutsideAngular(()=>{tt=ge.onError.subscribe({next:Xt=>{xe.handleError(Xt)}})});const Tt=()=>te.destroy(),Gt=P.get(cl);return Gt.add(Tt),te.onDestroy(()=>{tt.unsubscribe(),Gt.delete(Tt)}),function Ft(r,o,l){try{const m=l();return p(m)?m.catch(P=>{throw o.runOutsideAngular(()=>r.handleError(P)),P}):m}catch(m){throw o.runOutsideAngular(()=>r.handleError(m)),m}}(xe,ge,()=>{const Xt=te.get(h);return Xt.runInitializers(),Xt.donePromise.then(()=>{!function Vm(r){"string"==typeof r&&(T1=r.toLowerCase().replace(/_/g,"-"))}(te.get(Ms,Wd)||Wd);const On=te.get(Qt);return void 0!==o&&On.bootstrap(o),On})})})}catch(o){return Promise.reject(o)}}let zA=!1,YA=!1;function U2(){return Ro([{provide:bf,useFactory:()=>{let r=!0;return yo()&&(r=!!Ps(Oh,{optional:!0})?.get(jg,null)),r&&Pl("NgHydration"),r}},{provide:mr,useValue:()=>{YA=!!Ps(S0,{optional:!0}),yo()&&Ps(bf)&&(function k2(){const r=xc();let o;for(const l of r.body.childNodes)if(l.nodeType===Node.COMMENT_NODE&&l.textContent?.trim()===O0){o=l;break}if(!o)throw new at(-507,!1)}(),function F2(){zA||(zA=!0,function $D(){kg=cc}(),function Oa(){y1=Fm}(),function iS(){_C=sS}(),function iI(){E1=Rp}(),function cM(){j_=lM}(),function FO(){sE=cp,v_=NO}(),function fO(){By=pO}(),function _y(){mc=gy}(),function EI(){Np=yI}())}())},multi:!0},{provide:uc,useFactory:()=>yo()&&Ps(bf)},{provide:N,useFactory:()=>{if(yo()&&Ps(bf)){const r=Ps(Qt);return Ps(Na),()=>{(function B2(r,o){return Nn(r)})(r).then(()=>{!function oO(r){const o=r._views;for(const l of o){const m=Vg(l);null!==m&&null!==m[pi]&&(Pr(m)?Jf(m):(Jf(m[pi]),Ny(m)))}}(r)})}}return()=>{}},multi:!0}])}function J2(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function Q2(r,o=NaN){return isNaN(parseFloat(r))||isNaN(Number(r))?o:Number(r)}function q2(r,o){Pl("NgSignals");const l=function Y(r){const o=Object.create(ae);o.computation=r;const l=()=>{if(T(o),O(o),o.value===K)throw o.error;return o.value};return l[g]=o,l}(r);return o?.equal&&(l[g].equal=o.equal),l}function ew(r){const o=d(null);try{return r()}finally{d(o)}}const tw=new mt("",{providedIn:"root",factory:()=>Ps(nw)});let nw=(()=>{class r{static#e=this.\u0275prov=yn({token:r,providedIn:"root",factory:()=>new sw})}return r})();class sw{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Ps(xu),this.taskId=null}scheduleEffect(o){if(this.enqueue(o),null===this.taskId){const l=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(l),this.taskId=null})}}enqueue(o){const l=o.creationZone;this.queues.has(l)||this.queues.set(l,new Set);const m=this.queues.get(l);m.has(o)||(this.queuedEffectCount++,m.add(o))}flush(){for(;this.queuedEffectCount>0;)for(const[o,l]of this.queues)null===o?this.flushQueue(l):o.run(()=>this.flushQueue(l))}flushQueue(o){for(const l of o)o.delete(l),this.queuedEffectCount--,l.run()}}class iw{constructor(o,l,m,P,U,H){this.scheduler=o,this.effectFn=l,this.creationZone=m,this.injector=U,this.watcher=function ve(r,o,l){const m=Object.create(Ie);l&&(m.consumerAllowSignalWrites=!0),m.fn=r,m.schedule=o;const P=ge=>{m.cleanupFn=ge};return m.ref={notify:()=>w(m),run:()=>{if(null===m.fn)return;if(function E(){return e}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(m.dirty=!1,m.hasRun&&!M(m))return;m.hasRun=!0;const ge=v(m);try{m.cleanupFn(),m.cleanupFn=fe,m.fn(P)}finally{S(m,ge)}},cleanup:()=>m.cleanupFn(),destroy:()=>function H(ge){(function U(ge){return null===ge.fn&&null===ge.schedule})(ge)||(L(ge),ge.cleanupFn(),ge.fn=null,ge.schedule=null,ge.cleanupFn=fe)}(m),[g]:m},m.ref}(te=>this.runEffect(te),()=>this.schedule(),H),this.unregisterOnDestroy=P?.onDestroy(()=>this.destroy())}runEffect(o){try{this.effectFn(o)}catch(l){this.injector.get(yl,null,{optional:!0})?.handleError(l)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function t2(r,o){Pl("NgSignals"),!o?.injector&&_e();const l=o?.injector??Ps(Na),m=!0!==o?.manualCleanup?l.get(Ue):null,P=new iw(l.get(tw),r,typeof Zone>"u"?null:Zone.current,m,l,o?.allowSignalWrites??!1),U=l.get(TA,null,{optional:!0});return U&&8&U._lView[ms]?(U._lView[Dc]??=[]).push(P.watcher.notify):P.watcher.notify(),P}function rw(r,o){const l=vs(r),m=o.elementInjector||Gn();return new Xc(l).create(m,o.projectableNodes,o.hostElement,o.environmentInjector)}function ow(r){const o=vs(r);if(!o)return null;const l=new Xc(o);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}function aw(...r){return r.reduce((o,l)=>Object.assign(o,l,{providers:[...o.providers,...l.providers]}),{providers:[]})}},10936:(B,D,t)=>{"use strict";t.d(D,{$R:()=>xi,BC:()=>yt,Bm:()=>Js,Fm:()=>Kt,J3:()=>Ot,JD:()=>lo,MJ:()=>Cs,Q0:()=>Ho,R_:()=>$s,VZ:()=>ct,W0:()=>Er,X1:()=>pa,Y4:()=>Ji,YN:()=>kr,YS:()=>gn,ZU:()=>qe,Zm:()=>_,cV:()=>An,cb:()=>it,cz:()=>w,hs:()=>yi,j4:()=>ir,k0:()=>M,kq:()=>y,l_:()=>ai,me:()=>T,ok:()=>gr,pg:()=>v,qT:()=>Zs,tU:()=>Gs,v8:()=>Zr,vO:()=>we,vS:()=>gs,wz:()=>No,xH:()=>rr,xh:()=>di,xq:()=>Jn,y7:()=>uo,zX:()=>st,ze:()=>Yo});var i=t(53107),n=t(54460),c=t(33325),e=t(82653),f=t(47947);let g=(()=>{class Ge{constructor(se,$e){this._renderer=se,this._elementRef=$e,this.onChange=me=>{},this.onTouched=()=>{}}setProperty(se,$e){this._renderer.setProperty(this._elementRef.nativeElement,se,$e)}registerOnTouched(se){this.onTouched=se}registerOnChange(se){this.onChange=se}setDisabledState(se){this.setProperty("disabled",se)}static#e=this.\u0275fac=function($e){return new($e||Ge)(i.rXU(i.sFG),i.rXU(i.aKT))};static#t=this.\u0275dir=i.FsC({type:Ge})}return Ge})(),d=(()=>{class Ge extends g{static#e=this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(Ge)))(me||Ge)}})();static#t=this.\u0275dir=i.FsC({type:Ge,features:[i.Vt3]})}return Ge})();const y=new i.nKC(""),E={provide:y,useExisting:(0,i.Rfq)(()=>_),multi:!0};let _=(()=>{class Ge extends d{writeValue(se){this.setProperty("checked",se)}static#e=this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(Ge)))(me||Ge)}})();static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function($e,me){1&$e&&i.bIt("change",function(kt){return me.onChange(kt.target.checked)})("blur",function(){return me.onTouched()})},features:[i.Jv_([E]),i.Vt3]})}return Ge})();const b={provide:y,useExisting:(0,i.Rfq)(()=>T),multi:!0},I=new i.nKC("");let T=(()=>{class Ge extends g{constructor(se,$e,me){super(se,$e),this._compositionMode=me,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function O(){const Ge=(0,n.QT)()?(0,n.QT)().getUserAgent():"";return/android (\d+)/.test(Ge.toLowerCase())}())}writeValue(se){this.setProperty("value",se??"")}_handleInput(se){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(se)}_compositionStart(){this._composing=!0}_compositionEnd(se){this._composing=!1,this._compositionMode&&this.onChange(se)}static#e=this.\u0275fac=function($e){return new($e||Ge)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(I,8))};static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($e,me){1&$e&&i.bIt("input",function(kt){return me._handleInput(kt.target.value)})("blur",function(){return me.onTouched()})("compositionstart",function(){return me._compositionStart()})("compositionend",function(kt){return me._compositionEnd(kt.target.value)})},features:[i.Jv_([b]),i.Vt3]})}return Ge})();function R(Ge){return null==Ge||("string"==typeof Ge||Array.isArray(Ge))&&0===Ge.length}function u(Ge){return null!=Ge&&"number"==typeof Ge.length}const w=new i.nKC(""),v=new i.nKC(""),S=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class M{static min(Xe){return L(Xe)}static max(Xe){return F(Xe)}static required(Xe){return $(Xe)}static requiredTrue(Xe){return j(Xe)}static email(Xe){return function x(Ge){return R(Ge.value)||S.test(Ge.value)?null:{email:!0}}(Xe)}static minLength(Xe){return G(Xe)}static maxLength(Xe){return Y(Xe)}static pattern(Xe){return V(Xe)}static nullValidator(Xe){return null}static compose(Xe){return ee(Xe)}static composeAsync(Xe){return Ce(Xe)}}function L(Ge){return Xe=>{if(R(Xe.value)||R(Ge))return null;const se=parseFloat(Xe.value);return!isNaN(se)&&se<Ge?{min:{min:Ge,actual:Xe.value}}:null}}function F(Ge){return Xe=>{if(R(Xe.value)||R(Ge))return null;const se=parseFloat(Xe.value);return!isNaN(se)&&se>Ge?{max:{max:Ge,actual:Xe.value}}:null}}function $(Ge){return R(Ge.value)?{required:!0}:null}function j(Ge){return!0===Ge.value?null:{required:!0}}function G(Ge){return Xe=>R(Xe.value)||!u(Xe.value)?null:Xe.value.length<Ge?{minlength:{requiredLength:Ge,actualLength:Xe.value.length}}:null}function Y(Ge){return Xe=>u(Xe.value)&&Xe.value.length>Ge?{maxlength:{requiredLength:Ge,actualLength:Xe.value.length}}:null}function V(Ge){if(!Ge)return X;let Xe,se;return"string"==typeof Ge?(se="","^"!==Ge.charAt(0)&&(se+="^"),se+=Ge,"$"!==Ge.charAt(Ge.length-1)&&(se+="$"),Xe=new RegExp(se)):(se=Ge.toString(),Xe=Ge),$e=>{if(R($e.value))return null;const me=$e.value;return Xe.test(me)?null:{pattern:{requiredPattern:se,actualValue:me}}}}function X(Ge){return null}function K(Ge){return null!=Ge}function ae(Ge){return(0,i.jNT)(Ge)?(0,c.H)(Ge):Ge}function Q(Ge){let Xe={};return Ge.forEach(se=>{Xe=null!=se?{...Xe,...se}:Xe}),0===Object.keys(Xe).length?null:Xe}function J(Ge,Xe){return Xe.map(se=>se(Ge))}function q(Ge){return Ge.map(Xe=>function z(Ge){return!Ge.validate}(Xe)?Xe:se=>Xe.validate(se))}function ee(Ge){if(!Ge)return null;const Xe=Ge.filter(K);return 0==Xe.length?null:function(se){return Q(J(se,Xe))}}function de(Ge){return null!=Ge?ee(q(Ge)):null}function Ce(Ge){if(!Ge)return null;const Xe=Ge.filter(K);return 0==Xe.length?null:function(se){const $e=J(se,Xe).map(ae);return(0,e.p)($e).pipe((0,f.T)(Q))}}function Z(Ge){return null!=Ge?Ce(q(Ge)):null}function le(Ge,Xe){return null===Ge?[Xe]:Array.isArray(Ge)?[...Ge,Xe]:[Ge,Xe]}function De(Ge){return Ge._rawValidators}function pe(Ge){return Ge._rawAsyncValidators}function re(Ge){return Ge?Array.isArray(Ge)?Ge:[Ge]:[]}function ve(Ge,Xe){return Array.isArray(Ge)?Ge.includes(Xe):Ge===Xe}function fe(Ge,Xe){const se=re(Xe);return re(Ge).forEach(me=>{ve(se,me)||se.push(me)}),se}function Ie(Ge,Xe){return re(Xe).filter(se=>!ve(Ge,se))}class Ne{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Xe){this._rawValidators=Xe||[],this._composedValidatorFn=de(this._rawValidators)}_setAsyncValidators(Xe){this._rawAsyncValidators=Xe||[],this._composedAsyncValidatorFn=Z(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Xe){this._onDestroyCallbacks.push(Xe)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Xe=>Xe()),this._onDestroyCallbacks=[]}reset(Xe=void 0){this.control&&this.control.reset(Xe)}hasError(Xe,se){return!!this.control&&this.control.hasError(Xe,se)}getError(Xe,se){return this.control?this.control.getError(Xe,se):null}}class qe extends Ne{get formDirective(){return null}get path(){return null}}class we extends Ne{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Be{constructor(Xe){this._cd=Xe}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yt=(()=>{class Ge extends Be{constructor(se){super(se)}static#e=this.\u0275fac=function($e){return new($e||Ge)(i.rXU(we,2))};static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($e,me){2&$e&&i.AVh("ng-untouched",me.isUntouched)("ng-touched",me.isTouched)("ng-pristine",me.isPristine)("ng-dirty",me.isDirty)("ng-valid",me.isValid)("ng-invalid",me.isInvalid)("ng-pending",me.isPending)},features:[i.Vt3]})}return Ge})(),it=(()=>{class Ge extends Be{constructor(se){super(se)}static#e=this.\u0275fac=function($e){return new($e||Ge)(i.rXU(qe,10))};static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($e,me){2&$e&&i.AVh("ng-untouched",me.isUntouched)("ng-touched",me.isTouched)("ng-pristine",me.isPristine)("ng-dirty",me.isDirty)("ng-valid",me.isValid)("ng-invalid",me.isInvalid)("ng-pending",me.isPending)("ng-submitted",me.isSubmitted)},features:[i.Vt3]})}return Ge})();const os="VALID",Mn="INVALID",xs="PENDING",rn="DISABLED";function Dn(Ge){return(Ke(Ge)?Ge.validators:Ge)||null}function zt(Ge,Xe){return(Ke(Xe)?Xe.asyncValidators:Ge)||null}function Ke(Ge){return null!=Ge&&!Array.isArray(Ge)&&"object"==typeof Ge}function Ze(Ge,Xe,se){const $e=Ge.controls;if(!(Xe?Object.keys($e):$e).length)throw new i.wOt(1e3,"");if(!$e[se])throw new i.wOt(1001,"")}function He(Ge,Xe,se){Ge._forEachChild(($e,me)=>{if(void 0===se[me])throw new i.wOt(1002,"")})}class We{constructor(Xe,se){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Xe),this._assignAsyncValidators(se)}get validator(){return this._composedValidatorFn}set validator(Xe){this._rawValidators=this._composedValidatorFn=Xe}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Xe){this._rawAsyncValidators=this._composedAsyncValidatorFn=Xe}get parent(){return this._parent}get valid(){return this.status===os}get invalid(){return this.status===Mn}get pending(){return this.status==xs}get disabled(){return this.status===rn}get enabled(){return this.status!==rn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Xe){this._assignValidators(Xe)}setAsyncValidators(Xe){this._assignAsyncValidators(Xe)}addValidators(Xe){this.setValidators(fe(Xe,this._rawValidators))}addAsyncValidators(Xe){this.setAsyncValidators(fe(Xe,this._rawAsyncValidators))}removeValidators(Xe){this.setValidators(Ie(Xe,this._rawValidators))}removeAsyncValidators(Xe){this.setAsyncValidators(Ie(Xe,this._rawAsyncValidators))}hasValidator(Xe){return ve(this._rawValidators,Xe)}hasAsyncValidator(Xe){return ve(this._rawAsyncValidators,Xe)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Xe={}){this.touched=!0,this._parent&&!Xe.onlySelf&&this._parent.markAsTouched(Xe)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Xe=>Xe.markAllAsTouched())}markAsUntouched(Xe={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(se=>{se.markAsUntouched({onlySelf:!0})}),this._parent&&!Xe.onlySelf&&this._parent._updateTouched(Xe)}markAsDirty(Xe={}){this.pristine=!1,this._parent&&!Xe.onlySelf&&this._parent.markAsDirty(Xe)}markAsPristine(Xe={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(se=>{se.markAsPristine({onlySelf:!0})}),this._parent&&!Xe.onlySelf&&this._parent._updatePristine(Xe)}markAsPending(Xe={}){this.status=xs,!1!==Xe.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Xe.onlySelf&&this._parent.markAsPending(Xe)}disable(Xe={}){const se=this._parentMarkedDirty(Xe.onlySelf);this.status=rn,this.errors=null,this._forEachChild($e=>{$e.disable({...Xe,onlySelf:!0})}),this._updateValue(),!1!==Xe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Xe,skipPristineCheck:se}),this._onDisabledChange.forEach($e=>$e(!0))}enable(Xe={}){const se=this._parentMarkedDirty(Xe.onlySelf);this.status=os,this._forEachChild($e=>{$e.enable({...Xe,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Xe.emitEvent}),this._updateAncestors({...Xe,skipPristineCheck:se}),this._onDisabledChange.forEach($e=>$e(!1))}_updateAncestors(Xe){this._parent&&!Xe.onlySelf&&(this._parent.updateValueAndValidity(Xe),Xe.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Xe){this._parent=Xe}getRawValue(){return this.value}updateValueAndValidity(Xe={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===os||this.status===xs)&&this._runAsyncValidator(Xe.emitEvent)),!1!==Xe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Xe.onlySelf&&this._parent.updateValueAndValidity(Xe)}_updateTreeValidity(Xe={emitEvent:!0}){this._forEachChild(se=>se._updateTreeValidity(Xe)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Xe.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rn:os}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Xe){if(this.asyncValidator){this.status=xs,this._hasOwnPendingAsyncValidator=!0;const se=ae(this.asyncValidator(this));this._asyncValidationSubscription=se.subscribe($e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($e,{emitEvent:Xe})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Xe,se={}){this.errors=Xe,this._updateControlsErrors(!1!==se.emitEvent)}get(Xe){let se=Xe;return null==se||(Array.isArray(se)||(se=se.split(".")),0===se.length)?null:se.reduce(($e,me)=>$e&&$e._find(me),this)}getError(Xe,se){const $e=se?this.get(se):this;return $e&&$e.errors?$e.errors[Xe]:null}hasError(Xe,se){return!!this.getError(Xe,se)}get root(){let Xe=this;for(;Xe._parent;)Xe=Xe._parent;return Xe}_updateControlsErrors(Xe){this.status=this._calculateStatus(),Xe&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Xe)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?rn:this.errors?Mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xs)?xs:this._anyControlsHaveStatus(Mn)?Mn:os}_anyControlsHaveStatus(Xe){return this._anyControls(se=>se.status===Xe)}_anyControlsDirty(){return this._anyControls(Xe=>Xe.dirty)}_anyControlsTouched(){return this._anyControls(Xe=>Xe.touched)}_updatePristine(Xe={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Xe.onlySelf&&this._parent._updatePristine(Xe)}_updateTouched(Xe={}){this.touched=this._anyControlsTouched(),this._parent&&!Xe.onlySelf&&this._parent._updateTouched(Xe)}_registerOnCollectionChange(Xe){this._onCollectionChange=Xe}_setUpdateStrategy(Xe){Ke(Xe)&&null!=Xe.updateOn&&(this._updateOn=Xe.updateOn)}_parentMarkedDirty(Xe){return!Xe&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Xe){return null}_assignValidators(Xe){this._rawValidators=Array.isArray(Xe)?Xe.slice():Xe,this._composedValidatorFn=function Lt(Ge){return Array.isArray(Ge)?de(Ge):Ge||null}(this._rawValidators)}_assignAsyncValidators(Xe){this._rawAsyncValidators=Array.isArray(Xe)?Xe.slice():Xe,this._composedAsyncValidatorFn=function gt(Ge){return Array.isArray(Ge)?Z(Ge):Ge||null}(this._rawAsyncValidators)}}class Ct extends We{constructor(Xe,se,$e){super(Dn(se),zt($e,se)),this.controls=Xe,this._initObservables(),this._setUpdateStrategy(se),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Xe,se){return this.controls[Xe]?this.controls[Xe]:(this.controls[Xe]=se,se.setParent(this),se._registerOnCollectionChange(this._onCollectionChange),se)}addControl(Xe,se,$e={}){this.registerControl(Xe,se),this.updateValueAndValidity({emitEvent:$e.emitEvent}),this._onCollectionChange()}removeControl(Xe,se={}){this.controls[Xe]&&this.controls[Xe]._registerOnCollectionChange(()=>{}),delete this.controls[Xe],this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}setControl(Xe,se,$e={}){this.controls[Xe]&&this.controls[Xe]._registerOnCollectionChange(()=>{}),delete this.controls[Xe],se&&this.registerControl(Xe,se),this.updateValueAndValidity({emitEvent:$e.emitEvent}),this._onCollectionChange()}contains(Xe){return this.controls.hasOwnProperty(Xe)&&this.controls[Xe].enabled}setValue(Xe,se={}){He(this,0,Xe),Object.keys(Xe).forEach($e=>{Ze(this,!0,$e),this.controls[$e].setValue(Xe[$e],{onlySelf:!0,emitEvent:se.emitEvent})}),this.updateValueAndValidity(se)}patchValue(Xe,se={}){null!=Xe&&(Object.keys(Xe).forEach($e=>{const me=this.controls[$e];me&&me.patchValue(Xe[$e],{onlySelf:!0,emitEvent:se.emitEvent})}),this.updateValueAndValidity(se))}reset(Xe={},se={}){this._forEachChild(($e,me)=>{$e.reset(Xe?Xe[me]:null,{onlySelf:!0,emitEvent:se.emitEvent})}),this._updatePristine(se),this._updateTouched(se),this.updateValueAndValidity(se)}getRawValue(){return this._reduceChildren({},(Xe,se,$e)=>(Xe[$e]=se.getRawValue(),Xe))}_syncPendingControls(){let Xe=this._reduceChildren(!1,(se,$e)=>!!$e._syncPendingControls()||se);return Xe&&this.updateValueAndValidity({onlySelf:!0}),Xe}_forEachChild(Xe){Object.keys(this.controls).forEach(se=>{const $e=this.controls[se];$e&&Xe($e,se)})}_setUpControls(){this._forEachChild(Xe=>{Xe.setParent(this),Xe._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Xe){for(const[se,$e]of Object.entries(this.controls))if(this.contains(se)&&Xe($e))return!0;return!1}_reduceValue(){return this._reduceChildren({},(se,$e,me)=>(($e.enabled||this.disabled)&&(se[me]=$e.value),se))}_reduceChildren(Xe,se){let $e=Xe;return this._forEachChild((me,bt)=>{$e=se($e,me,bt)}),$e}_allControlsDisabled(){for(const Xe of Object.keys(this.controls))if(this.controls[Xe].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Xe){return this.controls.hasOwnProperty(Xe)?this.controls[Xe]:null}}const Ot=Ct;class Wt extends Ct{}const Pn=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ps}),ps="always";function ks(Ge,Xe){return[...Xe.path,Ge]}function Fs(Ge,Xe,se=ps){jt(Ge,Xe),Xe.valueAccessor.writeValue(Ge.value),(Ge.disabled||"always"===se)&&Xe.valueAccessor.setDisabledState?.(Ge.disabled),function ls(Ge,Xe){Xe.valueAccessor.registerOnChange(se=>{Ge._pendingValue=se,Ge._pendingChange=!0,Ge._pendingDirty=!0,"change"===Ge.updateOn&&In(Ge,Xe)})}(Ge,Xe),function yn(Ge,Xe){const se=($e,me)=>{Xe.valueAccessor.writeValue($e),me&&Xe.viewToModelUpdate($e)};Ge.registerOnChange(se),Xe._registerOnDestroy(()=>{Ge._unregisterOnChange(se)})}(Ge,Xe),function As(Ge,Xe){Xe.valueAccessor.registerOnTouched(()=>{Ge._pendingTouched=!0,"blur"===Ge.updateOn&&Ge._pendingChange&&In(Ge,Xe),"submit"!==Ge.updateOn&&Ge.markAsTouched()})}(Ge,Xe),function lt(Ge,Xe){if(Xe.valueAccessor.setDisabledState){const se=$e=>{Xe.valueAccessor.setDisabledState($e)};Ge.registerOnDisabledChange(se),Xe._registerOnDestroy(()=>{Ge._unregisterOnDisabledChange(se)})}}(Ge,Xe)}function vt(Ge,Xe,se=!0){const $e=()=>{};Xe.valueAccessor&&(Xe.valueAccessor.registerOnChange($e),Xe.valueAccessor.registerOnTouched($e)),Ln(Ge,Xe),Ge&&(Xe._invokeOnDestroyCallbacks(),Ge._registerOnCollectionChange(()=>{}))}function ht(Ge,Xe){Ge.forEach(se=>{se.registerOnValidatorChange&&se.registerOnValidatorChange(Xe)})}function jt(Ge,Xe){const se=De(Ge);null!==Xe.validator?Ge.setValidators(le(se,Xe.validator)):"function"==typeof se&&Ge.setValidators([se]);const $e=pe(Ge);null!==Xe.asyncValidator?Ge.setAsyncValidators(le($e,Xe.asyncValidator)):"function"==typeof $e&&Ge.setAsyncValidators([$e]);const me=()=>Ge.updateValueAndValidity();ht(Xe._rawValidators,me),ht(Xe._rawAsyncValidators,me)}function Ln(Ge,Xe){let se=!1;if(null!==Ge){if(null!==Xe.validator){const me=De(Ge);if(Array.isArray(me)&&me.length>0){const bt=me.filter(kt=>kt!==Xe.validator);bt.length!==me.length&&(se=!0,Ge.setValidators(bt))}}if(null!==Xe.asyncValidator){const me=pe(Ge);if(Array.isArray(me)&&me.length>0){const bt=me.filter(kt=>kt!==Xe.asyncValidator);bt.length!==me.length&&(se=!0,Ge.setAsyncValidators(bt))}}}const $e=()=>{};return ht(Xe._rawValidators,$e),ht(Xe._rawAsyncValidators,$e),se}function In(Ge,Xe){Ge._pendingDirty&&Ge.markAsDirty(),Ge.setValue(Ge._pendingValue,{emitModelToViewChange:!1}),Xe.viewToModelUpdate(Ge._pendingValue),Ge._pendingChange=!1}function hn(Ge,Xe){jt(Ge,Xe)}function ft(Ge,Xe){if(!Ge.hasOwnProperty("model"))return!1;const se=Ge.model;return!!se.isFirstChange()||!Object.is(Xe,se.currentValue)}function Et(Ge,Xe){Ge._syncPendingControls(),Xe.forEach(se=>{const $e=se.control;"submit"===$e.updateOn&&$e._pendingChange&&(se.viewToModelUpdate($e._pendingValue),$e._pendingChange=!1)})}function ut(Ge,Xe){if(!Xe)return null;let se,$e,me;return Array.isArray(Xe),Xe.forEach(bt=>{bt.constructor===T?se=bt:function Ye(Ge){return Object.getPrototypeOf(Ge.constructor)===d}(bt)?$e=bt:me=bt}),me||$e||se||null}const sn={provide:qe,useExisting:(0,i.Rfq)(()=>An)},jn=Promise.resolve();let An=(()=>{class Ge extends qe{constructor(se,$e,me){super(),this.callSetDisabledState=me,this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.bkB,this.form=new Ct({},de(se),Z($e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(se){jn.then(()=>{const $e=this._findContainer(se.path);se.control=$e.registerControl(se.name,se.control),Fs(se.control,se,this.callSetDisabledState),se.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(se)})}getControl(se){return this.form.get(se.path)}removeControl(se){jn.then(()=>{const $e=this._findContainer(se.path);$e&&$e.removeControl(se.name),this._directives.delete(se)})}addFormGroup(se){jn.then(()=>{const $e=this._findContainer(se.path),me=new Ct({});hn(me,se),$e.registerControl(se.name,me),me.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(se){jn.then(()=>{const $e=this._findContainer(se.path);$e&&$e.removeControl(se.name)})}getFormGroup(se){return this.form.get(se.path)}updateModel(se,$e){jn.then(()=>{this.form.get(se.path).setValue($e)})}setValue(se){this.control.setValue(se)}onSubmit(se){return this.submitted=!0,Et(this.form,this._directives),this.ngSubmit.emit(se),"dialog"===se?.target?.method}onReset(){this.resetForm()}resetForm(se=void 0){this.form.reset(se),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(se){return se.pop(),se.length?this.form.get(se):this.form}static#e=this.\u0275fac=function($e){return new($e||Ge)(i.rXU(w,10),i.rXU(v,10),i.rXU(Pn,8))};static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($e,me){1&$e&&i.bIt("submit",function(kt){return me.onSubmit(kt)})("reset",function(){return me.onReset()})},inputs:{options:[i.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([sn]),i.Vt3]})}return Ge})();function ds(Ge,Xe){const se=Ge.indexOf(Xe);se>-1&&Ge.splice(se,1)}function Ks(Ge){return"object"==typeof Ge&&null!==Ge&&2===Object.keys(Ge).length&&"value"in Ge&&"disabled"in Ge}const Cs=class extends We{constructor(Xe=null,se,$e){super(Dn(se),zt($e,se)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Xe),this._setUpdateStrategy(se),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ke(se)&&(se.nonNullable||se.initialValueIsDefault)&&(this.defaultValue=Ks(Xe)?Xe.value:Xe)}setValue(Xe,se={}){this.value=this._pendingValue=Xe,this._onChange.length&&!1!==se.emitModelToViewChange&&this._onChange.forEach($e=>$e(this.value,!1!==se.emitViewToModelChange)),this.updateValueAndValidity(se)}patchValue(Xe,se={}){this.setValue(Xe,se)}reset(Xe=this.defaultValue,se={}){this._applyFormState(Xe),this.markAsPristine(se),this.markAsUntouched(se),this.setValue(this.value,se),this._pendingChange=!1}_updateValue(){}_anyControls(Xe){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Xe){this._onChange.push(Xe)}_unregisterOnChange(Xe){ds(this._onChange,Xe)}registerOnDisabledChange(Xe){this._onDisabledChange.push(Xe)}_unregisterOnDisabledChange(Xe){ds(this._onDisabledChange,Xe)}_forEachChild(Xe){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Xe){Ks(Xe)?(this.value=this._pendingValue=Xe.value,Xe.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Xe}},yi=Cs;let Mi=(()=>{class Ge extends qe{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ks(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(Ge)))(me||Ge)}})();static#t=this.\u0275dir=i.FsC({type:Ge,features:[i.Vt3]})}return Ge})();const sr={provide:qe,useExisting:(0,i.Rfq)(()=>Ji)};let Ji=(()=>{class Ge extends Mi{constructor(se,$e,me){super(),this.name="",this._parent=se,this._setValidators($e),this._setAsyncValidators(me)}_checkParentType(){}static#e=this.\u0275fac=function($e){return new($e||Ge)(i.rXU(qe,5),i.rXU(w,10),i.rXU(v,10))};static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["","ngModelGroup",""]],inputs:{name:[i.Mj6.None,"ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.Jv_([sr]),i.Vt3]})}return Ge})();const Hr={provide:we,useExisting:(0,i.Rfq)(()=>gs)},cr=Promise.resolve();let gs=(()=>{class Ge extends we{constructor(se,$e,me,bt,kt,pn){super(),this._changeDetectorRef=kt,this.callSetDisabledState=pn,this.control=new Cs,this._registered=!1,this.name="",this.update=new i.bkB,this._parent=se,this._setValidators($e),this._setAsyncValidators(me),this.valueAccessor=ut(0,bt)}ngOnChanges(se){if(this._checkForErrors(),!this._registered||"name"in se){if(this._registered&&(this._checkName(),this.formDirective)){const $e=se.name.previousValue;this.formDirective.removeControl({name:$e,path:this._getPath($e)})}this._setUpControl()}"isDisabled"in se&&this._updateDisabled(se),ft(se,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(se){this.viewModel=se,this.update.emit(se)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fs(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(se){cr.then(()=>{this.control.setValue(se,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(se){const $e=se.isDisabled.currentValue,me=0!==$e&&(0,i.L39)($e);cr.then(()=>{me&&!this.control.disabled?this.control.disable():!me&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(se){return this._parent?ks(se,this._parent):[se]}static#e=this.\u0275fac=function($e){return new($e||Ge)(i.rXU(qe,9),i.rXU(w,10),i.rXU(v,10),i.rXU(y,10),i.rXU(i.gRc,8),i.rXU(Pn,8))};static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"],options:[i.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Jv_([Hr]),i.Vt3,i.OA$]})}return Ge})(),Zs=(()=>{class Ge{static#e=this.\u0275fac=function($e){return new($e||Ge)};static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Ge})();const yr={provide:y,useExisting:(0,i.Rfq)(()=>Ho),multi:!0};let Ho=(()=>{class Ge extends d{writeValue(se){this.setProperty("value",se??"")}registerOnChange(se){this.onChange=$e=>{se(""==$e?null:parseFloat($e))}}static#e=this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(Ge)))(me||Ge)}})();static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function($e,me){1&$e&&i.bIt("input",function(kt){return me.onChange(kt.target.value)})("blur",function(){return me.onTouched()})},features:[i.Jv_([yr]),i.Vt3]})}return Ge})();const Bi={provide:y,useExisting:(0,i.Rfq)(()=>Kt),multi:!0};let cn=(()=>{class Ge{constructor(){this._accessors=[]}add(se,$e){this._accessors.push([se,$e])}remove(se){for(let $e=this._accessors.length-1;$e>=0;--$e)if(this._accessors[$e][1]===se)return void this._accessors.splice($e,1)}select(se){this._accessors.forEach($e=>{this._isSameGroup($e,se)&&$e[1]!==se&&$e[1].fireUncheck(se.value)})}_isSameGroup(se,$e){return!!se[0].control&&se[0]._parent===$e._control._parent&&se[1].name===$e.name}static#e=this.\u0275fac=function($e){return new($e||Ge)};static#t=this.\u0275prov=i.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),Kt=(()=>{class Ge extends d{constructor(se,$e,me,bt){super(se,$e),this._registry=me,this._injector=bt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,i.WQX)(Pn,{optional:!0})??ps}ngOnInit(){this._control=this._injector.get(we),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(se){this._state=se===this.value,this.setProperty("checked",this._state)}registerOnChange(se){this._fn=se,this.onChange=()=>{se(this.value),this._registry.select(this)}}setDisabledState(se){(this.setDisabledStateFired||se||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",se),this.setDisabledStateFired=!0}fireUncheck(se){this.writeValue(se)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function($e){return new($e||Ge)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(cn),i.rXU(i.zZn))};static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function($e,me){1&$e&&i.bIt("change",function(){return me.onChange()})("blur",function(){return me.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Jv_([Bi]),i.Vt3]})}return Ge})();const kn=new i.nKC(""),cs={provide:we,useExisting:(0,i.Rfq)(()=>ai)};let ai=(()=>{class Ge extends we{set isDisabled(se){}static#e=this._ngModelWarningSentOnce=!1;constructor(se,$e,me,bt,kt){super(),this._ngModelWarningConfig=bt,this.callSetDisabledState=kt,this.update=new i.bkB,this._ngModelWarningSent=!1,this._setValidators(se),this._setAsyncValidators($e),this.valueAccessor=ut(0,me)}ngOnChanges(se){if(this._isControlChanged(se)){const $e=se.form.previousValue;$e&&vt($e,this,!1),Fs(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ft(se,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&vt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(se){this.viewModel=se,this.update.emit(se)}_isControlChanged(se){return se.hasOwnProperty("form")}static#t=this.\u0275fac=function($e){return new($e||Ge)(i.rXU(w,10),i.rXU(v,10),i.rXU(y,10),i.rXU(kn,8),i.rXU(Pn,8))};static#n=this.\u0275dir=i.FsC({type:Ge,selectors:[["","formControl",""]],inputs:{form:[i.Mj6.None,"formControl","form"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Jv_([cs]),i.Vt3,i.OA$]})}return Ge})();const Ei={provide:qe,useExisting:(0,i.Rfq)(()=>ir)};let ir=(()=>{class Ge extends qe{constructor(se,$e,me){super(),this.callSetDisabledState=me,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(se),this._setAsyncValidators($e)}ngOnChanges(se){this._checkFormPresent(),se.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ln(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(se){const $e=this.form.get(se.path);return Fs($e,se,this.callSetDisabledState),$e.updateValueAndValidity({emitEvent:!1}),this.directives.push(se),$e}getControl(se){return this.form.get(se.path)}removeControl(se){vt(se.control||null,se,!1),function mt(Ge,Xe){const se=Ge.indexOf(Xe);se>-1&&Ge.splice(se,1)}(this.directives,se)}addFormGroup(se){this._setUpFormContainer(se)}removeFormGroup(se){this._cleanUpFormContainer(se)}getFormGroup(se){return this.form.get(se.path)}addFormArray(se){this._setUpFormContainer(se)}removeFormArray(se){this._cleanUpFormContainer(se)}getFormArray(se){return this.form.get(se.path)}updateModel(se,$e){this.form.get(se.path).setValue($e)}onSubmit(se){return this.submitted=!0,Et(this.form,this.directives),this.ngSubmit.emit(se),"dialog"===se?.target?.method}onReset(){this.resetForm()}resetForm(se=void 0){this.form.reset(se),this.submitted=!1}_updateDomValue(){this.directives.forEach(se=>{const $e=se.control,me=this.form.get(se.path);$e!==me&&(vt($e||null,se),(Ge=>Ge instanceof Cs)(me)&&(Fs(me,se,this.callSetDisabledState),se.control=me))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(se){const $e=this.form.get(se.path);hn($e,se),$e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(se){if(this.form){const $e=this.form.get(se.path);$e&&function Un(Ge,Xe){return Ln(Ge,Xe)}($e,se)&&$e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jt(this.form,this),this._oldForm&&Ln(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function($e){return new($e||Ge)(i.rXU(w,10),i.rXU(v,10),i.rXU(Pn,8))};static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["","formGroup",""]],hostBindings:function($e,me){1&$e&&i.bIt("submit",function(kt){return me.onSubmit(kt)})("reset",function(){return me.onReset()})},inputs:{form:[i.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([Ei]),i.Vt3,i.OA$]})}return Ge})();const li={provide:qe,useExisting:(0,i.Rfq)(()=>xi)};let xi=(()=>{class Ge extends Mi{constructor(se,$e,me){super(),this.name=null,this._parent=se,this._setValidators($e),this._setAsyncValidators(me)}_checkParentType(){wr(this._parent)}static#e=this.\u0275fac=function($e){return new($e||Ge)(i.rXU(qe,13),i.rXU(w,10),i.rXU(v,10))};static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["","formGroupName",""]],inputs:{name:[i.Mj6.None,"formGroupName","name"]},features:[i.Jv_([li]),i.Vt3]})}return Ge})();const ao={provide:qe,useExisting:(0,i.Rfq)(()=>Zr)};let Zr=(()=>{class Ge extends qe{constructor(se,$e,me){super(),this.name=null,this._parent=se,this._setValidators($e),this._setAsyncValidators(me)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ks(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){wr(this._parent)}static#e=this.\u0275fac=function($e){return new($e||Ge)(i.rXU(qe,13),i.rXU(w,10),i.rXU(v,10))};static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["","formArrayName",""]],inputs:{name:[i.Mj6.None,"formArrayName","name"]},features:[i.Jv_([ao]),i.Vt3]})}return Ge})();function wr(Ge){return!(Ge instanceof xi||Ge instanceof ir||Ge instanceof Zr)}const Io={provide:we,useExisting:(0,i.Rfq)(()=>lo)};let lo=(()=>{class Ge extends we{set isDisabled(se){}static#e=this._ngModelWarningSentOnce=!1;constructor(se,$e,me,bt,kt){super(),this._ngModelWarningConfig=kt,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=se,this._setValidators($e),this._setAsyncValidators(me),this.valueAccessor=ut(0,bt)}ngOnChanges(se){this._added||this._setUpControl(),ft(se,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(se){this.viewModel=se,this.update.emit(se)}get path(){return ks(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function($e){return new($e||Ge)(i.rXU(qe,13),i.rXU(w,10),i.rXU(v,10),i.rXU(y,10),i.rXU(kn,8))};static#n=this.\u0275dir=i.FsC({type:Ge,selectors:[["","formControlName",""]],inputs:{name:[i.Mj6.None,"formControlName","name"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([Io]),i.Vt3,i.OA$]})}return Ge})();const jr={provide:y,useExisting:(0,i.Rfq)(()=>No),multi:!0};function co(Ge,Xe){return null==Ge?`${Xe}`:(Xe&&"object"==typeof Xe&&(Xe="Object"),`${Ge}: ${Xe}`.slice(0,50))}let No=(()=>{class Ge extends d{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(se){this._compareWith=se}writeValue(se){this.value=se;const me=co(this._getOptionId(se),se);this.setProperty("value",me)}registerOnChange(se){this.onChange=$e=>{this.value=this._getOptionValue($e),se(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(se){for(const $e of this._optionMap.keys())if(this._compareWith(this._optionMap.get($e),se))return $e;return null}_getOptionValue(se){const $e=function Ri(Ge){return Ge.split(":")[0]}(se);return this._optionMap.has($e)?this._optionMap.get($e):se}static#e=this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(Ge)))(me||Ge)}})();static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function($e,me){1&$e&&i.bIt("change",function(kt){return me.onChange(kt.target.value)})("blur",function(){return me.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([jr]),i.Vt3]})}return Ge})(),rr=(()=>{class Ge{constructor(se,$e,me){this._element=se,this._renderer=$e,this._select=me,this._select&&(this.id=this._select._registerOption())}set ngValue(se){null!=this._select&&(this._select._optionMap.set(this.id,se),this._setElementValue(co(this.id,se)),this._select.writeValue(this._select.value))}set value(se){this._setElementValue(se),this._select&&this._select.writeValue(this._select.value)}_setElementValue(se){this._renderer.setProperty(this._element.nativeElement,"value",se)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function($e){return new($e||Ge)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(No,9))};static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Ge})();const fr={provide:y,useExisting:(0,i.Rfq)(()=>Er),multi:!0};function Ps(Ge,Xe){return null==Ge?`${Xe}`:("string"==typeof Xe&&(Xe=`'${Xe}'`),Xe&&"object"==typeof Xe&&(Xe="Object"),`${Ge}: ${Xe}`.slice(0,50))}let Er=(()=>{class Ge extends d{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(se){this._compareWith=se}writeValue(se){let $e;if(this.value=se,Array.isArray(se)){const me=se.map(bt=>this._getOptionId(bt));$e=(bt,kt)=>{bt._setSelected(me.indexOf(kt.toString())>-1)}}else $e=(me,bt)=>{me._setSelected(!1)};this._optionMap.forEach($e)}registerOnChange(se){this.onChange=$e=>{const me=[],bt=$e.selectedOptions;if(void 0!==bt){const kt=bt;for(let pn=0;pn<kt.length;pn++){const ss=this._getOptionValue(kt[pn].value);me.push(ss)}}else{const kt=$e.options;for(let pn=0;pn<kt.length;pn++){const Hn=kt[pn];if(Hn.selected){const ss=this._getOptionValue(Hn.value);me.push(ss)}}}this.value=me,se(me)}}_registerOption(se){const $e=(this._idCounter++).toString();return this._optionMap.set($e,se),$e}_getOptionId(se){for(const $e of this._optionMap.keys())if(this._compareWith(this._optionMap.get($e)._value,se))return $e;return null}_getOptionValue(se){const $e=function sa(Ge){return Ge.split(":")[0]}(se);return this._optionMap.has($e)?this._optionMap.get($e)._value:se}static#e=this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(Ge)))(me||Ge)}})();static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function($e,me){1&$e&&i.bIt("change",function(kt){return me.onChange(kt.target)})("blur",function(){return me.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([fr]),i.Vt3]})}return Ge})(),uo=(()=>{class Ge{constructor(se,$e,me){this._element=se,this._renderer=$e,this._select=me,this._select&&(this.id=this._select._registerOption(this))}set ngValue(se){null!=this._select&&(this._value=se,this._setElementValue(Ps(this.id,se)),this._select.writeValue(this._select.value))}set value(se){this._select?(this._value=se,this._setElementValue(Ps(this.id,se)),this._select.writeValue(this._select.value)):this._setElementValue(se)}_setElementValue(se){this._renderer.setProperty(this._element.nativeElement,"value",se)}_setSelected(se){this._renderer.setProperty(this._element.nativeElement,"selected",se)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function($e){return new($e||Ge)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(Er,9))};static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return Ge})();function zo(Ge){return"number"==typeof Ge?Ge:parseInt(Ge,10)}function Eo(Ge){return"number"==typeof Ge?Ge:parseFloat(Ge)}let zr=(()=>{class Ge{constructor(){this._validator=X}ngOnChanges(se){if(this.inputName in se){const $e=this.normalizeInput(se[this.inputName].currentValue);this._enabled=this.enabled($e),this._validator=this._enabled?this.createValidator($e):X,this._onChange&&this._onChange()}}validate(se){return this._validator(se)}registerOnValidatorChange(se){this._onChange=se}enabled(se){return null!=se}static#e=this.\u0275fac=function($e){return new($e||Ge)};static#t=this.\u0275dir=i.FsC({type:Ge,features:[i.OA$]})}return Ge})();const Co={provide:w,useExisting:(0,i.Rfq)(()=>st),multi:!0};let st=(()=>{class Ge extends zr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=se=>Eo(se),this.createValidator=se=>F(se)}static#e=this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(Ge)))(me||Ge)}})();static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function($e,me){2&$e&&i.BMQ("max",me._enabled?me.max:null)},inputs:{max:"max"},features:[i.Jv_([Co]),i.Vt3]})}return Ge})();const ot={provide:w,useExisting:(0,i.Rfq)(()=>ct),multi:!0};let ct=(()=>{class Ge extends zr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=se=>Eo(se),this.createValidator=se=>L(se)}static#e=this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(Ge)))(me||Ge)}})();static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function($e,me){2&$e&&i.BMQ("min",me._enabled?me.min:null)},inputs:{min:"min"},features:[i.Jv_([ot]),i.Vt3]})}return Ge})();const Rt={provide:w,useExisting:(0,i.Rfq)(()=>gn),multi:!0},At={provide:w,useExisting:(0,i.Rfq)(()=>Jn),multi:!0};let gn=(()=>{class Ge extends zr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=se=>$}enabled(se){return se}static#e=this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(Ge)))(me||Ge)}})();static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($e,me){2&$e&&i.BMQ("required",me._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([Rt]),i.Vt3]})}return Ge})(),Jn=(()=>{class Ge extends gn{constructor(){super(...arguments),this.createValidator=se=>j}static#e=this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(Ge)))(me||Ge)}})();static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function($e,me){2&$e&&i.BMQ("required",me._enabled?"":null)},features:[i.Jv_([At]),i.Vt3]})}return Ge})();const Is={provide:w,useExisting:(0,i.Rfq)(()=>di),multi:!0};let di=(()=>{class Ge extends zr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=se=>zo(se),this.createValidator=se=>G(se)}static#e=this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(Ge)))(me||Ge)}})();static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function($e,me){2&$e&&i.BMQ("minlength",me._enabled?me.minlength:null)},inputs:{minlength:"minlength"},features:[i.Jv_([Is]),i.Vt3]})}return Ge})();const Ai={provide:w,useExisting:(0,i.Rfq)(()=>Gs),multi:!0};let Gs=(()=>{class Ge extends zr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=se=>zo(se),this.createValidator=se=>Y(se)}static#e=this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(Ge)))(me||Ge)}})();static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function($e,me){2&$e&&i.BMQ("maxlength",me._enabled?me.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Jv_([Ai]),i.Vt3]})}return Ge})();const Yr={provide:w,useExisting:(0,i.Rfq)(()=>$s),multi:!0};let $s=(()=>{class Ge extends zr{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=se=>se,this.createValidator=se=>V(se)}static#e=this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(Ge)))(me||Ge)}})();static#t=this.\u0275dir=i.FsC({type:Ge,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function($e,me){2&$e&&i.BMQ("pattern",me._enabled?me.pattern:null)},inputs:{pattern:"pattern"},features:[i.Jv_([Yr]),i.Vt3]})}return Ge})(),ho=(()=>{class Ge{static#e=this.\u0275fac=function($e){return new($e||Ge)};static#t=this.\u0275mod=i.$C({type:Ge});static#n=this.\u0275inj=i.G2t({})}return Ge})();class $i extends We{constructor(Xe,se,$e){super(Dn(se),zt($e,se)),this.controls=Xe,this._initObservables(),this._setUpdateStrategy(se),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Xe){return this.controls[this._adjustIndex(Xe)]}push(Xe,se={}){this.controls.push(Xe),this._registerControl(Xe),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}insert(Xe,se,$e={}){this.controls.splice(Xe,0,se),this._registerControl(se),this.updateValueAndValidity({emitEvent:$e.emitEvent})}removeAt(Xe,se={}){let $e=this._adjustIndex(Xe);$e<0&&($e=0),this.controls[$e]&&this.controls[$e]._registerOnCollectionChange(()=>{}),this.controls.splice($e,1),this.updateValueAndValidity({emitEvent:se.emitEvent})}setControl(Xe,se,$e={}){let me=this._adjustIndex(Xe);me<0&&(me=0),this.controls[me]&&this.controls[me]._registerOnCollectionChange(()=>{}),this.controls.splice(me,1),se&&(this.controls.splice(me,0,se),this._registerControl(se)),this.updateValueAndValidity({emitEvent:$e.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Xe,se={}){He(this,0,Xe),Xe.forEach(($e,me)=>{Ze(this,!1,me),this.at(me).setValue($e,{onlySelf:!0,emitEvent:se.emitEvent})}),this.updateValueAndValidity(se)}patchValue(Xe,se={}){null!=Xe&&(Xe.forEach(($e,me)=>{this.at(me)&&this.at(me).patchValue($e,{onlySelf:!0,emitEvent:se.emitEvent})}),this.updateValueAndValidity(se))}reset(Xe=[],se={}){this._forEachChild(($e,me)=>{$e.reset(Xe[me],{onlySelf:!0,emitEvent:se.emitEvent})}),this._updatePristine(se),this._updateTouched(se),this.updateValueAndValidity(se)}getRawValue(){return this.controls.map(Xe=>Xe.getRawValue())}clear(Xe={}){this.controls.length<1||(this._forEachChild(se=>se._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Xe.emitEvent}))}_adjustIndex(Xe){return Xe<0?Xe+this.length:Xe}_syncPendingControls(){let Xe=this.controls.reduce((se,$e)=>!!$e._syncPendingControls()||se,!1);return Xe&&this.updateValueAndValidity({onlySelf:!0}),Xe}_forEachChild(Xe){this.controls.forEach((se,$e)=>{Xe(se,$e)})}_updateValue(){this.value=this.controls.filter(Xe=>Xe.enabled||this.disabled).map(Xe=>Xe.value)}_anyControls(Xe){return this.controls.some(se=>se.enabled&&Xe(se))}_setUpControls(){this._forEachChild(Xe=>this._registerControl(Xe))}_allControlsDisabled(){for(const Xe of this.controls)if(Xe.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Xe){Xe.setParent(this),Xe._registerOnCollectionChange(this._onCollectionChange)}_find(Xe){return this.at(Xe)??null}}const Js=$i;function br(Ge){return!!Ge&&(void 0!==Ge.asyncValidators||void 0!==Ge.validators||void 0!==Ge.updateOn)}let gr=(()=>{class Ge{constructor(){this.useNonNullable=!1}get nonNullable(){const se=new Ge;return se.useNonNullable=!0,se}group(se,$e=null){const me=this._reduceControls(se);let bt={};return br($e)?bt=$e:null!==$e&&(bt.validators=$e.validator,bt.asyncValidators=$e.asyncValidator),new Ct(me,bt)}record(se,$e=null){const me=this._reduceControls(se);return new Wt(me,$e)}control(se,$e,me){let bt={};return this.useNonNullable?(br($e)?bt=$e:(bt.validators=$e,bt.asyncValidators=me),new Cs(se,{...bt,nonNullable:!0})):new Cs(se,$e,me)}array(se,$e,me){const bt=se.map(kt=>this._createControl(kt));return new $i(bt,$e,me)}_reduceControls(se){const $e={};return Object.keys(se).forEach(me=>{$e[me]=this._createControl(se[me])}),$e}_createControl(se){return se instanceof Cs||se instanceof We?se:Array.isArray(se)?this.control(se[0],se.length>1?se[1]:null,se.length>2?se[2]:null):this.control(se)}static#e=this.\u0275fac=function($e){return new($e||Ge)};static#t=this.\u0275prov=i.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),Yo=(()=>{class Ge extends gr{group(se,$e=null){return super.group(se,$e)}control(se,$e,me){return super.control(se,$e,me)}array(se,$e,me){return super.array(se,$e,me)}static#e=this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(Ge)))(me||Ge)}})();static#t=this.\u0275prov=i.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),kr=(()=>{class Ge{static withConfig(se){return{ngModule:Ge,providers:[{provide:Pn,useValue:se.callSetDisabledState??ps}]}}static#e=this.\u0275fac=function($e){return new($e||Ge)};static#t=this.\u0275mod=i.$C({type:Ge});static#n=this.\u0275inj=i.G2t({imports:[ho]})}return Ge})(),pa=(()=>{class Ge{static withConfig(se){return{ngModule:Ge,providers:[{provide:kn,useValue:se.warnOnNgModelWithFormControl??"always"},{provide:Pn,useValue:se.callSetDisabledState??ps}]}}static#e=this.\u0275fac=function($e){return new($e||Ge)};static#t=this.\u0275mod=i.$C({type:Ge});static#n=this.\u0275inj=i.G2t({imports:[ho]})}return Ge})()},86388:(B,D,t)=>{"use strict";t.d(D,{$x:()=>Dn,B7:()=>G,B8:()=>Z,EZ:()=>tn,W8:()=>et,hE:()=>it,kQ:()=>Bt,up:()=>Zt});var i=t(53107),n=t(54460),c=t(27691);class e extends n.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class f extends e{static makeCurrent(){(0,n.ZD)(new f)}onAndCancel(Ze,He,We){return Ze.addEventListener(He,We),()=>{Ze.removeEventListener(He,We)}}dispatchEvent(Ze,He){Ze.dispatchEvent(He)}remove(Ze){Ze.parentNode&&Ze.parentNode.removeChild(Ze)}createElement(Ze,He){return(He=He||this.getDefaultDocument()).createElement(Ze)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ze){return Ze.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ze){return Ze instanceof DocumentFragment}getGlobalEventTarget(Ze,He){return"window"===He?window:"document"===He?Ze:"body"===He?Ze.body:null}getBaseHref(Ze){const He=function d(){return g=g||document.querySelector("base"),g?g.getAttribute("href"):null}();return null==He?null:function y(Ke){return new URL(Ke,document.baseURI).pathname}(He)}resetBaseElement(){g=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ze){return(0,n._b)(document.cookie,Ze)}}let g=null,_=(()=>{class Ke{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(We){return new(We||Ke)};static#t=this.\u0275prov=i.jDH({token:Ke,factory:Ke.\u0275fac})}return Ke})();const b=new i.nKC("");let O=(()=>{class Ke{constructor(He,We){this._zone=We,this._eventNameToPlugin=new Map,He.forEach(Ct=>{Ct.manager=this}),this._plugins=He.slice().reverse()}addEventListener(He,We,Ct){return this._findPluginFor(We).addEventListener(He,We,Ct)}getZone(){return this._zone}_findPluginFor(He){let We=this._eventNameToPlugin.get(He);if(We)return We;if(We=this._plugins.find(Qe=>Qe.supports(He)),!We)throw new i.wOt(5101,!1);return this._eventNameToPlugin.set(He,We),We}static#e=this.\u0275fac=function(We){return new(We||Ke)(i.KVO(b),i.KVO(i.SKi))};static#t=this.\u0275prov=i.jDH({token:Ke,factory:Ke.\u0275fac})}return Ke})();class I{constructor(Ze){this._doc=Ze}}const T="ng-app-id";let R=(()=>{class Ke{constructor(He,We,Ct,Qe={}){this.doc=He,this.appId=We,this.nonce=Ct,this.platformId=Qe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,n.Vy)(Qe),this.resetHostNodes()}addStyles(He){for(const We of He)1===this.changeUsageCount(We,1)&&this.onStyleAdded(We)}removeStyles(He){for(const We of He)this.changeUsageCount(We,-1)<=0&&this.onStyleRemoved(We)}ngOnDestroy(){const He=this.styleNodesInDOM;He&&(He.forEach(We=>We.remove()),He.clear());for(const We of this.getAllStyles())this.onStyleRemoved(We);this.resetHostNodes()}addHost(He){this.hostNodes.add(He);for(const We of this.getAllStyles())this.addStyleToHost(He,We)}removeHost(He){this.hostNodes.delete(He)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(He){for(const We of this.hostNodes)this.addStyleToHost(We,He)}onStyleRemoved(He){const We=this.styleRef;We.get(He)?.elements?.forEach(Ct=>Ct.remove()),We.delete(He)}collectServerRenderedStyles(){const He=this.doc.head?.querySelectorAll(`style[${T}="${this.appId}"]`);if(He?.length){const We=new Map;return He.forEach(Ct=>{null!=Ct.textContent&&We.set(Ct.textContent,Ct)}),We}return null}changeUsageCount(He,We){const Ct=this.styleRef;if(Ct.has(He)){const Qe=Ct.get(He);return Qe.usage+=We,Qe.usage}return Ct.set(He,{usage:We,elements:[]}),We}getStyleElement(He,We){const Ct=this.styleNodesInDOM,Qe=Ct?.get(We);if(Qe?.parentNode===He)return Ct.delete(We),Qe.removeAttribute(T),Qe;{const Ot=this.doc.createElement("style");return this.nonce&&Ot.setAttribute("nonce",this.nonce),Ot.textContent=We,this.platformIsServer&&Ot.setAttribute(T,this.appId),He.appendChild(Ot),Ot}}addStyleToHost(He,We){const Ct=this.getStyleElement(He,We),Qe=this.styleRef,Ot=Qe.get(We)?.elements;Ot?Ot.push(Ct):Qe.set(We,{elements:[Ct],usage:1})}resetHostNodes(){const He=this.hostNodes;He.clear(),He.add(this.doc.head)}static#e=this.\u0275fac=function(We){return new(We||Ke)(i.KVO(n.qQ),i.KVO(i.sZ2),i.KVO(i.BIS,8),i.KVO(i.Agw))};static#t=this.\u0275prov=i.jDH({token:Ke,factory:Ke.\u0275fac})}return Ke})();const u={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},w=/%COMP%/g,v="%COMP%",S=`_nghost-${v}`,M=`_ngcontent-${v}`,F=new i.nKC("",{providedIn:"root",factory:()=>!0});function x(Ke,Ze){return Ze.map(He=>He.replace(w,Ke))}let G=(()=>{class Ke{constructor(He,We,Ct,Qe,Ot,Dt,Wt,bn=null){this.eventManager=He,this.sharedStylesHost=We,this.appId=Ct,this.removeStylesOnCompDestroy=Qe,this.doc=Ot,this.platformId=Dt,this.ngZone=Wt,this.nonce=bn,this.rendererByCompId=new Map,this.platformIsServer=(0,n.Vy)(Dt),this.defaultRenderer=new Y(He,Ot,Wt,this.platformIsServer)}createRenderer(He,We){if(!He||!We)return this.defaultRenderer;this.platformIsServer&&We.encapsulation===i.gXe.ShadowDom&&(We={...We,encapsulation:i.gXe.Emulated});const Ct=this.getOrCreateRenderer(He,We);return Ct instanceof J?Ct.applyToHost(He):Ct instanceof Q&&Ct.applyStyles(),Ct}getOrCreateRenderer(He,We){const Ct=this.rendererByCompId;let Qe=Ct.get(We.id);if(!Qe){const Ot=this.doc,Dt=this.ngZone,Wt=this.eventManager,bn=this.sharedStylesHost,Pn=this.removeStylesOnCompDestroy,ps=this.platformIsServer;switch(We.encapsulation){case i.gXe.Emulated:Qe=new J(Wt,bn,We,this.appId,Pn,Ot,Dt,ps);break;case i.gXe.ShadowDom:return new ae(Wt,bn,He,We,Ot,Dt,this.nonce,ps);default:Qe=new Q(Wt,bn,We,Pn,Ot,Dt,ps)}Ct.set(We.id,Qe)}return Qe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(We){return new(We||Ke)(i.KVO(O),i.KVO(R),i.KVO(i.sZ2),i.KVO(F),i.KVO(n.qQ),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(i.BIS))};static#t=this.\u0275prov=i.jDH({token:Ke,factory:Ke.\u0275fac})}return Ke})();class Y{constructor(Ze,He,We,Ct){this.eventManager=Ze,this.doc=He,this.ngZone=We,this.platformIsServer=Ct,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Ze,He){return He?this.doc.createElementNS(u[He]||He,Ze):this.doc.createElement(Ze)}createComment(Ze){return this.doc.createComment(Ze)}createText(Ze){return this.doc.createTextNode(Ze)}appendChild(Ze,He){(K(Ze)?Ze.content:Ze).appendChild(He)}insertBefore(Ze,He,We){Ze&&(K(Ze)?Ze.content:Ze).insertBefore(He,We)}removeChild(Ze,He){Ze&&Ze.removeChild(He)}selectRootElement(Ze,He){let We="string"==typeof Ze?this.doc.querySelector(Ze):Ze;if(!We)throw new i.wOt(-5104,!1);return He||(We.textContent=""),We}parentNode(Ze){return Ze.parentNode}nextSibling(Ze){return Ze.nextSibling}setAttribute(Ze,He,We,Ct){if(Ct){He=Ct+":"+He;const Qe=u[Ct];Qe?Ze.setAttributeNS(Qe,He,We):Ze.setAttribute(He,We)}else Ze.setAttribute(He,We)}removeAttribute(Ze,He,We){if(We){const Ct=u[We];Ct?Ze.removeAttributeNS(Ct,He):Ze.removeAttribute(`${We}:${He}`)}else Ze.removeAttribute(He)}addClass(Ze,He){Ze.classList.add(He)}removeClass(Ze,He){Ze.classList.remove(He)}setStyle(Ze,He,We,Ct){Ct&(i.czy.DashCase|i.czy.Important)?Ze.style.setProperty(He,We,Ct&i.czy.Important?"important":""):Ze.style[He]=We}removeStyle(Ze,He,We){We&i.czy.DashCase?Ze.style.removeProperty(He):Ze.style[He]=""}setProperty(Ze,He,We){null!=Ze&&(Ze[He]=We)}setValue(Ze,He){Ze.nodeValue=He}listen(Ze,He,We){if("string"==typeof Ze&&!(Ze=(0,n.QT)().getGlobalEventTarget(this.doc,Ze)))throw new Error(`Unsupported event target ${Ze} for event ${He}`);return this.eventManager.addEventListener(Ze,He,this.decoratePreventDefault(We))}decoratePreventDefault(Ze){return He=>{if("__ngUnwrap__"===He)return Ze;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ze(He)):Ze(He))&&He.preventDefault()}}}function K(Ke){return"TEMPLATE"===Ke.tagName&&void 0!==Ke.content}class ae extends Y{constructor(Ze,He,We,Ct,Qe,Ot,Dt,Wt){super(Ze,Qe,Ot,Wt),this.sharedStylesHost=He,this.hostEl=We,this.shadowRoot=We.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const bn=x(Ct.id,Ct.styles);for(const Pn of bn){const ps=document.createElement("style");Dt&&ps.setAttribute("nonce",Dt),ps.textContent=Pn,this.shadowRoot.appendChild(ps)}}nodeOrShadowRoot(Ze){return Ze===this.hostEl?this.shadowRoot:Ze}appendChild(Ze,He){return super.appendChild(this.nodeOrShadowRoot(Ze),He)}insertBefore(Ze,He,We){return super.insertBefore(this.nodeOrShadowRoot(Ze),He,We)}removeChild(Ze,He){return super.removeChild(this.nodeOrShadowRoot(Ze),He)}parentNode(Ze){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ze)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Q extends Y{constructor(Ze,He,We,Ct,Qe,Ot,Dt,Wt){super(Ze,Qe,Ot,Dt),this.sharedStylesHost=He,this.removeStylesOnCompDestroy=Ct,this.styles=Wt?x(Wt,We.styles):We.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class J extends Q{constructor(Ze,He,We,Ct,Qe,Ot,Dt,Wt){const bn=Ct+"-"+We.id;super(Ze,He,We,Qe,Ot,Dt,Wt,bn),this.contentAttr=function $(Ke){return M.replace(w,Ke)}(bn),this.hostAttr=function j(Ke){return S.replace(w,Ke)}(bn)}applyToHost(Ze){this.applyStyles(),this.setAttribute(Ze,this.hostAttr,"")}createElement(Ze,He){const We=super.createElement(Ze,He);return super.setAttribute(We,this.contentAttr,""),We}}let z=(()=>{class Ke extends I{constructor(He){super(He)}supports(He){return!0}addEventListener(He,We,Ct){return He.addEventListener(We,Ct,!1),()=>this.removeEventListener(He,We,Ct)}removeEventListener(He,We,Ct){return He.removeEventListener(We,Ct)}static#e=this.\u0275fac=function(We){return new(We||Ke)(i.KVO(n.qQ))};static#t=this.\u0275prov=i.jDH({token:Ke,factory:Ke.\u0275fac})}return Ke})();const q=["alt","control","meta","shift"],ee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},de={alt:Ke=>Ke.altKey,control:Ke=>Ke.ctrlKey,meta:Ke=>Ke.metaKey,shift:Ke=>Ke.shiftKey};let Ce=(()=>{class Ke extends I{constructor(He){super(He)}supports(He){return null!=Ke.parseEventName(He)}addEventListener(He,We,Ct){const Qe=Ke.parseEventName(We),Ot=Ke.eventCallback(Qe.fullKey,Ct,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,n.QT)().onAndCancel(He,Qe.domEventName,Ot))}static parseEventName(He){const We=He.toLowerCase().split("."),Ct=We.shift();if(0===We.length||"keydown"!==Ct&&"keyup"!==Ct)return null;const Qe=Ke._normalizeKey(We.pop());let Ot="",Dt=We.indexOf("code");if(Dt>-1&&(We.splice(Dt,1),Ot="code."),q.forEach(bn=>{const Pn=We.indexOf(bn);Pn>-1&&(We.splice(Pn,1),Ot+=bn+".")}),Ot+=Qe,0!=We.length||0===Qe.length)return null;const Wt={};return Wt.domEventName=Ct,Wt.fullKey=Ot,Wt}static matchEventFullKeyCode(He,We){let Ct=ee[He.key]||He.key,Qe="";return We.indexOf("code.")>-1&&(Ct=He.code,Qe="code."),!(null==Ct||!Ct)&&(Ct=Ct.toLowerCase()," "===Ct?Ct="space":"."===Ct&&(Ct="dot"),q.forEach(Ot=>{Ot!==Ct&&(0,de[Ot])(He)&&(Qe+=Ot+".")}),Qe+=Ct,Qe===We)}static eventCallback(He,We,Ct){return Qe=>{Ke.matchEventFullKeyCode(Qe,He)&&Ct.runGuarded(()=>We(Qe))}}static _normalizeKey(He){return"esc"===He?"escape":He}static#e=this.\u0275fac=function(We){return new(We||Ke)(i.KVO(n.qQ))};static#t=this.\u0275prov=i.jDH({token:Ke,factory:Ke.\u0275fac})}return Ke})();function Z(Ke,Ze){return(0,i.TL3)({rootComponent:Ke,...De(Ze)})}function De(Ke){return{appProviders:[...Be,...Ke?.providers??[]],platformProviders:Ie}}const Ie=[{provide:i.Agw,useValue:n.AJ},{provide:i.PLl,useValue:function re(){f.makeCurrent()},multi:!0},{provide:n.qQ,useFactory:function fe(){return(0,i.TL$)(document),document},deps:[]}],Be=[{provide:i.H8p,useValue:"root"},{provide:i.zcH,useFactory:function ve(){return new i.zcH},deps:[]},{provide:b,useClass:z,multi:!0,deps:[n.qQ,i.SKi,i.Agw]},{provide:b,useClass:Ce,multi:!0,deps:[n.qQ]},G,R,O,{provide:i._9s,useExisting:G},{provide:n.N0,useClass:_,deps:[]},[]];let et=(()=>{class Ke{constructor(He){this._doc=He,this._dom=(0,n.QT)()}addTag(He,We=!1){return He?this._getOrCreateElement(He,We):null}addTags(He,We=!1){return He?He.reduce((Ct,Qe)=>(Qe&&Ct.push(this._getOrCreateElement(Qe,We)),Ct),[]):[]}getTag(He){return He&&this._doc.querySelector(`meta[${He}]`)||null}getTags(He){if(!He)return[];const We=this._doc.querySelectorAll(`meta[${He}]`);return We?[].slice.call(We):[]}updateTag(He,We){if(!He)return null;We=We||this._parseSelector(He);const Ct=this.getTag(We);return Ct?this._setMetaElementAttributes(He,Ct):this._getOrCreateElement(He,!0)}removeTag(He){this.removeTagElement(this.getTag(He))}removeTagElement(He){He&&this._dom.remove(He)}_getOrCreateElement(He,We=!1){if(!We){const Ot=this._parseSelector(He),Dt=this.getTags(Ot).filter(Wt=>this._containsAttributes(He,Wt))[0];if(void 0!==Dt)return Dt}const Ct=this._dom.createElement("meta");return this._setMetaElementAttributes(He,Ct),this._doc.getElementsByTagName("head")[0].appendChild(Ct),Ct}_setMetaElementAttributes(He,We){return Object.keys(He).forEach(Ct=>We.setAttribute(this._getMetaKeyMap(Ct),He[Ct])),We}_parseSelector(He){const We=He.name?"name":"property";return`${We}="${He[We]}"`}_containsAttributes(He,We){return Object.keys(He).every(Ct=>We.getAttribute(this._getMetaKeyMap(Ct))===He[Ct])}_getMetaKeyMap(He){return yt[He]||He}static#e=this.\u0275fac=function(We){return new(We||Ke)(i.KVO(n.qQ))};static#t=this.\u0275prov=i.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})();const yt={httpEquiv:"http-equiv"};let it=(()=>{class Ke{constructor(He){this._doc=He}getTitle(){return this._doc.title}setTitle(He){this._doc.title=He||""}static#e=this.\u0275fac=function(We){return new(We||Ke)(i.KVO(n.qQ))};static#t=this.\u0275prov=i.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})();const Bt=new i.nKC("HammerGestureConfig");let tn=(()=>{class Ke{constructor(){this.events=[],this.overrides={}}buildHammer(He){const We=new Hammer(He,this.options);We.get("pinch").set({enable:!0}),We.get("rotate").set({enable:!0});for(const Ct in this.overrides)We.get(Ct).set(this.overrides[Ct]);return We}static#e=this.\u0275fac=function(We){return new(We||Ke)};static#t=this.\u0275prov=i.jDH({token:Ke,factory:Ke.\u0275fac})}return Ke})(),Zt=(()=>{class Ke{static#e=this.\u0275fac=function(We){return new(We||Ke)};static#t=this.\u0275prov=i.jDH({token:Ke,factory:function(We){let Ct=null;return Ct=We?new(We||Ke):i.KVO(mn),Ct},providedIn:"root"})}return Ke})(),mn=(()=>{class Ke extends Zt{constructor(He){super(),this._doc=He}sanitize(He,We){if(null==We)return null;switch(He){case i.WPN.NONE:return We;case i.WPN.HTML:return(0,i.ZF7)(We,"HTML")?(0,i.rcV)(We):(0,i.h9k)(this._doc,String(We)).toString();case i.WPN.STYLE:return(0,i.ZF7)(We,"Style")?(0,i.rcV)(We):We;case i.WPN.SCRIPT:if((0,i.ZF7)(We,"Script"))return(0,i.rcV)(We);throw new i.wOt(5200,!1);case i.WPN.URL:return(0,i.ZF7)(We,"URL")?(0,i.rcV)(We):(0,i.$MX)(String(We));case i.WPN.RESOURCE_URL:if((0,i.ZF7)(We,"ResourceURL"))return(0,i.rcV)(We);throw new i.wOt(5201,!1);default:throw new i.wOt(5202,!1)}}bypassSecurityTrustHtml(He){return(0,i.Kcf)(He)}bypassSecurityTrustStyle(He){return(0,i.cWb)(He)}bypassSecurityTrustScript(He){return(0,i.UyX)(He)}bypassSecurityTrustUrl(He){return(0,i.osQ)(He)}bypassSecurityTrustResourceUrl(He){return(0,i.e5t)(He)}static#e=this.\u0275fac=function(We){return new(We||Ke)(i.KVO(n.qQ))};static#t=this.\u0275prov=i.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})();var Rn=function(Ke){return Ke[Ke.NoHttpTransferCache=0]="NoHttpTransferCache",Ke[Ke.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",Ke}(Rn||{});function Dn(...Ke){const Ze=[],He=new Set,We=He.has(Rn.HttpTransferCacheOptions);for(const{\u0275providers:Ct,\u0275kind:Qe}of Ke)He.add(Qe),Ct.length&&Ze.push(Ct);return(0,i.EmA)([[],(0,i.M8M)(),He.has(Rn.NoHttpTransferCache)||We?[]:(0,c.$m)({}),Ze])}},95968:(B,D,t)=>{"use strict";t.d(D,{Bx:()=>Et,D7:()=>$n,Ii:()=>ad,Ix:()=>Qs,L6:()=>Ks,OY:()=>cr,Sn:()=>Sr,Wk:()=>Ui,Xw:()=>ne,Z:()=>mt,Zy:()=>ar,gx:()=>Ss,iI:()=>qi,j5:()=>An,ld:()=>Cs,lh:()=>ur,n3:()=>jr,nU:()=>wt,nX:()=>Ei,oH:()=>Us,wF:()=>xt,wQ:()=>Si});var i=t(73014),n=t(53107),c=t(11531),e=t(33325),f=t(63016),g=t(71217),d=t(76627),y=t(68747),E=t(56765),_=t(56381),b=t(26742),O=t(48915),I=t(76564),T=t(51642),R=t(18447),u=t(85710),w=t(54460),v=t(47947),S=t(22867),M=t(37610),L=t(30593),F=t(41483),$=t(27035),j=t(1703),x=t(81459),G=t(82040),Y=t(17178),V=t(44660),X=t(45670),K=t(70857),ae=t(35526),Q=t(66590),J=t(24447),z=t(83589),q=t(5424),ee=t(91890),de=t(86388);const Ce="primary",Z=Symbol("RouteTitle");class le{constructor(Te){this.params=Te||{}}has(Te){return Object.prototype.hasOwnProperty.call(this.params,Te)}get(Te){if(this.has(Te)){const he=this.params[Te];return Array.isArray(he)?he[0]:he}return null}getAll(Te){if(this.has(Te)){const he=this.params[Te];return Array.isArray(he)?he:[he]}return[]}get keys(){return Object.keys(this.params)}}function De(ce){return new le(ce)}function pe(ce,Te,he){const Oe=he.path.split("/");if(Oe.length>ce.length||"full"===he.pathMatch&&(Te.hasChildren()||Oe.length<ce.length))return null;const ze={};for(let pt=0;pt<Oe.length;pt++){const Me=Oe[pt],ye=ce[pt];if(Me.startsWith(":"))ze[Me.substring(1)]=ye;else if(Me!==ye.path)return null}return{consumed:ce.slice(0,Oe.length),posParams:ze}}function ve(ce,Te){const he=ce?fe(ce):void 0,Oe=Te?fe(Te):void 0;if(!he||!Oe||he.length!=Oe.length)return!1;let ze;for(let pt=0;pt<he.length;pt++)if(ze=he[pt],!Ie(ce[ze],Te[ze]))return!1;return!0}function fe(ce){return[...Object.keys(ce),...Object.getOwnPropertySymbols(ce)]}function Ie(ce,Te){if(Array.isArray(ce)&&Array.isArray(Te)){if(ce.length!==Te.length)return!1;const he=[...ce].sort(),Oe=[...Te].sort();return he.every((ze,pt)=>Oe[pt]===ze)}return ce===Te}function Ne(ce){return ce.length>0?ce[ce.length-1]:null}function qe(ce){return(0,c.A)(ce)?ce:(0,n.jNT)(ce)?(0,e.H)(Promise.resolve(ce)):(0,f.of)(ce)}const we={exact:function yt(ce,Te,he){if(!ke(ce.segments,Te.segments)||!nn(ce.segments,Te.segments,he)||ce.numberOfChildren!==Te.numberOfChildren)return!1;for(const Oe in Te.children)if(!ce.children[Oe]||!yt(ce.children[Oe],Te.children[Oe],he))return!1;return!0},subset:at},Be={exact:function et(ce,Te){return ve(ce,Te)},subset:function it(ce,Te){return Object.keys(Te).length<=Object.keys(ce).length&&Object.keys(Te).every(he=>Ie(ce[he],Te[he]))},ignored:()=>!0};function Ve(ce,Te,he){return we[he.paths](ce.root,Te.root,he.matrixParams)&&Be[he.queryParams](ce.queryParams,Te.queryParams)&&!("exact"===he.fragment&&ce.fragment!==Te.fragment)}function at(ce,Te,he){return Yt(ce,Te,Te.segments,he)}function Yt(ce,Te,he,Oe){if(ce.segments.length>he.length){const ze=ce.segments.slice(0,he.length);return!(!ke(ze,he)||Te.hasChildren()||!nn(ze,he,Oe))}if(ce.segments.length===he.length){if(!ke(ce.segments,he)||!nn(ce.segments,he,Oe))return!1;for(const ze in Te.children)if(!ce.children[ze]||!at(ce.children[ze],Te.children[ze],Oe))return!1;return!0}{const ze=he.slice(0,ce.segments.length),pt=he.slice(ce.segments.length);return!!(ke(ce.segments,ze)&&nn(ce.segments,ze,Oe)&&ce.children[Ce])&&Yt(ce.children[Ce],Te,pt,Oe)}}function nn(ce,Te,he){return Te.every((Oe,ze)=>Be[he](ce[ze].parameters,Oe.parameters))}class je{constructor(Te=new Re([],{}),he={},Oe=null){this.root=Te,this.queryParams=he,this.fragment=Oe}get queryParamMap(){return this._queryParamMap??=De(this.queryParams),this._queryParamMap}toString(){return tn.serialize(this)}}class Re{constructor(Te,he){this.segments=Te,this.children=he,this.parent=null,Object.values(he).forEach(Oe=>Oe.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return It(this)}}class ne{constructor(Te,he){this.path=Te,this.parameters=he}get parameterMap(){return this._parameterMap??=De(this.parameters),this._parameterMap}toString(){return rn(this)}}function ke(ce,Te){return ce.length===Te.length&&ce.every((he,Oe)=>he.path===Te[Oe].path)}let Bt=(()=>{class ce{static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=n.jDH({token:ce,factory:()=>new wt,providedIn:"root"})}return ce})();class wt{parse(Te){const he=new Ot(Te);return new je(he.parseRootSegment(),he.parseQueryParams(),he.parseFragment())}serialize(Te){const he=`/${$t(Te.root,!0)}`,Oe=function Lt(ce){const Te=Object.entries(ce).map(([he,Oe])=>Array.isArray(Oe)?Oe.map(ze=>`${mn(he)}=${mn(ze)}`).join("&"):`${mn(he)}=${mn(Oe)}`).filter(he=>he);return Te.length?`?${Te.join("&")}`:""}(Te.queryParams);return`${he}${Oe}${"string"==typeof Te.fragment?`#${function Rn(ce){return encodeURI(ce)}(Te.fragment)}`:""}`}}const tn=new wt;function It(ce){return ce.segments.map(Te=>rn(Te)).join("/")}function $t(ce,Te){if(!ce.hasChildren())return It(ce);if(Te){const he=ce.children[Ce]?$t(ce.children[Ce],!1):"",Oe=[];return Object.entries(ce.children).forEach(([ze,pt])=>{ze!==Ce&&Oe.push(`${ze}:${$t(pt,!1)}`)}),Oe.length>0?`${he}(${Oe.join("//")})`:he}{const he=function dt(ce,Te){let he=[];return Object.entries(ce.children).forEach(([Oe,ze])=>{Oe===Ce&&(he=he.concat(Te(ze,Oe)))}),Object.entries(ce.children).forEach(([Oe,ze])=>{Oe!==Ce&&(he=he.concat(Te(ze,Oe)))}),he}(ce,(Oe,ze)=>ze===Ce?[$t(ce.children[Ce],!1)]:[`${ze}:${$t(Oe,!1)}`]);return 1===Object.keys(ce.children).length&&null!=ce.children[Ce]?`${It(ce)}/${he[0]}`:`${It(ce)}/(${he.join("//")})`}}function Zt(ce){return encodeURIComponent(ce).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mn(ce){return Zt(ce).replace(/%3B/gi,";")}function os(ce){return Zt(ce).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mn(ce){return decodeURIComponent(ce)}function xs(ce){return Mn(ce.replace(/\+/g,"%20"))}function rn(ce){return`${os(ce.path)}${function Dn(ce){return Object.entries(ce).map(([Te,he])=>`;${os(Te)}=${os(he)}`).join("")}(ce.parameters)}`}const zt=/^[^\/()?;#]+/;function gt(ce){const Te=ce.match(zt);return Te?Te[0]:""}const Ke=/^[^\/()?;=#]+/,He=/^[^=?&#]+/,Ct=/^[^&#]+/;class Ot{constructor(Te){this.url=Te,this.remaining=Te}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){const Te={};if(this.consumeOptional("?"))do{this.parseQueryParam(Te)}while(this.consumeOptional("&"));return Te}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Te=[];for(this.peekStartsWith("(")||Te.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Te.push(this.parseSegment());let he={};this.peekStartsWith("/(")&&(this.capture("/"),he=this.parseParens(!0));let Oe={};return this.peekStartsWith("(")&&(Oe=this.parseParens(!1)),(Te.length>0||Object.keys(he).length>0)&&(Oe[Ce]=new Re(Te,he)),Oe}parseSegment(){const Te=gt(this.remaining);if(""===Te&&this.peekStartsWith(";"))throw new n.wOt(4009,!1);return this.capture(Te),new ne(Mn(Te),this.parseMatrixParams())}parseMatrixParams(){const Te={};for(;this.consumeOptional(";");)this.parseParam(Te);return Te}parseParam(Te){const he=function Ze(ce){const Te=ce.match(Ke);return Te?Te[0]:""}(this.remaining);if(!he)return;this.capture(he);let Oe="";if(this.consumeOptional("=")){const ze=gt(this.remaining);ze&&(Oe=ze,this.capture(Oe))}Te[Mn(he)]=Mn(Oe)}parseQueryParam(Te){const he=function We(ce){const Te=ce.match(He);return Te?Te[0]:""}(this.remaining);if(!he)return;this.capture(he);let Oe="";if(this.consumeOptional("=")){const Me=function Qe(ce){const Te=ce.match(Ct);return Te?Te[0]:""}(this.remaining);Me&&(Oe=Me,this.capture(Oe))}const ze=xs(he),pt=xs(Oe);if(Te.hasOwnProperty(ze)){let Me=Te[ze];Array.isArray(Me)||(Me=[Me],Te[ze]=Me),Me.push(pt)}else Te[ze]=pt}parseParens(Te){const he={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Oe=gt(this.remaining),ze=this.remaining[Oe.length];if("/"!==ze&&")"!==ze&&";"!==ze)throw new n.wOt(4010,!1);let pt;Oe.indexOf(":")>-1?(pt=Oe.slice(0,Oe.indexOf(":")),this.capture(pt),this.capture(":")):Te&&(pt=Ce);const Me=this.parseChildren();he[pt]=1===Object.keys(Me).length?Me[Ce]:new Re([],Me),this.consumeOptional("//")}return he}peekStartsWith(Te){return this.remaining.startsWith(Te)}consumeOptional(Te){return!!this.peekStartsWith(Te)&&(this.remaining=this.remaining.substring(Te.length),!0)}capture(Te){if(!this.consumeOptional(Te))throw new n.wOt(4011,!1)}}function Dt(ce){return ce.segments.length>0?new Re([],{[Ce]:ce}):ce}function Wt(ce){const Te={};for(const[Oe,ze]of Object.entries(ce.children)){const pt=Wt(ze);if(Oe===Ce&&0===pt.segments.length&&pt.hasChildren())for(const[Me,ye]of Object.entries(pt.children))Te[Me]=ye;else(pt.segments.length>0||pt.hasChildren())&&(Te[Oe]=pt)}return function bn(ce){if(1===ce.numberOfChildren&&ce.children[Ce]){const Te=ce.children[Ce];return new Re(ce.segments.concat(Te.segments),Te.children)}return ce}(new Re(ce.segments,Te))}function Pn(ce){return ce instanceof je}function ks(ce){let Te;const ze=Dt(function he(pt){const Me={};for(const oe of pt.children){const Se=he(oe);Me[oe.outlet]=Se}const ye=new Re(pt.url,Me);return pt===ce&&(Te=ye),ye}(ce.root));return Te??ze}function Fs(ce,Te,he,Oe){let ze=ce;for(;ze.parent;)ze=ze.parent;if(0===Te.length)return lt(ze,ze,ze,he,Oe);const pt=function ls(ce){if("string"==typeof ce[0]&&1===ce.length&&"/"===ce[0])return new Ln(!0,0,ce);let Te=0,he=!1;const Oe=ce.reduce((ze,pt,Me)=>{if("object"==typeof pt&&null!=pt){if(pt.outlets){const ye={};return Object.entries(pt.outlets).forEach(([oe,Se])=>{ye[oe]="string"==typeof Se?Se.split("/"):Se}),[...ze,{outlets:ye}]}if(pt.segmentPath)return[...ze,pt.segmentPath]}return"string"!=typeof pt?[...ze,pt]:0===Me?(pt.split("/").forEach((ye,oe)=>{0==oe&&"."===ye||(0==oe&&""===ye?he=!0:".."===ye?Te++:""!=ye&&ze.push(ye))}),ze):[...ze,pt]},[]);return new Ln(he,Te,Oe)}(Te);if(pt.toRoot())return lt(ze,ze,new Re([],{}),he,Oe);const Me=function In(ce,Te,he){if(ce.isAbsolute)return new As(Te,!0,0);if(!he)return new As(Te,!1,NaN);if(null===he.parent)return new As(he,!0,0);const Oe=vt(ce.commands[0])?0:1;return function yn(ce,Te,he){let Oe=ce,ze=Te,pt=he;for(;pt>ze;){if(pt-=ze,Oe=Oe.parent,!Oe)throw new n.wOt(4005,!1);ze=Oe.segments.length}return new As(Oe,!1,ze-pt)}(he,he.segments.length-1+Oe,ce.numberOfDoubleDots)}(pt,ze,ce),ye=Me.processChildren?ns(Me.segmentGroup,Me.index,pt.commands):Un(Me.segmentGroup,Me.index,pt.commands);return lt(ze,Me.segmentGroup,ye,he,Oe)}function vt(ce){return"object"==typeof ce&&null!=ce&&!ce.outlets&&!ce.segmentPath}function ht(ce){return"object"==typeof ce&&null!=ce&&ce.outlets}function lt(ce,Te,he,Oe,ze){let Me,pt={};Oe&&Object.entries(Oe).forEach(([oe,Se])=>{pt[oe]=Array.isArray(Se)?Se.map(rt=>`${rt}`):`${Se}`}),Me=ce===Te?he:jt(ce,Te,he);const ye=Dt(Wt(Me));return new je(ye,pt,ze)}function jt(ce,Te,he){const Oe={};return Object.entries(ce.children).forEach(([ze,pt])=>{Oe[ze]=pt===Te?he:jt(pt,Te,he)}),new Re(ce.segments,Oe)}class Ln{constructor(Te,he,Oe){if(this.isAbsolute=Te,this.numberOfDoubleDots=he,this.commands=Oe,Te&&Oe.length>0&&vt(Oe[0]))throw new n.wOt(4003,!1);const ze=Oe.find(ht);if(ze&&ze!==Ne(Oe))throw new n.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class As{constructor(Te,he,Oe){this.segmentGroup=Te,this.processChildren=he,this.index=Oe}}function Un(ce,Te,he){if(ce??=new Re([],{}),0===ce.segments.length&&ce.hasChildren())return ns(ce,Te,he);const Oe=function fs(ce,Te,he){let Oe=0,ze=Te;const pt={match:!1,pathIndex:0,commandIndex:0};for(;ze<ce.segments.length;){if(Oe>=he.length)return pt;const Me=ce.segments[ze],ye=he[Oe];if(ht(ye))break;const oe=`${ye}`,Se=Oe<he.length-1?he[Oe+1]:null;if(ze>0&&void 0===oe)break;if(oe&&Se&&"object"==typeof Se&&void 0===Se.outlets){if(!ft(oe,Se,Me))return pt;Oe+=2}else{if(!ft(oe,{},Me))return pt;Oe++}ze++}return{match:!0,pathIndex:ze,commandIndex:Oe}}(ce,Te,he),ze=he.slice(Oe.commandIndex);if(Oe.match&&Oe.pathIndex<ce.segments.length){const pt=new Re(ce.segments.slice(0,Oe.pathIndex),{});return pt.children[Ce]=new Re(ce.segments.slice(Oe.pathIndex),ce.children),ns(pt,0,ze)}return Oe.match&&0===ze.length?new Re(ce.segments,{}):Oe.match&&!ce.hasChildren()?Zn(ce,Te,he):Oe.match?ns(ce,0,ze):Zn(ce,Te,he)}function ns(ce,Te,he){if(0===he.length)return new Re(ce.segments,{});{const Oe=function hn(ce){return ht(ce[0])?ce[0].outlets:{[Ce]:ce}}(he),ze={};if(Object.keys(Oe).some(pt=>pt!==Ce)&&ce.children[Ce]&&1===ce.numberOfChildren&&0===ce.children[Ce].segments.length){const pt=ns(ce.children[Ce],Te,he);return new Re(ce.segments,pt.children)}return Object.entries(Oe).forEach(([pt,Me])=>{"string"==typeof Me&&(Me=[Me]),null!==Me&&(ze[pt]=Un(ce.children[pt],Te,Me))}),Object.entries(ce.children).forEach(([pt,Me])=>{void 0===Oe[pt]&&(ze[pt]=Me)}),new Re(ce.segments,ze)}}function Zn(ce,Te,he){const Oe=ce.segments.slice(0,Te);let ze=0;for(;ze<he.length;){const pt=he[ze];if(ht(pt)){const oe=_s(pt.outlets);return new Re(Oe,oe)}if(0===ze&&vt(he[0])){Oe.push(new ne(ce.segments[Te].path,Ds(he[0]))),ze++;continue}const Me=ht(pt)?pt.outlets[Ce]:`${pt}`,ye=ze<he.length-1?he[ze+1]:null;Me&&ye&&vt(ye)?(Oe.push(new ne(Me,Ds(ye))),ze+=2):(Oe.push(new ne(Me,{})),ze++)}return new Re(Oe,{})}function _s(ce){const Te={};return Object.entries(ce).forEach(([he,Oe])=>{"string"==typeof Oe&&(Oe=[Oe]),null!==Oe&&(Te[he]=Zn(new Re([],{}),0,Oe))}),Te}function Ds(ce){const Te={};return Object.entries(ce).forEach(([he,Oe])=>Te[he]=`${Oe}`),Te}function ft(ce,Te,he){return ce==he.path&&ve(Te,he.parameters)}const Ye="imperative";var Et=function(ce){return ce[ce.NavigationStart=0]="NavigationStart",ce[ce.NavigationEnd=1]="NavigationEnd",ce[ce.NavigationCancel=2]="NavigationCancel",ce[ce.NavigationError=3]="NavigationError",ce[ce.RoutesRecognized=4]="RoutesRecognized",ce[ce.ResolveStart=5]="ResolveStart",ce[ce.ResolveEnd=6]="ResolveEnd",ce[ce.GuardsCheckStart=7]="GuardsCheckStart",ce[ce.GuardsCheckEnd=8]="GuardsCheckEnd",ce[ce.RouteConfigLoadStart=9]="RouteConfigLoadStart",ce[ce.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",ce[ce.ChildActivationStart=11]="ChildActivationStart",ce[ce.ChildActivationEnd=12]="ChildActivationEnd",ce[ce.ActivationStart=13]="ActivationStart",ce[ce.ActivationEnd=14]="ActivationEnd",ce[ce.Scroll=15]="Scroll",ce[ce.NavigationSkipped=16]="NavigationSkipped",ce}(Et||{});class ut{constructor(Te,he){this.id=Te,this.url=he}}class mt extends ut{constructor(Te,he,Oe="imperative",ze=null){super(Te,he),this.type=Et.NavigationStart,this.navigationTrigger=Oe,this.restoredState=ze}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xt extends ut{constructor(Te,he,Oe){super(Te,he),this.urlAfterRedirects=Oe,this.type=Et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var sn=function(ce){return ce[ce.Redirect=0]="Redirect",ce[ce.SupersededByNewNavigation=1]="SupersededByNewNavigation",ce[ce.NoDataFromResolver=2]="NoDataFromResolver",ce[ce.GuardRejected=3]="GuardRejected",ce}(sn||{}),jn=function(ce){return ce[ce.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",ce[ce.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",ce}(jn||{});class An extends ut{constructor(Te,he,Oe,ze){super(Te,he),this.reason=Oe,this.code=ze,this.type=Et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ds extends ut{constructor(Te,he,Oe,ze){super(Te,he),this.reason=Oe,this.code=ze,this.type=Et.NavigationSkipped}}class Ks extends ut{constructor(Te,he,Oe,ze){super(Te,he),this.error=Oe,this.target=ze,this.type=Et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cs extends ut{constructor(Te,he,Oe,ze){super(Te,he),this.urlAfterRedirects=Oe,this.state=ze,this.type=Et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yi extends ut{constructor(Te,he,Oe,ze){super(Te,he),this.urlAfterRedirects=Oe,this.state=ze,this.type=Et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yi extends ut{constructor(Te,he,Oe,ze,pt){super(Te,he),this.urlAfterRedirects=Oe,this.state=ze,this.shouldActivate=pt,this.type=Et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mi extends ut{constructor(Te,he,Oe,ze){super(Te,he),this.urlAfterRedirects=Oe,this.state=ze,this.type=Et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ss extends ut{constructor(Te,he,Oe,ze){super(Te,he),this.urlAfterRedirects=Oe,this.state=ze,this.type=Et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hs{constructor(Te){this.route=Te,this.type=Et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gi{constructor(Te){this.route=Te,this.type=Et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xi{constructor(Te){this.snapshot=Te,this.type=Et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sr{constructor(Te){this.snapshot=Te,this.type=Et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ji{constructor(Te){this.snapshot=Te,this.type=Et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hr{constructor(Te){this.snapshot=Te,this.type=Et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cr{constructor(Te,he,Oe){this.routerEvent=Te,this.position=he,this.anchor=Oe,this.type=Et.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gs{}class Zs{constructor(Te){this.url=Te}}class Ho{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Bi,this.attachRef=null}}let Bi=(()=>{class ce{constructor(){this.contexts=new Map}onChildOutletCreated(he,Oe){const ze=this.getOrCreateContext(he);ze.outlet=Oe,this.contexts.set(he,ze)}onChildOutletDestroyed(he){const Oe=this.getContext(he);Oe&&(Oe.outlet=null,Oe.attachRef=null)}onOutletDeactivated(){const he=this.contexts;return this.contexts=new Map,he}onOutletReAttached(he){this.contexts=he}getOrCreateContext(he){let Oe=this.getContext(he);return Oe||(Oe=new Ho,this.contexts.set(he,Oe)),Oe}getContext(he){return this.contexts.get(he)||null}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=n.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();class Pt{constructor(Te){this._root=Te}get root(){return this._root.value}parent(Te){const he=this.pathFromRoot(Te);return he.length>1?he[he.length-2]:null}children(Te){const he=cn(Te,this._root);return he?he.children.map(Oe=>Oe.value):[]}firstChild(Te){const he=cn(Te,this._root);return he&&he.children.length>0?he.children[0].value:null}siblings(Te){const he=Kt(Te,this._root);return he.length<2?[]:he[he.length-2].children.map(ze=>ze.value).filter(ze=>ze!==Te)}pathFromRoot(Te){return Kt(Te,this._root).map(he=>he.value)}}function cn(ce,Te){if(ce===Te.value)return Te;for(const he of Te.children){const Oe=cn(ce,he);if(Oe)return Oe}return null}function Kt(ce,Te){if(ce===Te.value)return[Te];for(const he of Te.children){const Oe=Kt(ce,he);if(Oe.length)return Oe.unshift(Te),Oe}return[]}class Ut{constructor(Te,he){this.value=Te,this.children=he}toString(){return`TreeNode(${this.value})`}}function Cn(ce){const Te={};return ce&&ce.children.forEach(he=>Te[he.value.outlet]=he),Te}class kn extends Pt{constructor(Te,he){super(Te),this.snapshot=he,ao(this,Te)}toString(){return this.snapshot.toString()}}function cs(ce){const Te=function ai(ce){const pt=new li([],{},{},"",{},Ce,ce,null,{});return new xi("",new Ut(pt,[]))}(ce),he=new g.t([new ne("",{})]),Oe=new g.t({}),ze=new g.t({}),pt=new g.t({}),Me=new g.t(""),ye=new Ei(he,Oe,pt,Me,ze,Ce,ce,Te.root);return ye.snapshot=Te.root,new kn(new Ut(ye,[]),Te)}class Ei{constructor(Te,he,Oe,ze,pt,Me,ye,oe){this.urlSubject=Te,this.paramsSubject=he,this.queryParamsSubject=Oe,this.fragmentSubject=ze,this.dataSubject=pt,this.outlet=Me,this.component=ye,this._futureSnapshot=oe,this.title=this.dataSubject?.pipe((0,v.T)(Se=>Se[Z]))??(0,f.of)(void 0),this.url=Te,this.params=he,this.queryParams=Oe,this.fragment=ze,this.data=pt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,v.T)(Te=>De(Te))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,v.T)(Te=>De(Te))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ir(ce,Te,he="emptyOnly"){let Oe;const{routeConfig:ze}=ce;return Oe=null===Te||"always"!==he&&""!==ze?.path&&(Te.component||Te.routeConfig?.loadComponent)?{params:{...ce.params},data:{...ce.data},resolve:{...ce.data,...ce._resolvedData??{}}}:{params:{...Te.params,...ce.params},data:{...Te.data,...ce.data},resolve:{...ce.data,...Te.data,...ze?.data,...ce._resolvedData}},ze&&lo(ze)&&(Oe.resolve[Z]=ze.title),Oe}class li{get title(){return this.data?.[Z]}constructor(Te,he,Oe,ze,pt,Me,ye,oe,Se){this.url=Te,this.params=he,this.queryParams=Oe,this.fragment=ze,this.data=pt,this.outlet=Me,this.component=ye,this.routeConfig=oe,this._resolve=Se}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=De(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=De(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Oe=>Oe.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xi extends Pt{constructor(Te,he){super(he),this.url=Te,ao(this,he)}toString(){return Zr(this._root)}}function ao(ce,Te){Te.value._routerState=ce,Te.children.forEach(he=>ao(ce,he))}function Zr(ce){const Te=ce.children.length>0?` { ${ce.children.map(Zr).join(", ")} } `:"";return`${ce.value}${Te}`}function wr(ce){if(ce.snapshot){const Te=ce.snapshot,he=ce._futureSnapshot;ce.snapshot=he,ve(Te.queryParams,he.queryParams)||ce.queryParamsSubject.next(he.queryParams),Te.fragment!==he.fragment&&ce.fragmentSubject.next(he.fragment),ve(Te.params,he.params)||ce.paramsSubject.next(he.params),function re(ce,Te){if(ce.length!==Te.length)return!1;for(let he=0;he<ce.length;++he)if(!ve(ce[he],Te[he]))return!1;return!0}(Te.url,he.url)||ce.urlSubject.next(he.url),ve(Te.data,he.data)||ce.dataSubject.next(he.data)}else ce.snapshot=ce._futureSnapshot,ce.dataSubject.next(ce._futureSnapshot.data)}function Io(ce,Te){const he=ve(ce.params,Te.params)&&function Ee(ce,Te){return ke(ce,Te)&&ce.every((he,Oe)=>ve(he.parameters,Te[Oe].parameters))}(ce.url,Te.url);return he&&!(!ce.parent!=!Te.parent)&&(!ce.parent||Io(ce.parent,Te.parent))}function lo(ce){return"string"==typeof ce.title||null===ce.title}let jr=(()=>{class ce{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ce,this.activateEvents=new n.bkB,this.deactivateEvents=new n.bkB,this.attachEvents=new n.bkB,this.detachEvents=new n.bkB,this.parentContexts=(0,n.WQX)(Bi),this.location=(0,n.WQX)(n.c1b),this.changeDetector=(0,n.WQX)(n.gRc),this.environmentInjector=(0,n.WQX)(n.uvJ),this.inputBinder=(0,n.WQX)(Ri,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(he){if(he.name){const{firstChange:Oe,previousValue:ze}=he.name;if(Oe)return;this.isTrackedInParentContexts(ze)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ze)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(he){return this.parentContexts.getContext(he)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const he=this.parentContexts.getContext(this.name);he?.route&&(he.attachRef?this.attach(he.attachRef,he.route):this.activateWith(he.route,he.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new n.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new n.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new n.wOt(4012,!1);this.location.detach();const he=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(he.instance),he}attach(he,Oe){this.activated=he,this._activatedRoute=Oe,this.location.insert(he.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(he.instance)}deactivate(){if(this.activated){const he=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(he)}}activateWith(he,Oe){if(this.isActivated)throw new n.wOt(4013,!1);this._activatedRoute=he;const ze=this.location,Me=he.snapshot.component,ye=this.parentContexts.getOrCreateContext(this.name).children,oe=new co(he,ye,ze.injector);this.activated=ze.createComponent(Me,{index:ze.length,injector:oe,environmentInjector:Oe??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275dir=n.FsC({type:ce,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[n.OA$]})}return ce})();class co{__ngOutletInjector(Te){return new co(this.route,this.childContexts,Te)}constructor(Te,he,Oe){this.route=Te,this.childContexts=he,this.parent=Oe}get(Te,he){return Te===Ei?this.route:Te===Bi?this.childContexts:this.parent.get(Te,he)}}const Ri=new n.nKC("");let No=(()=>{class ce{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(he){this.unsubscribeFromRouteData(he),this.subscribeToRouteData(he)}unsubscribeFromRouteData(he){this.outletDataSubscriptions.get(he)?.unsubscribe(),this.outletDataSubscriptions.delete(he)}subscribeToRouteData(he){const{activatedRoute:Oe}=he,ze=(0,d.z)([Oe.queryParams,Oe.params,Oe.data]).pipe((0,S.n)(([pt,Me,ye],oe)=>(ye={...pt,...Me,...ye},0===oe?(0,f.of)(ye):Promise.resolve(ye)))).subscribe(pt=>{if(!he.isActivated||!he.activatedComponentRef||he.activatedRoute!==Oe||null===Oe.component)return void this.unsubscribeFromRouteData(he);const Me=(0,n.HJs)(Oe.component);if(Me)for(const{templateName:ye}of Me.inputs)he.activatedComponentRef.setInput(ye,pt[ye]);else this.unsubscribeFromRouteData(he)});this.outletDataSubscriptions.set(he,ze)}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=n.jDH({token:ce,factory:ce.\u0275fac})}return ce})();function fr(ce,Te,he){if(he&&ce.shouldReuseRoute(Te.value,he.value.snapshot)){const Oe=he.value;Oe._futureSnapshot=Te.value;const ze=function Ps(ce,Te,he){return Te.children.map(Oe=>{for(const ze of he.children)if(ce.shouldReuseRoute(Oe.value,ze.value.snapshot))return fr(ce,Oe,ze);return fr(ce,Oe)})}(ce,Te,he);return new Ut(Oe,ze)}{if(ce.shouldAttach(Te.value)){const pt=ce.retrieve(Te.value);if(null!==pt){const Me=pt.route;return Me.value._futureSnapshot=Te.value,Me.children=Te.children.map(ye=>fr(ce,ye)),Me}}const Oe=function sa(ce){return new Ei(new g.t(ce.url),new g.t(ce.params),new g.t(ce.queryParams),new g.t(ce.fragment),new g.t(ce.data),ce.outlet,ce.component,ce)}(Te.value),ze=Te.children.map(pt=>fr(ce,pt));return new Ut(Oe,ze)}}const So="ngNavigationCancelingError";function Er(ce,Te){const{redirectTo:he,navigationBehaviorOptions:Oe}=Pn(Te)?{redirectTo:Te,navigationBehaviorOptions:void 0}:Te,ze=uo(!1,sn.Redirect);return ze.url=he,ze.navigationBehaviorOptions=Oe,ze}function uo(ce,Te){const he=new Error(`NavigationCancelingError: ${ce||""}`);return he[So]=!0,he.cancellationCode=Te,he}function Eo(ce){return!!ce&&ce[So]}let zr=(()=>{class ce{static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275cmp=n.VBU({type:ce,selectors:[["ng-component"]],standalone:!0,features:[n.aNF],decls:1,vars:0,template:function(Oe,ze){1&Oe&&n.nrm(0,"router-outlet")},dependencies:[jr],encapsulation:2})}return ce})();function us(ce){const Te=ce.children&&ce.children.map(us),he=Te?{...ce,children:Te}:{...ce};return!he.component&&!he.loadComponent&&(Te||he.loadChildren)&&he.outlet&&he.outlet!==Ce&&(he.component=zr),he}function Is(ce){return ce.outlet||Ce}function Ai(ce){if(!ce)return null;if(ce.routeConfig?._injector)return ce.routeConfig._injector;for(let Te=ce.parent;Te;Te=Te.parent){const he=Te.routeConfig;if(he?._loadedInjector)return he._loadedInjector;if(he?._injector)return he._injector}return null}class $s{constructor(Te,he,Oe,ze,pt){this.routeReuseStrategy=Te,this.futureState=he,this.currState=Oe,this.forwardEvent=ze,this.inputBindingEnabled=pt}activate(Te){const he=this.futureState._root,Oe=this.currState?this.currState._root:null;this.deactivateChildRoutes(he,Oe,Te),wr(this.futureState.root),this.activateChildRoutes(he,Oe,Te)}deactivateChildRoutes(Te,he,Oe){const ze=Cn(he);Te.children.forEach(pt=>{const Me=pt.value.outlet;this.deactivateRoutes(pt,ze[Me],Oe),delete ze[Me]}),Object.values(ze).forEach(pt=>{this.deactivateRouteAndItsChildren(pt,Oe)})}deactivateRoutes(Te,he,Oe){const ze=Te.value,pt=he?he.value:null;if(ze===pt)if(ze.component){const Me=Oe.getContext(ze.outlet);Me&&this.deactivateChildRoutes(Te,he,Me.children)}else this.deactivateChildRoutes(Te,he,Oe);else pt&&this.deactivateRouteAndItsChildren(he,Oe)}deactivateRouteAndItsChildren(Te,he){Te.value.component&&this.routeReuseStrategy.shouldDetach(Te.value.snapshot)?this.detachAndStoreRouteSubtree(Te,he):this.deactivateRouteAndOutlet(Te,he)}detachAndStoreRouteSubtree(Te,he){const Oe=he.getContext(Te.value.outlet),ze=Oe&&Te.value.component?Oe.children:he,pt=Cn(Te);for(const Me of Object.values(pt))this.deactivateRouteAndItsChildren(Me,ze);if(Oe&&Oe.outlet){const Me=Oe.outlet.detach(),ye=Oe.children.onOutletDeactivated();this.routeReuseStrategy.store(Te.value.snapshot,{componentRef:Me,route:Te,contexts:ye})}}deactivateRouteAndOutlet(Te,he){const Oe=he.getContext(Te.value.outlet),ze=Oe&&Te.value.component?Oe.children:he,pt=Cn(Te);for(const Me of Object.values(pt))this.deactivateRouteAndItsChildren(Me,ze);Oe&&(Oe.outlet&&(Oe.outlet.deactivate(),Oe.children.onOutletDeactivated()),Oe.attachRef=null,Oe.route=null)}activateChildRoutes(Te,he,Oe){const ze=Cn(he);Te.children.forEach(pt=>{this.activateRoutes(pt,ze[pt.value.outlet],Oe),this.forwardEvent(new Hr(pt.value.snapshot))}),Te.children.length&&this.forwardEvent(new sr(Te.value.snapshot))}activateRoutes(Te,he,Oe){const ze=Te.value,pt=he?he.value:null;if(wr(ze),ze===pt)if(ze.component){const Me=Oe.getOrCreateContext(ze.outlet);this.activateChildRoutes(Te,he,Me.children)}else this.activateChildRoutes(Te,he,Oe);else if(ze.component){const Me=Oe.getOrCreateContext(ze.outlet);if(this.routeReuseStrategy.shouldAttach(ze.snapshot)){const ye=this.routeReuseStrategy.retrieve(ze.snapshot);this.routeReuseStrategy.store(ze.snapshot,null),Me.children.onOutletReAttached(ye.contexts),Me.attachRef=ye.componentRef,Me.route=ye.route.value,Me.outlet&&Me.outlet.attach(ye.componentRef,ye.route.value),wr(ye.route.value),this.activateChildRoutes(Te,null,Me.children)}else{const ye=Ai(ze.snapshot);Me.attachRef=null,Me.route=ze,Me.injector=ye,Me.outlet&&Me.outlet.activateWith(ze,Me.injector),this.activateChildRoutes(Te,null,Me.children)}}else this.activateChildRoutes(Te,null,Oe)}}class Gi{constructor(Te){this.path=Te,this.route=this.path[this.path.length-1]}}class Cr{constructor(Te,he){this.component=Te,this.route=he}}function qr(ce,Te,he){const Oe=ce._root;return Js(Oe,Te?Te._root:null,he,[Oe.value])}function $i(ce,Te){const he=Symbol(),Oe=Te.get(ce,he);return Oe===he?"function"!=typeof ce||(0,n.LfX)(ce)?Te.get(ce):ce:Oe}function Js(ce,Te,he,Oe,ze={canDeactivateChecks:[],canActivateChecks:[]}){const pt=Cn(Te);return ce.children.forEach(Me=>{(function mr(ce,Te,he,Oe,ze={canDeactivateChecks:[],canActivateChecks:[]}){const pt=ce.value,Me=Te?Te.value:null,ye=he?he.getContext(ce.value.outlet):null;if(Me&&pt.routeConfig===Me.routeConfig){const oe=function br(ce,Te,he){if("function"==typeof he)return he(ce,Te);switch(he){case"pathParamsChange":return!ke(ce.url,Te.url);case"pathParamsOrQueryParamsChange":return!ke(ce.url,Te.url)||!ve(ce.queryParams,Te.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Io(ce,Te)||!ve(ce.queryParams,Te.queryParams);default:return!Io(ce,Te)}}(Me,pt,pt.routeConfig.runGuardsAndResolvers);oe?ze.canActivateChecks.push(new Gi(Oe)):(pt.data=Me.data,pt._resolvedData=Me._resolvedData),Js(ce,Te,pt.component?ye?ye.children:null:he,Oe,ze),oe&&ye&&ye.outlet&&ye.outlet.isActivated&&ze.canDeactivateChecks.push(new Cr(ye.outlet.component,Me))}else Me&&gr(Te,ye,ze),ze.canActivateChecks.push(new Gi(Oe)),Js(ce,null,pt.component?ye?ye.children:null:he,Oe,ze)})(Me,pt[Me.value.outlet],he,Oe.concat([Me.value]),ze),delete pt[Me.value.outlet]}),Object.entries(pt).forEach(([Me,ye])=>gr(ye,he.getContext(Me),ze)),ze}function gr(ce,Te,he){const Oe=Cn(ce),ze=ce.value;Object.entries(Oe).forEach(([pt,Me])=>{gr(Me,ze.component?Te?Te.children.getContext(pt):null:Te,he)}),he.canDeactivateChecks.push(new Cr(ze.component&&Te&&Te.outlet&&Te.outlet.isActivated?Te.outlet.component:null,ze))}function Dr(ce){return"function"==typeof ce}function se(ce){return ce instanceof y.G||"EmptyError"===ce?.name}const $e=Symbol("INITIAL_VALUE");function me(){return(0,S.n)(ce=>(0,d.z)(ce.map(Te=>Te.pipe((0,M.s)(1),(0,L.Z)($e)))).pipe((0,v.T)(Te=>{for(const he of Te)if(!0!==he){if(he===$e)return $e;if(!1===he||he instanceof je)return he}return!0}),(0,F.p)(Te=>Te!==$e),(0,M.s)(1)))}function Ci(ce){return(0,b.F)((0,G.M)(Te=>{if(Pn(Te))throw Er(0,Te)}),(0,v.T)(Te=>!0===Te))}class Fo{constructor(Te){this.segmentGroup=Te||null}}class Pa extends Error{constructor(Te){super(),this.urlTree=Te}}function bo(ce){return(0,O.$)(new Fo(ce))}class Ra{constructor(Te,he){this.urlSerializer=Te,this.urlTree=he}lineralizeSegments(Te,he){let Oe=[],ze=he.root;for(;;){if(Oe=Oe.concat(ze.segments),0===ze.numberOfChildren)return(0,f.of)(Oe);if(ze.numberOfChildren>1||!ze.children[Ce])return(0,O.$)(new n.wOt(4e3,!1));ze=ze.children[Ce]}}applyRedirectCommands(Te,he,Oe){const ze=this.applyRedirectCreateUrlTree(he,this.urlSerializer.parse(he),Te,Oe);if(he.startsWith("/"))throw new Pa(ze);return ze}applyRedirectCreateUrlTree(Te,he,Oe,ze){const pt=this.createSegmentGroup(Te,he.root,Oe,ze);return new je(pt,this.createQueryParams(he.queryParams,this.urlTree.queryParams),he.fragment)}createQueryParams(Te,he){const Oe={};return Object.entries(Te).forEach(([ze,pt])=>{if("string"==typeof pt&&pt.startsWith(":")){const ye=pt.substring(1);Oe[ze]=he[ye]}else Oe[ze]=pt}),Oe}createSegmentGroup(Te,he,Oe,ze){const pt=this.createSegments(Te,he.segments,Oe,ze);let Me={};return Object.entries(he.children).forEach(([ye,oe])=>{Me[ye]=this.createSegmentGroup(Te,oe,Oe,ze)}),new Re(pt,Me)}createSegments(Te,he,Oe,ze){return he.map(pt=>pt.path.startsWith(":")?this.findPosParam(Te,pt,ze):this.findOrReturn(pt,Oe))}findPosParam(Te,he,Oe){const ze=Oe[he.path.substring(1)];if(!ze)throw new n.wOt(4001,!1);return ze}findOrReturn(Te,he){let Oe=0;for(const ze of he){if(ze.path===Te.path)return he.splice(Oe),ze;Oe++}return Te}}const fa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ra(ce,Te,he,Oe,ze){const pt=Uo(ce,Te,he);return pt.matched?(Oe=function Co(ce,Te){return ce.providers&&!ce._injector&&(ce._injector=(0,n.Ol2)(ce.providers,Te,`Route: ${ce.path}`)),ce._injector??Te}(Te,Oe),function ia(ce,Te,he,Oe){const ze=Te.canMatch;if(!ze||0===ze.length)return(0,f.of)(!0);const pt=ze.map(Me=>{const ye=$i(Me,ce);return qe(function Xe(ce){return ce&&Dr(ce.canMatch)}(ye)?ye.canMatch(Te,he):(0,n.N4e)(ce,()=>ye(Te,he)))});return(0,f.of)(pt).pipe(me(),Ci())}(Oe,Te,he).pipe((0,v.T)(Me=>!0===Me?pt:{...fa}))):(0,f.of)(pt)}function Uo(ce,Te,he){if("**"===Te.path)return function Aa(ce){return{matched:!0,parameters:ce.length>0?Ne(ce).parameters:{},consumedSegments:ce,remainingSegments:[],positionalParamSegments:{}}}(he);if(""===Te.path)return"full"===Te.pathMatch&&(ce.hasChildren()||he.length>0)?{...fa}:{matched:!0,consumedSegments:[],remainingSegments:he,parameters:{},positionalParamSegments:{}};const ze=(Te.matcher||pe)(he,ce,Te);if(!ze)return{...fa};const pt={};Object.entries(ze.posParams??{}).forEach(([ye,oe])=>{pt[ye]=oe.path});const Me=ze.consumed.length>0?{...pt,...ze.consumed[ze.consumed.length-1].parameters}:pt;return{matched:!0,consumedSegments:ze.consumed,remainingSegments:he.slice(ze.consumed.length),parameters:Me,positionalParamSegments:ze.posParams??{}}}function Po(ce,Te,he,Oe){return he.length>0&&function Qi(ce,Te,he){return he.some(Oe=>Ts(ce,Te,Oe)&&Is(Oe)!==Ce)}(ce,he,Oe)?{segmentGroup:new Re(Te,Wi(Oe,new Re(he,ce.children))),slicedSegments:[]}:0===he.length&&function jo(ce,Te,he){return he.some(Oe=>Ts(ce,Te,Oe))}(ce,he,Oe)?{segmentGroup:new Re(ce.segments,vs(ce,he,Oe,ce.children)),slicedSegments:he}:{segmentGroup:new Re(ce.segments,ce.children),slicedSegments:he}}function vs(ce,Te,he,Oe){const ze={};for(const pt of he)if(Ts(ce,Te,pt)&&!Oe[Is(pt)]){const Me=new Re([],{});ze[Is(pt)]=Me}return{...Oe,...ze}}function Wi(ce,Te){const he={};he[Ce]=Te;for(const Oe of ce)if(""===Oe.path&&Is(Oe)!==Ce){const ze=new Re([],{});he[Is(Oe)]=ze}return he}function Ts(ce,Te,he){return(!(ce.hasChildren()||Te.length>0)||"full"!==he.pathMatch)&&""===he.path}class po{}class Ro{constructor(Te,he,Oe,ze,pt,Me,ye){this.injector=Te,this.configLoader=he,this.rootComponentType=Oe,this.config=ze,this.urlTree=pt,this.paramsInheritanceStrategy=Me,this.urlSerializer=ye,this.applyRedirects=new Ra(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Te){return new n.wOt(4002,`'${Te.segmentGroup}'`)}recognize(){const Te=Po(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Te).pipe((0,v.T)(he=>{const Oe=new li([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ce,this.rootComponentType,null,{}),ze=new Ut(Oe,he),pt=new xi("",ze),Me=function ps(ce,Te,he=null,Oe=null){return Fs(ks(ce),Te,he,Oe)}(Oe,[],this.urlTree.queryParams,this.urlTree.fragment);return Me.queryParams=this.urlTree.queryParams,pt.url=this.urlSerializer.serialize(Me),this.inheritParamsAndData(pt._root,null),{state:pt,tree:Me}}))}match(Te){return this.processSegmentGroup(this.injector,this.config,Te,Ce).pipe((0,Y.W)(Oe=>{if(Oe instanceof Pa)return this.urlTree=Oe.urlTree,this.match(Oe.urlTree.root);throw Oe instanceof Fo?this.noMatchError(Oe):Oe}))}inheritParamsAndData(Te,he){const Oe=Te.value,ze=ir(Oe,he,this.paramsInheritanceStrategy);Oe.params=Object.freeze(ze.params),Oe.data=Object.freeze(ze.data),Te.children.forEach(pt=>this.inheritParamsAndData(pt,Oe))}processSegmentGroup(Te,he,Oe,ze){return 0===Oe.segments.length&&Oe.hasChildren()?this.processChildren(Te,he,Oe):this.processSegment(Te,he,Oe,Oe.segments,ze,!0).pipe((0,v.T)(pt=>pt instanceof Ut?[pt]:[]))}processChildren(Te,he,Oe){const ze=[];for(const pt of Object.keys(Oe.children))"primary"===pt?ze.unshift(pt):ze.push(pt);return(0,e.H)(ze).pipe((0,x.H)(pt=>{const Me=Oe.children[pt],ye=function di(ce,Te){const he=ce.filter(Oe=>Is(Oe)===Te);return he.push(...ce.filter(Oe=>Is(Oe)!==Te)),he}(he,pt);return this.processSegmentGroup(Te,ye,Me,pt)}),(0,V.S)((pt,Me)=>(pt.push(...Me),pt)),(0,X.U)(null),(0,K.H)(),(0,$.Z)(pt=>{if(null===pt)return bo(Oe);const Me=eo(pt);return function wa(ce){ce.sort((Te,he)=>Te.value.outlet===Ce?-1:he.value.outlet===Ce?1:Te.value.outlet.localeCompare(he.value.outlet))}(Me),(0,f.of)(Me)}))}processSegment(Te,he,Oe,ze,pt,Me){return(0,e.H)(he).pipe((0,x.H)(ye=>this.processSegmentAgainstRoute(ye._injector??Te,he,ye,Oe,ze,pt,Me).pipe((0,Y.W)(oe=>{if(oe instanceof Fo)return(0,f.of)(null);throw oe}))),(0,j.$)(ye=>!!ye),(0,Y.W)(ye=>{if(se(ye))return function oa(ce,Te,he){return 0===Te.length&&!ce.children[he]}(Oe,ze,pt)?(0,f.of)(new po):bo(Oe);throw ye}))}processSegmentAgainstRoute(Te,he,Oe,ze,pt,Me,ye){return function $a(ce,Te,he,Oe){return!!(Is(ce)===Oe||Oe!==Ce&&Ts(Te,he,ce))&&Uo(Te,ce,he).matched}(Oe,ze,pt,Me)?void 0===Oe.redirectTo?this.matchSegmentAgainstRoute(Te,ze,Oe,pt,Me):this.allowRedirects&&ye?this.expandSegmentAgainstRouteUsingRedirect(Te,ze,he,Oe,pt,Me):bo(ze):bo(ze)}expandSegmentAgainstRouteUsingRedirect(Te,he,Oe,ze,pt,Me){const{matched:ye,consumedSegments:oe,positionalParamSegments:Se,remainingSegments:rt}=Uo(he,ze,pt);if(!ye)return bo(he);ze.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Mt=this.applyRedirects.applyRedirectCommands(oe,ze.redirectTo,Se);return this.applyRedirects.lineralizeSegments(ze,Mt).pipe((0,$.Z)(en=>this.processSegment(Te,Oe,he,en.concat(rt),Me,!1)))}matchSegmentAgainstRoute(Te,he,Oe,ze,pt){const Me=ra(he,Oe,ze,Te);return"**"===Oe.path&&(he.children={}),Me.pipe((0,S.n)(ye=>ye.matched?this.getChildConfig(Te=Oe._injector??Te,Oe,ze).pipe((0,S.n)(({routes:oe})=>{const Se=Oe._loadedInjector??Te,{consumedSegments:rt,remainingSegments:Mt,parameters:en}=ye,_n=new li(rt,en,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function aa(ce){return ce.data||{}}(Oe),Is(Oe),Oe.component??Oe._loadedComponent??null,Oe,function Rs(ce){return ce.resolve||{}}(Oe)),{segmentGroup:zn,slicedSegments:is}=Po(he,rt,Mt,oe);if(0===is.length&&zn.hasChildren())return this.processChildren(Se,oe,zn).pipe((0,v.T)(zi=>null===zi?null:new Ut(_n,zi)));if(0===oe.length&&0===is.length)return(0,f.of)(new Ut(_n,[]));const ui=Is(Oe)===pt;return this.processSegment(Se,oe,zn,is,ui?Ce:pt,!0).pipe((0,v.T)(zi=>new Ut(_n,zi instanceof Ut?[zi]:[])))})):bo(he)))}getChildConfig(Te,he,Oe){return he.children?(0,f.of)({routes:he.children,injector:Te}):he.loadChildren?void 0!==he._loadedRoutes?(0,f.of)({routes:he._loadedRoutes,injector:he._loadedInjector}):function or(ce,Te,he,Oe){const ze=Te.canLoad;if(void 0===ze||0===ze.length)return(0,f.of)(!0);const pt=ze.map(Me=>{const ye=$i(Me,ce);return qe(function Xr(ce){return ce&&Dr(ce.canLoad)}(ye)?ye.canLoad(Te,he):(0,n.N4e)(ce,()=>ye(Te,he)))});return(0,f.of)(pt).pipe(me(),Ci())}(Te,he,Oe).pipe((0,$.Z)(ze=>ze?this.configLoader.loadChildren(Te,he).pipe((0,G.M)(pt=>{he._loadedRoutes=pt.routes,he._loadedInjector=pt.injector})):function Bo(ce){return(0,O.$)(uo(!1,sn.GuardRejected))}())):(0,f.of)({routes:[],injector:Te})}}function Lr(ce){const Te=ce.value.routeConfig;return Te&&""===Te.path}function eo(ce){const Te=[],he=new Set;for(const Oe of ce){if(!Lr(Oe)){Te.push(Oe);continue}const ze=Te.find(pt=>Oe.value.routeConfig===pt.value.routeConfig);void 0!==ze?(ze.children.push(...Oe.children),he.add(ze)):Te.push(Oe)}for(const Oe of he){const ze=eo(Oe.children);Te.push(new Ut(Oe.value,ze))}return Te.filter(Oe=>!he.has(Oe))}function Xo(ce){const Te=ce.children.map(he=>Xo(he)).flat();return[ce,...Te]}function Sn(ce){return(0,S.n)(Te=>{const he=ce(Te);return he?(0,e.H)(he).pipe((0,v.T)(()=>Te)):(0,f.of)(Te)})}let qn=(()=>{class ce{buildTitle(he){let Oe,ze=he.root;for(;void 0!==ze;)Oe=this.getResolvedTitleForRoute(ze)??Oe,ze=ze.children.find(pt=>pt.outlet===Ce);return Oe}getResolvedTitleForRoute(he){return he.data[Z]}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=n.jDH({token:ce,factory:()=>(0,n.WQX)(Ht),providedIn:"root"})}return ce})(),Ht=(()=>{class ce extends qn{constructor(he){super(),this.title=he}updateTitle(he){const Oe=this.buildTitle(he);void 0!==Oe&&this.title.setTitle(Oe)}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)(n.KVO(de.hE))};static#t=this.\u0275prov=n.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();const ts=new n.nKC("",{providedIn:"root",factory:()=>({})}),Gn=new n.nKC("");let ci=(()=>{class ce{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,n.WQX)(n.Ql9)}loadComponent(he){if(this.componentLoaders.get(he))return this.componentLoaders.get(he);if(he._loadedComponent)return(0,f.of)(he._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(he);const Oe=qe(he.loadComponent()).pipe((0,v.T)(Fi),(0,G.M)(pt=>{this.onLoadEndListener&&this.onLoadEndListener(he),he._loadedComponent=pt}),(0,J.j)(()=>{this.componentLoaders.delete(he)})),ze=new T.G(Oe,()=>new R.B).pipe((0,z.B)());return this.componentLoaders.set(he,ze),ze}loadChildren(he,Oe){if(this.childrenLoaders.get(Oe))return this.childrenLoaders.get(Oe);if(Oe._loadedRoutes)return(0,f.of)({routes:Oe._loadedRoutes,injector:Oe._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Oe);const pt=function bi(ce,Te,he,Oe){return qe(ce.loadChildren()).pipe((0,v.T)(Fi),(0,$.Z)(ze=>ze instanceof n.Co$||Array.isArray(ze)?(0,f.of)(ze):(0,e.H)(Te.compileModuleAsync(ze))),(0,v.T)(ze=>{Oe&&Oe(ce);let pt,Me,ye=!1;return Array.isArray(ze)?(Me=ze,!0):(pt=ze.create(he).injector,Me=pt.get(Gn,[],{optional:!0,self:!0}).flat()),{routes:Me.map(us),injector:pt}}))}(Oe,this.compiler,he,this.onLoadEndListener).pipe((0,J.j)(()=>{this.childrenLoaders.delete(Oe)})),Me=new T.G(pt,()=>new R.B).pipe((0,z.B)());return this.childrenLoaders.set(Oe,Me),Me}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=n.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();function Fi(ce){return function zs(ce){return ce&&"object"==typeof ce&&"default"in ce}(ce)?ce.default:ce}let Di=(()=>{class ce{static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=n.jDH({token:ce,factory:()=>(0,n.WQX)(Zi),providedIn:"root"})}return ce})(),Zi=(()=>{class ce{shouldProcessUrl(he){return!0}extract(he){return he}merge(he,Oe){return he}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=n.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();const Ki=new n.nKC(""),Kn=new n.nKC("");function Or(ce,Te,he){const Oe=ce.get(Kn),ze=ce.get(w.qQ);return ce.get(n.SKi).runOutsideAngular(()=>{if(!ze.startViewTransition||Oe.skipNextTransition)return Oe.skipNextTransition=!1,new Promise(Se=>setTimeout(Se));let pt;const Me=new Promise(Se=>{pt=Se}),ye=ze.startViewTransition(()=>(pt(),function Ka(ce){return new Promise(Te=>{(0,n.mal)(Te,{injector:ce})})}(ce))),{onViewTransitionCreated:oe}=Oe;return oe&&(0,n.N4e)(ce,()=>oe({transition:ye,from:Te,to:he})),Me})}let Mr=(()=>{class ce{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new R.B,this.transitionAbortSubject=new R.B,this.configLoader=(0,n.WQX)(ci),this.environmentInjector=(0,n.WQX)(n.uvJ),this.urlSerializer=(0,n.WQX)(Bt),this.rootContexts=(0,n.WQX)(Bi),this.location=(0,n.WQX)(w.aZ),this.inputBindingEnabled=null!==(0,n.WQX)(Ri,{optional:!0}),this.titleStrategy=(0,n.WQX)(qn),this.options=(0,n.WQX)(ts,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,n.WQX)(Di),this.createViewTransition=(0,n.WQX)(Ki,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,f.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ze=>this.events.next(new gi(ze)),this.configLoader.onLoadStartListener=ze=>this.events.next(new Hs(ze))}complete(){this.transitions?.complete()}handleNavigationRequest(he){const Oe=++this.navigationId;this.transitions?.next({...this.transitions.value,...he,id:Oe})}setupNavigations(he,Oe,ze){return this.transitions=new g.t({id:0,currentUrlTree:Oe,currentRawUrl:Oe,extractedUrl:this.urlHandlingStrategy.extract(Oe),urlAfterRedirects:this.urlHandlingStrategy.extract(Oe),rawUrl:Oe,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ye,restoredState:null,currentSnapshot:ze.snapshot,targetSnapshot:null,currentRouterState:ze,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,F.p)(pt=>0!==pt.id),(0,v.T)(pt=>({...pt,extractedUrl:this.urlHandlingStrategy.extract(pt.rawUrl)})),(0,S.n)(pt=>{let Me=!1,ye=!1;return(0,f.of)(pt).pipe((0,S.n)(oe=>{if(this.navigationId>pt.id)return this.cancelNavigationTransition(pt,"",sn.SupersededByNewNavigation),I.w;this.currentTransition=pt,this.currentNavigation={id:oe.id,initialUrl:oe.rawUrl,extractedUrl:oe.extractedUrl,trigger:oe.source,extras:oe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Se=!he.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Se&&"reload"!==(oe.extras.onSameUrlNavigation??he.onSameUrlNavigation)){const Mt="";return this.events.next(new ds(oe.id,this.urlSerializer.serialize(oe.rawUrl),Mt,jn.IgnoredSameUrlNavigation)),oe.resolve(null),I.w}if(this.urlHandlingStrategy.shouldProcessUrl(oe.rawUrl))return(0,f.of)(oe).pipe((0,S.n)(Mt=>{const en=this.transitions?.getValue();return this.events.next(new mt(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),Mt.source,Mt.restoredState)),en!==this.transitions?.getValue()?I.w:Promise.resolve(Mt)}),function hl(ce,Te,he,Oe,ze,pt){return(0,$.Z)(Me=>function Al(ce,Te,he,Oe,ze,pt,Me="emptyOnly"){return new Ro(ce,Te,he,Oe,ze,Me,pt).recognize()}(ce,Te,he,Oe,Me.extractedUrl,ze,pt).pipe((0,v.T)(({state:ye,tree:oe})=>({...Me,targetSnapshot:ye,urlAfterRedirects:oe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,he.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,G.M)(Mt=>{pt.targetSnapshot=Mt.targetSnapshot,pt.urlAfterRedirects=Mt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Mt.urlAfterRedirects};const en=new Cs(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects),Mt.targetSnapshot);this.events.next(en)}));if(Se&&this.urlHandlingStrategy.shouldProcessUrl(oe.currentRawUrl)){const{id:Mt,extractedUrl:en,source:_n,restoredState:zn,extras:is}=oe,ui=new mt(Mt,this.urlSerializer.serialize(en),_n,zn);this.events.next(ui);const zi=cs(this.rootComponentType).snapshot;return this.currentTransition=pt={...oe,targetSnapshot:zi,urlAfterRedirects:en,extras:{...is,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=en,(0,f.of)(pt)}{const Mt="";return this.events.next(new ds(oe.id,this.urlSerializer.serialize(oe.extractedUrl),Mt,jn.IgnoredByUrlHandlingStrategy)),oe.resolve(null),I.w}}),(0,G.M)(oe=>{const Se=new yi(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects),oe.targetSnapshot);this.events.next(Se)}),(0,v.T)(oe=>(this.currentTransition=pt={...oe,guards:qr(oe.targetSnapshot,oe.currentSnapshot,this.rootContexts)},pt)),function bt(ce,Te){return(0,$.Z)(he=>{const{targetSnapshot:Oe,currentSnapshot:ze,guards:{canActivateChecks:pt,canDeactivateChecks:Me}}=he;return 0===Me.length&&0===pt.length?(0,f.of)({...he,guardsResult:!0}):function kt(ce,Te,he,Oe){return(0,e.H)(ce).pipe((0,$.Z)(ze=>function Ni(ce,Te,he,Oe,ze){const pt=Te&&Te.routeConfig?Te.routeConfig.canDeactivate:null;if(!pt||0===pt.length)return(0,f.of)(!0);const Me=pt.map(ye=>{const oe=Ai(Te)??ze,Se=$i(ye,oe);return qe(function Ge(ce){return ce&&Dr(ce.canDeactivate)}(Se)?Se.canDeactivate(ce,Te,he,Oe):(0,n.N4e)(oe,()=>Se(ce,Te,he,Oe))).pipe((0,j.$)())});return(0,f.of)(Me).pipe(me())}(ze.component,ze.route,he,Te,Oe)),(0,j.$)(ze=>!0!==ze,!0))}(Me,Oe,ze,ce).pipe((0,$.Z)(ye=>ye&&function Yo(ce){return"boolean"==typeof ce}(ye)?function pn(ce,Te,he,Oe){return(0,e.H)(Te).pipe((0,x.H)(ze=>(0,E.x)(function ss(ce,Te){return null!==ce&&Te&&Te(new Xi(ce)),(0,f.of)(!0)}(ze.route.parent,Oe),function Hn(ce,Te){return null!==ce&&Te&&Te(new Ji(ce)),(0,f.of)(!0)}(ze.route,Oe),function ji(ce,Te,he){const Oe=Te[Te.length-1],pt=Te.slice(0,Te.length-1).reverse().map(Me=>function ho(ce){const Te=ce.routeConfig?ce.routeConfig.canActivateChild:null;return Te&&0!==Te.length?{node:ce,guards:Te}:null}(Me)).filter(Me=>null!==Me).map(Me=>(0,_.v)(()=>{const ye=Me.guards.map(oe=>{const Se=Ai(Me.node)??he,rt=$i(oe,Se);return qe(function pa(ce){return ce&&Dr(ce.canActivateChild)}(rt)?rt.canActivateChild(Oe,ce):(0,n.N4e)(Se,()=>rt(Oe,ce))).pipe((0,j.$)())});return(0,f.of)(ye).pipe(me())}));return(0,f.of)(pt).pipe(me())}(ce,ze.path,he),function ys(ce,Te,he){const Oe=Te.routeConfig?Te.routeConfig.canActivate:null;if(!Oe||0===Oe.length)return(0,f.of)(!0);const ze=Oe.map(pt=>(0,_.v)(()=>{const Me=Ai(Te)??he,ye=$i(pt,Me);return qe(function kr(ce){return ce&&Dr(ce.canActivate)}(ye)?ye.canActivate(Te,ce):(0,n.N4e)(Me,()=>ye(Te,ce))).pipe((0,j.$)())}));return(0,f.of)(ze).pipe(me())}(ce,ze.route,he))),(0,j.$)(ze=>!0!==ze,!0))}(Oe,pt,ce,Te):(0,f.of)(ye)),(0,v.T)(ye=>({...he,guardsResult:ye})))})}(this.environmentInjector,oe=>this.events.next(oe)),(0,G.M)(oe=>{if(pt.guardsResult=oe.guardsResult,Pn(oe.guardsResult))throw Er(0,oe.guardsResult);const Se=new Yi(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects),oe.targetSnapshot,!!oe.guardsResult);this.events.next(Se)}),(0,F.p)(oe=>!!oe.guardsResult||(this.cancelNavigationTransition(oe,"",sn.GuardRejected),!1)),Sn(oe=>{if(oe.guards.canActivateChecks.length)return(0,f.of)(oe).pipe((0,G.M)(Se=>{const rt=new Mi(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects),Se.targetSnapshot);this.events.next(rt)}),(0,S.n)(Se=>{let rt=!1;return(0,f.of)(Se).pipe(function pl(ce,Te){return(0,$.Z)(he=>{const{targetSnapshot:Oe,guards:{canActivateChecks:ze}}=he;if(!ze.length)return(0,f.of)(he);const pt=new Set(ze.map(oe=>oe.route)),Me=new Set;for(const oe of pt)if(!Me.has(oe))for(const Se of Xo(oe))Me.add(Se);let ye=0;return(0,e.H)(Me).pipe((0,x.H)(oe=>pt.has(oe)?function Nt(ce,Te,he,Oe){const ze=ce.routeConfig,pt=ce._resolve;return void 0!==ze?.title&&!lo(ze)&&(pt[Z]=ze.title),function Jt(ce,Te,he,Oe){const ze=fe(ce);if(0===ze.length)return(0,f.of)({});const pt={};return(0,e.H)(ze).pipe((0,$.Z)(Me=>function ln(ce,Te,he,Oe){const ze=Ai(Te)??Oe,pt=$i(ce,ze);return qe(pt.resolve?pt.resolve(Te,he):(0,n.N4e)(ze,()=>pt(Te,he)))}(ce[Me],Te,he,Oe).pipe((0,j.$)(),(0,G.M)(ye=>{pt[Me]=ye}))),(0,ae.o)(1),(0,Q.u)(pt),(0,Y.W)(Me=>se(Me)?I.w:(0,O.$)(Me)))}(pt,ce,Te,Oe).pipe((0,v.T)(Me=>(ce._resolvedData=Me,ce.data=ir(ce,ce.parent,he).resolve,null)))}(oe,Oe,ce,Te):(oe.data=ir(oe,oe.parent,ce).resolve,(0,f.of)(void 0))),(0,G.M)(()=>ye++),(0,ae.o)(1),(0,$.Z)(oe=>ye===Me.size?(0,f.of)(he):I.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,G.M)({next:()=>rt=!0,complete:()=>{rt||this.cancelNavigationTransition(Se,"",sn.NoDataFromResolver)}}))}),(0,G.M)(Se=>{const rt=new Ss(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects),Se.targetSnapshot);this.events.next(rt)}))}),Sn(oe=>{const Se=rt=>{const Mt=[];rt.routeConfig?.loadComponent&&!rt.routeConfig._loadedComponent&&Mt.push(this.configLoader.loadComponent(rt.routeConfig).pipe((0,G.M)(en=>{rt.component=en}),(0,v.T)(()=>{})));for(const en of rt.children)Mt.push(...Se(en));return Mt};return(0,d.z)(Se(oe.targetSnapshot.root)).pipe((0,X.U)(null),(0,M.s)(1))}),Sn(()=>this.afterPreactivation()),(0,S.n)(()=>{const{currentSnapshot:oe,targetSnapshot:Se}=pt,rt=this.createViewTransition?.(this.environmentInjector,oe.root,Se.root);return rt?(0,e.H)(rt).pipe((0,v.T)(()=>pt)):(0,f.of)(pt)}),(0,v.T)(oe=>{const Se=function rr(ce,Te,he){const Oe=fr(ce,Te._root,he?he._root:void 0);return new kn(Oe,Te)}(he.routeReuseStrategy,oe.targetSnapshot,oe.currentRouterState);return this.currentTransition=pt={...oe,targetRouterState:Se},this.currentNavigation.targetRouterState=Se,pt}),(0,G.M)(()=>{this.events.next(new gs)}),((ce,Te,he,Oe)=>(0,v.T)(ze=>(new $s(Te,ze.targetRouterState,ze.currentRouterState,he,Oe).activate(ce),ze)))(this.rootContexts,he.routeReuseStrategy,oe=>this.events.next(oe),this.inputBindingEnabled),(0,M.s)(1),(0,G.M)({next:oe=>{Me=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xt(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects))),this.titleStrategy?.updateTitle(oe.targetRouterState.snapshot),oe.resolve(!0)},complete:()=>{Me=!0}}),(0,q.Q)(this.transitionAbortSubject.pipe((0,G.M)(oe=>{throw oe}))),(0,J.j)(()=>{!Me&&!ye&&this.cancelNavigationTransition(pt,"",sn.SupersededByNewNavigation),this.currentTransition?.id===pt.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,Y.W)(oe=>{if(ye=!0,Eo(oe))this.events.next(new An(pt.id,this.urlSerializer.serialize(pt.extractedUrl),oe.message,oe.cancellationCode)),function zo(ce){return Eo(ce)&&Pn(ce.url)}(oe)?this.events.next(new Zs(oe.url)):pt.resolve(!1);else{this.events.next(new Ks(pt.id,this.urlSerializer.serialize(pt.extractedUrl),oe,pt.targetSnapshot??void 0));try{pt.resolve(he.errorHandler(oe))}catch(Se){this.options.resolveNavigationPromiseOnError?pt.resolve(!1):pt.reject(Se)}}return I.w}))}))}cancelNavigationTransition(he,Oe,ze){const pt=new An(he.id,this.urlSerializer.serialize(he.extractedUrl),Oe,ze);this.events.next(pt),he.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=n.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();function Jo(ce){return ce!==Ye}let ma=(()=>{class ce{static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=n.jDH({token:ce,factory:()=>(0,n.WQX)(nt),providedIn:"root"})}return ce})();class _e{shouldDetach(Te){return!1}store(Te,he){}shouldAttach(Te){return!1}retrieve(Te){return null}shouldReuseRoute(Te,he){return Te.routeConfig===he.routeConfig}}let nt=(()=>{class ce extends _e{static#e=this.\u0275fac=(()=>{let he;return function(ze){return(he||(he=n.xGo(ce)))(ze||ce)}})();static#t=this.\u0275prov=n.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),Pe=(()=>{class ce{static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=n.jDH({token:ce,factory:()=>(0,n.WQX)(Je),providedIn:"root"})}return ce})(),Je=(()=>{class ce extends Pe{constructor(){super(...arguments),this.location=(0,n.WQX)(w.aZ),this.urlSerializer=(0,n.WQX)(Bt),this.options=(0,n.WQX)(ts,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,n.WQX)(Di),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new je,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=cs(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(he){return this.location.subscribe(Oe=>{"popstate"===Oe.type&&he(Oe.url,Oe.state)})}handleRouterEvent(he,Oe){if(he instanceof mt)this.stateMemento=this.createStateMemento();else if(he instanceof ds)this.rawUrlTree=Oe.initialUrl;else if(he instanceof Cs){if("eager"===this.urlUpdateStrategy&&!Oe.extras.skipLocationChange){const ze=this.urlHandlingStrategy.merge(Oe.finalUrl,Oe.initialUrl);this.setBrowserUrl(ze,Oe)}}else he instanceof gs?(this.currentUrlTree=Oe.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Oe.finalUrl,Oe.initialUrl),this.routerState=Oe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Oe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Oe))):he instanceof An&&(he.code===sn.GuardRejected||he.code===sn.NoDataFromResolver)?this.restoreHistory(Oe):he instanceof Ks?this.restoreHistory(Oe,!0):he instanceof xt&&(this.lastSuccessfulId=he.id,this.currentPageId=this.browserPageId)}setBrowserUrl(he,Oe){const ze=this.urlSerializer.serialize(he);if(this.location.isCurrentPathEqualTo(ze)||Oe.extras.replaceUrl){const Me={...Oe.extras.state,...this.generateNgRouterState(Oe.id,this.browserPageId)};this.location.replaceState(ze,"",Me)}else{const pt={...Oe.extras.state,...this.generateNgRouterState(Oe.id,this.browserPageId+1)};this.location.go(ze,"",pt)}}restoreHistory(he,Oe=!1){if("computed"===this.canceledNavigationResolution){const pt=this.currentPageId-this.browserPageId;0!==pt?this.location.historyGo(pt):this.currentUrlTree===he.finalUrl&&0===pt&&(this.resetState(he),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Oe&&this.resetState(he),this.resetUrlToCurrentUrlTree())}resetState(he){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,he.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(he,Oe){return"computed"===this.canceledNavigationResolution?{navigationId:he,\u0275routerPageId:Oe}:{navigationId:he}}static#e=this.\u0275fac=(()=>{let he;return function(ze){return(he||(he=n.xGo(ce)))(ze||ce)}})();static#t=this.\u0275prov=n.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();var St=function(ce){return ce[ce.COMPLETE=0]="COMPLETE",ce[ce.FAILED=1]="FAILED",ce[ce.REDIRECTING=2]="REDIRECTING",ce}(St||{});function dn(ce,Te){ce.events.pipe((0,F.p)(he=>he instanceof xt||he instanceof An||he instanceof Ks||he instanceof ds),(0,v.T)(he=>he instanceof xt||he instanceof ds?St.COMPLETE:he instanceof An&&(he.code===sn.Redirect||he.code===sn.SupersededByNewNavigation)?St.REDIRECTING:St.FAILED),(0,F.p)(he=>he!==St.REDIRECTING),(0,M.s)(1)).subscribe(()=>{Te()})}function En(ce){throw ce}const un={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qs=(()=>{class ce{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,n.WQX)(n.H3F),this.stateManager=(0,n.WQX)(Pe),this.options=(0,n.WQX)(ts,{optional:!0})||{},this.pendingTasks=(0,n.WQX)(n.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,n.WQX)(Mr),this.urlSerializer=(0,n.WQX)(Bt),this.location=(0,n.WQX)(w.aZ),this.urlHandlingStrategy=(0,n.WQX)(Di),this._events=new R.B,this.errorHandler=this.options.errorHandler||En,this.navigated=!1,this.routeReuseStrategy=(0,n.WQX)(ma),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,n.WQX)(Gn,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,n.WQX)(Ri,{optional:!0}),this.eventsSubscription=new u.yU,this.isNgZoneEnabled=(0,n.WQX)(n.SKi)instanceof n.SKi&&n.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:he=>{this.console.warn(he)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const he=this.navigationTransitions.events.subscribe(Oe=>{try{const ze=this.navigationTransitions.currentTransition,pt=this.navigationTransitions.currentNavigation;if(null!==ze&&null!==pt)if(this.stateManager.handleRouterEvent(Oe,pt),Oe instanceof An&&Oe.code!==sn.Redirect&&Oe.code!==sn.SupersededByNewNavigation)this.navigated=!0;else if(Oe instanceof xt)this.navigated=!0;else if(Oe instanceof Zs){const Me=this.urlHandlingStrategy.merge(Oe.url,ze.currentRawUrl),ye={info:ze.extras.info,skipLocationChange:ze.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Jo(ze.source)};this.scheduleNavigation(Me,Ye,null,ye,{resolve:ze.resolve,reject:ze.reject,promise:ze.promise})}(function qs(ce){return!(ce instanceof gs||ce instanceof Zs)})(Oe)&&this._events.next(Oe)}catch(ze){this.navigationTransitions.transitionAbortSubject.next(ze)}});this.eventsSubscription.add(he)}resetRootComponentType(he){this.routerState.root.component=he,this.navigationTransitions.rootComponentType=he}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ye,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((he,Oe)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(he,"popstate",Oe)},0)})}navigateToSyncWithBrowser(he,Oe,ze){const pt={replaceUrl:!0},Me=ze?.navigationId?ze:null;if(ze){const oe={...ze};delete oe.navigationId,delete oe.\u0275routerPageId,0!==Object.keys(oe).length&&(pt.state=oe)}const ye=this.parseUrl(he);this.scheduleNavigation(ye,Oe,Me,pt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(he){this.config=he.map(us),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(he,Oe={}){const{relativeTo:ze,queryParams:pt,fragment:Me,queryParamsHandling:ye,preserveFragment:oe}=Oe,Se=oe?this.currentUrlTree.fragment:Me;let Mt,rt=null;switch(ye){case"merge":rt={...this.currentUrlTree.queryParams,...pt};break;case"preserve":rt=this.currentUrlTree.queryParams;break;default:rt=pt||null}null!==rt&&(rt=this.removeEmptyProps(rt));try{Mt=ks(ze?ze.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof he[0]||!he[0].startsWith("/"))&&(he=[]),Mt=this.currentUrlTree.root}return Fs(Mt,he,rt,Se??null)}navigateByUrl(he,Oe={skipLocationChange:!1}){const ze=Pn(he)?he:this.parseUrl(he),pt=this.urlHandlingStrategy.merge(ze,this.rawUrlTree);return this.scheduleNavigation(pt,Ye,null,Oe)}navigate(he,Oe={skipLocationChange:!1}){return function Ii(ce){for(let Te=0;Te<ce.length;Te++)if(null==ce[Te])throw new n.wOt(4008,!1)}(he),this.navigateByUrl(this.createUrlTree(he,Oe),Oe)}serializeUrl(he){return this.urlSerializer.serialize(he)}parseUrl(he){try{return this.urlSerializer.parse(he)}catch{return this.urlSerializer.parse("/")}}isActive(he,Oe){let ze;if(ze=!0===Oe?{...un}:!1===Oe?{...Bs}:Oe,Pn(he))return Ve(this.currentUrlTree,he,ze);const pt=this.parseUrl(he);return Ve(this.currentUrlTree,pt,ze)}removeEmptyProps(he){return Object.entries(he).reduce((Oe,[ze,pt])=>(null!=pt&&(Oe[ze]=pt),Oe),{})}scheduleNavigation(he,Oe,ze,pt,Me){if(this.disposed)return Promise.resolve(!1);let ye,oe,Se;Me?(ye=Me.resolve,oe=Me.reject,Se=Me.promise):Se=new Promise((Mt,en)=>{ye=Mt,oe=en});const rt=this.pendingTasks.add();return dn(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(rt))}),this.navigationTransitions.handleNavigationRequest({source:Oe,restoredState:ze,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:he,extras:pt,resolve:ye,reject:oe,promise:Se,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Se.catch(Mt=>Promise.reject(Mt))}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=n.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),Ui=(()=>{class ce{constructor(he,Oe,ze,pt,Me,ye){this.router=he,this.route=Oe,this.tabIndexAttribute=ze,this.renderer=pt,this.el=Me,this.locationStrategy=ye,this.href=null,this.commands=null,this.onChanges=new R.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const oe=Me.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===oe||"area"===oe,this.isAnchorElement?this.subscription=he.events.subscribe(Se=>{Se instanceof xt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(he){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",he)}ngOnChanges(he){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(he){null!=he?(this.commands=Array.isArray(he)?he:[he],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(he,Oe,ze,pt,Me){const ye=this.urlTree;return!!(null===ye||this.isAnchorElement&&(0!==he||Oe||ze||pt||Me||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(ye,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const he=this.urlTree;this.href=null!==he&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(he)):null;const Oe=null===this.href?null:(0,n.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Oe)}applyAttributeValue(he,Oe){const ze=this.renderer,pt=this.el.nativeElement;null!==Oe?ze.setAttribute(pt,he,Oe):ze.removeAttribute(pt,he)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)(n.rXU(Qs),n.rXU(Ei),n.kS0("tabindex"),n.rXU(n.sFG),n.rXU(n.aKT),n.rXU(w.hb))};static#t=this.\u0275dir=n.FsC({type:ce,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Oe,ze){1&Oe&&n.bIt("click",function(Me){return ze.onClick(Me.button,Me.ctrlKey,Me.shiftKey,Me.altKey,Me.metaKey)}),2&Oe&&n.BMQ("target",ze.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[n.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",n.L39],skipLocationChange:[n.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",n.L39],replaceUrl:[n.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",n.L39],routerLink:"routerLink"},standalone:!0,features:[n.GFd,n.OA$]})}return ce})(),Si=(()=>{class ce{get isActive(){return this._isActive}constructor(he,Oe,ze,pt,Me){this.router=he,this.element=Oe,this.renderer=ze,this.cdr=pt,this.link=Me,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new n.bkB,this.routerEventsSubscription=he.events.subscribe(ye=>{ye instanceof xt&&this.update()})}ngAfterContentInit(){(0,f.of)(this.links.changes,(0,f.of)(null)).pipe((0,ee.U)()).subscribe(he=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const he=[...this.links.toArray(),this.link].filter(Oe=>!!Oe).map(Oe=>Oe.onChanges);this.linkInputChangesSubscription=(0,e.H)(he).pipe((0,ee.U)()).subscribe(Oe=>{this._isActive!==this.isLinkActive(this.router)(Oe)&&this.update()})}set routerLinkActive(he){const Oe=Array.isArray(he)?he:he.split(" ");this.classes=Oe.filter(ze=>!!ze)}ngOnChanges(he){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const he=this.hasActiveLinks();this.classes.forEach(Oe=>{he?this.renderer.addClass(this.element.nativeElement,Oe):this.renderer.removeClass(this.element.nativeElement,Oe)}),he&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==he&&(this._isActive=he,this.cdr.markForCheck(),this.isActiveChange.emit(he))})}isLinkActive(he){const Oe=function dr(ce){return!!ce.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return ze=>{const pt=ze.urlTree;return!!pt&&he.isActive(pt,Oe)}}hasActiveLinks(){const he=this.isLinkActive(this.router);return this.link&&he(this.link)||this.links.some(he)}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)(n.rXU(Qs),n.rXU(n.aKT),n.rXU(n.sFG),n.rXU(n.gRc),n.rXU(Ui,8))};static#t=this.\u0275dir=n.FsC({type:ce,selectors:[["","routerLinkActive",""]],contentQueries:function(Oe,ze,pt){if(1&Oe&&n.wni(pt,Ui,5),2&Oe){let Me;n.mGM(Me=n.lsd())&&(ze.links=Me)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[n.OA$]})}return ce})();class Gr{}let $n=(()=>{class ce{preload(he,Oe){return(0,f.of)(null)}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=n.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),ms=(()=>{class ce{constructor(he,Oe,ze,pt,Me){this.router=he,this.injector=ze,this.preloadingStrategy=pt,this.loader=Me}setUpPreloading(){this.subscription=this.router.events.pipe((0,F.p)(he=>he instanceof xt),(0,x.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(he,Oe){const ze=[];for(const pt of Oe){pt.providers&&!pt._injector&&(pt._injector=(0,n.Ol2)(pt.providers,he,`Route: ${pt.path}`));const Me=pt._injector??he,ye=pt._loadedInjector??Me;(pt.loadChildren&&!pt._loadedRoutes&&void 0===pt.canLoad||pt.loadComponent&&!pt._loadedComponent)&&ze.push(this.preloadConfig(Me,pt)),(pt.children||pt._loadedRoutes)&&ze.push(this.processRoutes(ye,pt.children??pt._loadedRoutes))}return(0,e.H)(ze).pipe((0,ee.U)())}preloadConfig(he,Oe){return this.preloadingStrategy.preload(Oe,()=>{let ze;ze=Oe.loadChildren&&void 0===Oe.canLoad?this.loader.loadChildren(he,Oe):(0,f.of)(null);const pt=ze.pipe((0,$.Z)(Me=>null===Me?(0,f.of)(void 0):(Oe._loadedRoutes=Me.routes,Oe._loadedInjector=Me.injector,this.processRoutes(Me.injector??he,Me.routes))));if(Oe.loadComponent&&!Oe._loadedComponent){const Me=this.loader.loadComponent(Oe);return(0,e.H)([pt,Me]).pipe((0,ee.U)())}return pt})}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)(n.KVO(Qs),n.KVO(n.Ql9),n.KVO(n.uvJ),n.KVO(Gr),n.KVO(ci))};static#t=this.\u0275prov=n.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();const Ti=new n.nKC("");let _r=(()=>{class ce{constructor(he,Oe,ze,pt,Me={}){this.urlSerializer=he,this.transitions=Oe,this.viewportScroller=ze,this.zone=pt,this.options=Me,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,n.WQX)(n.uvJ),Me.scrollPositionRestoration||="disabled",Me.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(he=>{he instanceof mt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=he.navigationTrigger,this.restoredId=he.restoredState?he.restoredState.navigationId:0):he instanceof xt?(this.lastId=he.id,this.scheduleScrollEvent(he,this.urlSerializer.parse(he.urlAfterRedirects).fragment)):he instanceof ds&&he.code===jn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(he,this.urlSerializer.parse(he.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(he=>{he instanceof cr&&(he.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(he.position):he.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(he.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(he,Oe){var ze=this;this.zone.runOutsideAngular((0,i.A)(function*(){yield new Promise(pt=>{setTimeout(()=>{pt()}),(0,n.mal)(()=>{pt()},{injector:ze.environmentInjector})}),ze.zone.run(()=>{ze.transitions.events.next(new cr(he,"popstate"===ze.lastSource?ze.store[ze.restoredId]:null,Oe))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Oe){n.QTQ()};static#t=this.\u0275prov=n.jDH({token:ce,factory:ce.\u0275fac})}return ce})();function ur(ce,...Te){return(0,n.EmA)([{provide:Gn,multi:!0,useValue:ce},[],{provide:Ei,useFactory:xr,deps:[Qs]},{provide:n.iLQ,multi:!0,useFactory:Qo},Te.map(he=>he.\u0275providers)])}function xr(ce){return ce.routerState.root}function Ir(ce,Te){return{\u0275kind:ce,\u0275providers:Te}}function Us(ce={}){return Ir(4,[{provide:Ti,useFactory:()=>{const he=(0,n.WQX)(w.Xr),Oe=(0,n.WQX)(n.SKi),ze=(0,n.WQX)(Mr),pt=(0,n.WQX)(Bt);return new _r(pt,ze,he,Oe,ce)}}])}function Qo(){const ce=(0,n.WQX)(n.zZn);return Te=>{const he=ce.get(n.o8S);if(Te!==he.components[0])return;const Oe=ce.get(Qs),ze=ce.get(_a);1===ce.get(Do)&&Oe.initialNavigation(),ce.get(hr,null,n.$GK.Optional)?.setUpPreloading(),ce.get(Ti,null,n.$GK.Optional)?.init(),Oe.resetRootComponentType(he.componentTypes[0]),ze.closed||(ze.next(),ze.complete(),ze.unsubscribe())}}const _a=new n.nKC("",{factory:()=>new R.B}),Do=new n.nKC("",{providedIn:"root",factory:()=>1});function ar(){return Ir(2,[{provide:Do,useValue:0},{provide:n.hnV,multi:!0,deps:[n.zZn],useFactory:Te=>{const he=Te.get(w.hj,Promise.resolve());return()=>he.then(()=>new Promise(Oe=>{const ze=Te.get(Qs),pt=Te.get(_a);dn(ze,()=>{Oe(!0)}),Te.get(Mr).afterPreactivation=()=>(Oe(!0),pt.closed?(0,f.of)(void 0):pt),ze.initialNavigation()}))}}])}const hr=new n.nKC("");function Sr(ce){return Ir(0,[{provide:hr,useExisting:ms},{provide:Gr,useExisting:ce}])}function ad(ce){return Ir(5,[{provide:ts,useValue:ce}])}function Fn(ce){return Ir(9,[{provide:Ki,useValue:Or},{provide:Kn,useValue:{skipNextTransition:!!ce?.skipInitialTransition,...ce}}])}const ml=new n.nKC("ROUTER_FORROOT_GUARD"),Zo=[w.aZ,{provide:Bt,useClass:wt},Qs,Bi,{provide:Ei,useFactory:xr,deps:[Qs]},ci,[]];let qi=(()=>{class ce{constructor(he){}static forRoot(he,Oe){return{ngModule:ce,providers:[Zo,[],{provide:Gn,multi:!0,useValue:he},{provide:ml,useFactory:Pr,deps:[[Qs,new n.Xx1,new n.kdw]]},{provide:ts,useValue:Oe||{}},Oe?.useHash?{provide:w.hb,useClass:w.fw}:{provide:w.hb,useClass:w.Sm},{provide:Ti,useFactory:()=>{const ce=(0,n.WQX)(w.Xr),Te=(0,n.WQX)(n.SKi),he=(0,n.WQX)(ts),Oe=(0,n.WQX)(Mr),ze=(0,n.WQX)(Bt);return he.scrollOffset&&ce.setOffset(he.scrollOffset),new _r(ze,Oe,ce,Te,he)}},Oe?.preloadingStrategy?Sr(Oe.preloadingStrategy).\u0275providers:[],Oe?.initialNavigation?Rr(Oe):[],Oe?.bindToComponentInputs?Ir(8,[No,{provide:Ri,useExisting:No}]).\u0275providers:[],Oe?.enableViewTransitions?Fn().\u0275providers:[],[{provide:ya,useFactory:Qo},{provide:n.iLQ,multi:!0,useExisting:ya}]]}}static forChild(he){return{ngModule:ce,providers:[{provide:Gn,multi:!0,useValue:he}]}}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)(n.KVO(ml,8))};static#t=this.\u0275mod=n.$C({type:ce});static#n=this.\u0275inj=n.G2t({})}return ce})();function Pr(ce){return"guarded"}function Rr(ce){return["disabled"===ce.initialNavigation?Ir(3,[{provide:n.hnV,multi:!0,useFactory:()=>{const Te=(0,n.WQX)(Qs);return()=>{Te.setUpLocationChangeListener()}}},{provide:Do,useValue:2}]).\u0275providers:[],"enabledBlocking"===ce.initialNavigation?ar().\u0275providers:[]]}const ya=new n.nKC("")},12189:(B,D,t)=>{"use strict";t.d(D,{Fv:()=>it,O7:()=>fe,cz:()=>Yt});var i=t(53107),n=t(86388),c=t(54460),e=t(71204);const f=je=>({"ngx-gallery-active":je});function g(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"div",1),i.bIt("click",function(ke){const dt=i.eBV(ne).index,Bt=i.XpG();return i.Njj(Bt.handleChange(ke,dt))}),i.k0s()}if(2&je){const ne=Re.index,Ee=i.XpG();i.Y8G("ngClass",i.eq3(1,f,ne===Ee.active))}}const d=["previewImage"];function y(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-arrows",17),i.bIt("prevClick",function(){i.eBV(ne);const ke=i.XpG();return i.Njj(ke.showPrev())})("nextClick",function(){i.eBV(ne);const ke=i.XpG();return i.Njj(ke.showNext())}),i.k0s()}if(2&je){const ne=i.XpG();i.Y8G("prevDisabled",!ne.canShowPrev())("nextDisabled",!ne.canShowNext())("arrowPrevIcon",ne.arrowPrevIcon)("arrowNextIcon",ne.arrowNextIcon)}}function E(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-action",18),i.bIt("closeClick",function(ke){const dt=i.eBV(ne).$implicit,Bt=i.XpG();return i.Njj(dt.onClick(ke,Bt.index))}),i.k0s()}if(2&je){const ne=Re.$implicit;i.Y8G("icon",ne.icon)("disabled",ne.disabled)("titleText",ne.titleText)}}function _(je,Re){if(1&je&&(i.j41(0,"a",19),i.nrm(1,"i"),i.k0s()),2&je){const ne=i.XpG();i.Y8G("href",ne.src,i.B4B),i.R7$(),i.ZvI("ngx-gallery-icon-content ",ne.downloadIcon,"")}}function b(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-action",20),i.bIt("closeClick",function(){i.eBV(ne);const ke=i.XpG();return i.Njj(ke.zoomOut())}),i.k0s()}if(2&je){const ne=i.XpG();i.Y8G("icon",ne.zoomOutIcon)("disabled",!ne.canZoomOut())}}function O(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-action",20),i.bIt("closeClick",function(){i.eBV(ne);const ke=i.XpG();return i.Njj(ke.zoomIn())}),i.k0s()}if(2&je){const ne=i.XpG();i.Y8G("icon",ne.zoomInIcon)("disabled",!ne.canZoomIn())}}function I(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(ne);const ke=i.XpG();return i.Njj(ke.rotateLeft())}),i.k0s()}if(2&je){const ne=i.XpG();i.Y8G("icon",ne.rotateLeftIcon)}}function T(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(ne);const ke=i.XpG();return i.Njj(ke.rotateRight())}),i.k0s()}if(2&je){const ne=i.XpG();i.Y8G("icon",ne.rotateRightIcon)}}function R(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(ne);const ke=i.XpG();return i.Njj(ke.manageFullscreen())}),i.k0s()}if(2&je){const ne=i.XpG();i.Y8G("icon","ngx-gallery-fullscreen "+ne.fullscreenIcon)}}function u(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"img",21,0),i.bIt("click",function(ke){return i.eBV(ne),i.Njj(ke.stopPropagation())})("mouseenter",function(){i.eBV(ne);const ke=i.XpG();return i.Njj(ke.imageMouseEnter())})("mouseleave",function(){i.eBV(ne);const ke=i.XpG();return i.Njj(ke.imageMouseLeave())})("mousedown",function(ke){i.eBV(ne);const dt=i.XpG();return i.Njj(dt.mouseDownHandler(ke))})("touchstart",function(ke){i.eBV(ne);const dt=i.XpG();return i.Njj(dt.mouseDownHandler(ke))}),i.k0s()}if(2&je){const ne=i.XpG();i.xc7("transform",ne.getTransform())("left",ne.positionLeft+"px")("top",ne.positionTop+"px"),i.AVh("ngx-gallery-active",!ne.loading)("animation",ne.animation)("ngx-gallery-grab",ne.canDragOnZoom()),i.Y8G("src",ne.src,i.B4B)}}function w(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"video",22,0),i.bIt("click",function(ke){return i.eBV(ne),i.Njj(ke.stopPropagation())})("mouseenter",function(){i.eBV(ne);const ke=i.XpG();return i.Njj(ke.imageMouseEnter())})("mouseleave",function(){i.eBV(ne);const ke=i.XpG();return i.Njj(ke.imageMouseLeave())})("mousedown",function(ke){i.eBV(ne);const dt=i.XpG();return i.Njj(dt.mouseDownHandler(ke))})("touchstart",function(ke){i.eBV(ne);const dt=i.XpG();return i.Njj(dt.mouseDownHandler(ke))}),i.nrm(2,"source",23),i.EFF(3," Your browser does not support the video tag. "),i.k0s()}if(2&je){const ne=i.XpG();i.xc7("transform",ne.getTransform())("left",ne.positionLeft+"px")("top",ne.positionTop+"px"),i.AVh("ngx-gallery-active",!ne.loading)("animation",ne.animation)("ngx-gallery-grab",ne.canDragOnZoom()),i.R7$(2),i.Y8G("src",ne.src,i.B4B)}}function v(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-bullets",24),i.bIt("bulletChange",function(ke){i.eBV(ne);const dt=i.XpG();return i.Njj(dt.showAtIndex(ke))}),i.k0s()}if(2&je){const ne=i.XpG();i.Y8G("count",ne.images.length)("active",ne.index)}}function S(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"div",25),i.bIt("click",function(ke){return i.eBV(ne),i.Njj(ke.stopPropagation())}),i.k0s()}if(2&je){const ne=i.XpG();i.Y8G("innerHTML",ne.description,i.npT)}}const M=je=>({"ngx-gallery-clickable":je});function L(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(ke){const dt=i.eBV(ne).$implicit,Bt=i.XpG(2).$implicit;return i.Njj(dt.onClick(ke,Bt.index))}),i.k0s()}if(2&je){const ne=Re.$implicit;i.Y8G("icon",ne.icon)("disabled",ne.disabled)("titleText",ne.titleText)}}function F(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"div",9),i.bIt("click",function(ke){return i.eBV(ne),i.Njj(ke.stopPropagation())}),i.k0s()}if(2&je){const ne=i.XpG(2).$implicit,Ee=i.XpG();i.Y8G("innerHTML",Ee.descriptions[ne.index],i.npT)}}function $(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"div",4),i.bIt("click",function(ke){i.eBV(ne);const dt=i.XpG().$implicit,Bt=i.XpG();return i.Njj(Bt.handleClick(ke,dt.index))})("@animation.start",function(ke){i.eBV(ne);const dt=i.XpG(2);return i.Njj(dt.onStart(ke))})("@animation.done",function(ke){i.eBV(ne);const dt=i.XpG(2);return i.Njj(dt.onDone(ke))}),i.j41(1,"div",5),i.DNE(2,L,1,3,"ngx-gallery-action",6),i.k0s(),i.DNE(3,F,1,1,"div",7),i.k0s()}if(2&je){const ne=i.XpG().$implicit,Ee=i.XpG();i.xc7("background-image",Ee.getSafeUrl(ne.src)),i.Y8G("ngClass",i.eq3(6,M,Ee.clickable))("@animation",Ee.action),i.R7$(2),i.Y8G("ngForOf",Ee.actions),i.R7$(),i.Y8G("ngIf",Ee.showDescription&&Ee.descriptions[ne.index])}}function j(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(ke){const dt=i.eBV(ne).$implicit,Bt=i.XpG(2).$implicit;return i.Njj(dt.onClick(ke,Bt.index))}),i.k0s()}if(2&je){const ne=Re.$implicit;i.Y8G("icon",ne.icon)("disabled",ne.disabled)("titleText",ne.titleText)}}function x(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"div",9),i.bIt("click",function(ke){return i.eBV(ne),i.Njj(ke.stopPropagation())}),i.k0s()}if(2&je){const ne=i.XpG(2).$implicit,Ee=i.XpG();i.Y8G("innerHTML",Ee.descriptions[ne.index],i.npT)}}function G(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"div",4),i.bIt("click",function(ke){i.eBV(ne);const dt=i.XpG().$implicit,Bt=i.XpG();return i.Njj(Bt.handleClick(ke,dt.index))})("@animation.start",function(ke){i.eBV(ne);const dt=i.XpG(2);return i.Njj(dt.onStart(ke))})("@animation.done",function(ke){i.eBV(ne);const dt=i.XpG(2);return i.Njj(dt.onDone(ke))}),i.j41(1,"video",10),i.nrm(2,"source",11),i.EFF(3," Your browser does not support the video tag. "),i.k0s(),i.j41(4,"div",5),i.DNE(5,j,1,3,"ngx-gallery-action",6),i.k0s(),i.DNE(6,x,1,1,"div",7),i.k0s()}if(2&je){const ne=i.XpG().$implicit,Ee=i.XpG();i.xc7("background-image",Ee.getSafeUrl(ne.src)),i.Y8G("ngClass",i.eq3(7,M,Ee.clickable))("@animation",Ee.action),i.R7$(2),i.Y8G("src",ne.src,i.B4B),i.R7$(3),i.Y8G("ngForOf",Ee.actions),i.R7$(),i.Y8G("ngIf",Ee.showDescription&&Ee.descriptions[ne.index])}}function Y(je,Re){if(1&je&&(i.qex(0),i.DNE(1,$,4,8,"div",3)(2,G,7,9,"div",3),i.bVm()),2&je){const ne=Re.$implicit,Ee=i.XpG();i.R7$(),i.Y8G("ngIf","image"===ne.type&&ne.index===Ee._selectedIndex),i.R7$(),i.Y8G("ngIf","video"===ne.type&&ne.index===Ee._selectedIndex)}}function V(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-bullets",12),i.bIt("bulletChange",function(ke){i.eBV(ne);const dt=i.XpG();return i.Njj(dt.show(ke))}),i.k0s()}if(2&je){const ne=i.XpG();i.Y8G("count",ne.images.length)("active",ne._selectedIndex)}}function X(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-arrows",13),i.bIt("prevClick",function(){i.eBV(ne);const ke=i.XpG();return i.Njj(ke.showPrev())})("nextClick",function(){i.eBV(ne);const ke=i.XpG();return i.Njj(ke.showNext())}),i.k0s()}if(2&je){const ne=i.XpG();i.ZvI("ngx-gallery-image-size-",ne.size,""),i.Y8G("prevDisabled",!ne.canShowPrev())("nextDisabled",!ne.canShowNext())("arrowPrevIcon",ne.arrowPrevIcon)("arrowNextIcon",ne.arrowNextIcon)}}const K=(je,Re)=>({"ngx-gallery-active":je,"ngx-gallery-clickable":Re});function ae(je,Re){if(1&je&&i.nrm(0,"div",9),2&je){const ne=i.XpG(),Ee=ne.$implicit,ke=ne.index,dt=i.XpG();i.xc7("background-image",dt.getSafeUrl(Ee)),i.Y8G("ngClass",i.l_i(3,K,ke===dt.selectedIndex,dt.clickable))}}function Q(je,Re){if(1&je&&(i.j41(0,"div",10)(1,"video",11),i.nrm(2,"source",12),i.EFF(3," Your browser does not support the video tag. "),i.k0s()()),2&je){const ne=i.XpG(),Ee=ne.$implicit,ke=ne.index,dt=i.XpG();i.R7$(),i.Y8G("ngClass",i.l_i(2,K,ke===dt.selectedIndex,dt.clickable)),i.R7$(),i.Y8G("src",Ee,i.B4B)}}function J(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-action",13),i.bIt("closeClick",function(ke){const dt=i.eBV(ne).$implicit,Bt=i.XpG().index;return i.Njj(dt.onClick(ke,Bt))}),i.k0s()}if(2&je){const ne=Re.$implicit;i.Y8G("icon",ne.icon)("disabled",ne.disabled)("titleText",ne.titleText)}}function z(je,Re){if(1&je&&(i.j41(0,"div",14)(1,"span",15),i.EFF(2),i.k0s()()),2&je){const ne=i.XpG(2);i.R7$(2),i.SpI("+",ne.remainingCountValue,"")}}function q(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"a",3),i.bIt("click",function(ke){const dt=i.eBV(ne).index,Bt=i.XpG();return i.Njj(Bt.handleClick(ke,dt))}),i.DNE(1,ae,1,6,"div",4)(2,Q,4,5,"div",5),i.j41(3,"div",6),i.DNE(4,J,1,3,"ngx-gallery-action",7),i.k0s(),i.DNE(5,z,3,1,"div",8),i.k0s()}if(2&je){const ne=Re.$implicit,Ee=Re.index,ke=i.XpG();i.xc7("width",ke.getThumbnailWidth())("height",ke.getThumbnailHeight())("left",ke.getThumbnailLeft(Ee))("top",ke.getThumbnailTop(Ee)),i.Y8G("href",ke.hasLink(Ee)?ke.links[Ee]:"#",i.B4B)("target",ke.linkTarget)("ngClass",i.l_i(16,K,Ee===ke.selectedIndex,ke.clickable)),i.BMQ("aria-label",ke.labels[Ee]),i.R7$(),i.Y8G("ngIf","image"===ke.getFileType(ne)),i.R7$(),i.Y8G("ngIf","video"===ke.getFileType(ne)),i.R7$(2),i.Y8G("ngForOf",ke.actions),i.R7$(),i.Y8G("ngIf",ke.remainingCount&&ke.remainingCountValue&&Ee===ke.rows*ke.columns-1)}}function ee(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-arrows",16),i.bIt("prevClick",function(){i.eBV(ne);const ke=i.XpG();return i.Njj(ke.moveLeft())})("nextClick",function(){i.eBV(ne);const ke=i.XpG();return i.Njj(ke.moveRight())}),i.k0s()}if(2&je){const ne=i.XpG();i.Y8G("prevDisabled",!ne.canMoveLeft())("nextDisabled",!ne.canMoveRight())("arrowPrevIcon",ne.arrowPrevIcon)("arrowNextIcon",ne.arrowNextIcon)}}const de=()=>[];function Ce(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-image",3),i.bIt("imageClick",function(ke){i.eBV(ne);const dt=i.XpG();return i.Njj(dt.openPreview(ke))})("activeChange",function(ke){i.eBV(ne);const dt=i.XpG();return i.Njj(dt.selectFromImage(ke))})("animating",function(ke){i.eBV(ne);const dt=i.XpG();return i.Njj(dt.setAnimating(ke))}),i.k0s()}if(2&je){const ne=i.XpG();i.xc7("height",ne.getImageHeight()),i.Y8G("images",ne.mediumImages)("clickable",null==ne.currentOptions?null:ne.currentOptions.preview)("selectedIndex",ne.selectedIndex)("arrows",null==ne.currentOptions?null:ne.currentOptions.imageArrows)("arrowsAutoHide",null==ne.currentOptions?null:ne.currentOptions.imageArrowsAutoHide)("arrowPrevIcon",null==ne.currentOptions?null:ne.currentOptions.arrowPrevIcon)("arrowNextIcon",null==ne.currentOptions?null:ne.currentOptions.arrowNextIcon)("swipe",null==ne.currentOptions?null:ne.currentOptions.imageSwipe)("animation",null==ne.currentOptions?null:ne.currentOptions.imageAnimation)("size",null==ne.currentOptions?null:ne.currentOptions.imageSize)("autoPlay",null==ne.currentOptions?null:ne.currentOptions.imageAutoPlay)("autoPlayInterval",null==ne.currentOptions?null:ne.currentOptions.imageAutoPlayInterval)("autoPlayPauseOnHover",null==ne.currentOptions?null:ne.currentOptions.imageAutoPlayPauseOnHover)("infinityMove",null==ne.currentOptions?null:ne.currentOptions.imageInfinityMove)("lazyLoading",null==ne.currentOptions?null:ne.currentOptions.lazyLoading)("actions",null==ne.currentOptions?null:ne.currentOptions.imageActions)("descriptions",ne.descriptions)("showDescription",null==ne.currentOptions?null:ne.currentOptions.imageDescription)("bullets",null==ne.currentOptions?null:ne.currentOptions.imageBullets)}}function Z(je,Re){if(1&je){const ne=i.RV6();i.j41(0,"ngx-gallery-thumbnails",4),i.bIt("activeChange",function(ke){i.eBV(ne);const dt=i.XpG();return i.Njj(dt.selectFromThumbnails(ke))}),i.k0s()}if(2&je){const ne=i.XpG();i.xc7("margin-top",ne.getThumbnailsMarginTop())("margin-bottom",ne.getThumbnailsMarginBottom())("height",ne.getThumbnailsHeight()),i.Y8G("images",ne.smallImages)("isAnimating",ne.isAnimating)("links",null!=ne.currentOptions&&ne.currentOptions.thumbnailsAsLinks?ne.links:i.lJ4(28,de))("labels",ne.labels)("linkTarget",null==ne.currentOptions?null:ne.currentOptions.linkTarget)("selectedIndex",ne.selectedIndex)("columns",null==ne.currentOptions?null:ne.currentOptions.thumbnailsColumns)("rows",null==ne.currentOptions?null:ne.currentOptions.thumbnailsRows)("margin",null==ne.currentOptions?null:ne.currentOptions.thumbnailMargin)("arrows",null==ne.currentOptions?null:ne.currentOptions.thumbnailsArrows)("arrowsAutoHide",null==ne.currentOptions?null:ne.currentOptions.thumbnailsArrowsAutoHide)("arrowPrevIcon",null==ne.currentOptions?null:ne.currentOptions.arrowPrevIcon)("arrowNextIcon",null==ne.currentOptions?null:ne.currentOptions.arrowNextIcon)("clickable",(null==ne.currentOptions?null:ne.currentOptions.image)||(null==ne.currentOptions?null:ne.currentOptions.preview))("swipe",null==ne.currentOptions?null:ne.currentOptions.thumbnailsSwipe)("size",null==ne.currentOptions?null:ne.currentOptions.thumbnailSize)("moveSize",null==ne.currentOptions?null:ne.currentOptions.thumbnailsMoveSize)("order",null==ne.currentOptions?null:ne.currentOptions.thumbnailsOrder)("remainingCount",null==ne.currentOptions?null:ne.currentOptions.thumbnailsRemainingCount)("lazyLoading",null==ne.currentOptions?null:ne.currentOptions.lazyLoading)("actions",null==ne.currentOptions?null:ne.currentOptions.thumbnailActions)("ngClass",null==ne.currentOptions?null:ne.currentOptions.thumbnailClasses)}}let le=(()=>{class je{constructor(ne){this.renderer=ne,this.swipeHandlers=new Map}manageSwipe(ne,Ee,ke,dt,Bt){const wt=this.getSwipeHandlers(ke);try{ne&&!wt?this.swipeHandlers.set(ke,[this.renderer.listen(Ee.nativeElement,"swipeleft",()=>dt()),this.renderer.listen(Ee.nativeElement,"swiperight",()=>Bt())]):!ne&&wt&&(wt.map(tn=>tn()),this.removeSwipeHandlers(ke))}catch{}}validateUrl(ne){return ne.replace?ne.replace(new RegExp(" ","g"),"%20").replace(new RegExp("'","g"),"%27"):ne}getBackgroundUrl(ne){return"url('"+this.validateUrl(ne)+"')"}getFileType(ne){const Ee=ne.split(".").pop().toLowerCase();return"avi"===Ee||"flv"===Ee||"wmv"===Ee||"mov"===Ee||"mp4"===Ee?"video":"image"}getSwipeHandlers(ne){return this.swipeHandlers.get(ne)}removeSwipeHandlers(ne){this.swipeHandlers.delete(ne)}}return je.\u0275fac=function(ne){return new(ne||je)(i.KVO(i.sFG))},je.\u0275prov=i.jDH({token:je,factory:je.\u0275fac,providedIn:"root"}),je})(),De=(()=>{class je{constructor(){this.prevClick=new i.bkB,this.nextClick=new i.bkB}handlePrevClick(){this.prevClick.emit()}handleNextClick(){this.nextClick.emit()}}return je.\u0275fac=function(ne){return new(ne||je)},je.\u0275cmp=i.VBU({type:je,selectors:[["ngx-gallery-arrows"]],inputs:{prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon"},outputs:{prevClick:"prevClick",nextClick:"nextClick"},decls:6,vars:10,consts:[[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-left"],["aria-hidden","true",1,"ngx-gallery-icon","ngx-gallery-arrow",3,"click"],[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-right"]],template:function(ne,Ee){1&ne&&(i.j41(0,"div",0)(1,"div",1),i.bIt("click",function(){return Ee.handlePrevClick()}),i.nrm(2,"i"),i.k0s()(),i.j41(3,"div",2)(4,"div",1),i.bIt("click",function(){return Ee.handleNextClick()}),i.nrm(5,"i"),i.k0s()()),2&ne&&(i.R7$(),i.AVh("ngx-gallery-disabled",Ee.prevDisabled),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Ee.arrowPrevIcon,""),i.R7$(2),i.AVh("ngx-gallery-disabled",Ee.nextDisabled),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Ee.arrowNextIcon,""))},styles:[".ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{position:absolute;height:100%;width:1px;display:table;table-layout:fixed}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]   .ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{z-index:10001}.ngx-gallery-arrow-left[_ngcontent-%COMP%]{left:0}.ngx-gallery-arrow-right[_ngcontent-%COMP%]{right:0}.ngx-gallery-arrow[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);cursor:pointer}.ngx-gallery-arrow.ngx-gallery-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default}.ngx-gallery-arrow-left[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{left:10px}.ngx-gallery-arrow-right[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{right:10px}"],changeDetection:0}),je})(),pe=(()=>{class je{constructor(){this.disabled=!1,this.titleText="",this.closeClick=new i.bkB}handleClick(ne){this.disabled||this.closeClick.emit(ne),ne.stopPropagation(),ne.preventDefault()}}return je.\u0275fac=function(ne){return new(ne||je)},je.\u0275cmp=i.VBU({type:je,selectors:[["ngx-gallery-action"]],inputs:{icon:"icon",disabled:"disabled",titleText:"titleText"},outputs:{closeClick:"closeClick"},decls:2,vars:6,consts:[["aria-hidden","true",1,"ngx-gallery-icon",3,"click","title"]],template:function(ne,Ee){1&ne&&(i.j41(0,"div",0),i.bIt("click",function(dt){return Ee.handleClick(dt)}),i.nrm(1,"i"),i.k0s()),2&ne&&(i.AVh("ngx-gallery-icon-disabled",Ee.disabled),i.FS9("title",Ee.titleText),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Ee.icon,""))},styles:[".ngx-gallery-icon[_ngcontent-%COMP%]{color:#fff;font-size:25px;position:absolute;z-index:2000;display:inline-block}.ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-icon[_ngcontent-%COMP%]   .ngx-gallery-icon-content[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),je})(),re=(()=>{class je{constructor(){this.active=0,this.bulletChange=new i.bkB}getBullets(){return Array(this.count)}handleChange(ne,Ee){this.bulletChange.emit(Ee)}}return je.\u0275fac=function(ne){return new(ne||je)},je.\u0275cmp=i.VBU({type:je,selectors:[["ngx-gallery-bullets"]],inputs:{count:"count",active:"active"},outputs:{bulletChange:"bulletChange"},decls:1,vars:1,consts:[["class","ngx-gallery-bullet",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ngx-gallery-bullet",3,"click","ngClass"]],template:function(ne,Ee){1&ne&&i.DNE(0,g,1,3,"div",0),2&ne&&i.Y8G("ngForOf",Ee.getBullets())},dependencies:[c.Sq,c.YU],styles:["[_nghost-%COMP%]{position:absolute;z-index:2000;display:inline-flex;left:50%;transform:translate(-50%);bottom:0;padding:10px}.ngx-gallery-bullet[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;cursor:pointer;background:white}.ngx-gallery-bullet[_ngcontent-%COMP%]:not(:first-child){margin-left:5px}.ngx-gallery-bullet[_ngcontent-%COMP%]:hover, .ngx-gallery-bullet.ngx-gallery-active[_ngcontent-%COMP%]{background:black}"],changeDetection:0}),je})(),ve=(()=>{class je{constructor(ne,Ee,ke,dt,Bt){this.sanitization=ne,this.elementRef=Ee,this.helperService=ke,this.renderer=dt,this.changeDetectorRef=Bt,this.showSpinner=!1,this.positionLeft=0,this.positionTop=0,this.zoomValue=1,this.loading=!1,this.rotateValue=0,this.index=0,this.previewOpen=new i.bkB,this.previewClose=new i.bkB,this.activeChange=new i.bkB,this.isOpen=!1,this.initialX=0,this.initialY=0,this.initialLeft=0,this.initialTop=0,this.isMove=!1}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1)}ngOnChanges(ne){ne.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"preview",()=>this.showNext(),()=>this.showPrev())}ngOnDestroy(){this.keyDownListener&&this.keyDownListener()}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0)}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1)}onKeyDown(ne){this.isOpen&&(this.keyboardNavigation&&(this.isKeyboardPrev(ne)?this.showPrev():this.isKeyboardNext(ne)&&this.showNext()),this.closeOnEsc&&this.isKeyboardEsc(ne)&&this.close())}open(ne){this.previewOpen.emit(),this.index=ne,this.isOpen=!0,this.show(!0),this.forceFullscreen&&this.manageFullscreen(),this.keyDownListener=this.renderer.listen("window","keydown",Ee=>this.onKeyDown(Ee))}close(){this.isOpen=!1;const ne=this.previewImage.nativeElement;ne.currentTime>0&&!ne.paused&&!ne.ended&&ne.readyState>2&&ne.pause(),this.closeFullscreen(),this.previewClose.emit(),this.stopAutoPlay(),this.keyDownListener&&this.keyDownListener()}imageMouseEnter(){this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}imageMouseLeave(){this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}startAutoPlay(){this.autoPlay&&(this.stopAutoPlay(),this.timer=setTimeout(()=>{this.showNext()||(this.index=-1,this.showNext())},this.autoPlayInterval))}stopAutoPlay(){this.timer&&clearTimeout(this.timer)}showAtIndex(ne){this.index=ne,this.show()}showNext(){return!!this.canShowNext()&&(this.index++,this.index===this.images.length&&(this.index=0),this.show(),!0)}showPrev(){this.canShowPrev()&&(this.index--,this.index<0&&(this.index=this.images.length-1),this.show())}canShowNext(){return!this.loading&&!!this.images&&(this.infinityMove||this.index<this.images.length-1)}canShowPrev(){return!this.loading&&!!this.images&&(this.infinityMove||this.index>0)}manageFullscreen(){if(this.fullscreen||this.forceFullscreen){const ne=document;ne.fullscreenElement||ne.mozFullScreenElement||ne.webkitFullscreenElement||ne.msFullscreenElement?this.closeFullscreen():this.openFullscreen()}}getSafeUrl(ne){return this.sanitization.bypassSecurityTrustUrl(ne)}getFileType(ne){return this.helperService.getFileType(ne)}zoomIn(){this.canZoomIn()&&(this.zoomValue+=this.zoomStep,this.zoomValue>this.zoomMax&&(this.zoomValue=this.zoomMax))}zoomOut(){this.canZoomOut()&&(this.zoomValue-=this.zoomStep,this.zoomValue<this.zoomMin&&(this.zoomValue=this.zoomMin),this.zoomValue<=1&&this.resetPosition())}rotateLeft(){this.rotateValue-=90}rotateRight(){this.rotateValue+=90}getTransform(){return this.sanitization.bypassSecurityTrustStyle("scale("+this.zoomValue+") rotate("+this.rotateValue+"deg)")}canZoomIn(){return this.zoomValue<this.zoomMax}canZoomOut(){return this.zoomValue>this.zoomMin}canDragOnZoom(){return this.zoom&&this.zoomValue>1}mouseDownHandler(ne){this.canDragOnZoom()&&(this.initialX=this.getClientX(ne),this.initialY=this.getClientY(ne),this.initialLeft=this.positionLeft,this.initialTop=this.positionTop,this.isMove=!0,ne.preventDefault())}mouseUpHandler(ne){this.isMove=!1}mouseMoveHandler(ne){this.isMove&&(this.positionLeft=this.initialLeft+(this.getClientX(ne)-this.initialX),this.positionTop=this.initialTop+(this.getClientY(ne)-this.initialY))}getClientX(ne){return ne.touches&&ne.touches.length?ne.touches[0].clientX:ne.clientX}getClientY(ne){return ne.touches&&ne.touches.length?ne.touches[0].clientY:ne.clientY}resetPosition(){this.zoom&&(this.positionLeft=0,this.positionTop=0)}isKeyboardNext(ne){return 39===ne.keyCode}isKeyboardPrev(ne){return 37===ne.keyCode}isKeyboardEsc(ne){return 27===ne.keyCode}openFullscreen(){const ne=document.documentElement;ne.requestFullscreen?ne.requestFullscreen():ne.msRequestFullscreen?ne.msRequestFullscreen():ne.mozRequestFullScreen?ne.mozRequestFullScreen():ne.webkitRequestFullscreen&&ne.webkitRequestFullscreen()}closeFullscreen(){if(this.isFullscreen()){const ne=document;ne.exitFullscreen?ne.exitFullscreen():ne.msExitFullscreen?ne.msExitFullscreen():ne.mozCancelFullScreen?ne.mozCancelFullScreen():ne.webkitExitFullscreen&&ne.webkitExitFullscreen()}}isFullscreen(){const ne=document;return ne.fullscreenElement||ne.webkitFullscreenElement||ne.mozFullScreenElement||ne.msFullscreenElement}show(ne=!1){this.loading=!0,this.stopAutoPlay(),this.activeChange.emit(this.index),ne||!this.animation?this._show():setTimeout(()=>this._show(),600)}_show(){this.zoomValue=1,this.rotateValue=0,this.resetPosition(),this.src=this.getSafeUrl(this.images[this.index]),this.type=this.getFileType(this.images[this.index]),this.srcIndex=this.index,this.description=this.descriptions[this.index],this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.isLoaded(this.previewImage.nativeElement)||"video"===this.type?(this.loading=!1,this.startAutoPlay(),this.changeDetectorRef.markForCheck()):"video"===this.type||(setTimeout(()=>{this.loading&&(this.showSpinner=!0,this.changeDetectorRef.markForCheck())}),this.previewImage.nativeElement.onload=()=>{this.loading=!1,this.showSpinner=!1,this.previewImage.nativeElement.onload=null,this.startAutoPlay(),this.changeDetectorRef.markForCheck()})})}isLoaded(ne){return!(!ne.complete||typeof ne.naturalWidth<"u"&&0===ne.naturalWidth)}}return je.\u0275fac=function(ne){return new(ne||je)(i.rXU(n.up),i.rXU(i.aKT),i.rXU(le),i.rXU(i.sFG),i.rXU(i.gRc))},je.\u0275cmp=i.VBU({type:je,selectors:[["ngx-gallery-preview"]],viewQuery:function(ne,Ee){if(1&ne&&i.GBs(d,5),2&ne){let ke;i.mGM(ke=i.lsd())&&(Ee.previewImage=ke.first)}},hostBindings:function(ne,Ee){1&ne&&i.bIt("mouseenter",function(){return Ee.onMouseEnter()})("mouseleave",function(){return Ee.onMouseLeave()})},inputs:{images:"images",descriptions:"descriptions",showDescription:"showDescription",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",fullscreen:"fullscreen",forceFullscreen:"forceFullscreen",closeOnClick:"closeOnClick",closeOnEsc:"closeOnEsc",keyboardNavigation:"keyboardNavigation",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",closeIcon:"closeIcon",fullscreenIcon:"fullscreenIcon",spinnerIcon:"spinnerIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",zoom:"zoom",zoomStep:"zoomStep",zoomMax:"zoomMax",zoomMin:"zoomMin",zoomInIcon:"zoomInIcon",zoomOutIcon:"zoomOutIcon",animation:"animation",actions:"actions",rotate:"rotate",rotateLeftIcon:"rotateLeftIcon",rotateRightIcon:"rotateRightIcon",download:"download",downloadIcon:"downloadIcon",bullets:"bullets"},outputs:{previewOpen:"previewOpen",previewClose:"previewClose",activeChange:"activeChange"},features:[i.OA$],decls:19,vars:18,consts:[["previewImage",""],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-preview-top"],[1,"ngx-gallery-preview-icons"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-icon","aria-hidden","true","download","",3,"href",4,"ngIf"],[3,"icon","disabled","closeClick",4,"ngIf"],[3,"icon","closeClick",4,"ngIf"],[3,"closeClick","icon"],[1,"ngx-spinner-wrapper","ngx-gallery-center"],["aria-hidden","true"],[1,"ngx-gallery-preview-wrapper",3,"click","mouseup","mousemove","touchend","touchmove"],[1,"ngx-gallery-preview-img-wrapper"],["class","ngx-gallery-preview-img ngx-gallery-center",3,"src","ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],["controls","","style","width: 100%; height: 100%;","class","ngx-gallery-preview-img ngx-gallery-center",3,"ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],[3,"count","active","bulletChange",4,"ngIf"],["class","ngx-gallery-preview-text",3,"innerHTML","click",4,"ngIf"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"],[3,"closeClick","icon","disabled","titleText"],["aria-hidden","true","download","",1,"ngx-gallery-icon",3,"href"],[3,"closeClick","icon","disabled"],[1,"ngx-gallery-preview-img","ngx-gallery-center",3,"click","mouseenter","mouseleave","mousedown","touchstart","src"],["controls","",1,"ngx-gallery-preview-img","ngx-gallery-center",2,"width","100%","height","100%",3,"click","mouseenter","mouseleave","mousedown","touchstart"],[3,"src"],[3,"bulletChange","count","active"],[1,"ngx-gallery-preview-text",3,"click","innerHTML"]],template:function(ne,Ee){1&ne&&(i.DNE(0,y,1,4,"ngx-gallery-arrows",1),i.j41(1,"div",2)(2,"div",3),i.DNE(3,E,1,3,"ngx-gallery-action",4)(4,_,2,4,"a",5)(5,b,1,2,"ngx-gallery-action",6)(6,O,1,2,"ngx-gallery-action",6)(7,I,1,1,"ngx-gallery-action",7)(8,T,1,1,"ngx-gallery-action",7)(9,R,1,1,"ngx-gallery-action",7),i.j41(10,"ngx-gallery-action",8),i.bIt("closeClick",function(){return Ee.close()}),i.k0s()()(),i.j41(11,"div",9),i.nrm(12,"i",10),i.k0s(),i.j41(13,"div",11),i.bIt("click",function(){return Ee.closeOnClick&&Ee.close()})("mouseup",function(dt){return Ee.mouseUpHandler(dt)})("mousemove",function(dt){return Ee.mouseMoveHandler(dt)})("touchend",function(dt){return Ee.mouseUpHandler(dt)})("touchmove",function(dt){return Ee.mouseMoveHandler(dt)}),i.j41(14,"div",12),i.DNE(15,u,2,13,"img",13)(16,w,4,13,"video",14)(17,v,1,2,"ngx-gallery-bullets",15),i.k0s(),i.DNE(18,S,1,1,"div",16),i.k0s()),2&ne&&(i.Y8G("ngIf",Ee.arrows),i.R7$(3),i.Y8G("ngForOf",Ee.actions),i.R7$(),i.Y8G("ngIf",Ee.download&&Ee.src),i.R7$(),i.Y8G("ngIf",Ee.zoom),i.R7$(),i.Y8G("ngIf",Ee.zoom),i.R7$(),i.Y8G("ngIf",Ee.rotate),i.R7$(),i.Y8G("ngIf",Ee.rotate),i.R7$(),i.Y8G("ngIf",Ee.fullscreen),i.R7$(),i.Y8G("icon","ngx-gallery-close "+Ee.closeIcon),i.R7$(),i.AVh("ngx-gallery-active",Ee.showSpinner),i.R7$(),i.ZvI("ngx-gallery-icon ngx-gallery-spinner ",Ee.spinnerIcon,""),i.R7$(3),i.Y8G("ngIf",Ee.src&&"image"===Ee.type),i.R7$(),i.Y8G("ngIf",Ee.src&&"video"===Ee.type),i.R7$(),i.Y8G("ngIf",Ee.bullets),i.R7$(),i.Y8G("ngIf",Ee.showDescription&&Ee.description))},dependencies:[De,pe,re,c.bT,c.Sq],styles:[".ngx-gallery-active[_nghost-%COMP%]{width:100%;height:100%;position:fixed;left:0;top:0;background:rgba(0,0,0,.7);z-index:10000;display:inline-block;font-size:50px!important}[_nghost-%COMP%]{display:none;font-size:50px!important}[_nghost-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{font-size:50px!important}ngx-gallery-bullets[_ngcontent-%COMP%]{height:5%;align-items:center;padding:0}.ngx-gallery-preview-img[_ngcontent-%COMP%]{opacity:0;max-width:90%;max-height:90%;-webkit-user-select:none;user-select:none;transition:transform .5s}.ngx-gallery-preview-img.animation[_ngcontent-%COMP%]{transition:opacity .5s linear,transform .5s}.ngx-gallery-preview-img.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-preview-img.ngx-gallery-grab[_ngcontent-%COMP%]{cursor:grab}.ngx-gallery-icon.ngx-gallery-spinner[_ngcontent-%COMP%]{font-size:50px;left:0;display:inline-block}[_nghost-%COMP%]   .ngx-gallery-preview-top[_ngcontent-%COMP%]{position:absolute;width:100%;-webkit-user-select:none;user-select:none;font-size:25px}.ngx-gallery-preview-icons[_ngcontent-%COMP%]{float:right}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon.ngx-gallery-icon-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.4}.ngx-spinner-wrapper[_ngcontent-%COMP%]{width:50px;height:50px;display:none}.ngx-spinner-wrapper.ngx-gallery-active[_ngcontent-%COMP%]{display:inline-block}.ngx-gallery-center[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;margin:auto;top:0}.ngx-gallery-preview-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;flex:0 1 auto;z-index:10}.ngx-gallery-preview-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;position:relative}"],changeDetection:0}),je})(),fe=(()=>{class je{}return je.Fade="fade",je.Slide="slide",je.Rotate="rotate",je.Zoom="zoom",je})(),Ie=(()=>{class je{constructor(ne,Ee,ke,dt){this.sanitization=ne,this.changeDetectorRef=Ee,this.elementRef=ke,this.helperService=dt,this.imageClick=new i.bkB,this.activeChange=new i.bkB,this.animating=new i.bkB,this.canChangeImage=!0,this.isAnimating=!1,this.changeDetectorRef=Ee,this.action="none"}set selectedIndex(ne){if(ne>this._selectedIndex){let Ee;this.animation===fe.Slide?Ee="slideRight":this.animation===fe.Fade?Ee="fade":this.animation===fe.Rotate?Ee="rotateRight":this.animation===fe.Zoom&&(Ee="zoom"),this.setAction(Ee)}else if(ne<this._selectedIndex){let Ee;this.animation===fe.Slide?Ee="slideLeft":this.animation===fe.Fade?Ee="fade":this.animation===fe.Rotate?Ee="rotateLeft":this.animation===fe.Zoom&&(Ee="zoom"),this.setAction(Ee)}this._selectedIndex=ne}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1),this.autoPlay&&this.startAutoPlay()}ngOnChanges(ne){ne.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"image",()=>this.showNext(),()=>this.showPrev())}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0),this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1),this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}reset(ne){this._selectedIndex=ne,this.action="none"}getImages(){if(!this.images)return[];if(this.lazyLoading){const ne=[this._selectedIndex],Ee=this._selectedIndex-1;-1===Ee&&this.infinityMove?ne.push(this.images.length-1):Ee>=0&&ne.push(Ee);const ke=this._selectedIndex+1;return ke===this.images.length&&this.infinityMove?ne.push(0):ke<this.images.length&&ne.push(ke),this.images.filter((dt,Bt)=>-1!==ne.indexOf(Bt))}return this.images}startAutoPlay(){this.stopAutoPlay(),this.timer=setInterval(()=>{this.showNext()||(this._selectedIndex=-1,this.showNext())},this.autoPlayInterval)}stopAutoPlay(){this.timer&&clearInterval(this.timer)}handleClick(ne,Ee){this.clickable&&(this.imageClick.emit(Ee),ne.stopPropagation(),ne.preventDefault())}show(ne){if(!this.isAnimating){if(ne>this._selectedIndex){let Ee;this.animation===fe.Slide?Ee="slideRight":this.animation===fe.Fade?Ee="fade":this.animation===fe.Rotate?Ee="rotateRight":this.animation===fe.Zoom&&(Ee="zoom"),this.setAction(Ee)}else{let Ee;this.animation===fe.Slide?Ee="slideLeft":this.animation===fe.Fade?Ee="fade":this.animation===fe.Rotate?Ee="rotateLeft":this.animation===fe.Zoom&&(Ee="zoom"),this.setAction(Ee)}this._selectedIndex=ne,this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setAction(ne){this.action=ne,this.changeDetectorRef.detectChanges()}showNext(){if(this.isAnimating)return!1;if(this.canShowNext()&&this.canChangeImage){let ne;return this.animation===fe.Slide?ne="slideRight":this.animation===fe.Fade?ne="fade":this.animation===fe.Rotate?ne="rotateRight":this.animation===fe.Zoom&&(ne="zoom"),this.setAction(ne),this._selectedIndex++,this._selectedIndex===this.images.length&&(this._selectedIndex=0),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout(),!0}return!1}showPrev(){if(!this.isAnimating&&this.canShowPrev()&&this.canChangeImage){let ne;this.animation===fe.Slide?ne="slideLeft":this.animation===fe.Fade?ne="fade":this.animation===fe.Rotate?ne="rotateLeft":this.animation===fe.Zoom&&(ne="zoom"),this.setAction(ne),this._selectedIndex--,this._selectedIndex<0&&(this._selectedIndex=this.images.length-1),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setChangeTimeout(){this.canChangeImage=!1;let ne=1e3;(this.animation===fe.Slide||this.animation===fe.Fade)&&(ne=500),setTimeout(()=>{this.canChangeImage=!0},ne)}canShowNext(){return!!this.images&&(this.infinityMove||this._selectedIndex<this.images.length-1)}canShowPrev(){return!!this.images&&(this.infinityMove||this._selectedIndex>0)}getSafeUrl(ne){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(ne.toString()))}getFileType(ne){return this.helperService.getFileType(ne)}onStart(ne){this.isAnimating=!0,this.animating.emit(!0)}onDone(ne){this.isAnimating=!1,this.animating.emit(!1)}}return je.\u0275fac=function(ne){return new(ne||je)(i.rXU(n.up),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(le))},je.\u0275cmp=i.VBU({type:je,selectors:[["ngx-gallery-image"]],hostBindings:function(ne,Ee){1&ne&&i.bIt("mouseenter",function(){return Ee.onMouseEnter()})("mouseleave",function(){return Ee.onMouseLeave()})},inputs:{images:"images",clickable:"clickable",selectedIndex:"selectedIndex",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",animation:"animation",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",lazyLoading:"lazyLoading",actions:"actions",descriptions:"descriptions",showDescription:"showDescription",bullets:"bullets"},outputs:{imageClick:"imageClick",activeChange:"activeChange",animating:"animating"},features:[i.OA$],decls:4,vars:7,consts:[[4,"ngFor","ngForOf"],[3,"count","active","bulletChange",4,"ngIf"],[3,"class","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],["class","ngx-gallery-image",3,"ngClass","background-image","click",4,"ngIf"],[1,"ngx-gallery-image",3,"click","ngClass"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-image-text",3,"innerHTML","click",4,"ngIf"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-image-text",3,"click","innerHTML"],["controls","",2,"width","100%","height","100%","background","#000"],[3,"src"],[3,"bulletChange","count","active"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(ne,Ee){1&ne&&(i.j41(0,"div"),i.DNE(1,Y,3,2,"ng-container",0)(2,V,1,2,"ngx-gallery-bullets",1)(3,X,1,7,"ngx-gallery-arrows",2),i.k0s()),2&ne&&(i.STu("ngx-gallery-image-wrapper ngx-gallery-animation-",Ee.animation," ngx-gallery-image-size-",Ee.size,""),i.R7$(),i.Y8G("ngForOf",Ee.getImages()),i.R7$(),i.Y8G("ngIf",Ee.bullets),i.R7$(),i.Y8G("ngIf",Ee.arrows))},dependencies:[pe,re,De,c.Sq,c.bT,c.YU],styles:["[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-image-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;overflow:hidden}.ngx-gallery-image[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;height:100%;width:100%;position:absolute;top:0}.ngx-gallery-image-size-cover[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-image-size-contain[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{left:0;opacity:1;transition:.5s ease-in-out}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-animation-rotate[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1) rotate(0);left:0;opacity:1}.ngx-gallery-animation-zoom[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1);left:0;opacity:1}.ngx-gallery-image-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;position:absolute;bottom:0;z-index:10}"],data:{animation:[(0,e.hZ)("animation",[(0,e.wk)("slideRight",(0,e.iF)({})),(0,e.wk)("slideLeft",(0,e.iF)({})),(0,e.wk)("fade",(0,e.iF)({})),(0,e.wk)("rotateLeft",(0,e.iF)({})),(0,e.wk)("rotateRight",(0,e.iF)({})),(0,e.wk)("zoom",(0,e.iF)({})),(0,e.kY)("slideRight => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(-100%)"}))]),(0,e.kY)("void => slideRight",[(0,e.iF)({transform:"translateX(100%)"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(0)"}))]),(0,e.kY)("slideLeft => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(100%)"}))]),(0,e.kY)("void => slideLeft",[(0,e.iF)({transform:"translateX(-100%)"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(0)"}))]),(0,e.kY)("fade => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({opacity:"0"}))]),(0,e.kY)("void => fade",[(0,e.iF)({opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({opacity:"1"}))]),(0,e.kY)("rotateLeft => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}))]),(0,e.kY)("void => rotateLeft",[(0,e.iF)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,e.kY)("rotateRight => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}))]),(0,e.kY)("void => rotateRight",[(0,e.iF)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,e.kY)("zoom => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(2.5,2.5)",opacity:"0"}))]),(0,e.kY)("void => zoom",[(0,e.iF)({transform:"scale(2.5,2.5)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1)",opacity:"1"}))])])]},changeDetection:0}),je})(),Ne=(()=>{class je{}return je.Column=1,je.Row=2,je.Page=3,je})(),qe=(()=>{class je{constructor(ne,Ee,ke){this.sanitization=ne,this.elementRef=Ee,this.helperService=ke,this.minStopIndex=0,this.activeChange=new i.bkB,this.index=0}ngOnChanges(ne){ne.selectedIndex&&this.validateIndex(),ne.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"thumbnails",()=>this.moveRight(),()=>this.moveLeft()),this.images&&(this.remainingCountValue=this.images.length-this.rows*this.columns)}onMouseEnter(){this.mouseenter=!0}onMouseLeave(){this.mouseenter=!1}reset(ne){this.selectedIndex=ne,this.setDefaultPosition(),this.index=0,this.validateIndex()}getImages(){if(!this.images)return[];if(this.remainingCount)return this.images.slice(0,this.rows*this.columns);if(this.lazyLoading&&this.order!==Ne.Row){let ne=0;return this.order===Ne.Column?ne=(this.index+this.columns+this.moveSize)*this.rows:this.order===Ne.Page&&(ne=this.index+this.columns*this.rows*2),ne<=this.minStopIndex?ne=this.minStopIndex:this.minStopIndex=ne,this.images.slice(0,ne)}return this.images}handleClick(ne,Ee){!this.hasLink(Ee)&&!this.isAnimating&&(this.selectedIndex=Ee,this.activeChange.emit(Ee)),ne.stopPropagation(),ne.preventDefault()}hasLink(ne){return!!(this.links&&this.links.length&&this.links[ne])}moveRight(){if(this.canMoveRight()){this.index+=this.moveSize;const ne=this.getMaxIndex()-this.columns;this.index>ne&&(this.index=ne),this.setThumbnailsPosition()}}moveLeft(){this.canMoveLeft()&&(this.index-=this.moveSize,this.index<0&&(this.index=0),this.setThumbnailsPosition())}canMoveRight(){return this.index+this.columns<this.getMaxIndex()}canMoveLeft(){return 0!==this.index}getThumbnailLeft(ne){let Ee;return Ee=this.order===Ne.Column?Math.floor(ne/this.rows):this.order===Ne.Page?ne%this.columns+Math.floor(ne/(this.rows*this.columns))*this.columns:this.order===Ne.Row&&this.remainingCount?ne%this.columns:ne%Math.ceil(this.images.length/this.rows),this.getThumbnailPosition(Ee,this.columns)}getThumbnailTop(ne){let Ee;return Ee=this.order===Ne.Column?ne%this.rows:this.order===Ne.Page?Math.floor(ne/this.columns)-Math.floor(ne/(this.rows*this.columns))*this.rows:this.order===Ne.Row&&this.remainingCount?Math.floor(ne/this.columns):Math.floor(ne/Math.ceil(this.images.length/this.rows)),this.getThumbnailPosition(Ee,this.rows)}getThumbnailWidth(){return this.getThumbnailDimension(this.columns)}getThumbnailHeight(){return this.getThumbnailDimension(this.rows)}setThumbnailsPosition(){this.thumbnailsLeft=-100/this.columns*this.index+"%",this.thumbnailsMarginLeft=-(this.margin-(this.columns-1)*this.margin/this.columns)*this.index+"px"}setDefaultPosition(){this.thumbnailsLeft="0px",this.thumbnailsMarginLeft="0px"}canShowArrows(){return!this.remainingCount&&this.arrows&&this.images&&this.images.length>this.getVisibleCount()&&(!this.arrowsAutoHide||this.mouseenter)}validateIndex(){if(this.images){let ne;if(ne=this.order===Ne.Column?Math.floor(this.selectedIndex/this.rows):this.selectedIndex%Math.ceil(this.images.length/this.rows),this.remainingCount&&(ne=0),ne<this.index||ne>=this.index+this.columns){const Ee=this.getMaxIndex()-this.columns;this.index=ne>Ee?Ee:ne,this.setThumbnailsPosition()}}}getSafeUrl(ne){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(ne.toString()))}getFileType(ne){return this.helperService.getFileType(ne.toString())}getThumbnailPosition(ne,Ee){return this.getSafeStyle("calc("+100/Ee*ne+"% + "+(this.margin-(Ee-1)*this.margin/Ee)*ne+"px)")}getThumbnailDimension(ne){return this.getSafeStyle(0!==this.margin?"calc("+100/ne+"% - "+(ne-1)*this.margin/ne+"px)":"calc("+100/ne+"% + 1px)")}getMaxIndex(){if(this.order===Ne.Page){let ne=Math.floor(this.images.length/this.getVisibleCount())*this.columns;return this.images.length%this.getVisibleCount()>this.columns?ne+=this.columns:ne+=this.images.length%this.getVisibleCount(),ne}return Math.ceil(this.images.length/this.rows)}getVisibleCount(){return this.columns*this.rows}getSafeStyle(ne){return this.sanitization.bypassSecurityTrustStyle(ne)}}return je.\u0275fac=function(ne){return new(ne||je)(i.rXU(n.up),i.rXU(i.aKT),i.rXU(le))},je.\u0275cmp=i.VBU({type:je,selectors:[["ngx-gallery-thumbnails"]],hostBindings:function(ne,Ee){1&ne&&i.bIt("mouseenter",function(){return Ee.onMouseEnter()})("mouseleave",function(){return Ee.onMouseLeave()})},inputs:{images:"images",isAnimating:"isAnimating",links:"links",labels:"labels",linkTarget:"linkTarget",columns:"columns",rows:"rows",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",margin:"margin",selectedIndex:"selectedIndex",clickable:"clickable",swipe:"swipe",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",moveSize:"moveSize",order:"order",remainingCount:"remainingCount",lazyLoading:"lazyLoading",actions:"actions"},outputs:{activeChange:"activeChange"},features:[i.OA$],decls:4,vars:9,consts:[[1,"ngx-gallery-thumbnails"],["class","ngx-gallery-thumbnail",3,"href","target","width","height","left","top","ngClass","click",4,"ngFor","ngForOf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-thumbnail",3,"click","href","target","ngClass"],["class","ngx-gallery-thumbnail","style","width: 100%; height: 100%; position:absolute;",3,"background-image","ngClass",4,"ngIf"],["class","ngx-gallery-thumbnail-video",4,"ngIf"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-remaining-count-overlay",4,"ngIf"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute",3,"ngClass"],[1,"ngx-gallery-thumbnail-video"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute","left","0","background","#000",3,"ngClass"],[3,"src"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-remaining-count-overlay"],[1,"ngx-gallery-remaining-count"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(ne,Ee){1&ne&&(i.j41(0,"div")(1,"div",0),i.DNE(2,q,6,19,"a",1),i.k0s()(),i.DNE(3,ee,1,4,"ngx-gallery-arrows",2)),2&ne&&(i.ZvI("ngx-gallery-thumbnails-wrapper ngx-gallery-thumbnail-size-",Ee.size,""),i.R7$(),i.xc7("transform","translateX("+Ee.thumbnailsLeft+")")("margin-left",Ee.thumbnailsMarginLeft),i.R7$(),i.Y8G("ngForOf",Ee.getImages()),i.R7$(),i.Y8G("ngIf",Ee.canShowArrows()))},dependencies:[pe,De,c.Sq,c.YU,c.bT],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-thumbnails-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}.ngx-gallery-thumbnails[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;left:0;transform:translate(0);transition:transform .5s ease-in-out;will-change:transform}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{position:absolute;height:100%;background-position:center;background-repeat:no-repeat;text-decoration:none;border:1px double black}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .ngx-gallery-thumbnail-video[_ngcontent-%COMP%]:after{content:"\\f144";display:block;position:absolute;background:#0000;height:100%;width:100%;left:0;top:calc(50% - 20px);font-size:40px;color:#fff;margin:0;padding:0;font-family:fontawesome;text-shadow:0px 4px 3px rgba(0,0,0,.4),0px 8px 13px rgba(0,0,0,.1),0px 18px 23px rgba(0,0,0,.1)}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background-size:cover;height:100%}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail.ngx-gallery-active[_ngcontent-%COMP%]{border:1px double #cc4548}.ngx-gallery-thumbnail-size-cover[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-thumbnail-size-contain[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-remaining-count-overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;background-color:#0006}.ngx-gallery-remaining-count[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:30px}'],changeDetection:0}),je})();class we{constructor(Re){this.icon=Re.icon,this.disabled=!!Re.disabled&&Re.disabled,this.titleText=Re.titleText?Re.titleText:"",this.onClick=Re.onClick}}let Be=(()=>{class je{}return je.ThumbnailsTop="thumbnails-top",je.ThumbnailsBottom="thumbnails-bottom",je})(),Ve=(()=>{class je{}return je.Cover="cover",je.Contain="contain",je})();class et{constructor(Re){const ne=void 0!==Re.breakpoint;function Ee(ke,dt){return Re&&(void 0!==ke||ne)?ke:dt}this.breakpoint=Ee(Re.breakpoint,void 0),this.width=Ee(Re.width,"500px"),this.height=Ee(Re.height,"400px"),this.fullWidth=Ee(Re.fullWidth,!1),this.layout=Ee(Re.layout,Be.ThumbnailsBottom),this.startIndex=Ee(Re.startIndex,0),this.linkTarget=Ee(Re.linkTarget,"_blank"),this.lazyLoading=Ee(Re.lazyLoading,!0),this.image=Ee(Re.image,!0),this.imagePercent=Ee(Re.imagePercent,75),this.imageArrows=Ee(Re.imageArrows,!0),this.imageArrowsAutoHide=Ee(Re.imageArrowsAutoHide,!1),this.imageSwipe=Ee(Re.imageSwipe,!1),this.imageAnimation=Ee(Re.imageAnimation,fe.Fade),this.imageSize=Ee(Re.imageSize,Ve.Cover),this.imageAutoPlay=Ee(Re.imageAutoPlay,!1),this.imageAutoPlayInterval=Ee(Re.imageAutoPlayInterval,2e3),this.imageAutoPlayPauseOnHover=Ee(Re.imageAutoPlayPauseOnHover,!1),this.imageInfinityMove=Ee(Re.imageInfinityMove,!1),Re&&Re.imageActions&&Re.imageActions.length&&(Re.imageActions=Re.imageActions.map(ke=>new we(ke))),this.imageActions=Ee(Re.imageActions,[]),this.imageDescription=Ee(Re.imageDescription,!1),this.imageBullets=Ee(Re.imageBullets,!1),this.thumbnails=Ee(Re.thumbnails,!0),this.thumbnailsColumns=Ee(Re.thumbnailsColumns,4),this.thumbnailsRows=Ee(Re.thumbnailsRows,1),this.thumbnailsPercent=Ee(Re.thumbnailsPercent,25),this.thumbnailsMargin=Ee(Re.thumbnailsMargin,10),this.thumbnailsArrows=Ee(Re.thumbnailsArrows,!0),this.thumbnailsArrowsAutoHide=Ee(Re.thumbnailsArrowsAutoHide,!1),this.thumbnailsSwipe=Ee(Re.thumbnailsSwipe,!1),this.thumbnailsMoveSize=Ee(Re.thumbnailsMoveSize,1),this.thumbnailsOrder=Ee(Re.thumbnailsOrder,Ne.Column),this.thumbnailsRemainingCount=Ee(Re.thumbnailsRemainingCount,!1),this.thumbnailsAsLinks=Ee(Re.thumbnailsAsLinks,!1),this.thumbnailsAutoHide=Ee(Re.thumbnailsAutoHide,!1),this.thumbnailMargin=Ee(Re.thumbnailMargin,10),this.thumbnailSize=Ee(Re.thumbnailSize,Ve.Cover),Re&&Re.thumbnailActions&&Re.thumbnailActions.length&&(Re.thumbnailActions=Re.thumbnailActions.map(ke=>new we(ke))),this.thumbnailActions=Ee(Re.thumbnailActions,[]),this.thumbnailClasses=Ee(Re.thumbnailClasses,[]),this.preview=Ee(Re.preview,!0),this.previewDescription=Ee(Re.previewDescription,!0),this.previewArrows=Ee(Re.previewArrows,!0),this.previewArrowsAutoHide=Ee(Re.previewArrowsAutoHide,!1),this.previewSwipe=Ee(Re.previewSwipe,!1),this.previewFullscreen=Ee(Re.previewFullscreen,!1),this.previewForceFullscreen=Ee(Re.previewForceFullscreen,!1),this.previewCloseOnClick=Ee(Re.previewCloseOnClick,!1),this.previewCloseOnEsc=Ee(Re.previewCloseOnEsc,!1),this.previewKeyboardNavigation=Ee(Re.previewKeyboardNavigation,!1),this.previewAnimation=Ee(Re.previewAnimation,!0),this.previewAutoPlay=Ee(Re.previewAutoPlay,!1),this.previewAutoPlayInterval=Ee(Re.previewAutoPlayInterval,2e3),this.previewAutoPlayPauseOnHover=Ee(Re.previewAutoPlayPauseOnHover,!1),this.previewInfinityMove=Ee(Re.previewInfinityMove,!1),this.previewZoom=Ee(Re.previewZoom,!1),this.previewZoomStep=Ee(Re.previewZoomStep,.1),this.previewZoomMax=Ee(Re.previewZoomMax,2),this.previewZoomMin=Ee(Re.previewZoomMin,.5),this.previewRotate=Ee(Re.previewRotate,!1),this.previewDownload=Ee(Re.previewDownload,!1),this.previewCustom=Ee(Re.previewCustom,void 0),this.previewBullets=Ee(Re.previewBullets,!1),this.arrowPrevIcon=Ee(Re.arrowPrevIcon,"fa fa-arrow-circle-left"),this.arrowNextIcon=Ee(Re.arrowNextIcon,"fa fa-arrow-circle-right"),this.closeIcon=Ee(Re.closeIcon,"fa fa-times-circle"),this.fullscreenIcon=Ee(Re.fullscreenIcon,"fa fa-arrows-alt"),this.spinnerIcon=Ee(Re.spinnerIcon,"fa fa-spinner fa-pulse fa-3x fa-fw"),this.zoomInIcon=Ee(Re.zoomInIcon,"fa fa-search-plus"),this.zoomOutIcon=Ee(Re.zoomOutIcon,"fa fa-search-minus"),this.rotateLeftIcon=Ee(Re.rotateLeftIcon,"fa fa-undo"),this.rotateRightIcon=Ee(Re.rotateRightIcon,"fa fa-repeat"),this.downloadIcon=Ee(Re.downloadIcon,"fa fa-arrow-circle-down"),Re&&Re.actions&&Re.actions.length&&(Re.actions=Re.actions.map(ke=>new we(ke))),this.actions=Ee(Re.actions,[])}}class yt{constructor(Re){this.src=Re.src,this.type=Re.type,this.index=Re.index}}let it=(()=>{class je{constructor(ne,Ee){this.myElement=ne,this.helperService=Ee,this.options=[{}],this.imagesReady=new i.bkB,this.change=new i.bkB,this.previewOpen=new i.bkB,this.previewClose=new i.bkB,this.previewChange=new i.bkB,this.oldImagesLength=0,this.selectedIndex=0,this.breakpoint=void 0,this.prevBreakpoint=void 0}ngOnInit(){this.options=this.options.map(ne=>new et(ne)),this.sortOptions(),this.setBreakpoint(),this.setOptions(),this.checkFullWidth(),this.currentOptions&&(this.selectedIndex=this.currentOptions.startIndex)}ngDoCheck(){(void 0!==this.images&&this.images.length!==this.oldImagesLength||this.images!==this.oldImages)&&(this.oldImagesLength=this.images.length,this.oldImages=this.images,this.setOptions(),this.setImages(),this.images&&this.images.length&&this.imagesReady.emit(),this.image&&this.image.reset(this.currentOptions.startIndex),this.currentOptions.thumbnailsAutoHide&&this.currentOptions.thumbnails&&this.images.length<=1&&(this.currentOptions.thumbnails=!1,this.currentOptions.imageArrows=!1),this.resetThumbnails())}ngAfterViewInit(){this.checkFullWidth()}onResize(){this.setBreakpoint(),this.prevBreakpoint!==this.breakpoint&&(this.setOptions(),this.resetThumbnails()),this.currentOptions&&this.currentOptions.fullWidth&&(this.fullWidthTimeout&&clearTimeout(this.fullWidthTimeout),this.fullWidthTimeout=setTimeout(()=>{this.checkFullWidth()},200))}getImageHeight(){return this.currentOptions&&this.currentOptions.thumbnails?this.currentOptions.imagePercent+"%":"100%"}getThumbnailsHeight(){return this.currentOptions&&this.currentOptions.image?"calc("+this.currentOptions.thumbnailsPercent+"% - "+this.currentOptions.thumbnailsMargin+"px)":"100%"}getThumbnailsMarginTop(){return this.currentOptions&&this.currentOptions.layout===Be.ThumbnailsBottom?this.currentOptions.thumbnailsMargin+"px":"0px"}getThumbnailsMarginBottom(){return this.currentOptions&&this.currentOptions.layout===Be.ThumbnailsTop?this.currentOptions.thumbnailsMargin+"px":"0px"}openPreview(ne){this.currentOptions.previewCustom?this.currentOptions.previewCustom(ne):(this.previewEnabled=!0,this.preview.open(ne))}onPreviewOpen(){this.previewOpen.emit(),this.image&&this.image.autoPlay&&this.image.stopAutoPlay()}onPreviewClose(){this.previewEnabled=!1,this.previewClose.emit(),this.image&&this.image.autoPlay&&this.image.startAutoPlay()}selectFromImage(ne){this.select(ne)}selectFromThumbnails(ne){this.select(ne),this.currentOptions&&this.currentOptions.thumbnails&&this.currentOptions.preview&&(!this.currentOptions.image||this.currentOptions.thumbnailsRemainingCount)&&this.openPreview(this.selectedIndex)}show(ne){this.select(ne)}showNext(){this.image.showNext()}showPrev(){this.image.showPrev()}canShowNext(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex<this.images.length-1))}canShowPrev(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex>0))}previewSelect(ne){this.previewChange.emit({index:ne,image:this.images[ne]})}moveThumbnailsRight(){this.thumbnails.moveRight()}moveThumbnailsLeft(){this.thumbnails.moveLeft()}canMoveThumbnailsRight(){return this.thumbnails.canMoveRight()}canMoveThumbnailsLeft(){return this.thumbnails.canMoveLeft()}resetThumbnails(){this.thumbnails&&this.thumbnails.reset(this.currentOptions.startIndex)}select(ne){this.selectedIndex=ne,this.change.emit({index:ne,image:this.images[ne]})}checkFullWidth(){this.currentOptions&&this.currentOptions.fullWidth&&(this.width=document.body.clientWidth+"px",this.left="translateX("+-(document.body.clientWidth-this.myElement.nativeElement.parentNode.innerWidth)/2+"px)")}setImages(){this.images.forEach(ne=>ne.type=this.helperService.getFileType(ne.url||ne.big||ne.medium||ne.small||"")),this.smallImages=this.images.map(ne=>ne.small),this.mediumImages=this.images.map((ne,Ee)=>new yt({src:ne.medium,type:ne.type,index:Ee})),this.bigImages=this.images.map(ne=>ne.big),this.descriptions=this.images.map(ne=>ne.description),this.links=this.images.map(ne=>ne.url),this.labels=this.images.map(ne=>ne.label)}setBreakpoint(){let ne;this.prevBreakpoint=this.breakpoint,typeof window<"u"&&(ne=this.options.filter(Ee=>Ee.breakpoint>=window.innerWidth).map(Ee=>Ee.breakpoint)),this.breakpoint=ne&&ne.length?ne.pop():void 0}sortOptions(){this.options=[...this.options.filter(ne=>void 0===ne.breakpoint),...this.options.filter(ne=>void 0!==ne.breakpoint).sort((ne,Ee)=>Ee.breakpoint-ne.breakpoint)]}setOptions(){this.currentOptions=new et({}),this.options.filter(ne=>void 0===ne.breakpoint||ne.breakpoint>=this.breakpoint).map(ne=>this.combineOptions(this.currentOptions,ne)),this.width=this.currentOptions.width,this.height=this.currentOptions.height}combineOptions(ne,Ee){Object.keys(Ee).map(ke=>ne[ke]=void 0!==Ee[ke]?Ee[ke]:ne[ke])}setAnimating(ne){this.isAnimating=ne}}return je.\u0275fac=function(ne){return new(ne||je)(i.rXU(i.aKT),i.rXU(le))},je.\u0275cmp=i.VBU({type:je,selectors:[["ngx-gallery"]],viewQuery:function(ne,Ee){if(1&ne&&(i.GBs(ve,5),i.GBs(Ie,5),i.GBs(qe,5)),2&ne){let ke;i.mGM(ke=i.lsd())&&(Ee.preview=ke.first),i.mGM(ke=i.lsd())&&(Ee.image=ke.first),i.mGM(ke=i.lsd())&&(Ee.thumbnails=ke.first)}},hostVars:6,hostBindings:function(ne,Ee){1&ne&&i.bIt("resize",function(){return Ee.onResize()},!1,i.tSv),2&ne&&i.xc7("width",Ee.width)("height",Ee.height)("transform",Ee.left)},inputs:{options:"options",images:"images"},outputs:{imagesReady:"imagesReady",change:"change",previewOpen:"previewOpen",previewClose:"previewClose",previewChange:"previewChange"},features:[i.Jv_([le])],decls:4,vars:41,consts:[[3,"height","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating",4,"ngIf"],[3,"marginTop","marginBottom","height","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange",4,"ngIf"],[3,"previewClose","previewOpen","activeChange","images","descriptions","showDescription","arrowPrevIcon","arrowNextIcon","closeIcon","fullscreenIcon","spinnerIcon","arrows","arrowsAutoHide","swipe","fullscreen","forceFullscreen","closeOnClick","closeOnEsc","keyboardNavigation","animation","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","zoom","zoomStep","zoomMax","zoomMin","zoomInIcon","zoomOutIcon","actions","rotate","rotateLeftIcon","rotateRightIcon","download","downloadIcon","bullets"],[3,"imageClick","activeChange","animating","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets"],[3,"activeChange","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass"]],template:function(ne,Ee){1&ne&&(i.j41(0,"div"),i.DNE(1,Ce,1,21,"ngx-gallery-image",0)(2,Z,1,29,"ngx-gallery-thumbnails",1),i.j41(3,"ngx-gallery-preview",2),i.bIt("previewClose",function(){return Ee.onPreviewClose()})("previewOpen",function(){return Ee.onPreviewOpen()})("activeChange",function(dt){return Ee.previewSelect(dt)}),i.k0s()()),2&ne&&(i.ZvI("ngx-gallery-layout ",null==Ee.currentOptions?null:Ee.currentOptions.layout,""),i.R7$(),i.Y8G("ngIf",null==Ee.currentOptions?null:Ee.currentOptions.image),i.R7$(),i.Y8G("ngIf",null==Ee.currentOptions?null:Ee.currentOptions.thumbnails),i.R7$(),i.AVh("ngx-gallery-active",Ee.previewEnabled),i.Y8G("images",Ee.bigImages)("descriptions",Ee.descriptions)("showDescription",null==Ee.currentOptions?null:Ee.currentOptions.previewDescription)("arrowPrevIcon",null==Ee.currentOptions?null:Ee.currentOptions.arrowPrevIcon)("arrowNextIcon",null==Ee.currentOptions?null:Ee.currentOptions.arrowNextIcon)("closeIcon",null==Ee.currentOptions?null:Ee.currentOptions.closeIcon)("fullscreenIcon",null==Ee.currentOptions?null:Ee.currentOptions.fullscreenIcon)("spinnerIcon",null==Ee.currentOptions?null:Ee.currentOptions.spinnerIcon)("arrows",null==Ee.currentOptions?null:Ee.currentOptions.previewArrows)("arrowsAutoHide",null==Ee.currentOptions?null:Ee.currentOptions.previewArrowsAutoHide)("swipe",null==Ee.currentOptions?null:Ee.currentOptions.previewSwipe)("fullscreen",null==Ee.currentOptions?null:Ee.currentOptions.previewFullscreen)("forceFullscreen",null==Ee.currentOptions?null:Ee.currentOptions.previewForceFullscreen)("closeOnClick",null==Ee.currentOptions?null:Ee.currentOptions.previewCloseOnClick)("closeOnEsc",null==Ee.currentOptions?null:Ee.currentOptions.previewCloseOnEsc)("keyboardNavigation",null==Ee.currentOptions?null:Ee.currentOptions.previewKeyboardNavigation)("animation",null==Ee.currentOptions?null:Ee.currentOptions.previewAnimation)("autoPlay",null==Ee.currentOptions?null:Ee.currentOptions.previewAutoPlay)("autoPlayInterval",null==Ee.currentOptions?null:Ee.currentOptions.previewAutoPlayInterval)("autoPlayPauseOnHover",null==Ee.currentOptions?null:Ee.currentOptions.previewAutoPlayPauseOnHover)("infinityMove",null==Ee.currentOptions?null:Ee.currentOptions.previewInfinityMove)("zoom",null==Ee.currentOptions?null:Ee.currentOptions.previewZoom)("zoomStep",null==Ee.currentOptions?null:Ee.currentOptions.previewZoomStep)("zoomMax",null==Ee.currentOptions?null:Ee.currentOptions.previewZoomMax)("zoomMin",null==Ee.currentOptions?null:Ee.currentOptions.previewZoomMin)("zoomInIcon",null==Ee.currentOptions?null:Ee.currentOptions.zoomInIcon)("zoomOutIcon",null==Ee.currentOptions?null:Ee.currentOptions.zoomOutIcon)("actions",null==Ee.currentOptions?null:Ee.currentOptions.actions)("rotate",null==Ee.currentOptions?null:Ee.currentOptions.previewRotate)("rotateLeftIcon",null==Ee.currentOptions?null:Ee.currentOptions.rotateLeftIcon)("rotateRightIcon",null==Ee.currentOptions?null:Ee.currentOptions.rotateRightIcon)("download",null==Ee.currentOptions?null:Ee.currentOptions.previewDownload)("downloadIcon",null==Ee.currentOptions?null:Ee.currentOptions.downloadIcon)("bullets",null==Ee.currentOptions?null:Ee.currentOptions.previewBullets))},dependencies:[Ie,qe,ve,c.bT,c.YU],styles:[":host{display:inline-block}:host>*{float:left}.ngx-gallery-layout{width:100%;height:100%;display:flex;flex-direction:column}.ngx-gallery-layout.thumbnails-top ngx-gallery-image{order:2}.ngx-gallery-layout.thumbnails-top ngx-gallery-thumbnails{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-image{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-thumbnails{order:2}*{box-sizing:border-box}.ngx-gallery-icon{color:#fff;position:absolute;display:inline-block}.ngx-gallery-icon .ngx-gallery-icon-content{display:block}ngx-gallery-preview{font-size:25px}ngx-gallery-preview .ngx-gallery-icon{z-index:2000}.ngx-gallery-clickable{cursor:pointer}.ngx-gallery-icons-wrapper .ngx-gallery-icon{position:relative;margin-right:5px;margin-top:5px;font-size:20px;cursor:pointer}.ngx-gallery-icons-wrapper{float:right}\n"],encapsulation:2,changeDetection:0}),je})(),at=(()=>{class je extends n.EZ{constructor(){super(...arguments),this.overrides={pinch:{enable:!1},rotate:{enable:!1}}}}return je.\u0275fac=(()=>{let Re;return function(Ee){return(Re||(Re=i.xGo(je)))(Ee||je)}})(),je.\u0275prov=i.jDH({token:je,factory:je.\u0275fac}),je})(),Yt=(()=>{class je{}return je.\u0275fac=function(ne){return new(ne||je)},je.\u0275mod=i.$C({type:je}),je.\u0275inj=i.G2t({providers:[{provide:n.kQ,useClass:at}],imports:[[c.MD]]}),je})()},2155:(B,D,t)=>{"use strict";t.d(D,{W1:()=>Co,_f:()=>ct,Lw:()=>Te,so:()=>bs,Ll:()=>Yr,b7:()=>us,$G:()=>pa,HC:()=>Ge,yB:()=>po,I5:()=>Uo,IQ:()=>ki,tg:()=>Jr,E5:()=>Ao,_H:()=>Rr,U0:()=>ya,zH:()=>Tc,do:()=>Xa,cw:()=>Ht,Bq:()=>oe,LY:()=>ye,UN:()=>Vo,X9:()=>is,Um:()=>_n,sy:()=>zn,Ri:()=>ui,Pv:()=>wo,m_:()=>gl,QE:()=>Pr,s5:()=>$p,MI:()=>Zl,c9:()=>cd,CT:()=>Eo,t3:()=>zo,Xc:()=>Er,sb:()=>uo,px:()=>Ai,M0:()=>di,hC:()=>go,Ny:()=>tc,Pe:()=>ug,Ng:()=>Ll,tJ:()=>ph,md:()=>Tn,n8:()=>_i,$n:()=>fg,h_:()=>Qr});var i=t(53107),n=t(54460),c=t(51698),e=t(76564),f=t(63016),g=t(18447),d=t(909),y=t(49587),E=t(6340),_=t(71217),O=(t(76627),t(80850));new c.c(O.l);var R=t(35466),u=t(17509),w=t(56765),S=t(5424),M=t(41483),L=t(37610),F=t(47947),$=t(30593),j=t(66645),x=t(22867),G=t(82040),Y=t(71894),V=t(10402),X=t(27035),K=t(31866),ae=t(6218),Q=t(10936);const J=(k,ue)=>({$implicit:k,opened:ue});function z(k,ue){}function q(k,ue){if(1&k&&(i.j41(0,"button",3),i.EFF(1),i.DNE(2,z,0,0,"ng-template",4),i.k0s()),2&k){const A=ue.$implicit;i.Y8G("ngbPanelToggle",A),i.R7$(),i.SpI(" ",A.title,""),i.R7$(),i.Y8G("ngTemplateOutlet",null==A.titleTpl?null:A.titleTpl.templateRef)}}function ee(k,ue){}function de(k,ue){}function Ce(k,ue){if(1&k){const A=i.RV6();i.j41(0,"div",8),i.bIt("ngbRef",function(be){i.eBV(A);const Fe=i.XpG().$implicit;return i.Njj(Fe.panelDiv=be)}),i.j41(1,"div",9),i.DNE(2,de,0,0,"ng-template",4),i.k0s()()}if(2&k){const A=i.XpG().$implicit;i.FS9("id",A.id),i.BMQ("aria-labelledby",A.id+"-header"),i.R7$(2),i.Y8G("ngTemplateOutlet",(null==A.contentTpl?null:A.contentTpl.templateRef)||null)}}function Z(k,ue){if(1&k&&(i.j41(0,"div")(1,"div",5),i.DNE(2,ee,0,0,"ng-template",6),i.k0s(),i.DNE(3,Ce,3,3,"div",7),i.k0s()),2&k){const A=ue.$implicit,W=i.XpG(),be=i.sdS(1);i.HbH("card "+(A.cardClass||"")),i.R7$(),i.HbH("card-header "+(A.type?"bg-"+A.type:W.type?"bg-"+W.type:"")),i.Mz_("id","",A.id,"-header"),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.headerTpl?null:A.headerTpl.templateRef)||be)("ngTemplateOutletContext",i.l_i(9,J,A,A.isOpen)),i.R7$(),i.Y8G("ngIf",!W.destroyOnHide||A.isOpen||A.transitionRunning)}}const le=["*"],Ne=["ngbDatepickerDayView",""],qe=["month"],we=["year"];function Be(k,ue){if(1&k&&(i.j41(0,"option",5),i.EFF(1),i.k0s()),2&k){const A=ue.$implicit,W=i.XpG();i.Y8G("value",A),i.BMQ("aria-label",W.i18n.getMonthFullName(A,null==W.date?null:W.date.year)),i.R7$(),i.JRh(W.i18n.getMonthShortName(A,null==W.date?null:W.date.year))}}function Ve(k,ue){if(1&k&&(i.j41(0,"option",5),i.EFF(1),i.k0s()),2&k){const A=ue.$implicit,W=i.XpG();i.Y8G("value",A),i.R7$(),i.JRh(W.i18n.getYearNumerals(A))}}function et(k,ue){if(1&k){const A=i.RV6();i.j41(0,"ngb-datepicker-navigation-select",7),i.bIt("select",function(be){i.eBV(A);const Fe=i.XpG();return i.Njj(Fe.select.emit(be))}),i.k0s()}if(2&k){const A=i.XpG();i.Y8G("date",A.date)("disabled",A.disabled)("months",A.selectBoxes.months)("years",A.selectBoxes.years)}}function yt(k,ue){1&k&&i.nrm(0,"div",0)}function it(k,ue){1&k&&i.nrm(0,"div",0)}function at(k,ue){if(1&k&&(i.DNE(0,yt,1,0,"div",9),i.j41(1,"div",10),i.EFF(2),i.k0s(),i.DNE(3,it,1,0,"div",9)),2&k){const A=ue.$implicit,W=ue.index,be=i.XpG(2);i.Y8G("ngIf",W>0),i.R7$(2),i.SpI(" ",be.i18n.getMonthLabel(A.firstDate)," "),i.R7$(),i.Y8G("ngIf",W!==be.months.length-1)}}function Yt(k,ue){if(1&k&&i.DNE(0,at,4,3,"ng-template",8),2&k){const A=i.XpG();i.Y8G("ngForOf",A.months)}}const nn=["defaultDayTemplate"],je=["content"];function Re(k,ue){if(1&k&&i.nrm(0,"div",7),2&k){const W=ue.currentMonth,be=ue.selected,Fe=ue.disabled,Vt=ue.focused;i.Y8G("date",ue.date)("currentMonth",W)("selected",be)("disabled",Fe)("focused",Vt)}}function ne(k,ue){if(1&k&&(i.j41(0,"div",12),i.EFF(1),i.k0s()),2&k){const A=i.XpG().$implicit,W=i.XpG(2);i.R7$(),i.SpI(" ",W.i18n.getMonthLabel(A.firstDate)," ")}}function Ee(k,ue){if(1&k&&(i.j41(0,"div",9),i.DNE(1,ne,2,1,"div",10),i.nrm(2,"ngb-datepicker-month",11),i.k0s()),2&k){const A=ue.$implicit,W=i.XpG(2);i.R7$(),i.Y8G("ngIf","none"===W.navigation||W.displayMonths>1&&"select"===W.navigation),i.R7$(),i.Y8G("month",A.firstDate)}}function ke(k,ue){if(1&k&&i.DNE(0,Ee,3,2,"div",8),2&k){const A=i.XpG();i.Y8G("ngForOf",A.model.months)}}function dt(k,ue){if(1&k){const A=i.RV6();i.j41(0,"ngb-datepicker-navigation",13),i.bIt("navigate",function(be){i.eBV(A);const Fe=i.XpG();return i.Njj(Fe.onNavigateEvent(be))})("select",function(be){i.eBV(A);const Fe=i.XpG();return i.Njj(Fe.onNavigateDateSelect(be))}),i.k0s()}if(2&k){const A=i.XpG();i.Y8G("date",A.model.firstDate)("months",A.model.months)("disabled",A.model.disabled)("showSelect","select"===A.model.navigation)("prevDisabled",A.model.prevDisabled)("nextDisabled",A.model.nextDisabled)("selectBoxes",A.model.selectBoxes)}}function Bt(k,ue){}function wt(k,ue){}function tn(k,ue){if(1&k&&(i.j41(0,"div",5),i.EFF(1),i.k0s()),2&k){const A=i.XpG(2);i.R7$(),i.JRh(A.i18n.getWeekLabel())}}function It(k,ue){if(1&k&&(i.j41(0,"div",6),i.EFF(1),i.k0s()),2&k){const A=ue.$implicit;i.R7$(),i.JRh(A)}}function $t(k,ue){if(1&k&&(i.j41(0,"div",2),i.DNE(1,tn,2,1,"div",3)(2,It,2,1,"div",4),i.k0s()),2&k){const A=i.XpG();i.R7$(),i.Y8G("ngIf",A.datepicker.showWeekNumbers),i.R7$(),i.Y8G("ngForOf",A.viewModel.weekdays)}}function Zt(k,ue){if(1&k&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&k){const A=i.XpG(2).$implicit,W=i.XpG();i.R7$(),i.JRh(W.i18n.getWeekNumerals(A.number))}}function mn(k,ue){}function Rn(k,ue){if(1&k&&i.DNE(0,mn,0,0,"ng-template",14),2&k){const A=i.XpG().$implicit,W=i.XpG(3);i.Y8G("ngTemplateOutlet",W.datepicker.dayTemplate)("ngTemplateOutletContext",A.context)}}function os(k,ue){if(1&k){const A=i.RV6();i.j41(0,"div",12),i.bIt("click",function(be){const Fe=i.eBV(A).$implicit;return i.XpG(3).doSelect(Fe),i.Njj(be.preventDefault())}),i.DNE(1,Rn,1,2,"ng-template",13),i.k0s()}if(2&k){const A=ue.$implicit;i.AVh("disabled",A.context.disabled)("hidden",A.hidden)("ngb-dp-today",A.context.today),i.Y8G("tabindex",A.tabindex),i.BMQ("aria-label",A.ariaLabel),i.R7$(),i.Y8G("ngIf",!A.hidden)}}function Mn(k,ue){if(1&k&&(i.j41(0,"div",8),i.DNE(1,Zt,2,1,"div",9)(2,os,2,9,"div",10),i.k0s()),2&k){const A=i.XpG().$implicit,W=i.XpG();i.R7$(),i.Y8G("ngIf",W.datepicker.showWeekNumbers),i.R7$(),i.Y8G("ngForOf",A.days)}}function xs(k,ue){1&k&&i.DNE(0,Mn,3,2,"div",7),2&k&&i.Y8G("ngIf",!ue.$implicit.collapsed)}const rn=["dialog"],Dn=["ngbNavOutlet",""],Lt=k=>({$implicit:k});function zt(k,ue){}function gt(k,ue){if(1&k&&(i.j41(0,"div",2),i.DNE(1,zt,0,0,"ng-template",3),i.k0s()),2&k){const A=i.XpG().$implicit,W=i.XpG();i.Y8G("item",A)("nav",W.nav)("role",W.paneRole),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.contentTpl?null:A.contentTpl.templateRef)||null)("ngTemplateOutletContext",i.eq3(5,Lt,A.active||W.isPanelTransitioning(A)))}}function Ke(k,ue){if(1&k&&i.DNE(0,gt,2,7,"div",1),2&k){const A=ue.$implicit,W=i.XpG();i.Y8G("ngIf",A.isPanelInDom()||W.isPanelTransitioning(A))}}const Ze=(k,ue,A)=>({$implicit:k,pages:ue,disabled:A}),He=k=>({disabled:!0,currentPage:k}),We=(k,ue,A)=>({disabled:k,$implicit:ue,currentPage:A}),Ct=(k,ue)=>({disabled:k,currentPage:ue}),Qe=k=>({disabled:k});function Ot(k,ue){1&k&&(i.j41(0,"span",13),i.pXf(1,7),i.k0s())}function Dt(k,ue){1&k&&(i.j41(0,"span",13),i.pXf(1,8),i.k0s())}function Wt(k,ue){1&k&&(i.j41(0,"span",13),i.pXf(1,9),i.k0s())}function bn(k,ue){1&k&&(i.j41(0,"span",13),i.pXf(1,10),i.k0s())}function Pn(k,ue){1&k&&i.EFF(0,"...")}function ps(k,ue){1&k&&(i.j41(0,"span",15),i.EFF(1,"(current)"),i.k0s())}function ks(k,ue){if(1&k&&(i.EFF(0),i.DNE(1,ps,2,0,"span",14)),2&k){const A=ue.$implicit,W=ue.currentPage;i.SpI(" ",A," "),i.R7$(),i.Y8G("ngIf",A===W)}}function Fs(k,ue){}function vt(k,ue){if(1&k&&(i.j41(0,"a",20),i.DNE(1,Fs,0,0,"ng-template",12),i.k0s()),2&k){const A=i.XpG(2).$implicit,W=i.XpG(),be=i.sdS(9);i.R7$(),i.Y8G("ngTemplateOutlet",(null==W.tplEllipsis?null:W.tplEllipsis.templateRef)||be)("ngTemplateOutletContext",i.eq3(2,He,A))}}function ht(k,ue){}function lt(k,ue){if(1&k){const A=i.RV6();i.j41(0,"a",21),i.bIt("click",function(be){i.eBV(A);const Fe=i.XpG().$implicit;return i.XpG(2).selectPage(Fe),i.Njj(be.preventDefault())}),i.DNE(1,ht,0,0,"ng-template",12),i.k0s()}if(2&k){const A=i.XpG().$implicit,W=i.XpG(),be=W.$implicit,Fe=W.disabled,Vt=i.XpG(),an=i.sdS(11);i.BMQ("tabindex",Fe?"-1":null)("aria-disabled",Fe?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==Vt.tplNumber?null:Vt.tplNumber.templateRef)||an)("ngTemplateOutletContext",i.sMw(4,We,Fe,A,be))}}function jt(k,ue){if(1&k&&(i.j41(0,"li",17),i.DNE(1,vt,2,4,"a",18)(2,lt,2,8,"a",19),i.k0s()),2&k){const A=ue.$implicit,W=i.XpG(),be=W.$implicit,Fe=W.disabled,Vt=i.XpG();i.AVh("active",A===be)("disabled",Vt.isEllipsis(A)||Fe),i.BMQ("aria-current",A===be?"page":null),i.R7$(),i.Y8G("ngIf",Vt.isEllipsis(A)),i.R7$(),i.Y8G("ngIf",!Vt.isEllipsis(A))}}function Ln(k,ue){1&k&&i.DNE(0,jt,3,7,"li",16),2&k&&i.Y8G("ngForOf",ue.pages)}function ls(k,ue){}function As(k,ue){if(1&k){const A=i.RV6();i.j41(0,"li",17)(1,"a",22),i.bIt("click",function(be){return i.eBV(A),i.XpG().selectPage(1),i.Njj(be.preventDefault())}),i.DNE(2,ls,0,0,"ng-template",12),i.k0s()()}if(2&k){const A=i.XpG(),W=i.sdS(1);i.AVh("disabled",A.previousDisabled()),i.R7$(),i.BMQ("tabindex",A.previousDisabled()?"-1":null)("aria-disabled",A.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.tplFirst?null:A.tplFirst.templateRef)||W)("ngTemplateOutletContext",i.l_i(6,Ct,A.previousDisabled(),A.page))}}function In(k,ue){}function yn(k,ue){if(1&k){const A=i.RV6();i.j41(0,"li",17)(1,"a",23),i.bIt("click",function(be){i.eBV(A);const Fe=i.XpG();return Fe.selectPage(Fe.page-1),i.Njj(be.preventDefault())}),i.DNE(2,In,0,0,"ng-template",12),i.k0s()()}if(2&k){const A=i.XpG(),W=i.sdS(3);i.AVh("disabled",A.previousDisabled()),i.R7$(),i.BMQ("tabindex",A.previousDisabled()?"-1":null)("aria-disabled",A.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.tplPrevious?null:A.tplPrevious.templateRef)||W)("ngTemplateOutletContext",i.eq3(6,Qe,A.previousDisabled()))}}function hn(k,ue){}function Un(k,ue){}function ns(k,ue){if(1&k){const A=i.RV6();i.j41(0,"li",17)(1,"a",24),i.bIt("click",function(be){i.eBV(A);const Fe=i.XpG();return Fe.selectPage(Fe.page+1),i.Njj(be.preventDefault())}),i.DNE(2,Un,0,0,"ng-template",12),i.k0s()()}if(2&k){const A=i.XpG(),W=i.sdS(5);i.AVh("disabled",A.nextDisabled()),i.R7$(),i.BMQ("tabindex",A.nextDisabled()?"-1":null)("aria-disabled",A.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.tplNext?null:A.tplNext.templateRef)||W)("ngTemplateOutletContext",i.l_i(6,Ct,A.nextDisabled(),A.page))}}function fs(k,ue){}function Zn(k,ue){if(1&k){const A=i.RV6();i.j41(0,"li",17)(1,"a",25),i.bIt("click",function(be){i.eBV(A);const Fe=i.XpG();return Fe.selectPage(Fe.pageCount),i.Njj(be.preventDefault())}),i.DNE(2,fs,0,0,"ng-template",12),i.k0s()()}if(2&k){const A=i.XpG(),W=i.sdS(7);i.AVh("disabled",A.nextDisabled()),i.R7$(),i.BMQ("tabindex",A.nextDisabled()?"-1":null)("aria-disabled",A.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.tplLast?null:A.tplLast.templateRef)||W)("ngTemplateOutletContext",i.l_i(6,Ct,A.nextDisabled(),A.page))}}function Et(k,ue){1&k&&i.EFF(0),2&k&&i.JRh(100===ue.fill?"\u2605":"\u2606")}function ut(k,ue){}function mt(k,ue){if(1&k){const A=i.RV6();i.j41(0,"span",2),i.EFF(1),i.k0s(),i.j41(2,"span",3),i.bIt("mouseenter",function(){const be=i.eBV(A).index,Fe=i.XpG();return i.Njj(Fe.enter(be+1))})("click",function(){const be=i.eBV(A).index,Fe=i.XpG();return i.Njj(Fe.handleClick(be+1))}),i.DNE(3,ut,0,0,"ng-template",4),i.k0s()}if(2&k){const A=ue.index,W=i.XpG(),be=i.sdS(1);i.R7$(),i.SpI("(",A<W.nextRate?"*":" ",")"),i.R7$(),i.xc7("cursor",W.isInteractive()?"pointer":"default"),i.R7$(),i.Y8G("ngTemplateOutlet",W.starTemplate||W.starTemplateFromContent||be)("ngTemplateOutletContext",W.contexts[A])}}function xt(k,ue){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const be=i.XpG();return i.Njj(be.changeHour(be.hourStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,1),i.k0s()()}if(2&k){const A=i.XpG();i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function sn(k,ue){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const be=i.XpG();return i.Njj(be.changeHour(-be.hourStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,2),i.k0s()()}if(2&k){const A=i.XpG();i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function jn(k,ue){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const be=i.XpG();return i.Njj(be.changeMinute(be.minuteStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,3),i.k0s()()}if(2&k){const A=i.XpG();i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function An(k,ue){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const be=i.XpG();return i.Njj(be.changeMinute(-be.minuteStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,4),i.k0s()()}if(2&k){const A=i.XpG();i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function ds(k,ue){1&k&&(i.j41(0,"div",14),i.EFF(1,":"),i.k0s())}function Ks(k,ue){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const be=i.XpG(2);return i.Njj(be.changeSecond(be.secondStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,5),i.k0s()()}if(2&k){const A=i.XpG(2);i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function Cs(k,ue){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const be=i.XpG(2);return i.Njj(be.changeSecond(-be.secondStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,6),i.k0s()()}if(2&k){const A=i.XpG(2);i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function yi(k,ue){if(1&k){const A=i.RV6();i.j41(0,"div",24),i.DNE(1,Ks,4,7,"button",12),i.j41(2,"input",25),i.bIt("change",function(be){i.eBV(A);const Fe=i.XpG();return i.Njj(Fe.updateSecond(be.target.value))})("blur",function(){i.eBV(A);const be=i.XpG();return i.Njj(be.handleBlur())})("input",function(be){i.eBV(A);const Fe=i.XpG();return i.Njj(Fe.formatInput(be.target))})("keydown.ArrowUp",function(be){i.eBV(A);const Fe=i.XpG();return Fe.changeSecond(Fe.secondStep),i.Njj(be.preventDefault())})("keydown.ArrowDown",function(be){i.eBV(A);const Fe=i.XpG();return Fe.changeSecond(-Fe.secondStep),i.Njj(be.preventDefault())}),i.k0s(),i.DNE(3,Cs,4,7,"button",12),i.k0s()}if(2&k){const A=i.XpG();i.R7$(),i.Y8G("ngIf",A.spinners),i.R7$(),i.AVh("form-control-sm",A.isSmallSize)("form-control-lg",A.isLargeSize),i.Y8G("value",A.formatMinSec(null==A.model?null:A.model.second))("readOnly",A.readonlyInputs)("disabled",A.disabled),i.R7$(),i.Y8G("ngIf",A.spinners)}}function Yi(k,ue){1&k&&i.nrm(0,"div",14)}function Mi(k,ue){if(1&k&&(i.qex(0),i.pXf(1,7),i.bVm()),2&k){const A=i.XpG(2);i.R7$(),i.uP7(A.i18n.getAfternoonPeriod()),i.nnv(1)}}function Ss(k,ue){if(1&k&&i.pXf(0,8),2&k){const A=i.XpG(2);i.uP7(A.i18n.getMorningPeriod()),i.nnv(0)}}function Hs(k,ue){if(1&k){const A=i.RV6();i.j41(0,"div",26)(1,"button",27),i.bIt("click",function(){i.eBV(A);const be=i.XpG();return i.Njj(be.toggleMeridian())}),i.DNE(2,Mi,2,1,"ng-container",28)(3,Ss,1,1,"ng-template",null,0,i.C5r),i.k0s()()}if(2&k){const A=i.sdS(4),W=i.XpG();i.R7$(),i.AVh("btn-sm",W.isSmallSize)("btn-lg",W.isLargeSize)("disabled",W.disabled),i.Y8G("disabled",W.disabled),i.R7$(),i.Y8G("ngIf",W.model&&W.model.hour>=12)("ngIfElse",A)}}function Ji(k,ue){if(1&k&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&k){const A=i.XpG().$implicit,W=i.XpG();i.HbH(W.highlightClass),i.R7$(),i.JRh(A)}}function Hr(k,ue){if(1&k&&i.EFF(0),2&k){const A=i.XpG().$implicit;i.JRh(A)}}function cr(k,ue){if(1&k&&i.DNE(0,Ji,2,3,"span",2)(1,Hr,1,1,"ng-template",null,0,i.C5r),2&k){const A=ue.odd,W=i.sdS(2);i.Y8G("ngIf",A)("ngIfElse",W)}}const gs=(k,ue,A)=>({result:k,term:ue,formatter:A});function Zs(k,ue){if(1&k&&i.nrm(0,"ngb-highlight",2),2&k){const W=ue.term;i.Y8G("result",(0,ue.formatter)(ue.result))("term",W)}}function yr(k,ue){}function Ho(k,ue){if(1&k){const A=i.RV6();i.j41(0,"button",3),i.bIt("mouseenter",function(){const be=i.eBV(A).index,Fe=i.XpG();return i.Njj(Fe.markActive(be))})("click",function(){const be=i.eBV(A).$implicit,Fe=i.XpG();return i.Njj(Fe.select(be))}),i.DNE(1,yr,0,0,"ng-template",4),i.k0s()}if(2&k){const A=ue.$implicit,W=ue.index,be=i.XpG(),Fe=i.sdS(1);i.AVh("active",W===be.activeIdx),i.Y8G("id",be.id+"-"+W),i.R7$(),i.Y8G("ngTemplateOutlet",be.resultTemplate||Fe)("ngTemplateOutletContext",i.sMw(5,gs,A,be.term,be.formatter))}}function Bi(k){return parseInt(`${k}`,10)}function Pt(k){return null!=k?`${k}`:""}function cn(k,ue,A=0){return Math.max(Math.min(k,ue),A)}function Kt(k){return"string"==typeof k}function Ut(k){return!isNaN(Bi(k))}function Cn(k){return"number"==typeof k&&isFinite(k)&&Math.floor(k)===k}function kn(k){return null!=k}function ai(k){return Ut(k)?`0${k}`.slice(-2):""}function ir(k,ue){return k&&k.className&&k.className.split&&k.className.split(/\s+/).indexOf(ue)>=0}function xi(k){return(k||document.body).getBoundingClientRect()}function Zr(k){return k.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.closest=function(k){let ue=this;if(!document.documentElement.contains(ue))return null;do{if(ue.matches(k))return ue;ue=ue.parentElement||ue.parentNode}while(null!==ue&&1===ue.nodeType);return null});const Io={animation:!0,transitionTimerDelayMs:5},lo=()=>{},{transitionTimerDelayMs:jr}=Io,co=new Map,Ri=(k,ue,A,W)=>{let be=W.context||{};const Fe=co.get(ue);if(Fe)switch(W.runningTransition){case"continue":return e.w;case"stop":k.run(()=>Fe.transition$.complete()),be=Object.assign(Fe.context,be),co.delete(ue)}const Vt=A(ue,W.animation,be)||lo;if(!W.animation||"none"===window.getComputedStyle(ue).transitionProperty)return k.run(()=>Vt()),(0,f.of)(void 0).pipe(function ao(k){return ue=>new c.c(A=>ue.subscribe({next:Vt=>k.run(()=>A.next(Vt)),error:Vt=>k.run(()=>A.error(Vt)),complete:()=>k.run(()=>A.complete())}))}(k));const an=new g.B,vn=new g.B,xn=an.pipe(function v(...k){return ue=>(0,w.x)(ue,(0,f.of)(...k))}(!0));co.set(ue,{transition$:an,complete:()=>{vn.next(),vn.complete()},context:be});const es=function wr(k){const{transitionDelay:ue,transitionDuration:A}=window.getComputedStyle(k);return 1e3*(parseFloat(ue)+parseFloat(A))}(ue);return k.runOutsideAngular(()=>{const Ls=(0,d.R)(ue,"transitionend").pipe((0,S.Q)(xn),(0,M.p)(({target:js})=>js===ue)),hs=(0,y.O)(es+jr).pipe((0,S.Q)(xn));(0,E.O)(hs,Ls,vn).pipe((0,S.Q)(xn)).subscribe(()=>{co.delete(ue),k.run(()=>{Vt(),an.next(),an.complete()})})}),an.asObservable()},fr=(k,ue,A)=>{let{direction:W,maxHeight:be}=A;const{classList:Fe}=k;function Vt(){Fe.add("collapse"),"show"===W?Fe.add("show"):Fe.remove("show")}if(ue)return be||(be=function rr(k){if(typeof navigator>"u")return"0px";const{classList:ue}=k,A=ue.contains("show");A||ue.add("show"),k.style.height="";const W=k.getBoundingClientRect().height+"px";return A||ue.remove("show"),W}(k),A.maxHeight=be,k.style.height="show"!==W?be:"0px",Fe.remove("collapse"),Fe.remove("collapsing"),Fe.remove("show"),xi(k),Fe.add("collapsing")),k.style.height="show"===W?be:"0px",()=>{Vt(),Fe.remove("collapsing"),k.style.height=""};Vt()};let Ps=(()=>{class k{constructor(){this.animation=Io.animation}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),sa=(()=>{class k{constructor(A){this._ngbConfig=A,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(A){this._animation=A}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(Ps))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),So=0,Er=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPanelHeader",""]]}),k})(),uo=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPanelTitle",""]]}),k})(),zo=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPanelContent",""]]}),k})(),Eo=(()=>{class k{constructor(){this.disabled=!1,this.id="ngb-panel-"+So++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new i.bkB,this.hidden=new i.bkB}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275dir=i.FsC({type:k,selectors:[["ngb-panel"]],contentQueries:function(A,W,be){if(1&A&&(i.wni(be,uo,4),i.wni(be,Er,4),i.wni(be,zo,4)),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.titleTpls=Fe),i.mGM(Fe=i.lsd())&&(W.headerTpls=Fe),i.mGM(Fe=i.lsd())&&(W.contentTpls=Fe)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),k})(),zr=(()=>{class k{constructor(A){this._El=A,this.ngbRef=new i.bkB}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),k})(),Co=(()=>{class k{constructor(A,W,be){this._ngZone=W,this._changeDetector=be,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.animation=A.animation,this.type=A.type,this.closeOtherPanels=A.closeOthers}isExpanded(A){return this.activeIds.indexOf(A)>-1}expand(A){this._changeOpenState(this._findPanelById(A),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(A=>this._changeOpenState(A,!0))}collapse(A){this._changeOpenState(this._findPanelById(A),!1)}collapseAll(){this.panels.forEach(A=>{this._changeOpenState(A,!1)})}toggle(A){const W=this._findPanelById(A);W&&this._changeOpenState(W,!W.isOpen)}ngAfterContentChecked(){Kt(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(A=>{A.isOpen=!A.disabled&&this.activeIds.indexOf(A.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,L.s)(1)).subscribe(()=>{this.panels.forEach(A=>{const W=A.panelDiv;W?A.initClassDone||(A.initClassDone=!0,Ri(this._ngZone,W,fr,{animation:!1,runningTransition:"continue",context:{direction:A.isOpen?"show":"hide"}})):A.initClassDone=!1})})}_changeOpenState(A,W){if(null!=A&&!A.disabled&&A.isOpen!==W){let be=!1;this.panelChange.emit({panelId:A.id,nextState:W,preventDefault:()=>{be=!0}}),be||(A.isOpen=W,A.transitionRunning=!0,W&&this.closeOtherPanels&&this._closeOthers(A.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(A,W=!0){this.panels.forEach(be=>{be.id!==A&&be.isOpen&&(be.isOpen=!1,be.transitionRunning=W)})}_findPanelById(A){return this.panels.find(W=>W.id===A)||null}_updateActiveIds(){this.activeIds=this.panels.filter(A=>A.isOpen&&!A.disabled).map(A=>A.id)}_runTransitions(A){this._changeDetector.detectChanges(),this.panels.forEach(W=>{W.transitionRunning&&Ri(this._ngZone,W.panelDiv,fr,{animation:A,runningTransition:"stop",context:{direction:W.isOpen?"show":"hide"}}).subscribe(()=>{W.transitionRunning=!1;const{id:Fe}=W;W.isOpen?(W.shown.emit(),this.shown.emit(Fe)):(W.hidden.emit(),this.hidden.emit(Fe))})})}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(sa),i.rXU(i.SKi),i.rXU(i.gRc))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-accordion"]],contentQueries:function(A,W,be){if(1&A&&i.wni(be,Eo,4),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.panels=Fe)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(A,W){2&A&&i.BMQ("aria-multiselectable",!W.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:[i.Mj6.None,"closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["t",""],["ngbPanelHeader",""],["ngFor","",3,"ngForOf"],[1,"btn","btn-link",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"ngbRef","id"],[1,"card-body"]],template:function(A,W){1&A&&i.DNE(0,q,3,3,"ng-template",1,0,i.C5r)(2,Z,4,12,"ng-template",2),2&A&&(i.R7$(2),i.Y8G("ngForOf",W.panels))},dependencies:()=>[Er,st,n.T3,n.Sq,n.bT,zr],encapsulation:2}),k})(),st=(()=>{class k{constructor(A,W){this.accordion=A,this.panel=W}set ngbPanelToggle(A){A&&(this.panel=A)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Co),i.rXU(Eo,9))},k.\u0275dir=i.FsC({type:k,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(A,W){1&A&&i.bIt("click",function(){return W.accordion.toggle(W.panel.id)}),2&A&&(i.Mr5("disabled",W.panel.disabled),i.BMQ("aria-expanded",W.panel.isOpen)("aria-controls",W.panel.id),i.AVh("collapsed",!W.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),k})(),ct=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[n.MD]]}),k})(),Jn=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[n.MD]]}),k})(),bs=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(A,W){2&A&&i.AVh("btn",!0)("active",W.active)("disabled",W.disabled)("focus",W.focused)}}),k})(),us=(()=>{class k{constructor(A,W){this._label=A,this._cd=W,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=be=>{},this.onTouched=()=>{}}set focused(A){this._label.focused=A,A||this.onTouched()}onInputChange(A){const W=A.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(W),this.onTouched(),this.writeValue(W)}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}setDisabledState(A){this.disabled=A,this._label.disabled=A}writeValue(A){this.checked=A===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(bs),i.rXU(i.gRc))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(A,W){1&A&&i.bIt("change",function(Fe){return W.onInputChange(Fe)})("focus",function(){return W.focused=!0})("blur",function(){return W.focused=!1}),2&A&&i.Mr5("checked",W.checked)("disabled",W.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[i.Jv_([{provide:Q.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0}])]}),k})(),Is=0,di=(()=>{class k{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+Is++,this.onChange=A=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(A){this.setDisabledState(A)}onRadioChange(A){this.writeValue(A.value),this.onChange(A.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(A){this._radios.add(A)}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}setDisabledState(A){this._disabled=A,this._updateRadiosDisabled()}unregister(A){this._radios.delete(A)}writeValue(A){this._value=A,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(A=>A.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(A=>A.updateDisabled())}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[i.Jv_([{provide:Q.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0}])]}),k})(),Ai=(()=>{class k{constructor(A,W,be,Fe,Vt){this._group=A,this._label=W,this._renderer=be,this._element=Fe,this._cd=Vt,this._value=null,this._group.register(this),this.updateDisabled()}set value(A){this._value=A;const W=A?A.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",W),this._group.onRadioValueUpdate()}set disabled(A){this._disabled=!1!==A,this.updateDisabled()}set focused(A){this._label&&(this._label.focused=A),A||this._group.onTouched()}get checked(){return this._checked}get disabled(){return this._group.disabled||this._disabled}get value(){return this._value}get nameAttr(){return this.name||this._group.name}ngOnDestroy(){this._group.unregister(this)}onChange(){this._group.onRadioChange(this)}updateValue(A){this.value!==A&&this._cd.markForCheck(),this._checked=this.value===A,this._label.active=this._checked}updateDisabled(){this._label.disabled=this.disabled}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(di),i.rXU(bs),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(i.gRc))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbButton","","type","radio"]],hostVars:3,hostBindings:function(A,W){1&A&&i.bIt("change",function(){return W.onChange()})("focus",function(){return W.focused=!0})("blur",function(){return W.focused=!1}),2&A&&i.Mr5("checked",W.checked)("disabled",W.disabled)("name",W.nameAttr)},inputs:{name:"name",value:"value",disabled:"disabled"}}),k})(),Yr=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({}),k})(),Xr=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[n.MD]]}),k})(),kr=(()=>{class k{constructor(A){this._ngbConfig=A}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(A){this._animation=A}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(Ps))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),pa=(()=>{class k{constructor(A,W,be){this._element=A,this._zone=be,this.collapsed=!1,this.ngbCollapseChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.animation=W.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:A}){A.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(A=this.collapsed){this.collapsed=!A,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(A,W){return Ri(this._zone,this._element.nativeElement,fr,{animation:W,runningTransition:"stop",context:{direction:A?"hide":"show"}})}_runTransitionWithEvents(A,W){this._runTransition(A,W).subscribe(()=>{A?this.hidden.emit():this.shown.emit()})}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT),i.rXU(kr),i.rXU(i.SKi))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:[i.Mj6.None,"ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[i.OA$]}),k})(),Ge=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({}),k})();class Xe{constructor(ue,A,W){this.year=Cn(ue)?ue:null,this.month=Cn(A)?A:null,this.day=Cn(W)?W:null}static from(ue){return ue instanceof Xe?ue:ue?new Xe(ue.year,ue.month,ue.day):null}equals(ue){return null!=ue&&this.year===ue.year&&this.month===ue.month&&this.day===ue.day}before(ue){return!!ue&&(this.year===ue.year?this.month===ue.month?this.day!==ue.day&&this.day<ue.day:this.month<ue.month:this.year<ue.year)}after(ue){return!!ue&&(this.year===ue.year?this.month===ue.month?this.day!==ue.day&&this.day>ue.day:this.month>ue.month:this.year>ue.year)}}function se(k,ue){return!function me(k,ue){return!k&&!ue||!!k&&!!ue&&k.equals(ue)}(k,ue)}function $e(k,ue){return!(!k&&!ue||k&&ue&&k.year===ue.year&&k.month===ue.month)}function kt(k,ue,A){return k&&ue&&k.before(ue)?ue:k&&A&&k.after(A)?A:k||null}function pn(k,ue){const{minDate:A,maxDate:W,disabled:be,markDisabled:Fe}=ue;return!(null==k||be||Fe&&Fe(k,{year:k.year,month:k.month})||A&&k.before(A)||W&&k.after(W))}function ia(k){return new Xe(k.getFullYear(),k.getMonth()+1,k.getDate())}function Fo(k){const ue=new Date(k.year,k.month-1,k.day,12);return isNaN(ue.getTime())||ue.setFullYear(k.year),ue}let bo=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:()=>function Pa(){return new Ga}(),providedIn:"root"}),k})(),Ga=(()=>{class k extends bo{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(A,W="d",be=1){let Fe=Fo(A),Vt=!0,an=Fe.getMonth();switch(W){case"y":Fe.setFullYear(Fe.getFullYear()+be);break;case"m":an+=be,Fe.setMonth(an),an%=12,an<0&&(an+=12);break;case"d":Fe.setDate(Fe.getDate()+be),Vt=!1;break;default:return A}return Vt&&Fe.getMonth()!==an&&Fe.setDate(0),ia(Fe)}getPrev(A,W="d",be=1){return this.getNext(A,W,-be)}getWeekday(A){let be=Fo(A).getDay();return 0===be?7:be}getWeekNumber(A,W){7===W&&(W=0);const Vt=Fo(A[(11-W)%7]);Vt.setDate(Vt.getDate()+4-(Vt.getDay()||7));const an=Vt.getTime();return Vt.setMonth(0),Vt.setDate(1),Math.floor(Math.round((an-Vt.getTime())/864e5)/7)+1}getToday(){return ia(new Date)}isValid(A){if(!(A&&Cn(A.year)&&Cn(A.month)&&Cn(A.day)&&0!==A.year))return!1;const W=Fo(A);return!isNaN(W.getTime())&&W.getFullYear()===A.year&&W.getMonth()+1===A.month&&W.getDate()===A.day}}return k.\u0275fac=(()=>{let ue;return function(W){return(ue||(ue=i.xGo(k)))(W||k)}})(),k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})(),Bo=(()=>{class k{getMonthLabel(A){return`${this.getMonthFullName(A.month,A.year)} ${this.getYearNumerals(A.year)}`}getDayNumerals(A){return`${A.day}`}getWeekNumerals(A){return`${A}`}getYearNumerals(A){return`${A}`}getWeekLabel(){return""}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:function(A){let W=null;return W=A?new A:function ul(k){return new Ra(k)}(i.KVO(i.xe9)),W},providedIn:"root"}),k})(),Ra=(()=>{class k extends Bo{constructor(A){super(),this._locale=A,this._monthsShort=(0,n.tL)(A,n.oV.Standalone,n.cH.Abbreviated),this._monthsFull=(0,n.tL)(A,n.oV.Standalone,n.cH.Wide)}getWeekdayLabel(A,W){const be=(0,n.XO)(this._locale,n.oV.Standalone,void 0===W?n.cH.Short:W);return be.map((Vt,an)=>be[(an+1)%7])[A-1]||""}getMonthShortName(A){return this._monthsShort[A-1]||""}getMonthFullName(A){return this._monthsFull[A-1]||""}getDayAriaLabel(A){const W=new Date(A.year,A.month-1,A.day);return(0,n.Yq)(W,"fullDate",this._locale)}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(i.xe9))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})(),fa=(()=>{class k{constructor(A,W){this._calendar=A,this._i18n=W,this._VALIDATORS={dayTemplateData:be=>{if(this._state.dayTemplateData!==be)return{dayTemplateData:be}},displayMonths:be=>{if(Cn(be=Bi(be))&&be>0&&this._state.displayMonths!==be)return{displayMonths:be}},disabled:be=>{if(this._state.disabled!==be)return{disabled:be}},firstDayOfWeek:be=>{if(Cn(be=Bi(be))&&be>=0&&this._state.firstDayOfWeek!==be)return{firstDayOfWeek:be}},focusVisible:be=>{if(this._state.focusVisible!==be&&!this._state.disabled)return{focusVisible:be}},markDisabled:be=>{if(this._state.markDisabled!==be)return{markDisabled:be}},maxDate:be=>{const Fe=this.toValidDate(be,null);if(se(this._state.maxDate,Fe))return{maxDate:Fe}},minDate:be=>{const Fe=this.toValidDate(be,null);if(se(this._state.minDate,Fe))return{minDate:Fe}},navigation:be=>{if(this._state.navigation!==be)return{navigation:be}},outsideDays:be=>{if(this._state.outsideDays!==be)return{outsideDays:be}},weekdays:be=>{const Fe=!0===be||!1===be?n.cH.Short:be,Vt=!0!==be&&!1!==be||be;if(this._state.weekdayWidth!==Fe||this._state.weekdaysVisible!==Vt)return{weekdayWidth:Fe,weekdaysVisible:Vt}}},this._model$=new g.B,this._dateSelect$=new g.B,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:n.cH.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,M.p)(A=>A.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,M.p)(A=>null!==A))}set(A){let W=Object.keys(A).map(be=>this._VALIDATORS[be](A[be])).reduce((be,Fe)=>({...be,...Fe}),{});Object.keys(W).length>0&&this._nextState(W)}focus(A){const W=this.toValidDate(A,null);null!=W&&!this._state.disabled&&se(this._state.focusDate,W)&&this._nextState({focusDate:A})}focusSelect(){pn(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(A){const W=this.toValidDate(A,this._calendar.getToday());null!=W&&!this._state.disabled&&(!this._state.firstDate||$e(this._state.firstDate,W))&&this._nextState({firstDate:W})}select(A,W={}){const be=this.toValidDate(A,null);null!=be&&!this._state.disabled&&(se(this._state.selectedDate,be)&&this._nextState({selectedDate:be}),W.emitEvent&&pn(be,this._state)&&this._dateSelect$.next(be))}toValidDate(A,W){const be=Xe.from(A);return void 0===W&&(W=this._calendar.getToday()),this._calendar.isValid(be)?be:W}getMonth(A){for(let W of this._state.months)if(A.month===W.number&&A.year===W.year)return W;throw new Error(`month ${A.month} of year ${A.year} not found`)}_nextState(A){const W=this._updateState(A);this._patchContexts(W),this._state=W,this._model$.next(this._state)}_patchContexts(A){const{months:W,displayMonths:be,selectedDate:Fe,focusDate:Vt,focusVisible:an,disabled:vn,outsideDays:xn}=A;A.months.forEach(es=>{es.weeks.forEach(Ls=>{Ls.days.forEach(hs=>{Vt&&(hs.context.focused=Vt.equals(hs.date)&&an),hs.tabindex=!vn&&Vt&&hs.date.equals(Vt)&&Vt.month===es.number?0:-1,!0===vn&&(hs.context.disabled=!0),void 0!==Fe&&(hs.context.selected=null!==Fe&&Fe.equals(hs.date)),es.number!==hs.date.month&&(hs.hidden="hidden"===xn||"collapsed"===xn||be>1&&hs.date.after(W[0].firstDate)&&hs.date.before(W[be-1].lastDate))})})})}_updateState(A){const W=Object.assign({},this._state,A);let be=W.firstDate;if(("minDate"in A||"maxDate"in A)&&(function bt(k,ue){if(ue&&k&&ue.before(k))throw new Error(`'maxDate' ${ue} should be greater than 'minDate' ${k}`)}(W.minDate,W.maxDate),W.focusDate=kt(W.focusDate,W.minDate,W.maxDate),W.firstDate=kt(W.firstDate,W.minDate,W.maxDate),be=W.focusDate),"disabled"in A&&(W.focusVisible=!1),"selectedDate"in A&&0===this._state.months.length&&(be=W.selectedDate),"focusVisible"in A||"focusDate"in A&&(W.focusDate=kt(W.focusDate,W.minDate,W.maxDate),be=W.focusDate,0!==W.months.length&&W.focusDate&&!W.focusDate.before(W.firstDate)&&!W.focusDate.after(W.lastDate)))return W;if("firstDate"in A&&(W.firstDate=kt(W.firstDate,W.minDate,W.maxDate),be=W.firstDate),be){const Vt=function Ni(k,ue,A,W,be){const{displayMonths:Fe,months:Vt}=A,an=Vt.splice(0,Vt.length);return Array.from({length:Fe},(xn,es)=>{const Ls=Object.assign(k.getNext(ue,"m",es),{day:1});if(Vt[es]=null,!be){const hs=an.findIndex(js=>js.firstDate.equals(Ls));-1!==hs&&(Vt[es]=an.splice(hs,1)[0])}return Ls}).forEach((xn,es)=>{null===Vt[es]&&(Vt[es]=function or(k,ue,A,W,be={}){const{dayTemplateData:Fe,minDate:Vt,maxDate:an,firstDayOfWeek:vn,markDisabled:xn,outsideDays:es,weekdayWidth:Ls,weekdaysVisible:hs}=A,js=k.getToday();be.firstDate=null,be.lastDate=null,be.number=ue.month,be.year=ue.year,be.weeks=be.weeks||[],be.weekdays=be.weekdays||[],ue=function Ci(k,ue,A){const W=k.getDaysPerWeek(),be=new Xe(ue.year,ue.month,1),Fe=k.getWeekday(be)%W;return k.getPrev(be,"d",(W+Fe-A)%W)}(k,ue,vn),hs||(be.weekdays.length=0);for(let wi=0;wi<k.getWeeksPerMonth();wi++){let er=be.weeks[wi];er||(er=be.weeks[wi]={number:0,days:[],collapsed:!0});const to=er.days;for(let Go=0;Go<k.getDaysPerWeek();Go++){0===wi&&hs&&(be.weekdays[Go]=W.getWeekdayLabel(k.getWeekday(ue),Ls));const _o=new Xe(ue.year,ue.month,ue.day),nu=k.getNext(_o),Yp=W.getDayAriaLabel(_o);let no=!!(Vt&&_o.before(Vt)||an&&_o.after(an));!no&&xn&&(no=xn(_o,{month:be.number,year:be.year}));let Fl=_o.equals(js),pr=Fe?Fe(_o,{month:be.number,year:be.year}):void 0;null===be.firstDate&&_o.month===be.number&&(be.firstDate=_o),_o.month===be.number&&nu.month!==be.number&&(be.lastDate=_o);let sc=to[Go];sc||(sc=to[Go]={}),sc.date=_o,sc.context=Object.assign(sc.context||{},{$implicit:_o,date:_o,data:pr,currentMonth:be.number,currentYear:be.year,disabled:no,focused:!1,selected:!1,today:Fl}),sc.tabindex=-1,sc.ariaLabel=Yp,sc.hidden=!1,ue=nu}er.number=k.getWeekNumber(to.map(Go=>Go.date),vn),er.collapsed="collapsed"===es&&to[0].date.month!==be.number&&to[to.length-1].date.month!==be.number}return be}(k,xn,A,W,an.shift()||{}))}),Vt}(this._calendar,be,W,this._i18n,"dayTemplateData"in A||"firstDayOfWeek"in A||"markDisabled"in A||"minDate"in A||"maxDate"in A||"disabled"in A||"outsideDays"in A||"weekdaysVisible"in A);W.months=Vt,W.firstDate=Vt[0].firstDate,W.lastDate=Vt[Vt.length-1].lastDate,"selectedDate"in A&&!pn(W.selectedDate,W)&&(W.selectedDate=null),"firstDate"in A&&(!W.focusDate||W.focusDate.before(W.firstDate)||W.focusDate.after(W.lastDate))&&(W.focusDate=be);const an=!this._state.firstDate||this._state.firstDate.year!==W.firstDate.year,vn=!this._state.firstDate||this._state.firstDate.month!==W.firstDate.month;"select"===W.navigation?(("minDate"in A||"maxDate"in A||0===W.selectBoxes.years.length||an)&&(W.selectBoxes.years=function ss(k,ue,A){if(!k)return[];const W=ue?Math.max(ue.year,k.year-500):k.year-10,Fe=(A?Math.min(A.year,k.year+500):k.year+10)-W+1,Vt=Array(Fe);for(let an=0;an<Fe;an++)Vt[an]=W+an;return Vt}(W.firstDate,W.minDate,W.maxDate)),("minDate"in A||"maxDate"in A||0===W.selectBoxes.months.length||an)&&(W.selectBoxes.months=function Hn(k,ue,A,W){if(!ue)return[];let be=k.getMonths(ue.year);if(A&&ue.year===A.year){const Fe=be.findIndex(Vt=>Vt===A.month);be=be.slice(Fe)}if(W&&ue.year===W.year){const Fe=be.findIndex(Vt=>Vt===W.month);be=be.slice(0,Fe+1)}return be}(this._calendar,W.firstDate,W.minDate,W.maxDate))):W.selectBoxes={years:[],months:[]},("arrows"===W.navigation||"select"===W.navigation)&&(vn||an||"minDate"in A||"maxDate"in A||"disabled"in A)&&(W.prevDisabled=W.disabled||function ji(k,ue,A){const W=Object.assign(k.getPrev(ue,"m"),{day:1});return null!=A&&(W.year===A.year&&W.month<A.month||W.year<A.year&&1===A.month)}(this._calendar,W.firstDate,W.minDate),W.nextDisabled=W.disabled||function ys(k,ue,A){const W=Object.assign(k.getNext(ue,"m"),{day:1});return null!=A&&W.after(A)}(this._calendar,W.lastDate,W.maxDate))}return W}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(bo),i.KVO(Bo))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})();var ra=function(k){return k[k.PREV=0]="PREV",k[k.NEXT=1]="NEXT",k}(ra||{});let Uo=(()=>{class k{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=n.cH.Short}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Po=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:()=>function Aa(){return new vs}(),providedIn:"root"}),k})(),vs=(()=>{class k extends Po{fromModel(A){return A&&Cn(A.year)&&Cn(A.month)&&Cn(A.day)?{year:A.year,month:A.month,day:A.day}:null}toModel(A){return A&&Cn(A.year)&&Cn(A.month)&&Cn(A.day)?{year:A.year,month:A.month,day:A.day}:null}}return k.\u0275fac=(()=>{let ue;return function(W){return(ue||(ue=i.xGo(k)))(W||k)}})(),k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})(),Wi=(()=>{class k{constructor(A){this.i18n=A}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Bo))},k.\u0275cmp=i.VBU({type:k,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(A,W){2&A&&i.AVh("bg-primary",W.selected)("text-white",W.selected)("text-muted",W.isMuted())("outside",W.isMuted())("active",W.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:Ne,decls:1,vars:1,template:function(A,W){1&A&&i.EFF(0),2&A&&i.JRh(W.i18n.getDayNumerals(W.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),k})(),Qi=(()=>{class k{constructor(A,W){this.i18n=A,this._renderer=W,this.select=new i.bkB,this._month=-1,this._year=-1}changeMonth(A){this.select.emit(new Xe(this.date.year,Bi(A),1))}changeYear(A){this.select.emit(new Xe(Bi(A),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Bo),i.rXU(i.sFG))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(A,W){if(1&A&&(i.GBs(qe,7,i.aKT),i.GBs(we,7,i.aKT)),2&A){let be;i.mGM(be=i.lsd())&&(W.monthSelect=be.first),i.mGM(be=i.lsd())&&(W.yearSelect=be.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:()=>{let ue,A,W,be;return ue=$localize`:@@ngb.datepicker.select-month:Select month`,A=$localize`:@@ngb.datepicker.select-month:Select month`,W=$localize`:@@ngb.datepicker.select-year:Select year`,be=$localize`:@@ngb.datepicker.select-year:Select year`,[["month",""],["year",""],["aria-label",ue,"title",A,1,"custom-select",3,"change","disabled"],[3,"value",4,"ngFor","ngForOf"],["aria-label",W,"title",be,1,"custom-select",3,"change","disabled"],[3,"value"]]},template:function(A,W){if(1&A){const be=i.RV6();i.j41(0,"select",2,0),i.bIt("change",function(Vt){return i.eBV(be),i.Njj(W.changeMonth(Vt.target.value))}),i.DNE(2,Be,2,3,"option",3),i.k0s(),i.j41(3,"select",4,1),i.bIt("change",function(Vt){return i.eBV(be),i.Njj(W.changeYear(Vt.target.value))}),i.DNE(5,Ve,2,2,"option",3),i.k0s()}2&A&&(i.Y8G("disabled",W.disabled),i.R7$(2),i.Y8G("ngForOf",W.months),i.R7$(),i.Y8G("disabled",W.disabled),i.R7$(2),i.Y8G("ngForOf",W.years))},dependencies:[n.Sq,Q.xH,Q.y7],styles:["ngb-datepicker-navigation-select>.custom-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),k})(),jo=(()=>{class k{constructor(A){this.i18n=A,this.navigation=ra,this.months=[],this.navigate=new i.bkB,this.select=new i.bkB}onClickPrev(A){A.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(A){A.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Bo))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:()=>{let ue,A,W,be;return ue=$localize`:@@ngb.datepicker.previous-month:Previous month`,A=$localize`:@@ngb.datepicker.previous-month:Previous month`,W=$localize`:@@ngb.datepicker.next-month:Next month`,be=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",ue,"title",A,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",W,"title",be,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-select",3,"select","date","disabled","months","years"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(A,W){1&A&&(i.j41(0,"div",0)(1,"button",1),i.bIt("click",function(Fe){return W.onClickPrev(Fe)}),i.nrm(2,"span",2),i.k0s()(),i.DNE(3,et,1,4,"ngb-datepicker-navigation-select",3)(4,Yt,1,1,null,4),i.j41(5,"div",5)(6,"button",6),i.bIt("click",function(Fe){return W.onClickNext(Fe)}),i.nrm(7,"span",2),i.k0s()()),2&A&&(i.R7$(),i.Y8G("disabled",W.prevDisabled),i.R7$(2),i.Y8G("ngIf",W.showSelect),i.R7$(),i.Y8G("ngIf",!W.showSelect),i.R7$(2),i.Y8G("disabled",W.nextDisabled))},dependencies:[Qi,n.bT,n.Sq],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),k})();var Ts=function(k){return k[k.Tab=9]="Tab",k[k.Enter=13]="Enter",k[k.Escape=27]="Escape",k[k.Space=32]="Space",k[k.PageUp=33]="PageUp",k[k.PageDown=34]="PageDown",k[k.End=35]="End",k[k.Home=36]="Home",k[k.ArrowLeft=37]="ArrowLeft",k[k.ArrowUp=38]="ArrowUp",k[k.ArrowRight=39]="ArrowRight",k[k.ArrowDown=40]="ArrowDown",k}(Ts||{});let $a=(()=>{class k{processKey(A,W){const{state:be,calendar:Fe}=W;switch(A.which){case Ts.PageUp:W.focusDate(Fe.getPrev(be.focusedDate,A.shiftKey?"y":"m",1));break;case Ts.PageDown:W.focusDate(Fe.getNext(be.focusedDate,A.shiftKey?"y":"m",1));break;case Ts.End:W.focusDate(A.shiftKey?be.maxDate:be.lastDate);break;case Ts.Home:W.focusDate(A.shiftKey?be.minDate:be.firstDate);break;case Ts.ArrowLeft:W.focusDate(Fe.getPrev(be.focusedDate,"d",1));break;case Ts.ArrowUp:W.focusDate(Fe.getPrev(be.focusedDate,"d",Fe.getDaysPerWeek()));break;case Ts.ArrowRight:W.focusDate(Fe.getNext(be.focusedDate,"d",1));break;case Ts.ArrowDown:W.focusDate(Fe.getNext(be.focusedDate,"d",Fe.getDaysPerWeek()));break;case Ts.Enter:case Ts.Space:W.focusSelect();break;default:return}A.preventDefault(),A.stopPropagation()}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),oa=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbDatepickerContent",""]]}),k})(),po=(()=>{class k{constructor(A,W,be,Fe,Vt,an,vn,xn){this._service=A,this._calendar=W,this.i18n=be,this._elementRef=an,this._ngbDateAdapter=vn,this._ngZone=xn,this._controlValue=null,this._destroyed$=new g.B,this._publicState={},this.navigate=new i.bkB,this.dateSelect=new i.bkB,this.onChange=es=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(es=>this[es]=Fe[es]),A.dateSelect$.pipe((0,S.Q)(this._destroyed$)).subscribe(es=>{this.dateSelect.emit(es)}),A.model$.pipe((0,S.Q)(this._destroyed$)).subscribe(es=>{const Ls=es.firstDate,hs=this.model?this.model.firstDate:null;this._publicState={maxDate:es.maxDate,minDate:es.minDate,firstDate:es.firstDate,lastDate:es.lastDate,focusedDate:es.focusDate,months:es.months.map(Go=>Go.firstDate)};let js=!1;if(!Ls.equals(hs)&&(this.navigate.emit({current:hs?{year:hs.year,month:hs.month}:null,next:{year:Ls.year,month:Ls.month},preventDefault:()=>js=!0}),js&&null!==hs))return void this._service.open(hs);const wi=es.selectedDate,er=es.focusDate,to=this.model?this.model.focusDate:null;this.model=es,se(wi,this._controlValue)&&(this._controlValue=wi,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(wi))),se(er,to)&&to&&es.focusVisible&&this.focus(),Vt.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(A){this._service.focus(Xe.from(A))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,L.s)(1)).subscribe(()=>{const A=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');A&&A.focus()})}navigateTo(A){this._service.open(Xe.from(A?A.day?A:{...A,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const A=(0,d.R)(this._contentEl.nativeElement,"focusin"),W=(0,d.R)(this._contentEl.nativeElement,"focusout"),{nativeElement:be}=this._elementRef;(0,u.h)(A,W).pipe((0,M.p)(({target:Fe,relatedTarget:Vt})=>!(ir(Fe,"ngb-dp-day")&&ir(Vt,"ngb-dp-day")&&be.contains(Fe)&&be.contains(Vt))),(0,S.Q)(this._destroyed$)).subscribe(({type:Fe})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===Fe})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const A={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(W=>A[W]=this[W]),this._service.set(A),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(A){const W={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(be=>be in A).forEach(be=>W[be]=this[be]),this._service.set(W),"startDate"in A){const{currentValue:be,previousValue:Fe}=A.startDate;$e(Fe,be)&&this.navigateTo(this.startDate)}}onDateSelect(A){this._service.focus(A),this._service.select(A,{emitEvent:!0})}onNavigateDateSelect(A){this._service.open(A)}onNavigateEvent(A){switch(A){case ra.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case ra.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}setDisabledState(A){this._service.set({disabled:A})}writeValue(A){this._controlValue=Xe.from(this._ngbDateAdapter.fromModel(A)),this._service.select(this._controlValue)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(fa),i.rXU(bo),i.rXU(Bo),i.rXU(Uo),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(Po),i.rXU(i.SKi))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-datepicker"]],contentQueries:function(A,W,be){if(1&A&&i.wni(be,oa,7),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.contentTemplate=Fe.first)}},viewQuery:function(A,W){if(1&A&&(i.GBs(nn,7),i.GBs(je,7)),2&A){let be;i.mGM(be=i.lsd())&&(W._defaultDayTemplate=be.first),i.mGM(be=i.lsd())&&(W._contentEl=be.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[i.Jv_([{provide:Q.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0},fa]),i.OA$],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],["content",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"navigate","select","date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"]],template:function(A,W){if(1&A&&(i.DNE(0,Re,1,5,"ng-template",null,0,i.C5r)(2,ke,1,1,"ng-template",null,1,i.C5r),i.j41(4,"div",3),i.DNE(5,dt,1,7,"ngb-datepicker-navigation",4),i.k0s(),i.j41(6,"div",5,2),i.DNE(8,Bt,0,0,"ng-template",6),i.k0s(),i.DNE(9,wt,0,0,"ng-template",6)),2&A){const be=i.sdS(3);i.R7$(5),i.Y8G("ngIf","none"!==W.navigation),i.R7$(),i.AVh("ngb-dp-months",!W.contentTemplate),i.R7$(2),i.Y8G("ngTemplateOutlet",(null==W.contentTemplate?null:W.contentTemplate.templateRef)||be),i.R7$(),i.Y8G("ngTemplateOutlet",W.footerTemplate)}},dependencies:()=>[Wi,Al,jo,n.Sq,n.bT,n.T3],styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),k})(),Al=(()=>{class k{constructor(A,W,be,Fe){this.i18n=A,this.datepicker=W,this._keyboardService=be,this._service=Fe}set month(A){this.viewModel=this._service.getMonth(A)}onKeyDown(A){this._keyboardService.processKey(A,this.datepicker)}doSelect(A){!A.context.disabled&&!A.hidden&&this.datepicker.onDateSelect(A.date)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Bo),i.rXU(po),i.rXU($a),i.rXU(fa))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(A,W){1&A&&i.bIt("keydown",function(Fe){return W.onKeyDown(Fe)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"click","tabindex"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(A,W){1&A&&i.DNE(0,$t,3,2,"div",0)(1,xs,1,1,"ng-template",1),2&A&&(i.Y8G("ngIf",W.viewModel.weekdays.length>0),i.R7$(),i.Y8G("ngForOf",W.viewModel.weeks))},dependencies:[n.bT,n.Sq,n.T3],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),k})();const Wa=(k,ue)=>!!ue&&ue.some(A=>A.contains(k)),Ro=(k,ue)=>!ue||null!=function li(k,ue){return!ue||typeof k.closest>"u"?null:k.closest(ue)}(k,ue),wa=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function eo(k,ue,A,W,be,Fe,Vt,an){A&&k.runOutsideAngular((k=>wa?()=>setTimeout(()=>k(),100):k)(()=>{const xn=(0,d.R)(ue,"keydown").pipe((0,S.Q)(be),(0,M.p)(hs=>hs.which===Ts.Escape),(0,G.M)(hs=>hs.preventDefault())),es=(0,d.R)(ue,"mousedown").pipe((0,F.T)(hs=>{const js=hs.target;return 2!==hs.button&&!Wa(js,Vt)&&("inside"===A?Wa(js,Fe)&&Ro(js,an):"outside"===A?!Wa(js,Fe):Ro(js,an)||!Wa(js,Fe))}),(0,S.Q)(be)),Ls=(0,d.R)(ue,"mouseup").pipe((0,Y.E)(es),(0,M.p)(([hs,js])=>js),(0,V.c)(0),(0,S.Q)(be));(0,E.O)([xn.pipe((0,F.T)(hs=>0)),Ls.pipe((0,F.T)(hs=>1))]).subscribe(hs=>k.run(()=>W(hs)))}))}const La=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function aa(k){const ue=Array.from(k.querySelectorAll(La)).filter(A=>-1!==A.tabIndex);return[ue[0],ue[ue.length-1]]}const Rs=(k,ue,A,W=!1)=>{k.runOutsideAngular(()=>{const be=(0,d.R)(ue,"focusin").pipe((0,S.Q)(A),(0,F.T)(Fe=>Fe.target));(0,d.R)(ue,"keydown").pipe((0,S.Q)(A),(0,M.p)(Fe=>Fe.which===Ts.Tab),(0,Y.E)(be)).subscribe(([Fe,Vt])=>{const[an,vn]=aa(ue);(Vt===an||Vt===ue)&&Fe.shiftKey&&(vn.focus(),Fe.preventDefault()),Vt===vn&&!Fe.shiftKey&&(an.focus(),Fe.preventDefault())}),W&&(0,d.R)(ue,"click").pipe((0,S.Q)(A),(0,Y.E)(be),(0,F.T)(Fe=>Fe[1])).subscribe(Fe=>Fe.focus())})},pl=/\s+/,Xo=new class hl{getAllStyles(ue){return window.getComputedStyle(ue)}getStyle(ue,A){return this.getAllStyles(ue)[A]}isStaticPositioned(ue){return"static"===(this.getStyle(ue,"position")||"static")}offsetParent(ue){let A=ue.offsetParent||document.documentElement;for(;A&&A!==document.documentElement&&this.isStaticPositioned(A);)A=A.offsetParent;return A||document.documentElement}position(ue,A=!0){let W,be={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(ue,"position"))W=ue.getBoundingClientRect(),W={top:W.top,bottom:W.bottom,left:W.left,right:W.right,height:W.height,width:W.width};else{const Fe=this.offsetParent(ue);W=this.offset(ue,!1),Fe!==document.documentElement&&(be=this.offset(Fe,!1)),be.top+=Fe.clientTop,be.left+=Fe.clientLeft}return W.top-=be.top,W.bottom-=be.top,W.left-=be.left,W.right-=be.left,A&&(W.top=Math.round(W.top),W.bottom=Math.round(W.bottom),W.left=Math.round(W.left),W.right=Math.round(W.right)),W}offset(ue,A=!0){const W=ue.getBoundingClientRect(),be_top=window.scrollY-document.documentElement.clientTop,be_left=window.scrollX-document.documentElement.clientLeft;let Fe={height:W.height||ue.offsetHeight,width:W.width||ue.offsetWidth,top:W.top+be_top,bottom:W.bottom+be_top,left:W.left+be_left,right:W.right+be_left};return A&&(Fe.height=Math.round(Fe.height),Fe.width=Math.round(Fe.width),Fe.top=Math.round(Fe.top),Fe.bottom=Math.round(Fe.bottom),Fe.left=Math.round(Fe.left),Fe.right=Math.round(Fe.right)),Fe}positionElements(ue,A,W,be){const[Fe="top",Vt="center"]=W.split("-"),an=be?this.offset(ue,!1):this.position(ue,!1),vn=this.getAllStyles(A),xn=parseFloat(vn.marginTop),es=parseFloat(vn.marginBottom),Ls=parseFloat(vn.marginLeft),hs=parseFloat(vn.marginRight);let js=0,wi=0;switch(Fe){case"top":js=an.top-(A.offsetHeight+xn+es);break;case"bottom":js=an.top+an.height;break;case"left":wi=an.left-(A.offsetWidth+Ls+hs);break;case"right":wi=an.left+an.width}switch(Vt){case"top":js=an.top;break;case"bottom":js=an.top+an.height-A.offsetHeight;break;case"left":wi=an.left;break;case"right":wi=an.left+an.width-A.offsetWidth;break;case"center":"top"===Fe||"bottom"===Fe?wi=an.left+an.width/2-A.offsetWidth/2:js=an.top+an.height/2-A.offsetHeight/2}A.style.transform=`translate(${Math.round(wi)}px, ${Math.round(js)}px)`;const er=A.getBoundingClientRect(),to=document.documentElement,Go=window.innerHeight||to.clientHeight,_o=window.innerWidth||to.clientWidth;return er.left>=0&&er.top>=0&&er.right<=_o&&er.bottom<=Go}};function Nt(k,ue,A,W,be){let Fe=Array.isArray(A)?A:A.split(pl);const Vt=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],an=ue.classList,vn=js=>{const[wi,er]=js.split("-"),to=[];return be&&(to.push(`${be}-${wi}`),er&&to.push(`${be}-${wi}-${er}`),to.forEach(Go=>{an.add(Go)})),to};be&&Vt.forEach(js=>{an.remove(`${be}-${js}`)});let xn=Fe.findIndex(js=>"auto"===js);xn>=0&&Vt.forEach(function(js){null==Fe.find(wi=>-1!==wi.search("^"+js))&&Fe.splice(xn++,1,js)});const es=ue.style;es.position="absolute",es.top="0",es.left="0",es["will-change"]="transform";let Ls=null,hs=!1;for(Ls of Fe){let js=vn(Ls);if(Xo.positionElements(k,ue,Ls,W)){hs=!0;break}be&&js.forEach(wi=>{an.remove(wi)})}return hs||(Ls=Fe[0],vn(Ls),Xo.positionElements(k,ue,Ls,W)),Ls}let Jt=(()=>{class k extends Uo{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"],this.restoreFocus=!0}}return k.\u0275fac=(()=>{let ue;return function(W){return(ue||(ue=i.xGo(k)))(W||k)}})(),k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Sn=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:()=>function ln(){return new qn}(),providedIn:"root"}),k})(),qn=(()=>{class k extends Sn{parse(A){if(null!=A){const W=A.trim().split("-");if(1===W.length&&Ut(W[0]))return{year:Bi(W[0]),month:null,day:null};if(2===W.length&&Ut(W[0])&&Ut(W[1]))return{year:Bi(W[0]),month:Bi(W[1]),day:null};if(3===W.length&&Ut(W[0])&&Ut(W[1])&&Ut(W[2]))return{year:Bi(W[0]),month:Bi(W[1]),day:Bi(W[2])}}return null}format(A){return A?`${A.year}-${Ut(A.month)?ai(A.month):""}-${Ut(A.day)?ai(A.day):""}`:""}}return k.\u0275fac=(()=>{let ue;return function(W){return(ue||(ue=i.xGo(k)))(W||k)}})(),k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})(),Ht=(()=>{class k{constructor(A,W,be,Fe,Vt,an,vn,xn,es,Ls){this._parserFormatter=A,this._elRef=W,this._vcRef=be,this._renderer=Fe,this._ngZone=Vt,this._calendar=an,this._dateAdapter=vn,this._document=xn,this._changeDetector=es,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this.dateSelect=new i.bkB,this.navigate=new i.bkB,this.closed=new i.bkB,this._onChange=hs=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(hs=>this[hs]=Ls[hs]),this._zoneSubscription=Vt.onStable.subscribe(()=>this._updatePopupPosition())}get disabled(){return this._disabled}set disabled(A){this._disabled=""===A||A&&"false"!==A,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(A){this._onChange=A}registerOnTouched(A){this._onTouched=A}registerOnValidatorChange(A){this._validatorChange=A}setDisabledState(A){this.disabled=A}validate(A){const{value:W}=A;if(null!=W){const be=this._fromDateStruct(this._dateAdapter.fromModel(W));if(!be)return{ngbDate:{invalid:W}};if(this.minDate&&be.before(Xe.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:W}}};if(this.maxDate&&be.after(Xe.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:W}}}}return null}writeValue(A){this._model=this._fromDateStruct(this._dateAdapter.fromModel(A)),this._writeModelValue(this._model)}manualDateChange(A,W=!1){const be=A!==this._inputValue;be&&(this._inputValue=A,this._model=this._fromDateStruct(this._parserFormatter.parse(A))),(be||!W)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===A?null:A),W&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){this.isOpen()||(this._cRef=this._vcRef.createComponent(po),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(A=>{this.writeValue(A),this._onChange(A),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,Rs(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),eo(this._ngZone,this._document,this.autoClose,()=>this.close(),this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement]))}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();let A=this._elWithFocus;Kt(this.restoreFocus)?A=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(A=this.restoreFocus),A&&A.focus?A.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(A){this.isOpen()&&this._cRef.instance.navigateTo(A)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(A){if((A.minDate||A.maxDate)&&(this._validatorChange(),this.isOpen()&&(A.minDate&&(this._cRef.instance.minDate=this.minDate),A.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(A))),A.datepickerClass){const{currentValue:W,previousValue:be}=A.datepickerClass;this._applyPopupClass(W,be)}}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(A){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(W=>{void 0!==this[W]&&(A[W]=this[W])}),A.startDate=this.startDate||this._model}_applyPopupClass(A,W){const be=this._cRef?.location.nativeElement;be&&(A&&this._renderer.addClass(be,A),W&&this._renderer.removeClass(be,W))}_applyPopupStyling(A){this._renderer.addClass(A,"dropdown-menu"),this._renderer.addClass(A,"show"),"body"===this.container&&this._renderer.addClass(A,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(A){A.navigate.subscribe(W=>this.navigate.emit(W)),A.dateSelect.subscribe(W=>{this.dateSelect.emit(W),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(A){const W=this._parserFormatter.format(A);this._inputValue=W,this._renderer.setProperty(this._elRef.nativeElement,"value",W),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(A)),this._onTouched())}_fromDateStruct(A){const W=A?new Xe(A.year,A.month,A.day):null;return this._calendar.isValid(W)?W:null}_updatePopupPosition(){if(!this._cRef)return;let A;if(A=Kt(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!A)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");Nt(A,this._cRef.location.nativeElement,this.placement,"body"===this.container)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Sn),i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(i.SKi),i.rXU(bo),i.rXU(Po),i.rXU(n.qQ),i.rXU(i.gRc),i.rXU(Jt))},k.\u0275dir=i.FsC({type:k,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(A,W){1&A&&i.bIt("input",function(Fe){return W.manualDateChange(Fe.target.value)})("change",function(Fe){return W.manualDateChange(Fe.target.value,!0)})("focus",function(){return W.onFocus()})("blur",function(){return W.onBlur()}),2&A&&i.Mr5("disabled",W.disabled)},inputs:{autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[i.Jv_([{provide:Q.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0},{provide:Q.cz,useExisting:(0,i.Rfq)(()=>k),multi:!0},{provide:Uo,useExisting:Jt}]),i.OA$]}),k})();new Date(1882,10,12),new Date(2174,10,25);let ki=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[n.MD,Q.YN]]}),k})(),Ql=(()=>{class k{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Pr=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275dir=i.FsC({type:k,selectors:[["",8,"navbar"]]}),k})(),Rr=(()=>{class k{constructor(A,W){this.elementRef=A,this._renderer=W,this._disabled=!1}set disabled(A){this._disabled=""===A||!0===A,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT),i.rXU(i.sFG))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(A,W){2&A&&(i.Mr5("tabIndex",W.disabled?-1:0),i.AVh("disabled",W.disabled))},inputs:{disabled:"disabled"}}),k})(),ya=(()=>{class k{constructor(A,W){this.dropdown=A,this.placement="bottom",this.isOpen=!1,this.nativeElement=W.nativeElement}}return k.\u0275fac=function(A){return new(A||k)(i.rXU((0,i.Rfq)(()=>Jr)),i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(A,W,be){if(1&A&&i.wni(be,Rr,4),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.menuItems=Fe)}},hostVars:5,hostBindings:function(A,W){1&A&&i.bIt("keydown.ArrowUp",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.ArrowDown",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Home",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.End",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Enter",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Space",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Tab",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Shift.Tab",function(Fe){return W.dropdown.onKeyDown(Fe)}),2&A&&(i.BMQ("x-placement",W.placement),i.AVh("dropdown-menu",!0)("show",W.dropdown.isOpen()))}}),k})(),Ao=(()=>{class k{constructor(A,W){this.dropdown=A,this.nativeElement=W.nativeElement}}return k.\u0275fac=function(A){return new(A||k)(i.rXU((0,i.Rfq)(()=>Jr)),i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(A,W){2&A&&i.BMQ("aria-expanded",W.dropdown.isOpen())}}),k})(),Xa=(()=>{class k extends Ao{constructor(A,W){super(A,W)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU((0,i.Rfq)(()=>Jr)),i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(A,W){1&A&&i.bIt("click",function(){return W.dropdown.toggle()})("keydown.ArrowUp",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.ArrowDown",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Home",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.End",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Tab",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Shift.Tab",function(Fe){return W.dropdown.onKeyDown(Fe)}),2&A&&i.BMQ("aria-expanded",W.dropdown.isOpen())},features:[i.Jv_([{provide:Ao,useExisting:(0,i.Rfq)(()=>k)}]),i.Vt3]}),k})(),Jr=(()=>{class k{constructor(A,W,be,Fe,Vt,an,vn){this._changeDetector=A,this._document=be,this._ngZone=Fe,this._elementRef=Vt,this._renderer=an,this._closed$=new g.B,this._bodyContainer=null,this._open=!1,this.openChange=new i.bkB,this.placement=W.placement,this.container=W.container,this.autoClose=W.autoClose,this.display=vn?"static":"dynamic",this._zoneSubscription=Fe.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe((0,L.s)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(A){if(A.container&&this._open&&this._applyContainer(this.container),A.placement&&!A.placement.isFirstChange&&this._applyPlacementClasses(),A.dropdownClass){const{currentValue:W,previousValue:be}=A.dropdownClass;this._applyCustomDropdownClass(W,be)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){eo(this._ngZone,this._document,this.autoClose,A=>{this.close(),0===A&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(A){const W=A.which,be=this._getMenuElements();let Fe=-1,Vt=null;const an=this._isEventFromToggle(A);if(!an&&be.length&&be.forEach((vn,xn)=>{vn.contains(A.target)&&(Vt=vn),vn===this._document.activeElement&&(Fe=xn)}),W!==Ts.Space&&W!==Ts.Enter){if(W!==Ts.Tab){if(an||Vt){if(this.open(),be.length){switch(W){case Ts.ArrowDown:Fe=Math.min(Fe+1,be.length-1);break;case Ts.ArrowUp:if(this._isDropup()&&-1===Fe){Fe=be.length-1;break}Fe=Math.max(Fe-1,0);break;case Ts.Home:Fe=0;break;case Ts.End:Fe=be.length-1}be[Fe].focus()}A.preventDefault()}}else if(A.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===A.target)return void("body"!==this.container||A.shiftKey?A.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const vn=this._menu.nativeElement.querySelectorAll(La);A.shiftKey&&A.target===vn[0]?(this._anchor.nativeElement.focus(),A.preventDefault()):!A.shiftKey&&A.target===vn[vn.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,d.R)(A.target,"focusout").pipe((0,L.s)(1)).subscribe(({relatedTarget:vn})=>{this._elementRef.nativeElement.contains(vn)||this.close()})}}else Vt&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,d.R)(Vt,"click").pipe((0,L.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(A){return this._anchor.nativeElement.contains(A.target)}_getMenuElements(){const A=this._menu;return null==A?[]:A.menuItems.filter(W=>!W.disabled).map(W=>W.elementRef.nativeElement)}_positionMenu(){const A=this._menu;this.isOpen()&&A&&this._applyPlacementClasses("dynamic"===this.display?Nt(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(A){return Array.isArray(A)?A[0]:A.split(" ")[0]}_resetContainer(){const A=this._renderer;if(this._menu){const be=this._menu.nativeElement;A.appendChild(this._elementRef.nativeElement,be),A.removeStyle(be,"position"),A.removeStyle(be,"transform")}this._bodyContainer&&(A.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(A=null){if(this._resetContainer(),"body"===A){const W=this._renderer,be=this._menu.nativeElement,Fe=this._bodyContainer=this._bodyContainer||W.createElement("div");W.setStyle(Fe,"position","absolute"),W.setStyle(be,"position","static"),W.setStyle(Fe,"z-index","1050"),W.appendChild(Fe,be),W.appendChild(this._document.body,Fe)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(A,W){const be="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;be&&(W&&this._renderer.removeClass(be,W),A&&this._renderer.addClass(be,A))}_applyPlacementClasses(A){const W=this._menu;if(W){A||(A=this._getFirstPlacement(this.placement));const be=this._renderer,Fe=this._elementRef.nativeElement;be.removeClass(Fe,"dropup"),be.removeClass(Fe,"dropdown"),W.placement="static"===this.display?null:A;const Vt=-1!==A.search("^top")?"dropup":"dropdown";be.addClass(Fe,Vt);const an=this._bodyContainer;an&&(be.removeClass(an,"dropup"),be.removeClass(an,"dropdown"),be.addClass(an,Vt))}}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.gRc),i.rXU(Ql),i.rXU(n.qQ),i.rXU(i.SKi),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(Pr,8))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbDropdown",""]],contentQueries:function(A,W,be){if(1&A&&(i.wni(be,ya,5),i.wni(be,Ao,5)),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W._menu=Fe.first),i.mGM(Fe=i.lsd())&&(W._anchor=Fe.first)}},hostVars:2,hostBindings:function(A,W){2&A&&i.AVh("show",W.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[i.Mj6.None,"open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[i.OA$]}),k})(),Tc=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({}),k})();class Ja{constructor(ue,A,W){this.nodes=ue,this.viewRef=A,this.componentRef=W}}class Qa{constructor(ue,A,W,be,Fe,Vt){this._type=ue,this._injector=A,this._viewContainerRef=W,this._renderer=be,this._ngZone=Fe,this._applicationRef=Vt,this._windowRef=null,this._contentRef=null}open(ue,A,W=!1){this._windowRef||(this._contentRef=this._getContentRef(ue,A),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:be}=this._windowRef.location,Fe=this._ngZone.onStable.pipe((0,L.s)(1),(0,X.Z)(()=>Ri(this._ngZone,be,({classList:Vt})=>Vt.add("show"),{animation:W,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:Fe}}close(ue=!1){return this._windowRef?Ri(this._ngZone,this._windowRef.location.nativeElement,({classList:A})=>A.remove("show"),{animation:ue,runningTransition:"stop"}).pipe((0,G.M)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,f.of)(void 0)}_getContentRef(ue,A){if(ue){if(ue instanceof i.C4Q){const W=ue.createEmbeddedView(A);return this._applicationRef.attachView(W),new Ja([W.rootNodes],W)}return new Ja([[this._renderer.createText(`${ue}`)]])}return new Ja([])}}let ce=(()=>{class k{constructor(A,W){this._el=A,this._zone=W}ngOnInit(){this._zone.onStable.asObservable().pipe((0,L.s)(1)).subscribe(()=>{Ri(this._zone,this._el.nativeElement,(A,W)=>{W&&xi(A),A.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ri(this._zone,this._el.nativeElement,({classList:A})=>A.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT),i.rXU(i.SKi))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(A,W){2&A&&(i.HbH("modal-backdrop"+(W.backdropClass?" "+W.backdropClass:"")),i.AVh("show",!W.animation)("fade",W.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(A,W){},encapsulation:2}),k})();class Te{close(ue){}dismiss(ue){}}class he{constructor(ue,A,W,be){this._windowCmptRef=ue,this._contentRef=A,this._backdropCmptRef=W,this._beforeDismiss=be,this._closed=new g.B,this._dismissed=new g.B,this._hidden=new g.B,ue.instance.dismissEvent.subscribe(Fe=>{this.dismiss(Fe)}),this.result=new Promise((Fe,Vt)=>{this._resolve=Fe,this._reject=Vt}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,S.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,S.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(ue){this._windowCmptRef&&(this._closed.next(ue),this._resolve(ue),this._removeModalElements())}_dismiss(ue){this._dismissed.next(ue),this._reject(ue),this._removeModalElements()}dismiss(ue){if(this._windowCmptRef)if(this._beforeDismiss){const A=this._beforeDismiss();!function cs(k){return k&&k.then}(A)?!1!==A&&this._dismiss(ue):A.then(W=>{!1!==W&&this._dismiss(ue)},()=>{})}else this._dismiss(ue)}_removeModalElements(){const ue=this._windowCmptRef.instance.hide(),A=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,f.of)(void 0);ue.subscribe(()=>{const{nativeElement:W}=this._windowCmptRef.location;W.parentNode.removeChild(W),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),A.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:W}=this._backdropCmptRef.location;W.parentNode.removeChild(W),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),(0,R.y)(ue,A).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Oe=function(k){return k[k.BACKDROP_CLICK=0]="BACKDROP_CLICK",k[k.ESC=1]="ESC",k}(Oe||{});let ze=(()=>{class k{constructor(A,W,be){this._document=A,this._elRef=W,this._zone=be,this._closed$=new g.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.bkB,this.shown=new g.B,this.hidden=new g.B}dismiss(A){this.dismissEvent.emit(A)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,L.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:A}=this._elRef,W={animation:this.animation,runningTransition:"stop"},be=Ri(this._zone,A,()=>A.classList.remove("show"),W),Fe=Ri(this._zone,this._dialogEl.nativeElement,()=>{},W),Vt=(0,R.y)(be,Fe);return Vt.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Vt}_show(){const A={animation:this.animation,runningTransition:"continue"},W=Ri(this._zone,this._elRef.nativeElement,(Fe,Vt)=>{Vt&&xi(Fe),Fe.classList.add("show")},A),be=Ri(this._zone,this._dialogEl.nativeElement,()=>{},A);(0,R.y)(W,be).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:A}=this._elRef;this._zone.runOutsideAngular(()=>{(0,d.R)(A,"keydown").pipe((0,S.Q)(this._closed$),(0,M.p)(be=>be.which===Ts.Escape)).subscribe(be=>{this.keyboard?requestAnimationFrame(()=>{be.defaultPrevented||this._zone.run(()=>this.dismiss(Oe.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let W=!1;(0,d.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,S.Q)(this._closed$),(0,G.M)(()=>W=!1),(0,x.n)(()=>(0,d.R)(A,"mouseup").pipe((0,S.Q)(this._closed$),(0,L.s)(1))),(0,M.p)(({target:be})=>A===be)).subscribe(()=>{W=!0}),(0,d.R)(A,"click").pipe((0,S.Q)(this._closed$)).subscribe(({target:be})=>{A===be&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!W&&this._zone.run(()=>this.dismiss(Oe.BACKDROP_CLICK))),W=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:A}=this._elRef;if(!A.contains(document.activeElement)){const W=A.querySelector("[ngbAutofocus]"),be=aa(A)[0];(W||be||A).focus()}}_restoreFocus(){const A=this._document.body,W=this._elWithFocus;let be;be=W&&W.focus&&A.contains(W)?W:A,this._zone.runOutsideAngular(()=>{setTimeout(()=>be.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ri(this._zone,this._elRef.nativeElement,({classList:A})=>(A.add("modal-static"),()=>A.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(n.qQ),i.rXU(i.aKT),i.rXU(i.SKi))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-modal-window"]],viewQuery:function(A,W){if(1&A&&i.GBs(rn,7),2&A){let be;i.mGM(be=i.lsd())&&(W._dialogEl=be.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(A,W){2&A&&(i.BMQ("aria-modal",!0)("aria-labelledby",W.ariaLabelledBy)("aria-describedby",W.ariaDescribedBy),i.HbH("modal d-block"+(W.windowClass?" "+W.windowClass:"")),i.AVh("fade",W.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:le,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(A,W){1&A&&(i.NAR(),i.j41(0,"div",1,0)(2,"div",2),i.SdG(3),i.k0s()()),2&A&&i.HbH("modal-dialog"+(W.size?" modal-"+W.size:"")+(W.centered?" modal-dialog-centered":"")+(W.scrollable?" modal-dialog-scrollable":"")+(W.modalDialogClass?" "+W.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),k})(),pt=(()=>{class k{constructor(A){this._document=A}hide(){const A=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),W=this._document.body,be=W.style,{overflow:Fe,paddingRight:Vt}=be;if(A>0){const an=parseFloat(window.getComputedStyle(W).paddingRight);be.paddingRight=`${an+A}px`}return be.overflow="hidden",()=>{A>0&&(be.paddingRight=Vt),be.overflow=Fe}}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(n.qQ))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Me=(()=>{class k{constructor(A,W,be,Fe,Vt,an){this._applicationRef=A,this._injector=W,this._document=be,this._scrollBar=Fe,this._rendererFactory=Vt,this._ngZone=an,this._activeWindowCmptHasChanged=new g.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new i.bkB,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const vn=this._windowCmpts[this._windowCmpts.length-1];Rs(this._ngZone,vn.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(vn.location.nativeElement)}})}_restoreScrollBar(){const A=this._scrollBarRestoreFn;A&&(this._scrollBarRestoreFn=null,A())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(A,W,be,Fe){const Vt=Fe.container instanceof HTMLElement?Fe.container:kn(Fe.container)?this._document.querySelector(Fe.container):this._document.body,an=this._rendererFactory.createRenderer(null,null);if(!Vt)throw new Error(`The specified modal container "${Fe.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const vn=new Te,xn=this._getContentRef(A,Fe.injector||W,be,vn,Fe);let es=!1!==Fe.backdrop?this._attachBackdrop(A,Vt):void 0,Ls=this._attachWindowComponent(A,Vt,xn),hs=new he(Ls,xn,es,Fe.beforeDismiss);return this._registerModalRef(hs),this._registerWindowCmpt(Ls),hs.hidden.pipe((0,L.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(an.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),vn.close=js=>{hs.close(js)},vn.dismiss=js=>{hs.dismiss(js)},this._applyWindowOptions(Ls.instance,Fe),1===this._modalRefs.length&&an.addClass(this._document.body,"modal-open"),es&&es.instance&&(this._applyBackdropOptions(es.instance,Fe),es.changeDetectorRef.detectChanges()),Ls.changeDetectorRef.detectChanges(),hs}get activeInstances(){return this._activeInstances}dismissAll(A){this._modalRefs.forEach(W=>W.dismiss(A))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(A,W){let Fe=A.resolveComponentFactory(ce).create(this._injector);return this._applicationRef.attachView(Fe.hostView),W.appendChild(Fe.location.nativeElement),Fe}_attachWindowComponent(A,W,be){let Vt=A.resolveComponentFactory(ze).create(this._injector,be.nodes);return this._applicationRef.attachView(Vt.hostView),W.appendChild(Vt.location.nativeElement),Vt}_applyWindowOptions(A,W){this._windowAttributes.forEach(be=>{kn(W[be])&&(A[be]=W[be])})}_applyBackdropOptions(A,W){this._backdropAttributes.forEach(be=>{kn(W[be])&&(A[be]=W[be])})}_getContentRef(A,W,be,Fe,Vt){return be?be instanceof i.C4Q?this._createFromTemplateRef(be,Fe):Kt(be)?this._createFromString(be):this._createFromComponent(A,W,be,Fe,Vt):new Ja([])}_createFromTemplateRef(A,W){const Fe=A.createEmbeddedView({$implicit:W,close(Vt){W.close(Vt)},dismiss(Vt){W.dismiss(Vt)}});return this._applicationRef.attachView(Fe),new Ja([Fe.rootNodes],Fe)}_createFromString(A){const W=this._document.createTextNode(`${A}`);return new Ja([[W]])}_createFromComponent(A,W,be,Fe,Vt){const an=A.resolveComponentFactory(be),vn=i.zZn.create({providers:[{provide:Te,useValue:Fe}],parent:W}),xn=an.create(vn),es=xn.location.nativeElement;return Vt.scrollable&&es.classList.add("component-host-scrollable"),this._applicationRef.attachView(xn.hostView),new Ja([[es]],xn.hostView,xn)}_setAriaHidden(A){const W=A.parentElement;W&&A!==this._document.body&&(Array.from(W.children).forEach(be=>{be!==A&&"SCRIPT"!==be.nodeName&&(this._ariaHiddenValues.set(be,be.getAttribute("aria-hidden")),be.setAttribute("aria-hidden","true"))}),this._setAriaHidden(W))}_revertAriaHidden(){this._ariaHiddenValues.forEach((A,W)=>{A?W.setAttribute("aria-hidden",A):W.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(A){const W=()=>{const be=this._modalRefs.indexOf(A);be>-1&&(this._modalRefs.splice(be,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(A),this._activeInstances.emit(this._modalRefs),A.result.then(W,W)}_registerWindowCmpt(A){this._windowCmpts.push(A),this._activeWindowCmptHasChanged.next(),A.onDestroy(()=>{const W=this._windowCmpts.indexOf(A);W>-1&&(this._windowCmpts.splice(W,1),this._activeWindowCmptHasChanged.next())})}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(i.o8S),i.KVO(i.zZn),i.KVO(n.qQ),i.KVO(pt),i.KVO(i._9s),i.KVO(i.SKi))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),ye=(()=>{class k{constructor(A){this._ngbConfig=A,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(A){this._animation=A}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(Ps))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),oe=(()=>{class k{constructor(A,W,be,Fe){this._moduleCFR=A,this._injector=W,this._modalStack=be,this._config=Fe}open(A,W={}){const be={...this._config,animation:this._config.animation,...W};return this._modalStack.open(this._moduleCFR,this._injector,A,be)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(A){this._modalStack.dismissAll(A)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(i.OM3),i.KVO(i.zZn),i.KVO(Me),i.KVO(ye))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Se=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({providers:[oe]}),k})(),rt=(()=>{class k{constructor(A){this._ngbConfig=A,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(A){this._animation=A}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(Ps))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const Mt=k=>kn(k)&&""!==k;let en=0,_n=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbNavContent",""]]}),k})(),zn=(()=>{class k{constructor(A,W){this.elementRef=W,this.disabled=!1,this.shown=new i.bkB,this.hidden=new i.bkB,this._nav=A}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){kn(this.domId)||(this.domId="ngb-nav-"+en++)}get active(){return this._nav.activeId===this.id}get id(){return Mt(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(kn(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return k.\u0275fac=function(A){return new(A||k)(i.rXU((0,i.Rfq)(()=>is)),i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbNavItem",""]],contentQueries:function(A,W,be){if(1&A&&i.wni(be,_n,4),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.contentTpls=Fe)}},hostVars:2,hostBindings:function(A,W){2&A&&i.AVh("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[i.Mj6.None,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),k})(),is=(()=>{class k{constructor(A,W,be,Fe){this.role=A,this._cd=be,this._document=Fe,this.activeIdChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.destroy$=new g.B,this.navItemChange$=new g.B,this.navChange=new i.bkB,this.animation=W.animation,this.destroyOnHide=W.destroyOnHide,this.orientation=W.orientation,this.roles=W.roles,this.keyboard=W.keyboard}click(A){A.disabled||this._updateActiveId(A.id)}onKeyDown(A){if("tablist"!==this.roles||!this.keyboard)return;const W=A.which,be=this.links.filter(an=>!an.navItem.disabled),{length:Fe}=be;let Vt=-1;if(be.forEach((an,vn)=>{an.elRef.nativeElement===this._document.activeElement&&(Vt=vn)}),Fe){switch(W){case Ts.ArrowLeft:if("vertical"===this.orientation)return;Vt=(Vt-1+Fe)%Fe;break;case Ts.ArrowRight:if("vertical"===this.orientation)return;Vt=(Vt+1)%Fe;break;case Ts.ArrowDown:if("horizontal"===this.orientation)return;Vt=(Vt+1)%Fe;break;case Ts.ArrowUp:if("horizontal"===this.orientation)return;Vt=(Vt-1+Fe)%Fe;break;case Ts.Home:Vt=0;break;case Ts.End:Vt=Fe-1}"changeWithArrows"===this.keyboard&&this.select(be[Vt].navItem.id),be[Vt].elRef.nativeElement.focus(),A.preventDefault()}}select(A){this._updateActiveId(A,!1)}ngAfterContentInit(){if(!kn(this.activeId)){const A=this.items.first?this.items.first.id:null;Mt(A)&&(this._updateActiveId(A,!1),this._cd.detectChanges())}this.items.changes.pipe((0,S.Q)(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:A}){A&&!A.firstChange&&this._notifyItemChanged(A.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(A,W=!0){if(this.activeId!==A){let be=!1;W&&this.navChange.emit({activeId:this.activeId,nextId:A,preventDefault:()=>{be=!0}}),be||(this.activeId=A,this.activeIdChange.emit(A),this._notifyItemChanged(A))}}_notifyItemChanged(A){this.navItemChange$.next(this._getItemById(A))}_getItemById(A){return this.items&&this.items.find(W=>W.id===A)||null}}return k.\u0275fac=function(A){return new(A||k)(i.kS0("role"),i.rXU(rt),i.rXU(i.gRc),i.rXU(n.qQ))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbNav",""]],contentQueries:function(A,W,be){if(1&A&&(i.wni(be,zn,4),i.wni(be,ui,5)),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.items=Fe),i.mGM(Fe=i.lsd())&&(W.links=Fe)}},hostVars:6,hostBindings:function(A,W){1&A&&i.bIt("keydown.arrowLeft",function(Fe){return W.onKeyDown(Fe)})("keydown.arrowRight",function(Fe){return W.onKeyDown(Fe)})("keydown.arrowDown",function(Fe){return W.onKeyDown(Fe)})("keydown.arrowUp",function(Fe){return W.onKeyDown(Fe)})("keydown.Home",function(Fe){return W.onKeyDown(Fe)})("keydown.End",function(Fe){return W.onKeyDown(Fe)}),2&A&&(i.BMQ("aria-orientation","vertical"===W.orientation&&"tablist"===W.roles?"vertical":void 0)("role",W.role?W.role:W.roles?"tablist":void 0),i.AVh("nav",!0)("flex-column","vertical"===W.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[i.OA$]}),k})(),ui=(()=>{class k{constructor(A,W,be,Fe){this.role=A,this.navItem=W,this.nav=be,this.elRef=Fe}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return k.\u0275fac=function(A){return new(A||k)(i.kS0("role"),i.rXU(zn),i.rXU(is),i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(A,W){1&A&&i.bIt("click",function(Fe){return W.nav.click(W.navItem),Fe.preventDefault()}),2&A&&(i.Mr5("id",W.navItem.domId),i.BMQ("role",W.role?W.role:W.nav.roles?"tab":void 0)("tabindex",W.navItem.disabled?-1:void 0)("aria-controls",W.navItem.isPanelInDom()?W.navItem.panelDomId:null)("aria-selected",W.navItem.active)("aria-disabled",W.navItem.disabled),i.AVh("nav-link",!0)("nav-item",W.hasNavItemClass())("active",W.navItem.active)("disabled",W.navItem.disabled))}}),k})();const zi=({classList:k})=>(k.remove("show"),()=>k.remove("active")),la=(k,ue)=>{ue&&xi(k),k.classList.add("show")};let Za=(()=>{class k{constructor(A){this.elRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(A,W){2&A&&(i.Mr5("id",W.item.panelDomId),i.BMQ("role",W.role?W.role:W.nav.roles?"tabpanel":void 0)("aria-labelledby",W.item.domId),i.AVh("fade",W.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}}),k})(),gl=(()=>{class k{constructor(A,W){this._cd=A,this._ngZone=W,this._activePane=null}isPanelTransitioning(A){return this._activePane?.item===A}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,S.Q)(this.nav.destroy$),(0,$.Z)(this._activePane?.item||null),(0,j.F)(),(0,K.i)(1)).subscribe(A=>{const W={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Ri(this._ngZone,this._activePane.elRef.nativeElement,zi,W).subscribe(()=>{const be=this._activePane?.item;this._activePane=this._getPaneForItem(A),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Ri(this._ngZone,this._activePane.elRef.nativeElement,la,W).subscribe(()=>{A&&(A.shown.emit(),this.nav.shown.emit(A.id))})),be&&(be.hidden.emit(),this.nav.hidden.emit(be.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(A){return this._panes&&this._panes.find(W=>W.item===A)||null}_getActivePane(){return this._panes&&this._panes.find(A=>A.item.active)||null}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.gRc),i.rXU(i.SKi))},k.\u0275cmp=i.VBU({type:k,selectors:[["","ngbNavOutlet",""]],viewQuery:function(A,W){if(1&A&&i.GBs(Za,5),2&A){let be;i.mGM(be=i.lsd())&&(W._panes=be)}},hostVars:2,hostBindings:function(A,W){2&A&&i.AVh("tab-content",!0)},inputs:{paneRole:"paneRole",nav:[i.Mj6.None,"ngbNavOutlet","nav"]},attrs:Dn,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(A,W){1&A&&i.DNE(0,Ke,1,1,"ng-template",0),2&A&&i.Y8G("ngForOf",W.nav.items)},dependencies:[n.Sq,n.bT,Za,n.T3],encapsulation:2,changeDetection:0}),k})(),wo=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[n.MD]]}),k})(),Zl=(()=>{class k{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),ql=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),k})(),ec=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationFirst",""]]}),k})(),ld=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationLast",""]]}),k})(),Jd=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationNext",""]]}),k})(),Qd=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationNumber",""]]}),k})(),dg=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationPrevious",""]]}),k})(),Zd=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationPages",""]]}),k})(),$p=(()=>{class k{constructor(A){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new i.bkB(!0),this.disabled=A.disabled,this.boundaryLinks=A.boundaryLinks,this.directionLinks=A.directionLinks,this.ellipses=A.ellipses,this.maxSize=A.maxSize,this.pageSize=A.pageSize,this.rotate=A.rotate,this.size=A.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(A){this._updatePages(A)}ngOnChanges(A){this._updatePages(this.page)}isEllipsis(A){return-1===A}_applyEllipses(A,W){this.ellipses&&(A>0&&(A>2?this.pages.unshift(-1):2===A&&this.pages.unshift(2),this.pages.unshift(1)),W<this.pageCount&&(W<this.pageCount-2?this.pages.push(-1):W===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let A=0,W=this.pageCount,be=Math.floor(this.maxSize/2);return this.page<=be?W=this.maxSize:this.pageCount-this.page<be?A=this.pageCount-this.maxSize:(A=this.page-be-1,W=this.page+(this.maxSize%2==0?be-1:be)),[A,W]}_applyPagination(){let W=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[W,W+this.maxSize]}_setPageInRange(A){const W=this.page;this.page=cn(A,this.pageCount,1),this.page!==W&&Ut(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(A){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Ut(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let W=1;W<=this.pageCount;W++)this.pages.push(W);if(this._setPageInRange(A),this.maxSize>0&&this.pageCount>this.maxSize){let W=0,be=this.pageCount;[W,be]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(W,be),this._applyEllipses(W,be)}}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Zl))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-pagination"]],contentQueries:function(A,W,be){if(1&A&&(i.wni(be,ql,5),i.wni(be,ec,5),i.wni(be,ld,5),i.wni(be,Jd,5),i.wni(be,Qd,5),i.wni(be,dg,5),i.wni(be,Zd,5)),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.tplEllipsis=Fe.first),i.mGM(Fe=i.lsd())&&(W.tplFirst=Fe.first),i.mGM(Fe=i.lsd())&&(W.tplLast=Fe.first),i.mGM(Fe=i.lsd())&&(W.tplNext=Fe.first),i.mGM(Fe=i.lsd())&&(W.tplNumber=Fe.first),i.mGM(Fe=i.lsd())&&(W.tplPrevious=Fe.first),i.mGM(Fe=i.lsd())&&(W.tplPages=Fe.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[i.OA$],decls:20,vars:12,consts:()=>{let ue,A,W,be,Fe,Vt,an,vn;return ue=$localize`:@@ngb.pagination.first:`,A=$localize`:@@ngb.pagination.previous:`,W=$localize`:@@ngb.pagination.next:`,be=$localize`:@@ngb.pagination.last:`,Fe=$localize`:@@ngb.pagination.first-aria:First`,Vt=$localize`:@@ngb.pagination.previous-aria:Previous`,an=$localize`:@@ngb.pagination.next-aria:Next`,vn=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],ue,A,W,be,["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],["class","sr-only",4,"ngIf"],[1,"sr-only"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",Fe,"href","",1,"page-link",3,"click"],["aria-label",Vt,"href","",1,"page-link",3,"click"],["aria-label",an,"href","",1,"page-link",3,"click"],["aria-label",vn,"href","",1,"page-link",3,"click"]]},template:function(A,W){if(1&A&&(i.DNE(0,Ot,2,0,"ng-template",null,0,i.C5r)(2,Dt,2,0,"ng-template",null,1,i.C5r)(4,Wt,2,0,"ng-template",null,2,i.C5r)(6,bn,2,0,"ng-template",null,3,i.C5r)(8,Pn,1,0,"ng-template",null,4,i.C5r)(10,ks,2,2,"ng-template",null,5,i.C5r)(12,Ln,1,1,"ng-template",null,6,i.C5r),i.j41(14,"ul"),i.DNE(15,As,3,9,"li",11)(16,yn,3,8,"li",11)(17,hn,0,0,"ng-template",12)(18,ns,3,9,"li",11)(19,Zn,3,9,"li",11),i.k0s()),2&A){const be=i.sdS(13);i.R7$(14),i.HbH("pagination"+(W.size?" pagination-"+W.size:"")),i.R7$(),i.Y8G("ngIf",W.boundaryLinks),i.R7$(),i.Y8G("ngIf",W.directionLinks),i.R7$(),i.Y8G("ngTemplateOutlet",(null==W.tplPages?null:W.tplPages.templateRef)||be)("ngTemplateOutletContext",i.sMw(8,Ze,W.page,W.pages,W.disabled)),i.R7$(),i.Y8G("ngIf",W.directionLinks),i.R7$(),i.Y8G("ngIf",W.boundaryLinks)}},dependencies:[n.bT,n.Sq,n.T3],encapsulation:2,changeDetection:0}),k})(),cd=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[n.MD]]}),k})();class Mc{constructor(ue,A){this.open=ue,this.close=A,A||(this.close=ue)}isManual(){return"manual"===this.open||"manual"===this.close}}const dd={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},lr=k=>k>0?(0,V.c)(k):ue=>ue;let Fr=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[n.MD]]}),k})(),dh=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[n.MD]]}),k})(),Xs=(()=>{class k{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),go=(()=>{class k{constructor(A,W){this._changeDetectorRef=W,this.contexts=[],this.disabled=!1,this.hover=new i.bkB,this.leave=new i.bkB,this.rateChange=new i.bkB(!0),this.onChange=be=>{},this.onTouched=()=>{},this.max=A.max,this.readonly=A.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(A){this.isInteractive()&&this._updateState(A),this.hover.emit(A)}handleBlur(){this.onTouched()}handleClick(A){this.isInteractive()&&this.update(this.resettable&&this.rate===A?0:A)}handleKeyDown(A){switch(A.which){case Ts.ArrowDown:case Ts.ArrowLeft:this.update(this.rate-1);break;case Ts.ArrowUp:case Ts.ArrowRight:this.update(this.rate+1);break;case Ts.Home:this.update(0);break;case Ts.End:this.update(this.max);break;default:return}A.preventDefault()}ngOnChanges(A){A.rate&&this.update(this.rate),A.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(A){this.disabled=A}update(A,W=!0){const be=cn(A,this.max,0);this.isInteractive()&&this.rate!==be&&(this.rate=be,this.rateChange.emit(this.rate)),W&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(A){this.update(A,!1),this._changeDetectorRef.markForCheck()}_updateState(A){this.nextRate=A,this.contexts.forEach((W,be)=>W.fill=Math.round(100*cn(A-be,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(A,W)=>({fill:0,index:W}))}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Xs),i.rXU(i.gRc))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-rating"]],contentQueries:function(A,W,be){if(1&A&&i.wni(be,i.C4Q,5),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.starTemplateFromContent=Fe.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(A,W){1&A&&i.bIt("blur",function(){return W.handleBlur()})("keydown",function(Fe){return W.handleKeyDown(Fe)})("mouseleave",function(){return W.reset()}),2&A&&(i.Mr5("tabindex",W.disabled?-1:0),i.BMQ("aria-valuemax",W.max)("aria-valuenow",W.nextRate)("aria-valuetext",W.ariaValueText())("aria-disabled",!!W.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[i.Jv_([{provide:Q.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0}]),i.OA$],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(A,W){1&A&&i.DNE(0,Et,1,1,"ng-template",null,0,i.C5r)(2,mt,4,5,"ng-template",1),2&A&&(i.R7$(2),i.Y8G("ngForOf",W.contexts))},dependencies:[n.Sq,n.T3],encapsulation:2,changeDetection:0}),k})(),tc=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[n.MD]]}),k})();class Ns{constructor(ue,A,W){this.hour=Bi(ue),this.minute=Bi(A),this.second=Bi(W)}changeHour(ue=1){this.updateHour((isNaN(this.hour)?0:this.hour)+ue)}updateHour(ue){this.hour=Ut(ue)?(ue<0?24+ue:ue)%24:NaN}changeMinute(ue=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+ue)}updateMinute(ue){Ut(ue)?(this.minute=ue%60<0?60+ue%60:ue%60,this.changeHour(Math.floor(ue/60))):this.minute=NaN}changeSecond(ue=1){this.updateSecond((isNaN(this.second)?0:this.second)+ue)}updateSecond(ue){Ut(ue)?(this.second=ue<0?60+ue%60:ue%60,this.changeMinute(Math.floor(ue/60))):this.second=NaN}isValid(ue=!0){return Ut(this.hour)&&Ut(this.minute)&&(!ue||Ut(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let Ll=(()=>{class k{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),qa=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:()=>function uh(){return new qd}(),providedIn:"root"}),k})(),qd=(()=>{class k extends qa{fromModel(A){return A&&Cn(A.hour)&&Cn(A.minute)?{hour:A.hour,minute:A.minute,second:Cn(A.second)?A.second:null}:null}toModel(A){return A&&Cn(A.hour)&&Cn(A.minute)?{hour:A.hour,minute:A.minute,second:Cn(A.second)?A.second:null}:null}}return k.\u0275fac=(()=>{let ue;return function(W){return(ue||(ue=i.xGo(k)))(W||k)}})(),k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})(),xl=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:function(A){let W=null;return W=A?new A:function hh(k){return new ei(k)}(i.KVO(i.xe9)),W},providedIn:"root"}),k})(),ei=(()=>{class k extends xl{constructor(A){super(),this._periods=(0,n.rd)(A,n.oV.Standalone,n.cH.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(i.xe9))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})();const Wp=/[^0-9]/g;let ug=(()=>{class k{constructor(A,W,be,Fe){this._config=A,this._ngbTimeAdapter=W,this._cd=be,this.i18n=Fe,this.onChange=Vt=>{},this.onTouched=()=>{},this.meridian=A.meridian,this.spinners=A.spinners,this.seconds=A.seconds,this.hourStep=A.hourStep,this.minuteStep=A.minuteStep,this.secondStep=A.secondStep,this.disabled=A.disabled,this.readonlyInputs=A.readonlyInputs,this.size=A.size}set hourStep(A){this._hourStep=Cn(A)?A:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(A){this._minuteStep=Cn(A)?A:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(A){this._secondStep=Cn(A)?A:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(A){const W=this._ngbTimeAdapter.fromModel(A);this.model=W?new Ns(W.hour,W.minute,W.second):new Ns,!this.seconds&&(!W||!Ut(W.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}setDisabledState(A){this.disabled=A}changeHour(A){this.model.changeHour(A),this.propagateModelChange()}changeMinute(A){this.model.changeMinute(A),this.propagateModelChange()}changeSecond(A){this.model.changeSecond(A),this.propagateModelChange()}updateHour(A){const W=this.model.hour>=12,be=Bi(A);this.model.updateHour(this.meridian&&(W&&be<12||!W&&12===be)?be+12:be),this.propagateModelChange()}updateMinute(A){this.model.updateMinute(Bi(A)),this.propagateModelChange()}updateSecond(A){this.model.updateSecond(Bi(A)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(A){A.value=A.value.replace(Wp,"")}formatHour(A){return Ut(A)?ai(this.meridian?A%12==0?12:A%12:A%24):ai(NaN)}formatMinSec(A){return ai(Ut(A)?A:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(A){A.seconds&&!this.seconds&&this.model&&!Ut(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(A=!0){A&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Ll),i.rXU(qa),i.rXU(i.gRc),i.rXU(xl))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[i.Jv_([{provide:Q.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0}]),i.OA$],decls:16,vars:25,consts:()=>{let ue,A,W,be,Fe,Vt,an,vn,xn,es,Ls,hs,js,wi;return ue=$localize`:@@ngb.timepicker.HH:HH`,A=$localize`:@@ngb.timepicker.hours:Hours`,W=$localize`:@@ngb.timepicker.MM:MM`,be=$localize`:@@ngb.timepicker.minutes:Minutes`,Fe=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,Vt=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,an=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,vn=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,xn=$localize`:@@ngb.timepicker.SS:SS`,es=$localize`:@@ngb.timepicker.seconds:Seconds`,Ls=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,hs=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,js=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,wi=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["am",""],Fe,Vt,an,vn,Ls,hs,js,wi,[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",ue,"aria-label",A,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",W,"aria-label",be,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"click","disabled"],[1,"chevron","ngb-tp-chevron"],[1,"sr-only"],[1,"chevron","ngb-tp-chevron","bottom"],[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",xn,"aria-label",es,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],[4,"ngIf","ngIfElse"]]},template:function(A,W){1&A&&(i.j41(0,"fieldset",9)(1,"div",10)(2,"div",11),i.DNE(3,xt,4,7,"button",12),i.j41(4,"input",13),i.bIt("change",function(Fe){return W.updateHour(Fe.target.value)})("blur",function(){return W.handleBlur()})("input",function(Fe){return W.formatInput(Fe.target)})("keydown.ArrowUp",function(Fe){return W.changeHour(W.hourStep),Fe.preventDefault()})("keydown.ArrowDown",function(Fe){return W.changeHour(-W.hourStep),Fe.preventDefault()}),i.k0s(),i.DNE(5,sn,4,7,"button",12),i.k0s(),i.j41(6,"div",14),i.EFF(7,":"),i.k0s(),i.j41(8,"div",15),i.DNE(9,jn,4,7,"button",12),i.j41(10,"input",16),i.bIt("change",function(Fe){return W.updateMinute(Fe.target.value)})("blur",function(){return W.handleBlur()})("input",function(Fe){return W.formatInput(Fe.target)})("keydown.ArrowUp",function(Fe){return W.changeMinute(W.minuteStep),Fe.preventDefault()})("keydown.ArrowDown",function(Fe){return W.changeMinute(-W.minuteStep),Fe.preventDefault()}),i.k0s(),i.DNE(11,An,4,7,"button",12),i.k0s(),i.DNE(12,ds,2,0,"div",17)(13,yi,4,9,"div",18)(14,Yi,1,0,"div",17)(15,Hs,5,9,"div",19),i.k0s()()),2&A&&(i.AVh("disabled",W.disabled),i.Y8G("disabled",W.disabled),i.R7$(3),i.Y8G("ngIf",W.spinners),i.R7$(),i.AVh("form-control-sm",W.isSmallSize)("form-control-lg",W.isLargeSize),i.Y8G("value",W.formatHour(null==W.model?null:W.model.hour))("readOnly",W.readonlyInputs)("disabled",W.disabled),i.R7$(),i.Y8G("ngIf",W.spinners),i.R7$(4),i.Y8G("ngIf",W.spinners),i.R7$(),i.AVh("form-control-sm",W.isSmallSize)("form-control-lg",W.isLargeSize),i.Y8G("value",W.formatMinSec(null==W.model?null:W.model.minute))("readOnly",W.readonlyInputs)("disabled",W.disabled),i.R7$(),i.Y8G("ngIf",W.spinners),i.R7$(),i.Y8G("ngIf",W.seconds),i.R7$(),i.Y8G("ngIf",W.seconds),i.R7$(),i.Y8G("ngIf",W.meridian),i.R7$(),i.Y8G("ngIf",W.meridian))},dependencies:[n.bT],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),k})(),ph=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[n.MD]]}),k})(),Kp=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[n.MD]]}),k})(),Hp=(()=>{class k{constructor(A){this._ngbConfig=A,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(A){this._animation=A}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(Ps))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),hg=0,pg=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(A,W){2&A&&(i.Mr5("id",W.id),i.HbH("tooltip"+(W.tooltipClass?" "+W.tooltipClass:"")),i.AVh("fade",W.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:le,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(A,W){1&A&&(i.NAR(),i.nrm(0,"div",0),i.j41(1,"div",1),i.SdG(2),i.k0s())},styles:["ngb-tooltip-window{pointer-events:none}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top .arrow,ngb-tooltip-window.bs-tooltip-bottom .arrow{left:calc(50% - 0.4rem)}ngb-tooltip-window.bs-tooltip-top-left .arrow,ngb-tooltip-window.bs-tooltip-bottom-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-top-right .arrow,ngb-tooltip-window.bs-tooltip-bottom-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - 0.4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}\n"],encapsulation:2,changeDetection:0}),k})(),Tn=(()=>{class k{constructor(A,W,be,Fe,Vt,an,vn,xn,es){this._elementRef=A,this._renderer=W,this._ngZone=an,this._document=vn,this._changeDetector=xn,this.shown=new i.bkB,this.hidden=new i.bkB,this._ngbTooltipWindowId="ngb-tooltip-"+hg++,this._windowRef=null,this.animation=Vt.animation,this.autoClose=Vt.autoClose,this.placement=Vt.placement,this.triggers=Vt.triggers,this.container=Vt.container,this.disableTooltip=Vt.disableTooltip,this.tooltipClass=Vt.tooltipClass,this.openDelay=Vt.openDelay,this.closeDelay=Vt.closeDelay,this._popupService=new Qa(pg,be,Fe,W,this._ngZone,es),this._zoneSubscription=an.onStable.subscribe(()=>{this._windowRef&&Nt(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container,"bs-tooltip")})}set ngbTooltip(A){this._ngbTooltip=A,!A&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(A){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:W,transition$:be}=this._popupService.open(this._ngbTooltip,A,this.animation);this._windowRef=W,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),eo(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),be.subscribe(()=>this.shown.emit())}}close(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(()=>{this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function ii(k,ue,A,W,be,Fe,Vt=0,an=0){const vn=function mo(k,ue=dd){const A=(k||"").trim();if(0===A.length)return[];const W=A.split(/\s+/).map(Fe=>Fe.split(":")).map(Fe=>{let Vt=ue[Fe[0]]||Fe;return new Mc(Vt[0],Vt[1])}),be=W.filter(Fe=>Fe.isManual());if(be.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===be.length&&W.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return W}(A);if(1===vn.length&&vn[0].isManual())return()=>{};const xn=function lh(k,ue,A,W){return new c.c(be=>{const Fe=[],Vt=()=>be.next(!0),an=()=>be.next(!1),vn=()=>be.next(!W());return A.forEach(xn=>{xn.open===xn.close?Fe.push(k.listen(ue,xn.open,vn)):Fe.push(k.listen(ue,xn.open,Vt),k.listen(ue,xn.close,an))}),()=>{Fe.forEach(xn=>xn())}})}(k,ue,vn,W).pipe(function ch(k,ue,A){return W=>{let be=null;const Fe=W.pipe((0,F.T)(vn=>({open:vn})),(0,M.p)(vn=>{const xn=A();return xn===vn.open||be&&be.open!==xn?(be&&be.open!==vn.open&&(be=null),!1):(be=vn,!0)}),(0,ae.u)()),Vt=Fe.pipe((0,M.p)(vn=>vn.open),lr(k)),an=Fe.pipe((0,M.p)(vn=>!vn.open),lr(ue));return(0,u.h)(Vt,an).pipe((0,M.p)(vn=>vn===be&&(be=null,vn.open!==A())),(0,F.T)(vn=>vn.open))}}(Vt,an,W)).subscribe(es=>es?be():Fe());return()=>xn.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:A}){A&&this.isOpen()&&(this._windowRef.instance.tooltipClass=A.currentValue)}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.zZn),i.rXU(i.c1b),i.rXU(Hp),i.rXU(i.SKi),i.rXU(n.qQ),i.rXU(i.gRc),i.rXU(i.o8S))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[i.OA$]}),k})(),_i=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({}),k})(),Sc=(()=>{class k{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(A){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const W=Pt(this.result),be=Array.isArray(this.term)?this.term:[this.term],Fe=xn=>this.accentSensitive?xn:Zr(xn),Vt=be.map(xn=>function Ei(k){return k.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(Fe(Pt(xn)))).filter(xn=>xn),an=this.accentSensitive?W:Zr(W),vn=Vt.length?an.split(new RegExp(`(${Vt.join("|")})`,"gmi")):[W];if(this.accentSensitive)this.parts=vn;else{let xn=0;this.parts=vn.map(es=>W.substring(xn,xn+=es.length))}}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},features:[i.OA$],decls:1,vars:1,consts:[["even",""],["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"]],template:function(A,W){1&A&&i.DNE(0,cr,3,2,"ng-template",1),2&A&&i.Y8G("ngForOf",W.parts)},dependencies:[n.Sq,n.bT],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),k})(),zp=(()=>{class k{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=Pt,this.selectEvent=new i.bkB,this.activeChangeEvent=new i.bkB}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(A){this.activeIdx=A,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(A){this.selectEvent.emit(A)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox"],hostVars:3,hostBindings:function(A,W){1&A&&i.bIt("mousedown",function(Fe){return Fe.preventDefault()}),2&A&&(i.Mr5("id",W.id),i.HbH("dropdown-menu show"+(W.popupClass?" "+W.popupClass:"")))},inputs:{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate",popupClass:"popupClass"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"mouseenter","click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(A,W){1&A&&i.DNE(0,Zs,1,2,"ng-template",null,0,i.C5r)(2,Ho,2,9,"ng-template",1),2&A&&(i.R7$(2),i.Y8G("ngForOf",W.results))},dependencies:[Sc,n.Sq,n.T3],encapsulation:2}),k})(),ti=(()=>{class k{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const tu=new i.nKC("live announcer delay",{providedIn:"root",factory:function nc(){return 100}});function xa(k,ue=!1){let A=k.body.querySelector("#ngb-live");return null==A&&ue&&(A=k.createElement("div"),A.setAttribute("id","ngb-live"),A.setAttribute("aria-live","polite"),A.setAttribute("aria-atomic","true"),A.classList.add("sr-only"),k.body.appendChild(A)),A}let Nl=(()=>{class k{constructor(A,W){this._document=A,this._delay=W}ngOnDestroy(){const A=xa(this._document);A&&A.parentElement.removeChild(A)}say(A){const W=xa(this._document,!0),be=this._delay;if(null!=W){W.textContent="";const Fe=()=>W.textContent=A;null===be?Fe():setTimeout(Fe,be)}}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(n.qQ),i.KVO(tu))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),fh=0,fg=(()=>{class k{constructor(A,W,be,Fe,Vt,an,vn,xn,es,Ls,hs){this._elementRef=A,this._renderer=be,this._live=vn,this._document=xn,this._ngZone=es,this._changeDetector=Ls,this._subscription=null,this._closed$=new g.B,this._inputValueBackup=null,this._windowRef=null,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new i.bkB,this.activeDescendant=null,this.popupId="ngb-typeahead-"+fh++,this._onTouched=()=>{},this._onChange=js=>{},this.container=Vt.container,this.editable=Vt.editable,this.focusFirst=Vt.focusFirst,this.showHint=Vt.showHint,this.placement=Vt.placement,this._valueChanges=(0,d.R)(A.nativeElement,"input").pipe((0,F.T)(js=>js.target.value)),this._resubscribeTypeahead=new _.t(null),this._popupService=new Qa(zp,Fe,W,be,this._ngZone,hs),this._zoneSubscription=an.onStable.subscribe(()=>{this.isPopupOpen()&&Nt(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}ngOnInit(){this._subscribeToUserInput()}ngOnChanges({ngbTypeahead:A}){A&&!A.firstChange&&(this._unsubscribeFromUserInput(),this._subscribeToUserInput())}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()}registerOnChange(A){this._onChange=A}registerOnTouched(A){this._onTouched=A}writeValue(A){this._writeInputValue(this._formatItemForInput(A)),this.showHint&&(this._inputValueBackup=A)}setDisabledState(A){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",A)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(A){if(this.isPopupOpen())switch(A.which){case Ts.ArrowDown:A.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case Ts.ArrowUp:A.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case Ts.Enter:case Ts.Tab:{const W=this._windowRef.instance.getActive();kn(W)&&(A.preventDefault(),A.stopPropagation(),this._selectResult(W)),this._closePopup();break}}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._elementRef.nativeElement.value;const{windowRef:A}=this._popupService.open();this._windowRef=A,this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(W=>this._selectResultClosePopup(W)),this._windowRef.instance.activeChangeEvent.subscribe(W=>this.activeDescendant=W),this._windowRef.instance.popupClass=this.popupClass,"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._changeDetector.markForCheck(),eo(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(A){let W=!1;this.selectItem.emit({item:A,preventDefault:()=>{W=!0}}),this._resubscribeTypeahead.next(null),W||(this.writeValue(A),this._onChange(A))}_selectResultClosePopup(A){this._selectResult(A),this._closePopup()}_showHint(){if(this.showHint&&this._windowRef?.instance.hasActive()&&null!=this._inputValueBackup){const A=this._inputValueBackup.toLowerCase(),W=this._formatItemForInput(this._windowRef.instance.getActive());A===W.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+W.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,W.length])):this._writeInputValue(W)}}_formatItemForInput(A){return null!=A&&this.inputFormatter?this.inputFormatter(A):Pt(A)}_writeInputValue(A){this._renderer.setProperty(this._elementRef.nativeElement,"value",Pt(A))}_subscribeToUserInput(){const A=this._valueChanges.pipe((0,G.M)(W=>{this._inputValueBackup=this.showHint?W:null,this._onChange(this.editable?W:void 0)}),this.ngbTypeahead?this.ngbTypeahead:()=>(0,f.of)([]));this._subscription=this._resubscribeTypeahead.pipe((0,x.n)(()=>A)).subscribe(W=>{W&&0!==W.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=W,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const be=W?W.length:0;this._live.say(0===be?"No results available":`${be} result${1===be?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(i.zZn),i.rXU(ti),i.rXU(i.SKi),i.rXU(Nl),i.rXU(n.qQ),i.rXU(i.SKi),i.rXU(i.gRc),i.rXU(i.o8S))},k.\u0275dir=i.FsC({type:k,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(A,W){1&A&&i.bIt("blur",function(){return W.handleBlur()})("keydown",function(Fe){return W.handleKeyDown(Fe)}),2&A&&(i.Mr5("autocomplete",W.autocomplete),i.BMQ("aria-autocomplete",W.showHint?"both":"list")("aria-activedescendant",W.activeDescendant)("aria-owns",W.isPopupOpen()?W.popupId:null)("aria-expanded",W.isPopupOpen()),i.AVh("open",W.isPopupOpen()))},inputs:{autocomplete:"autocomplete",container:"container",editable:"editable",focusFirst:"focusFirst",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate",showHint:"showHint",placement:"placement",popupClass:"popupClass"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[i.Jv_([{provide:Q.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0}]),i.OA$]}),k})(),Qr=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[n.MD]]}),k})();const mh=[ct,Jn,Yr,Xr,Ge,ki,Tc,Se,wo,cd,Fr,dh,tc,ph,Kp,_i,Qr];let Vo=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[mh,ct,Jn,Yr,Xr,Ge,ki,Tc,Se,wo,cd,Fr,dh,tc,ph,Kp,_i,Qr]}),k})()},89593:(B,D,t)=>{"use strict";t.d(D,{fcY:()=>mt,DAG:()=>Xi,P3:()=>mn,Fdw:()=>V,WlY:()=>le,eU4:()=>re,W25:()=>xs,fQD:()=>gt,wnr:()=>os,FlA:()=>Ie,KMD:()=>Wt,PTN:()=>ks,TwG:()=>Ln,CTm:()=>yn,_sU:()=>sn,A0q:()=>Yi,JVJ:()=>rn,M7d:()=>ve,eGm:()=>zt,dku:()=>Ke,mEL:()=>G,fHx:()=>Z,UqU:()=>De,f4U:()=>K,cYz:()=>X,S6A:()=>x,R7k:()=>Ss,HkG:()=>ae,iO5:()=>Mn,fpj:()=>wt,$eO:()=>Mi,J9r:()=>Zn,STK:()=>Rn,EET:()=>Xe,rA_:()=>ke,Vne:()=>gi,X7I:()=>Dt,tK_:()=>bn,z4z:()=>Fs,vJF:()=>Bt,Zex:()=>In,AjF:()=>Ds,zUr:()=>ut,fXj:()=>xt,hDs:()=>Q,zno:()=>fs,sU3:()=>z});var i=t(53107),n=t(31635),c=t(71217),e=t(11531),f=t(63016),g=t(17509),y=(t(32989),t(82040)),E=t(47947),_=t(30593),b=t(66645),O=t(15351),I=t(42483),T=t(95891),u=t(41483),w=t(43295),v=t(10936),S=t(54460);function M(se){return"boolean"==typeof se}function L(se){return"function"==typeof se}function F(se){return"number"==typeof se}function $(se){return"object"==typeof se&&null!==se}function j(se){return"string"==typeof se}class x{constructor($e,me){this.layoutService=$e,this.validationService=me,this._hasFocus=!1}get control(){const $e=this.group.get(this.model.id);if(null===$e)throw new Error(`form group does not contain an abstract control with id ${this.model.id}`);return $e}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}getClass($e,me,bt=this.model){const kt=bt===this.model?this.layout:this.layoutService.findByModel(bt,this.formLayout)??bt.layout;return this.layoutService.getClass(kt,$e,me)}onBlur($e){$e instanceof Event&&$e.stopPropagation(),this._hasFocus=!1,this.blur.emit($e)}onChange($e){$e instanceof Event&&$e.stopPropagation(),this.change.emit($e)}onCustomEvent($e,me=null,bt=!1){bt?this.customEvent?.emit($e):j(me)&&this.customEvent?.emit({customEvent:$e,customEventType:me})}onFocus($e){$e instanceof Event&&$e.stopPropagation(),this._hasFocus=!0,this.focus.emit($e)}}class G extends x{get array(){return this.control}get startTemplate(){return this.layoutService.getStartTemplate(this.model,this.templates)}get endTemplate(){return this.layoutService.getEndTemplate(this.model,this.templates)}markForCheck(){this.components instanceof i.rOR&&this.components.forEach($e=>$e.markForCheck())}}class Y extends x{markForCheck(){this.components instanceof i.rOR&&this.components.forEach($e=>$e.markForCheck())}}const V=new i.nKC("DYNAMIC_FORM_CONTROL_MAP_FN");let X=(()=>{class se{constructor(me){this.DYNAMIC_FORM_CONTROL_MAP_FN=me,this.forms=[],this.formControls={},this.DYNAMIC_FORM_CONTROL_MAP_FN=me}getForms(){return this.forms.values()}registerForm(me){this.forms.push(me)}unregisterForm(me){const bt=this.forms.indexOf(me);-1!==bt&&this.forms.splice(bt,1)}getFormControlRef(me,bt){const kt=this.formControls[me];return F(bt)?Array.isArray(kt)?kt[bt]:void 0:kt}registerFormControl(me,bt,kt){if(F(kt)){const pn=this.formControls[me.id]||[];Array.isArray(pn)?(pn.splice(kt,0,bt),this.formControls[me.id]=pn):console.warn(`registerFormControlRef is called with index for a non-array form control: ${me.id}`)}else this.formControls[me.id]=bt}unregisterFormControl(me,bt){const kt=this.formControls[me];F(bt)?Array.isArray(kt)&&void 0!==kt[bt]&&kt.splice(bt,1):void 0!==kt&&delete this.formControls[me]}getCustomComponentType(me){return L(this.DYNAMIC_FORM_CONTROL_MAP_FN)?this.DYNAMIC_FORM_CONTROL_MAP_FN(me):null}}return se.\u0275fac=function(me){return new(me||se)(i.KVO(V,8))},se.\u0275prov=i.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),K=(()=>{class se{constructor(me,bt){this.changeDetectorRef=me,this.componentService=bt}ngOnInit(){this.componentService.registerForm(this)}ngOnDestroy(){this.componentService.unregisterForm(this)}trackByFn(me,bt){return bt.id}markForCheck(){this.changeDetectorRef.markForCheck(),this.components instanceof i.rOR&&this.components.forEach(me=>me.markForCheck())}detectChanges(){this.changeDetectorRef.detectChanges()}onBlur(me){this.blur?.emit(me)}onChange(me){this.change?.emit(me)}onFocus(me){this.focus?.emit(me)}onCustomEvent(me,bt){bt.emit(me)}}return se.\u0275fac=function(me){return new(me||se)(i.rXU(i.gRc),i.rXU(X))},se.\u0275dir=i.FsC({type:se}),se})();var ae=function(se){return se.Blur="blur",se.Change="change",se.Focus="focus",se}(ae||{});function Q(se){return $(se)&&se.hasOwnProperty("$event")}const J="SERIALIZABLE";function z(se){return($e,me)=>{Reflect.defineMetadata(J,{key:me,name:se||me},$e,me)}}function ee(se,$e){return function q(se){const $e=[];for(const me in se){const bt=Reflect.getMetadata(J,se,me);bt&&$e.push(bt)}return $e}($e||se).reduce((me,bt)=>(me[bt.name]=se[bt.key],me),{})}let de=(()=>{class se{constructor(me,bt=null){this.parent=null,this.asyncValidators=me.asyncValidators??null,this.errorMessages=me.errorMessages??null,this.hidden=!!M(me.hidden)&&me.hidden,this.id=me.id,this.label=me.label??null,this.labelTooltip=me.labelTooltip??null,this.controlTooltip=me.controlTooltip??null,this.layout=bt,this.name=me.name??me.id,this.relations=Array.isArray(me.relations)?me.relations:[],this.updateOn=j(me.updateOn)?me.updateOn:null,this.validators=me.validators??null,this._disabled=!!M(me.disabled)&&me.disabled,this.disabled$=new c.t(this._disabled),this.disabled$.subscribe(kt=>this._disabled=kt),this.disabledChanges=this.disabled$.asObservable()}get disabled(){return this.disabled$.getValue()}set disabled(me){this.disabled$.next(me)}get hasErrorMessages(){return $(this.errorMessages)}toJSON(){return ee(this)}}return(0,n.Cg)([z()],se.prototype,"asyncValidators",void 0),(0,n.Cg)([z("disabled")],se.prototype,"_disabled",void 0),(0,n.Cg)([z()],se.prototype,"errorMessages",void 0),(0,n.Cg)([z()],se.prototype,"hidden",void 0),(0,n.Cg)([z()],se.prototype,"id",void 0),(0,n.Cg)([z()],se.prototype,"label",void 0),(0,n.Cg)([z()],se.prototype,"labelTooltip",void 0),(0,n.Cg)([z()],se.prototype,"controlTooltip",void 0),(0,n.Cg)([z()],se.prototype,"layout",void 0),(0,n.Cg)([z()],se.prototype,"name",void 0),(0,n.Cg)([z()],se.prototype,"relations",void 0),(0,n.Cg)([z()],se.prototype,"updateOn",void 0),(0,n.Cg)([z()],se.prototype,"validators",void 0),se})(),Ce=(()=>{class se extends de{constructor(me,bt){super(me,bt),this.additional=$(me.additional)?me.additional:null,this.hint=me.hint??null,this.required=!!M(me.required)&&me.required,this.tabIndex=me.tabIndex??null,this._value=me.value??null,this.value$=new c.t(this._value),this.value$.subscribe(kt=>this._value=kt),this.valueChanges=this.value$.asObservable()}get value(){return this.value$.getValue()}set value(me){this.value$.next(me)}getAdditional(me,bt){return null!==this.additional&&this.additional.hasOwnProperty(me)?this.additional[me]:bt}}return(0,n.Cg)([z()],se.prototype,"additional",void 0),(0,n.Cg)([z()],se.prototype,"hint",void 0),(0,n.Cg)([z()],se.prototype,"required",void 0),(0,n.Cg)([z()],se.prototype,"tabIndex",void 0),(0,n.Cg)([z("value")],se.prototype,"_value",void 0),se})(),Z=(()=>{class se{constructor(me,bt=[],kt=-1){this.$implicit=this,this.context=me,this.group=bt,this.index=kt}get parent(){return this.context}get(me){return this.group[me]}toJSON(){return ee(this)}}return(0,n.Cg)([z()],se.prototype,"group",void 0),(0,n.Cg)([z()],se.prototype,"index",void 0),se})();const le="ARRAY";let De=(()=>{class se extends de{constructor(me,bt){if(super(me,bt),this.groups=[],this.type=le,!L(me.groupFactory))throw new Error("group factory function must be specified for DynamicFormArrayModel");if(this.groupFactory=me.groupFactory,this.groupAsyncValidators=me.groupAsyncValidators??null,this.groupPrototype=this.groupFactory(),this.groupValidators=me.groupValidators??null,this.initialCount=F(me.initialCount)?me.initialCount:1,Array.isArray(me.groups))me.groups.forEach((kt,pn)=>{this.groups.push(new Z(this,kt.group,kt.index??pn))});else for(let kt=0;kt<this.initialCount;kt++)this.addGroup()}updateGroupIndex(){this.groups.forEach((me,bt)=>me.index=bt)}get size(){return this.groups.length}get(me){return this.groups[me]}addGroup(){return this.insertGroup(this.groups.length)}insertGroup(me){const bt=new Z(this,this.groupFactory());return this.groups.splice(me,0,bt),this.updateGroupIndex(),bt}moveGroup(me,bt){this.groups.splice(me+bt,0,...this.groups.splice(me,1)),this.updateGroupIndex()}removeGroup(me){this.groups.splice(me,1),this.updateGroupIndex()}clear(){this.groups.splice(0),this.updateGroupIndex()}}return(0,n.Cg)([z()],se.prototype,"groupAsyncValidators",void 0),(0,n.Cg)([z()],se.prototype,"groupValidators",void 0),(0,n.Cg)([z()],se.prototype,"groups",void 0),(0,n.Cg)([z()],se.prototype,"initialCount",void 0),(0,n.Cg)([z()],se.prototype,"groupPrototype",void 0),(0,n.Cg)([z()],se.prototype,"type",void 0),se})(),pe=(()=>{class se extends Ce{constructor(me,bt){super(me,bt),this.labelPosition=me.labelPosition??null,this.checked=!!M(this.value)&&this.value}get checked(){return this.value??!1}set checked(me){this.value=me}toggle(){this.checked=!this.checked}}return(0,n.Cg)([z()],se.prototype,"labelPosition",void 0),se})();const re="CHECKBOX";let ve=(()=>{class se extends pe{constructor(me,bt){super(me,bt),this.type=re,this.indeterminate=!!M(me.indeterminate)&&me.indeterminate}}return(0,n.Cg)([z()],se.prototype,"indeterminate",void 0),(0,n.Cg)([z()],se.prototype,"type",void 0),se})(),fe=(()=>{class se extends Ce{constructor(me,bt){super(me,bt),this.autoComplete=me.autoComplete??"on",this.autoFocus=!!M(me.autoFocus)&&me.autoFocus,this.maxLength=F(me.maxLength)?me.maxLength:null,this.minLength=F(me.minLength)?me.minLength:null,this.placeholder=me.placeholder??"",this.prefix=me.prefix??null,this.readOnly=!!M(me.readOnly)&&me.readOnly,this.spellCheck=!!M(me.spellCheck)&&me.spellCheck,this.suffix=me.suffix??null}}return(0,n.Cg)([z()],se.prototype,"autoComplete",void 0),(0,n.Cg)([z()],se.prototype,"autoFocus",void 0),(0,n.Cg)([z()],se.prototype,"maxLength",void 0),(0,n.Cg)([z()],se.prototype,"minLength",void 0),(0,n.Cg)([z()],se.prototype,"placeholder",void 0),(0,n.Cg)([z()],se.prototype,"prefix",void 0),(0,n.Cg)([z()],se.prototype,"readOnly",void 0),(0,n.Cg)([z()],se.prototype,"spellCheck",void 0),(0,n.Cg)([z()],se.prototype,"suffix",void 0),se})();const Ie="INPUT";let ke=(()=>{class se extends fe{constructor(me,bt){super(me,bt),this.files=null,this.list$=null,this._list=null,this._listId=null,this.type=Ie,this.accept=me.accept??null,this.inputType=me.inputType??"text",this.mask=me.mask??"",this.maskConfig=me.maskConfig?{...w.Dz,...me.maskConfig}:w.Dz,this.max=void 0!==me.max?me.max:null,this.min=void 0!==me.min?me.min:null,this.multiple=M(me.multiple)?me.multiple:null,this.pattern=me.pattern??null,this.step=F(me.step)?me.step:null,void 0!==me.list&&(this.list=me.list,this._listId=`${this.id}List`)}get listId(){return this._listId}get hasList(){return(0,e.A)(this.list$)}set list(me){Array.isArray(me)?(this._list=me,this.list$=(0,f.of)(this._list)):(0,e.A)(me)?this.list$=me.pipe((0,y.M)(bt=>this._list=bt)):(this._list=null,this.list$=null)}}return(0,n.Cg)([z()],se.prototype,"accept",void 0),(0,n.Cg)([z()],se.prototype,"inputType",void 0),(0,n.Cg)([z()],se.prototype,"mask",void 0),(0,n.Cg)([z()],se.prototype,"maskConfig",void 0),(0,n.Cg)([z()],se.prototype,"max",void 0),(0,n.Cg)([z()],se.prototype,"min",void 0),(0,n.Cg)([z()],se.prototype,"multiple",void 0),(0,n.Cg)([z()],se.prototype,"pattern",void 0),(0,n.Cg)([z()],se.prototype,"step",void 0),(0,n.Cg)([z("list")],se.prototype,"_list",void 0),(0,n.Cg)([z()],se.prototype,"type",void 0),se})();var dt=function(se){return se.Start="START",se.End="END",se}(dt||{});let Bt=(()=>{class se{constructor(me){this.templateRef=me,this.align=dt.End,this.as=null}}return se.\u0275fac=function(me){return new(me||se)(i.rXU(i.C4Q))},se.\u0275dir=i.FsC({type:se,selectors:[["ng-template","modelId",""],["ng-template","modelType",""]],inputs:{align:"align",as:"as",index:"index",modelId:"modelId",modelType:"modelType"}}),se})(),wt=(()=>{class se{findById(me,bt){if($(bt))for(const kt of Object.keys(bt))if(kt===me)return bt[kt];return null}findByModel(me,bt){let kt=null;if($(bt))for(const pn of Object.keys(bt))pn.split(",").forEach(Hn=>{const ss=Hn.trim();(ss===me.id||ss===me.type)&&(kt=bt[pn])});return kt}filterTemplatesByModel(me,bt){return bt instanceof i.rOR||Array.isArray(bt)?bt.filter(pn=>pn.modelId===me.id||pn.modelType===me.type):[]}getAlignedTemplate(me,bt,kt){return this.filterTemplatesByModel(me,bt).find(pn=>null===pn.as&&pn.align===kt)}getStartTemplate(me,bt){return this.getAlignedTemplate(me,bt,dt.Start)}getEndTemplate(me,bt){return this.getAlignedTemplate(me,bt,dt.End)}getClass(me,bt,kt){if($(me)&&me.hasOwnProperty(bt)){const pn=me[bt];if(pn.hasOwnProperty(kt))return pn[kt]}return""}getHostClass(me){let kt="";return $(me)&&["element","grid"].forEach(pn=>{$(me[pn])&&j(me[pn]?.host)&&(kt+=` ${me[pn]?.host}`)}),kt}getElementId(me){let bt=me.id,kt=me.parent;for(;null!==kt;){if(kt instanceof Z){bt=`${kt.context.id}-${kt.index}-${me.id}`;break}kt=kt.parent}return bt}}return se.\u0275fac=function(me){return new(me||se)},se.\u0275prov=i.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),se})();var tn=function(se){return se.Blur="blur",se.Change="change",se.Submit="submit",se}(tn||{});const It=new i.nKC("DYNAMIC_VALIDATORS"),mn=new i.nKC("DYNAMIC_ERROR_MESSAGES_MATCHER");let Rn=(()=>{class se{constructor(me,bt,kt,pn){this._NG_VALIDATORS=me,this._NG_ASYNC_VALIDATORS=bt,this._DYNAMIC_VALIDATORS=kt,this._DYNAMIC_ERROR_MESSAGES_MATCHER=pn}getValidatorFn(me,bt=null,kt=this._NG_VALIDATORS){let pn;if(v.k0.hasOwnProperty(me)?pn=v.k0[me]:this._DYNAMIC_VALIDATORS&&this._DYNAMIC_VALIDATORS.has(me)?pn=this._DYNAMIC_VALIDATORS.get(me):kt&&(pn=kt.find(Hn=>Hn.name===me)),void 0===pn)throw new Error(`validator "${me}" is not provided via NG_VALIDATORS, NG_ASYNC_VALIDATORS or DYNAMIC_FORM_VALIDATORS`);return null!==bt?pn(bt):pn}getValidatorFns(me,bt=this._NG_VALIDATORS){let kt=[];return $(me)&&(kt=Object.keys(me).map(pn=>{const Hn=me[pn];return this.isValidatorDescriptor(Hn)?this.getValidatorFn(Hn.name,Hn.args,bt):this.getValidatorFn(pn,Hn,bt)})),kt}getValidator(me,bt=null){return this.getValidatorFn(me,bt)}getAsyncValidator(me,bt=null){return this.getValidatorFn(me,bt,this._NG_ASYNC_VALIDATORS)}getValidators(me){return this.getValidatorFns(me)}getAsyncValidators(me){return this.getValidatorFns(me,this._NG_ASYNC_VALIDATORS)}updateValidators(me,bt,kt){kt.validators=me,null===me?bt.clearValidators():bt.setValidators(this.getValidators(me)),bt.updateValueAndValidity()}updateAsyncValidators(me,bt,kt){kt.asyncValidators=me,null===me?bt.clearAsyncValidators():bt.setAsyncValidators(this.getAsyncValidators(me)),bt.updateValueAndValidity()}showErrorMessages(me,bt,kt){const pn=me.invalid&&bt.hasErrorMessages,Hn=this._DYNAMIC_ERROR_MESSAGES_MATCHER?this._DYNAMIC_ERROR_MESSAGES_MATCHER(me,bt,kt):((se,$e,me)=>se.touched&&!me)(me,0,kt);return pn&&Hn}parseErrorMessageConfig(me,bt,kt=null){return me.replace(/{{\s*(.+?)\s*}}/gm,(pn,Hn)=>{let ss=bt,ys=Hn;return Hn.indexOf("validator.")>=0&&kt&&(ss=kt,ys=Hn.replace("validator.","")),null!=ss[ys]?ss[ys]:null})}createErrorMessages(me,bt){const kt=[];if(bt.hasErrorMessages){const pn=bt.errorMessages;Object.keys(me.errors||{}).forEach(Hn=>{let ss=Hn;if(("minlength"===Hn||"maxlength"===Hn)&&(ss=ss.replace("length","Length")),pn.hasOwnProperty(ss)){const ys=me.getError(Hn);kt.push(this.parseErrorMessageConfig(pn[ss],bt,ys))}})}return kt}isFormHook(me){return j(me)&&Object.values(tn).includes(me)}isValidatorDescriptor(me){return!!$(me)&&me.hasOwnProperty("name")&&me.hasOwnProperty("args")}}return se.\u0275fac=function(me){return new(me||se)(i.KVO(v.cz,8),i.KVO(v.pg,8),i.KVO(It,8),i.KVO(mn,8))},se.\u0275prov=i.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),se})();const os="GROUP";let Mn=(()=>{class se extends de{constructor(me,bt){super(me,bt),this.type=os,this.group=Array.isArray(me.group)?me.group:[],this.legend=me.legend??null}get(me){return this.group[me]}set(me,bt){this.group[me]=bt}add(me){this.group.push(me)}insert(me,bt){this.group.splice(me,0,bt)}move(me,bt){this.group.splice(me+bt,0,...this.group.splice(me,1))}remove(me){this.group.splice(me,1)}size(){return this.group.length}}return(0,n.Cg)([z()],se.prototype,"group",void 0),(0,n.Cg)([z()],se.prototype,"legend",void 0),(0,n.Cg)([z()],se.prototype,"type",void 0),se})();const xs="CHECKBOX_GROUP";let rn=(()=>{class se extends Mn{constructor(me,bt){super(me,bt),this.type=xs}check(...me){me.forEach(bt=>this.group[bt].checked=!0)}uncheck(...me){me.forEach(bt=>this.group[bt].checked=!1)}checkAll(){this.group.forEach(me=>me.checked=!0)}uncheckAll(){this.group.forEach(me=>me.checked=!1)}}return(0,n.Cg)([z()],se.prototype,"group",void 0),(0,n.Cg)([z()],se.prototype,"type",void 0),se})();const Dn="COLORPICKER";let Lt=(()=>{class se extends Ce{constructor(me,bt){super(me,bt),this.type=Dn,this.format=j(me.format)?me.format:null,this.inline=!!M(me.inline)&&me.inline}}return(0,n.Cg)([z()],se.prototype,"format",void 0),(0,n.Cg)([z()],se.prototype,"inline",void 0),(0,n.Cg)([z()],se.prototype,"type",void 0),se})(),zt=(()=>{class se extends Ce{constructor(me,bt){super(me,bt),this.format=me.format??null,this.max=me.max??null,this.min=me.min??null,this.placeholder=me.placeholder??null}}return(0,n.Cg)([z()],se.prototype,"format",void 0),(0,n.Cg)([z()],se.prototype,"max",void 0),(0,n.Cg)([z()],se.prototype,"min",void 0),(0,n.Cg)([z()],se.prototype,"placeholder",void 0),se})();const gt="DATEPICKER";let Ke=(()=>{class se extends zt{constructor(me,bt){super(me,bt),this.type=gt,this.autoFocus=!!M(me.autoFocus)&&me.autoFocus,this.focusedDate=me.focusedDate??null,this.inline=!!M(me.inline)&&me.inline,this.prefix=me.prefix??null,this.readOnly=!!M(me.readOnly)&&me.readOnly,this.toggleIcon=j(me.toggleIcon)?me.toggleIcon:null,this.toggleLabel=j(me.toggleLabel)?me.toggleLabel:null,this.suffix=me.suffix??null}}return(0,n.Cg)([z()],se.prototype,"autoFocus",void 0),(0,n.Cg)([z()],se.prototype,"focusedDate",void 0),(0,n.Cg)([z()],se.prototype,"inline",void 0),(0,n.Cg)([z()],se.prototype,"prefix",void 0),(0,n.Cg)([z()],se.prototype,"readOnly",void 0),(0,n.Cg)([z()],se.prototype,"suffix",void 0),(0,n.Cg)([z()],se.prototype,"toggleIcon",void 0),(0,n.Cg)([z()],se.prototype,"toggleLabel",void 0),(0,n.Cg)([z()],se.prototype,"type",void 0),se})(),He=(()=>{class se extends fe{constructor(me,bt){super(me,bt),this.type="EDITOR"}}return(0,n.Cg)([z()],se.prototype,"type",void 0),se})(),We=(()=>{class se extends Ce{constructor(me,bt){super(me,bt),this.multiple=!!M(me.multiple)&&me.multiple}}return(0,n.Cg)([z()],se.prototype,"multiple",void 0),se})();const Ct="FILE_UPLOAD";let Qe=(()=>{class se extends We{constructor(me,bt){super(me,bt),this.type=Ct,this.accept=Array.isArray(me.accept)?me.accept:null,this.autoUpload=!M(me.autoUpload)||me.autoUpload,this.maxSize=F(me.maxSize)?me.maxSize:null,this.minSize=F(me.minSize)?me.minSize:null,this.removeUrl=me.removeUrl??null,this.showFileList=!M(me.showFileList)||me.showFileList,this.url=me.url??null}}return(0,n.Cg)([z()],se.prototype,"accept",void 0),(0,n.Cg)([z()],se.prototype,"autoUpload",void 0),(0,n.Cg)([z()],se.prototype,"maxSize",void 0),(0,n.Cg)([z()],se.prototype,"minSize",void 0),(0,n.Cg)([z()],se.prototype,"removeUrl",void 0),(0,n.Cg)([z()],se.prototype,"showFileList",void 0),(0,n.Cg)([z()],se.prototype,"url",void 0),(0,n.Cg)([z()],se.prototype,"type",void 0),se})(),Ot=(()=>{class se{constructor(me){this.disabled=!!M(me.disabled)&&me.disabled,this.label=me.label??null,this.value=me.value}get text(){return this.label}set text(me){this.label=me}toJSON(){return ee(this)}}return(0,n.Cg)([z()],se.prototype,"disabled",void 0),(0,n.Cg)([z()],se.prototype,"label",void 0),(0,n.Cg)([z()],se.prototype,"value",void 0),se})(),Dt=(()=>{class se extends Ce{constructor(me,bt){super(me,bt),this._options=[],this.options=me.options}updateOptions$(){this.options$=(0,f.of)(this.options)}set options(me){Array.isArray(me)?(this._options=me.map(bt=>new Ot(bt)),this.updateOptions$()):(0,e.A)(me)?this.options$=me.pipe((0,E.T)(bt=>(this._options=bt.map(kt=>new Ot(kt)),this._options))):this.updateOptions$()}get options(){return this._options}add(me){return this.insert(this.options.length,me)}get(me){return this.options[me]}insert(me,bt){const kt=new Ot(bt);return this.options.splice(me,0,kt),this.updateOptions$(),kt}remove(...me){me.forEach(bt=>this.options.splice(bt,1)),this.updateOptions$()}}return(0,n.Cg)([z("options")],se.prototype,"_options",void 0),se})();const Wt="RADIO_GROUP";let bn=(()=>{class se extends Dt{constructor(me,bt){super(me,bt),this.type=Wt,this.legend=me.legend??null}select(me){this.value=this.get(me).value}}return(0,n.Cg)([z()],se.prototype,"legend",void 0),(0,n.Cg)([z()],se.prototype,"type",void 0),se})(),ps=(()=>{class se extends Ce{constructor(me,bt){super(me,bt),this.type="RATING",this.max=F(me.max)?me.max:10}}return(0,n.Cg)([z()],se.prototype,"max",void 0),(0,n.Cg)([z()],se.prototype,"type",void 0),se})();const ks="SELECT";let Fs=(()=>{class se extends Dt{constructor(me,bt){super(me,bt),this.type=ks,this.compareWithFn=L(me.compareWithFn)?me.compareWithFn:Object.is,this.filterable=!!M(me.filterable)&&me.filterable,this.multiple=!!M(me.multiple)&&me.multiple,this.placeholder=me.placeholder??"",this.prefix=me.prefix??null,this.suffix=me.suffix??null}select(...me){this.value=this.multiple?me.map(bt=>this.get(bt).value):this.get(me[0]).value}}return(0,n.Cg)([z()],se.prototype,"filterable",void 0),(0,n.Cg)([z()],se.prototype,"multiple",void 0),(0,n.Cg)([z()],se.prototype,"placeholder",void 0),(0,n.Cg)([z()],se.prototype,"prefix",void 0),(0,n.Cg)([z()],se.prototype,"suffix",void 0),(0,n.Cg)([z()],se.prototype,"type",void 0),se})(),ht=(()=>{class se extends Ce{constructor(me,bt){super(me,bt),this.type="SLIDER",this.max=F(me.max)?me.max:10,this.min=F(me.min)?me.min:0,this.step=F(me.step)?me.step:1,this.vertical=!!M(me.vertical)&&me.vertical}}return(0,n.Cg)([z()],se.prototype,"max",void 0),(0,n.Cg)([z()],se.prototype,"min",void 0),(0,n.Cg)([z()],se.prototype,"step",void 0),(0,n.Cg)([z()],se.prototype,"vertical",void 0),(0,n.Cg)([z()],se.prototype,"type",void 0),se})(),jt=(()=>{class se extends pe{constructor(me,bt){super(me,bt),this.type="SWITCH",this.offLabel=me.offLabel??null,this.onLabel=me.onLabel??null}}return(0,n.Cg)([z()],se.prototype,"offLabel",void 0),(0,n.Cg)([z()],se.prototype,"onLabel",void 0),(0,n.Cg)([z()],se.prototype,"type",void 0),se})();const Ln="TEXTAREA";let In=(()=>{class se extends fe{constructor(me,bt){super(me,bt),this.type=Ln,this.cols=F(me.cols)?me.cols:20,this.rows=F(me.rows)?me.rows:2,this.wrap=me.wrap??"soft"}}return(0,n.Cg)([z()],se.prototype,"cols",void 0),(0,n.Cg)([z()],se.prototype,"rows",void 0),(0,n.Cg)([z()],se.prototype,"wrap",void 0),(0,n.Cg)([z()],se.prototype,"type",void 0),se})();const yn="TIMEPICKER";let hn=(()=>{class se extends zt{constructor(me,bt){super(me,bt),this.type=yn,this.meridian=!!M(me.meridian)&&me.meridian,this.showSeconds=!!M(me.showSeconds)&&me.showSeconds}}return(0,n.Cg)([z()],se.prototype,"meridian",void 0),(0,n.Cg)([z()],se.prototype,"showSeconds",void 0),(0,n.Cg)([z()],se.prototype,"type",void 0),se})();function fs(se,$e){return j($e)&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|([+\-])([\d|:]*))?$/.test($e)?new Date($e):$e}let Zn=(()=>{class se{constructor(me,bt){this.componentService=me,this.validationService=bt}createAbstractControlOptions(me=null,bt=null,kt=null){return{asyncValidators:null!==bt?this.validationService.getAsyncValidators(bt):null,validators:null!==me?this.validationService.getValidators(me):null,updateOn:null!==kt&&this.validationService.isFormHook(kt)?kt:tn.Change}}createFormArray(me){const bt=[],kt=this.createAbstractControlOptions(me.validators,me.asyncValidators,me.updateOn);for(let pn=0;pn<me.size;pn++){const Hn=me.get(pn),ss=this.createAbstractControlOptions(me.groupValidators,me.groupAsyncValidators,me.updateOn);bt.push(this.createFormGroup(Hn.group,ss,Hn))}return new v.Bm(bt,kt)}createFormGroup(me,bt=null,kt=null){const pn={};return me.forEach(Hn=>{switch(Hn.parent=kt,Hn.type){case le:pn[Hn.id]=this.createFormArray(Hn);break;case os:case xs:const ss=Hn,ys=this.createAbstractControlOptions(ss.validators,ss.asyncValidators,ss.updateOn);pn[Hn.id]=this.createFormGroup(ss.group,ys,ss);break;default:const Ni={value:Hn.value,disabled:Hn.disabled},or=this.createAbstractControlOptions(Hn.validators,Hn.asyncValidators,Hn.updateOn);pn[Hn.id]=new v.hs(Ni,or)}}),new v.J3(pn,bt)}getPathSegment(me){return me instanceof Z?me.index.toString():me.id}getPath(me,bt=!1){const kt=[this.getPathSegment(me)];let pn=me.parent;for(;pn;)kt.unshift(this.getPathSegment(pn)),pn=pn.parent;return bt?kt.join("."):kt}addFormGroupControl(me,bt,...kt){bt instanceof Mn?this.insertFormGroupControl(bt.size(),me,bt,...kt):this.insertFormGroupControl(bt.length,me,bt,...kt)}moveFormGroupControl(me,bt,kt){kt instanceof Mn?kt.move(me,bt):kt.splice(me+bt,0,...kt.splice(me,1))}insertFormGroupControl(me,bt,kt,...pn){const ss=this.createFormGroup(pn,null,kt instanceof Mn?kt:null).controls;Object.keys(ss).forEach((ys,ji)=>{const Ni=pn[ji];kt instanceof Mn?kt.insert(me,Ni):kt.splice(me,0,Ni),bt.addControl(ys,ss[ys])})}removeFormGroupControl(me,bt,kt){kt instanceof Mn?(bt.removeControl(kt.get(me).id),kt.remove(me)):(bt.removeControl(kt[me].id),kt.splice(me,1))}addFormArrayGroup(me,bt){const kt=bt.addGroup();me.push(this.createFormGroup(kt.group,null,kt))}insertFormArrayGroup(me,bt,kt){const pn=kt.insertGroup(me);bt.insert(me,this.createFormGroup(pn.group,null,pn))}moveFormArrayGroup(me,bt,kt,pn){const Hn=me+bt,ss=bt>=0;if(!(me>=0&&me<pn.size&&Hn>=0&&Hn<pn.size))throw new Error("form array group cannot be moved due to index or new index being out of bounds");{const ys=[];for(let ji=ss?me:Hn;ji<=(ss?Hn:me);ji++)ys.push(kt.at(ji));ys.forEach((ji,Ni)=>{let or;or=ss?0===Ni?Hn:me+Ni-1:Ni===ys.length-1?Hn:Hn+Ni+1,kt.setControl(or,ji)}),pn.moveGroup(me,bt)}}removeFormArrayGroup(me,bt,kt){bt.removeAt(me),kt.removeGroup(me)}clearFormArray(me,bt){me.clear(),bt.clear()}findById(me,bt){const kt=(Hn,ss)=>{for(const ys of ss){if(ys.id===Hn){pn=ys;break}ys instanceof Mn&&kt(Hn,ys.group)}};let pn=null;return kt(me,bt),pn}findModelById(me,bt){return this.findById(me,bt)}findControlByModel(me,bt){return bt.root.get(this.getPath(me,!0))}detectChanges(me){if(me instanceof K)me.markForCheck(),me.detectChanges();else for(const bt of this.componentService.getForms())bt.markForCheck(),bt.detectChanges()}fromJSON(me){const bt=j(me)?JSON.parse(me,fs):me,kt=[];return bt.forEach(pn=>{const Hn=pn.layout??null;switch(pn.type){case le:const ss=pn;Array.isArray(ss.groups)&&ss.groups.forEach(ys=>{ys.group=this.fromJSON(ys.group)}),ss.groupFactory=()=>this.fromJSON(ss.groupPrototype),kt.push(new De(pn,Hn));break;case re:kt.push(new ve(pn,Hn));break;case xs:pn.group=this.fromJSON(pn.group),kt.push(new rn(pn,Hn));break;case Dn:kt.push(new Lt(pn,Hn));break;case gt:kt.push(new Ke(pn,Hn));break;case"EDITOR":kt.push(new He(pn,Hn));break;case Ct:pn.value=null,kt.push(new Qe(pn,Hn));break;case os:pn.group=this.fromJSON(pn.group),kt.push(new Mn(pn,Hn));break;case Ie:kt.push(new ke(pn,Hn));break;case Wt:kt.push(new bn(pn,Hn));break;case"RATING":kt.push(new ps(pn,Hn));break;case ks:kt.push(new Fs(pn,Hn));break;case"SLIDER":kt.push(new ht(pn,Hn));break;case"SWITCH":kt.push(new jt(pn,Hn));break;case Ln:kt.push(new In(pn,Hn));break;case yn:kt.push(new hn(pn,Hn));break;default:throw new Error(`unknown form control model type defined on JSON object with id "${pn.id}"`)}}),kt}}return se.\u0275fac=function(me){return new(me||se)(i.KVO(X),i.KVO(Rn))},se.\u0275prov=i.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),se})();const Ds="ENABLED",ut="VISIBLE",mt="AND",xt="OR",sn=new i.nKC("DYNAMIC_MATCHERS"),Yi=[{provide:sn,useValue:{match:"DISABLED",opposingMatch:Ds,onChange(se,$e){$e.disabled=se}},multi:!0},{provide:sn,useValue:{match:"HIDDEN",opposingMatch:ut,onChange(se,$e){$e.hidden=se}},multi:!0},{provide:sn,useValue:{match:"REQUIRED",opposingMatch:"OPTIONAL",onChange(se,$e,me,bt){let kt=null;se?kt=$($e.validators)?{...$e.validators,required:null}:{required:null}:$($e.validators)&&(delete $e.validators.required,kt={...$e.validators}),bt.get(Rn).updateValidators(kt,me,$e),bt.get(Zn).detectChanges()}},multi:!0}];let Mi=(()=>{class se{constructor(me,bt){this.MATCHERS=me,this.injector=bt}getRelatedFormControls(me,bt){const kt=(Hn,ss)=>{const ys=ss.rootPath??ss.id;if(j(ys)&&!Hn.hasOwnProperty(ys)){const ji=ss.rootPath?bt.root.get(ss.rootPath):bt.get(ss.id);ji instanceof v.hs?Hn[ys]=ji:console.warn(`No related form control with id ${ss.id} could be found`)}return Hn};return me.relations.reduce((Hn,ss)=>ss.when.reduce(kt,Hn),{})}findRelationByMatcher(me,bt){return me.find(kt=>[bt.match,bt.opposingMatch].includes(kt.match))}matchesCondition(me,bt,kt){const pn=me.operator??xt;return me.when.reduce((Hn,ss,ys)=>{const ji=ss.rootPath??ss.id;let Ni;for(const[or,Ci]of Object.entries(bt))if(or===ji){Ni=Ci;break}return Ni&&me.match===kt.match?!(ys>0&&pn===mt&&!Hn||!(ys>0&&pn===xt&&Hn)&&ss.value!==Ni.value&&ss.status!==Ni.status):!(!Ni||me.match!==kt.opposingMatch||!(ys>0&&pn===mt&&Hn)&&(ys>0&&pn===xt&&!Hn||ss.value===Ni.value||ss.status===Ni.status))},!1)}subscribeRelations(me,bt,kt){const pn=this.getRelatedFormControls(me,bt),Hn=[];return Object.values(pn).forEach(ss=>{const ys=ss.valueChanges.pipe((0,_.Z)(ss.value),(0,b.F)()),ji=ss.statusChanges.pipe((0,_.Z)(ss.status),(0,b.F)());Hn.push((0,g.h)(ys,ji).subscribe(()=>{this.MATCHERS.forEach(Ni=>{const or=this.findRelationByMatcher(me.relations,Ni);if(void 0!==or){const Ci=this.matchesCondition(or,pn,Ni);Ni.onChange(Ci,me,kt,this.injector)}})}))}),Hn}}return se.\u0275fac=function(me){return new(me||se)(i.KVO(sn,8),i.KVO(i.zZn))},se.\u0275prov=i.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),Ss=(()=>{class se{constructor(me,bt,kt,pn,Hn,ss){this.changeDetectorRef=me,this.componentFactoryResolver=bt,this.layoutService=kt,this.validationService=pn,this.componentService=Hn,this.relationService=ss,this._hasFocus=!1,this.context=null,this.componentSubscriptions=[],this.subscriptions=[]}ngOnChanges(me){const bt=me.group,pn=me.model;(me.layout||pn)&&this.onLayoutOrModelChange(),pn&&this.onModelChange(),(bt||pn)&&this.onGroupOrModelChange()}ngOnInit(){this.subscriptions.push(this.control.statusChanges.pipe(function R(se,$e=null){return $e=$e??se,(0,O.N)((me,bt)=>{let kt=[],pn=0;me.subscribe((0,I._)(bt,Hn=>{let ss=null;pn++%$e==0&&kt.push([]);for(const ys of kt)ys.push(Hn),se<=ys.length&&(ss=ss??[],ss.push(ys));if(ss)for(const ys of ss)(0,T.o)(kt,ys),bt.next(ys)},()=>{for(const Hn of kt)bt.next(Hn);bt.complete()},void 0,()=>{kt=null}))})}(2,1),(0,E.T)(me=>me[0]),(0,u.p)(me=>"PENDING"===me)).subscribe(me=>this.markForCheck()))}ngOnDestroy(){this.destroyFormControlComponent(),this.unsubscribe()}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}get hasLabel(){return j(this.model.label)}get hasHint(){return j(this.model.hint)}get hint(){return this.model.hint??null}get isCheckbox(){return this.model.type===re}get templates(){return void 0!==this.inputTemplateList?this.inputTemplateList:this.contentTemplateList}get startTemplate(){return this.model.type!==le?this.layoutService.getStartTemplate(this.model,this.templates):void 0}get endTemplate(){return this.model.type!==le?this.layoutService.getEndTemplate(this.model,this.templates):void 0}getClass(me,bt){return this.layoutService.getClass(this.controlLayout,me,bt)}markForCheck(){this.changeDetectorRef.markForCheck();const me=this.componentRef&&this.componentRef.instance;me&&(me instanceof Y||me instanceof G)&&me.markForCheck()}createFormControlComponent(){const me=this.componentType;if(null!==me){const bt=this.componentFactoryResolver.resolveComponentFactory(me);this.componentViewContainerRef.clear(),this.componentRef=this.componentViewContainerRef.createComponent(bt);const kt=this.componentRef.instance;kt.formLayout=this.layout,kt.group=this.group,kt.layout=this.controlLayout,kt.model=this.model,this.templates&&(kt.templates=this.templates),this.componentSubscriptions.push(kt.blur.subscribe(pn=>this.onBlur(pn))),this.componentSubscriptions.push(kt.change.subscribe(pn=>this.onChange(pn))),this.componentSubscriptions.push(kt.focus.subscribe(pn=>this.onFocus(pn))),void 0!==kt.customEvent&&this.componentSubscriptions.push(kt.customEvent.subscribe(pn=>this.onCustomEvent(pn))),this.registerFormControlComponentRef(this.componentRef)}}destroyFormControlComponent(){this.componentRef&&(this.componentSubscriptions.forEach(me=>me.unsubscribe()),this.componentSubscriptions=[],this.unregisterFormControlComponentRef(),this.componentRef.destroy())}createDynamicFormControlEvent(me,bt){return{$event:me,context:this.context,control:this.control,group:this.group,model:this.model,type:bt}}unsubscribe(){this.subscriptions.forEach(me=>me.unsubscribe()),this.subscriptions=[]}onControlValueChanges(me){this.model instanceof Ce&&this.model.value!==me&&(this.model.value=me)}onModelValueUpdates(me){this.control.value!==me&&this.control.setValue(me)}onModelDisabledUpdates(me){me?this.control.disable():this.control.enable()}onLayoutOrModelChange(){this.controlLayout=this.layoutService.findByModel(this.model,this.layout)??this.model.layout,this.klass=`${Array.isArray(this.hostClass)?this.hostClass.join(" "):""} ${this.layoutService.getHostClass(this.controlLayout)}`}onModelChange(){this.destroyFormControlComponent(),this.createFormControlComponent()}onGroupOrModelChange(){this.model&&(this.unsubscribe(),this.group&&(this.control=this.group.get(this.model.id),this.subscriptions.push(this.control.valueChanges.subscribe(me=>this.onControlValueChanges(me)))),this.subscriptions.push(this.model.disabledChanges.subscribe(me=>this.onModelDisabledUpdates(me))),this.model instanceof Ce&&this.subscriptions.push(this.model.valueChanges.subscribe(bt=>this.onModelValueUpdates(bt))),this.model.relations.length>0&&this.subscriptions.push(...this.relationService.subscribeRelations(this.model,this.group,this.control)))}onChange(me){if(me instanceof Event){if(this.model.type===Ie){const bt=this.model;"file"===bt.inputType&&(bt.files=me.target.files)}this.change.emit(this.createDynamicFormControlEvent(me,ae.Change))}else Q(me)?this.change.emit(me):this.change.emit(this.createDynamicFormControlEvent(me,ae.Change))}onBlur(me){Q(me)?this.blur.emit(me):(this._hasFocus=!1,this.blur.emit(this.createDynamicFormControlEvent(me,ae.Blur)))}onFocus(me){Q(me)?this.focus.emit(me):(this._hasFocus=!0,this.focus.emit(this.createDynamicFormControlEvent(me,ae.Focus)))}onCustomEvent(me){const bt=this.customEvent;Q(me)?bt.emit(me):bt.emit(this.createDynamicFormControlEvent(me.customEvent,me.customEventType))}registerFormControlComponentRef(me){this.context instanceof Z?this.componentService.registerFormControl(this.model,me,this.context.index):this.componentService.registerFormControl(this.model,me)}unregisterFormControlComponentRef(){this.context instanceof Z?this.componentService.unregisterFormControl(this.model.id,this.context.index):this.componentService.unregisterFormControl(this.model.id)}}return se.\u0275fac=function(me){return new(me||se)(i.rXU(i.gRc),i.rXU(i.OM3),i.rXU(wt),i.rXU(Rn),i.rXU(X),i.rXU(Mi))},se.\u0275dir=i.FsC({type:se,features:[i.OA$]}),se})(),gi=(()=>{class se{constructor(me,bt){this.elementRef=me,this.renderer=bt}ngAfterViewInit(){j(this.listId)&&this.renderer.setAttribute(this.elementRef.nativeElement,"list",this.listId)}}return se.\u0275fac=function(me){return new(me||se)(i.rXU(i.aKT),i.rXU(i.sFG))},se.\u0275dir=i.FsC({type:se,selectors:[["","dynamicList",""]],inputs:{listId:[i.Mj6.None,"dynamicList","listId"]}}),se})();const Xi="off";let Xe=(()=>{class se{static forRoot(){return{ngModule:se,providers:[Zn,wt,Rn,X,Mi]}}}return se.\u0275fac=function(me){return new(me||se)},se.\u0275mod=i.$C({type:se}),se.\u0275inj=i.G2t({imports:[S.MD,v.X1]}),se})()},80399:(B,D,t)=>{"use strict";t.d(D,{C_:()=>R,hO:()=>X,hr:()=>d,jr:()=>$});var i=t(73958),n=t(53107),c=t(95968),e=t(71894);const f="@ngrx/router-store/request",d=((0,i.VP)(f,(0,i.xk)()),"@ngrx/router-store/navigation"),E=((0,i.VP)(d,(0,i.xk)()),"@ngrx/router-store/cancel"),b=((0,i.VP)(E,(0,i.xk)()),"@ngrx/router-store/error"),I=((0,i.VP)(b,(0,i.xk)()),"@ngrx/router-store/navigated");function R(Q,J){const z=J;switch(z.type){case d:case b:case E:return{state:z.payload.routerState,navigationId:z.payload.event.id};default:return Q}}(0,i.VP)(I,(0,i.xk)());class u{serialize(J){return{root:this.serializeRoute(J.root),url:J.url}}serializeRoute(J){const z=J.children.map(q=>this.serializeRoute(q));return{params:J.params,data:J.data,url:J.url,outlet:J.outlet,title:J.title,routeConfig:J.routeConfig?{path:J.routeConfig.path,pathMatch:J.routeConfig.pathMatch,redirectTo:J.routeConfig.redirectTo,outlet:J.routeConfig.outlet,title:"string"==typeof J.routeConfig.title?J.routeConfig.title:void 0}:null,queryParams:J.queryParams,fragment:J.fragment,firstChild:z[0],children:z}}}var w=function(Q){return Q[Q.PreActivation=1]="PreActivation",Q[Q.PostActivation=2]="PostActivation",Q}(w||{});const v="router",S=new n.nKC("@ngrx/router-store Internal Configuration"),M=new n.nKC("@ngrx/router-store Configuration");function L(Q){return{stateKey:v,serializer:u,navigationActionTiming:w.PreActivation,...Q}}class F{serialize(J){return{root:this.serializeRoute(J.root),url:J.url}}serializeRoute(J){const z=J.children.map(q=>this.serializeRoute(q));return{params:J.params,paramMap:J.paramMap,data:J.data,url:J.url,outlet:J.outlet,title:J.title,routeConfig:J.routeConfig?{component:J.routeConfig.component,path:J.routeConfig.path,pathMatch:J.routeConfig.pathMatch,redirectTo:J.routeConfig.redirectTo,outlet:J.routeConfig.outlet,title:J.routeConfig.title}:null,queryParams:J.queryParams,queryParamMap:J.queryParamMap,fragment:J.fragment,component:J.routeConfig?J.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:z[0],pathFromRoot:void 0,children:z}}}class ${}var j=function(Q){return Q[Q.NONE=1]="NONE",Q[Q.ROUTER=2]="ROUTER",Q[Q.STORE=3]="STORE",Q}(j||{});let x=(()=>{class Q{constructor(z,q,ee,de,Ce,Z){this.store=z,this.router=q,this.serializer=ee,this.errorHandler=de,this.config=Ce,this.activeRuntimeChecks=Z,this.lastEvent=null,this.routerState=null,this.trigger=j.NONE,this.stateKey=this.config.stateKey,!(0,i.Lg)()&&(0,n.naY)()&&(Z?.strictActionSerializability||Z?.strictStateSerializability)&&this.serializer instanceof F&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,i.Lt)(this.stateKey),(0,e.E)(this.store)).subscribe(([z,q])=>{this.navigateIfNeeded(z,q)})}navigateIfNeeded(z,q){if(!z||!z.state||this.trigger===j.ROUTER||this.lastEvent instanceof c.Z)return;const ee=z.state.url;(function G(Q,J){return Y(Q)===Y(J)})(this.router.url,ee)||(this.storeState=q,this.trigger=j.STORE,this.router.navigateByUrl(ee).catch(de=>{this.errorHandler.handleError(de)}))}setUpRouterEventsListener(){const z=this.config.navigationActionTiming===w.PostActivation;let q;this.router.events.pipe((0,e.E)(this.store)).subscribe(([ee,de])=>{this.lastEvent=ee,ee instanceof c.Z?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==j.STORE&&(this.storeState=de,this.dispatchRouterRequest(ee))):ee instanceof c.ld?(q=ee,!z&&this.trigger!==j.STORE&&this.dispatchRouterNavigation(ee)):ee instanceof c.j5?(this.dispatchRouterCancel(ee),this.reset()):ee instanceof c.L6?(this.dispatchRouterError(ee),this.reset()):ee instanceof c.wF&&(this.trigger!==j.STORE&&(z&&this.dispatchRouterNavigation(q),this.dispatchRouterNavigated(ee)),this.reset())})}dispatchRouterRequest(z){this.dispatchRouterAction(f,{event:z})}dispatchRouterNavigation(z){const q=this.serializer.serialize(z.state);this.dispatchRouterAction(d,{routerState:q,event:new c.ld(z.id,z.url,z.urlAfterRedirects,q)})}dispatchRouterCancel(z){this.dispatchRouterAction(E,{storeState:this.storeState,event:z})}dispatchRouterError(z){this.dispatchRouterAction(b,{storeState:this.storeState,event:new c.L6(z.id,z.url,`${z}`)})}dispatchRouterNavigated(z){const q=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(I,{event:z,routerState:q})}dispatchRouterAction(z,q){this.trigger=j.ROUTER;try{this.store.dispatch({type:z,payload:{routerState:this.routerState,...q,event:0===this.config.routerState?q.event:{id:q.event.id,url:q.event.url,urlAfterRedirects:q.event.urlAfterRedirects}}})}finally{this.trigger=j.NONE}}reset(){this.trigger=j.NONE,this.storeState=null,this.routerState=null}static#e=this.\u0275fac=function(q){return new(q||Q)(n.KVO(i.il),n.KVO(c.Ix),n.KVO($),n.KVO(n.zcH),n.KVO(M),n.KVO(i.A5))};static#t=this.\u0275prov=n.jDH({token:Q,factory:Q.\u0275fac})}return Q})();function Y(Q){return Q?.length>0&&"/"===Q[Q.length-1]?Q.substring(0,Q.length-1):Q}function V(Q={}){return(0,n.EmA)([{provide:S,useValue:Q},{provide:M,useFactory:L,deps:[S]},{provide:$,useClass:Q.serializer?Q.serializer:0===Q.routerState?F:u},{provide:n.Z63,multi:!0,useFactory:()=>()=>(0,n.WQX)(x)},x])}let X=(()=>{class Q{static forRoot(z={}){return{ngModule:Q,providers:[V(z)]}}static#e=this.\u0275fac=function(q){return new(q||Q)};static#t=this.\u0275mod=n.$C({type:Q});static#n=this.\u0275inj=n.G2t({})}return Q})()},73958:(B,D,t)=>{"use strict";t.d(D,{A5:()=>et,sA:()=>tn,il:()=>os,ae:()=>Zs,md:()=>yr,wc:()=>gs,iK:()=>Ne,VP:()=>M,UX:()=>Ln,Mz:()=>ht,Lg:()=>Pn,xk:()=>L,Lt:()=>xs});var i=t(53107),n=t(71217),c=t(51698),e=t(18447),f=t(55623),g=t(59668),d=t(71894),y=t(44660),E=t(47947),b=t(66645);function w(Pt,cn){const Kt=!cn?.manualCleanup;Kt&&!cn?.injector&&(0,i.Af3)(w);const Ut=Kt?cn?.injector?.get(i.abz)??(0,i.WQX)(i.abz):null;let Cn;Cn=(0,i.vPA)(cn?.requireSync?{kind:0}:{kind:1,value:cn?.initialValue});const kn=Pt.subscribe({next:cs=>Cn.set({kind:1,value:cs}),error:cs=>{if(cn?.rejectErrors)throw cs;Cn.set({kind:2,error:cs})}});return Ut?.onDestroy(kn.unsubscribe.bind(kn)),(0,i.EWP)(()=>{const cs=Cn();switch(cs.kind){case 1:return cs.value;case 2:throw cs.error;case 0:throw new i.wOt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}const v={};function M(Pt,cn){if(v[Pt]=(v[Pt]||0)+1,"function"==typeof cn)return $(Pt,(...Ut)=>({...cn(...Ut),type:Pt}));switch(cn?cn._as:"empty"){case"empty":return $(Pt,()=>({type:Pt}));case"props":return $(Pt,Ut=>({...Ut,type:Pt}));default:throw new Error("Unexpected config.")}}function L(){return{_as:"props",_p:void 0}}function $(Pt,cn){return Object.defineProperty(cn,"type",{value:Pt,writable:!1})}const K="@ngrx/store/init";let ae=(()=>{class Pt extends n.t{constructor(){super({type:K})}next(Kt){if("function"==typeof Kt)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Kt>"u")throw new TypeError("Actions must be objects");if(typeof Kt.type>"u")throw new TypeError("Actions must have a type property");super.next(Kt)}complete(){}ngOnDestroy(){super.complete()}static#e=this.\u0275fac=function(Ut){return new(Ut||Pt)};static#t=this.\u0275prov=i.jDH({token:Pt,factory:Pt.\u0275fac})}return Pt})();const Q=[ae],J=new i.nKC("@ngrx/store Internal Root Guard"),z=new i.nKC("@ngrx/store Internal Initial State"),q=new i.nKC("@ngrx/store Initial State"),ee=new i.nKC("@ngrx/store Reducer Factory"),de=new i.nKC("@ngrx/store Internal Reducer Factory Provider"),Ce=new i.nKC("@ngrx/store Initial Reducers"),Z=new i.nKC("@ngrx/store Internal Initial Reducers"),le=new i.nKC("@ngrx/store Store Features"),De=new i.nKC("@ngrx/store Internal Store Reducers"),pe=new i.nKC("@ngrx/store Internal Feature Reducers"),re=new i.nKC("@ngrx/store Internal Feature Configs"),ve=new i.nKC("@ngrx/store Internal Store Features"),fe=new i.nKC("@ngrx/store Internal Feature Reducers Token"),Ie=new i.nKC("@ngrx/store Feature Reducers"),Ne=new i.nKC("@ngrx/store User Provided Meta Reducers"),qe=new i.nKC("@ngrx/store Meta Reducers"),we=new i.nKC("@ngrx/store Internal Resolved Meta Reducers"),Be=new i.nKC("@ngrx/store User Runtime Checks Config"),Ve=new i.nKC("@ngrx/store Internal User Runtime Checks Config"),et=new i.nKC("@ngrx/store Internal Runtime Checks"),yt=new i.nKC("@ngrx/store Check if Action types are unique");function Yt(Pt,cn={}){const Kt=Object.keys(Pt),Ut={};for(let kn=0;kn<Kt.length;kn++){const cs=Kt[kn];"function"==typeof Pt[cs]&&(Ut[cs]=Pt[cs])}const Cn=Object.keys(Ut);return function(cs,ai){cs=void 0===cs?cn:cs;let Ei=!1;const ir={};for(let li=0;li<Cn.length;li++){const xi=Cn[li],Zr=cs[xi],wr=(0,Ut[xi])(Zr,ai);ir[xi]=wr,Ei=Ei||wr!==Zr}return Ei?ir:cs}}function je(...Pt){return function(cn){if(0===Pt.length)return cn;const Kt=Pt[Pt.length-1];return Pt.slice(0,-1).reduceRight((Cn,kn)=>kn(Cn),Kt(cn))}}function Re(Pt,cn){return Array.isArray(cn)&&cn.length>0&&(Pt=je.apply(null,[...cn,Pt])),(Kt,Ut)=>{const Cn=Pt(Kt);return(kn,cs)=>Cn(kn=void 0===kn?Ut:kn,cs)}}new i.nKC("@ngrx/store Root Store Provider"),new i.nKC("@ngrx/store Feature State Provider");class Ee extends c.c{}class ke extends ae{}let Bt=(()=>{class Pt extends n.t{get currentReducers(){return this.reducers}constructor(Kt,Ut,Cn,kn){super(kn(Cn,Ut)),this.dispatcher=Kt,this.initialState=Ut,this.reducers=Cn,this.reducerFactory=kn}addFeature(Kt){this.addFeatures([Kt])}addFeatures(Kt){const Ut=Kt.reduce((Cn,{reducers:kn,reducerFactory:cs,metaReducers:ai,initialState:Ei,key:ir})=>{const li="function"==typeof kn?function ne(Pt){const cn=Array.isArray(Pt)&&Pt.length>0?je(...Pt):Kt=>Kt;return(Kt,Ut)=>(Kt=cn(Kt),(Cn,kn)=>Kt(Cn=void 0===Cn?Ut:Cn,kn))}(ai)(kn,Ei):Re(cs,ai)(kn,Ei);return Cn[ir]=li,Cn},{});this.addReducers(Ut)}removeFeature(Kt){this.removeFeatures([Kt])}removeFeatures(Kt){this.removeReducers(Kt.map(Ut=>Ut.key))}addReducer(Kt,Ut){this.addReducers({[Kt]:Ut})}addReducers(Kt){this.reducers={...this.reducers,...Kt},this.updateReducers(Object.keys(Kt))}removeReducer(Kt){this.removeReducers([Kt])}removeReducers(Kt){Kt.forEach(Ut=>{this.reducers=function nn(Pt,cn){return Object.keys(Pt).filter(Kt=>Kt!==cn).reduce((Kt,Ut)=>Object.assign(Kt,{[Ut]:Pt[Ut]}),{})}(this.reducers,Ut)}),this.updateReducers(Kt)}updateReducers(Kt){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:Kt})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(Ut){return new(Ut||Pt)(i.KVO(ke),i.KVO(q),i.KVO(Ce),i.KVO(ee))};static#t=this.\u0275prov=i.jDH({token:Pt,factory:Pt.\u0275fac})}return Pt})();const wt=[Bt,{provide:Ee,useExisting:Bt},{provide:ke,useExisting:ae}];let tn=(()=>{class Pt extends e.B{ngOnDestroy(){this.complete()}static#e=this.\u0275fac=(()=>{let Kt;return function(Cn){return(Kt||(Kt=i.xGo(Pt)))(Cn||Pt)}})();static#t=this.\u0275prov=i.jDH({token:Pt,factory:Pt.\u0275fac})}return Pt})();const It=[tn];class $t extends c.c{}let Zt=(()=>{class Pt extends n.t{static#e=this.INIT=K;constructor(Kt,Ut,Cn,kn){super(kn);const ir=Kt.pipe((0,g.Q)(f.T)).pipe((0,d.E)(Ut)).pipe((0,y.S)(mn,{state:kn}));this.stateSubscription=ir.subscribe(({state:li,action:xi})=>{this.next(li),Cn.next(xi)}),this.state=w(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#t=this.\u0275fac=function(Ut){return new(Ut||Pt)(i.KVO(ae),i.KVO(Ee),i.KVO(tn),i.KVO(q))};static#n=this.\u0275prov=i.jDH({token:Pt,factory:Pt.\u0275fac})}return Pt})();function mn(Pt={state:void 0},[cn,Kt]){const{state:Ut}=Pt;return{state:Kt(Ut,cn),action:cn}}const Rn=[Zt,{provide:$t,useExisting:Zt}];let os=(()=>{class Pt extends c.c{constructor(Kt,Ut,Cn){super(),this.actionsObserver=Ut,this.reducerManager=Cn,this.source=Kt,this.state=Kt.state}select(Kt,...Ut){return xs.call(null,Kt,...Ut)(this)}selectSignal(Kt,Ut){return(0,i.EWP)(()=>Kt(this.state()),Ut)}lift(Kt){const Ut=new Pt(this,this.actionsObserver,this.reducerManager);return Ut.operator=Kt,Ut}dispatch(Kt){this.actionsObserver.next(Kt)}next(Kt){this.actionsObserver.next(Kt)}error(Kt){this.actionsObserver.error(Kt)}complete(){this.actionsObserver.complete()}addReducer(Kt,Ut){this.reducerManager.addReducer(Kt,Ut)}removeReducer(Kt){this.reducerManager.removeReducer(Kt)}static#e=this.\u0275fac=function(Ut){return new(Ut||Pt)(i.KVO($t),i.KVO(ae),i.KVO(Bt))};static#t=this.\u0275prov=i.jDH({token:Pt,factory:Pt.\u0275fac})}return Pt})();const Mn=[os];function xs(Pt,cn,...Kt){return function(Cn){let kn;if("string"==typeof Pt){const cs=[cn,...Kt].filter(Boolean);kn=Cn.pipe(function _(...Pt){const cn=Pt.length;if(0===cn)throw new Error("list of properties cannot be empty.");return(0,E.T)(Kt=>{let Ut=Kt;for(let Cn=0;Cn<cn;Cn++){const kn=Ut?.[Pt[Cn]];if(!(typeof kn<"u"))return;Ut=kn}return Ut})}(Pt,...cs))}else{if("function"!=typeof Pt)throw new TypeError(`Unexpected type '${typeof Pt}' in select operator, expected 'string' or 'function'`);kn=Cn.pipe((0,E.T)(cs=>Pt(cs,cn)))}return kn.pipe((0,b.F)())}}const rn="https://ngrx.io/guide/store/configuration/runtime-checks";function Dn(Pt){return void 0===Pt}function Lt(Pt){return null===Pt}function zt(Pt){return Array.isArray(Pt)}function He(Pt){return"object"==typeof Pt&&null!==Pt}function Qe(Pt){return"function"==typeof Pt}let Wt=!1;function Pn(){return Wt}function ps(Pt,cn){return Pt===cn}function vt(Pt,cn=ps,Kt=ps){let kn,Ut=null,Cn=null;return{memoized:function ir(){if(void 0!==kn)return kn.result;if(!Ut)return Cn=Pt.apply(null,arguments),Ut=arguments,Cn;if(!function ks(Pt,cn,Kt){for(let Ut=0;Ut<Pt.length;Ut++)if(!Kt(Pt[Ut],cn[Ut]))return!0;return!1}(arguments,Ut,cn))return Cn;const li=Pt.apply(null,arguments);return Ut=arguments,Kt(Cn,li)?Cn:(Cn=li,li)},reset:function cs(){Ut=null,Cn=null},setResult:function ai(li=void 0){kn={result:li}},clearResult:function Ei(){kn=void 0}}}function ht(...Pt){return function jt(Pt,cn={stateFn:lt}){return function(...Kt){let Ut=Kt;if(Array.isArray(Ut[0])){const[li,...xi]=Ut;Ut=[...li,...xi]}else 1===Ut.length&&function ls(Pt){return!!Pt&&"object"==typeof Pt&&Object.values(Pt).every(cn=>"function"==typeof cn)}(Ut[0])&&(Ut=function As(Pt){const cn=Object.values(Pt),Kt=Object.keys(Pt);return[...cn,(...Cn)=>Kt.reduce((kn,cs,ai)=>({...kn,[cs]:Cn[ai]}),{})]}(Ut[0]));const Cn=Ut.slice(0,Ut.length-1),kn=Ut[Ut.length-1],cs=Cn.filter(li=>li.release&&"function"==typeof li.release),ai=Pt(function(...li){return kn.apply(null,li)}),Ei=vt(function(li,xi){return cn.stateFn.apply(null,[li,Cn,xi,ai])});return Object.assign(Ei.memoized,{release:function ir(){Ei.reset(),ai.reset(),cs.forEach(li=>li.release())},projector:ai.memoized,setResult:Ei.setResult,clearResult:Ei.clearResult})}}(vt)(...Pt)}function lt(Pt,cn,Kt,Ut){if(void 0===Kt){const kn=cn.map(cs=>cs(Pt));return Ut.memoized.apply(null,kn)}const Cn=cn.map(kn=>kn(Pt,Kt));return Ut.memoized.apply(null,[...Cn,Kt])}function Ln(Pt){return ht(cn=>{const Kt=cn[Pt];return!Pn()&&(0,i.naY)()&&!(Pt in cn)&&console.warn(`@ngrx/store: The feature name "${Pt}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Pt}', ...) or StoreModule.forFeature('${Pt}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Kt},cn=>cn)}function Un(Pt){return Pt instanceof i.nKC?(0,i.WQX)(Pt):Pt}function ns(Pt,cn){return cn.map((Kt,Ut)=>{if(Pt[Ut]instanceof i.nKC){const Cn=(0,i.WQX)(Pt[Ut]);return{key:Kt.key,reducerFactory:Cn.reducerFactory?Cn.reducerFactory:Yt,metaReducers:Cn.metaReducers?Cn.metaReducers:[],initialState:Cn.initialState}}return Kt})}function fs(Pt){return Pt.map(cn=>cn instanceof i.nKC?(0,i.WQX)(cn):cn)}function Zn(Pt){return"function"==typeof Pt?Pt():Pt}function _s(Pt,cn){return Pt.concat(cn)}function Ds(){if((0,i.WQX)(os,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Ye(Pt){Object.freeze(Pt);const cn=Qe(Pt);return Object.getOwnPropertyNames(Pt).forEach(Kt=>{if(!Kt.startsWith("\u0275")&&function Dt(Pt,cn){return Object.prototype.hasOwnProperty.call(Pt,cn)}(Pt,Kt)&&(!cn||"caller"!==Kt&&"callee"!==Kt&&"arguments"!==Kt)){const Ut=Pt[Kt];(He(Ut)||Qe(Ut))&&!Object.isFrozen(Ut)&&Ye(Ut)}}),Pt}function ut(Pt,cn=[]){return(Dn(Pt)||Lt(Pt))&&0===cn.length?{path:["root"],value:Pt}:Object.keys(Pt).reduce((Ut,Cn)=>{if(Ut)return Ut;const kn=Pt[Cn];return function Ot(Pt){return Qe(Pt)&&Pt.hasOwnProperty("\u0275cmp")}(kn)?Ut:!(Dn(kn)||Lt(kn)||function Ze(Pt){return"number"==typeof Pt}(kn)||function Ke(Pt){return"boolean"==typeof Pt}(kn)||function gt(Pt){return"string"==typeof Pt}(kn)||zt(kn))&&(function Ct(Pt){if(!function We(Pt){return He(Pt)&&!zt(Pt)}(Pt))return!1;const cn=Object.getPrototypeOf(Pt);return cn===Object.prototype||null===cn}(kn)?ut(kn,[...cn,Cn]):{path:[...cn,Cn],value:kn})},!1)}function mt(Pt,cn){if(!1===Pt)return;const Kt=Pt.path.join("."),Ut=new Error(`Detected unserializable ${cn} at "${Kt}". ${rn}#strict${cn}serializability`);throw Ut.value=Pt.value,Ut.unserializablePath=Kt,Ut}function sn(Pt){return(0,i.naY)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Pt}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function jn({strictActionSerializability:Pt,strictStateSerializability:cn}){return Kt=>Pt||cn?function Et(Pt,cn){return function(Kt,Ut){cn.action(Ut)&&mt(ut(Ut),"action");const Cn=Pt(Kt,Ut);return cn.state()&&mt(ut(Cn),"state"),Cn}}(Kt,{action:Ut=>Pt&&!ds(Ut),state:()=>cn}):Kt}function An({strictActionImmutability:Pt,strictStateImmutability:cn}){return Kt=>Pt||cn?function ft(Pt,cn){return function(Kt,Ut){const Cn=cn.action(Ut)?Ye(Ut):Ut,kn=Pt(Kt,Cn);return cn.state()?Ye(kn):kn}}(Kt,{action:Ut=>Pt&&!ds(Ut),state:()=>cn}):Kt}function ds(Pt){return Pt.type.startsWith("@ngrx")}function Ks({strictActionWithinNgZone:Pt}){return cn=>Pt?function xt(Pt,cn){return function(Kt,Ut){if(cn.action(Ut)&&!i.SKi.isInAngularZone())throw new Error(`Action '${Ut.type}' running outside NgZone. ${rn}#strictactionwithinngzone`);return Pt(Kt,Ut)}}(cn,{action:Kt=>Pt&&!ds(Kt)}):cn}function Cs(Pt){return[{provide:Ve,useValue:Pt},{provide:Be,useFactory:Yi,deps:[Ve]},{provide:et,deps:[Be],useFactory:sn},{provide:qe,multi:!0,deps:[et],useFactory:An},{provide:qe,multi:!0,deps:[et],useFactory:jn},{provide:qe,multi:!0,deps:[et],useFactory:Ks}]}function yi(){return[{provide:yt,multi:!0,deps:[et],useFactory:Mi}]}function Yi(Pt){return Pt}function Mi(Pt){if(!Pt.strictActionTypeUniqueness)return;const cn=Object.entries(v).filter(([,Kt])=>Kt>1).map(([Kt])=>Kt);if(cn.length)throw new Error(`Action types are registered more than once, ${cn.map(Kt=>`"${Kt}"`).join(", ")}. ${rn}#strictactiontypeuniqueness`)}function Hs(Pt={},cn={}){return[{provide:J,useFactory:Ds},{provide:z,useValue:cn.initialState},{provide:q,useFactory:Zn,deps:[z]},{provide:Z,useValue:Pt},{provide:De,useExisting:Pt instanceof i.nKC?Pt:Z},{provide:Ce,deps:[Z,[new i.y_5(De)]],useFactory:Un},{provide:Ne,useValue:cn.metaReducers?cn.metaReducers:[]},{provide:we,deps:[qe,Ne],useFactory:_s},{provide:de,useValue:cn.reducerFactory?cn.reducerFactory:Yt},{provide:ee,deps:[de,we],useFactory:Re},Q,wt,It,Rn,Mn,Cs(cn.runtimeChecks),yi()]}function cr(Pt,cn,Kt={}){return[{provide:re,multi:!0,useValue:Pt instanceof Object?{}:Kt},{provide:le,multi:!0,useValue:{key:Pt instanceof Object?Pt.name:Pt,reducerFactory:Kt instanceof i.nKC||!Kt.reducerFactory?Yt:Kt.reducerFactory,metaReducers:Kt instanceof i.nKC||!Kt.metaReducers?[]:Kt.metaReducers,initialState:Kt instanceof i.nKC||!Kt.initialState?void 0:Kt.initialState}},{provide:ve,deps:[re,le],useFactory:ns},{provide:pe,multi:!0,useValue:Pt instanceof Object?Pt.reducer:cn},{provide:fe,multi:!0,useExisting:cn instanceof i.nKC?cn:pe},{provide:Ie,multi:!0,deps:[pe,[new i.y_5(fe)]],useFactory:fs},yi()]}let gs=(()=>{class Pt{constructor(Kt,Ut,Cn,kn,cs,ai){}static#e=this.\u0275fac=function(Ut){return new(Ut||Pt)(i.KVO(ae),i.KVO(Ee),i.KVO(tn),i.KVO(os),i.KVO(J,8),i.KVO(yt,8))};static#t=this.\u0275mod=i.$C({type:Pt});static#n=this.\u0275inj=i.G2t({})}return Pt})(),Zs=(()=>{class Pt{constructor(Kt,Ut,Cn,kn,cs){this.features=Kt,this.featureReducers=Ut,this.reducerManager=Cn;const ai=Kt.map((Ei,ir)=>{const xi=Ut.shift()[ir];return{...Ei,reducers:xi,initialState:Zn(Ei.initialState)}});Cn.addFeatures(ai)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static#e=this.\u0275fac=function(Ut){return new(Ut||Pt)(i.KVO(ve),i.KVO(Ie),i.KVO(Bt),i.KVO(gs),i.KVO(yt,8))};static#t=this.\u0275mod=i.$C({type:Pt});static#n=this.\u0275inj=i.G2t({})}return Pt})(),yr=(()=>{class Pt{static forRoot(Kt,Ut){return{ngModule:gs,providers:[...Hs(Kt,Ut)]}}static forFeature(Kt,Ut,Cn={}){return{ngModule:Zs,providers:[...cr(Kt,Ut,Cn)]}}static#e=this.\u0275fac=function(Ut){return new(Ut||Pt)};static#t=this.\u0275mod=i.$C({type:Pt});static#n=this.\u0275inj=i.G2t({})}return Pt})()},69685:(B,D,t)=>{"use strict";t.d(D,{D9:()=>ae,Wr:()=>O,c$:()=>X,er:()=>T,h:()=>Q});var i=t(53107),n=t(63016),c=t(11531),e=t(82653),f=t(56765),g=t(56381),d=t(37610),y=t(88249),E=t(47947),_=t(81459),b=t(22867);class O{}let I=(()=>{class J extends O{getTranslation(q){return(0,n.of)({})}}return J.\u0275fac=(()=>{let z;return function(ee){return(z||(z=i.xGo(J)))(ee||J)}})(),J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})();class T{}let R=(()=>{class J{handle(q){return q.key}}return J.\u0275fac=function(q){return new(q||J)},J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})();function u(J,z){if(J===z)return!0;if(null===J||null===z)return!1;if(J!=J&&z!=z)return!0;let de,Ce,Z,q=typeof J;if(q==typeof z&&"object"==q){if(!Array.isArray(J)){if(Array.isArray(z))return!1;for(Ce in Z=Object.create(null),J){if(!u(J[Ce],z[Ce]))return!1;Z[Ce]=!0}for(Ce in z)if(!(Ce in Z)&&typeof z[Ce]<"u")return!1;return!0}if(!Array.isArray(z))return!1;if((de=J.length)==z.length){for(Ce=0;Ce<de;Ce++)if(!u(J[Ce],z[Ce]))return!1;return!0}}return!1}function w(J){return typeof J<"u"&&null!==J}function v(J){return J&&"object"==typeof J&&!Array.isArray(J)}function S(J,z){let q=Object.assign({},J);return v(J)&&v(z)&&Object.keys(z).forEach(ee=>{v(z[ee])?ee in J?q[ee]=S(J[ee],z[ee]):Object.assign(q,{[ee]:z[ee]}):Object.assign(q,{[ee]:z[ee]})}),q}class M{}let L=(()=>{class J extends M{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(q,ee){let de;return de="string"==typeof q?this.interpolateString(q,ee):"function"==typeof q?this.interpolateFunction(q,ee):q,de}getValue(q,ee){let de="string"==typeof ee?ee.split("."):[ee];ee="";do{ee+=de.shift(),!w(q)||!w(q[ee])||"object"!=typeof q[ee]&&de.length?de.length?ee+=".":q=void 0:(q=q[ee],ee="")}while(de.length);return q}interpolateFunction(q,ee){return q(ee)}interpolateString(q,ee){return ee?q.replace(this.templateMatcher,(de,Ce)=>{let Z=this.getValue(ee,Ce);return w(Z)?Z:de}):q}}return J.\u0275fac=(()=>{let z;return function(ee){return(z||(z=i.xGo(J)))(ee||J)}})(),J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})();class F{}let $=(()=>{class J extends F{compile(q,ee){return q}compileTranslations(q,ee){return q}}return J.\u0275fac=(()=>{let z;return function(ee){return(z||(z=i.xGo(J)))(ee||J)}})(),J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})();class j{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.bkB,this.onLangChange=new i.bkB,this.onDefaultLangChange=new i.bkB}}const x=new i.nKC("USE_STORE"),G=new i.nKC("USE_DEFAULT_LANG"),Y=new i.nKC("DEFAULT_LANGUAGE"),V=new i.nKC("USE_EXTEND");let X=(()=>{class J{constructor(q,ee,de,Ce,Z,le=!0,De=!1,pe=!1,re){this.store=q,this.currentLoader=ee,this.compiler=de,this.parser=Ce,this.missingTranslationHandler=Z,this.useDefaultLang=le,this.isolate=De,this.extend=pe,this.pending=!1,this._onTranslationChange=new i.bkB,this._onLangChange=new i.bkB,this._onDefaultLangChange=new i.bkB,this._langs=[],this._translations={},this._translationRequests={},re&&this.setDefaultLang(re)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(q){this.isolate?this._defaultLang=q:this.store.defaultLang=q}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(q){this.isolate?this._currentLang=q:this.store.currentLang=q}get langs(){return this.isolate?this._langs:this.store.langs}set langs(q){this.isolate?this._langs=q:this.store.langs=q}get translations(){return this.isolate?this._translations:this.store.translations}set translations(q){this.isolate?this._translations=q:this.store.translations=q}setDefaultLang(q){if(q===this.defaultLang)return;let ee=this.retrieveTranslations(q);typeof ee<"u"?(null==this.defaultLang&&(this.defaultLang=q),ee.pipe((0,d.s)(1)).subscribe(de=>{this.changeDefaultLang(q)})):this.changeDefaultLang(q)}getDefaultLang(){return this.defaultLang}use(q){if(q===this.currentLang)return(0,n.of)(this.translations[q]);let ee=this.retrieveTranslations(q);return typeof ee<"u"?(this.currentLang||(this.currentLang=q),ee.pipe((0,d.s)(1)).subscribe(de=>{this.changeLang(q)}),ee):(this.changeLang(q),(0,n.of)(this.translations[q]))}retrieveTranslations(q){let ee;return(typeof this.translations[q]>"u"||this.extend)&&(this._translationRequests[q]=this._translationRequests[q]||this.getTranslation(q),ee=this._translationRequests[q]),ee}getTranslation(q){this.pending=!0;const ee=this.currentLoader.getTranslation(q).pipe((0,y.t)(1),(0,d.s)(1));return this.loadingTranslations=ee.pipe((0,E.T)(de=>this.compiler.compileTranslations(de,q)),(0,y.t)(1),(0,d.s)(1)),this.loadingTranslations.subscribe({next:de=>{this.translations[q]=this.extend&&this.translations[q]?{...de,...this.translations[q]}:de,this.updateLangs(),this.pending=!1},error:de=>{this.pending=!1}}),ee}setTranslation(q,ee,de=!1){ee=this.compiler.compileTranslations(ee,q),this.translations[q]=(de||this.extend)&&this.translations[q]?S(this.translations[q],ee):ee,this.updateLangs(),this.onTranslationChange.emit({lang:q,translations:this.translations[q]})}getLangs(){return this.langs}addLangs(q){q.forEach(ee=>{-1===this.langs.indexOf(ee)&&this.langs.push(ee)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(q,ee,de){let Ce;if(ee instanceof Array){let Z={},le=!1;for(let De of ee)Z[De]=this.getParsedResult(q,De,de),(0,c.A)(Z[De])&&(le=!0);if(le){const De=ee.map(pe=>(0,c.A)(Z[pe])?Z[pe]:(0,n.of)(Z[pe]));return(0,e.p)(De).pipe((0,E.T)(pe=>{let re={};return pe.forEach((ve,fe)=>{re[ee[fe]]=ve}),re}))}return Z}if(q&&(Ce=this.parser.interpolate(this.parser.getValue(q,ee),de)),typeof Ce>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Ce=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],ee),de)),typeof Ce>"u"){let Z={key:ee,translateService:this};typeof de<"u"&&(Z.interpolateParams=de),Ce=this.missingTranslationHandler.handle(Z)}return typeof Ce<"u"?Ce:ee}get(q,ee){if(!w(q)||!q.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,_.H)(de=>(de=this.getParsedResult(de,q,ee),(0,c.A)(de)?de:(0,n.of)(de))));{let de=this.getParsedResult(this.translations[this.currentLang],q,ee);return(0,c.A)(de)?de:(0,n.of)(de)}}getStreamOnTranslationChange(q,ee){if(!w(q)||!q.length)throw new Error('Parameter "key" required');return(0,f.x)((0,g.v)(()=>this.get(q,ee)),this.onTranslationChange.pipe((0,b.n)(de=>{const Ce=this.getParsedResult(de.translations,q,ee);return"function"==typeof Ce.subscribe?Ce:(0,n.of)(Ce)})))}stream(q,ee){if(!w(q)||!q.length)throw new Error('Parameter "key" required');return(0,f.x)((0,g.v)(()=>this.get(q,ee)),this.onLangChange.pipe((0,b.n)(de=>{const Ce=this.getParsedResult(de.translations,q,ee);return(0,c.A)(Ce)?Ce:(0,n.of)(Ce)})))}instant(q,ee){if(!w(q)||!q.length)throw new Error('Parameter "key" required');let de=this.getParsedResult(this.translations[this.currentLang],q,ee);if((0,c.A)(de)){if(q instanceof Array){let Ce={};return q.forEach((Z,le)=>{Ce[q[le]]=q[le]}),Ce}return q}return de}set(q,ee,de=this.currentLang){this.translations[de][q]=this.compiler.compile(ee,de),this.updateLangs(),this.onTranslationChange.emit({lang:de,translations:this.translations[de]})}changeLang(q){this.currentLang=q,this.onLangChange.emit({lang:q,translations:this.translations[q]}),null==this.defaultLang&&this.changeDefaultLang(q)}changeDefaultLang(q){this.defaultLang=q,this.onDefaultLangChange.emit({lang:q,translations:this.translations[q]})}reloadLang(q){return this.resetLang(q),this.getTranslation(q)}resetLang(q){this._translationRequests[q]=void 0,this.translations[q]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let q=window.navigator.languages?window.navigator.languages[0]:null;return q=q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof q>"u"?void 0:(-1!==q.indexOf("-")&&(q=q.split("-")[0]),-1!==q.indexOf("_")&&(q=q.split("_")[0]),q)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let q=window.navigator.languages?window.navigator.languages[0]:null;return q=q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,q}}return J.\u0275fac=function(q){return new(q||J)(i.KVO(j),i.KVO(O),i.KVO(F),i.KVO(M),i.KVO(T),i.KVO(G),i.KVO(x),i.KVO(V),i.KVO(Y))},J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})(),ae=(()=>{class J{constructor(q,ee){this.translate=q,this._ref=ee,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(q,ee,de){let Ce=Z=>{this.value=void 0!==Z?Z:q,this.lastKey=q,this._ref.markForCheck()};if(de){let Z=this.translate.getParsedResult(de,q,ee);(0,c.A)(Z.subscribe)?Z.subscribe(Ce):Ce(Z)}this.translate.get(q,ee).subscribe(Ce)}transform(q,...ee){if(!q||!q.length)return q;if(u(q,this.lastKey)&&u(ee,this.lastParams))return this.value;let de;if(w(ee[0])&&ee.length)if("string"==typeof ee[0]&&ee[0].length){let Ce=ee[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{de=JSON.parse(Ce)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${ee[0]}`)}}else"object"==typeof ee[0]&&!Array.isArray(ee[0])&&(de=ee[0]);return this.lastKey=q,this.lastParams=ee,this.updateValue(q,de),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Ce=>{this.lastKey&&Ce.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(q,de,Ce.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Ce=>{this.lastKey&&(this.lastKey=null,this.updateValue(q,de,Ce.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(q,de))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return J.\u0275fac=function(q){return new(q||J)(i.rXU(X,16),i.rXU(i.gRc,16))},J.\u0275pipe=i.EJ8({name:"translate",type:J,pure:!1}),J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})(),Q=(()=>{class J{static forRoot(q={}){return{ngModule:J,providers:[q.loader||{provide:O,useClass:I},q.compiler||{provide:F,useClass:$},q.parser||{provide:M,useClass:L},q.missingTranslationHandler||{provide:T,useClass:R},j,{provide:x,useValue:q.isolate},{provide:G,useValue:q.useDefaultLang},{provide:V,useValue:q.extend},{provide:Y,useValue:q.defaultLanguage},X]}}static forChild(q={}){return{ngModule:J,providers:[q.loader||{provide:O,useClass:I},q.compiler||{provide:F,useClass:$},q.parser||{provide:M,useClass:L},q.missingTranslationHandler||{provide:T,useClass:R},{provide:x,useValue:q.isolate},{provide:G,useValue:q.useDefaultLang},{provide:V,useValue:q.extend},{provide:Y,useValue:q.defaultLanguage},X]}}}return J.\u0275fac=function(q){return new(q||J)},J.\u0275mod=i.$C({type:J}),J.\u0275inj=i.G2t({}),J})()},36057:(B,D,t)=>{"use strict";t.d(D,{WY:()=>R,xG:()=>w});var i=t(53107),n=t(54460),c=t(17838),e=t(48915);const f={target:null,action:"click",duration:650,easing:"easeInOutQuad",offset:0,offsetMap:new Map},g={easeInQuad:v=>v*v,easeOutQuad:v=>v*(2-v),easeInOutQuad:v=>v<.5?2*v*v:(4-2*v)*v-1,easeInCubic:v=>v*v*v,easeOutCubic:v=>--v*v*v+1,easeInOutCubic:v=>v<.5?4*v*v*v:(v-1)*(2*v-2)*(2*v-2)+1,easeInQuart:v=>v*v*v*v,easeOutQuart:v=>1- --v*v*v*v,easeInOutQuart:v=>v<.5?8*v*v*v*v:1-8*--v*v*v*v,easeInQuint:v=>v*v*v*v*v,easeOutQuint:v=>1+--v*v*v*v*v,easeInOutQuint:v=>v<.5?16*v*v*v*v*v:1+16*--v*v*v*v*v,easeOutElastic:v=>Math.pow(2,-10*v)*Math.sin((v-1/4)*(2*Math.PI)/1)+1};function _(v){return v===window}class T{constructor(S,M,L,F,$,j){this.container=S,this.listenerTarget=M,this.isWindow=L,this.to=F,this.options=$,this.isBrowser=j,this.loop=()=>{this.timeLapsed+=this.tick,this.percentage=this.timeLapsed/this.options.duration,this.percentage=this.percentage>1?1:this.percentage,this.position=this.startPosition+(this.startPosition-this.to<=0?1:-1)*this.distance*g[this.options.easing](this.percentage),null!==this.lastPosition&&this.position===this.lastPosition?this.stop():(this.source$.next(this.position),this.isWindow?this.listenerTarget.scrollTo(0,Math.floor(this.position)):this.container.scrollTop=Math.floor(this.position),this.lastPosition=this.position)},this.tick=16,this.interval=null,this.lastPosition=null,this.timeLapsed=0,this.windowScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this.startPosition=this.container?this.isWindow?this.windowScrollTop:this.container.scrollTop:this.windowScrollTop,this.container&&!this.isWindow&&(this.to=this.to-this.container.getBoundingClientRect().top+this.startPosition);const x=this.startPosition-this.to;this.distance=this.container?Math.abs(this.startPosition-this.to):this.to,this.mappedOffset=this.options.offset,this.isBrowser&&this.options.offsetMap.forEach((G,Y)=>this.mappedOffset=window.innerWidth>Y?G:this.mappedOffset),this.distance+=this.mappedOffset*(x<=0?1:-1),this.source$=new c.m}start(){return clearInterval(this.interval),this.interval=setInterval(this.loop,this.tick),this.source$.asObservable()}stop(){clearInterval(this.interval),this.interval=null,this.source$.complete()}}let R=(()=>{class v{constructor(M,L){this.document=M,this.platformId=L,this.interruptiveEvents=["mousewheel","DOMMouseScroll","touchstart"]}scrollTo(M){return(0,n.UE)(this.platformId)?this.start(M):(new c.m).asObservable()}start(M){const L={...f,...M};this.animation&&this.animation.stop();const F=this.getNode(L.target);if(L.target&&!F)return(0,e.$)(()=>new Error("Unable to find Target Element"));const $=this.getContainer(L,F);if(L.container&&!$)return(0,e.$)(()=>new Error("Unable to find Container Element"));const j=this.getListenerTarget($)||window;let x=$?$.getBoundingClientRect().top:0;F&&(x=_(j)?window.scrollY+F.getBoundingClientRect().top:F.getBoundingClientRect().top),this.animation=new T($,j,_(j),x,L,(0,n.UE)(this.platformId));const G=()=>this.animation.stop();this.addInterruptiveEventListeners(j,G);const Y=this.animation.start();return this.subscribeToAnimation(Y,j,G),Y}subscribeToAnimation(M,L,F){const $=M.subscribe({complete:()=>{this.removeInterruptiveEventListeners(this.interruptiveEvents,L,F),$.unsubscribe()}})}getContainer(M,L){let F=null;return M.container?F=this.getNode(M.container,!0):L&&(F=this.getFirstScrollableParent(L)),F}addInterruptiveEventListeners(M,L){M||(M=window),this.interruptiveEvents.forEach(F=>M.addEventListener(F,L,!!this.supportPassive()&&{passive:!0}))}supportPassive(){let M=!1;try{const L=Object.defineProperty({},"passive",{get:()=>{M=!0}});window.addEventListener("testPassive",null,L),window.removeEventListener("testPassive",null,L)}catch{}return M}removeInterruptiveEventListeners(M,L,F){L||(L=window),M.forEach($=>L.removeEventListener($,F))}getFirstScrollableParent(M){let L=window.getComputedStyle(M);const F=/(auto|scroll|overlay)/;if("fixed"===L.position)return null;let $=M;for(;$.parentElement;)if($=$.parentElement,L=window.getComputedStyle($),"absolute"!==L.position&&"hidden"!==L.overflow&&"hidden"!==L.overflowY&&(F.test(L.overflow+L.overflowY)||"BODY"===$.tagName))return $;return null}getNode(M,L=!1){let F;return function E(v){return"string"==typeof v||v instanceof String}(M)?F=!L||"body"!==M&&"BODY"!==M?this.document.getElementById(function y(v){return"#"===v.substring(0,1)?v.substring(1):v}(M)):this.document.body:function I(v){return!isNaN(parseFloat(v))&&isFinite(v)}(M)?F=this.document.getElementById(String(M)):function b(v){return v instanceof i.aKT}(M)?F=M.nativeElement:function O(v){return v instanceof HTMLElement}(M)&&(F=M),F}getListenerTarget(M){return M?this.isDocumentBody(M)?window:M:null}isDocumentBody(M){return"BODY"===M.tagName.toUpperCase()}}return v.\u0275fac=function(M){return new(M||v)(i.KVO(n.qQ),i.KVO(i.Agw))},v.\u0275prov=i.jDH({token:v,factory:v.\u0275fac}),v})(),w=(()=>{class v{static forRoot(){return{ngModule:v,providers:[R]}}}return v.\u0275fac=function(M){return new(M||v)},v.\u0275mod=i.$C({type:v}),v.\u0275inj=i.G2t({}),v})()},80687:(B,D,t)=>{"use strict";t.d(D,{RH:()=>G,Z1:()=>L,eB:()=>j,il:()=>y,ok:()=>I});var i=t(53107),n=t(71217),c=t(17838),e=t(41483);class f{constructor(){this.pageTracking={autoTrackVirtualPages:!0,basePath:"",excludedRoutes:[],clearIds:!1,clearHash:!1,clearQueryParams:!1,idsRegExp:/^\d+$|^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/},this.developerMode=!1,this.ga={},this.appInsights={},this.gtm={},this.gst={}}}const g=new i.nKC("ANGULARTICS2");class d{trackLocation(pe){return new n.t({url:"/"})}prepareExternalUrl(pe){return pe}}let y=(()=>{class De{constructor(re,ve){this.tracker=re,this.pageTrack=new c.m(10),this.eventTrack=new c.m(10),this.exceptionTrack=new c.m(10),this.setAlias=new c.m(10),this.setUsername=new c.m(10),this.setUserProperties=new c.m(10),this.setUserPropertiesOnce=new c.m(10),this.setSuperProperties=new c.m(10),this.setSuperPropertiesOnce=new c.m(10),this.userTimings=new c.m(10);const fe=new f;this.settings={...fe,...ve.settings},this.settings.pageTracking={...fe.pageTracking,...ve.settings.pageTracking},this.tracker.trackLocation(this.settings).subscribe(Ie=>this.trackUrlChange(Ie.url))}filterDeveloperMode(){return(0,e.p)((re,ve)=>!this.settings.developerMode)}trackUrlChange(re){if(this.settings.pageTracking.autoTrackVirtualPages&&!this.matchesExcludedRoute(re)){const ve=this.clearUrl(re);let fe;fe=this.settings.pageTracking.basePath.length?this.settings.pageTracking.basePath+ve:this.tracker.prepareExternalUrl(ve),this.pageTrack.next({path:fe})}}matchesExcludedRoute(re){for(const ve of this.settings.pageTracking.excludedRoutes)if(ve instanceof RegExp&&ve.test(re)||-1!==re.indexOf(ve))return!0;return!1}clearUrl(re){return this.settings.pageTracking.clearIds||this.settings.pageTracking.clearQueryParams||this.settings.pageTracking.clearHash?re.split("/").map(ve=>this.settings.pageTracking.clearQueryParams?ve.split("?")[0]:ve).map(ve=>this.settings.pageTracking.clearHash?ve.split("#")[0]:ve).filter(ve=>!this.settings.pageTracking.clearIds||!ve.match(this.settings.pageTracking.idsRegExp)).join("/"):re}}return De.\u0275fac=function(re){return new(re||De)(i.KVO(d),i.KVO(g))},De.\u0275prov=i.jDH({token:De,factory:De.\u0275fac,providedIn:"root"}),De})(),b=(()=>{class De{}return De.\u0275fac=function(re){return new(re||De)},De.\u0275mod=i.$C({type:De}),De.\u0275inj=i.G2t({}),De})(),I=(()=>{class De{static forRoot(re={}){return{ngModule:De,providers:[{provide:g,useValue:{settings:re}},d,y]}}}return De.\u0275fac=function(re){return new(re||De)},De.\u0275mod=i.$C({type:De}),De.\u0275inj=i.G2t({imports:[[b]]}),De})();class M{constructor(){this.additionalAccountNames=[],this.userId=null,this.transport="",this.anonymizeIp=!1}}let L=(()=>{class De{constructor(re){this.angulartics2=re,this.dimensionsAndMetrics=[];const ve=new M;this.angulartics2.settings.ga={...ve,...this.angulartics2.settings.ga},this.settings=this.angulartics2.settings.ga,this.angulartics2.setUsername.subscribe(fe=>this.setUsername(fe)),this.angulartics2.setUserProperties.subscribe(fe=>this.setUserProperties(fe))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.pageTrack(re.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.eventTrack(re.action,re.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.exceptionTrack(re)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.userTimings(re))}pageTrack(re){if(typeof _gaq<"u"&&_gaq){_gaq.push(["_trackPageview",re]);for(const ve of this.angulartics2.settings.ga.additionalAccountNames)_gaq.push([ve+"._trackPageview",re])}if(typeof ga<"u"&&ga){if(this.angulartics2.settings.ga.userId){ga("set","&uid",this.angulartics2.settings.ga.userId);for(const ve of this.angulartics2.settings.ga.additionalAccountNames)ga(ve+".set","&uid",this.angulartics2.settings.ga.userId)}if(this.angulartics2.settings.ga.anonymizeIp){ga("set","anonymizeIp",!0);for(const ve of this.angulartics2.settings.ga.additionalAccountNames)ga(ve+".set","anonymizeIp",!0)}ga("send","pageview",re);for(const ve of this.angulartics2.settings.ga.additionalAccountNames)ga(ve+".send","pageview",re)}}eventTrack(re,ve){if((!ve||!ve.category)&&((ve=ve||{}).category="Event"),ve.value){const fe=parseInt(ve.value,10);ve.value=isNaN(fe)?0:fe}if(typeof ga<"u"){const fe={eventCategory:ve.category,eventAction:re,eventLabel:ve.label,eventValue:ve.value,nonInteraction:ve.noninteraction,page:ve.page||location.hash.substring(1)||location.pathname,userId:this.angulartics2.settings.ga.userId,hitCallback:ve.hitCallback,...this.angulartics2.settings.ga.transport&&{transport:this.angulartics2.settings.ga.transport}};this.setDimensionsAndMetrics(ve),ga("send","event",fe);for(const Ie of this.angulartics2.settings.ga.additionalAccountNames)ga(Ie+".send","event",fe)}else typeof _gaq<"u"&&_gaq.push(["_trackEvent",ve.category,re,ve.label,ve.value,ve.noninteraction])}exceptionTrack(re){void 0===re.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),re.fatal=!0),re.exDescription=re.description;const ve={exFatal:re.fatal,exDescription:re.description};ga("send","exception",ve);for(const fe of this.angulartics2.settings.ga.additionalAccountNames)ga(fe+".send","exception",ve)}userTimings(re){if(re&&re.timingCategory&&re.timingVar&&re.timingValue){if(typeof ga<"u"){ga("send","timing",re);for(const ve of this.angulartics2.settings.ga.additionalAccountNames)ga(ve+".send","timing",re)}}else console.error("Properties timingCategory, timingVar, and timingValue are required to be set.")}setUsername(re){this.angulartics2.settings.ga.userId=re,!(typeof ga>"u")&&ga("set","userId",re)}setUserProperties(re){this.setDimensionsAndMetrics(re)}setDimensionsAndMetrics(re){typeof ga>"u"||(this.dimensionsAndMetrics.forEach(ve=>{re.hasOwnProperty(ve)||(ga("set",ve,void 0),this.angulartics2.settings.ga.additionalAccountNames.forEach(fe=>{ga(`${fe}.set`,ve,void 0)}))}),this.dimensionsAndMetrics=[],Object.keys(re).forEach(ve=>{(0===ve.lastIndexOf("dimension",0)||0===ve.lastIndexOf("metric",0))&&(ga("set",ve,re[ve]),this.angulartics2.settings.ga.additionalAccountNames.forEach(fe=>{ga(`${fe}.set`,ve,re[ve])}),this.dimensionsAndMetrics.push(ve))}))}}return De.\u0275fac=function(re){return new(re||De)(i.KVO(y))},De.\u0275prov=i.jDH({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();class ${constructor(){this.userId=null}}let j=(()=>{class De{constructor(re){this.angulartics2=re,typeof dataLayer<"u"&&dataLayer&&(dataLayer=window.dataLayer=window.dataLayer||[]);const ve=new $;this.angulartics2.settings.gtm={...ve,...this.angulartics2.settings.gtm},this.angulartics2.setUsername.subscribe(fe=>this.setUsername(fe))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.pageTrack(re.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.eventTrack(re.action,re.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.exceptionTrack(re))}pageTrack(re){this.pushLayer({event:"Page View","content-name":re,userId:this.angulartics2.settings.gtm.userId})}pushLayer(re){typeof dataLayer<"u"&&dataLayer&&dataLayer.push(re)}eventTrack(re,ve){this.pushLayer({event:(ve=ve||{}).event||"interaction",target:ve.category||"Event",action:re,label:ve.label,value:ve.value,interactionType:ve.noninteraction,userId:this.angulartics2.settings.gtm.userId,...ve.gtmCustom})}exceptionTrack(re){re&&re.appId&&re.appName&&re.appVersion?(void 0===re.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),re.exFatal=!0),re.exDescription=re.event?re.event.stack:re.description,this.eventTrack(`Exception thrown for ${re.appName} <${re.appId}@${re.appVersion}>`,{category:"Exception",label:re.exDescription})):console.error("Must be setted appId, appName and appVersion.")}setUsername(re){this.angulartics2.settings.gtm.userId=re}}return De.\u0275fac=function(re){return new(re||De)(i.KVO(y))},De.\u0275prov=i.jDH({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();class x{constructor(){this.trackingIds=[],typeof ga<"u"&&ga&&ga(()=>{ga.getAll().forEach(pe=>{const re=pe.get("trackingId");void 0!==re&&-1===this.trackingIds.indexOf(re)&&this.trackingIds.push(re)})})}}let G=(()=>{class De{constructor(re){this.angulartics2=re,this.dimensionsAndMetrics={};const ve=new x;this.angulartics2.settings.gst={...ve,...this.angulartics2.settings.gst}}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.pageTrack(re.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.eventTrack(re.action,re.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.exceptionTrack(re)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.userTimings(this.convertTimings(re))),this.angulartics2.setUsername.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.setUsername(re)),this.angulartics2.setUserProperties.pipe(this.angulartics2.filterDeveloperMode()).subscribe(re=>this.setUserProperties(re))}pageTrack(re){if(typeof gtag<"u"&&gtag){const ve={page_path:re,page_location:window.location.protocol+"//"+window.location.host+re,...this.dimensionsAndMetrics};this.angulartics2.settings.gst.customMap&&(ve.custom_map=this.angulartics2.settings.gst.customMap),this.angulartics2.settings.gst.userId&&(ve.user_id=this.angulartics2.settings.gst.userId),this.angulartics2.settings.gst.anonymizeIp&&(ve.anonymize_ip=this.angulartics2.settings.gst.anonymizeIp);for(const fe of this.angulartics2.settings.gst.trackingIds)gtag("config",fe,ve)}}eventTrack(re,ve={}){this.eventTrackInternal(re,{event_category:ve.category||"interaction",event_label:ve.label,value:ve.value,non_interaction:ve.noninteraction,...ve.gstCustom})}exceptionTrack(re){void 0===re.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),re.fatal=!0),re.exDescription=re.event?re.event.stack:re.description,this.eventTrack("exception",{gstCustom:{description:re.exDescription,fatal:re.fatal,...re.gstCustom}})}userTimings(re){re?this.eventTrackInternal("timing_complete",{name:re.name,value:re.value,event_category:re.category,event_label:re.label}):console.error('User timings - "properties" parameter is required to be set.')}convertTimings(re){return{name:re.timingVar,value:re.timingValue,category:re.timingCategory,label:re.timingLabel}}setUsername(re){this.angulartics2.settings.gst.userId=re,typeof gtag<"u"&&gtag&&gtag("set",{user_id:"string"!=typeof re&&re?re.userId:re})}setUserProperties(re){this.setDimensionsAndMetrics(re)}setDimensionsAndMetrics(re){this.dimensionsAndMetrics={...this.dimensionsAndMetrics,...re},Object.keys(this.dimensionsAndMetrics).forEach(ve=>{null==this.dimensionsAndMetrics[ve]&&delete this.dimensionsAndMetrics[ve]}),typeof gtag<"u"&&gtag&&gtag("set",this.dimensionsAndMetrics)}eventTrackInternal(re,ve={}){this.cleanProperties(ve),typeof gtag<"u"&&gtag&&gtag("event",re,ve)}cleanProperties(re){if(re.value){const ve=parseInt(re.value,10);re.value=isNaN(ve)?0:ve}}}return De.\u0275fac=function(re){return new(re||De)(i.KVO(y))},De.\u0275prov=i.jDH({token:De,factory:De.\u0275fac,providedIn:"root"}),De})()},5038:(B,D,t)=>{"use strict";t.d(D,{X6:()=>F,UD:()=>de,Go:()=>d});var i={};t.r(i),t.d(i,{JsonPatchError:()=>u,_areEquals:()=>G,applyOperation:()=>L,applyPatch:()=>F,applyReducer:()=>$,deepClone:()=>w,getValueByPointer:()=>M,validate:()=>x,validator:()=>j});var n={};t.r(n),t.d(n,{compare:()=>de,generate:()=>q,observe:()=>z,unobserve:()=>J});var c=function(){var Z=function(le,De){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pe,re){pe.__proto__=re}||function(pe,re){for(var ve in re)re.hasOwnProperty(ve)&&(pe[ve]=re[ve])})(le,De)};return function(le,De){function pe(){this.constructor=le}Z(le,De),le.prototype=null===De?Object.create(De):(pe.prototype=De.prototype,new pe)}}(),e=Object.prototype.hasOwnProperty;function f(Z,le){return e.call(Z,le)}function g(Z){if(Array.isArray(Z)){for(var le=new Array(Z.length),De=0;De<le.length;De++)le[De]=""+De;return le}if(Object.keys)return Object.keys(Z);var pe=[];for(var re in Z)f(Z,re)&&pe.push(re);return pe}function d(Z){switch(typeof Z){case"object":return JSON.parse(JSON.stringify(Z));case"undefined":return null;default:return Z}}function y(Z){for(var pe,le=0,De=Z.length;le<De;){if(!((pe=Z.charCodeAt(le))>=48&&pe<=57))return!1;le++}return!0}function E(Z){return-1===Z.indexOf("/")&&-1===Z.indexOf("~")?Z:Z.replace(/~/g,"~0").replace(/\//g,"~1")}function _(Z){return Z.replace(/~1/g,"/").replace(/~0/g,"~")}function I(Z){if(void 0===Z)return!0;if(Z)if(Array.isArray(Z)){for(var le=0,De=Z.length;le<De;le++)if(I(Z[le]))return!0}else if("object"==typeof Z)for(var pe=g(Z),re=pe.length,ve=0;ve<re;ve++)if(I(Z[pe[ve]]))return!0;return!1}function T(Z,le){var De=[Z];for(var pe in le){var re="object"==typeof le[pe]?JSON.stringify(le[pe],null,2):le[pe];typeof re<"u"&&De.push(pe+": "+re)}return De.join("\n")}var R=function(Z){function le(De,pe,re,ve,fe){var Ie=this.constructor,Ne=Z.call(this,T(De,{name:pe,index:re,operation:ve,tree:fe}))||this;return Ne.name=pe,Ne.index=re,Ne.operation=ve,Ne.tree=fe,Object.setPrototypeOf(Ne,Ie.prototype),Ne.message=T(De,{name:pe,index:re,operation:ve,tree:fe}),Ne}return c(le,Z),le}(Error),u=R,w=d,v={add:function(Z,le,De){return Z[le]=this.value,{newDocument:De}},remove:function(Z,le,De){var pe=Z[le];return delete Z[le],{newDocument:De,removed:pe}},replace:function(Z,le,De){var pe=Z[le];return Z[le]=this.value,{newDocument:De,removed:pe}},move:function(Z,le,De){var pe=M(De,this.path);pe&&(pe=d(pe));var re=L(De,{op:"remove",path:this.from}).removed;return L(De,{op:"add",path:this.path,value:re}),{newDocument:De,removed:pe}},copy:function(Z,le,De){var pe=M(De,this.from);return L(De,{op:"add",path:this.path,value:d(pe)}),{newDocument:De}},test:function(Z,le,De){return{newDocument:De,test:G(Z[le],this.value)}},_get:function(Z,le,De){return this.value=Z[le],{newDocument:De}}},S={add:function(Z,le,De){return y(le)?Z.splice(le,0,this.value):Z[le]=this.value,{newDocument:De,index:le}},remove:function(Z,le,De){return{newDocument:De,removed:Z.splice(le,1)[0]}},replace:function(Z,le,De){var pe=Z[le];return Z[le]=this.value,{newDocument:De,removed:pe}},move:v.move,copy:v.copy,test:v.test,_get:v._get};function M(Z,le){if(""==le)return Z;var De={op:"_get",path:le};return L(Z,De),De.value}function L(Z,le,De,pe,re,ve){if(void 0===De&&(De=!1),void 0===pe&&(pe=!0),void 0===re&&(re=!0),void 0===ve&&(ve=0),De&&("function"==typeof De?De(le,0,Z,le.path):j(le,0)),""===le.path){var fe={newDocument:Z};if("add"===le.op)return fe.newDocument=le.value,fe;if("replace"===le.op)return fe.newDocument=le.value,fe.removed=Z,fe;if("move"===le.op||"copy"===le.op)return fe.newDocument=M(Z,le.from),"move"===le.op&&(fe.removed=Z),fe;if("test"===le.op){if(fe.test=G(Z,le.value),!1===fe.test)throw new u("Test operation failed","TEST_OPERATION_FAILED",ve,le,Z);return fe.newDocument=Z,fe}if("remove"===le.op)return fe.removed=Z,fe.newDocument=null,fe;if("_get"===le.op)return le.value=Z,fe;if(De)throw new u("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",ve,le,Z);return fe}pe||(Z=d(Z));var Ne=(le.path||"").split("/"),qe=Z,we=1,Be=Ne.length,Ve=void 0,et=void 0,yt=void 0;for(yt="function"==typeof De?De:j;;){if((et=Ne[we])&&-1!=et.indexOf("~")&&(et=_(et)),re&&("__proto__"==et||"prototype"==et&&we>0&&"constructor"==Ne[we-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(De&&void 0===Ve&&(void 0===qe[et]?Ve=Ne.slice(0,we).join("/"):we==Be-1&&(Ve=le.path),void 0!==Ve&&yt(le,0,Z,Ve)),we++,Array.isArray(qe)){if("-"===et)et=qe.length;else{if(De&&!y(et))throw new u("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",ve,le,Z);y(et)&&(et=~~et)}if(we>=Be){if(De&&"add"===le.op&&et>qe.length)throw new u("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",ve,le,Z);if(!1===(fe=S[le.op].call(le,qe,et,Z)).test)throw new u("Test operation failed","TEST_OPERATION_FAILED",ve,le,Z);return fe}}else if(we>=Be){if(!1===(fe=v[le.op].call(le,qe,et,Z)).test)throw new u("Test operation failed","TEST_OPERATION_FAILED",ve,le,Z);return fe}if(qe=qe[et],De&&we<Be&&(!qe||"object"!=typeof qe))throw new u("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",ve,le,Z)}}function F(Z,le,De,pe,re){if(void 0===pe&&(pe=!0),void 0===re&&(re=!0),De&&!Array.isArray(le))throw new u("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");pe||(Z=d(Z));for(var ve=new Array(le.length),fe=0,Ie=le.length;fe<Ie;fe++)ve[fe]=L(Z,le[fe],De,!0,re,fe),Z=ve[fe].newDocument;return ve.newDocument=Z,ve}function $(Z,le,De){var pe=L(Z,le);if(!1===pe.test)throw new u("Test operation failed","TEST_OPERATION_FAILED",De,le,Z);return pe.newDocument}function j(Z,le,De,pe){if("object"!=typeof Z||null===Z||Array.isArray(Z))throw new u("Operation is not an object","OPERATION_NOT_AN_OBJECT",le,Z,De);if(!v[Z.op])throw new u("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",le,Z,De);if("string"!=typeof Z.path)throw new u("Operation `path` property is not a string","OPERATION_PATH_INVALID",le,Z,De);if(0!==Z.path.indexOf("/")&&Z.path.length>0)throw new u('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",le,Z,De);if(("move"===Z.op||"copy"===Z.op)&&"string"!=typeof Z.from)throw new u("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",le,Z,De);if(("add"===Z.op||"replace"===Z.op||"test"===Z.op)&&void 0===Z.value)throw new u("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",le,Z,De);if(("add"===Z.op||"replace"===Z.op||"test"===Z.op)&&I(Z.value))throw new u("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",le,Z,De);if(De)if("add"==Z.op){var re=Z.path.split("/").length,ve=pe.split("/").length;if(re!==ve+1&&re!==ve)throw new u("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",le,Z,De)}else if("replace"===Z.op||"remove"===Z.op||"_get"===Z.op){if(Z.path!==pe)throw new u("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",le,Z,De)}else if("move"===Z.op||"copy"===Z.op){var Ie=x([{op:"_get",path:Z.from,value:void 0}],De);if(Ie&&"OPERATION_PATH_UNRESOLVABLE"===Ie.name)throw new u("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",le,Z,De)}}function x(Z,le,De){try{if(!Array.isArray(Z))throw new u("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(le)F(d(le),d(Z),De||!0);else{De=De||j;for(var pe=0;pe<Z.length;pe++)De(Z[pe],pe,le,void 0)}}catch(re){if(re instanceof u)return re;throw re}}function G(Z,le){if(Z===le)return!0;if(Z&&le&&"object"==typeof Z&&"object"==typeof le){var re,ve,fe,De=Array.isArray(Z),pe=Array.isArray(le);if(De&&pe){if((ve=Z.length)!=le.length)return!1;for(re=ve;0!=re--;)if(!G(Z[re],le[re]))return!1;return!0}if(De!=pe)return!1;var Ie=Object.keys(Z);if((ve=Ie.length)!==Object.keys(le).length)return!1;for(re=ve;0!=re--;)if(!le.hasOwnProperty(Ie[re]))return!1;for(re=ve;0!=re--;)if(!G(Z[fe=Ie[re]],le[fe]))return!1;return!0}return Z!=Z&&le!=le}var Y=new WeakMap,V=function(){return function Z(le){this.observers=new Map,this.obj=le}}(),X=function(){return function Z(le,De){this.callback=le,this.observer=De}}();function J(Z,le){le.unobserve()}function z(Z,le){var pe,re=function K(Z){return Y.get(Z)}(Z);if(re){var ve=function ae(Z,le){return Z.observers.get(le)}(re,le);pe=ve&&ve.observer}else re=new V(Z),Y.set(Z,re);if(pe)return pe;if(pe={},re.value=d(Z),le){pe.callback=le,pe.next=null;var fe=function(){q(pe)},Ie=function(){clearTimeout(pe.next),pe.next=setTimeout(fe)};typeof window<"u"&&(window.addEventListener("mouseup",Ie),window.addEventListener("keyup",Ie),window.addEventListener("mousedown",Ie),window.addEventListener("keydown",Ie),window.addEventListener("change",Ie))}return pe.patches=[],pe.object=Z,pe.unobserve=function(){q(pe),clearTimeout(pe.next),function Q(Z,le){Z.observers.delete(le.callback)}(re,pe),typeof window<"u"&&(window.removeEventListener("mouseup",Ie),window.removeEventListener("keyup",Ie),window.removeEventListener("mousedown",Ie),window.removeEventListener("keydown",Ie),window.removeEventListener("change",Ie))},re.observers.set(le,new X(le,pe)),pe}function q(Z,le){void 0===le&&(le=!1);var De=Y.get(Z.object);ee(De.value,Z.object,Z.patches,"",le),Z.patches.length&&F(De.value,Z.patches);var pe=Z.patches;return pe.length>0&&(Z.patches=[],Z.callback&&Z.callback(pe)),pe}function ee(Z,le,De,pe,re){if(le!==Z){"function"==typeof le.toJSON&&(le=le.toJSON());for(var ve=g(le),fe=g(Z),Ne=!1,qe=fe.length-1;qe>=0;qe--){var Be=Z[we=fe[qe]];if(!f(le,we)||void 0===le[we]&&void 0!==Be&&!1===Array.isArray(le))Array.isArray(Z)===Array.isArray(le)?(re&&De.push({op:"test",path:pe+"/"+E(we),value:d(Be)}),De.push({op:"remove",path:pe+"/"+E(we)}),Ne=!0):(re&&De.push({op:"test",path:pe,value:Z}),De.push({op:"replace",path:pe,value:le}));else{var Ve=le[we];"object"==typeof Be&&null!=Be&&"object"==typeof Ve&&null!=Ve&&Array.isArray(Be)===Array.isArray(Ve)?ee(Be,Ve,De,pe+"/"+E(we),re):Be!==Ve&&(re&&De.push({op:"test",path:pe+"/"+E(we),value:d(Be)}),De.push({op:"replace",path:pe+"/"+E(we),value:d(Ve)}))}}if(Ne||ve.length!=fe.length)for(qe=0;qe<ve.length;qe++){var we;!f(Z,we=ve[qe])&&void 0!==le[we]&&De.push({op:"add",path:pe+"/"+E(we),value:d(le[we])})}}}function de(Z,le,De){void 0===De&&(De=!1);var pe=[];return ee(Z,le,pe,"",De),pe}Object.assign({},i,n,{JsonPatchError:R,deepClone:d,escapePathComponent:E,unescapePathComponent:_})},29087:(B,D,t)=>{"use strict";t.d(D,{Ff:()=>y,UJ:()=>E,eB:()=>_,l0:()=>d});var i=t(53107),n=t(54460);class c{constructor(O){this.rawFile=O;const I=O instanceof HTMLInputElement?O.value:O;this["_createFrom"+("string"==typeof I?"FakePath":"Object")](I)}_createFromFakePath(O){this.lastModifiedDate=void 0,this.size=void 0,this.type=`like/${O.slice(O.lastIndexOf(".")+1).toLowerCase()}`,this.name=O.slice(O.lastIndexOf("/")+O.lastIndexOf("\\")+2)}_createFromObject(O){this.size=O.size,this.type=O.type,this.name=O.name}}class e{constructor(O,I,T){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.uploader=O,this.some=I,this.options=T,this.file=new c(I),this._file=I,O.options&&(this.method=O.options.method||"POST",this.alias=O.options.itemAlias||"file"),this.url=O.options.url}upload(){try{this.uploader.uploadItem(this)}catch{this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(O){return{form:O}}onProgress(O){return{progress:O}}onSuccess(O,I,T){return{response:O,status:I,headers:T}}onError(O,I,T){return{response:O,status:I,headers:T}}onCancel(O,I,T){return{response:O,status:I,headers:T}}onComplete(O,I,T){return{response:O,status:I,headers:T}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(O){this.onBuildForm(O)}_onProgress(O){this.progress=O,this.onProgress(O)}_onSuccess(O,I,T){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(O,I,T)}_onError(O,I,T){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(O,I,T)}_onCancel(O,I,T){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(O,I,T)}_onComplete(O,I,T){this.onComplete(O,I,T),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}let f=(()=>{class b{static#e=this.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"];static#t=this.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"];static#n=this.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"];static#s=this.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"];static#i=this.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"];static getMimeClass(I){let T="application";return I?.type&&-1!==this.mime_psd.indexOf(I.type)||I?.type?.match("image.*")?T="image":I?.type?.match("video.*")?T="video":I?.type?.match("audio.*")?T="audio":"application/pdf"===I?.type?T="pdf":I?.type&&-1!==this.mime_compress.indexOf(I.type)?T="compress":I?.type&&-1!==this.mime_doc.indexOf(I.type)?T="doc":I?.type&&-1!==this.mime_xsl.indexOf(I.type)?T="xls":I?.type&&-1!==this.mime_ppt.indexOf(I.type)&&(T="ppt"),"application"===T&&I?.name&&(T=this.fileTypeDetection(I.name)),T}static fileTypeDetection(I){const T={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},R=I.split(".");if(R.length<2)return"application";const u=R[R.length-1].toLowerCase();return void 0===T[u]?"application":T[u]}}return b})();class d{constructor(O){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:I=>I._file,formatDataFunctionIsAsync:!1,url:""},this.setOptions(O),this.response=new i.bkB}setOptions(O){this.options=Object.assign(this.options,O),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters?.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters?.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters?.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters?.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let I=0;I<this.queue.length;I++)this.queue[I].url=this.options.url}addToQueue(O,I,T){let R=I;const u=[];for(const M of O)u.push(M);const w=this._getFilters(T),v=this.queue.length,S=[];u.map(M=>{R||(R=this.options);const L=new c(M);if(this._isValidFile(L,w,R)){const F=new e(this,M,R);S.push(F),this.queue.push(F),this._onAfterAddingFile(F)}else"number"==typeof this._failFilterIndex&&this._failFilterIndex>=0&&this._onWhenAddingFileFailed(L,w[this._failFilterIndex],R)}),this.queue.length!==v&&(this._onAfterAddingAll(S),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(O){const I=this.getIndexOfItem(O),T=this.queue[I];T.isUploading&&T.cancel(),this.queue.splice(I,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(O){const I=this.getIndexOfItem(O),T=this.queue[I],R=this.options.isHTML5?"_xhrTransport":"_iframeTransport";T._prepareToUploading(),!this.isUploading&&(this.isUploading=!0,this[R](T))}cancelItem(O){const I=this.getIndexOfItem(O),T=this.queue[I];T&&T.isUploading&&(this.options.isHTML5?T._xhr:T._form).abort()}uploadAll(){const O=this.getNotUploadedItems().filter(I=>!I.isUploading);O.length&&(O.map(I=>I._prepareToUploading()),O[0].upload())}cancelAll(){this.getNotUploadedItems().map(I=>I.cancel())}isFile(O){return function g(b){return File&&b instanceof File}(O)}isFileLikeObject(O){return O instanceof c}getIndexOfItem(O){return"number"==typeof O?O:this.queue.indexOf(O)}getNotUploadedItems(){return this.queue.filter(O=>!O.isUploaded)}getReadyItems(){return this.queue.filter(O=>O.isReady&&!O.isUploading).sort((O,I)=>O.index-I.index)}onAfterAddingAll(O){return{fileItems:O}}onBuildItemForm(O,I){return{fileItem:O,form:I}}onAfterAddingFile(O){return{fileItem:O}}onWhenAddingFileFailed(O,I,T){return{item:O,filter:I,options:T}}onBeforeUploadItem(O){return{fileItem:O}}onProgressItem(O,I){return{fileItem:O,progress:I}}onProgressAll(O){return{progress:O}}onSuccessItem(O,I,T,R){return{item:O,response:I,status:T,headers:R}}onErrorItem(O,I,T,R){return{item:O,response:I,status:T,headers:R}}onCancelItem(O,I,T,R){return{item:O,response:I,status:T,headers:R}}onCompleteItem(O,I,T,R){return{item:O,response:I,status:T,headers:R}}onCompleteAll(){}_mimeTypeFilter(O){return!(O?.type&&this.options.allowedMimeType&&-1===this.options.allowedMimeType?.indexOf(O.type))}_fileSizeFilter(O){return!(this.options.maxFileSize&&O.size>this.options.maxFileSize)}_fileTypeFilter(O){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(f.getMimeClass(O)))}_onErrorItem(O,I,T,R){O._onError(I,T,R),this.onErrorItem(O,I,T,R)}_onCompleteItem(O,I,T,R){O._onComplete(I,T,R),this.onCompleteItem(O,I,T,R);const u=this.getReadyItems()[0];this.isUploading=!1,u?u.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(O){return I=>I?O[I.toLowerCase()]||void 0:O}_xhrTransport(O){const I=this,T=O._xhr=new XMLHttpRequest;let R;if(this._onBeforeUploadItem(O),"number"!=typeof O._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)this.options.formatDataFunction&&(R=this.options.formatDataFunction(O));else{R=new FormData,this._onBuildItemForm(O,R);const u=()=>R.append(O.alias,O._file,O.file.name);this.options.parametersBeforeFiles||u(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(w=>{let v=this.options.additionalParameter?.[w];"string"==typeof v&&v.indexOf("{{file_name}}")>=0&&O.file?.name&&(v=v.replace("{{file_name}}",O.file.name)),R.append(w,v)}),u&&this.options.parametersBeforeFiles&&u()}if(T.upload.onprogress=u=>{const w=Math.round(u.lengthComputable?100*u.loaded/u.total:0);this._onProgressItem(O,w)},T.onload=()=>{const u=this._parseHeaders(T.getAllResponseHeaders()),w=this._transformResponse(T.response,u);this[`_on${this._isSuccessCode(T.status)?"Success":"Error"}Item`](O,w,T.status,u),this._onCompleteItem(O,w,T.status,u)},T.onerror=()=>{const u=this._parseHeaders(T.getAllResponseHeaders()),w=this._transformResponse(T.response,u);this._onErrorItem(O,w,T.status,u),this._onCompleteItem(O,w,T.status,u)},T.onabort=()=>{const u=this._parseHeaders(T.getAllResponseHeaders()),w=this._transformResponse(T.response,u);this._onCancelItem(O,w,T.status,u),this._onCompleteItem(O,w,T.status,u)},O.method&&O.url&&T.open(O.method,O.url,!0),T.withCredentials=O.withCredentials,this.options.headers)for(const u of this.options.headers)T.setRequestHeader(u.name,u.value);if(O.headers.length)for(const u of O.headers)T.setRequestHeader(u.name,u.value);this.authToken&&this.authTokenHeader&&T.setRequestHeader(this.authTokenHeader,this.authToken),T.onreadystatechange=function(){T.readyState==XMLHttpRequest.DONE&&I.response.emit(T.responseText)},this.options.formatDataFunctionIsAsync?R.then(u=>T.send(JSON.stringify(u))):T.send(R),this._render()}_getTotalProgress(O=0){if(this.options.removeAfterUpload)return O;const I=this.getNotUploadedItems().length,R=100/this.queue.length;return Math.round((I?this.queue.length-I:this.queue.length)*R+O*R/100)}_getFilters(O){if(!O)return this.options?.filters||[];if(Array.isArray(O))return O;if("string"==typeof O){const I=O.match(/[^\s,]+/g);return this.options?.filters||[].filter(T=>-1!==I?.indexOf(T.name))}return this.options?.filters||[]}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(O,I,T){return this._failFilterIndex=-1,!I.length||I.every(R=>("number"==typeof this._failFilterIndex&&this._failFilterIndex++,R.fn.call(this,O,T)))}_isSuccessCode(O){return O>=200&&O<300||304===O}_transformResponse(O,I){return O}_parseHeaders(O){const I={};let T,R,u;return O&&O.split("\n").map(w=>{u=w.indexOf(":"),T=w.slice(0,u).trim().toLowerCase(),R=w.slice(u+1).trim(),T&&(I[T]=I[T]?I[T]+", "+R:R)}),I}_onWhenAddingFileFailed(O,I,T){this.onWhenAddingFileFailed(O,I,T)}_onAfterAddingFile(O){this.onAfterAddingFile(O)}_onAfterAddingAll(O){this.onAfterAddingAll(O)}_onBeforeUploadItem(O){O._onBeforeUpload(),this.onBeforeUploadItem(O)}_onBuildItemForm(O,I){O._onBuildForm(I),this.onBuildItemForm(O,I)}_onProgressItem(O,I){const T=this._getTotalProgress(I);this.progress=T,O._onProgress(I),this.onProgressItem(O,I),this.onProgressAll(T),this._render()}_onSuccessItem(O,I,T,R){O._onSuccess(I,T,R),this.onSuccessItem(O,I,T,R)}_onCancelItem(O,I,T,R){O._onCancel(I,T,R),this.onCancelItem(O,I,T,R)}}let y=(()=>{class b{constructor(I){this.fileOver=new i.bkB,this.onFileDrop=new i.bkB,this.element=I}getOptions(){return this.uploader?.options}getFilters(){return""}onDrop(I){const T=this._getTransfer(I);if(!T)return;const R=this.getOptions(),u=this.getFilters();this._preventAndStop(I),R&&this.uploader?.addToQueue(T.files,R,u),this.fileOver.emit(!1),this.onFileDrop.emit(T.files)}onDragOver(I){const T=this._getTransfer(I);this._haveFiles(T.types)&&(T.dropEffect="copy",this._preventAndStop(I),this.fileOver.emit(!0))}onDragLeave(I){this.element&&I.currentTarget===this.element[0]||(this._preventAndStop(I),this.fileOver.emit(!1))}_getTransfer(I){return I.dataTransfer?I.dataTransfer:I.originalEvent.dataTransfer}_preventAndStop(I){I.preventDefault(),I.stopPropagation()}_haveFiles(I){return!!I&&(I.indexOf?-1!==I.indexOf("Files"):!!I.contains&&I.contains("Files"))}static#e=this.\u0275fac=function(T){return new(T||b)(i.rXU(i.aKT))};static#t=this.\u0275dir=i.FsC({type:b,selectors:[["","ng2FileDrop",""]],hostBindings:function(T,R){1&T&&i.bIt("drop",function(w){return R.onDrop(w)})("dragover",function(w){return R.onDragOver(w)})("dragleave",function(w){return R.onDragLeave(w)})},inputs:{uploader:"uploader"},outputs:{fileOver:"fileOver",onFileDrop:"onFileDrop"}})}return b})(),E=(()=>{class b{constructor(I){this.onFileSelected=new i.bkB,this.element=I}getOptions(){return this.uploader?.options}getFilters(){return""}isEmptyAfterSelection(){return!!this.element.nativeElement.attributes.multiple}onChange(){const I=this.element.nativeElement.files,T=this.getOptions(),R=this.getFilters();this.uploader?.addToQueue(I,T,R),this.onFileSelected.emit(I),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")}static#e=this.\u0275fac=function(T){return new(T||b)(i.rXU(i.aKT))};static#t=this.\u0275dir=i.FsC({type:b,selectors:[["","ng2FileSelect",""]],hostBindings:function(T,R){1&T&&i.bIt("change",function(){return R.onChange()})},inputs:{uploader:"uploader"},outputs:{onFileSelected:"onFileSelected"}})}return b})(),_=(()=>{class b{static#e=this.\u0275fac=function(T){return new(T||b)};static#t=this.\u0275mod=i.$C({type:b});static#n=this.\u0275inj=i.G2t({imports:[n.MD]})}return b})()},59055:(B,D,t)=>{"use strict";t.d(D,{DP:()=>Ve,eO:()=>yt});var i=t(53107),n=t(63016),c=t(909),e=t(27035),f=t(47947),g=t(82040),d=t(41483),y=t(26061),E=t(15351),_=t(42483),b=t(7225),I=t(49587);function u(it,at,Yt,nn){const je=window&&!!window.document&&window.document.documentElement;let Re=je&&at?window:Yt;if(it&&(Re=it&&je&&"string"==typeof it?function w(it,at,Yt){return(Yt?window.document:at).querySelector(it)}(it,Yt.nativeElement,nn):it,!Re))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return Re}function v(it){return it&&!it.firstChange}const M={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},L={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class F{constructor(at=!0){this.vertical=at,this.propsMap=at?M:L}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function G(it){return["Window","global"].some(Yt=>Object.prototype.toString.call(it).includes(Yt))}function Y(it,at){return it?at.document.documentElement:null}function V(it,at){const Yt=function Q({container:it,isWindow:at,axis:Yt}){const{offsetHeightKey:nn,clientHeightKey:je}=ae(Yt);return J(it,at,nn,je)}(at);return at.isWindow?function X(it,at,Yt){const{axis:nn,container:je,isWindow:Re}=Yt,{offsetHeightKey:ne,clientHeightKey:Ee}=ae(nn),ke=it+q(Y(Re,je),nn,Re),dt=J(at.nativeElement,Re,ne,Ee),Bt=function z(it,at,Yt){const nn=at.topKey();if(it.getBoundingClientRect)return it.getBoundingClientRect()[nn]+q(it,at,Yt)}(at.nativeElement,nn,Re)+dt;return{height:it,scrolled:ke,totalToScroll:Bt,isWindow:Re}}(Yt,it,at):function K(it,at,Yt){const{axis:nn,container:je}=Yt;return{height:it,scrolled:je[nn.scrollTopKey()],totalToScroll:je[nn.scrollHeightKey()],isWindow:!1}}(Yt,0,at)}function ae(it){return{offsetHeightKey:it.offsetHeightKey(),clientHeightKey:it.clientHeightKey()}}function J(it,at,Yt,nn){if(isNaN(it[Yt])){const je=Y(at,it);return je?je[nn]:0}return it[Yt]}function q(it,at,Yt){const nn=at.pageYOffsetKey(),je=at.scrollTopKey(),Re=at.offsetTopKey();return isNaN(window.pageYOffset)?Y(Yt,it)[je]:it.ownerDocument?it.ownerDocument.defaultView[nn]:it[Re]}function ee(it,at={down:0,up:0},Yt){let nn,je;if(it.totalToScroll<=0)return!1;const Re=it.isWindow?it.scrolled:it.height+it.scrolled;return Yt?(nn=(it.totalToScroll-Re)/it.totalToScroll,je=(at?.down?at.down:0)/10):(nn=it.scrolled/(it.scrolled+(it.totalToScroll-Re)),je=(at?.up?at.up:0)/10),nn<=je}class fe{constructor({totalToScroll:at}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=at}updateScrollPosition(at){return this.lastScrollPosition=at}updateTotalToScroll(at){this.lastTotalToScroll!==at&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=at)}updateScroll(at,Yt){this.updateScrollPosition(at),this.updateTotalToScroll(Yt)}updateTriggeredFlag(at,Yt){Yt?this.triggered.down=at:this.triggered.up=at}isTriggeredScroll(at,Yt){return Yt?this.triggered.down===at:this.triggered.up===at}}function Ie(it){const{scrollContainer:at,scrollWindow:Yt,element:nn,fromRoot:je}=it,Re=function j({windowElement:it,axis:at}){return function x(it,at){const Yt=it.isWindow||at&&!at.nativeElement?at:at.nativeElement;return{...it,container:Yt}}({axis:at,isWindow:G(it)},it)}({axis:new F(!it.horizontal),windowElement:u(at,Yt,nn,je)}),ne=new fe({totalToScroll:V(nn,Re)}),ke={up:it.upDistance,down:it.downDistance};return function Ne(it){let at=(0,c.R)(it.container,"scroll");return it.throttle&&(at=at.pipe(function T(it,at=y.E,Yt){const nn=(0,I.O)(it,at);return function O(it,at){return(0,E.N)((Yt,nn)=>{const{leading:je=!0,trailing:Re=!1}=at??{};let ne=!1,Ee=null,ke=null,dt=!1;const Bt=()=>{ke?.unsubscribe(),ke=null,Re&&(It(),dt&&nn.complete())},wt=()=>{ke=null,dt&&nn.complete()},tn=$t=>ke=(0,b.Tg)(it($t)).subscribe((0,_._)(nn,Bt,wt)),It=()=>{if(ne){ne=!1;const $t=Ee;Ee=null,nn.next($t),!dt&&tn($t)}};Yt.subscribe((0,_._)(nn,$t=>{ne=!0,Ee=$t,(!ke||ke.closed)&&(je?It():tn($t))},()=>{dt=!0,(!(Re&&ne&&ke)||ke.closed)&&nn.complete()}))})}(()=>nn,Yt)}(it.throttle,void 0,{leading:!0,trailing:!0}))),at}({container:Re.container,throttle:it.throttle}).pipe((0,e.Z)(()=>(0,n.of)(V(nn,Re))),(0,f.T)(dt=>function qe(it,at,Yt){const{scrollDown:nn,fire:je}=function Ce(it,at,Yt){const nn=function de(it,at){return it<at.scrolled}(it,at);return{fire:ee(at,Yt,nn),scrollDown:nn}}(it,at,Yt);return{scrollDown:nn,fire:je,stats:at}}(ne.lastScrollPosition,dt,ke)),(0,g.M)(({stats:dt})=>ne.updateScroll(dt.scrolled,dt.totalToScroll)),(0,d.p)(({fire:dt,scrollDown:Bt,stats:{totalToScroll:wt}})=>function $(it,at,Yt){return!!(it&&at||!Yt&&at)}(it.alwaysCallback,dt,ne.isTriggeredScroll(wt,Bt))),(0,g.M)(({scrollDown:dt,stats:{totalToScroll:Bt}})=>{ne.updateTriggeredFlag(Bt,dt)}),(0,f.T)(Be))}const we={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function Be(it){const{scrollDown:at,stats:{scrolled:Yt}}=it;return{type:at?we.DOWN:we.UP,payload:{currentScrollPosition:Yt}}}let Ve=(()=>{class it{constructor(Yt,nn){this.element=Yt,this.zone=nn,this.scrolled=new i.bkB,this.scrolledUp=new i.bkB,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:Yt,infiniteScrollDisabled:nn,infiniteScrollDistance:je}){const Re=v(Yt),ne=v(nn),Ee=v(je),ke=!ne&&!this.infiniteScrollDisabled||ne&&!nn.currentValue||Ee;(Re||ne||Ee)&&(this.destroyScroller(),ke&&this.setup())}setup(){(function S(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=Ie({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(Yt=>this.handleOnScroll(Yt))})}handleOnScroll({type:Yt,payload:nn}){const je=Yt===we.DOWN?this.scrolled:this.scrolledUp;(function et(it){return it.observed??it.observers.length>0})(je)&&this.zone.run(()=>je.emit(nn))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}static#e=this.\u0275fac=function(nn){return new(nn||it)(i.rXU(i.aKT),i.rXU(i.SKi))};static#t=this.\u0275dir=i.FsC({type:it,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[i.OA$]})}return it})(),yt=(()=>{class it{static#e=this.\u0275fac=function(nn){return new(nn||it)};static#t=this.\u0275mod=i.$C({type:it});static#n=this.\u0275inj=i.G2t({})}return it})()},43295:(B,D,t)=>{"use strict";t.d(D,{Dz:()=>y,I0:()=>I,mB:()=>u});var i=t(73014),n=t(53107),c=t(10936),e=t(54460);const f=new n.nKC("ngx-mask config"),g=new n.nKC("new ngx-mask config"),d=new n.nKC("initial ngx-mask config"),y={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new n.bkB,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},E=["Hh:m0:s0","Hh:m0","m0:s0"],_=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let b=(()=>{class v{constructor(M){this._config=M,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(L,F,$,j)=>{let x=[],G="";if(Array.isArray($)){const ae=new RegExp($.map(Q=>"[\\^$.|?*+()".indexOf(Q)>=0?`\\${Q}`:Q).join("|"));x=L.split(ae),G=L.match(ae)?.[0]??""}else x=L.split($),G=$;const Y=x.length>1?`${G}${x[1]}`:"";let V=x[0]??"";const X=this.separatorLimit.replace(/\s/g,"");X&&+X&&(V="-"===V[0]?`-${V.slice(1,V.length).slice(0,X.length)}`:V.slice(0,X.length));const K=/(\d+)(\d{3})/;for(;F&&K.test(V);)V=V.replace(K,"$1"+F+"$2");return void 0===j?V+Y:0===j?V:V+Y.substring(0,j+1)},this.percentage=L=>Number(L)>=0&&Number(L)<=100,this.getPrecision=L=>{const F=L.split(".");return F.length>1?Number(F[F.length-1]):1/0},this.checkAndRemoveSuffix=L=>{for(let F=this.suffix?.length-1;F>=0;F--){const $=this.suffix.substring(F,this.suffix?.length);if(L.includes($)&&F!==this.suffix?.length-1&&(F-1<0||!L.includes(this.suffix.substring(F-1,this.suffix?.length))))return L.replace($,"")}return L},this.checkInputPrecision=(L,F,$)=>{if(F<1/0){if(Array.isArray($)){const Y=$.find(V=>V!==this.thousandSeparator);$=Y||$[0]}const j=new RegExp(this._charToRegExpExpression($)+`\\d{${F}}.*$`),G=(L.match(j)??[])[0]?.length??0;G-1>F&&(L=L.substring(0,L.length-(G-1-F))),0===F&&this._compareOrIncludes(L[L.length-1],$,this.thousandSeparator)&&(L=L.substring(0,L.length-1))}return L},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(M,L){const[F,$]=L;return this.customPattern=$,this.applyMask(M,F)}applyMask(M,L,F=0,$=!1,j=!1,x=(()=>{})){if(!L||"string"!=typeof M)return"";let G=0,Y="",V=!1,X=!1,K=1,ae=!1;M.slice(0,this.prefix.length)===this.prefix&&(M=M.slice(this.prefix.length,M.length)),this.suffix&&M?.length>0&&(M=this.checkAndRemoveSuffix(M));const Q=M.toString().split("");if("IP"===L){const Ce=M.split(".");this.ipError=this._validIP(Ce),L="099.099.099.099"}const J=[];for(let Ce=0;Ce<M.length;Ce++)M[Ce]?.match("\\d")&&J.push(M[Ce]??"");if("CPF_CNPJ"===L&&(this.cpfCnpjError=11!==J.length&&14!==J.length,L=J.length>11?"00.000.000/0000-00":"000.000.000-00"),L.startsWith("percent")){if(M.match("[a-z]|[A-Z]")||M.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){M=this._stripToDecimal(M);const Ce=this.getPrecision(L);M=this.checkInputPrecision(M,Ce,this.decimalMarker)}M.indexOf(".")>0&&!this.percentage(M.substring(0,M.indexOf(".")))&&(M=`${M.substring(0,M.indexOf(".")-1)}${M.substring(M.indexOf("."),M.length)}`),Y=this.percentage(M)?M:M.substring(0,M.length-1)}else if(L.startsWith("separator")){(M.match("[w\u0430-\u044f\u0410-\u042f]")||M.match("[\u0401\u0451\u0410-\u044f]")||M.match("[a-z]|[A-Z]")||M.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\]:";<>.?/]/)||M.match("[^A-Za-z0-9,]"))&&(M=this._stripToDecimal(M)),M=M.length>1&&"0"===M[0]&&M[1]!==this.thousandSeparator&&!this._compareOrIncludes(M[1],this.decimalMarker,this.thousandSeparator)&&!j?M.slice(0,M.length-1):M,j&&(M=this._compareOrIncludes(M[M.length-1],this.decimalMarker,this.thousandSeparator)?M.slice(0,M.length-1):M);const Ce=this._charToRegExpExpression(this.thousandSeparator);let Z='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(Ce,"");if(Array.isArray(this.decimalMarker))for(const fe of this.decimalMarker)Z=Z.replace(this._charToRegExpExpression(fe),"");else Z=Z.replace(this._charToRegExpExpression(this.decimalMarker),"");const le=new RegExp("["+Z+"]");(M.match(le)||1===M.length&&this._compareOrIncludes(M,this.decimalMarker,this.thousandSeparator))&&(M=M.substring(0,M.length-1));const De=this.getPrecision(L),pe=(M=this.checkInputPrecision(M,De,this.decimalMarker)).replace(new RegExp(Ce,"g"),"");Y=this._formatWithSeparators(pe,this.thousandSeparator,this.decimalMarker,De);const re=Y.indexOf(",")-M.indexOf(","),ve=Y.length-M.length;if(ve>0&&","!==Y[F]){X=!0;let fe=0;do{this._shift.add(F+fe),fe++}while(fe<ve)}else 0!==re&&F>0&&!(Y.indexOf(",")>=F&&F>3)||!(Y.indexOf(".")>=F&&F>3)&&ve<=0?(this._shift.clear(),X=!0,K=ve,this._shift.add(F+=ve)):this._shift.clear()}else for(let Ce=0,Z=Q[0];Ce<Q.length&&G!==L.length;Ce++,Z=Q[Ce]??"")if(this._checkSymbolMask(Z,L[G]??"")&&"?"===L[G+1])Y+=Z,G+=2;else if("*"===L[G+1]&&V&&this._checkSymbolMask(Z,L[G+2]??""))Y+=Z,G+=3,V=!1;else if(this._checkSymbolMask(Z,L[G]??"")&&"*"===L[G+1])Y+=Z,V=!0;else if("?"===L[G+1]&&this._checkSymbolMask(Z,L[G+2]??""))Y+=Z,G+=3;else if(this._checkSymbolMask(Z,L[G]??"")){if("H"===L[G]&&Number(Z)>2){G+=1,this._shiftStep(L,G,Q.length),Ce--,this.leadZeroDateTime&&(Y+="0");continue}if("h"===L[G]&&"2"===Y&&Number(Z)>3){G+=1,Ce--;continue}if("m"===L[G]&&Number(Z)>5){G+=1,this._shiftStep(L,G,Q.length),Ce--,this.leadZeroDateTime&&(Y+="0");continue}if("s"===L[G]&&Number(Z)>5){G+=1,this._shiftStep(L,G,Q.length),Ce--,this.leadZeroDateTime&&(Y+="0");continue}const le=31;if("d"===L[G]&&(Number(Z)>3&&this.leadZeroDateTime||Number(M.slice(G,G+2))>le||"/"===M[G+1])){G+=1,this._shiftStep(L,G,Q.length),Ce--,this.leadZeroDateTime&&(Y+="0");continue}if("M"===L[G]){const pe=0===G&&(Number(Z)>2||Number(M.slice(G,G+2))>12||"/"===M[G+1]),re=M.slice(G-3,G-1).includes("/")&&("/"===M[G-2]&&Number(M.slice(G-1,G+1))>12&&"/"!==M[G]||"/"===M[G]||"/"===M[G-3]&&Number(M.slice(G-2,G))>12&&"/"!==M[G-1]||"/"===M[G-1]),ve=Number(M.slice(G-3,G-1))<=le&&!M.slice(G-3,G-1).includes("/")&&"/"===M[G-1]&&(Number(M.slice(G,G+2))>12||"/"===M[G+1]),fe=Number(M.slice(G-3,G-1))>le&&!M.slice(G-3,G-1).includes("/")&&!M.slice(G-2,G).includes("/")&&Number(M.slice(G-2,G))>12,Ie=Number(M.slice(G-3,G-1))<=le&&!M.slice(G-3,G-1).includes("/")&&"/"!==M[G-1]&&Number(M.slice(G-1,G+1))>12;if(Number(Z)>1&&this.leadZeroDateTime||pe||re||ve||fe||Ie){G+=1,this._shiftStep(L,G,Q.length),Ce--,this.leadZeroDateTime&&(Y+="0");continue}}Y+=Z,G++}else" "===Z&&" "===L[G]?(Y+=Z,G++):-1!==this.maskSpecialCharacters.indexOf(L[G]??"")?(Y+=L[G],G++,this._shiftStep(L,G,Q.length),Ce--):this.maskSpecialCharacters.indexOf(Z)>-1&&this.maskAvailablePatterns[L[G]??""]&&this.maskAvailablePatterns[L[G]??""]?.optional?(Q[G]&&"099.099.099.099"!==L&&"000.000.000-00"!==L&&"00.000.000/0000-00"!==L&&!L.match(/^9+\.0+$/)&&(Y+=Q[G]),G++,Ce--):"*"===this.maskExpression[G+1]&&this._findSpecialChar(this.maskExpression[G+2]??"")&&this._findSpecialChar(Z)===this.maskExpression[G+2]&&V||"?"===this.maskExpression[G+1]&&this._findSpecialChar(this.maskExpression[G+2]??"")&&this._findSpecialChar(Z)===this.maskExpression[G+2]&&V?(G+=3,Y+=Z):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(Z)<0&&Z!==this.placeHolderCharacter&&(ae=!0);Y.length+1===L.length&&-1!==this.maskSpecialCharacters.indexOf(L[L.length-1]??"")&&(Y+=L[L.length-1]);let z=F+1;for(;this._shift.has(z);)K++,z++;let q=$&&!L.startsWith("separator")?G:this._shift.has(F)?K:0;ae&&q--,x(q,X),K<0&&this._shift.clear();let ee=!1;j&&(ee=Q.every(Ce=>this.maskSpecialCharacters.includes(Ce)));let de=`${this.prefix}${ee?"":Y}${this.suffix}`;return 0===Y.length&&(de=`${this.prefix}${Y}`),de}_findSpecialChar(M){return this.maskSpecialCharacters.find(L=>L===M)}_checkSymbolMask(M,L){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,(this.maskAvailablePatterns[L]?.pattern&&this.maskAvailablePatterns[L]?.pattern.test(M))??!1}_stripToDecimal(M){return M.split("").filter((L,F)=>{const $="string"==typeof this.decimalMarker?L===this.decimalMarker:this.decimalMarker.includes(L);return L.match("^-?\\d")||L===this.thousandSeparator||$||"-"===L&&0===F&&this.allowNegativeNumbers}).join("")}_charToRegExpExpression(M){return M&&(" "===M?"\\s":"[\\^$.|?*+()".indexOf(M)>=0?`\\${M}`:M)}_shiftStep(M,L,F){const $=/[*?]/g.test(M.slice(0,L))?F:L;this._shift.add($+this.prefix.length||0)}_compareOrIncludes(M,L,F){return Array.isArray(L)?L.filter($=>$!==F).includes(M):M===L}_validIP(M){return!(4===M.length&&!M.some((L,F)=>M.length!==F+1?""===L||Number(L)>255:""===L||Number(L.substring(0,3))>255))}}return v.\u0275fac=function(M){return new(M||v)(n.KVO(f))},v.\u0275prov=n.jDH({token:v,factory:v.\u0275fac}),v})(),O=(()=>{class v extends b{constructor(M,L,F,$){super(L),this.document=M,this._config=L,this._elementRef=F,this._renderer=$,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.triggerOnMaskChange=!1,this.onChange=j=>{}}applyMask(M,L,F=0,$=!1,j=!1,x=(()=>{})){if(!L)return M!==this.actualValue?this.actualValue:M;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(M||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(M||"#")),!M&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const G=M&&"number"==typeof this.selStart?M[this.selStart]??"":"";let Y="";if(void 0!==this.hiddenInput&&!this.writingValue){let ae=this.actualValue.split("");""!==M&&ae.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(M.length>ae.length?ae.splice(this.selStart,0,G):M.length<ae.length&&(ae.length-M.length==1?ae.splice(this.selStart-1,1):ae.splice(this.selStart,this.selEnd-this.selStart))):ae=[],this.showMaskTyped&&(M=this.removeMask(M)),Y=this.actualValue.length&&ae.length<=M.length?this.shiftTypedSymbols(ae.join("")):M}this.showMaskTyped&&(M=this.removeMask(M)),Y=Y&&Y.length?Y:M;const V=super.applyMask(Y,L,F,$,j,x);if(this.actualValue=this.getActualValue(V),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(ae=>!this._compareOrIncludes(ae,this.decimalMarker,this.thousandSeparator))),this.formControlResult(V),!this.showMaskTyped)return this.hiddenInput&&V&&V.length?this.hideInput(V,this.maskExpression):V;const X=V.length,K=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const ae=this._numberSkipedSymbols(V);return V+K.slice(X+ae)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?V+K:V+K.slice(X)}_numberSkipedSymbols(M){const L=/(^|\D)(\d\D)/g;let F=L.exec(M),$=0;for(;null!=F;)$+=1,F=L.exec(M);return $}applyValueChanges(M,L,F,$=(()=>{})){const j=this._elementRef.nativeElement;j.value=this.applyMask(j.value,this.maskExpression,M,L,F,$),j!==this._getActiveElement()&&this.clearIfNotMatchFn()}hideInput(M,L){return M.split("").map((F,$)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[L[$]??""]&&this.maskAvailablePatterns[L[$]??""]?.symbol?this.maskAvailablePatterns[L[$]??""]?.symbol:F).join("")}getActualValue(M){const L=M.split("").filter((F,$)=>{const j=this.maskExpression[$]??"";return this._checkSymbolMask(F,j)||this.maskSpecialCharacters.includes(j)&&F===j});return L.join("")===M?L.join(""):M}shiftTypedSymbols(M){let L="";return(M&&M.split("").map(($,j)=>{if(this.maskSpecialCharacters.includes(M[j+1]??"")&&M[j+1]!==this.maskExpression[j+1])return L=$,M[j+1];if(L.length){const x=L;return L="",x}return $})||[]).join("")}numberToString(M){return M||0===M?Number(M).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}):String(M)}showMaskInInput(M){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(M){if("IP"===this.maskExpression)return this._checkForIp(M);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(M)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const M=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==M.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(M.value,this.maskExpression))}set formElementProperty([M,L]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,M,L))}checkSpecialCharAmount(M){return M.split("").filter(F=>this._findSpecialChar(F)).length}removeMask(M){return this._removeMask(this._removeSuffix(this._removePrefix(M)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(M){if("#"===M)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const L=[];for(let F=0;F<M.length;F++){const $=M[F]??"";$&&$.match("\\d")&&L.push($)}return L.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:L.length>3&&L.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:L.length>6&&L.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(M){const L=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,F=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===M)return L;const $=[];for(let j=0;j<M.length;j++){const x=M[j]??"";x&&x.match("\\d")&&$.push(x)}return $.length<=3?L.slice($.length,L.length):$.length>3&&$.length<=6?L.slice($.length+1,L.length):$.length>6&&$.length<=9?L.slice($.length+2,L.length):$.length>9&&$.length<11?L.slice($.length+3,L.length):11===$.length?"":12===$.length?F.slice(17===M.length?16:15,F.length):$.length>12&&$.length<=14?F.slice($.length+4,F.length):""}_getActiveElement(M=this.document){const L=M?.activeElement?.shadowRoot;return L?.activeElement?this._getActiveElement(L):M.activeElement}formControlResult(M){this.writingValue||!this.triggerOnMaskChange&&this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(M)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(M)):this._removeSuffix(M))}_toNumber(M){if(!this.isNumberValue||""===M)return M;const L=Number(M);return Number.isNaN(L)?M:L}_removeMask(M,L){return M&&M.replace(this._regExpForRemove(L),"")}_removePrefix(M){return this.prefix?M&&M.replace(this.prefix,""):M}_removeSuffix(M){return this.suffix?M&&M.replace(this.suffix,""):M}_retrieveSeparatorValue(M){return this._removeMask(this._removeSuffix(this._removePrefix(M)),this.maskSpecialCharacters)}_regExpForRemove(M){return new RegExp(M.map(L=>`\\${L}`).join("|"),"gi")}_replaceDecimalMarkerToDot(M){const L=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return M.replace(this._regExpForRemove(L),".")}_checkSymbols(M){if(""===M)return M;const L=this._retrieveSeparatorPrecision(this.maskExpression),F=this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(M));return this.isNumberValue?L?M===this.decimalMarker?null:this._checkPrecision(this.maskExpression,F):Number(F):F}_retrieveSeparatorPrecision(M){const L=M.match(new RegExp("^separator\\.([^d]*)"));return L?Number(L[1]):null}_checkPrecision(M,L){return M.indexOf("2")>0?Number(L).toFixed(2):Number(L)}}return v.\u0275fac=function(M){return new(M||v)(n.KVO(e.qQ),n.KVO(f),n.KVO(n.aKT),n.KVO(n.sFG))},v.\u0275prov=n.jDH({token:v,factory:v.\u0275fac}),v})(),I=(()=>{class v{constructor(M,L,F){this.document=M,this._maskService=L,this._config=F,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.triggerOnMaskChange=null,this.maskFilled=new n.bkB,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=$=>{},this.onTouch=()=>{}}ngOnChanges(M){const{maskExpression:L,specialCharacters:F,patterns:$,prefix:j,suffix:x,thousandSeparator:G,decimalMarker:Y,dropSpecialCharacters:V,hiddenInput:X,showMaskTyped:K,placeHolderCharacter:ae,shownMaskExpression:Q,showTemplate:J,clearIfNotMatch:z,validation:q,separatorLimit:ee,allowNegativeNumbers:de,leadZeroDateTime:Ce,triggerOnMaskChange:Z}=M;if(L&&(L.currentValue!==L.previousValue&&!L.firstChange&&(this._maskService.maskChanged=!0),L.currentValue&&L.currentValue.split("||").length>1?(this._maskExpressionArray=L.currentValue.split("||").sort((le,De)=>le.length-De.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=L.currentValue||"",this._maskService.maskExpression=this._maskValue)),F){if(!F.currentValue||!Array.isArray(F.currentValue))return;this._maskService.maskSpecialCharacters=F.currentValue||[]}$&&$.currentValue&&(this._maskService.maskAvailablePatterns=$.currentValue),j&&(this._maskService.prefix=j.currentValue),x&&(this._maskService.suffix=x.currentValue),G&&(this._maskService.thousandSeparator=G.currentValue),Y&&(this._maskService.decimalMarker=Y.currentValue),V&&(this._maskService.dropSpecialCharacters=V.currentValue),X&&(this._maskService.hiddenInput=X.currentValue),K&&(this._maskService.showMaskTyped=K.currentValue),ae&&(this._maskService.placeHolderCharacter=ae.currentValue),Q&&(this._maskService.shownMaskExpression=Q.currentValue),J&&(this._maskService.showTemplate=J.currentValue),z&&(this._maskService.clearIfNotMatch=z.currentValue),q&&(this._maskService.validation=q.currentValue),ee&&(this._maskService.separatorLimit=ee.currentValue),de&&(this._maskService.allowNegativeNumbers=de.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(le=>"-"!==le))),Ce&&(this._maskService.leadZeroDateTime=Ce.currentValue),Z&&(this._maskService.triggerOnMaskChange=Z.currentValue),this._applyMask()}validate({value:M}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(M);if(this._maskService.cpfCnpjError)return this._createValidationError(M);if(this._maskValue.startsWith("separator")||_.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(E.includes(this._maskValue))return this._validateTime(M);if(M&&M.toString().length>=1){let L=0;for(const F in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[F]?.optional&&(this._maskValue.indexOf(F)!==this._maskValue.lastIndexOf(F)?L+=this._maskValue.split("").filter(j=>j===F).join("").length:-1!==this._maskValue.indexOf(F)&&L++,-1!==this._maskValue.indexOf(F)&&M.toString().length>=this._maskValue.indexOf(F)||L===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&M.toString().length===this._maskValue.length+Number((this._maskValue.split("{")[1]??"").split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&M.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&M.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(M);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const F=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-L:this._maskValue.length-L;if(M.toString().length<F)return this._createValidationError(M)}}return M&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onModelChange(M){(""===M||null==M)&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(M){const L=M.target;if(this._inputValue=L.value,this._setMask(),!this._maskValue)return void this.onChange(L.value);const F=1===L.selectionStart?L.selectionStart+this._maskService.prefix.length:L.selectionStart;let $=0,j=!1;if(this._maskService.applyValueChanges(F,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(G,Y)=>{this._justPasted=!1,$=G,j=Y}),this._getActiveElement()!==L)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let x=this._position?this._inputValue.length+F+$:F+("Backspace"!==this._code||j?$:0);x>this._getActualInputLength()&&(x=this._getActualInputLength()),x<0&&(x=0),L.setSelectionRange(x,x),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(M){if(!this._maskValue)return;const L=M.target;null!==L&&null!==L.selectionStart&&L.selectionStart===L.selectionEnd&&L.selectionStart>this._maskService.prefix.length&&38!==M.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),L.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===L.value?(L.focus(),L.setSelectionRange(0,0)):L.selectionStart>this._maskService.actualValue.length&&L.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const j=L&&(L.value&&L.value!==this._maskService.prefix?L.value:this._maskService.prefix+this._maskService.maskIsShown);L&&L.value!==j&&(L.value=j),L&&(L.selectionStart||L.selectionEnd)<=this._maskService.prefix.length?L.selectionStart=this._maskService.prefix.length:L&&L.selectionEnd>this._getActualInputLength()&&(L.selectionEnd=this._getActualInputLength())}onKeyDown(M){if(!this._maskValue)return;this._code=M.code?M.code:M.key;const L=M.target;if(this._inputValue=L.value,this._setMask(),38===M.keyCode&&M.preventDefault(),37===M.keyCode||8===M.keyCode||46===M.keyCode){if(8===M.keyCode&&0===L.value.length&&(L.selectionStart=L.selectionEnd),8===M.keyCode&&0!==L.selectionStart)if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&L.selectionStart<=this.prefix.length)L.setSelectionRange(this.prefix.length,L.selectionEnd);else if(this._inputValue.length!==L.selectionStart&&1!==L.selectionStart)for(;this.specialCharacters.includes((this._inputValue[L.selectionStart-1]??"").toString())&&(this.prefix.length>=1&&L.selectionStart>this.prefix.length||0===this.prefix.length);)L.setSelectionRange(L.selectionStart-1,L.selectionEnd);this.checkSelectionOnDeletion(L),this._maskService.prefix.length&&L.selectionStart<=this._maskService.prefix.length&&L.selectionEnd<=this._maskService.prefix.length&&M.preventDefault(),8===M.keyCode&&!L.readOnly&&0===L.selectionStart&&L.selectionEnd===L.value.length&&0!==L.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<L.selectionStart?L.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===M.keyCode&&M.ctrlKey||65===M.keyCode&&M.metaKey)&&(L.setSelectionRange(0,this._getActualInputLength()),M.preventDefault()),this._maskService.selStart=L.selectionStart,this._maskService.selEnd=L.selectionEnd}writeValue(M){var L=this;return(0,i.A)(function*(){"object"==typeof M&&null!==M&&"value"in M&&("disable"in M&&L.setDisabledState(!!M.disable),M=M.value),("number"==typeof M||L._maskValue.startsWith("separator"))&&(M=L._maskService.numberToString(M),Array.isArray(L.decimalMarker)||(M="."!==L.decimalMarker?M.replace(".",L.decimalMarker):M),L._maskService.isNumberValue=!0),"string"!=typeof M&&(M=""),L._inputValue=M,L._setMask(),M&&L._maskService.maskExpression||L._maskService.maskExpression&&(L._maskService.prefix||L._maskService.showMaskTyped)?(L._maskService.writingValue=!0,L._maskService.formElementProperty=["value",L._maskService.applyMask(M,L._maskService.maskExpression)],L._maskService.writingValue=!1):L._maskService.formElementProperty=["value",M],L._inputValue=M})()}registerOnChange(M){this._maskService.onChange=this.onChange=M}registerOnTouched(M){this.onTouch=M}_getActiveElement(M=this.document){const L=M?.activeElement?.shadowRoot;return L?.activeElement?this._getActiveElement(L):M.activeElement}checkSelectionOnDeletion(M){M.selectionStart=Math.min(Math.max(this.prefix.length,M.selectionStart),this._inputValue.length-this.suffix.length),M.selectionEnd=Math.min(Math.max(this.prefix.length,M.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(M){this._maskService.formElementProperty=["disabled",M]}_repeatPatternSymbols(M){return M.match(/{[0-9]+}/)&&M.split("").reduce((L,F,$)=>{if(this._start="{"===F?$:this._start,"}"!==F)return this._maskService._findSpecialChar(F)?L+F:L;this._end=$;const j=Number(M.slice(this._start+1,this._end));return L+new Array(j+1).join(M[this._start-1])},"")||M}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(M){const L=this._maskValue.split("").filter(F=>":"!==F).length;return M&&(0==+(M[M.length-1]??-1)&&M.length<L||M.length<=L-2)?this._createValidationError(M):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(M){return{mask:{requiredMask:this._maskValue,actualValue:M}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(M=>{const L=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(M)?.length;if(this._inputValue&&L)return this._maskValue=M,this.maskExpression=M,this._maskService.maskExpression=M,L;this._maskValue=this.maskExpression=this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]??""})}}return v.\u0275fac=function(M){return new(M||v)(n.rXU(e.qQ),n.rXU(O),n.rXU(f))},v.\u0275dir=n.FsC({type:v,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(M,L){1&M&&n.bIt("paste",function(){return L.onPaste()})("ngModelChange",function($){return L.onModelChange($)})("input",function($){return L.onInput($)})("blur",function(){return L.onBlur()})("click",function($){return L.onClick($)})("keydown",function($){return L.onKeyDown($)})},inputs:{maskExpression:[n.Mj6.None,"mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",triggerOnMaskChange:"triggerOnMaskChange"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[n.Jv_([{provide:c.kq,useExisting:(0,n.Rfq)(()=>v),multi:!0},{provide:c.cz,useExisting:(0,n.Rfq)(()=>v),multi:!0},O]),n.OA$]}),v})();function R(v,S){return S instanceof Function?{...v,...S()}:{...v,...S}}let u=(()=>{class v{static forRoot(M){return{ngModule:v,providers:[{provide:g,useValue:M},{provide:d,useValue:y},{provide:f,useFactory:R,deps:[d,g]},b]}}static forChild(){return{ngModule:v}}}return v.\u0275fac=function(M){return new(M||v)},v.\u0275mod=n.$C({type:v}),v.\u0275inj=n.G2t({}),v})();const w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};w.KeyboardEvent||(w.KeyboardEvent=function(v,S){})},73014:(B,D,t)=>{"use strict";function i(c,e,f,g,d,y,E){try{var _=c[y](E),b=_.value}catch(O){return void f(O)}_.done?e(b):Promise.resolve(b).then(g,d)}function n(c){return function(){var e=this,f=arguments;return new Promise(function(g,d){var y=c.apply(e,f);function E(b){i(y,g,d,E,_,"next",b)}function _(b){i(y,g,d,E,_,"throw",b)}E(void 0)})}}t.d(D,{A:()=>n})},31635:(B,D,t)=>{"use strict";function f(ee,de,Ce,Z){var pe,le=arguments.length,De=le<3?de:null===Z?Z=Object.getOwnPropertyDescriptor(de,Ce):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)De=Reflect.decorate(ee,de,Ce,Z);else for(var re=ee.length-1;re>=0;re--)(pe=ee[re])&&(De=(le<3?pe(De):le>3?pe(de,Ce,De):pe(de,Ce))||De);return le>3&&De&&Object.defineProperty(de,Ce,De),De}function g(ee,de){return function(Ce,Z){de(Ce,Z,ee)}}function b(ee,de){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ee,de)}function O(ee,de,Ce,Z){return new(Ce||(Ce=Promise))(function(De,pe){function re(Ie){try{fe(Z.next(Ie))}catch(Ne){pe(Ne)}}function ve(Ie){try{fe(Z.throw(Ie))}catch(Ne){pe(Ne)}}function fe(Ie){Ie.done?De(Ie.value):function le(De){return De instanceof Ce?De:new Ce(function(pe){pe(De)})}(Ie.value).then(re,ve)}fe((Z=Z.apply(ee,de||[])).next())})}function L(ee){return this instanceof L?(this.v=ee,this):new L(ee)}function F(ee,de,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,Z=Ce.apply(ee,de||[]),De=[];return le={},pe("next"),pe("throw"),pe("return"),le[Symbol.asyncIterator]=function(){return this},le;function pe(qe){Z[qe]&&(le[qe]=function(we){return new Promise(function(Be,Ve){De.push([qe,we,Be,Ve])>1||re(qe,we)})})}function re(qe,we){try{!function ve(qe){qe.value instanceof L?Promise.resolve(qe.value.v).then(fe,Ie):Ne(De[0][2],qe)}(Z[qe](we))}catch(Be){Ne(De[0][3],Be)}}function fe(qe){re("next",qe)}function Ie(qe){re("throw",qe)}function Ne(qe,we){qe(we),De.shift(),De.length&&re(De[0][0],De[0][1])}}function j(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,de=ee[Symbol.asyncIterator];return de?de.call(ee):(ee=function u(ee){var de="function"==typeof Symbol&&Symbol.iterator,Ce=de&&ee[de],Z=0;if(Ce)return Ce.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&Z>=ee.length&&(ee=void 0),{value:ee&&ee[Z++],done:!ee}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),Ce={},Z("next"),Z("throw"),Z("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function Z(De){Ce[De]=ee[De]&&function(pe){return new Promise(function(re,ve){!function le(De,pe,re,ve){Promise.resolve(ve).then(function(fe){De({value:fe,done:re})},pe)}(re,ve,(pe=ee[De](pe)).done,pe.value)})}}}t.d(D,{AQ:()=>F,Cg:()=>f,N3:()=>L,Qj:()=>g,Sn:()=>b,sH:()=>O,xN:()=>j}),"function"==typeof SuppressedError&&SuppressedError}},B=>{B(B.s=78128)}]);