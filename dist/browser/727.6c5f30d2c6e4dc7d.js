"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[727,5130,6041,4064,9517],{72553:(W,P,s)=>{s.d(P,{Q:()=>R});class R{constructor(D,u){this.text=D,this.url=u}}},73579:(W,P,s)=>{s.d(P,{U:()=>T});var R=s(63016),e=s(25814),D=s(22867),u=s(47947),v=s(31829),C=s(72553),t=s(72683),M=s(24106),B=s(66559),L=s(83116),y=s(53107);let T=(()=>{class m{constructor(E,i){this.linkService=E,this.dsoNameService=i}getBreadcrumbs(E,i){const l=this.dsoNameService.getName(E),_=new C.Q(l,i),h=E.getParentLinkKey();return this.linkService.resolveLink(E,(0,M.s)(h))[h].pipe((0,e.I)(p=>p.hasSucceeded||204===p.statusCode),(0,D.n)(p=>{if((0,t.a4)(p)&&(0,t.a4)(p.payload)){const f=p.payload;return this.getBreadcrumbs(f,(0,v.wN)(f))}return(0,R.of)([])}),(0,u.T)(p=>[...p,_]))}static#t=this.\u0275fac=function(i){return new(i||m)(y.KVO(B._),y.KVO(L.f))};static#e=this.\u0275prov=y.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},26041:(W,P,s)=>{s.r(P),s.d(P,{VersionDataService:()=>E});var R=s(76564),e=s(22867),D=s(47947),u=s(72683),v=s(24106),C=s(45122),t=s(25718),M=s(25744),B=s(12007),L=s(2887),y=s(2868),T=s(82114),m=s(9843),g=s(53107);let E=(()=>{class i extends L.W{constructor(_,h,p,f,U){super("versions",_,h,p,f),this.requestService=_,this.rdbService=h,this.objectCache=p,this.halService=f,this.comparator=U,this.patchData=new y.n(this.linkPath,_,h,p,f,U,this.responseMsToLive,this.constructIdEndpoint)}getHistoryFromVersion(_,h=!1,p=!0){return(0,u.hj)(_)?this.findById(_.id,h,p,(0,v.s)("versionhistory")).pipe((0,B.ak)(),(0,e.n)(f=>f.versionhistory),(0,B.ak)()):R.w}getHistoryIdFromVersion(_){return this.getHistoryFromVersion(_).pipe((0,D.T)(h=>h.id))}patch(_,h){return this.patchData.patch(_,h)}update(_){return this.patchData.update(_)}commitUpdates(_){this.patchData.commitUpdates(_)}createPatchFromCache(_){return this.patchData.createPatchFromCache(_)}static#t=this.\u0275fac=function(h){return new(h||i)(g.KVO(m.B),g.KVO(C.o),g.KVO(t.$),g.KVO(M.Y),g.KVO(T.Y))};static#e=this.\u0275prov=g.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},35130:(W,P,s)=>{s.r(P),s.d(P,{VersionHistoryDataService:()=>U});var R=s(27691),e=s(76627),D=s(63016),u=s(22867),v=s(47947),C=s(37610),t=s(25814),M=s(41483),B=s(72683),L=s(67899),y=s(63496),T=s(24106),m=s(45122),g=s(25718),E=s(25744),i=s(12007),l=s(2887),_=s(70210),h=s(9843),p=s(26041),f=s(53107);let U=(()=>{class d extends l.W{constructor(o,a,r,c,I){super("versionhistories",o,a,r,c),this.requestService=o,this.rdbService=a,this.objectCache=r,this.halService=c,this.versionDataService=I,this.versionsEndpoint="versions"}getBrowseEndpoint(o={},a){return this.halService.getEndpoint(this.linkPath)}getVersionsEndpoint(o){return this.getBrowseEndpoint().pipe((0,u.n)(a=>this.halService.getEndpoint(this.versionsEndpoint,`${a}/${o}`)))}getVersions(o,a,r=!0,c=!0,...I){const O=this.getVersionsEndpoint(o).pipe((0,v.T)(K=>a?a.toRestUrl(K):K));return this.versionDataService.findListByHref(O,void 0,r,c,...I)}createVersion(o,a){const r=this.requestService.generateRequestId(),c=Object.create({});let I=new R.Lr;return I=I.append("Content-Type","text/uri-list"),c.headers=I,this.halService.getEndpoint(this.versionsEndpoint).pipe((0,C.s)(1),(0,v.T)(O=>a?.length>0?`${O}?summary=${a}`:`${O}`),(0,t.I)(O=>(0,B.a4)(O))).subscribe(O=>{const K=new _.Qf(r,O,o,c);(0,B.a4)(this.responseMsToLive)&&(K.responseMsToLive=this.responseMsToLive),this.requestService.send(K)}),this.rdbService.buildFromRequestUUIDAndAwait(r,O=>(0,e.z)([this.requestService.setStaleByHrefSubstring(O.payload._links.self.href),this.requestService.setStaleByHrefSubstring(O.payload._links.versionhistory.href)])).pipe((0,i.qD)())}getLatestVersionFromHistory$(o){const a=Object.assign(new L.W,{id:"item-newest-version-options",currentPage:1,pageSize:1}),r=new y.C({pagination:a});return this.getVersions(o.id,r,!1,!0,(0,T.s)("item")).pipe((0,i.v7)(),(0,i.Bo)(),(0,B.Az)(),(0,M.p)(c=>c.page.length>0),(0,v.T)(c=>c.page[0]))}getLatestVersion$(o){return o.id?this.versionDataService.findById(o.id,!1,!0,(0,T.s)("versionhistory")).pipe((0,i.ak)(),(0,u.n)(a=>a.versionhistory),(0,i.ak)(),(0,u.n)(a=>this.getLatestVersionFromHistory$(a))):(0,D.of)(null)}isLatest$(o){return o?this.getLatestVersion$(o).pipe((0,C.s)(1),(0,u.n)(a=>(0,D.of)(o.version===a.version))):(0,D.of)(null)}hasDraftVersion$(o){return this.versionDataService.findByHref(o,!1,!0,(0,T.s)("versionhistory")).pipe((0,i.qD)(),(0,u.n)(a=>a.hasSucceeded&&!a.hasNoContent?a.payload.versionhistory.pipe((0,i.qD)(),(0,v.T)(r=>!(!r.hasSucceeded||r.hasNoContent)&&r.payload.draftVersion)):(0,D.of)(!1)))}getLatestVersionItemFromHistory$(o){return this.getLatestVersionFromHistory$(o).pipe((0,u.n)(a=>a.item),(0,i.ak)())}getVersionHistoryFromVersion$(o){return this.versionDataService.getHistoryIdFromVersion(o).pipe((0,C.s)(1),(0,u.n)(a=>this.findById(a)),(0,i.ak)())}invalidateVersionHistoryCache(o){this.requestService.setStaleByHrefSubstring("versioning/versionhistories/"+o)}static#t=this.\u0275fac=function(a){return new(a||d)(f.KVO(h.B),f.KVO(m.o),f.KVO(g.$),f.KVO(E.Y),f.KVO(p.VersionDataService))};static#e=this.\u0275prov=f.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},64064:(W,P,s)=>{s.r(P),s.d(P,{QualityAssuranceEventDataService:()=>p});var R=s(27691),e=s(25814),D=s(37610),u=s(22867),v=s(72683),C=s(79224),t=s(45122),M=s(99120),B=s(25718),L=s(45926),y=s(83951),T=s(2887),m=s(2868),g=s(12350),E=s(82114),i=s(70210),l=s(9843),_=s(25744),h=s(53107);let p=(()=>{class f extends T.W{constructor(d,n,o,a,r,c){super("qualityassuranceevents",d,n,o,a),this.requestService=d,this.rdbService=n,this.objectCache=o,this.halService=a,this.notificationsService=r,this.comparator=c,this.createData=new L.V(this.linkPath,d,n,o,a,r,this.responseMsToLive),this.deleteData=new y.I(this.linkPath,d,n,o,a,r,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new m.n(this.linkPath,d,n,o,a,c,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new g.X(this.linkPath,d,n,o,a,this.responseMsToLive)}getEventsByTopic(d,n={},...o){return n.searchParams=[new M.x("topic",d)],this.searchData.searchBy("findByTopic",n,!0,!0,...o)}searchEventsByTopic(d={},...n){return this.searchData.searchBy("findByTopic",d,!0,!0,...n)}clearFindByTopicRequests(){this.requestService.setStaleByHrefSubstring("findByTopic")}getEvent(d,...n){return this.findById(d,!0,!0,...n)}patchEvent(d,n,o){return this.patchData.patch(n,[{path:"/status",op:"replace",value:d}])}boundProject(d,n){return this.postOnRelated(d,n)}removeProject(d){return this.deleteOnRelated(d)}deleteOnRelated(d){const n=this.requestService.generateRequestId();return this.getIDHrefObs(d).pipe((0,e.I)(a=>(0,v.a4)(a))).subscribe(a=>{const r=new i.Dk(n,a+"/related",d);(0,v.a4)(this.responseMsToLive)&&(r.responseMsToLive=this.responseMsToLive),this.requestService.send(r)}),this.rdbService.buildFromRequestUUID(n)}postOnRelated(d,n,o){const a=this.requestService.generateRequestId();return this.getIDHrefObs(d).pipe((0,D.s)(1)).subscribe(c=>{const I=new i.Qf(a,c+"/related?item="+n,o);(0,v.a4)(this.responseMsToLive)&&(I.responseMsToLive=this.responseMsToLive),this.requestService.send(I)}),this.rdbService.buildFromRequestUUID(a)}postData(d,n,o,a){const r=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,u.n)(I=>{const O=Object.create({});let K=new R.Lr;K=K.append("Content-Type","application/json"),O.headers=K;let A=new R.Nl;A=A.append("target",d).append("correctionType",n),O.params=A;const S=new i.Qf(r,I,{reason:a},O);return(0,v.a4)(this.responseMsToLive)&&(S.responseMsToLive=this.responseMsToLive),this.requestService.send(S),this.rdbService.buildFromRequestUUID(r)}))}deleteQAEvent(d){return this.deleteData.delete(d.id)}static#t=this.\u0275fac=function(n){return new(n||f)(h.KVO(l.B),h.KVO(t.o),h.KVO(B.$),h.KVO(_.Y),h.KVO(C.I),h.KVO(E.Y))};static#e=this.\u0275prov=h.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},59517:(W,P,s)=>{s.r(P),s.d(P,{CorrectionTypeDataService:()=>m});var R=s(47947),e=s(79224),D=s(45122),u=s(99120),v=s(25718),C=s(2887),t=s(12350),M=s(36705),B=s(9843),L=s(25744),y=s(12007),T=s(53107);let m=(()=>{class g extends C.W{constructor(i,l,_,h,p){super("correctiontypes",i,l,_,h),this.requestService=i,this.rdbService=l,this.objectCache=_,this.halService=h,this.notificationsService=p,this.linkPath="correctiontypes",this.searchByTopic="findByTopic",this.searchFindByItem="findByItem",this.searchData=new t.X(this.linkPath,i,l,_,h,this.responseMsToLive)}getCorrectionTypeById(i,l=!0,_=!0){return this.findById(i,l,_)}findByItem(i,l){const _=new M._;return _.searchParams=[new u.x("uuid",i)],this.searchData.searchBy(this.searchFindByItem,_,l)}findByTopic(i,l=!0,_=!0){const h=new M._;return h.searchParams=[new u.x("topic",i)],this.searchData.searchBy(this.searchByTopic,h,l,_).pipe((0,y.Hz)(),(0,y.W8)(),(0,R.T)(p=>p[0]))}static#t=this.\u0275fac=function(l){return new(l||g)(T.KVO(B.B),T.KVO(D.o),T.KVO(v.$),T.KVO(L.Y),T.KVO(e.I))};static#e=this.\u0275prov=T.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},45830:(W,P,s)=>{s.d(P,{h:()=>u});var R=s(79224),e=s(53107),D=s(69685);let u=(()=>{class v{constructor(t,M){this.notificationsService=t,this.translateService=M}static msg(t){return"item.version.create.notification."+t}notifyCreateNewVersion(t){const M=t?.payload?.version;t.hasSucceeded?this.notificationsService.success(null,this.translateService.get(v.msg("success"),{version:M})):this.notificationsService.error(null,this.translateService.get(v.msg(422===t?.statusCode?"inProgress":"failure")))}static#t=this.\u0275fac=function(M){return new(M||v)(e.KVO(R.I),e.KVO(D.c$))};static#e=this.\u0275prov=e.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},89788:(W,P,s)=>{s.d(P,{L:()=>T});var R=s(54460),e=s(53107),D=s(10936),u=s(69685),v=s(71217),C=s(21548),t=s(2155);const M=m=>({version:m});function B(m,g){if(1&m&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&m){const E=e.XpG(2);e.R7$(),e.SpI(" ",e.i5U(2,1,"item.version.create.modal.text.startingFrom",e.eq3(4,M,E.versionNumber))," ")}}function L(m,g){if(1&m){const E=e.RV6();e.j41(0,"div")(1,"div",2),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",3),e.bIt("click",function(){e.eBV(E);const l=e.XpG();return e.Njj(l.onModalClose())}),e.j41(5,"span",4),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",5)(8,"p",6),e.EFF(9),e.nI1(10,"translate"),e.DNE(11,B,3,6,"span",7),e.k0s(),e.j41(12,"div",8)(13,"label",9),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",10),e.nI1(17,"translate"),e.mxI("ngModelChange",function(l){e.eBV(E);const _=e.XpG();return e.DH7(_.newVersionSummary,l)||(_.newVersionSummary=l),e.Njj(l)}),e.bIt("keyup.enter",function(){e.eBV(E);const l=e.XpG();return e.Njj(l.onModalSubmit())}),e.k0s()()(),e.j41(18,"div",11)(19,"button",12),e.nI1(20,"translate"),e.bIt("click",function(){e.eBV(E);const l=e.XpG();return e.Njj(l.onModalClose())}),e.nrm(21,"i",13),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"button",14),e.nI1(25,"translate"),e.bIt("click",function(){e.eBV(E);const l=e.XpG();return e.Njj(l.onModalSubmit())}),e.nrm(26,"i",15),e.EFF(27),e.nI1(28,"translate"),e.k0s()()()}if(2&m){const E=e.XpG();e.R7$(2),e.SpI("",e.bMT(3,10,"item.version.create.modal.header")," "),e.R7$(7),e.SpI(" ",e.bMT(10,12,"item.version.create.modal.text")," "),e.R7$(2),e.Y8G("ngIf",!E.firstVersion),e.R7$(3),e.SpI("",e.bMT(15,14,"item.version.create.modal.form.summary.label"),":"),e.R7$(2),e.FS9("placeholder",e.bMT(17,16,"item.version.create.modal.form.summary.placeholder")),e.R50("ngModel",E.newVersionSummary),e.R7$(3),e.FS9("title",e.bMT(20,18,"item.version.create.modal.button.cancel.tooltip")),e.R7$(3),e.SpI(" ",e.bMT(23,20,"item.version.create.modal.button.cancel")," "),e.R7$(2),e.FS9("title",e.bMT(25,22,"item.version.create.modal.button.confirm.tooltip")),e.R7$(3),e.SpI(" ",e.bMT(28,24,"item.version.create.modal.button.confirm")," ")}}function y(m,g){1&m&&(e.j41(0,"div",2),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"div",5)(4,"p"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",16),e.nrm(8,"ds-loading",17),e.k0s()()),2&m&&(e.R7$(),e.JRh(e.bMT(2,3,"item.version.create.modal.submitted.header")),e.R7$(4),e.JRh(e.bMT(6,5,"item.version.create.modal.submitted.text")),e.R7$(3),e.Y8G("showMessage",!1))}let T=(()=>{class m{constructor(E){this.activeModal=E,this.firstVersion=!0,this.createVersionEvent=new e.bkB}ngOnInit(){this.submitted$=new v.t(!1)}onModalClose(){this.activeModal.dismiss()}beforeDismiss(){return!this.submitted$.getValue()}onModalSubmit(){this.createVersionEvent.emit(this.newVersionSummary),this.submitted$.next(!0)}static#t=this.\u0275fac=function(i){return new(i||m)(e.rXU(t.Lw))};static#e=this.\u0275cmp=e.VBU({type:m,selectors:[["ds-item-versions-summary-modal"]],outputs:{createVersionEvent:"createVersionEvent"},standalone:!0,features:[e.aNF],decls:4,vars:4,consts:[["waiting",""],[4,"ngIf","ngIfElse"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"pb-2"],[4,"ngIf"],[1,"form-group"],["for","summary"],["type","text","id","summary",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],[1,"modal-footer","space-children-mr"],["type","button",1,"btn","btn-outline-secondary","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-times","fa-fw"],["type","submit",1,"btn","btn-success","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-check","fa-fw"],[1,"d-flex","justify-content-center"],[3,"showMessage"]],template:function(i,l){if(1&i&&(e.DNE(0,L,29,26,"div",1),e.nI1(1,"async"),e.DNE(2,y,9,7,"ng-template",null,0,e.C5r)),2&i){const _=e.sdS(3);e.Y8G("ngIf",!0!==e.bMT(1,2,l.submitted$))("ngIfElse",_)}},dependencies:[R.bT,D.YN,D.me,D.BC,D.vS,C.v,R.Jj,u.h,u.D9]})}return m})()},21362:(W,P,s)=>{s.d(P,{Ee:()=>d,el:()=>U,pc:()=>f});var R=s(37610),e=s(77304),D=s(17584),u=s(64064),v=s(12007),C=s(54460),t=s(53107),M=s(10936),B=s(69685),L=s(71217),y=s(21548),T=s(2155);function m(n,o){if(1&n){const a=t.RV6();t.j41(0,"div",13),t.EFF(1),t.nI1(2,"translate"),t.j41(3,"button",14),t.bIt("click",function(){t.eBV(a);const c=t.XpG(2);return t.Njj(c.onModalClose())}),t.j41(4,"span",15),t.EFF(5,"\xd7"),t.k0s()()()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"item.qa.withdrawn.modal.header")," "))}function g(n,o){if(1&n){const a=t.RV6();t.j41(0,"div"),t.DNE(1,m,6,3,"div",3),t.j41(2,"div",4)(3,"div",5)(4,"label",6),t.EFF(5),t.nI1(6,"translate"),t.nI1(7,"translate"),t.k0s(),t.j41(8,"label",6),t.EFF(9),t.nI1(10,"translate"),t.nI1(11,"translate"),t.k0s(),t.j41(12,"textarea",7),t.nI1(13,"translate"),t.nI1(14,"translate"),t.mxI("ngModelChange",function(c){t.eBV(a);const I=t.XpG();return t.DH7(I.reason,c)||(I.reason=c),t.Njj(c)}),t.k0s()()(),t.j41(15,"div",8)(16,"button",9),t.nI1(17,"translate"),t.bIt("click",function(){t.eBV(a);const c=t.XpG();return t.Njj(c.onModalClose())}),t.nrm(18,"i",10),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.j41(21,"button",11),t.nI1(22,"translate"),t.bIt("click",function(){t.eBV(a);const c=t.XpG();return t.Njj(c.onModalSubmit())}),t.nrm(23,"i",12),t.EFF(24),t.nI1(25,"translate"),t.nI1(26,"translate"),t.k0s()()()}if(2&n){const a=t.XpG(),r=t.sdS(5);t.R7$(),t.Y8G("ngIf",a.canWithdraw)("ngIfElse",r),t.R7$(4),t.JRh(a.canWithdraw?t.bMT(6,10,"qa-withdrawn.create.modal.form.summary.label"):t.bMT(7,12,"qa-reinstate.create.modal.form.summary.label")),t.R7$(4),t.JRh(a.canWithdraw?t.bMT(10,14,"qa-withdrawn.create.modal.form.summary2.label"):t.bMT(11,16,"qa-reinstate.create.modal.form.summary2.label")),t.R7$(3),t.FS9("placeholder",a.canWithdraw?t.bMT(13,18,"qa-withdrown.modal.form.summary.placeholder"):t.bMT(14,20,"qa-reinstate.modal.form.summary.placeholder")),t.R50("ngModel",a.reason),t.R7$(4),t.FS9("title",t.bMT(17,22,"item.qa.withdrawn-reinstate.create.modal.button.cancel.tooltip")),t.R7$(3),t.SpI(" ",t.bMT(20,24,"item.qa.withdrawn-reinstate.create.modal.button.cancel")," "),t.R7$(2),t.FS9("title",t.bMT(22,26,"item.qa.withdrawn-reinstate.modal.button.confirm.tooltip")),t.R7$(3),t.SpI(" ",a.canWithdraw?t.bMT(25,28,"qa-withdrown.create.modal.button.confirm"):t.bMT(26,30,"qa-reinstate.create.modal.button.confirm")," ")}}function E(n,o){1&n&&(t.j41(0,"div",13),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"div",4)(4,"div",16),t.nrm(5,"ds-loading",17),t.k0s()()),2&n&&(t.R7$(),t.JRh(t.bMT(2,2,"item.qa.withdrawn.modal.submitted.header")),t.R7$(4),t.Y8G("showMessage",!1))}function i(n,o){if(1&n){const a=t.RV6();t.j41(0,"div",13),t.EFF(1),t.nI1(2,"translate"),t.j41(3,"button",14),t.bIt("click",function(){t.eBV(a);const c=t.XpG(2);return t.Njj(c.onModalClose())}),t.j41(4,"span",15),t.EFF(5,"\xd7"),t.k0s()()()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"item.qa.reinstate.modal.header")," "))}function l(n,o){if(1&n&&t.DNE(0,i,6,3,"div",18),2&n){const a=t.XpG();t.Y8G("ngIf",!a.canWithdraw)}}let _=(()=>{class n{constructor(a,r){this.activeModal=a,this.authorizationService=r,this.submitted$=new L.t(!1),this.createQAEvent=new t.bkB}onModalClose(){this.activeModal.close()}beforeDismiss(){return!this.submitted$.getValue()}onModalSubmit(){this.submitted$.next(!0),this.createQAEvent.emit(this.reason)}setWithdraw(a){this.canWithdraw=a}static#t=this.\u0275fac=function(r){return new(r||n)(t.rXU(T.Lw),t.rXU(e.AuthorizationDataService))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["ds-item-withdrawn-reinstate-modal"]],outputs:{createQAEvent:"createQAEvent"},standalone:!0,features:[t.aNF],decls:6,vars:4,consts:[["waiting",""],["reinstateHeader",""],[4,"ngIf","ngIfElse"],["class","modal-header",4,"ngIf","ngIfElse"],[1,"modal-body"],[1,"form-group"],["for","reason"],["id","reason","rows","6","name","message",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"modal-footer","space-children-mr"],["type","button",1,"btn","btn-outline-secondary","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-times","fa-fw"],["type","submit",1,"btn","btn-success","btn-sm","ml-0",3,"click","title"],[1,"fas","fa-check","fa-fw"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"d-flex","justify-content-center"],[3,"showMessage"],["class","modal-header",4,"ngIf"]],template:function(r,c){if(1&r&&(t.DNE(0,g,27,32,"div",2),t.nI1(1,"async"),t.DNE(2,E,6,4,"ng-template",null,0,t.C5r)(4,l,1,1,"ng-template",null,1,t.C5r)),2&r){const I=t.sdS(3);t.Y8G("ngIf",!0!==t.bMT(1,2,c.submitted$))("ngIfElse",I)}},dependencies:[C.bT,B.h,B.D9,y.v,M.YN,M.me,M.BC,M.vS,C.Jj]})}return n})();var h=s(79224),p=s(95968);const f="REQUEST/WITHDRAWN",U="REQUEST/REINSTATE";let d=(()=>{class n{constructor(a,r,c,I,O,K,A){this.router=a,this.modalService=r,this.itemService=c,this.notificationsService=I,this.authorizationService=O,this.translateService=K,this.qaEventDataService=A}openCreateWithdrawnReinstateModal(a,r,c){const I=a.id,O=this.modalService.open(_);O.componentInstance.setWithdraw(c),O.componentInstance.createQAEvent.pipe((0,R.s)(1)).subscribe(K=>{this.sendQARequest(I,r,K),O.close()})}sendQARequest(a,r,c){this.qaEventDataService.postData(a,r,"",c).pipe((0,v.qD)()).subscribe(I=>{I.hasSucceeded?(this.notificationsService.success(this.translateService.get("request-withdrawn"===r?"correction-type.manage-relation.action.notification.withdrawn":"correction-type.manage-relation.action.notification.reinstate")),this.authorizationService.invalidateAuthorizationsRequestCache(),this.reloadPage(!0)):this.notificationsService.error(this.translateService.get("correction-type.manage-relation.action.notification.error"))})}reloadPage(a,r){const c=a?this.router.url:r;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([`/${c}`])})}static#t=this.\u0275fac=function(r){return new(r||n)(t.KVO(p.Ix),t.KVO(T.Bq),t.KVO(D.ItemDataService),t.KVO(h.I),t.KVO(e.AuthorizationDataService),t.KVO(B.c$),t.KVO(u.QualityAssuranceEventDataService))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()}}]);