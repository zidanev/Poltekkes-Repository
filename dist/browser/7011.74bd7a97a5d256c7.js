(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[7011],{242:(h,c,o)=>{"use strict";o.r(c),o.d(c,{ForgotEmailComponent:()=>s});var m=o(23080),n=o(24866),a=o(53107);let s=(()=>{class d{constructor(){this.typeRequest=n.TYPE_REQUEST_FORGOT}static#t=this.\u0275fac=function(u){return new(u||d)};static#o=this.\u0275cmp=a.VBU({type:d,selectors:[["ds-base-forgot-email"]],standalone:!0,features:[a.aNF],decls:1,vars:2,consts:[[3,"MESSAGE_PREFIX","typeRequest"]],template:function(u,E){1&u&&a.nrm(0,"ds-register-email-form",0),2&u&&a.Y8G("MESSAGE_PREFIX","forgot-email.form")("typeRequest",E.typeRequest)},dependencies:[m.I]})}return d})()},2852:(h,c,o)=>{"use strict";o.r(c),o.d(c,{ForgotPasswordFormComponent:()=>I});var m=o(54460),n=o(69685),a=o(47947),s=o(7186),d=o(31363),l=o(12007),g=o(16840),u=o(79224),E=o(75911),t=o(53107),P=o(73958),F=o(95968);function i(r,_){if(1&r){const e=t.RV6();t.j41(0,"div",1)(1,"h1",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",3)(5,"div",4),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div",5)(9,"div",6)(10,"div",7)(11,"span",8),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"span"),t.nI1(15,"dsBrowserOnly"),t.EFF(16),t.nI1(17,"async"),t.k0s()()()()(),t.j41(18,"div",3)(19,"div",4),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.j41(22,"div",5)(23,"ds-profile-page-security-form",9),t.bIt("isInvalid",function(f){t.eBV(e);const v=t.XpG();return t.Njj(v.setInValid(f))})("passwordValue",function(f){t.eBV(e);const v=t.XpG();return t.Njj(v.setPasswordValue(f))}),t.k0s()()(),t.j41(24,"div",6)(25,"div",7)(26,"button",10),t.bIt("click",function(){t.eBV(e);const f=t.XpG();return t.Njj(f.submit())}),t.EFF(27),t.nI1(28,"translate"),t.k0s()()()()}if(2&r){const e=t.XpG();t.R7$(2),t.JRh(t.bMT(3,10,"forgot-password.form.head")),t.R7$(4),t.JRh(t.bMT(7,12,"forgot-password.form.identification.header")),t.R7$(6),t.SpI("",t.bMT(13,14,"forgot-password.form.identification.email")," "),t.R7$(2),t.BMQ("data-test",t.bMT(15,16,"email")),t.R7$(2),t.JRh(t.bMT(17,18,e.registration$).email),t.R7$(4),t.JRh(t.bMT(21,20,"forgot-password.form.card.security")),t.R7$(3),t.Y8G("passwordCanBeEmpty",!1)("FORM_PREFIX","forgot-password.form."),t.R7$(3),t.Y8G("disabled",e.isInValid),t.R7$(),t.JRh(t.bMT(28,22,"forgot-password.form.submit"))}}let I=(()=>{class r{constructor(e,p,f,v,T,C){this.ePersonDataService=e,this.translateService=p,this.notificationsService=f,this.store=v,this.router=T,this.route=C,this.isInValid=!0,this.NOTIFICATIONS_PREFIX="forgot-password.form.notification"}ngOnInit(){this.registration$=this.route.data.pipe((0,a.T)(e=>e.registration),(0,l.ak)()),this.registration$.subscribe(e=>{this.email=e.email,this.token=e.token,this.user=e.user})}setInValid(e){this.isInValid=e}setPasswordValue(e){this.password=e}submit(){this.isInValid||this.ePersonDataService.patchPasswordWithToken(this.user,this.token,this.password).pipe((0,l.qD)()).subscribe(e=>{e.hasSucceeded?(this.notificationsService.success(this.translateService.instant(this.NOTIFICATIONS_PREFIX+".success.title"),this.translateService.instant(this.NOTIFICATIONS_PREFIX+".success.content")),this.store.dispatch(new s.Sn(this.email,this.password)),this.router.navigate(["/home"])):this.notificationsService.error(this.translateService.instant(this.NOTIFICATIONS_PREFIX+".error.title"),e.errorMessage)})}static#t=this.\u0275fac=function(p){return new(p||r)(t.rXU(d.EPersonDataService),t.rXU(n.c$),t.rXU(u.I),t.rXU(P.il),t.rXU(F.Ix),t.rXU(F.nX))};static#o=this.\u0275cmp=t.VBU({type:r,selectors:[["ds-base-forgot-password-form"]],standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mb-4"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12"],[1,"font-weight-bold"],[3,"isInvalid","passwordValue","passwordCanBeEmpty","FORM_PREFIX"],[1,"btn","btn-default","btn-primary",3,"click","disabled"]],template:function(p,f){1&p&&(t.DNE(0,i,29,24,"div",0),t.nI1(1,"async")),2&p&&t.Y8G("ngIf",t.bMT(1,1,f.registration$))},dependencies:[n.h,n.D9,E.L,g.q,m.Jj,m.bT]})}return r})()},57011:(h,c,o)=>{"use strict";o.r(c),o.d(c,{ROUTES:()=>F});var m=o(90784),n=o(21124),s=(o(242),o(53107));const d=["*"];function l(i,I){}let g=(()=>{class i extends n.J{getComponentName(){return"ForgotEmailComponent"}importThemedComponent(r){return o(67646)(`./${r}/app/forgot-password/forgot-password-email/forgot-email.component`)}importUnthemedComponent(){return Promise.resolve().then(o.bind(o,242))}static#t=this.\u0275fac=(()=>{let r;return function(e){return(r||(r=s.xGo(i)))(e||i)}})();static#o=this.\u0275cmp=s.VBU({type:i,selectors:[["ds-forgot-email"]],standalone:!0,features:[s.Vt3,s.aNF],ngContentSelectors:d,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,e){1&_&&(s.NAR(),s.DNE(0,l,0,0,"ng-template",null,0,s.C5r),s.j41(2,"div",null,1),s.SdG(4),s.k0s())},encapsulation:2})}return i})();o(2852);const E=["*"];function t(i,I){}const F=[{path:"",component:g,data:{title:"forgot-password.title"}},{path:":token",component:(()=>{class i extends n.J{getComponentName(){return"ForgotPasswordFormComponent"}importThemedComponent(r){return o(15706)(`./${r}/app/forgot-password/forgot-password-form/forgot-password-form.component`)}importUnthemedComponent(){return Promise.resolve().then(o.bind(o,2852))}static#t=this.\u0275fac=(()=>{let r;return function(e){return(r||(r=s.xGo(i)))(e||i)}})();static#o=this.\u0275cmp=s.VBU({type:i,selectors:[["ds-forgot-password-form"]],standalone:!0,features:[s.Vt3,s.aNF],ngContentSelectors:E,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,e){1&_&&(s.NAR(),s.DNE(0,t,0,0,"ng-template",null,0,s.C5r),s.j41(2,"div",null,1),s.SdG(4),s.k0s())},encapsulation:2})}return i})(),canActivate:[m.r]}]},67646:(h,c,o)=>{var m={"./custom/app/forgot-password/forgot-password-email/forgot-email.component":[62547,2547]};function n(a){if(!o.o(m,a))return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l});var s=m[a],d=s[0];return o.e(s[1]).then(()=>o(d))}n.keys=()=>Object.keys(m),n.id=67646,h.exports=n},15706:(h,c,o)=>{var m={"./custom/app/forgot-password/forgot-password-form/forgot-password-form.component":[31539,1539]};function n(a){if(!o.o(m,a))return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l});var s=m[a],d=s[0];return o.e(s[1]).then(()=>o(d))}n.keys=()=>Object.keys(m),n.id=15706,h.exports=n}}]);