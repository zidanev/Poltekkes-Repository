"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[7286],{17286:(x,l,s)=>{s.r(l),s.d(l,{DsoEditMetadataComponent:()=>j});var _=s(54460),r=s(69685),c=s(12086),m=s(18617),p=s(55933),u=s(50277),b=s(11509),f=s(65789),v=s(96858),T=s(21548),t=s(53107);function g(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",20),t.nI1(1,"async"),t.nI1(2,"translate"),t.bIt("click",function(){t.eBV(e);const d=t.XpG(2);return t.Njj(d.reinstate())}),t.nrm(3,"i",21),t.j41(4,"span",6),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}if(2&a){const e=t.XpG(2);t.Y8G("disabled",t.bMT(1,3,e.saving$))("title",t.bMT(2,5,e.dsoType+".edit.metadata.reinstate-button")),t.R7$(5),t.SpI("\xa0",t.bMT(6,7,e.dsoType+".edit.metadata.reinstate-button"),"")}}function M(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",22),t.nI1(1,"translate"),t.nI1(2,"async"),t.bIt("click",function(){t.eBV(e);const d=t.XpG(2);return t.Njj(d.discard())}),t.nrm(3,"i",23),t.j41(4,"span",6),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}if(2&a){const e=t.XpG(2);t.Y8G("title",t.bMT(1,3,e.dsoType+".edit.metadata.discard-button"))("disabled",!e.hasChanges||t.bMT(2,5,e.saving$)),t.R7$(5),t.SpI("\xa0",t.bMT(6,7,e.dsoType+".edit.metadata.discard-button"),"")}}function E(a,i){if(1&a){const e=t.RV6();t.j41(0,"div",24)(1,"div",25)(2,"ds-metadata-field-selector",26),t.mxI("mdFieldChange",function(d){t.eBV(e);const o=t.XpG(2);return t.DH7(o.newMdField,d)||(o.newMdField=d),t.Njj(d)}),t.k0s()(),t.j41(3,"div",27)(4,"div",11),t.nrm(5,"ds-dso-edit-metadata-value-headers",28),t.j41(6,"ds-dso-edit-metadata-value",29),t.bIt("confirm",function(d){t.eBV(e);const o=t.XpG(2);return t.Njj(o.confirmNewValue(d))})("remove",function(){t.eBV(e);const d=t.XpG(2);return t.Njj(d.form.newValue=void 0)})("undo",function(){t.eBV(e);const d=t.XpG(2);return t.Njj(d.form.newValue=void 0)}),t.k0s()()()()}if(2&a){const e=t.XpG(2);t.R7$(2),t.Y8G("dsoType",e.dsoType),t.R50("mdField",e.newMdField),t.Y8G("autofocus",!0),t.R7$(3),t.Y8G("dsoType",e.dsoType),t.R7$(),t.Y8G("dso",e.dso)("mdValue",e.form.newValue)("dsoType",e.dsoType)("saving$",e.savingOrLoadingFieldValidation$)("isOnlyValue",!0)("mdField",e.newMdField)}}function I(a,i){if(1&a){const e=t.RV6();t.j41(0,"div",34),t.bIt("click",function(){t.eBV(e);const d=t.XpG().$implicit,o=t.XpG(2);return o.form.resetOrder(d),t.Njj(o.onValueSaved())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&a){const e=t.XpG(3);t.R7$(),t.SpI(" ",t.bMT(2,1,e.dsoType+".edit.metadata.reset-order-button")," ")}}function D(a,i){if(1&a){const e=t.RV6();t.j41(0,"div",24)(1,"div",30)(2,"span",31),t.EFF(3),t.k0s(),t.DNE(4,I,3,3,"div",32),t.k0s(),t.j41(5,"ds-dso-edit-metadata-field-values",33),t.bIt("valueSaved",function(){t.eBV(e);const d=t.XpG(2);return t.Njj(d.onValueSaved())}),t.k0s()()}if(2&a){const e=i.$implicit,n=t.XpG(2);t.R7$(3),t.JRh(e),t.R7$(),t.Y8G("ngIf",n.form.hasOrderChanges(e)),t.R7$(),t.Y8G("dso",n.dso)("form",n.form)("dsoType",n.dsoType)("saving$",n.saving$)("draggingMdField$",n.draggingMdField$)("mdField",e)}}function y(a,i){if(1&a&&(t.j41(0,"div"),t.nrm(1,"ds-alert",35),t.k0s()),2&a){const e=t.XpG(2);t.R7$(),t.Y8G("content",e.dsoType+".edit.metadata.empty")("type",e.AlertTypeEnum.Info)}}function C(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",36),t.nI1(1,"async"),t.nI1(2,"translate"),t.bIt("click",function(){t.eBV(e);const d=t.XpG(2);return t.Njj(d.reinstate())}),t.nrm(3,"i",21),t.EFF(4),t.nI1(5,"translate"),t.k0s()}if(2&a){const e=t.XpG(2);t.Y8G("disabled",t.bMT(1,3,e.saving$))("title",t.bMT(2,5,e.dsoType+".edit.metadata.reinstate-button")),t.R7$(4),t.SpI(" ",t.bMT(5,7,e.dsoType+".edit.metadata.reinstate-button")," ")}}function R(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",37),t.nI1(1,"translate"),t.nI1(2,"async"),t.bIt("click",function(){t.eBV(e);const d=t.XpG(2);return t.Njj(d.discard())}),t.nrm(3,"i",23),t.EFF(4),t.nI1(5,"translate"),t.k0s()}if(2&a){const e=t.XpG(2);t.Y8G("title",t.bMT(1,3,e.dsoType+".edit.metadata.discard-button"))("disabled",!e.hasChanges||t.bMT(2,5,e.saving$)),t.R7$(4),t.SpI(" ",t.bMT(5,7,e.dsoType+".edit.metadata.discard-button")," ")}}function h(a,i){if(1&a){const e=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"button",4),t.nI1(3,"async"),t.nI1(4,"translate"),t.bIt("click",function(){t.eBV(e);const d=t.XpG();return t.Njj(d.add())}),t.nrm(5,"i",5),t.j41(6,"span",6),t.EFF(7),t.nI1(8,"translate"),t.k0s()(),t.DNE(9,g,7,9,"button",7),t.j41(10,"button",8),t.nI1(11,"async"),t.nI1(12,"translate"),t.bIt("click",function(){t.eBV(e);const d=t.XpG();return t.Njj(d.submit())}),t.nrm(13,"i",9),t.j41(14,"span",6),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.DNE(17,M,7,9,"button",10),t.k0s(),t.j41(18,"div",11),t.nI1(19,"translate"),t.nrm(20,"ds-dso-edit-metadata-headers",12),t.DNE(21,E,7,10,"div",13)(22,D,6,8,"div",14),t.k0s(),t.DNE(23,y,2,2,"div",1),t.j41(24,"div",15)(25,"div",16),t.DNE(26,C,6,9,"button",17),t.j41(27,"button",18),t.nI1(28,"async"),t.nI1(29,"translate"),t.bIt("click",function(){t.eBV(e);const d=t.XpG();return t.Njj(d.submit())}),t.nrm(30,"i",9),t.EFF(31),t.nI1(32,"translate"),t.k0s(),t.DNE(33,R,6,9,"button",19),t.k0s()()()}if(2&a){const e=t.XpG();t.R7$(2),t.Y8G("disabled",e.form.newValue||t.bMT(3,18,e.saving$))("title",t.bMT(4,20,e.dsoType+".edit.metadata.add-button")),t.R7$(5),t.SpI("\xa0",t.bMT(8,22,e.dsoType+".edit.metadata.add-button"),""),t.R7$(2),t.Y8G("ngIf",e.isReinstatable),t.R7$(),t.Y8G("disabled",!e.hasChanges||t.bMT(11,24,e.saving$))("title",t.bMT(12,26,e.dsoType+".edit.metadata.save-button")),t.R7$(5),t.SpI("\xa0",t.bMT(16,28,e.dsoType+".edit.metadata.save-button"),""),t.R7$(2),t.Y8G("ngIf",!e.isReinstatable),t.R7$(),t.BMQ("aria-label",t.bMT(19,30,"item.edit.head")),t.R7$(2),t.Y8G("dsoType",e.dsoType),t.R7$(),t.Y8G("ngIf",e.form.newValue),t.R7$(),t.Y8G("ngForOf",e.form.fieldKeys),t.R7$(),t.Y8G("ngIf",e.isEmpty&&!e.form.newValue),t.R7$(3),t.Y8G("ngIf",e.isReinstatable),t.R7$(),t.Y8G("disabled",!e.hasChanges||t.bMT(28,32,e.saving$))("title",t.bMT(29,34,e.dsoType+".edit.metadata.save-button")),t.R7$(4),t.SpI(" ",t.bMT(32,36,e.dsoType+".edit.metadata.save-button")," "),t.R7$(2),t.Y8G("ngIf",!e.isReinstatable)}}function G(a,i){1&a&&t.nrm(0,"ds-loading")}let j=(()=>{class a extends c.DsoEditMetadataComponent{static#t=this.\u0275fac=(()=>{let e;return function(d){return(e||(e=t.xGo(a)))(d||a)}})();static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["ds-themed-dso-edit-metadata"]],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:2,consts:[["class","item-metadata",4,"ngIf"],[4,"ngIf"],[1,"item-metadata"],[1,"button-row","top","d-flex","my-2","space-children-mr","ml-gap"],["id","dso-add-btn",1,"mr-auto","btn","btn-success",3,"click","disabled","title"],["aria-hidden","true",1,"fas","fa-plus"],[1,"d-none","d-sm-inline"],["class","btn btn-warning ml-1","id","dso-reinstate-btn",3,"disabled","title","click",4,"ngIf"],["id","dso-save-btn",1,"btn","btn-primary","ml-1",3,"click","disabled","title"],["aria-hidden","true",1,"fas","fa-save"],["class","btn btn-danger ml-1","id","dso-discard-btn",3,"title","disabled","click",4,"ngIf"],["role","table"],[3,"dsoType"],["class","d-flex flex-row ds-field-row","role","row",4,"ngIf"],["class","d-flex flex-row ds-field-row","role","row",4,"ngFor","ngForOf"],[1,"button-row","bottom","d-inline-block","w-100"],[1,"mt-2","float-right","space-children-mr","ml-gap"],["class","btn btn-warning",3,"disabled","title","click",4,"ngIf"],[1,"btn","btn-primary",3,"click","disabled","title"],["class","btn btn-danger",3,"title","disabled","click",4,"ngIf"],["id","dso-reinstate-btn",1,"btn","btn-warning","ml-1",3,"click","disabled","title"],["aria-hidden","true",1,"fas","fa-undo-alt"],["id","dso-discard-btn",1,"btn","btn-danger","ml-1",3,"click","title","disabled"],["aria-hidden","true",1,"fas","fa-times"],["role","row",1,"d-flex","flex-row","ds-field-row"],["role","rowheader",1,"lbl-cell","ds-success"],[3,"mdFieldChange","dsoType","mdField","autofocus"],["role","cell",1,"flex-grow-1","ds-drop-list"],["role","presentation",3,"dsoType"],[3,"confirm","remove","undo","dso","mdValue","dsoType","saving$","isOnlyValue","mdField"],["role","rowheader",1,"lbl-cell"],[1,"dont-break-out","preserve-line-breaks"],["class","btn btn-warning reset-order-button mt-2 w-100",3,"click",4,"ngIf"],["role","cell",1,"flex-grow-1",3,"valueSaved","dso","form","dsoType","saving$","draggingMdField$","mdField"],[1,"btn","btn-warning","reset-order-button","mt-2","w-100",3,"click"],[3,"content","type"],[1,"btn","btn-warning",3,"click","disabled","title"],[1,"btn","btn-danger",3,"click","title","disabled"]],template:function(n,d){1&n&&t.DNE(0,h,34,38,"div",0)(1,G,1,0,"ds-loading",1),2&n&&(t.Y8G("ngIf",d.form),t.R7$(),t.Y8G("ngIf",!d.form))},dependencies:[_.bT,p.L,f.g,b.c,u.o,_.pM,m.t,v.C,T.v,_.Jj,r.h,r.D9],styles:[".lbl-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-field-width);max-width:var(--ds-dso-edit-field-width);background-color:var(--bs-gray-100);font-weight:700;padding:1rem;border:1px solid var(--bs-gray-200)}.lbl-cell.ds-success[_ngcontent-%COMP%]{background-color:var(--ds-success-bg);border:1px solid var(--bs-success)}.ds-field-row[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-400)}.reset-order-button[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return a})()}}]);